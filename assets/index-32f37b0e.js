var uC=Object.defineProperty;var cC=(t,e,r)=>e in t?uC(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var Le=(t,e,r)=>(cC(t,typeof e!="symbol"?e+"":e,r),r);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var oy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function A7(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var I7={exports:{}},yh={},L7={exports:{}},pt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yc=Symbol.for("react.element"),fC=Symbol.for("react.portal"),dC=Symbol.for("react.fragment"),hC=Symbol.for("react.strict_mode"),pC=Symbol.for("react.profiler"),gC=Symbol.for("react.provider"),mC=Symbol.for("react.context"),vC=Symbol.for("react.forward_ref"),yC=Symbol.for("react.suspense"),xC=Symbol.for("react.memo"),bC=Symbol.for("react.lazy"),w5=Symbol.iterator;function wC(t){return t===null||typeof t!="object"?null:(t=w5&&t[w5]||t["@@iterator"],typeof t=="function"?t:null)}var R7={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O7=Object.assign,N7={};function Vl(t,e,r){this.props=t,this.context=e,this.refs=N7,this.updater=r||R7}Vl.prototype.isReactComponent={};Vl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Vl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function z7(){}z7.prototype=Vl.prototype;function ly(t,e,r){this.props=t,this.context=e,this.refs=N7,this.updater=r||R7}var uy=ly.prototype=new z7;uy.constructor=ly;O7(uy,Vl.prototype);uy.isPureReactComponent=!0;var _5=Array.isArray,B7=Object.prototype.hasOwnProperty,cy={current:null},F7={key:!0,ref:!0,__self:!0,__source:!0};function $7(t,e,r){var n,i={},a=null,s=null;if(e!=null)for(n in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(a=""+e.key),e)B7.call(e,n)&&!F7.hasOwnProperty(n)&&(i[n]=e[n]);var o=arguments.length-2;if(o===1)i.children=r;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(n in o=t.defaultProps,o)i[n]===void 0&&(i[n]=o[n]);return{$$typeof:Yc,type:t,key:a,ref:s,props:i,_owner:cy.current}}function _C(t,e){return{$$typeof:Yc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function fy(t){return typeof t=="object"&&t!==null&&t.$$typeof===Yc}function SC(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var S5=/\/+/g;function Xp(t,e){return typeof t=="object"&&t!==null&&t.key!=null?SC(""+t.key):e.toString(36)}function Lf(t,e,r,n,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(a){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case Yc:case fC:s=!0}}if(s)return s=t,i=i(s),t=n===""?"."+Xp(s,0):n,_5(i)?(r="",t!=null&&(r=t.replace(S5,"$&/")+"/"),Lf(i,e,r,"",function(u){return u})):i!=null&&(fy(i)&&(i=_C(i,r+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(S5,"$&/")+"/")+t)),e.push(i)),1;if(s=0,n=n===""?".":n+":",_5(t))for(var o=0;o<t.length;o++){a=t[o];var l=n+Xp(a,o);s+=Lf(a,e,r,l,i)}else if(l=wC(t),typeof l=="function")for(t=l.call(t),o=0;!(a=t.next()).done;)a=a.value,l=n+Xp(a,o++),s+=Lf(a,e,r,l,i);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function R0(t,e,r){if(t==null)return t;var n=[],i=0;return Lf(t,n,"","",function(a){return e.call(r,a,i++)}),n}function kC(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var wn={current:null},Rf={transition:null},TC={ReactCurrentDispatcher:wn,ReactCurrentBatchConfig:Rf,ReactCurrentOwner:cy};pt.Children={map:R0,forEach:function(t,e,r){R0(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return R0(t,function(){e++}),e},toArray:function(t){return R0(t,function(e){return e})||[]},only:function(t){if(!fy(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};pt.Component=Vl;pt.Fragment=dC;pt.Profiler=pC;pt.PureComponent=ly;pt.StrictMode=hC;pt.Suspense=yC;pt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=TC;pt.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=O7({},t.props),i=t.key,a=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,s=cy.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)B7.call(e,l)&&!F7.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];n.children=o}return{$$typeof:Yc,type:t.type,key:i,ref:a,props:n,_owner:s}};pt.createContext=function(t){return t={$$typeof:mC,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:gC,_context:t},t.Consumer=t};pt.createElement=$7;pt.createFactory=function(t){var e=$7.bind(null,t);return e.type=t,e};pt.createRef=function(){return{current:null}};pt.forwardRef=function(t){return{$$typeof:vC,render:t}};pt.isValidElement=fy;pt.lazy=function(t){return{$$typeof:bC,_payload:{_status:-1,_result:t},_init:kC}};pt.memo=function(t,e){return{$$typeof:xC,type:t,compare:e===void 0?null:e}};pt.startTransition=function(t){var e=Rf.transition;Rf.transition={};try{t()}finally{Rf.transition=e}};pt.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};pt.useCallback=function(t,e){return wn.current.useCallback(t,e)};pt.useContext=function(t){return wn.current.useContext(t)};pt.useDebugValue=function(){};pt.useDeferredValue=function(t){return wn.current.useDeferredValue(t)};pt.useEffect=function(t,e){return wn.current.useEffect(t,e)};pt.useId=function(){return wn.current.useId()};pt.useImperativeHandle=function(t,e,r){return wn.current.useImperativeHandle(t,e,r)};pt.useInsertionEffect=function(t,e){return wn.current.useInsertionEffect(t,e)};pt.useLayoutEffect=function(t,e){return wn.current.useLayoutEffect(t,e)};pt.useMemo=function(t,e){return wn.current.useMemo(t,e)};pt.useReducer=function(t,e,r){return wn.current.useReducer(t,e,r)};pt.useRef=function(t){return wn.current.useRef(t)};pt.useState=function(t){return wn.current.useState(t)};pt.useSyncExternalStore=function(t,e,r){return wn.current.useSyncExternalStore(t,e,r)};pt.useTransition=function(){return wn.current.useTransition()};pt.version="18.2.0";L7.exports=pt;var Q=L7.exports;const dt=A7(Q);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EC=Q,CC=Symbol.for("react.element"),MC=Symbol.for("react.fragment"),PC=Object.prototype.hasOwnProperty,DC=EC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,AC={key:!0,ref:!0,__self:!0,__source:!0};function j7(t,e,r){var n,i={},a=null,s=null;r!==void 0&&(a=""+r),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(s=e.ref);for(n in e)PC.call(e,n)&&!AC.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:CC,type:t,key:a,ref:s,props:i,_owner:DC.current}}yh.Fragment=MC;yh.jsx=j7;yh.jsxs=j7;I7.exports=yh;var z=I7.exports,hv={},q7={exports:{}},Wn={},H7={exports:{}},V7={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(H,ee){var re=H.length;H.push(ee);e:for(;0<re;){var G=re-1>>>1,Z=H[G];if(0<i(Z,ee))H[G]=ee,H[re]=Z,re=G;else break e}}function r(H){return H.length===0?null:H[0]}function n(H){if(H.length===0)return null;var ee=H[0],re=H.pop();if(re!==ee){H[0]=re;e:for(var G=0,Z=H.length,ue=Z>>>1;G<ue;){var pe=2*(G+1)-1,ge=H[pe],fe=pe+1,Se=H[fe];if(0>i(ge,re))fe<Z&&0>i(Se,ge)?(H[G]=Se,H[fe]=re,G=fe):(H[G]=ge,H[pe]=re,G=pe);else if(fe<Z&&0>i(Se,re))H[G]=Se,H[fe]=re,G=fe;else break e}}return ee}function i(H,ee){var re=H.sortIndex-ee.sortIndex;return re!==0?re:H.id-ee.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();t.unstable_now=function(){return s.now()-o}}var l=[],u=[],c=1,f=null,d=3,p=!1,g=!1,y=!1,b=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(H){for(var ee=r(u);ee!==null;){if(ee.callback===null)n(u);else if(ee.startTime<=H)n(u),ee.sortIndex=ee.expirationTime,e(l,ee);else break;ee=r(u)}}function k(H){if(y=!1,_(H),!g)if(r(l)!==null)g=!0,K(T);else{var ee=r(u);ee!==null&&W(k,ee.startTime-H)}}function T(H,ee){g=!1,y&&(y=!1,x(A),A=-1),p=!0;var re=d;try{for(_(ee),f=r(l);f!==null&&(!(f.expirationTime>ee)||H&&!N());){var G=f.callback;if(typeof G=="function"){f.callback=null,d=f.priorityLevel;var Z=G(f.expirationTime<=ee);ee=t.unstable_now(),typeof Z=="function"?f.callback=Z:f===r(l)&&n(l),_(ee)}else n(l);f=r(l)}if(f!==null)var ue=!0;else{var pe=r(u);pe!==null&&W(k,pe.startTime-ee),ue=!1}return ue}finally{f=null,d=re,p=!1}}var P=!1,M=null,A=-1,L=5,R=-1;function N(){return!(t.unstable_now()-R<L)}function F(){if(M!==null){var H=t.unstable_now();R=H;var ee=!0;try{ee=M(!0,H)}finally{ee?$():(P=!1,M=null)}}else P=!1}var $;if(typeof w=="function")$=function(){w(F)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,X=V.port2;V.port1.onmessage=F,$=function(){X.postMessage(null)}}else $=function(){b(F,0)};function K(H){M=H,P||(P=!0,$())}function W(H,ee){A=b(function(){H(t.unstable_now())},ee)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(H){H.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,K(T))},t.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<H?Math.floor(1e3/H):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(H){switch(d){case 1:case 2:case 3:var ee=3;break;default:ee=d}var re=d;d=ee;try{return H()}finally{d=re}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(H,ee){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var re=d;d=H;try{return ee()}finally{d=re}},t.unstable_scheduleCallback=function(H,ee,re){var G=t.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?G+re:G):re=G,H){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=re+Z,H={id:c++,callback:ee,priorityLevel:H,startTime:re,expirationTime:Z,sortIndex:-1},re>G?(H.sortIndex=re,e(u,H),r(l)===null&&H===r(u)&&(y?(x(A),A=-1):y=!0,W(k,re-G))):(H.sortIndex=Z,e(l,H),g||p||(g=!0,K(T))),H},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(H){var ee=d;return function(){var re=d;d=ee;try{return H.apply(this,arguments)}finally{d=re}}}})(V7);H7.exports=V7;var IC=H7.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U7=Q,Un=IC;function Ie(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var W7=new Set,uc={};function vo(t,e){Sl(t,e),Sl(t+"Capture",e)}function Sl(t,e){for(uc[t]=e,t=0;t<e.length;t++)W7.add(e[t])}var ha=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),pv=Object.prototype.hasOwnProperty,LC=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,k5={},T5={};function RC(t){return pv.call(T5,t)?!0:pv.call(k5,t)?!1:LC.test(t)?T5[t]=!0:(k5[t]=!0,!1)}function OC(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function NC(t,e,r,n){if(e===null||typeof e>"u"||OC(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function _n(t,e,r,n,i,a,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=s}var en={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){en[t]=new _n(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];en[e]=new _n(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){en[t]=new _n(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){en[t]=new _n(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){en[t]=new _n(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){en[t]=new _n(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){en[t]=new _n(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){en[t]=new _n(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){en[t]=new _n(t,5,!1,t.toLowerCase(),null,!1,!1)});var dy=/[\-:]([a-z])/g;function hy(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(dy,hy);en[e]=new _n(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(dy,hy);en[e]=new _n(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(dy,hy);en[e]=new _n(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){en[t]=new _n(t,1,!1,t.toLowerCase(),null,!1,!1)});en.xlinkHref=new _n("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){en[t]=new _n(t,1,!1,t.toLowerCase(),null,!0,!0)});function py(t,e,r,n){var i=en.hasOwnProperty(e)?en[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(NC(e,r,i,n)&&(r=null),n||i===null?RC(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var _a=U7.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,O0=Symbol.for("react.element"),Uo=Symbol.for("react.portal"),Wo=Symbol.for("react.fragment"),gy=Symbol.for("react.strict_mode"),gv=Symbol.for("react.profiler"),G7=Symbol.for("react.provider"),Y7=Symbol.for("react.context"),my=Symbol.for("react.forward_ref"),mv=Symbol.for("react.suspense"),vv=Symbol.for("react.suspense_list"),vy=Symbol.for("react.memo"),za=Symbol.for("react.lazy"),X7=Symbol.for("react.offscreen"),E5=Symbol.iterator;function cu(t){return t===null||typeof t!="object"?null:(t=E5&&t[E5]||t["@@iterator"],typeof t=="function"?t:null)}var fr=Object.assign,Kp;function Iu(t){if(Kp===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Kp=e&&e[1]||""}return`
`+Kp+t}var Zp=!1;function Qp(t,e){if(!t||Zp)return"";Zp=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),a=n.stack.split(`
`),s=i.length-1,o=a.length-1;1<=s&&0<=o&&i[s]!==a[o];)o--;for(;1<=s&&0<=o;s--,o--)if(i[s]!==a[o]){if(s!==1||o!==1)do if(s--,o--,0>o||i[s]!==a[o]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=o);break}}}finally{Zp=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Iu(t):""}function zC(t){switch(t.tag){case 5:return Iu(t.type);case 16:return Iu("Lazy");case 13:return Iu("Suspense");case 19:return Iu("SuspenseList");case 0:case 2:case 15:return t=Qp(t.type,!1),t;case 11:return t=Qp(t.type.render,!1),t;case 1:return t=Qp(t.type,!0),t;default:return""}}function yv(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Wo:return"Fragment";case Uo:return"Portal";case gv:return"Profiler";case gy:return"StrictMode";case mv:return"Suspense";case vv:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Y7:return(t.displayName||"Context")+".Consumer";case G7:return(t._context.displayName||"Context")+".Provider";case my:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case vy:return e=t.displayName||null,e!==null?e:yv(t.type)||"Memo";case za:e=t._payload,t=t._init;try{return yv(t(e))}catch{}}return null}function BC(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return yv(e);case 8:return e===gy?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ss(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function K7(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function FC(t){var e=K7(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){n=""+s,a.call(this,s)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function N0(t){t._valueTracker||(t._valueTracker=FC(t))}function Z7(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=K7(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function dd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function xv(t,e){var r=e.checked;return fr({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function C5(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=ss(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Q7(t,e){e=e.checked,e!=null&&py(t,"checked",e,!1)}function bv(t,e){Q7(t,e);var r=ss(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?wv(t,e.type,r):e.hasOwnProperty("defaultValue")&&wv(t,e.type,ss(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function M5(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function wv(t,e,r){(e!=="number"||dd(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Lu=Array.isArray;function ul(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+ss(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function _v(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Ie(91));return fr({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function P5(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(Ie(92));if(Lu(r)){if(1<r.length)throw Error(Ie(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:ss(r)}}function J7(t,e){var r=ss(e.value),n=ss(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function D5(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function e8(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Sv(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?e8(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var z0,t8=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(z0=z0||document.createElement("div"),z0.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=z0.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function cc(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Hu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},$C=["Webkit","ms","Moz","O"];Object.keys(Hu).forEach(function(t){$C.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Hu[e]=Hu[t]})});function r8(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Hu.hasOwnProperty(t)&&Hu[t]?(""+e).trim():e+"px"}function n8(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=r8(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var jC=fr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function kv(t,e){if(e){if(jC[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Ie(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Ie(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Ie(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Ie(62))}}function Tv(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ev=null;function yy(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Cv=null,cl=null,fl=null;function A5(t){if(t=Zc(t)){if(typeof Cv!="function")throw Error(Ie(280));var e=t.stateNode;e&&(e=Sh(e),Cv(t.stateNode,t.type,e))}}function i8(t){cl?fl?fl.push(t):fl=[t]:cl=t}function a8(){if(cl){var t=cl,e=fl;if(fl=cl=null,A5(t),e)for(t=0;t<e.length;t++)A5(e[t])}}function s8(t,e){return t(e)}function o8(){}var Jp=!1;function l8(t,e,r){if(Jp)return t(e,r);Jp=!0;try{return s8(t,e,r)}finally{Jp=!1,(cl!==null||fl!==null)&&(o8(),a8())}}function fc(t,e){var r=t.stateNode;if(r===null)return null;var n=Sh(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(Ie(231,e,typeof r));return r}var Mv=!1;if(ha)try{var fu={};Object.defineProperty(fu,"passive",{get:function(){Mv=!0}}),window.addEventListener("test",fu,fu),window.removeEventListener("test",fu,fu)}catch{Mv=!1}function qC(t,e,r,n,i,a,s,o,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(c){this.onError(c)}}var Vu=!1,hd=null,pd=!1,Pv=null,HC={onError:function(t){Vu=!0,hd=t}};function VC(t,e,r,n,i,a,s,o,l){Vu=!1,hd=null,qC.apply(HC,arguments)}function UC(t,e,r,n,i,a,s,o,l){if(VC.apply(this,arguments),Vu){if(Vu){var u=hd;Vu=!1,hd=null}else throw Error(Ie(198));pd||(pd=!0,Pv=u)}}function yo(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function u8(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function I5(t){if(yo(t)!==t)throw Error(Ie(188))}function WC(t){var e=t.alternate;if(!e){if(e=yo(t),e===null)throw Error(Ie(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return I5(i),t;if(a===n)return I5(i),e;a=a.sibling}throw Error(Ie(188))}if(r.return!==n.return)r=i,n=a;else{for(var s=!1,o=i.child;o;){if(o===r){s=!0,r=i,n=a;break}if(o===n){s=!0,n=i,r=a;break}o=o.sibling}if(!s){for(o=a.child;o;){if(o===r){s=!0,r=a,n=i;break}if(o===n){s=!0,n=a,r=i;break}o=o.sibling}if(!s)throw Error(Ie(189))}}if(r.alternate!==n)throw Error(Ie(190))}if(r.tag!==3)throw Error(Ie(188));return r.stateNode.current===r?t:e}function c8(t){return t=WC(t),t!==null?f8(t):null}function f8(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=f8(t);if(e!==null)return e;t=t.sibling}return null}var d8=Un.unstable_scheduleCallback,L5=Un.unstable_cancelCallback,GC=Un.unstable_shouldYield,YC=Un.unstable_requestPaint,kr=Un.unstable_now,XC=Un.unstable_getCurrentPriorityLevel,xy=Un.unstable_ImmediatePriority,h8=Un.unstable_UserBlockingPriority,gd=Un.unstable_NormalPriority,KC=Un.unstable_LowPriority,p8=Un.unstable_IdlePriority,xh=null,$i=null;function ZC(t){if($i&&typeof $i.onCommitFiberRoot=="function")try{$i.onCommitFiberRoot(xh,t,void 0,(t.current.flags&128)===128)}catch{}}var xi=Math.clz32?Math.clz32:eM,QC=Math.log,JC=Math.LN2;function eM(t){return t>>>=0,t===0?32:31-(QC(t)/JC|0)|0}var B0=64,F0=4194304;function Ru(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function md(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,a=t.pingedLanes,s=r&268435455;if(s!==0){var o=s&~i;o!==0?n=Ru(o):(a&=s,a!==0&&(n=Ru(a)))}else s=r&~i,s!==0?n=Ru(s):a!==0&&(n=Ru(a));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,a=e&-e,i>=a||i===16&&(a&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-xi(e),i=1<<r,n|=t[r],e&=~i;return n}function tM(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function rM(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes;0<a;){var s=31-xi(a),o=1<<s,l=i[s];l===-1?(!(o&r)||o&n)&&(i[s]=tM(o,e)):l<=e&&(t.expiredLanes|=o),a&=~o}}function Dv(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function g8(){var t=B0;return B0<<=1,!(B0&4194240)&&(B0=64),t}function eg(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Xc(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-xi(e),t[e]=r}function nM(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-xi(r),a=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~a}}function by(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-xi(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var Nt=0;function m8(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var v8,wy,y8,x8,b8,Av=!1,$0=[],Ga=null,Ya=null,Xa=null,dc=new Map,hc=new Map,Fa=[],iM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function R5(t,e){switch(t){case"focusin":case"focusout":Ga=null;break;case"dragenter":case"dragleave":Ya=null;break;case"mouseover":case"mouseout":Xa=null;break;case"pointerover":case"pointerout":dc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":hc.delete(e.pointerId)}}function du(t,e,r,n,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},e!==null&&(e=Zc(e),e!==null&&wy(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function aM(t,e,r,n,i){switch(e){case"focusin":return Ga=du(Ga,t,e,r,n,i),!0;case"dragenter":return Ya=du(Ya,t,e,r,n,i),!0;case"mouseover":return Xa=du(Xa,t,e,r,n,i),!0;case"pointerover":var a=i.pointerId;return dc.set(a,du(dc.get(a)||null,t,e,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,hc.set(a,du(hc.get(a)||null,t,e,r,n,i)),!0}return!1}function w8(t){var e=Vs(t.target);if(e!==null){var r=yo(e);if(r!==null){if(e=r.tag,e===13){if(e=u8(r),e!==null){t.blockedOn=e,b8(t.priority,function(){y8(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Of(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=Iv(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);Ev=n,r.target.dispatchEvent(n),Ev=null}else return e=Zc(r),e!==null&&wy(e),t.blockedOn=r,!1;e.shift()}return!0}function O5(t,e,r){Of(t)&&r.delete(e)}function sM(){Av=!1,Ga!==null&&Of(Ga)&&(Ga=null),Ya!==null&&Of(Ya)&&(Ya=null),Xa!==null&&Of(Xa)&&(Xa=null),dc.forEach(O5),hc.forEach(O5)}function hu(t,e){t.blockedOn===e&&(t.blockedOn=null,Av||(Av=!0,Un.unstable_scheduleCallback(Un.unstable_NormalPriority,sM)))}function pc(t){function e(i){return hu(i,t)}if(0<$0.length){hu($0[0],t);for(var r=1;r<$0.length;r++){var n=$0[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Ga!==null&&hu(Ga,t),Ya!==null&&hu(Ya,t),Xa!==null&&hu(Xa,t),dc.forEach(e),hc.forEach(e),r=0;r<Fa.length;r++)n=Fa[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Fa.length&&(r=Fa[0],r.blockedOn===null);)w8(r),r.blockedOn===null&&Fa.shift()}var dl=_a.ReactCurrentBatchConfig,vd=!0;function oM(t,e,r,n){var i=Nt,a=dl.transition;dl.transition=null;try{Nt=1,_y(t,e,r,n)}finally{Nt=i,dl.transition=a}}function lM(t,e,r,n){var i=Nt,a=dl.transition;dl.transition=null;try{Nt=4,_y(t,e,r,n)}finally{Nt=i,dl.transition=a}}function _y(t,e,r,n){if(vd){var i=Iv(t,e,r,n);if(i===null)cg(t,e,n,yd,r),R5(t,n);else if(aM(i,t,e,r,n))n.stopPropagation();else if(R5(t,n),e&4&&-1<iM.indexOf(t)){for(;i!==null;){var a=Zc(i);if(a!==null&&v8(a),a=Iv(t,e,r,n),a===null&&cg(t,e,n,yd,r),a===i)break;i=a}i!==null&&n.stopPropagation()}else cg(t,e,n,null,r)}}var yd=null;function Iv(t,e,r,n){if(yd=null,t=yy(n),t=Vs(t),t!==null)if(e=yo(t),e===null)t=null;else if(r=e.tag,r===13){if(t=u8(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return yd=t,null}function _8(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(XC()){case xy:return 1;case h8:return 4;case gd:case KC:return 16;case p8:return 536870912;default:return 16}default:return 16}}var ja=null,Sy=null,Nf=null;function S8(){if(Nf)return Nf;var t,e=Sy,r=e.length,n,i="value"in ja?ja.value:ja.textContent,a=i.length;for(t=0;t<r&&e[t]===i[t];t++);var s=r-t;for(n=1;n<=s&&e[r-n]===i[a-n];n++);return Nf=i.slice(t,1<n?1-n:void 0)}function zf(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function j0(){return!0}function N5(){return!1}function Gn(t){function e(r,n,i,a,s){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(r=t[o],this[o]=r?r(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?j0:N5,this.isPropagationStopped=N5,this}return fr(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=j0)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=j0)},persist:function(){},isPersistent:j0}),e}var Ul={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ky=Gn(Ul),Kc=fr({},Ul,{view:0,detail:0}),uM=Gn(Kc),tg,rg,pu,bh=fr({},Kc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ty,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==pu&&(pu&&t.type==="mousemove"?(tg=t.screenX-pu.screenX,rg=t.screenY-pu.screenY):rg=tg=0,pu=t),tg)},movementY:function(t){return"movementY"in t?t.movementY:rg}}),z5=Gn(bh),cM=fr({},bh,{dataTransfer:0}),fM=Gn(cM),dM=fr({},Kc,{relatedTarget:0}),ng=Gn(dM),hM=fr({},Ul,{animationName:0,elapsedTime:0,pseudoElement:0}),pM=Gn(hM),gM=fr({},Ul,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),mM=Gn(gM),vM=fr({},Ul,{data:0}),B5=Gn(vM),yM={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xM={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bM={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wM(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=bM[t])?!!e[t]:!1}function Ty(){return wM}var _M=fr({},Kc,{key:function(t){if(t.key){var e=yM[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=zf(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?xM[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ty,charCode:function(t){return t.type==="keypress"?zf(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?zf(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),SM=Gn(_M),kM=fr({},bh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),F5=Gn(kM),TM=fr({},Kc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ty}),EM=Gn(TM),CM=fr({},Ul,{propertyName:0,elapsedTime:0,pseudoElement:0}),MM=Gn(CM),PM=fr({},bh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),DM=Gn(PM),AM=[9,13,27,32],Ey=ha&&"CompositionEvent"in window,Uu=null;ha&&"documentMode"in document&&(Uu=document.documentMode);var IM=ha&&"TextEvent"in window&&!Uu,k8=ha&&(!Ey||Uu&&8<Uu&&11>=Uu),$5=String.fromCharCode(32),j5=!1;function T8(t,e){switch(t){case"keyup":return AM.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function E8(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Go=!1;function LM(t,e){switch(t){case"compositionend":return E8(e);case"keypress":return e.which!==32?null:(j5=!0,$5);case"textInput":return t=e.data,t===$5&&j5?null:t;default:return null}}function RM(t,e){if(Go)return t==="compositionend"||!Ey&&T8(t,e)?(t=S8(),Nf=Sy=ja=null,Go=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return k8&&e.locale!=="ko"?null:e.data;default:return null}}var OM={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function q5(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!OM[t.type]:e==="textarea"}function C8(t,e,r,n){i8(n),e=xd(e,"onChange"),0<e.length&&(r=new ky("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Wu=null,gc=null;function NM(t){B8(t,0)}function wh(t){var e=Ko(t);if(Z7(e))return t}function zM(t,e){if(t==="change")return e}var M8=!1;if(ha){var ig;if(ha){var ag="oninput"in document;if(!ag){var H5=document.createElement("div");H5.setAttribute("oninput","return;"),ag=typeof H5.oninput=="function"}ig=ag}else ig=!1;M8=ig&&(!document.documentMode||9<document.documentMode)}function V5(){Wu&&(Wu.detachEvent("onpropertychange",P8),gc=Wu=null)}function P8(t){if(t.propertyName==="value"&&wh(gc)){var e=[];C8(e,gc,t,yy(t)),l8(NM,e)}}function BM(t,e,r){t==="focusin"?(V5(),Wu=e,gc=r,Wu.attachEvent("onpropertychange",P8)):t==="focusout"&&V5()}function FM(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return wh(gc)}function $M(t,e){if(t==="click")return wh(e)}function jM(t,e){if(t==="input"||t==="change")return wh(e)}function qM(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Si=typeof Object.is=="function"?Object.is:qM;function mc(t,e){if(Si(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!pv.call(e,i)||!Si(t[i],e[i]))return!1}return!0}function U5(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function W5(t,e){var r=U5(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=U5(r)}}function D8(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?D8(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function A8(){for(var t=window,e=dd();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=dd(t.document)}return e}function Cy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function HM(t){var e=A8(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&D8(r.ownerDocument.documentElement,r)){if(n!==null&&Cy(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!t.extend&&a>n&&(i=n,n=a,a=i),i=W5(r,a);var s=W5(r,n);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),a>n?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var VM=ha&&"documentMode"in document&&11>=document.documentMode,Yo=null,Lv=null,Gu=null,Rv=!1;function G5(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Rv||Yo==null||Yo!==dd(n)||(n=Yo,"selectionStart"in n&&Cy(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Gu&&mc(Gu,n)||(Gu=n,n=xd(Lv,"onSelect"),0<n.length&&(e=new ky("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Yo)))}function q0(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Xo={animationend:q0("Animation","AnimationEnd"),animationiteration:q0("Animation","AnimationIteration"),animationstart:q0("Animation","AnimationStart"),transitionend:q0("Transition","TransitionEnd")},sg={},I8={};ha&&(I8=document.createElement("div").style,"AnimationEvent"in window||(delete Xo.animationend.animation,delete Xo.animationiteration.animation,delete Xo.animationstart.animation),"TransitionEvent"in window||delete Xo.transitionend.transition);function _h(t){if(sg[t])return sg[t];if(!Xo[t])return t;var e=Xo[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in I8)return sg[t]=e[r];return t}var L8=_h("animationend"),R8=_h("animationiteration"),O8=_h("animationstart"),N8=_h("transitionend"),z8=new Map,Y5="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function xs(t,e){z8.set(t,e),vo(e,[t])}for(var og=0;og<Y5.length;og++){var lg=Y5[og],UM=lg.toLowerCase(),WM=lg[0].toUpperCase()+lg.slice(1);xs(UM,"on"+WM)}xs(L8,"onAnimationEnd");xs(R8,"onAnimationIteration");xs(O8,"onAnimationStart");xs("dblclick","onDoubleClick");xs("focusin","onFocus");xs("focusout","onBlur");xs(N8,"onTransitionEnd");Sl("onMouseEnter",["mouseout","mouseover"]);Sl("onMouseLeave",["mouseout","mouseover"]);Sl("onPointerEnter",["pointerout","pointerover"]);Sl("onPointerLeave",["pointerout","pointerover"]);vo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));vo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));vo("onBeforeInput",["compositionend","keypress","textInput","paste"]);vo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));vo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));vo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ou="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),GM=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ou));function X5(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,UC(n,e,void 0,t),t.currentTarget=null}function B8(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var a=void 0;if(e)for(var s=n.length-1;0<=s;s--){var o=n[s],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==a&&i.isPropagationStopped())break e;X5(i,o,u),a=l}else for(s=0;s<n.length;s++){if(o=n[s],l=o.instance,u=o.currentTarget,o=o.listener,l!==a&&i.isPropagationStopped())break e;X5(i,o,u),a=l}}}if(pd)throw t=Pv,pd=!1,Pv=null,t}function Qt(t,e){var r=e[Fv];r===void 0&&(r=e[Fv]=new Set);var n=t+"__bubble";r.has(n)||(F8(e,t,2,!1),r.add(n))}function ug(t,e,r){var n=0;e&&(n|=4),F8(r,t,n,e)}var H0="_reactListening"+Math.random().toString(36).slice(2);function vc(t){if(!t[H0]){t[H0]=!0,W7.forEach(function(r){r!=="selectionchange"&&(GM.has(r)||ug(r,!1,t),ug(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[H0]||(e[H0]=!0,ug("selectionchange",!1,e))}}function F8(t,e,r,n){switch(_8(e)){case 1:var i=oM;break;case 4:i=lM;break;default:i=_y}r=i.bind(null,e,r,t),i=void 0,!Mv||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function cg(t,e,r,n,i){var a=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var o=n.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(s===4)for(s=n.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;o!==null;){if(s=Vs(o),s===null)return;if(l=s.tag,l===5||l===6){n=a=s;continue e}o=o.parentNode}}n=n.return}l8(function(){var u=a,c=yy(r),f=[];e:{var d=z8.get(t);if(d!==void 0){var p=ky,g=t;switch(t){case"keypress":if(zf(r)===0)break e;case"keydown":case"keyup":p=SM;break;case"focusin":g="focus",p=ng;break;case"focusout":g="blur",p=ng;break;case"beforeblur":case"afterblur":p=ng;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=z5;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=fM;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=EM;break;case L8:case R8:case O8:p=pM;break;case N8:p=MM;break;case"scroll":p=uM;break;case"wheel":p=DM;break;case"copy":case"cut":case"paste":p=mM;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=F5}var y=(e&4)!==0,b=!y&&t==="scroll",x=y?d!==null?d+"Capture":null:d;y=[];for(var w=u,_;w!==null;){_=w;var k=_.stateNode;if(_.tag===5&&k!==null&&(_=k,x!==null&&(k=fc(w,x),k!=null&&y.push(yc(w,k,_)))),b)break;w=w.return}0<y.length&&(d=new p(d,g,null,r,c),f.push({event:d,listeners:y}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",d&&r!==Ev&&(g=r.relatedTarget||r.fromElement)&&(Vs(g)||g[pa]))break e;if((p||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,p?(g=r.relatedTarget||r.toElement,p=u,g=g?Vs(g):null,g!==null&&(b=yo(g),g!==b||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=u),p!==g)){if(y=z5,k="onMouseLeave",x="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(y=F5,k="onPointerLeave",x="onPointerEnter",w="pointer"),b=p==null?d:Ko(p),_=g==null?d:Ko(g),d=new y(k,w+"leave",p,r,c),d.target=b,d.relatedTarget=_,k=null,Vs(c)===u&&(y=new y(x,w+"enter",g,r,c),y.target=_,y.relatedTarget=b,k=y),b=k,p&&g)t:{for(y=p,x=g,w=0,_=y;_;_=Po(_))w++;for(_=0,k=x;k;k=Po(k))_++;for(;0<w-_;)y=Po(y),w--;for(;0<_-w;)x=Po(x),_--;for(;w--;){if(y===x||x!==null&&y===x.alternate)break t;y=Po(y),x=Po(x)}y=null}else y=null;p!==null&&K5(f,d,p,y,!1),g!==null&&b!==null&&K5(f,b,g,y,!0)}}e:{if(d=u?Ko(u):window,p=d.nodeName&&d.nodeName.toLowerCase(),p==="select"||p==="input"&&d.type==="file")var T=zM;else if(q5(d))if(M8)T=jM;else{T=FM;var P=BM}else(p=d.nodeName)&&p.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(T=$M);if(T&&(T=T(t,u))){C8(f,T,r,c);break e}P&&P(t,d,u),t==="focusout"&&(P=d._wrapperState)&&P.controlled&&d.type==="number"&&wv(d,"number",d.value)}switch(P=u?Ko(u):window,t){case"focusin":(q5(P)||P.contentEditable==="true")&&(Yo=P,Lv=u,Gu=null);break;case"focusout":Gu=Lv=Yo=null;break;case"mousedown":Rv=!0;break;case"contextmenu":case"mouseup":case"dragend":Rv=!1,G5(f,r,c);break;case"selectionchange":if(VM)break;case"keydown":case"keyup":G5(f,r,c)}var M;if(Ey)e:{switch(t){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else Go?T8(t,r)&&(A="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(A="onCompositionStart");A&&(k8&&r.locale!=="ko"&&(Go||A!=="onCompositionStart"?A==="onCompositionEnd"&&Go&&(M=S8()):(ja=c,Sy="value"in ja?ja.value:ja.textContent,Go=!0)),P=xd(u,A),0<P.length&&(A=new B5(A,t,null,r,c),f.push({event:A,listeners:P}),M?A.data=M:(M=E8(r),M!==null&&(A.data=M)))),(M=IM?LM(t,r):RM(t,r))&&(u=xd(u,"onBeforeInput"),0<u.length&&(c=new B5("onBeforeInput","beforeinput",null,r,c),f.push({event:c,listeners:u}),c.data=M))}B8(f,e)})}function yc(t,e,r){return{instance:t,listener:e,currentTarget:r}}function xd(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=fc(t,r),a!=null&&n.unshift(yc(t,a,i)),a=fc(t,e),a!=null&&n.push(yc(t,a,i))),t=t.return}return n}function Po(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function K5(t,e,r,n,i){for(var a=e._reactName,s=[];r!==null&&r!==n;){var o=r,l=o.alternate,u=o.stateNode;if(l!==null&&l===n)break;o.tag===5&&u!==null&&(o=u,i?(l=fc(r,a),l!=null&&s.unshift(yc(r,l,o))):i||(l=fc(r,a),l!=null&&s.push(yc(r,l,o)))),r=r.return}s.length!==0&&t.push({event:e,listeners:s})}var YM=/\r\n?/g,XM=/\u0000|\uFFFD/g;function Z5(t){return(typeof t=="string"?t:""+t).replace(YM,`
`).replace(XM,"")}function V0(t,e,r){if(e=Z5(e),Z5(t)!==e&&r)throw Error(Ie(425))}function bd(){}var Ov=null,Nv=null;function zv(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Bv=typeof setTimeout=="function"?setTimeout:void 0,KM=typeof clearTimeout=="function"?clearTimeout:void 0,Q5=typeof Promise=="function"?Promise:void 0,ZM=typeof queueMicrotask=="function"?queueMicrotask:typeof Q5<"u"?function(t){return Q5.resolve(null).then(t).catch(QM)}:Bv;function QM(t){setTimeout(function(){throw t})}function fg(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),pc(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);pc(e)}function Ka(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function J5(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Wl=Math.random().toString(36).slice(2),zi="__reactFiber$"+Wl,xc="__reactProps$"+Wl,pa="__reactContainer$"+Wl,Fv="__reactEvents$"+Wl,JM="__reactListeners$"+Wl,eP="__reactHandles$"+Wl;function Vs(t){var e=t[zi];if(e)return e;for(var r=t.parentNode;r;){if(e=r[pa]||r[zi]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=J5(t);t!==null;){if(r=t[zi])return r;t=J5(t)}return e}t=r,r=t.parentNode}return null}function Zc(t){return t=t[zi]||t[pa],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ko(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Ie(33))}function Sh(t){return t[xc]||null}var $v=[],Zo=-1;function bs(t){return{current:t}}function er(t){0>Zo||(t.current=$v[Zo],$v[Zo]=null,Zo--)}function Gt(t,e){Zo++,$v[Zo]=t.current,t.current=e}var os={},on=bs(os),An=bs(!1),ro=os;function kl(t,e){var r=t.type.contextTypes;if(!r)return os;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=e[a];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function In(t){return t=t.childContextTypes,t!=null}function wd(){er(An),er(on)}function e3(t,e,r){if(on.current!==os)throw Error(Ie(168));Gt(on,e),Gt(An,r)}function $8(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(Ie(108,BC(t)||"Unknown",i));return fr({},r,n)}function _d(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||os,ro=on.current,Gt(on,t),Gt(An,An.current),!0}function t3(t,e,r){var n=t.stateNode;if(!n)throw Error(Ie(169));r?(t=$8(t,e,ro),n.__reactInternalMemoizedMergedChildContext=t,er(An),er(on),Gt(on,t)):er(An),Gt(An,r)}var ta=null,kh=!1,dg=!1;function j8(t){ta===null?ta=[t]:ta.push(t)}function tP(t){kh=!0,j8(t)}function ws(){if(!dg&&ta!==null){dg=!0;var t=0,e=Nt;try{var r=ta;for(Nt=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}ta=null,kh=!1}catch(i){throw ta!==null&&(ta=ta.slice(t+1)),d8(xy,ws),i}finally{Nt=e,dg=!1}}return null}var Qo=[],Jo=0,Sd=null,kd=0,ri=[],ni=0,no=null,ia=1,aa="";function Ns(t,e){Qo[Jo++]=kd,Qo[Jo++]=Sd,Sd=t,kd=e}function q8(t,e,r){ri[ni++]=ia,ri[ni++]=aa,ri[ni++]=no,no=t;var n=ia;t=aa;var i=32-xi(n)-1;n&=~(1<<i),r+=1;var a=32-xi(e)+i;if(30<a){var s=i-i%5;a=(n&(1<<s)-1).toString(32),n>>=s,i-=s,ia=1<<32-xi(e)+i|r<<i|n,aa=a+t}else ia=1<<a|r<<i|n,aa=t}function My(t){t.return!==null&&(Ns(t,1),q8(t,1,0))}function Py(t){for(;t===Sd;)Sd=Qo[--Jo],Qo[Jo]=null,kd=Qo[--Jo],Qo[Jo]=null;for(;t===no;)no=ri[--ni],ri[ni]=null,aa=ri[--ni],ri[ni]=null,ia=ri[--ni],ri[ni]=null}var qn=null,$n=null,nr=!1,vi=null;function H8(t,e){var r=si(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function r3(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,qn=t,$n=Ka(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,qn=t,$n=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=no!==null?{id:ia,overflow:aa}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=si(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,qn=t,$n=null,!0):!1;default:return!1}}function jv(t){return(t.mode&1)!==0&&(t.flags&128)===0}function qv(t){if(nr){var e=$n;if(e){var r=e;if(!r3(t,e)){if(jv(t))throw Error(Ie(418));e=Ka(r.nextSibling);var n=qn;e&&r3(t,e)?H8(n,r):(t.flags=t.flags&-4097|2,nr=!1,qn=t)}}else{if(jv(t))throw Error(Ie(418));t.flags=t.flags&-4097|2,nr=!1,qn=t}}}function n3(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;qn=t}function U0(t){if(t!==qn)return!1;if(!nr)return n3(t),nr=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!zv(t.type,t.memoizedProps)),e&&(e=$n)){if(jv(t))throw V8(),Error(Ie(418));for(;e;)H8(t,e),e=Ka(e.nextSibling)}if(n3(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Ie(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){$n=Ka(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}$n=null}}else $n=qn?Ka(t.stateNode.nextSibling):null;return!0}function V8(){for(var t=$n;t;)t=Ka(t.nextSibling)}function Tl(){$n=qn=null,nr=!1}function Dy(t){vi===null?vi=[t]:vi.push(t)}var rP=_a.ReactCurrentBatchConfig;function pi(t,e){if(t&&t.defaultProps){e=fr({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}var Td=bs(null),Ed=null,el=null,Ay=null;function Iy(){Ay=el=Ed=null}function Ly(t){var e=Td.current;er(Td),t._currentValue=e}function Hv(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function hl(t,e){Ed=t,Ay=el=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Dn=!0),t.firstContext=null)}function ui(t){var e=t._currentValue;if(Ay!==t)if(t={context:t,memoizedValue:e,next:null},el===null){if(Ed===null)throw Error(Ie(308));el=t,Ed.dependencies={lanes:0,firstContext:t}}else el=el.next=t;return e}var Us=null;function Ry(t){Us===null?Us=[t]:Us.push(t)}function U8(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,Ry(e)):(r.next=i.next,i.next=r),e.interleaved=r,ga(t,n)}function ga(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Ba=!1;function Oy(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function W8(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function fa(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Za(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,_t&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,ga(t,r)}return i=n.interleaved,i===null?(e.next=e,Ry(n)):(e.next=i.next,i.next=e),n.interleaved=e,ga(t,r)}function Bf(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,by(t,r)}}function i3(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=s:a=a.next=s,r=r.next}while(r!==null);a===null?i=a=e:a=a.next=e}else i=a=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Cd(t,e,r,n){var i=t.updateQueue;Ba=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,u=l.next;l.next=null,s===null?a=u:s.next=u,s=l;var c=t.alternate;c!==null&&(c=c.updateQueue,o=c.lastBaseUpdate,o!==s&&(o===null?c.firstBaseUpdate=u:o.next=u,c.lastBaseUpdate=l))}if(a!==null){var f=i.baseState;s=0,c=u=l=null,o=a;do{var d=o.lane,p=o.eventTime;if((n&d)===d){c!==null&&(c=c.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var g=t,y=o;switch(d=e,p=r,y.tag){case 1:if(g=y.payload,typeof g=="function"){f=g.call(p,f,d);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=y.payload,d=typeof g=="function"?g.call(p,f,d):g,d==null)break e;f=fr({},f,d);break e;case 2:Ba=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,d=i.effects,d===null?i.effects=[o]:d.push(o))}else p={eventTime:p,lane:d,tag:o.tag,payload:o.payload,callback:o.callback,next:null},c===null?(u=c=p,l=f):c=c.next=p,s|=d;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;d=o,o=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(1);if(c===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else a===null&&(i.shared.lanes=0);ao|=s,t.lanes=s,t.memoizedState=f}}function a3(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(Ie(191,i));i.call(n)}}}var G8=new U7.Component().refs;function Vv(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:fr({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Th={isMounted:function(t){return(t=t._reactInternals)?yo(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=bn(),i=Ja(t),a=fa(n,i);a.payload=e,r!=null&&(a.callback=r),e=Za(t,a,i),e!==null&&(bi(e,t,i,n),Bf(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=bn(),i=Ja(t),a=fa(n,i);a.tag=1,a.payload=e,r!=null&&(a.callback=r),e=Za(t,a,i),e!==null&&(bi(e,t,i,n),Bf(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=bn(),n=Ja(t),i=fa(r,n);i.tag=2,e!=null&&(i.callback=e),e=Za(t,i,n),e!==null&&(bi(e,t,n,r),Bf(e,t,n))}};function s3(t,e,r,n,i,a,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,a,s):e.prototype&&e.prototype.isPureReactComponent?!mc(r,n)||!mc(i,a):!0}function Y8(t,e,r){var n=!1,i=os,a=e.contextType;return typeof a=="object"&&a!==null?a=ui(a):(i=In(e)?ro:on.current,n=e.contextTypes,a=(n=n!=null)?kl(t,i):os),e=new e(r,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Th,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=a),e}function o3(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&Th.enqueueReplaceState(e,e.state,null)}function Uv(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs=G8,Oy(t);var a=e.contextType;typeof a=="object"&&a!==null?i.context=ui(a):(a=In(e)?ro:on.current,i.context=kl(t,a)),i.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(Vv(t,e,a,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Th.enqueueReplaceState(i,i.state,null),Cd(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function gu(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Ie(309));var n=r.stateNode}if(!n)throw Error(Ie(147,t));var i=n,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(s){var o=i.refs;o===G8&&(o=i.refs={}),s===null?delete o[a]:o[a]=s},e._stringRef=a,e)}if(typeof t!="string")throw Error(Ie(284));if(!r._owner)throw Error(Ie(290,t))}return t}function W0(t,e){throw t=Object.prototype.toString.call(e),Error(Ie(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function l3(t){var e=t._init;return e(t._payload)}function X8(t){function e(x,w){if(t){var _=x.deletions;_===null?(x.deletions=[w],x.flags|=16):_.push(w)}}function r(x,w){if(!t)return null;for(;w!==null;)e(x,w),w=w.sibling;return null}function n(x,w){for(x=new Map;w!==null;)w.key!==null?x.set(w.key,w):x.set(w.index,w),w=w.sibling;return x}function i(x,w){return x=es(x,w),x.index=0,x.sibling=null,x}function a(x,w,_){return x.index=_,t?(_=x.alternate,_!==null?(_=_.index,_<w?(x.flags|=2,w):_):(x.flags|=2,w)):(x.flags|=1048576,w)}function s(x){return t&&x.alternate===null&&(x.flags|=2),x}function o(x,w,_,k){return w===null||w.tag!==6?(w=xg(_,x.mode,k),w.return=x,w):(w=i(w,_),w.return=x,w)}function l(x,w,_,k){var T=_.type;return T===Wo?c(x,w,_.props.children,k,_.key):w!==null&&(w.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===za&&l3(T)===w.type)?(k=i(w,_.props),k.ref=gu(x,w,_),k.return=x,k):(k=Vf(_.type,_.key,_.props,null,x.mode,k),k.ref=gu(x,w,_),k.return=x,k)}function u(x,w,_,k){return w===null||w.tag!==4||w.stateNode.containerInfo!==_.containerInfo||w.stateNode.implementation!==_.implementation?(w=bg(_,x.mode,k),w.return=x,w):(w=i(w,_.children||[]),w.return=x,w)}function c(x,w,_,k,T){return w===null||w.tag!==7?(w=Zs(_,x.mode,k,T),w.return=x,w):(w=i(w,_),w.return=x,w)}function f(x,w,_){if(typeof w=="string"&&w!==""||typeof w=="number")return w=xg(""+w,x.mode,_),w.return=x,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case O0:return _=Vf(w.type,w.key,w.props,null,x.mode,_),_.ref=gu(x,null,w),_.return=x,_;case Uo:return w=bg(w,x.mode,_),w.return=x,w;case za:var k=w._init;return f(x,k(w._payload),_)}if(Lu(w)||cu(w))return w=Zs(w,x.mode,_,null),w.return=x,w;W0(x,w)}return null}function d(x,w,_,k){var T=w!==null?w.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return T!==null?null:o(x,w,""+_,k);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case O0:return _.key===T?l(x,w,_,k):null;case Uo:return _.key===T?u(x,w,_,k):null;case za:return T=_._init,d(x,w,T(_._payload),k)}if(Lu(_)||cu(_))return T!==null?null:c(x,w,_,k,null);W0(x,_)}return null}function p(x,w,_,k,T){if(typeof k=="string"&&k!==""||typeof k=="number")return x=x.get(_)||null,o(w,x,""+k,T);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case O0:return x=x.get(k.key===null?_:k.key)||null,l(w,x,k,T);case Uo:return x=x.get(k.key===null?_:k.key)||null,u(w,x,k,T);case za:var P=k._init;return p(x,w,_,P(k._payload),T)}if(Lu(k)||cu(k))return x=x.get(_)||null,c(w,x,k,T,null);W0(w,k)}return null}function g(x,w,_,k){for(var T=null,P=null,M=w,A=w=0,L=null;M!==null&&A<_.length;A++){M.index>A?(L=M,M=null):L=M.sibling;var R=d(x,M,_[A],k);if(R===null){M===null&&(M=L);break}t&&M&&R.alternate===null&&e(x,M),w=a(R,w,A),P===null?T=R:P.sibling=R,P=R,M=L}if(A===_.length)return r(x,M),nr&&Ns(x,A),T;if(M===null){for(;A<_.length;A++)M=f(x,_[A],k),M!==null&&(w=a(M,w,A),P===null?T=M:P.sibling=M,P=M);return nr&&Ns(x,A),T}for(M=n(x,M);A<_.length;A++)L=p(M,x,A,_[A],k),L!==null&&(t&&L.alternate!==null&&M.delete(L.key===null?A:L.key),w=a(L,w,A),P===null?T=L:P.sibling=L,P=L);return t&&M.forEach(function(N){return e(x,N)}),nr&&Ns(x,A),T}function y(x,w,_,k){var T=cu(_);if(typeof T!="function")throw Error(Ie(150));if(_=T.call(_),_==null)throw Error(Ie(151));for(var P=T=null,M=w,A=w=0,L=null,R=_.next();M!==null&&!R.done;A++,R=_.next()){M.index>A?(L=M,M=null):L=M.sibling;var N=d(x,M,R.value,k);if(N===null){M===null&&(M=L);break}t&&M&&N.alternate===null&&e(x,M),w=a(N,w,A),P===null?T=N:P.sibling=N,P=N,M=L}if(R.done)return r(x,M),nr&&Ns(x,A),T;if(M===null){for(;!R.done;A++,R=_.next())R=f(x,R.value,k),R!==null&&(w=a(R,w,A),P===null?T=R:P.sibling=R,P=R);return nr&&Ns(x,A),T}for(M=n(x,M);!R.done;A++,R=_.next())R=p(M,x,A,R.value,k),R!==null&&(t&&R.alternate!==null&&M.delete(R.key===null?A:R.key),w=a(R,w,A),P===null?T=R:P.sibling=R,P=R);return t&&M.forEach(function(F){return e(x,F)}),nr&&Ns(x,A),T}function b(x,w,_,k){if(typeof _=="object"&&_!==null&&_.type===Wo&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case O0:e:{for(var T=_.key,P=w;P!==null;){if(P.key===T){if(T=_.type,T===Wo){if(P.tag===7){r(x,P.sibling),w=i(P,_.props.children),w.return=x,x=w;break e}}else if(P.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===za&&l3(T)===P.type){r(x,P.sibling),w=i(P,_.props),w.ref=gu(x,P,_),w.return=x,x=w;break e}r(x,P);break}else e(x,P);P=P.sibling}_.type===Wo?(w=Zs(_.props.children,x.mode,k,_.key),w.return=x,x=w):(k=Vf(_.type,_.key,_.props,null,x.mode,k),k.ref=gu(x,w,_),k.return=x,x=k)}return s(x);case Uo:e:{for(P=_.key;w!==null;){if(w.key===P)if(w.tag===4&&w.stateNode.containerInfo===_.containerInfo&&w.stateNode.implementation===_.implementation){r(x,w.sibling),w=i(w,_.children||[]),w.return=x,x=w;break e}else{r(x,w);break}else e(x,w);w=w.sibling}w=bg(_,x.mode,k),w.return=x,x=w}return s(x);case za:return P=_._init,b(x,w,P(_._payload),k)}if(Lu(_))return g(x,w,_,k);if(cu(_))return y(x,w,_,k);W0(x,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,w!==null&&w.tag===6?(r(x,w.sibling),w=i(w,_),w.return=x,x=w):(r(x,w),w=xg(_,x.mode,k),w.return=x,x=w),s(x)):r(x,w)}return b}var El=X8(!0),K8=X8(!1),Qc={},ji=bs(Qc),bc=bs(Qc),wc=bs(Qc);function Ws(t){if(t===Qc)throw Error(Ie(174));return t}function Ny(t,e){switch(Gt(wc,e),Gt(bc,t),Gt(ji,Qc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Sv(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Sv(e,t)}er(ji),Gt(ji,e)}function Cl(){er(ji),er(bc),er(wc)}function Z8(t){Ws(wc.current);var e=Ws(ji.current),r=Sv(e,t.type);e!==r&&(Gt(bc,t),Gt(ji,r))}function zy(t){bc.current===t&&(er(ji),er(bc))}var sr=bs(0);function Md(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var hg=[];function By(){for(var t=0;t<hg.length;t++)hg[t]._workInProgressVersionPrimary=null;hg.length=0}var Ff=_a.ReactCurrentDispatcher,pg=_a.ReactCurrentBatchConfig,io=0,lr=null,Ar=null,Fr=null,Pd=!1,Yu=!1,_c=0,nP=0;function rn(){throw Error(Ie(321))}function Fy(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Si(t[r],e[r]))return!1;return!0}function $y(t,e,r,n,i,a){if(io=a,lr=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ff.current=t===null||t.memoizedState===null?oP:lP,t=r(n,i),Yu){a=0;do{if(Yu=!1,_c=0,25<=a)throw Error(Ie(301));a+=1,Fr=Ar=null,e.updateQueue=null,Ff.current=uP,t=r(n,i)}while(Yu)}if(Ff.current=Dd,e=Ar!==null&&Ar.next!==null,io=0,Fr=Ar=lr=null,Pd=!1,e)throw Error(Ie(300));return t}function jy(){var t=_c!==0;return _c=0,t}function Li(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Fr===null?lr.memoizedState=Fr=t:Fr=Fr.next=t,Fr}function ci(){if(Ar===null){var t=lr.alternate;t=t!==null?t.memoizedState:null}else t=Ar.next;var e=Fr===null?lr.memoizedState:Fr.next;if(e!==null)Fr=e,Ar=t;else{if(t===null)throw Error(Ie(310));Ar=t,t={memoizedState:Ar.memoizedState,baseState:Ar.baseState,baseQueue:Ar.baseQueue,queue:Ar.queue,next:null},Fr===null?lr.memoizedState=Fr=t:Fr=Fr.next=t}return Fr}function Sc(t,e){return typeof e=="function"?e(t):e}function gg(t){var e=ci(),r=e.queue;if(r===null)throw Error(Ie(311));r.lastRenderedReducer=t;var n=Ar,i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var s=i.next;i.next=a.next,a.next=s}n.baseQueue=i=a,r.pending=null}if(i!==null){a=i.next,n=n.baseState;var o=s=null,l=null,u=a;do{var c=u.lane;if((io&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(o=l=f,s=n):l=l.next=f,lr.lanes|=c,ao|=c}u=u.next}while(u!==null&&u!==a);l===null?s=n:l.next=o,Si(n,e.memoizedState)||(Dn=!0),e.memoizedState=n,e.baseState=s,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do a=i.lane,lr.lanes|=a,ao|=a,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function mg(t){var e=ci(),r=e.queue;if(r===null)throw Error(Ie(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,a=e.memoizedState;if(i!==null){r.pending=null;var s=i=i.next;do a=t(a,s.action),s=s.next;while(s!==i);Si(a,e.memoizedState)||(Dn=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),r.lastRenderedState=a}return[a,n]}function Q8(){}function J8(t,e){var r=lr,n=ci(),i=e(),a=!Si(n.memoizedState,i);if(a&&(n.memoizedState=i,Dn=!0),n=n.queue,qy(r9.bind(null,r,n,t),[t]),n.getSnapshot!==e||a||Fr!==null&&Fr.memoizedState.tag&1){if(r.flags|=2048,kc(9,t9.bind(null,r,n,i,e),void 0,null),Hr===null)throw Error(Ie(349));io&30||e9(r,e,i)}return i}function e9(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=lr.updateQueue,e===null?(e={lastEffect:null,stores:null},lr.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function t9(t,e,r,n){e.value=r,e.getSnapshot=n,n9(e)&&i9(t)}function r9(t,e,r){return r(function(){n9(e)&&i9(t)})}function n9(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Si(t,r)}catch{return!0}}function i9(t){var e=ga(t,1);e!==null&&bi(e,t,1,-1)}function u3(t){var e=Li();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Sc,lastRenderedState:t},e.queue=t,t=t.dispatch=sP.bind(null,lr,t),[e.memoizedState,t]}function kc(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=lr.updateQueue,e===null?(e={lastEffect:null,stores:null},lr.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function a9(){return ci().memoizedState}function $f(t,e,r,n){var i=Li();lr.flags|=t,i.memoizedState=kc(1|e,r,void 0,n===void 0?null:n)}function Eh(t,e,r,n){var i=ci();n=n===void 0?null:n;var a=void 0;if(Ar!==null){var s=Ar.memoizedState;if(a=s.destroy,n!==null&&Fy(n,s.deps)){i.memoizedState=kc(e,r,a,n);return}}lr.flags|=t,i.memoizedState=kc(1|e,r,a,n)}function c3(t,e){return $f(8390656,8,t,e)}function qy(t,e){return Eh(2048,8,t,e)}function s9(t,e){return Eh(4,2,t,e)}function o9(t,e){return Eh(4,4,t,e)}function l9(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function u9(t,e,r){return r=r!=null?r.concat([t]):null,Eh(4,4,l9.bind(null,e,t),r)}function Hy(){}function c9(t,e){var r=ci();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Fy(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function f9(t,e){var r=ci();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Fy(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function d9(t,e,r){return io&21?(Si(r,e)||(r=g8(),lr.lanes|=r,ao|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Dn=!0),t.memoizedState=r)}function iP(t,e){var r=Nt;Nt=r!==0&&4>r?r:4,t(!0);var n=pg.transition;pg.transition={};try{t(!1),e()}finally{Nt=r,pg.transition=n}}function h9(){return ci().memoizedState}function aP(t,e,r){var n=Ja(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},p9(t))g9(e,r);else if(r=U8(t,e,r,n),r!==null){var i=bn();bi(r,t,n,i),m9(r,e,n)}}function sP(t,e,r){var n=Ja(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(p9(t))g9(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var s=e.lastRenderedState,o=a(s,r);if(i.hasEagerState=!0,i.eagerState=o,Si(o,s)){var l=e.interleaved;l===null?(i.next=i,Ry(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}r=U8(t,e,i,n),r!==null&&(i=bn(),bi(r,t,n,i),m9(r,e,n))}}function p9(t){var e=t.alternate;return t===lr||e!==null&&e===lr}function g9(t,e){Yu=Pd=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function m9(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,by(t,r)}}var Dd={readContext:ui,useCallback:rn,useContext:rn,useEffect:rn,useImperativeHandle:rn,useInsertionEffect:rn,useLayoutEffect:rn,useMemo:rn,useReducer:rn,useRef:rn,useState:rn,useDebugValue:rn,useDeferredValue:rn,useTransition:rn,useMutableSource:rn,useSyncExternalStore:rn,useId:rn,unstable_isNewReconciler:!1},oP={readContext:ui,useCallback:function(t,e){return Li().memoizedState=[t,e===void 0?null:e],t},useContext:ui,useEffect:c3,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,$f(4194308,4,l9.bind(null,e,t),r)},useLayoutEffect:function(t,e){return $f(4194308,4,t,e)},useInsertionEffect:function(t,e){return $f(4,2,t,e)},useMemo:function(t,e){var r=Li();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Li();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=aP.bind(null,lr,t),[n.memoizedState,t]},useRef:function(t){var e=Li();return t={current:t},e.memoizedState=t},useState:u3,useDebugValue:Hy,useDeferredValue:function(t){return Li().memoizedState=t},useTransition:function(){var t=u3(!1),e=t[0];return t=iP.bind(null,t[1]),Li().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=lr,i=Li();if(nr){if(r===void 0)throw Error(Ie(407));r=r()}else{if(r=e(),Hr===null)throw Error(Ie(349));io&30||e9(n,e,r)}i.memoizedState=r;var a={value:r,getSnapshot:e};return i.queue=a,c3(r9.bind(null,n,a,t),[t]),n.flags|=2048,kc(9,t9.bind(null,n,a,r,e),void 0,null),r},useId:function(){var t=Li(),e=Hr.identifierPrefix;if(nr){var r=aa,n=ia;r=(n&~(1<<32-xi(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=_c++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=nP++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},lP={readContext:ui,useCallback:c9,useContext:ui,useEffect:qy,useImperativeHandle:u9,useInsertionEffect:s9,useLayoutEffect:o9,useMemo:f9,useReducer:gg,useRef:a9,useState:function(){return gg(Sc)},useDebugValue:Hy,useDeferredValue:function(t){var e=ci();return d9(e,Ar.memoizedState,t)},useTransition:function(){var t=gg(Sc)[0],e=ci().memoizedState;return[t,e]},useMutableSource:Q8,useSyncExternalStore:J8,useId:h9,unstable_isNewReconciler:!1},uP={readContext:ui,useCallback:c9,useContext:ui,useEffect:qy,useImperativeHandle:u9,useInsertionEffect:s9,useLayoutEffect:o9,useMemo:f9,useReducer:mg,useRef:a9,useState:function(){return mg(Sc)},useDebugValue:Hy,useDeferredValue:function(t){var e=ci();return Ar===null?e.memoizedState=t:d9(e,Ar.memoizedState,t)},useTransition:function(){var t=mg(Sc)[0],e=ci().memoizedState;return[t,e]},useMutableSource:Q8,useSyncExternalStore:J8,useId:h9,unstable_isNewReconciler:!1};function Ml(t,e){try{var r="",n=e;do r+=zC(n),n=n.return;while(n);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:i,digest:null}}function vg(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function Wv(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var cP=typeof WeakMap=="function"?WeakMap:Map;function v9(t,e,r){r=fa(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Id||(Id=!0,r1=n),Wv(t,e)},r}function y9(t,e,r){r=fa(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){Wv(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){Wv(t,e),typeof n!="function"&&(Qa===null?Qa=new Set([this]):Qa.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),r}function f3(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new cP;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=kP.bind(null,t,e,r),e.then(t,t))}function d3(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function h3(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=fa(-1,1),e.tag=2,Za(r,e,1))),r.lanes|=1),t)}var fP=_a.ReactCurrentOwner,Dn=!1;function yn(t,e,r,n){e.child=t===null?K8(e,null,r,n):El(e,t.child,r,n)}function p3(t,e,r,n,i){r=r.render;var a=e.ref;return hl(e,i),n=$y(t,e,r,n,a,i),r=jy(),t!==null&&!Dn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ma(t,e,i)):(nr&&r&&My(e),e.flags|=1,yn(t,e,n,i),e.child)}function g3(t,e,r,n,i){if(t===null){var a=r.type;return typeof a=="function"&&!Zy(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=a,x9(t,e,a,n,i)):(t=Vf(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&i)){var s=a.memoizedProps;if(r=r.compare,r=r!==null?r:mc,r(s,n)&&t.ref===e.ref)return ma(t,e,i)}return e.flags|=1,t=es(a,n),t.ref=e.ref,t.return=e,e.child=t}function x9(t,e,r,n,i){if(t!==null){var a=t.memoizedProps;if(mc(a,n)&&t.ref===e.ref)if(Dn=!1,e.pendingProps=n=a,(t.lanes&i)!==0)t.flags&131072&&(Dn=!0);else return e.lanes=t.lanes,ma(t,e,i)}return Gv(t,e,r,n,i)}function b9(t,e,r){var n=e.pendingProps,i=n.children,a=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Gt(rl,Bn),Bn|=r;else{if(!(r&1073741824))return t=a!==null?a.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Gt(rl,Bn),Bn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,Gt(rl,Bn),Bn|=n}else a!==null?(n=a.baseLanes|r,e.memoizedState=null):n=r,Gt(rl,Bn),Bn|=n;return yn(t,e,i,r),e.child}function w9(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function Gv(t,e,r,n,i){var a=In(r)?ro:on.current;return a=kl(e,a),hl(e,i),r=$y(t,e,r,n,a,i),n=jy(),t!==null&&!Dn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ma(t,e,i)):(nr&&n&&My(e),e.flags|=1,yn(t,e,r,i),e.child)}function m3(t,e,r,n,i){if(In(r)){var a=!0;_d(e)}else a=!1;if(hl(e,i),e.stateNode===null)jf(t,e),Y8(e,r,n),Uv(e,r,n,i),n=!0;else if(t===null){var s=e.stateNode,o=e.memoizedProps;s.props=o;var l=s.context,u=r.contextType;typeof u=="object"&&u!==null?u=ui(u):(u=In(r)?ro:on.current,u=kl(e,u));var c=r.getDerivedStateFromProps,f=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==n||l!==u)&&o3(e,s,n,u),Ba=!1;var d=e.memoizedState;s.state=d,Cd(e,n,s,i),l=e.memoizedState,o!==n||d!==l||An.current||Ba?(typeof c=="function"&&(Vv(e,r,c,n),l=e.memoizedState),(o=Ba||s3(e,r,o,n,d,l,u))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),s.props=n,s.state=l,s.context=u,n=o):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{s=e.stateNode,W8(t,e),o=e.memoizedProps,u=e.type===e.elementType?o:pi(e.type,o),s.props=u,f=e.pendingProps,d=s.context,l=r.contextType,typeof l=="object"&&l!==null?l=ui(l):(l=In(r)?ro:on.current,l=kl(e,l));var p=r.getDerivedStateFromProps;(c=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==f||d!==l)&&o3(e,s,n,l),Ba=!1,d=e.memoizedState,s.state=d,Cd(e,n,s,i);var g=e.memoizedState;o!==f||d!==g||An.current||Ba?(typeof p=="function"&&(Vv(e,r,p,n),g=e.memoizedState),(u=Ba||s3(e,r,u,n,d,g,l)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,g,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,g,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=g),s.props=n,s.state=g,s.context=l,n=u):(typeof s.componentDidUpdate!="function"||o===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),n=!1)}return Yv(t,e,r,n,a,i)}function Yv(t,e,r,n,i,a){w9(t,e);var s=(e.flags&128)!==0;if(!n&&!s)return i&&t3(e,r,!1),ma(t,e,a);n=e.stateNode,fP.current=e;var o=s&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&s?(e.child=El(e,t.child,null,a),e.child=El(e,null,o,a)):yn(t,e,o,a),e.memoizedState=n.state,i&&t3(e,r,!0),e.child}function _9(t){var e=t.stateNode;e.pendingContext?e3(t,e.pendingContext,e.pendingContext!==e.context):e.context&&e3(t,e.context,!1),Ny(t,e.containerInfo)}function v3(t,e,r,n,i){return Tl(),Dy(i),e.flags|=256,yn(t,e,r,n),e.child}var Xv={dehydrated:null,treeContext:null,retryLane:0};function Kv(t){return{baseLanes:t,cachePool:null,transitions:null}}function S9(t,e,r){var n=e.pendingProps,i=sr.current,a=!1,s=(e.flags&128)!==0,o;if((o=s)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Gt(sr,i&1),t===null)return qv(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=n.children,t=n.fallback,a?(n=e.mode,a=e.child,s={mode:"hidden",children:s},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=s):a=Ph(s,n,0,null),t=Zs(t,n,r,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=Kv(r),e.memoizedState=Xv,t):Vy(e,s));if(i=t.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return dP(t,e,s,n,o,i,r);if(a){a=n.fallback,s=e.mode,i=t.child,o=i.sibling;var l={mode:"hidden",children:n.children};return!(s&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=es(i,l),n.subtreeFlags=i.subtreeFlags&14680064),o!==null?a=es(o,a):(a=Zs(a,s,r,null),a.flags|=2),a.return=e,n.return=e,n.sibling=a,e.child=n,n=a,a=e.child,s=t.child.memoizedState,s=s===null?Kv(r):{baseLanes:s.baseLanes|r,cachePool:null,transitions:s.transitions},a.memoizedState=s,a.childLanes=t.childLanes&~r,e.memoizedState=Xv,n}return a=t.child,t=a.sibling,n=es(a,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function Vy(t,e){return e=Ph({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function G0(t,e,r,n){return n!==null&&Dy(n),El(e,t.child,null,r),t=Vy(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function dP(t,e,r,n,i,a,s){if(r)return e.flags&256?(e.flags&=-257,n=vg(Error(Ie(422))),G0(t,e,s,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=n.fallback,i=e.mode,n=Ph({mode:"visible",children:n.children},i,0,null),a=Zs(a,i,s,null),a.flags|=2,n.return=e,a.return=e,n.sibling=a,e.child=n,e.mode&1&&El(e,t.child,null,s),e.child.memoizedState=Kv(s),e.memoizedState=Xv,a);if(!(e.mode&1))return G0(t,e,s,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var o=n.dgst;return n=o,a=Error(Ie(419)),n=vg(a,n,void 0),G0(t,e,s,n)}if(o=(s&t.childLanes)!==0,Dn||o){if(n=Hr,n!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|s)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,ga(t,i),bi(n,t,i,-1))}return Ky(),n=vg(Error(Ie(421))),G0(t,e,s,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=TP.bind(null,t),i._reactRetry=e,null):(t=a.treeContext,$n=Ka(i.nextSibling),qn=e,nr=!0,vi=null,t!==null&&(ri[ni++]=ia,ri[ni++]=aa,ri[ni++]=no,ia=t.id,aa=t.overflow,no=e),e=Vy(e,n.children),e.flags|=4096,e)}function y3(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),Hv(t.return,e,r)}function yg(t,e,r,n,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i)}function k9(t,e,r){var n=e.pendingProps,i=n.revealOrder,a=n.tail;if(yn(t,e,n.children,r),n=sr.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&y3(t,r,e);else if(t.tag===19)y3(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Gt(sr,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&Md(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),yg(e,!1,i,r,a);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Md(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}yg(e,!0,r,null,a);break;case"together":yg(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function jf(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ma(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),ao|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Ie(153));if(e.child!==null){for(t=e.child,r=es(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=es(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function hP(t,e,r){switch(e.tag){case 3:_9(e),Tl();break;case 5:Z8(e);break;case 1:In(e.type)&&_d(e);break;case 4:Ny(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;Gt(Td,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(Gt(sr,sr.current&1),e.flags|=128,null):r&e.child.childLanes?S9(t,e,r):(Gt(sr,sr.current&1),t=ma(t,e,r),t!==null?t.sibling:null);Gt(sr,sr.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return k9(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Gt(sr,sr.current),n)break;return null;case 22:case 23:return e.lanes=0,b9(t,e,r)}return ma(t,e,r)}var T9,Zv,E9,C9;T9=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Zv=function(){};E9=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,Ws(ji.current);var a=null;switch(r){case"input":i=xv(t,i),n=xv(t,n),a=[];break;case"select":i=fr({},i,{value:void 0}),n=fr({},n,{value:void 0}),a=[];break;case"textarea":i=_v(t,i),n=_v(t,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=bd)}kv(r,n);var s;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var o=i[u];for(s in o)o.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(uc.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in n){var l=n[u];if(o=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&l!==o&&(l!=null||o!=null))if(u==="style")if(o){for(s in o)!o.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in l)l.hasOwnProperty(s)&&o[s]!==l[s]&&(r||(r={}),r[s]=l[s])}else r||(a||(a=[]),a.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(a=a||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(uc.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Qt("scroll",t),a||o===l||(a=[])):(a=a||[]).push(u,l))}r&&(a=a||[]).push("style",r);var u=a;(e.updateQueue=u)&&(e.flags|=4)}};C9=function(t,e,r,n){r!==n&&(e.flags|=4)};function mu(t,e){if(!nr)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function nn(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function pP(t,e,r){var n=e.pendingProps;switch(Py(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nn(e),null;case 1:return In(e.type)&&wd(),nn(e),null;case 3:return n=e.stateNode,Cl(),er(An),er(on),By(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(U0(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,vi!==null&&(a1(vi),vi=null))),Zv(t,e),nn(e),null;case 5:zy(e);var i=Ws(wc.current);if(r=e.type,t!==null&&e.stateNode!=null)E9(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(Ie(166));return nn(e),null}if(t=Ws(ji.current),U0(e)){n=e.stateNode,r=e.type;var a=e.memoizedProps;switch(n[zi]=e,n[xc]=a,t=(e.mode&1)!==0,r){case"dialog":Qt("cancel",n),Qt("close",n);break;case"iframe":case"object":case"embed":Qt("load",n);break;case"video":case"audio":for(i=0;i<Ou.length;i++)Qt(Ou[i],n);break;case"source":Qt("error",n);break;case"img":case"image":case"link":Qt("error",n),Qt("load",n);break;case"details":Qt("toggle",n);break;case"input":C5(n,a),Qt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},Qt("invalid",n);break;case"textarea":P5(n,a),Qt("invalid",n)}kv(r,a),i=null;for(var s in a)if(a.hasOwnProperty(s)){var o=a[s];s==="children"?typeof o=="string"?n.textContent!==o&&(a.suppressHydrationWarning!==!0&&V0(n.textContent,o,t),i=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&V0(n.textContent,o,t),i=["children",""+o]):uc.hasOwnProperty(s)&&o!=null&&s==="onScroll"&&Qt("scroll",n)}switch(r){case"input":N0(n),M5(n,a,!0);break;case"textarea":N0(n),D5(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=bd)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=e8(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=s.createElement(r,{is:n.is}):(t=s.createElement(r),r==="select"&&(s=t,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):t=s.createElementNS(t,r),t[zi]=e,t[xc]=n,T9(t,e,!1,!1),e.stateNode=t;e:{switch(s=Tv(r,n),r){case"dialog":Qt("cancel",t),Qt("close",t),i=n;break;case"iframe":case"object":case"embed":Qt("load",t),i=n;break;case"video":case"audio":for(i=0;i<Ou.length;i++)Qt(Ou[i],t);i=n;break;case"source":Qt("error",t),i=n;break;case"img":case"image":case"link":Qt("error",t),Qt("load",t),i=n;break;case"details":Qt("toggle",t),i=n;break;case"input":C5(t,n),i=xv(t,n),Qt("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=fr({},n,{value:void 0}),Qt("invalid",t);break;case"textarea":P5(t,n),i=_v(t,n),Qt("invalid",t);break;default:i=n}kv(r,i),o=i;for(a in o)if(o.hasOwnProperty(a)){var l=o[a];a==="style"?n8(t,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&t8(t,l)):a==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&cc(t,l):typeof l=="number"&&cc(t,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(uc.hasOwnProperty(a)?l!=null&&a==="onScroll"&&Qt("scroll",t):l!=null&&py(t,a,l,s))}switch(r){case"input":N0(t),M5(t,n,!1);break;case"textarea":N0(t),D5(t);break;case"option":n.value!=null&&t.setAttribute("value",""+ss(n.value));break;case"select":t.multiple=!!n.multiple,a=n.value,a!=null?ul(t,!!n.multiple,a,!1):n.defaultValue!=null&&ul(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=bd)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return nn(e),null;case 6:if(t&&e.stateNode!=null)C9(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(Ie(166));if(r=Ws(wc.current),Ws(ji.current),U0(e)){if(n=e.stateNode,r=e.memoizedProps,n[zi]=e,(a=n.nodeValue!==r)&&(t=qn,t!==null))switch(t.tag){case 3:V0(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&V0(n.nodeValue,r,(t.mode&1)!==0)}a&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[zi]=e,e.stateNode=n}return nn(e),null;case 13:if(er(sr),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(nr&&$n!==null&&e.mode&1&&!(e.flags&128))V8(),Tl(),e.flags|=98560,a=!1;else if(a=U0(e),n!==null&&n.dehydrated!==null){if(t===null){if(!a)throw Error(Ie(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(Ie(317));a[zi]=e}else Tl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;nn(e),a=!1}else vi!==null&&(a1(vi),vi=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||sr.current&1?Ir===0&&(Ir=3):Ky())),e.updateQueue!==null&&(e.flags|=4),nn(e),null);case 4:return Cl(),Zv(t,e),t===null&&vc(e.stateNode.containerInfo),nn(e),null;case 10:return Ly(e.type._context),nn(e),null;case 17:return In(e.type)&&wd(),nn(e),null;case 19:if(er(sr),a=e.memoizedState,a===null)return nn(e),null;if(n=(e.flags&128)!==0,s=a.rendering,s===null)if(n)mu(a,!1);else{if(Ir!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=Md(t),s!==null){for(e.flags|=128,mu(a,!1),n=s.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)a=r,t=n,a.flags&=14680066,s=a.alternate,s===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,t=s.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return Gt(sr,sr.current&1|2),e.child}t=t.sibling}a.tail!==null&&kr()>Pl&&(e.flags|=128,n=!0,mu(a,!1),e.lanes=4194304)}else{if(!n)if(t=Md(s),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),mu(a,!0),a.tail===null&&a.tailMode==="hidden"&&!s.alternate&&!nr)return nn(e),null}else 2*kr()-a.renderingStartTime>Pl&&r!==1073741824&&(e.flags|=128,n=!0,mu(a,!1),e.lanes=4194304);a.isBackwards?(s.sibling=e.child,e.child=s):(r=a.last,r!==null?r.sibling=s:e.child=s,a.last=s)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=kr(),e.sibling=null,r=sr.current,Gt(sr,n?r&1|2:r&1),e):(nn(e),null);case 22:case 23:return Xy(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Bn&1073741824&&(nn(e),e.subtreeFlags&6&&(e.flags|=8192)):nn(e),null;case 24:return null;case 25:return null}throw Error(Ie(156,e.tag))}function gP(t,e){switch(Py(e),e.tag){case 1:return In(e.type)&&wd(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Cl(),er(An),er(on),By(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return zy(e),null;case 13:if(er(sr),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Ie(340));Tl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return er(sr),null;case 4:return Cl(),null;case 10:return Ly(e.type._context),null;case 22:case 23:return Xy(),null;case 24:return null;default:return null}}var Y0=!1,sn=!1,mP=typeof WeakSet=="function"?WeakSet:Set,qe=null;function tl(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){mr(t,e,n)}else r.current=null}function Qv(t,e,r){try{r()}catch(n){mr(t,e,n)}}var x3=!1;function vP(t,e){if(Ov=vd,t=A8(),Cy(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var s=0,o=-1,l=-1,u=0,c=0,f=t,d=null;t:for(;;){for(var p;f!==r||i!==0&&f.nodeType!==3||(o=s+i),f!==a||n!==0&&f.nodeType!==3||(l=s+n),f.nodeType===3&&(s+=f.nodeValue.length),(p=f.firstChild)!==null;)d=f,f=p;for(;;){if(f===t)break t;if(d===r&&++u===i&&(o=s),d===a&&++c===n&&(l=s),(p=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=p}r=o===-1||l===-1?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(Nv={focusedElem:t,selectionRange:r},vd=!1,qe=e;qe!==null;)if(e=qe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,qe=t;else for(;qe!==null;){e=qe;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var y=g.memoizedProps,b=g.memoizedState,x=e.stateNode,w=x.getSnapshotBeforeUpdate(e.elementType===e.type?y:pi(e.type,y),b);x.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ie(163))}}catch(k){mr(e,e.return,k)}if(t=e.sibling,t!==null){t.return=e.return,qe=t;break}qe=e.return}return g=x3,x3=!1,g}function Xu(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var a=i.destroy;i.destroy=void 0,a!==void 0&&Qv(e,r,a)}i=i.next}while(i!==n)}}function Ch(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function Jv(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function M9(t){var e=t.alternate;e!==null&&(t.alternate=null,M9(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[zi],delete e[xc],delete e[Fv],delete e[JM],delete e[eP])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function P9(t){return t.tag===5||t.tag===3||t.tag===4}function b3(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||P9(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function e1(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=bd));else if(n!==4&&(t=t.child,t!==null))for(e1(t,e,r),t=t.sibling;t!==null;)e1(t,e,r),t=t.sibling}function t1(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(t1(t,e,r),t=t.sibling;t!==null;)t1(t,e,r),t=t.sibling}var Xr=null,gi=!1;function Aa(t,e,r){for(r=r.child;r!==null;)D9(t,e,r),r=r.sibling}function D9(t,e,r){if($i&&typeof $i.onCommitFiberUnmount=="function")try{$i.onCommitFiberUnmount(xh,r)}catch{}switch(r.tag){case 5:sn||tl(r,e);case 6:var n=Xr,i=gi;Xr=null,Aa(t,e,r),Xr=n,gi=i,Xr!==null&&(gi?(t=Xr,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Xr.removeChild(r.stateNode));break;case 18:Xr!==null&&(gi?(t=Xr,r=r.stateNode,t.nodeType===8?fg(t.parentNode,r):t.nodeType===1&&fg(t,r),pc(t)):fg(Xr,r.stateNode));break;case 4:n=Xr,i=gi,Xr=r.stateNode.containerInfo,gi=!0,Aa(t,e,r),Xr=n,gi=i;break;case 0:case 11:case 14:case 15:if(!sn&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,s=a.destroy;a=a.tag,s!==void 0&&(a&2||a&4)&&Qv(r,e,s),i=i.next}while(i!==n)}Aa(t,e,r);break;case 1:if(!sn&&(tl(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){mr(r,e,o)}Aa(t,e,r);break;case 21:Aa(t,e,r);break;case 22:r.mode&1?(sn=(n=sn)||r.memoizedState!==null,Aa(t,e,r),sn=n):Aa(t,e,r);break;default:Aa(t,e,r)}}function w3(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new mP),e.forEach(function(n){var i=EP.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function hi(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var a=t,s=e,o=s;e:for(;o!==null;){switch(o.tag){case 5:Xr=o.stateNode,gi=!1;break e;case 3:Xr=o.stateNode.containerInfo,gi=!0;break e;case 4:Xr=o.stateNode.containerInfo,gi=!0;break e}o=o.return}if(Xr===null)throw Error(Ie(160));D9(a,s,i),Xr=null,gi=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){mr(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)A9(e,t),e=e.sibling}function A9(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(hi(e,t),Pi(t),n&4){try{Xu(3,t,t.return),Ch(3,t)}catch(y){mr(t,t.return,y)}try{Xu(5,t,t.return)}catch(y){mr(t,t.return,y)}}break;case 1:hi(e,t),Pi(t),n&512&&r!==null&&tl(r,r.return);break;case 5:if(hi(e,t),Pi(t),n&512&&r!==null&&tl(r,r.return),t.flags&32){var i=t.stateNode;try{cc(i,"")}catch(y){mr(t,t.return,y)}}if(n&4&&(i=t.stateNode,i!=null)){var a=t.memoizedProps,s=r!==null?r.memoizedProps:a,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&Q7(i,a),Tv(o,s);var u=Tv(o,a);for(s=0;s<l.length;s+=2){var c=l[s],f=l[s+1];c==="style"?n8(i,f):c==="dangerouslySetInnerHTML"?t8(i,f):c==="children"?cc(i,f):py(i,c,f,u)}switch(o){case"input":bv(i,a);break;case"textarea":J7(i,a);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;p!=null?ul(i,!!a.multiple,p,!1):d!==!!a.multiple&&(a.defaultValue!=null?ul(i,!!a.multiple,a.defaultValue,!0):ul(i,!!a.multiple,a.multiple?[]:"",!1))}i[xc]=a}catch(y){mr(t,t.return,y)}}break;case 6:if(hi(e,t),Pi(t),n&4){if(t.stateNode===null)throw Error(Ie(162));i=t.stateNode,a=t.memoizedProps;try{i.nodeValue=a}catch(y){mr(t,t.return,y)}}break;case 3:if(hi(e,t),Pi(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{pc(e.containerInfo)}catch(y){mr(t,t.return,y)}break;case 4:hi(e,t),Pi(t);break;case 13:hi(e,t),Pi(t),i=t.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(Gy=kr())),n&4&&w3(t);break;case 22:if(c=r!==null&&r.memoizedState!==null,t.mode&1?(sn=(u=sn)||c,hi(e,t),sn=u):hi(e,t),Pi(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(qe=t,c=t.child;c!==null;){for(f=qe=c;qe!==null;){switch(d=qe,p=d.child,d.tag){case 0:case 11:case 14:case 15:Xu(4,d,d.return);break;case 1:tl(d,d.return);var g=d.stateNode;if(typeof g.componentWillUnmount=="function"){n=d,r=d.return;try{e=n,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(y){mr(n,r,y)}}break;case 5:tl(d,d.return);break;case 22:if(d.memoizedState!==null){S3(f);continue}}p!==null?(p.return=d,qe=p):S3(f)}c=c.sibling}e:for(c=null,f=t;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,u?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=r8("display",s))}catch(y){mr(t,t.return,y)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(y){mr(t,t.return,y)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:hi(e,t),Pi(t),n&4&&w3(t);break;case 21:break;default:hi(e,t),Pi(t)}}function Pi(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(P9(r)){var n=r;break e}r=r.return}throw Error(Ie(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(cc(i,""),n.flags&=-33);var a=b3(t);t1(t,a,i);break;case 3:case 4:var s=n.stateNode.containerInfo,o=b3(t);e1(t,o,s);break;default:throw Error(Ie(161))}}catch(l){mr(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function yP(t,e,r){qe=t,I9(t)}function I9(t,e,r){for(var n=(t.mode&1)!==0;qe!==null;){var i=qe,a=i.child;if(i.tag===22&&n){var s=i.memoizedState!==null||Y0;if(!s){var o=i.alternate,l=o!==null&&o.memoizedState!==null||sn;o=Y0;var u=sn;if(Y0=s,(sn=l)&&!u)for(qe=i;qe!==null;)s=qe,l=s.child,s.tag===22&&s.memoizedState!==null?k3(i):l!==null?(l.return=s,qe=l):k3(i);for(;a!==null;)qe=a,I9(a),a=a.sibling;qe=i,Y0=o,sn=u}_3(t)}else i.subtreeFlags&8772&&a!==null?(a.return=i,qe=a):_3(t)}}function _3(t){for(;qe!==null;){var e=qe;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:sn||Ch(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!sn)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:pi(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&a3(e,a,n);break;case 3:var s=e.updateQueue;if(s!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}a3(e,s,r)}break;case 5:var o=e.stateNode;if(r===null&&e.flags&4){r=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&pc(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ie(163))}sn||e.flags&512&&Jv(e)}catch(d){mr(e,e.return,d)}}if(e===t){qe=null;break}if(r=e.sibling,r!==null){r.return=e.return,qe=r;break}qe=e.return}}function S3(t){for(;qe!==null;){var e=qe;if(e===t){qe=null;break}var r=e.sibling;if(r!==null){r.return=e.return,qe=r;break}qe=e.return}}function k3(t){for(;qe!==null;){var e=qe;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Ch(4,e)}catch(l){mr(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(l){mr(e,i,l)}}var a=e.return;try{Jv(e)}catch(l){mr(e,a,l)}break;case 5:var s=e.return;try{Jv(e)}catch(l){mr(e,s,l)}}}catch(l){mr(e,e.return,l)}if(e===t){qe=null;break}var o=e.sibling;if(o!==null){o.return=e.return,qe=o;break}qe=e.return}}var xP=Math.ceil,Ad=_a.ReactCurrentDispatcher,Uy=_a.ReactCurrentOwner,li=_a.ReactCurrentBatchConfig,_t=0,Hr=null,Cr=null,Zr=0,Bn=0,rl=bs(0),Ir=0,Tc=null,ao=0,Mh=0,Wy=0,Ku=null,Cn=null,Gy=0,Pl=1/0,Ji=null,Id=!1,r1=null,Qa=null,X0=!1,qa=null,Ld=0,Zu=0,n1=null,qf=-1,Hf=0;function bn(){return _t&6?kr():qf!==-1?qf:qf=kr()}function Ja(t){return t.mode&1?_t&2&&Zr!==0?Zr&-Zr:rP.transition!==null?(Hf===0&&(Hf=g8()),Hf):(t=Nt,t!==0||(t=window.event,t=t===void 0?16:_8(t.type)),t):1}function bi(t,e,r,n){if(50<Zu)throw Zu=0,n1=null,Error(Ie(185));Xc(t,r,n),(!(_t&2)||t!==Hr)&&(t===Hr&&(!(_t&2)&&(Mh|=r),Ir===4&&$a(t,Zr)),Ln(t,n),r===1&&_t===0&&!(e.mode&1)&&(Pl=kr()+500,kh&&ws()))}function Ln(t,e){var r=t.callbackNode;rM(t,e);var n=md(t,t===Hr?Zr:0);if(n===0)r!==null&&L5(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&L5(r),e===1)t.tag===0?tP(T3.bind(null,t)):j8(T3.bind(null,t)),ZM(function(){!(_t&6)&&ws()}),r=null;else{switch(m8(n)){case 1:r=xy;break;case 4:r=h8;break;case 16:r=gd;break;case 536870912:r=p8;break;default:r=gd}r=$9(r,L9.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function L9(t,e){if(qf=-1,Hf=0,_t&6)throw Error(Ie(327));var r=t.callbackNode;if(pl()&&t.callbackNode!==r)return null;var n=md(t,t===Hr?Zr:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Rd(t,n);else{e=n;var i=_t;_t|=2;var a=O9();(Hr!==t||Zr!==e)&&(Ji=null,Pl=kr()+500,Ks(t,e));do try{_P();break}catch(o){R9(t,o)}while(1);Iy(),Ad.current=a,_t=i,Cr!==null?e=0:(Hr=null,Zr=0,e=Ir)}if(e!==0){if(e===2&&(i=Dv(t),i!==0&&(n=i,e=i1(t,i))),e===1)throw r=Tc,Ks(t,0),$a(t,n),Ln(t,kr()),r;if(e===6)$a(t,n);else{if(i=t.current.alternate,!(n&30)&&!bP(i)&&(e=Rd(t,n),e===2&&(a=Dv(t),a!==0&&(n=a,e=i1(t,a))),e===1))throw r=Tc,Ks(t,0),$a(t,n),Ln(t,kr()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(Ie(345));case 2:zs(t,Cn,Ji);break;case 3:if($a(t,n),(n&130023424)===n&&(e=Gy+500-kr(),10<e)){if(md(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){bn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Bv(zs.bind(null,t,Cn,Ji),e);break}zs(t,Cn,Ji);break;case 4:if($a(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var s=31-xi(n);a=1<<s,s=e[s],s>i&&(i=s),n&=~a}if(n=i,n=kr()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*xP(n/1960))-n,10<n){t.timeoutHandle=Bv(zs.bind(null,t,Cn,Ji),n);break}zs(t,Cn,Ji);break;case 5:zs(t,Cn,Ji);break;default:throw Error(Ie(329))}}}return Ln(t,kr()),t.callbackNode===r?L9.bind(null,t):null}function i1(t,e){var r=Ku;return t.current.memoizedState.isDehydrated&&(Ks(t,e).flags|=256),t=Rd(t,e),t!==2&&(e=Cn,Cn=r,e!==null&&a1(e)),t}function a1(t){Cn===null?Cn=t:Cn.push.apply(Cn,t)}function bP(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!Si(a(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function $a(t,e){for(e&=~Wy,e&=~Mh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-xi(e),n=1<<r;t[r]=-1,e&=~n}}function T3(t){if(_t&6)throw Error(Ie(327));pl();var e=md(t,0);if(!(e&1))return Ln(t,kr()),null;var r=Rd(t,e);if(t.tag!==0&&r===2){var n=Dv(t);n!==0&&(e=n,r=i1(t,n))}if(r===1)throw r=Tc,Ks(t,0),$a(t,e),Ln(t,kr()),r;if(r===6)throw Error(Ie(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,zs(t,Cn,Ji),Ln(t,kr()),null}function Yy(t,e){var r=_t;_t|=1;try{return t(e)}finally{_t=r,_t===0&&(Pl=kr()+500,kh&&ws())}}function so(t){qa!==null&&qa.tag===0&&!(_t&6)&&pl();var e=_t;_t|=1;var r=li.transition,n=Nt;try{if(li.transition=null,Nt=1,t)return t()}finally{Nt=n,li.transition=r,_t=e,!(_t&6)&&ws()}}function Xy(){Bn=rl.current,er(rl)}function Ks(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,KM(r)),Cr!==null)for(r=Cr.return;r!==null;){var n=r;switch(Py(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&wd();break;case 3:Cl(),er(An),er(on),By();break;case 5:zy(n);break;case 4:Cl();break;case 13:er(sr);break;case 19:er(sr);break;case 10:Ly(n.type._context);break;case 22:case 23:Xy()}r=r.return}if(Hr=t,Cr=t=es(t.current,null),Zr=Bn=e,Ir=0,Tc=null,Wy=Mh=ao=0,Cn=Ku=null,Us!==null){for(e=0;e<Us.length;e++)if(r=Us[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,a=r.pending;if(a!==null){var s=a.next;a.next=i,n.next=s}r.pending=n}Us=null}return t}function R9(t,e){do{var r=Cr;try{if(Iy(),Ff.current=Dd,Pd){for(var n=lr.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Pd=!1}if(io=0,Fr=Ar=lr=null,Yu=!1,_c=0,Uy.current=null,r===null||r.return===null){Ir=1,Tc=e,Cr=null;break}e:{var a=t,s=r.return,o=r,l=e;if(e=Zr,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=o,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=d3(s);if(p!==null){p.flags&=-257,h3(p,s,o,a,e),p.mode&1&&f3(a,u,e),e=p,l=u;var g=e.updateQueue;if(g===null){var y=new Set;y.add(l),e.updateQueue=y}else g.add(l);break e}else{if(!(e&1)){f3(a,u,e),Ky();break e}l=Error(Ie(426))}}else if(nr&&o.mode&1){var b=d3(s);if(b!==null){!(b.flags&65536)&&(b.flags|=256),h3(b,s,o,a,e),Dy(Ml(l,o));break e}}a=l=Ml(l,o),Ir!==4&&(Ir=2),Ku===null?Ku=[a]:Ku.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var x=v9(a,l,e);i3(a,x);break e;case 1:o=l;var w=a.type,_=a.stateNode;if(!(a.flags&128)&&(typeof w.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Qa===null||!Qa.has(_)))){a.flags|=65536,e&=-e,a.lanes|=e;var k=y9(a,o,e);i3(a,k);break e}}a=a.return}while(a!==null)}z9(r)}catch(T){e=T,Cr===r&&r!==null&&(Cr=r=r.return);continue}break}while(1)}function O9(){var t=Ad.current;return Ad.current=Dd,t===null?Dd:t}function Ky(){(Ir===0||Ir===3||Ir===2)&&(Ir=4),Hr===null||!(ao&268435455)&&!(Mh&268435455)||$a(Hr,Zr)}function Rd(t,e){var r=_t;_t|=2;var n=O9();(Hr!==t||Zr!==e)&&(Ji=null,Ks(t,e));do try{wP();break}catch(i){R9(t,i)}while(1);if(Iy(),_t=r,Ad.current=n,Cr!==null)throw Error(Ie(261));return Hr=null,Zr=0,Ir}function wP(){for(;Cr!==null;)N9(Cr)}function _P(){for(;Cr!==null&&!GC();)N9(Cr)}function N9(t){var e=F9(t.alternate,t,Bn);t.memoizedProps=t.pendingProps,e===null?z9(t):Cr=e,Uy.current=null}function z9(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=gP(r,e),r!==null){r.flags&=32767,Cr=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ir=6,Cr=null;return}}else if(r=pP(r,e,Bn),r!==null){Cr=r;return}if(e=e.sibling,e!==null){Cr=e;return}Cr=e=t}while(e!==null);Ir===0&&(Ir=5)}function zs(t,e,r){var n=Nt,i=li.transition;try{li.transition=null,Nt=1,SP(t,e,r,n)}finally{li.transition=i,Nt=n}return null}function SP(t,e,r,n){do pl();while(qa!==null);if(_t&6)throw Error(Ie(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(Ie(177));t.callbackNode=null,t.callbackPriority=0;var a=r.lanes|r.childLanes;if(nM(t,a),t===Hr&&(Cr=Hr=null,Zr=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||X0||(X0=!0,$9(gd,function(){return pl(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=li.transition,li.transition=null;var s=Nt;Nt=1;var o=_t;_t|=4,Uy.current=null,vP(t,r),A9(r,t),HM(Nv),vd=!!Ov,Nv=Ov=null,t.current=r,yP(r),YC(),_t=o,Nt=s,li.transition=a}else t.current=r;if(X0&&(X0=!1,qa=t,Ld=i),a=t.pendingLanes,a===0&&(Qa=null),ZC(r.stateNode),Ln(t,kr()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Id)throw Id=!1,t=r1,r1=null,t;return Ld&1&&t.tag!==0&&pl(),a=t.pendingLanes,a&1?t===n1?Zu++:(Zu=0,n1=t):Zu=0,ws(),null}function pl(){if(qa!==null){var t=m8(Ld),e=li.transition,r=Nt;try{if(li.transition=null,Nt=16>t?16:t,qa===null)var n=!1;else{if(t=qa,qa=null,Ld=0,_t&6)throw Error(Ie(331));var i=_t;for(_t|=4,qe=t.current;qe!==null;){var a=qe,s=a.child;if(qe.flags&16){var o=a.deletions;if(o!==null){for(var l=0;l<o.length;l++){var u=o[l];for(qe=u;qe!==null;){var c=qe;switch(c.tag){case 0:case 11:case 15:Xu(8,c,a)}var f=c.child;if(f!==null)f.return=c,qe=f;else for(;qe!==null;){c=qe;var d=c.sibling,p=c.return;if(M9(c),c===u){qe=null;break}if(d!==null){d.return=p,qe=d;break}qe=p}}}var g=a.alternate;if(g!==null){var y=g.child;if(y!==null){g.child=null;do{var b=y.sibling;y.sibling=null,y=b}while(y!==null)}}qe=a}}if(a.subtreeFlags&2064&&s!==null)s.return=a,qe=s;else e:for(;qe!==null;){if(a=qe,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Xu(9,a,a.return)}var x=a.sibling;if(x!==null){x.return=a.return,qe=x;break e}qe=a.return}}var w=t.current;for(qe=w;qe!==null;){s=qe;var _=s.child;if(s.subtreeFlags&2064&&_!==null)_.return=s,qe=_;else e:for(s=w;qe!==null;){if(o=qe,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Ch(9,o)}}catch(T){mr(o,o.return,T)}if(o===s){qe=null;break e}var k=o.sibling;if(k!==null){k.return=o.return,qe=k;break e}qe=o.return}}if(_t=i,ws(),$i&&typeof $i.onPostCommitFiberRoot=="function")try{$i.onPostCommitFiberRoot(xh,t)}catch{}n=!0}return n}finally{Nt=r,li.transition=e}}return!1}function E3(t,e,r){e=Ml(r,e),e=v9(t,e,1),t=Za(t,e,1),e=bn(),t!==null&&(Xc(t,1,e),Ln(t,e))}function mr(t,e,r){if(t.tag===3)E3(t,t,r);else for(;e!==null;){if(e.tag===3){E3(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Qa===null||!Qa.has(n))){t=Ml(r,t),t=y9(e,t,1),e=Za(e,t,1),t=bn(),e!==null&&(Xc(e,1,t),Ln(e,t));break}}e=e.return}}function kP(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=bn(),t.pingedLanes|=t.suspendedLanes&r,Hr===t&&(Zr&r)===r&&(Ir===4||Ir===3&&(Zr&130023424)===Zr&&500>kr()-Gy?Ks(t,0):Wy|=r),Ln(t,e)}function B9(t,e){e===0&&(t.mode&1?(e=F0,F0<<=1,!(F0&130023424)&&(F0=4194304)):e=1);var r=bn();t=ga(t,e),t!==null&&(Xc(t,e,r),Ln(t,r))}function TP(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),B9(t,r)}function EP(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(Ie(314))}n!==null&&n.delete(e),B9(t,r)}var F9;F9=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||An.current)Dn=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Dn=!1,hP(t,e,r);Dn=!!(t.flags&131072)}else Dn=!1,nr&&e.flags&1048576&&q8(e,kd,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;jf(t,e),t=e.pendingProps;var i=kl(e,on.current);hl(e,r),i=$y(null,e,n,t,i,r);var a=jy();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,In(n)?(a=!0,_d(e)):a=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Oy(e),i.updater=Th,e.stateNode=i,i._reactInternals=e,Uv(e,n,t,r),e=Yv(null,e,n,!0,a,r)):(e.tag=0,nr&&a&&My(e),yn(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(jf(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=MP(n),t=pi(n,t),i){case 0:e=Gv(null,e,n,t,r);break e;case 1:e=m3(null,e,n,t,r);break e;case 11:e=p3(null,e,n,t,r);break e;case 14:e=g3(null,e,n,pi(n.type,t),r);break e}throw Error(Ie(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:pi(n,i),Gv(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:pi(n,i),m3(t,e,n,i,r);case 3:e:{if(_9(e),t===null)throw Error(Ie(387));n=e.pendingProps,a=e.memoizedState,i=a.element,W8(t,e),Cd(e,n,null,r);var s=e.memoizedState;if(n=s.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){i=Ml(Error(Ie(423)),e),e=v3(t,e,n,r,i);break e}else if(n!==i){i=Ml(Error(Ie(424)),e),e=v3(t,e,n,r,i);break e}else for($n=Ka(e.stateNode.containerInfo.firstChild),qn=e,nr=!0,vi=null,r=K8(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Tl(),n===i){e=ma(t,e,r);break e}yn(t,e,n,r)}e=e.child}return e;case 5:return Z8(e),t===null&&qv(e),n=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,s=i.children,zv(n,i)?s=null:a!==null&&zv(n,a)&&(e.flags|=32),w9(t,e),yn(t,e,s,r),e.child;case 6:return t===null&&qv(e),null;case 13:return S9(t,e,r);case 4:return Ny(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=El(e,null,n,r):yn(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:pi(n,i),p3(t,e,n,i,r);case 7:return yn(t,e,e.pendingProps,r),e.child;case 8:return yn(t,e,e.pendingProps.children,r),e.child;case 12:return yn(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,a=e.memoizedProps,s=i.value,Gt(Td,n._currentValue),n._currentValue=s,a!==null)if(Si(a.value,s)){if(a.children===i.children&&!An.current){e=ma(t,e,r);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var o=a.dependencies;if(o!==null){s=a.child;for(var l=o.firstContext;l!==null;){if(l.context===n){if(a.tag===1){l=fa(-1,r&-r),l.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),Hv(a.return,r,e),o.lanes|=r;break}l=l.next}}else if(a.tag===10)s=a.type===e.type?null:a.child;else if(a.tag===18){if(s=a.return,s===null)throw Error(Ie(341));s.lanes|=r,o=s.alternate,o!==null&&(o.lanes|=r),Hv(s,r,e),s=a.sibling}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===e){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}yn(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,hl(e,r),i=ui(i),n=n(i),e.flags|=1,yn(t,e,n,r),e.child;case 14:return n=e.type,i=pi(n,e.pendingProps),i=pi(n.type,i),g3(t,e,n,i,r);case 15:return x9(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:pi(n,i),jf(t,e),e.tag=1,In(n)?(t=!0,_d(e)):t=!1,hl(e,r),Y8(e,n,i),Uv(e,n,i,r),Yv(null,e,n,!0,t,r);case 19:return k9(t,e,r);case 22:return b9(t,e,r)}throw Error(Ie(156,e.tag))};function $9(t,e){return d8(t,e)}function CP(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function si(t,e,r,n){return new CP(t,e,r,n)}function Zy(t){return t=t.prototype,!(!t||!t.isReactComponent)}function MP(t){if(typeof t=="function")return Zy(t)?1:0;if(t!=null){if(t=t.$$typeof,t===my)return 11;if(t===vy)return 14}return 2}function es(t,e){var r=t.alternate;return r===null?(r=si(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Vf(t,e,r,n,i,a){var s=2;if(n=t,typeof t=="function")Zy(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Wo:return Zs(r.children,i,a,e);case gy:s=8,i|=8;break;case gv:return t=si(12,r,e,i|2),t.elementType=gv,t.lanes=a,t;case mv:return t=si(13,r,e,i),t.elementType=mv,t.lanes=a,t;case vv:return t=si(19,r,e,i),t.elementType=vv,t.lanes=a,t;case X7:return Ph(r,i,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case G7:s=10;break e;case Y7:s=9;break e;case my:s=11;break e;case vy:s=14;break e;case za:s=16,n=null;break e}throw Error(Ie(130,t==null?t:typeof t,""))}return e=si(s,r,e,i),e.elementType=t,e.type=n,e.lanes=a,e}function Zs(t,e,r,n){return t=si(7,t,n,e),t.lanes=r,t}function Ph(t,e,r,n){return t=si(22,t,n,e),t.elementType=X7,t.lanes=r,t.stateNode={isHidden:!1},t}function xg(t,e,r){return t=si(6,t,null,e),t.lanes=r,t}function bg(t,e,r){return e=si(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function PP(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=eg(0),this.expirationTimes=eg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=eg(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Qy(t,e,r,n,i,a,s,o,l){return t=new PP(t,e,r,o,l),e===1?(e=1,a===!0&&(e|=8)):e=0,a=si(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Oy(a),t}function DP(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Uo,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function j9(t){if(!t)return os;t=t._reactInternals;e:{if(yo(t)!==t||t.tag!==1)throw Error(Ie(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(In(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Ie(171))}if(t.tag===1){var r=t.type;if(In(r))return $8(t,r,e)}return e}function q9(t,e,r,n,i,a,s,o,l){return t=Qy(r,n,!0,t,i,a,s,o,l),t.context=j9(null),r=t.current,n=bn(),i=Ja(r),a=fa(n,i),a.callback=e??null,Za(r,a,i),t.current.lanes=i,Xc(t,i,n),Ln(t,n),t}function Dh(t,e,r,n){var i=e.current,a=bn(),s=Ja(i);return r=j9(r),e.context===null?e.context=r:e.pendingContext=r,e=fa(a,s),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Za(i,e,s),t!==null&&(bi(t,i,s,a),Bf(t,i,s)),s}function Od(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function C3(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function Jy(t,e){C3(t,e),(t=t.alternate)&&C3(t,e)}function AP(){return null}var H9=typeof reportError=="function"?reportError:function(t){console.error(t)};function e2(t){this._internalRoot=t}Ah.prototype.render=e2.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Ie(409));Dh(t,e,null,null)};Ah.prototype.unmount=e2.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;so(function(){Dh(null,t,null,null)}),e[pa]=null}};function Ah(t){this._internalRoot=t}Ah.prototype.unstable_scheduleHydration=function(t){if(t){var e=x8();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Fa.length&&e!==0&&e<Fa[r].priority;r++);Fa.splice(r,0,t),r===0&&w8(t)}};function t2(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ih(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function M3(){}function IP(t,e,r,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var u=Od(s);a.call(u)}}var s=q9(e,n,t,0,null,!1,!1,"",M3);return t._reactRootContainer=s,t[pa]=s.current,vc(t.nodeType===8?t.parentNode:t),so(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var o=n;n=function(){var u=Od(l);o.call(u)}}var l=Qy(t,0,!1,null,null,!1,!1,"",M3);return t._reactRootContainer=l,t[pa]=l.current,vc(t.nodeType===8?t.parentNode:t),so(function(){Dh(e,l,r,n)}),l}function Lh(t,e,r,n,i){var a=r._reactRootContainer;if(a){var s=a;if(typeof i=="function"){var o=i;i=function(){var l=Od(s);o.call(l)}}Dh(e,s,t,i)}else s=IP(r,e,t,i,n);return Od(s)}v8=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Ru(e.pendingLanes);r!==0&&(by(e,r|1),Ln(e,kr()),!(_t&6)&&(Pl=kr()+500,ws()))}break;case 13:so(function(){var n=ga(t,1);if(n!==null){var i=bn();bi(n,t,1,i)}}),Jy(t,1)}};wy=function(t){if(t.tag===13){var e=ga(t,134217728);if(e!==null){var r=bn();bi(e,t,134217728,r)}Jy(t,134217728)}};y8=function(t){if(t.tag===13){var e=Ja(t),r=ga(t,e);if(r!==null){var n=bn();bi(r,t,e,n)}Jy(t,e)}};x8=function(){return Nt};b8=function(t,e){var r=Nt;try{return Nt=t,e()}finally{Nt=r}};Cv=function(t,e,r){switch(e){case"input":if(bv(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=Sh(n);if(!i)throw Error(Ie(90));Z7(n),bv(n,i)}}}break;case"textarea":J7(t,r);break;case"select":e=r.value,e!=null&&ul(t,!!r.multiple,e,!1)}};s8=Yy;o8=so;var LP={usingClientEntryPoint:!1,Events:[Zc,Ko,Sh,i8,a8,Yy]},vu={findFiberByHostInstance:Vs,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},RP={bundleType:vu.bundleType,version:vu.version,rendererPackageName:vu.rendererPackageName,rendererConfig:vu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_a.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=c8(t),t===null?null:t.stateNode},findFiberByHostInstance:vu.findFiberByHostInstance||AP,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var K0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!K0.isDisabled&&K0.supportsFiber)try{xh=K0.inject(RP),$i=K0}catch{}}Wn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=LP;Wn.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t2(e))throw Error(Ie(200));return DP(t,e,null,r)};Wn.createRoot=function(t,e){if(!t2(t))throw Error(Ie(299));var r=!1,n="",i=H9;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Qy(t,1,!1,null,null,r,!1,n,i),t[pa]=e.current,vc(t.nodeType===8?t.parentNode:t),new e2(e)};Wn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Ie(188)):(t=Object.keys(t).join(","),Error(Ie(268,t)));return t=c8(e),t=t===null?null:t.stateNode,t};Wn.flushSync=function(t){return so(t)};Wn.hydrate=function(t,e,r){if(!Ih(e))throw Error(Ie(200));return Lh(null,t,e,!0,r)};Wn.hydrateRoot=function(t,e,r){if(!t2(t))throw Error(Ie(405));var n=r!=null&&r.hydratedSources||null,i=!1,a="",s=H9;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(s=r.onRecoverableError)),e=q9(e,null,t,1,r??null,i,!1,a,s),t[pa]=e.current,vc(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new Ah(e)};Wn.render=function(t,e,r){if(!Ih(e))throw Error(Ie(200));return Lh(null,t,e,!1,r)};Wn.unmountComponentAtNode=function(t){if(!Ih(t))throw Error(Ie(40));return t._reactRootContainer?(so(function(){Lh(null,null,t,!1,function(){t._reactRootContainer=null,t[pa]=null})}),!0):!1};Wn.unstable_batchedUpdates=Yy;Wn.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Ih(r))throw Error(Ie(200));if(t==null||t._reactInternals===void 0)throw Error(Ie(38));return Lh(t,e,r,!1,n)};Wn.version="18.2.0-next-9e3b772b8-20220608";function V9(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(V9)}catch(t){console.error(t)}}V9(),q7.exports=Wn;var OP=q7.exports,P3=OP;hv.createRoot=P3.createRoot,hv.hydrateRoot=P3.hydrateRoot;var qr=function(){return qr=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},qr.apply(this,arguments)};function Ec(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,a;n<i;n++)(a||!(n in e))&&(a||(a=Array.prototype.slice.call(e,0,n)),a[n]=e[n]);return t.concat(a||Array.prototype.slice.call(e))}var Jt="-ms-",Qu="-moz-",Dt="-webkit-",U9="comm",Rh="rule",r2="decl",NP="@import",W9="@keyframes",zP="@layer",G9=Math.abs,n2=String.fromCharCode,s1=Object.assign;function BP(t,e){return $r(t,0)^45?(((e<<2^$r(t,0))<<2^$r(t,1))<<2^$r(t,2))<<2^$r(t,3):0}function Y9(t){return t.trim()}function ea(t,e){return(t=e.exec(t))?t[0]:t}function ct(t,e,r){return t.replace(e,r)}function Uf(t,e,r){return t.indexOf(e,r)}function $r(t,e){return t.charCodeAt(e)|0}function Dl(t,e,r){return t.slice(e,r)}function Ni(t){return t.length}function X9(t){return t.length}function Nu(t,e){return e.push(t),t}function FP(t,e){return t.map(e).join("")}function D3(t,e){return t.filter(function(r){return!ea(r,e)})}var Oh=1,Al=1,K9=0,fi=0,Er=0,Gl="";function Nh(t,e,r,n,i,a,s,o){return{value:t,root:e,parent:r,type:n,props:i,children:a,line:Oh,column:Al,length:s,return:"",siblings:o}}function Na(t,e){return s1(Nh("",null,null,"",null,null,0,t.siblings),t,{length:-t.length},e)}function Do(t){for(;t.root;)t=Na(t.root,{children:[t]});Nu(t,t.siblings)}function $P(){return Er}function jP(){return Er=fi>0?$r(Gl,--fi):0,Al--,Er===10&&(Al=1,Oh--),Er}function wi(){return Er=fi<K9?$r(Gl,fi++):0,Al++,Er===10&&(Al=1,Oh++),Er}function Qs(){return $r(Gl,fi)}function Wf(){return fi}function zh(t,e){return Dl(Gl,t,e)}function o1(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function qP(t){return Oh=Al=1,K9=Ni(Gl=t),fi=0,[]}function HP(t){return Gl="",t}function wg(t){return Y9(zh(fi-1,l1(t===91?t+2:t===40?t+1:t)))}function VP(t){for(;(Er=Qs())&&Er<33;)wi();return o1(t)>2||o1(Er)>3?"":" "}function UP(t,e){for(;--e&&wi()&&!(Er<48||Er>102||Er>57&&Er<65||Er>70&&Er<97););return zh(t,Wf()+(e<6&&Qs()==32&&wi()==32))}function l1(t){for(;wi();)switch(Er){case t:return fi;case 34:case 39:t!==34&&t!==39&&l1(Er);break;case 40:t===41&&l1(t);break;case 92:wi();break}return fi}function WP(t,e){for(;wi()&&t+Er!==47+10;)if(t+Er===42+42&&Qs()===47)break;return"/*"+zh(e,fi-1)+"*"+n2(t===47?t:wi())}function GP(t){for(;!o1(Qs());)wi();return zh(t,fi)}function YP(t){return HP(Gf("",null,null,null,[""],t=qP(t),0,[0],t))}function Gf(t,e,r,n,i,a,s,o,l){for(var u=0,c=0,f=s,d=0,p=0,g=0,y=1,b=1,x=1,w=0,_="",k=i,T=a,P=n,M=_;b;)switch(g=w,w=wi()){case 40:if(g!=108&&$r(M,f-1)==58){Uf(M+=ct(wg(w),"&","&\f"),"&\f",G9(u?o[u-1]:0))!=-1&&(x=-1);break}case 34:case 39:case 91:M+=wg(w);break;case 9:case 10:case 13:case 32:M+=VP(g);break;case 92:M+=UP(Wf()-1,7);continue;case 47:switch(Qs()){case 42:case 47:Nu(XP(WP(wi(),Wf()),e,r,l),l);break;default:M+="/"}break;case 123*y:o[u++]=Ni(M)*x;case 125*y:case 59:case 0:switch(w){case 0:case 125:b=0;case 59+c:x==-1&&(M=ct(M,/\f/g,"")),p>0&&Ni(M)-f&&Nu(p>32?I3(M+";",n,r,f-1,l):I3(ct(M," ","")+";",n,r,f-2,l),l);break;case 59:M+=";";default:if(Nu(P=A3(M,e,r,u,c,i,o,_,k=[],T=[],f,a),a),w===123)if(c===0)Gf(M,e,P,P,k,a,f,o,T);else switch(d===99&&$r(M,3)===110?100:d){case 100:case 108:case 109:case 115:Gf(t,P,P,n&&Nu(A3(t,P,P,0,0,i,o,_,i,k=[],f,T),T),i,T,f,o,n?k:T);break;default:Gf(M,P,P,P,[""],T,0,o,T)}}u=c=p=0,y=x=1,_=M="",f=s;break;case 58:f=1+Ni(M),p=g;default:if(y<1){if(w==123)--y;else if(w==125&&y++==0&&jP()==125)continue}switch(M+=n2(w),w*y){case 38:x=c>0?1:(M+="\f",-1);break;case 44:o[u++]=(Ni(M)-1)*x,x=1;break;case 64:Qs()===45&&(M+=wg(wi())),d=Qs(),c=f=Ni(_=M+=GP(Wf())),w++;break;case 45:g===45&&Ni(M)==2&&(y=0)}}return a}function A3(t,e,r,n,i,a,s,o,l,u,c,f){for(var d=i-1,p=i===0?a:[""],g=X9(p),y=0,b=0,x=0;y<n;++y)for(var w=0,_=Dl(t,d+1,d=G9(b=s[y])),k=t;w<g;++w)(k=Y9(b>0?p[w]+" "+_:ct(_,/&\f/g,p[w])))&&(l[x++]=k);return Nh(t,e,r,i===0?Rh:o,l,u,c,f)}function XP(t,e,r,n){return Nh(t,e,r,U9,n2($P()),Dl(t,2,-2),0,n)}function I3(t,e,r,n,i){return Nh(t,e,r,r2,Dl(t,0,n),Dl(t,n+1,-1),n,i)}function Z9(t,e,r){switch(BP(t,e)){case 5103:return Dt+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Dt+t+t;case 4789:return Qu+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Dt+t+Qu+t+Jt+t+t;case 5936:switch($r(t,e+11)){case 114:return Dt+t+Jt+ct(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Dt+t+Jt+ct(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Dt+t+Jt+ct(t,/[svh]\w+-[tblr]{2}/,"lr")+t}case 6828:case 4268:case 2903:return Dt+t+Jt+t+t;case 6165:return Dt+t+Jt+"flex-"+t+t;case 5187:return Dt+t+ct(t,/(\w+).+(:[^]+)/,Dt+"box-$1$2"+Jt+"flex-$1$2")+t;case 5443:return Dt+t+Jt+"flex-item-"+ct(t,/flex-|-self/g,"")+(ea(t,/flex-|baseline/)?"":Jt+"grid-row-"+ct(t,/flex-|-self/g,""))+t;case 4675:return Dt+t+Jt+"flex-line-pack"+ct(t,/align-content|flex-|-self/g,"")+t;case 5548:return Dt+t+Jt+ct(t,"shrink","negative")+t;case 5292:return Dt+t+Jt+ct(t,"basis","preferred-size")+t;case 6060:return Dt+"box-"+ct(t,"-grow","")+Dt+t+Jt+ct(t,"grow","positive")+t;case 4554:return Dt+ct(t,/([^-])(transform)/g,"$1"+Dt+"$2")+t;case 6187:return ct(ct(ct(t,/(zoom-|grab)/,Dt+"$1"),/(image-set)/,Dt+"$1"),t,"")+t;case 5495:case 3959:return ct(t,/(image-set\([^]*)/,Dt+"$1$`$1");case 4968:return ct(ct(t,/(.+:)(flex-)?(.*)/,Dt+"box-pack:$3"+Jt+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Dt+t+t;case 4200:if(!ea(t,/flex-|baseline/))return Jt+"grid-column-align"+Dl(t,e)+t;break;case 2592:case 3360:return Jt+ct(t,"template-","")+t;case 4384:case 3616:return r&&r.some(function(n,i){return e=i,ea(n.props,/grid-\w+-end/)})?~Uf(t+(r=r[e].value),"span",0)?t:Jt+ct(t,"-start","")+t+Jt+"grid-row-span:"+(~Uf(r,"span",0)?ea(r,/\d+/):+ea(r,/\d+/)-+ea(t,/\d+/))+";":Jt+ct(t,"-start","")+t;case 4896:case 4128:return r&&r.some(function(n){return ea(n.props,/grid-\w+-start/)})?t:Jt+ct(ct(t,"-end","-span"),"span ","")+t;case 4095:case 3583:case 4068:case 2532:return ct(t,/(.+)-inline(.+)/,Dt+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Ni(t)-1-e>6)switch($r(t,e+1)){case 109:if($r(t,e+4)!==45)break;case 102:return ct(t,/(.+:)(.+)-([^]+)/,"$1"+Dt+"$2-$3$1"+Qu+($r(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~Uf(t,"stretch",0)?Z9(ct(t,"stretch","fill-available"),e,r)+t:t}break;case 5152:case 5920:return ct(t,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(n,i,a,s,o,l,u){return Jt+i+":"+a+u+(s?Jt+i+"-span:"+(o?l:+l-+a)+u:"")+t});case 4949:if($r(t,e+6)===121)return ct(t,":",":"+Dt)+t;break;case 6444:switch($r(t,$r(t,14)===45?18:11)){case 120:return ct(t,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+Dt+($r(t,14)===45?"inline-":"")+"box$3$1"+Dt+"$2$3$1"+Jt+"$2box$3")+t;case 100:return ct(t,":",":"+Jt)+t}break;case 5719:case 2647:case 2135:case 3927:case 2391:return ct(t,"scroll-","scroll-snap-")+t}return t}function Nd(t,e){for(var r="",n=0;n<t.length;n++)r+=e(t[n],n,t,e)||"";return r}function KP(t,e,r,n){switch(t.type){case zP:if(t.children.length)break;case NP:case r2:return t.return=t.return||t.value;case U9:return"";case W9:return t.return=t.value+"{"+Nd(t.children,n)+"}";case Rh:if(!Ni(t.value=t.props.join(",")))return""}return Ni(r=Nd(t.children,n))?t.return=t.value+"{"+r+"}":""}function ZP(t){var e=X9(t);return function(r,n,i,a){for(var s="",o=0;o<e;o++)s+=t[o](r,n,i,a)||"";return s}}function QP(t){return function(e){e.root||(e=e.return)&&t(e)}}function JP(t,e,r,n){if(t.length>-1&&!t.return)switch(t.type){case r2:t.return=Z9(t.value,t.length,r);return;case W9:return Nd([Na(t,{value:ct(t.value,"@","@"+Dt)})],n);case Rh:if(t.length)return FP(r=t.props,function(i){switch(ea(i,n=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":Do(Na(t,{props:[ct(i,/:(read-\w+)/,":"+Qu+"$1")]})),Do(Na(t,{props:[i]})),s1(t,{props:D3(r,n)});break;case"::placeholder":Do(Na(t,{props:[ct(i,/:(plac\w+)/,":"+Dt+"input-$1")]})),Do(Na(t,{props:[ct(i,/:(plac\w+)/,":"+Qu+"$1")]})),Do(Na(t,{props:[ct(i,/:(plac\w+)/,Jt+"input-$1")]})),Do(Na(t,{props:[i]})),s1(t,{props:D3(r,n)});break}return""})}}var eD={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Il=typeof process<"u"&&process.env!==void 0&&({}.REACT_APP_SC_ATTR||{}.SC_ATTR)||"data-styled",Q9="active",J9="data-styled-version",Bh="6.1.17",i2=`/*!sc*/
`,zd=typeof window<"u"&&"HTMLElement"in window,tD=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&process.env!==void 0&&{}.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&{}.REACT_APP_SC_DISABLE_SPEEDY!==""?{}.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&{}.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&process.env!==void 0&&{}.SC_DISABLE_SPEEDY!==void 0&&{}.SC_DISABLE_SPEEDY!==""&&{}.SC_DISABLE_SPEEDY!=="false"&&{}.SC_DISABLE_SPEEDY),rD={},Fh=Object.freeze([]),Ll=Object.freeze({});function e_(t,e,r){return r===void 0&&(r=Ll),t.theme!==r.theme&&t.theme||e||r.theme}var t_=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),nD=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,iD=/(^-|-$)/g;function L3(t){return t.replace(nD,"-").replace(iD,"")}var aD=/(a)(d)/gi,Z0=52,R3=function(t){return String.fromCharCode(t+(t>25?39:97))};function u1(t){var e,r="";for(e=Math.abs(t);e>Z0;e=e/Z0|0)r=R3(e%Z0)+r;return(R3(e%Z0)+r).replace(aD,"$1-$2")}var _g,r_=5381,nl=function(t,e){for(var r=e.length;r;)t=33*t^e.charCodeAt(--r);return t},n_=function(t){return nl(r_,t)};function i_(t){return u1(n_(t)>>>0)}function sD(t){return t.displayName||t.name||"Component"}function Sg(t){return typeof t=="string"&&!0}var a_=typeof Symbol=="function"&&Symbol.for,s_=a_?Symbol.for("react.memo"):60115,oD=a_?Symbol.for("react.forward_ref"):60112,lD={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},uD={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o_={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},cD=((_g={})[oD]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},_g[s_]=o_,_g);function O3(t){return("type"in(e=t)&&e.type.$$typeof)===s_?o_:"$$typeof"in t?cD[t.$$typeof]:lD;var e}var fD=Object.defineProperty,dD=Object.getOwnPropertyNames,N3=Object.getOwnPropertySymbols,hD=Object.getOwnPropertyDescriptor,pD=Object.getPrototypeOf,z3=Object.prototype;function l_(t,e,r){if(typeof e!="string"){if(z3){var n=pD(e);n&&n!==z3&&l_(t,n,r)}var i=dD(e);N3&&(i=i.concat(N3(e)));for(var a=O3(t),s=O3(e),o=0;o<i.length;++o){var l=i[o];if(!(l in uD||r&&r[l]||s&&l in s||a&&l in a)){var u=hD(e,l);try{fD(t,l,u)}catch{}}}}return t}function oo(t){return typeof t=="function"}function a2(t){return typeof t=="object"&&"styledComponentId"in t}function Gs(t,e){return t&&e?"".concat(t," ").concat(e):t||e||""}function c1(t,e){if(t.length===0)return"";for(var r=t[0],n=1;n<t.length;n++)r+=e?e+t[n]:t[n];return r}function Cc(t){return t!==null&&typeof t=="object"&&t.constructor.name===Object.name&&!("props"in t&&t.$$typeof)}function f1(t,e,r){if(r===void 0&&(r=!1),!r&&!Cc(t)&&!Array.isArray(t))return e;if(Array.isArray(e))for(var n=0;n<e.length;n++)t[n]=f1(t[n],e[n]);else if(Cc(e))for(var n in e)t[n]=f1(t[n],e[n]);return t}function s2(t,e){Object.defineProperty(t,"toString",{value:e})}function ls(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(t," for more information.").concat(e.length>0?" Args: ".concat(e.join(", ")):""))}var gD=function(){function t(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return t.prototype.indexOfGroup=function(e){for(var r=0,n=0;n<e;n++)r+=this.groupSizes[n];return r},t.prototype.insertRules=function(e,r){if(e>=this.groupSizes.length){for(var n=this.groupSizes,i=n.length,a=i;e>=a;)if((a<<=1)<0)throw ls(16,"".concat(e));this.groupSizes=new Uint32Array(a),this.groupSizes.set(n),this.length=a;for(var s=i;s<a;s++)this.groupSizes[s]=0}for(var o=this.indexOfGroup(e+1),l=(s=0,r.length);s<l;s++)this.tag.insertRule(o,r[s])&&(this.groupSizes[e]++,o++)},t.prototype.clearGroup=function(e){if(e<this.length){var r=this.groupSizes[e],n=this.indexOfGroup(e),i=n+r;this.groupSizes[e]=0;for(var a=n;a<i;a++)this.tag.deleteRule(n)}},t.prototype.getGroup=function(e){var r="";if(e>=this.length||this.groupSizes[e]===0)return r;for(var n=this.groupSizes[e],i=this.indexOfGroup(e),a=i+n,s=i;s<a;s++)r+="".concat(this.tag.getRule(s)).concat(i2);return r},t}(),Yf=new Map,Bd=new Map,Xf=1,Q0=function(t){if(Yf.has(t))return Yf.get(t);for(;Bd.has(Xf);)Xf++;var e=Xf++;return Yf.set(t,e),Bd.set(e,t),e},mD=function(t,e){Xf=e+1,Yf.set(t,e),Bd.set(e,t)},vD="style[".concat(Il,"][").concat(J9,'="').concat(Bh,'"]'),yD=new RegExp("^".concat(Il,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),xD=function(t,e,r){for(var n,i=r.split(","),a=0,s=i.length;a<s;a++)(n=i[a])&&t.registerName(e,n)},bD=function(t,e){for(var r,n=((r=e.textContent)!==null&&r!==void 0?r:"").split(i2),i=[],a=0,s=n.length;a<s;a++){var o=n[a].trim();if(o){var l=o.match(yD);if(l){var u=0|parseInt(l[1],10),c=l[2];u!==0&&(mD(c,u),xD(t,c,l[3]),t.getTag().insertRules(u,i)),i.length=0}else i.push(o)}}},B3=function(t){for(var e=document.querySelectorAll(vD),r=0,n=e.length;r<n;r++){var i=e[r];i&&i.getAttribute(Il)!==Q9&&(bD(t,i),i.parentNode&&i.parentNode.removeChild(i))}};function wD(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var u_=function(t){var e=document.head,r=t||e,n=document.createElement("style"),i=function(o){var l=Array.from(o.querySelectorAll("style[".concat(Il,"]")));return l[l.length-1]}(r),a=i!==void 0?i.nextSibling:null;n.setAttribute(Il,Q9),n.setAttribute(J9,Bh);var s=wD();return s&&n.setAttribute("nonce",s),r.insertBefore(n,a),n},_D=function(){function t(e){this.element=u_(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(r){if(r.sheet)return r.sheet;for(var n=document.styleSheets,i=0,a=n.length;i<a;i++){var s=n[i];if(s.ownerNode===r)return s}throw ls(17)}(this.element),this.length=0}return t.prototype.insertRule=function(e,r){try{return this.sheet.insertRule(r,e),this.length++,!0}catch{return!1}},t.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.prototype.getRule=function(e){var r=this.sheet.cssRules[e];return r&&r.cssText?r.cssText:""},t}(),SD=function(){function t(e){this.element=u_(e),this.nodes=this.element.childNodes,this.length=0}return t.prototype.insertRule=function(e,r){if(e<=this.length&&e>=0){var n=document.createTextNode(r);return this.element.insertBefore(n,this.nodes[e]||null),this.length++,!0}return!1},t.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},t}(),kD=function(){function t(e){this.rules=[],this.length=0}return t.prototype.insertRule=function(e,r){return e<=this.length&&(this.rules.splice(e,0,r),this.length++,!0)},t.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},t}(),F3=zd,TD={isServer:!zd,useCSSOMInjection:!tD},Fd=function(){function t(e,r,n){e===void 0&&(e=Ll),r===void 0&&(r={});var i=this;this.options=qr(qr({},TD),e),this.gs=r,this.names=new Map(n),this.server=!!e.isServer,!this.server&&zd&&F3&&(F3=!1,B3(this)),s2(this,function(){return function(a){for(var s=a.getTag(),o=s.length,l="",u=function(f){var d=function(x){return Bd.get(x)}(f);if(d===void 0)return"continue";var p=a.names.get(d),g=s.getGroup(f);if(p===void 0||!p.size||g.length===0)return"continue";var y="".concat(Il,".g").concat(f,'[id="').concat(d,'"]'),b="";p!==void 0&&p.forEach(function(x){x.length>0&&(b+="".concat(x,","))}),l+="".concat(g).concat(y,'{content:"').concat(b,'"}').concat(i2)},c=0;c<o;c++)u(c);return l}(i)})}return t.registerId=function(e){return Q0(e)},t.prototype.rehydrate=function(){!this.server&&zd&&B3(this)},t.prototype.reconstructWithOptions=function(e,r){return r===void 0&&(r=!0),new t(qr(qr({},this.options),e),this.gs,r&&this.names||void 0)},t.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.prototype.getTag=function(){return this.tag||(this.tag=(e=function(r){var n=r.useCSSOMInjection,i=r.target;return r.isServer?new kD(i):n?new _D(i):new SD(i)}(this.options),new gD(e)));var e},t.prototype.hasNameForId=function(e,r){return this.names.has(e)&&this.names.get(e).has(r)},t.prototype.registerName=function(e,r){if(Q0(e),this.names.has(e))this.names.get(e).add(r);else{var n=new Set;n.add(r),this.names.set(e,n)}},t.prototype.insertRules=function(e,r,n){this.registerName(e,r),this.getTag().insertRules(Q0(e),n)},t.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.prototype.clearRules=function(e){this.getTag().clearGroup(Q0(e)),this.clearNames(e)},t.prototype.clearTag=function(){this.tag=void 0},t}(),ED=/&/g,CD=/^\s*\/\/.*$/gm;function c_(t,e){return t.map(function(r){return r.type==="rule"&&(r.value="".concat(e," ").concat(r.value),r.value=r.value.replaceAll(",",",".concat(e," ")),r.props=r.props.map(function(n){return"".concat(e," ").concat(n)})),Array.isArray(r.children)&&r.type!=="@keyframes"&&(r.children=c_(r.children,e)),r})}function MD(t){var e,r,n,i=t===void 0?Ll:t,a=i.options,s=a===void 0?Ll:a,o=i.plugins,l=o===void 0?Fh:o,u=function(d,p,g){return g.startsWith(r)&&g.endsWith(r)&&g.replaceAll(r,"").length>0?".".concat(e):d},c=l.slice();c.push(function(d){d.type===Rh&&d.value.includes("&")&&(d.props[0]=d.props[0].replace(ED,r).replace(n,u))}),s.prefix&&c.push(JP),c.push(KP);var f=function(d,p,g,y){p===void 0&&(p=""),g===void 0&&(g=""),y===void 0&&(y="&"),e=y,r=p,n=new RegExp("\\".concat(r,"\\b"),"g");var b=d.replace(CD,""),x=YP(g||p?"".concat(g," ").concat(p," { ").concat(b," }"):b);s.namespace&&(x=c_(x,s.namespace));var w=[];return Nd(x,ZP(c.concat(QP(function(_){return w.push(_)})))),w};return f.hash=l.length?l.reduce(function(d,p){return p.name||ls(15),nl(d,p.name)},r_).toString():"",f}var PD=new Fd,d1=MD(),f_=dt.createContext({shouldForwardProp:void 0,styleSheet:PD,stylis:d1});f_.Consumer;dt.createContext(void 0);function h1(){return Q.useContext(f_)}var DD=function(){function t(e,r){var n=this;this.inject=function(i,a){a===void 0&&(a=d1);var s=n.name+a.hash;i.hasNameForId(n.id,s)||i.insertRules(n.id,s,a(n.rules,s,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=r,s2(this,function(){throw ls(12,String(n.name))})}return t.prototype.getName=function(e){return e===void 0&&(e=d1),this.name+e.hash},t}(),AD=function(t){return t>="A"&&t<="Z"};function $3(t){for(var e="",r=0;r<t.length;r++){var n=t[r];if(r===1&&n==="-"&&t[0]==="-")return t;AD(n)?e+="-"+n.toLowerCase():e+=n}return e.startsWith("ms-")?"-"+e:e}var d_=function(t){return t==null||t===!1||t===""},h_=function(t){var e,r,n=[];for(var i in t){var a=t[i];t.hasOwnProperty(i)&&!d_(a)&&(Array.isArray(a)&&a.isCss||oo(a)?n.push("".concat($3(i),":"),a,";"):Cc(a)?n.push.apply(n,Ec(Ec(["".concat(i," {")],h_(a),!1),["}"],!1)):n.push("".concat($3(i),": ").concat((e=i,(r=a)==null||typeof r=="boolean"||r===""?"":typeof r!="number"||r===0||e in eD||e.startsWith("--")?String(r).trim():"".concat(r,"px")),";")))}return n};function ts(t,e,r,n){if(d_(t))return[];if(a2(t))return[".".concat(t.styledComponentId)];if(oo(t)){if(!oo(a=t)||a.prototype&&a.prototype.isReactComponent||!e)return[t];var i=t(e);return ts(i,e,r,n)}var a;return t instanceof DD?r?(t.inject(r,n),[t.getName(n)]):[t]:Cc(t)?h_(t):Array.isArray(t)?Array.prototype.concat.apply(Fh,t.map(function(s){return ts(s,e,r,n)})):[t.toString()]}function p_(t){for(var e=0;e<t.length;e+=1){var r=t[e];if(oo(r)&&!a2(r))return!1}return!0}var ID=n_(Bh),LD=function(){function t(e,r,n){this.rules=e,this.staticRulesId="",this.isStatic=(n===void 0||n.isStatic)&&p_(e),this.componentId=r,this.baseHash=nl(ID,r),this.baseStyle=n,Fd.registerId(r)}return t.prototype.generateAndInjectStyles=function(e,r,n){var i=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,r,n):"";if(this.isStatic&&!n.hash)if(this.staticRulesId&&r.hasNameForId(this.componentId,this.staticRulesId))i=Gs(i,this.staticRulesId);else{var a=c1(ts(this.rules,e,r,n)),s=u1(nl(this.baseHash,a)>>>0);if(!r.hasNameForId(this.componentId,s)){var o=n(a,".".concat(s),void 0,this.componentId);r.insertRules(this.componentId,s,o)}i=Gs(i,s),this.staticRulesId=s}else{for(var l=nl(this.baseHash,n.hash),u="",c=0;c<this.rules.length;c++){var f=this.rules[c];if(typeof f=="string")u+=f;else if(f){var d=c1(ts(f,e,r,n));l=nl(l,d+c),u+=d}}if(u){var p=u1(l>>>0);r.hasNameForId(this.componentId,p)||r.insertRules(this.componentId,p,n(u,".".concat(p),void 0,this.componentId)),i=Gs(i,p)}}return i},t}(),Rl=dt.createContext(void 0);Rl.Consumer;function o2(){var t=Q.useContext(Rl);if(!t)throw ls(18);return t}function RD(t){var e=dt.useContext(Rl),r=Q.useMemo(function(){return function(n,i){if(!n)throw ls(14);if(oo(n)){var a=n(i);return a}if(Array.isArray(n)||typeof n!="object")throw ls(8);return i?qr(qr({},i),n):n}(t.theme,e)},[t.theme,e]);return t.children?dt.createElement(Rl.Provider,{value:r},t.children):null}var kg={};function OD(t,e,r){var n=a2(t),i=t,a=!Sg(t),s=e.attrs,o=s===void 0?Fh:s,l=e.componentId,u=l===void 0?function(k,T){var P=typeof k!="string"?"sc":L3(k);kg[P]=(kg[P]||0)+1;var M="".concat(P,"-").concat(i_(Bh+P+kg[P]));return T?"".concat(T,"-").concat(M):M}(e.displayName,e.parentComponentId):l,c=e.displayName,f=c===void 0?function(k){return Sg(k)?"styled.".concat(k):"Styled(".concat(sD(k),")")}(t):c,d=e.displayName&&e.componentId?"".concat(L3(e.displayName),"-").concat(e.componentId):e.componentId||u,p=n&&i.attrs?i.attrs.concat(o).filter(Boolean):o,g=e.shouldForwardProp;if(n&&i.shouldForwardProp){var y=i.shouldForwardProp;if(e.shouldForwardProp){var b=e.shouldForwardProp;g=function(k,T){return y(k,T)&&b(k,T)}}else g=y}var x=new LD(r,d,n?i.componentStyle:void 0);function w(k,T){return function(P,M,A){var L=P.attrs,R=P.componentStyle,N=P.defaultProps,F=P.foldedComponentIds,$=P.styledComponentId,V=P.target,X=dt.useContext(Rl),K=h1(),W=P.shouldForwardProp||K.shouldForwardProp,H=e_(M,X,N)||Ll,ee=function(ge,fe,Se){for(var Te,ve=qr(qr({},fe),{className:void 0,theme:Se}),se=0;se<ge.length;se+=1){var ye=oo(Te=ge[se])?Te(ve):Te;for(var we in ye)ve[we]=we==="className"?Gs(ve[we],ye[we]):we==="style"?qr(qr({},ve[we]),ye[we]):ye[we]}return fe.className&&(ve.className=Gs(ve.className,fe.className)),ve}(L,M,H),re=ee.as||V,G={};for(var Z in ee)ee[Z]===void 0||Z[0]==="$"||Z==="as"||Z==="theme"&&ee.theme===H||(Z==="forwardedAs"?G.as=ee.forwardedAs:W&&!W(Z,re)||(G[Z]=ee[Z]));var ue=function(ge,fe){var Se=h1(),Te=ge.generateAndInjectStyles(fe,Se.styleSheet,Se.stylis);return Te}(R,ee),pe=Gs(F,$);return ue&&(pe+=" "+ue),ee.className&&(pe+=" "+ee.className),G[Sg(re)&&!t_.has(re)?"class":"className"]=pe,A&&(G.ref=A),Q.createElement(re,G)}(_,k,T)}w.displayName=f;var _=dt.forwardRef(w);return _.attrs=p,_.componentStyle=x,_.displayName=f,_.shouldForwardProp=g,_.foldedComponentIds=n?Gs(i.foldedComponentIds,i.styledComponentId):"",_.styledComponentId=d,_.target=n?i.target:t,Object.defineProperty(_,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(k){this._foldedDefaultProps=n?function(T){for(var P=[],M=1;M<arguments.length;M++)P[M-1]=arguments[M];for(var A=0,L=P;A<L.length;A++)f1(T,L[A],!0);return T}({},i.defaultProps,k):k}}),s2(_,function(){return".".concat(_.styledComponentId)}),a&&l_(_,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),_}function j3(t,e){for(var r=[t[0]],n=0,i=e.length;n<i;n+=1)r.push(e[n],t[n+1]);return r}var q3=function(t){return Object.assign(t,{isCss:!0})};function g_(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(oo(t)||Cc(t))return q3(ts(j3(Fh,Ec([t],e,!0))));var n=t;return e.length===0&&n.length===1&&typeof n[0]=="string"?ts(n):q3(ts(j3(n,e)))}function p1(t,e,r){if(r===void 0&&(r=Ll),!e)throw ls(1,e);var n=function(i){for(var a=[],s=1;s<arguments.length;s++)a[s-1]=arguments[s];return t(e,r,g_.apply(void 0,Ec([i],a,!1)))};return n.attrs=function(i){return p1(t,e,qr(qr({},r),{attrs:Array.prototype.concat(r.attrs,i).filter(Boolean)}))},n.withConfig=function(i){return p1(t,e,qr(qr({},r),i))},n}var m_=function(t){return p1(OD,t)},Ee=m_;t_.forEach(function(t){Ee[t]=m_(t)});var ND=function(){function t(e,r){this.rules=e,this.componentId=r,this.isStatic=p_(e),Fd.registerId(this.componentId+1)}return t.prototype.createStyles=function(e,r,n,i){var a=i(c1(ts(this.rules,r,n,i)),""),s=this.componentId+e;n.insertRules(s,s,a)},t.prototype.removeStyles=function(e,r){r.clearRules(this.componentId+e)},t.prototype.renderStyles=function(e,r,n,i){e>2&&Fd.registerId(this.componentId+e),this.removeStyles(e,n),this.createStyles(e,r,n,i)},t}();function zD(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];var n=g_.apply(void 0,Ec([t],e,!1)),i="sc-global-".concat(i_(JSON.stringify(n))),a=new ND(n,i),s=function(l){var u=h1(),c=dt.useContext(Rl),f=dt.useRef(u.styleSheet.allocateGSInstance(i)).current;return u.styleSheet.server&&o(f,l,u.styleSheet,c,u.stylis),dt.useLayoutEffect(function(){if(!u.styleSheet.server)return o(f,l,u.styleSheet,c,u.stylis),function(){return a.removeStyles(f,u.styleSheet)}},[f,l,u.styleSheet,c,u.stylis]),null};function o(l,u,c,f,d){if(a.isStatic)a.renderStyles(l,rD,c,d);else{var p=qr(qr({},u),{theme:e_(u,f,s.defaultProps)});a.renderStyles(l,p,c,d)}}return dt.memo(s)}const l2=({children:t})=>z.jsx(BD,{children:t}),BD=Ee.div.withConfig({displayName:"Container__Wrapper",componentId:"sc-qct6p6-0"})(["width:1450px;max-width:90vw;margin:0 auto;flex:1;@media (max-width:1600px){width:1140px;}@media (max-width:768px){width:100%;}"]),FD=(t,e,r,n)=>{var a,s,o,l;const i=[r,{code:e,...n||{}}];if((s=(a=t==null?void 0:t.services)==null?void 0:a.logger)!=null&&s.forward)return t.services.logger.forward(i,"warn","react-i18next::",!0);Js(i[0])&&(i[0]=`react-i18next:: ${i[0]}`),(l=(o=t==null?void 0:t.services)==null?void 0:o.logger)!=null&&l.warn?t.services.logger.warn(...i):console!=null&&console.warn&&console.warn(...i)},H3={},g1=(t,e,r,n)=>{Js(r)&&H3[r]||(Js(r)&&(H3[r]=new Date),FD(t,e,r,n))},v_=(t,e)=>()=>{if(t.isInitialized)e();else{const r=()=>{setTimeout(()=>{t.off("initialized",r)},0),e()};t.on("initialized",r)}},m1=(t,e,r)=>{t.loadNamespaces(e,v_(t,r))},V3=(t,e,r,n)=>{if(Js(r)&&(r=[r]),t.options.preload&&t.options.preload.indexOf(e)>-1)return m1(t,r,n);r.forEach(i=>{t.options.ns.indexOf(i)<0&&t.options.ns.push(i)}),t.loadLanguages(e,v_(t,n))},$D=(t,e,r={})=>!e.languages||!e.languages.length?(g1(e,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:e.languages}),!0):e.hasLoadedNamespace(t,{lng:r.lng,precheck:(n,i)=>{var a;if(((a=r.bindI18n)==null?void 0:a.indexOf("languageChanging"))>-1&&n.services.backendConnector.backend&&n.isLanguageChangingTo&&!i(n.isLanguageChangingTo,t))return!1}}),Js=t=>typeof t=="string",jD=t=>typeof t=="object"&&t!==null,qD=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,HD={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},VD=t=>HD[t],UD=t=>t.replace(qD,VD);let v1={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:UD};const WD=(t={})=>{v1={...v1,...t}},GD=()=>v1;let y_;const YD=t=>{y_=t},XD=()=>y_,KD={type:"3rdParty",init(t){WD(t.options.react),YD(t)}},ZD=Q.createContext();class QD{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(r=>{this.usedNamespaces[r]||(this.usedNamespaces[r]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const JD=(t,e)=>{const r=Q.useRef();return Q.useEffect(()=>{r.current=e?r.current:t},[t,e]),r.current},x_=(t,e,r,n)=>t.getFixedT(e,r,n),eA=(t,e,r,n)=>Q.useCallback(x_(t,e,r,n),[t,e,r,n]),Xt=(t,e={})=>{var k,T,P,M;const{i18n:r}=e,{i18n:n,defaultNS:i}=Q.useContext(ZD)||{},a=r||n||XD();if(a&&!a.reportNamespaces&&(a.reportNamespaces=new QD),!a){g1(a,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const A=(R,N)=>Js(N)?N:jD(N)&&Js(N.defaultValue)?N.defaultValue:Array.isArray(R)?R[R.length-1]:R,L=[A,{},!1];return L.t=A,L.i18n={},L.ready=!1,L}(k=a.options.react)!=null&&k.wait&&g1(a,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const s={...GD(),...a.options.react,...e},{useSuspense:o,keyPrefix:l}=s;let u=t||i||((T=a.options)==null?void 0:T.defaultNS);u=Js(u)?[u]:u||["translation"],(M=(P=a.reportNamespaces).addUsedNamespaces)==null||M.call(P,u);const c=(a.isInitialized||a.initializedStoreOnce)&&u.every(A=>$D(A,a,s)),f=eA(a,e.lng||null,s.nsMode==="fallback"?u:u[0],l),d=()=>f,p=()=>x_(a,e.lng||null,s.nsMode==="fallback"?u:u[0],l),[g,y]=Q.useState(d);let b=u.join();e.lng&&(b=`${e.lng}${b}`);const x=JD(b),w=Q.useRef(!0);Q.useEffect(()=>{const{bindI18n:A,bindI18nStore:L}=s;w.current=!0,!c&&!o&&(e.lng?V3(a,e.lng,u,()=>{w.current&&y(p)}):m1(a,u,()=>{w.current&&y(p)})),c&&x&&x!==b&&w.current&&y(p);const R=()=>{w.current&&y(p)};return A&&(a==null||a.on(A,R)),L&&(a==null||a.store.on(L,R)),()=>{w.current=!1,a&&(A==null||A.split(" ").forEach(N=>a.off(N,R))),L&&a&&L.split(" ").forEach(N=>a.store.off(N,R))}},[a,b]),Q.useEffect(()=>{w.current&&c&&y(d)},[a,l,c]);const _=[g,a,c];if(_.t=g,_.i18n=a,_.ready=c,c||!c&&!o)return _;throw new Promise(A=>{e.lng?V3(a,e.lng,u,()=>A()):m1(a,u,()=>A())})},tA=()=>z.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"20px",viewBox:"0 -960 960 960",width:"20px",fill:"#FFFFFF",children:z.jsx("path",{d:"M432.31-280.46H283.54q-82.81 0-141.17-58.47Q84-397.4 84-480.35q0-82.96 58.37-141.07 58.36-58.12 141.17-58.12h148.77v78H283.54q-50.39 0-85.96 35.58Q162-530.38 162-480q0 50.38 35.58 85.96 35.57 35.58 85.96 35.58h148.77v78ZM328-442v-78h304v78H328Zm199.69 161.54v-78h148.77q50.39 0 85.96-35.58Q798-429.62 798-480q0-50.38-35.58-85.96-35.57-35.58-85.96-35.58H527.69v-78h148.77q82.81 0 141.17 58.47Q876-562.6 876-479.65q0 82.96-58.37 141.07-58.36 58.12-141.17 58.12H527.69Z"})}),rA=()=>z.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"20px",viewBox:"0 -960 960 960",width:"20px",fill:"#FFFFFF",children:z.jsx("path",{d:"M760.38-302.85 699-360.46q42.16-12.3 69.58-45.42Q796-439 796-480q0-50.38-35.38-85.96-35.39-35.58-85.39-35.58H524.92v-78h150.31q82.39 0 140.58 58.45Q874-562.65 874-479.78q0 56.52-31.04 103.19-31.04 46.67-82.58 73.74ZM617.23-442l-78-78h90v78h-12ZM768.85-76.85l-692-694L133-825l692 692-56.15 56.15ZM433.08-280.46H285.54q-82.78 0-141.16-58.38Q86-397.22 86-480q0-62.62 35.96-112.5t104.81-81.34H236l69.31 72.3h-18.77q-51.39 0-86.96 35.58Q164-530.38 164-480q0 50.38 35.58 85.96 35.57 35.58 85.96 35.58h147.54v78ZM330.77-442v-78h50.69l77 78H330.77Z"})}),b_=()=>z.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"20px",viewBox:"0 -960 960 960",width:"20px",fill:"#FFFFFF",children:z.jsx("path",{d:"m370-286 304-194-304-194v388ZM480.28-64q-85.92 0-161.76-32.52-75.84-32.52-132.66-89.34-56.82-56.82-89.34-132.62Q64-394.28 64-480.46q0-86.44 32.58-162 32.58-75.57 89.5-132.55Q243-832 318.7-864q75.69-32 161.76-32 86.43 0 161.98 32Q718-832 775-775t89 132.81q32 75.81 32 162T864-318.5q-32 75.5-88.99 132.42-56.98 56.92-132.77 89.5Q566.45-64 480.28-64Zm-.28-98q132.51 0 225.26-92.74Q798-347.49 798-480t-92.74-225.26Q612.51-798 480-798t-225.26 92.74Q162-612.51 162-480t92.74 225.26Q347.49-162 480-162Zm0-318Z"})}),nA=()=>z.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"20px",viewBox:"0 -960 960 960",width:"20px",fill:"#FFFFFF",children:z.jsx("path",{d:"M333-333h294v-294H333v294ZM480.34-84q-81.75 0-153.96-30.94-72.21-30.94-126.34-85.05-54.13-54.11-85.09-126.25Q84-398.37 84-480.39q0-82.28 31-154.21t85.21-126.23q54.21-54.3 126.25-84.74Q398.49-876 480.39-876q82.27 0 154.19 30.42 71.93 30.42 126.24 84.71 54.31 54.29 84.75 126.44Q876-562.29 876-480.26q0 82.03-30.42 153.9t-84.7 126.1q-54.28 54.23-126.4 85.25Q562.35-84 480.34-84Zm-.34-78q132.51 0 225.26-92.74Q798-347.49 798-480t-92.74-225.26Q612.51-798 480-798t-225.26 92.74Q162-612.51 162-480t92.74 225.26Q347.49-162 480-162Zm0-318Z"})}),w_=()=>z.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"20px",viewBox:"0 -960 960 960",width:"20px",fill:"#FFFFFF",children:z.jsx("path",{d:"m501.85-481-186-186L376-727.15 622.15-481 376-234.85 315.85-295l186-186Z"})}),iA=()=>z.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"20px",viewBox:"0 -960 960 960",width:"20px",fill:"#FFFFFF",children:z.jsx("path",{d:"M431-168q-93-18-155-91t-62-171q0-45 11.5-84t29.5-77l32 32q-12 29-19.5 62.5T260-430q0 80 49 138t122 77v47Zm98 2v-47q74-20 123-78.5T701-430q0-90-60-155.5T492-651h-33l60 60-33 33-116-116 116-116 33 34-59 59h32q107 0 181 79t74 188q0 100-62.5 172.5T529-166Z"})}),aA=()=>z.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"20px",viewBox:"0 -960 960 960",width:"20px",fill:"#FFFFFF",children:z.jsx("path",{d:"M142-203v-560l694.46 280L142-203Zm62-94 464-187-464-187v118.69L410.92-484 204-415.69V-297Zm0 0v-374 374Z"})}),sA=()=>z.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"20px",viewBox:"0 -960 960 960",width:"20px",fill:"#FFFFFF",children:z.jsx("path",{d:"M373.15-225v-78h78.62l117.46-127-117.46-126h-68.39l-62 305.92q-14.53 60.16-50.53 94.12-36 33.96-79.93 33.96-43 0-74.3-30.19-31.31-30.2-31.31-67.96 0-24 15.61-40.93Q116.54-278 141.31-278q22.77 0 36.88 14.81 14.12 14.81 14.12 37.96 0 6.08-4.08 14.19-4.08 8.12-10.31 11.58 3.92 2.92 8.39 4.27 4.46 1.34 10.69 1.34 18.08 1.39 27.89-11.53 9.8-12.93 14.88-39.7L305.16-556H199.85v-78h120.46l17.23-71.38q14.77-65.23 48.31-99.93Q419.39-840 466.69-840q44.39 0 75.69 27.62 31.31 27.61 31.31 66.76 0 26.77-15.61 43.7Q542.46-685 517.69-685q-22.77 0-36.88-14.62-14.12-14.61-14.12-36.38 0-6.08 4.08-14.19 4.08-8.12 10.69-11.58-3.92-3.31-8.96-4.85-5.04-1.53-11.27-1.53-15.54-2.77-25.96 9.5-10.42 12.27-14.35 34.42l-22 90.23h191.23v78h-36.92l67.92 76.39L690.08-556h-37.93v-78h217v78h-77.61L672.08-430l120.84 127h76.23v78h-217v-78h37.93l-68.93-75-68.92 75h37.92v78h-217Z"})}),oA=()=>z.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"20px",viewBox:"0 -960 960 960",width:"20px",fill:"#FFFFFF",children:z.jsx("path",{d:"M354.16-330h77.99v-300h-77.99v300Zm173.69 0h77.99v-300h-77.99v300ZM480.34-84q-81.75 0-153.96-30.94-72.21-30.94-126.34-85.05-54.13-54.11-85.09-126.25Q84-398.37 84-480.39q0-82.28 31-154.21t85.21-126.23q54.21-54.3 126.25-84.74Q398.49-876 480.39-876q82.27 0 154.19 30.42 71.93 30.42 126.24 84.71 54.31 54.29 84.75 126.44Q876-562.29 876-480.26q0 82.03-30.42 153.9t-84.7 126.1q-54.28 54.23-126.4 85.25Q562.35-84 480.34-84Zm-.34-78q132.51 0 225.26-92.74Q798-347.49 798-480t-92.74-225.26Q612.51-798 480-798t-225.26 92.74Q162-612.51 162-480t92.74 225.26Q347.49-162 480-162Zm0-318Z"})}),lA=()=>z.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"20px",viewBox:"0 -960 960 960",width:"20px",fill:"#FFFFFF",children:z.jsx("path",{d:"m337-281.85 143-143 143 143L678.15-337l-143-143 143-143L623-678.15l-143 143-143-143L281.85-623l143 143-143 143L337-281.85ZM480.07-84q-81.48 0-153.69-30.94t-126.34-85.05q-54.13-54.11-85.09-126.29Q84-398.46 84-479.93q0-82.74 31-154.67 31-71.93 85.21-126.23 54.21-54.3 126.29-84.74Q398.57-876 479.93-876q82.73 0 154.65 30.42 71.93 30.42 126.24 84.71 54.31 54.29 84.75 126.21Q876-562.74 876-479.98q0 81.75-30.42 153.62t-84.7 126.1q-54.28 54.23-126.18 85.25Q562.8-84 480.07-84Zm-.07-78q132.51 0 225.26-92.74Q798-347.49 798-480t-92.74-225.26Q612.51-798 480-798t-225.26 92.74Q162-612.51 162-480t92.74 225.26Q347.49-162 480-162Zm0-318Z"})}),uA=()=>z.jsx("svg",{height:"20px",viewBox:"0 -960 960 960",width:"20px",fill:"#1f1f1f",version:"1.1",xmlns:"http://www.w3.org/2000/svg",children:z.jsxs("g",{id:"g5",transform:"matrix(1.0338603,0,0,1.0338603,-47.049303,47.049303)",style:{strokeWidth:.967249},children:[z.jsx("circle",{style:{fill:"none",stroke:"#1f1f1f",strokeWidth:97.8343,strokeOpacity:1},id:"path2",cx:"660.93024",cy:"-660.93024",r:"194.39052"}),z.jsx("path",{style:{fill:"none",stroke:"#1f1f1f",strokeWidth:88.2131,strokeOpacity:1},d:"M 180.78321,-408.81133 344.32319,-572.35131",id:"path3"}),z.jsx("path",{style:{fill:"none",stroke:"#1f1f1f",strokeWidth:88.2131,strokeOpacity:1},d:"M 408.81133,-180.78321 572.35131,-344.32319",id:"path3-5"}),z.jsx("path",{style:{fill:"none",stroke:"#1f1f1f",strokeWidth:88.2131,strokeOpacity:1},d:"M 146.52561,-146.52561 383.72215,-383.72215",id:"path3-8"})]})}),cA=()=>z.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"20px",viewBox:"0 -960 960 960",width:"20px",fill:"#1f1f1f",children:z.jsx("path",{d:"M76.05-182q-37.75 0-63.9-26.3Q-14-234.61-14-272.36v-415.59q0-37.75 26.3-63.9Q38.59-778 76.34-778h807.61q37.75 0 63.9 26.3Q974-725.39 974-687.64v415.59q0 37.75-26.3 63.9Q921.41-182 883.66-182H76.05Zm.26-78h807.38q4.62 0 8.46-3.85 3.85-3.84 3.85-8.46v-415.38q0-4.62-3.85-8.46-3.84-3.85-8.46-3.85H727v204.61h-78V-700H519v204.61h-78V-700H311v204.61h-78V-700H76.31q-4.62 0-8.46 3.85-3.85 3.84-3.85 8.46v415.38q0 4.62 3.85 8.46 3.84 3.85 8.46 3.85ZM233-495.39h78-78Zm208 0h78-78Zm208 0h78-78ZM480-480Z"})}),fA=()=>z.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 -960 960 960",width:"24px",fill:"#1f1f1f",children:z.jsx("path",{d:"M30.62-122 480-870l449.38 748H30.62ZM169-200h622L480-718 169-200Zm311.79-44.69q16.94 0 29.23-12.08t12.29-29.02q0-16.94-12.08-29.23t-29.02-12.29q-16.94 0-29.23 12.08t-12.29 29.02q0 16.94 12.08 29.23t29.02 12.29ZM442-372.31h78v-196h-78v196ZM480-459Z"})}),U3=[{id:"en",text:""},{id:"de",text:""}],dA=({width:t="auto"})=>{var s;const[e,r]=Q.useState(!1),{i18n:n}=Xt(),i=o=>{r(!1),n.changeLanguage(o)},a=((s=U3.find(o=>o.id===n.language))==null?void 0:s.text)||"";return z.jsxs(hA,{width:t,children:[z.jsxs(pA,{onClick:()=>r(o=>!o),$open:e,children:[a,z.jsx(vA,{$open:e,children:z.jsx(w_,{})})]}),z.jsx(gA,{$open:e,children:U3.filter(o=>o.id!==n.language).map(o=>z.jsx(mA,{onClick:()=>i(o.id),children:o.text},o.id))})]})},hA=Ee.div.withConfig({displayName:"LanguageDropdown__Wrapper",componentId:"sc-jn4j0r-0"})(["width:",";background-color:white;position:relative;font-family:var(--main-font);font-size:14px;"],({width:t})=>t),pA=Ee.div.withConfig({displayName:"LanguageDropdown__Header",componentId:"sc-jn4j0r-1"})(["padding:3px 8px;cursor:pointer;display:flex;column-gap:10px;justify-content:space-between;align-items:center;border:1px solid ",";border-radius:3px;"],({theme:t})=>t.lightGray),gA=Ee.ul.withConfig({displayName:"LanguageDropdown__Body",componentId:"sc-jn4j0r-2"})(["border:1px solid ",";display:",";position:absolute;background-color:white;border-bottom-left-radius:3px;border-bottom-right-radius:3px;z-index:100;width:100%;margin-top:-1px;"],({theme:t})=>t.lightGray,({$open:t})=>t?"block":"none"),mA=Ee.li.withConfig({displayName:"LanguageDropdown__Item",componentId:"sc-jn4j0r-3"})(["padding:3px 8px;list-style:none;border-bottom:1px solid ",";&:last-of-type{border-bottom:none;}&:hover{cursor:pointer;background-color:",";}"],({theme:t})=>t.lightGray,({theme:t})=>t.lightGray),vA=Ee.div.withConfig({displayName:"LanguageDropdown__IconBlock",componentId:"sc-jn4j0r-4"})(["display:flex;align-items:center;justify-content:center;& > svg{fill:",";transition:all 0.2s ease-in-out;width:14px;height:14px;transform:",";}"],({theme:t})=>t.gray,({$open:t})=>t?"rotate(0deg)":"rotate(90deg)"),yA=()=>z.jsx(xA,{children:z.jsx(dA,{})}),xA=Ee.ul.withConfig({displayName:"Navbar__Wrapper",componentId:"sc-d32984-0"})(["display:flex;gap:50px;"]),bA="modulepreload",wA=function(t){return"/ml-with-bricks/"+t},W3={},__=function(e,r,n){if(!r||r.length===0)return e();const i=document.getElementsByTagName("link");return Promise.all(r.map(a=>{if(a=wA(a),a in W3)return;W3[a]=!0;const s=a.endsWith(".css"),o=s?'[rel="stylesheet"]':"";if(!!n)for(let c=i.length-1;c>=0;c--){const f=i[c];if(f.href===a&&(!s||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${a}"]${o}`))return;const u=document.createElement("link");if(u.rel=s?"stylesheet":bA,s||(u.as="script",u.crossOrigin=""),u.href=a,document.head.appendChild(u),s)return new Promise((c,f)=>{u.addEventListener("load",c),u.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${a}`)))})})).then(()=>e()).catch(a=>{const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=a,window.dispatchEvent(s),!s.defaultPrevented)throw a})};var u2={};Object.defineProperty(u2,"__esModule",{value:!0});u2.parse=MA;u2.serialize=PA;const _A=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,SA=/^[\u0021-\u003A\u003C-\u007E]*$/,kA=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,TA=/^[\u0020-\u003A\u003D-\u007E]*$/,EA=Object.prototype.toString,CA=(()=>{const t=function(){};return t.prototype=Object.create(null),t})();function MA(t,e){const r=new CA,n=t.length;if(n<2)return r;const i=(e==null?void 0:e.decode)||DA;let a=0;do{const s=t.indexOf("=",a);if(s===-1)break;const o=t.indexOf(";",a),l=o===-1?n:o;if(s>l){a=t.lastIndexOf(";",s-1)+1;continue}const u=G3(t,a,s),c=Y3(t,s,u),f=t.slice(u,c);if(r[f]===void 0){let d=G3(t,s+1,l),p=Y3(t,l,d);const g=i(t.slice(d,p));r[f]=g}a=l+1}while(a<n);return r}function G3(t,e,r){do{const n=t.charCodeAt(e);if(n!==32&&n!==9)return e}while(++e<r);return r}function Y3(t,e,r){for(;e>r;){const n=t.charCodeAt(--e);if(n!==32&&n!==9)return e+1}return r}function PA(t,e,r){const n=(r==null?void 0:r.encode)||encodeURIComponent;if(!_A.test(t))throw new TypeError(`argument name is invalid: ${t}`);const i=n(e);if(!SA.test(i))throw new TypeError(`argument val is invalid: ${e}`);let a=t+"="+i;if(!r)return a;if(r.maxAge!==void 0){if(!Number.isInteger(r.maxAge))throw new TypeError(`option maxAge is invalid: ${r.maxAge}`);a+="; Max-Age="+r.maxAge}if(r.domain){if(!kA.test(r.domain))throw new TypeError(`option domain is invalid: ${r.domain}`);a+="; Domain="+r.domain}if(r.path){if(!TA.test(r.path))throw new TypeError(`option path is invalid: ${r.path}`);a+="; Path="+r.path}if(r.expires){if(!AA(r.expires)||!Number.isFinite(r.expires.valueOf()))throw new TypeError(`option expires is invalid: ${r.expires}`);a+="; Expires="+r.expires.toUTCString()}if(r.httpOnly&&(a+="; HttpOnly"),r.secure&&(a+="; Secure"),r.partitioned&&(a+="; Partitioned"),r.priority)switch(typeof r.priority=="string"?r.priority.toLowerCase():void 0){case"low":a+="; Priority=Low";break;case"medium":a+="; Priority=Medium";break;case"high":a+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${r.priority}`)}if(r.sameSite)switch(typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite){case!0:case"strict":a+="; SameSite=Strict";break;case"lax":a+="; SameSite=Lax";break;case"none":a+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${r.sameSite}`)}return a}function DA(t){if(t.indexOf("%")===-1)return t;try{return decodeURIComponent(t)}catch{return t}}function AA(t){return EA.call(t)==="[object Date]"}var X3="popstate";function IA(t={}){function e(i,a){let{pathname:s="/",search:o="",hash:l=""}=xo(i.location.hash.substring(1));return!s.startsWith("/")&&!s.startsWith(".")&&(s="/"+s),y1("",{pathname:s,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(i,a){let s=i.document.querySelector("base"),o="";if(s&&s.getAttribute("href")){let l=i.location.href,u=l.indexOf("#");o=u===-1?l:l.slice(0,u)}return o+"#"+(typeof a=="string"?a:Mc(a))}function n(i,a){ki(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(a)})`)}return RA(e,r,n,t)}function ur(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ki(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function LA(){return Math.random().toString(36).substring(2,10)}function K3(t,e){return{usr:t.state,key:t.key,idx:e}}function y1(t,e,r=null,n){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?xo(e):e,state:r,key:e&&e.key||n||LA()}}function Mc({pathname:t="/",search:e="",hash:r=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function xo(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substring(r),t=t.substring(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substring(n),t=t.substring(0,n)),t&&(e.pathname=t)}return e}function RA(t,e,r,n={}){let{window:i=document.defaultView,v5Compat:a=!1}=n,s=i.history,o="POP",l=null,u=c();u==null&&(u=0,s.replaceState({...s.state,idx:u},""));function c(){return(s.state||{idx:null}).idx}function f(){o="POP";let b=c(),x=b==null?null:b-u;u=b,l&&l({action:o,location:y.location,delta:x})}function d(b,x){o="PUSH";let w=y1(y.location,b,x);r&&r(w,b),u=c()+1;let _=K3(w,u),k=y.createHref(w);try{s.pushState(_,"",k)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;i.location.assign(k)}a&&l&&l({action:o,location:y.location,delta:1})}function p(b,x){o="REPLACE";let w=y1(y.location,b,x);r&&r(w,b),u=c();let _=K3(w,u),k=y.createHref(w);s.replaceState(_,"",k),a&&l&&l({action:o,location:y.location,delta:0})}function g(b){let x=i.location.origin!=="null"?i.location.origin:i.location.href,w=typeof b=="string"?b:Mc(b);return w=w.replace(/ $/,"%20"),ur(x,`No window.location.(origin|href) available to create URL for href: ${w}`),new URL(w,x)}let y={get action(){return o},get location(){return t(i,s)},listen(b){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(X3,f),l=b,()=>{i.removeEventListener(X3,f),l=null}},createHref(b){return e(i,b)},createURL:g,encodeLocation(b){let x=g(b);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:d,replace:p,go(b){return s.go(b)}};return y}function S_(t,e,r="/"){return OA(t,e,r,!1)}function OA(t,e,r,n){let i=typeof e=="string"?xo(e):e,a=va(i.pathname||"/",r);if(a==null)return null;let s=k_(t);NA(s);let o=null;for(let l=0;o==null&&l<s.length;++l){let u=GA(a);o=UA(s[l],u,n)}return o}function k_(t,e=[],r=[],n=""){let i=(a,s,o)=>{let l={relativePath:o===void 0?a.path||"":o,caseSensitive:a.caseSensitive===!0,childrenIndex:s,route:a};l.relativePath.startsWith("/")&&(ur(l.relativePath.startsWith(n),`Absolute route path "${l.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),l.relativePath=l.relativePath.slice(n.length));let u=da([n,l.relativePath]),c=r.concat(l);a.children&&a.children.length>0&&(ur(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${u}".`),k_(a.children,e,c,u)),!(a.path==null&&!a.index)&&e.push({path:u,score:HA(u,a.index),routesMeta:c})};return t.forEach((a,s)=>{var o;if(a.path===""||!((o=a.path)!=null&&o.includes("?")))i(a,s);else for(let l of T_(a.path))i(a,s,l)}),e}function T_(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let s=T_(n.join("/")),o=[];return o.push(...s.map(l=>l===""?a:[a,l].join("/"))),i&&o.push(...s),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function NA(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:VA(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var zA=/^:[\w-]+$/,BA=3,FA=2,$A=1,jA=10,qA=-2,Z3=t=>t==="*";function HA(t,e){let r=t.split("/"),n=r.length;return r.some(Z3)&&(n+=qA),e&&(n+=FA),r.filter(i=>!Z3(i)).reduce((i,a)=>i+(zA.test(a)?BA:a===""?$A:jA),n)}function VA(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function UA(t,e,r=!1){let{routesMeta:n}=t,i={},a="/",s=[];for(let o=0;o<n.length;++o){let l=n[o],u=o===n.length-1,c=a==="/"?e:e.slice(a.length)||"/",f=$d({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),d=l.route;if(!f&&u&&r&&!n[n.length-1].route.index&&(f=$d({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},c)),!f)return null;Object.assign(i,f.params),s.push({params:i,pathname:da([a,f.pathname]),pathnameBase:ZA(da([a,f.pathnameBase])),route:d}),f.pathnameBase!=="/"&&(a=da([a,f.pathnameBase]))}return s}function $d(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=WA(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:n.reduce((u,{paramName:c,isOptional:f},d)=>{if(c==="*"){let g=o[d]||"";s=a.slice(0,a.length-g.length).replace(/(.)\/+$/,"$1")}const p=o[d];return f&&!p?u[c]=void 0:u[c]=(p||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:s,pattern:t}}function WA(t,e=!1,r=!0){ki(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,o,l)=>(n.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function GA(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ki(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function va(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function YA(t,e="/"){let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?xo(t):t;return{pathname:r?r.startsWith("/")?r:XA(r,e):e,search:QA(n),hash:JA(i)}}function XA(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function Tg(t,e,r,n){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function KA(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function E_(t){let e=KA(t);return e.map((r,n)=>n===e.length-1?r.pathname:r.pathnameBase)}function C_(t,e,r,n=!1){let i;typeof t=="string"?i=xo(t):(i={...t},ur(!i.pathname||!i.pathname.includes("?"),Tg("?","pathname","search",i)),ur(!i.pathname||!i.pathname.includes("#"),Tg("#","pathname","hash",i)),ur(!i.search||!i.search.includes("#"),Tg("#","search","hash",i)));let a=t===""||i.pathname==="",s=a?"/":i.pathname,o;if(s==null)o=r;else{let f=e.length-1;if(!n&&s.startsWith("..")){let d=s.split("/");for(;d[0]==="..";)d.shift(),f-=1;i.pathname=d.join("/")}o=f>=0?e[f]:"/"}let l=YA(i,o),u=s&&s!=="/"&&s.endsWith("/"),c=(a||s===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}var da=t=>t.join("/").replace(/\/\/+/g,"/"),ZA=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),QA=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,JA=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function eI(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var M_=["POST","PUT","PATCH","DELETE"];new Set(M_);var tI=["GET",...M_];new Set(tI);var Yl=Q.createContext(null);Yl.displayName="DataRouter";var $h=Q.createContext(null);$h.displayName="DataRouterState";var P_=Q.createContext({isTransitioning:!1});P_.displayName="ViewTransition";var rI=Q.createContext(new Map);rI.displayName="Fetchers";var nI=Q.createContext(null);nI.displayName="Await";var Vi=Q.createContext(null);Vi.displayName="Navigation";var Jc=Q.createContext(null);Jc.displayName="Location";var Sa=Q.createContext({outlet:null,matches:[],isDataRoute:!1});Sa.displayName="Route";var c2=Q.createContext(null);c2.displayName="RouteError";function iI(t,{relative:e}={}){ur(e0(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=Q.useContext(Vi),{hash:i,pathname:a,search:s}=t0(t,{relative:e}),o=a;return r!=="/"&&(o=a==="/"?r:da([r,a])),n.createHref({pathname:o,search:s,hash:i})}function e0(){return Q.useContext(Jc)!=null}function bo(){return ur(e0(),"useLocation() may be used only in the context of a <Router> component."),Q.useContext(Jc).location}var D_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function A_(t){Q.useContext(Vi).static||Q.useLayoutEffect(t)}function aI(){let{isDataRoute:t}=Q.useContext(Sa);return t?yI():sI()}function sI(){ur(e0(),"useNavigate() may be used only in the context of a <Router> component.");let t=Q.useContext(Yl),{basename:e,navigator:r}=Q.useContext(Vi),{matches:n}=Q.useContext(Sa),{pathname:i}=bo(),a=JSON.stringify(E_(n)),s=Q.useRef(!1);return A_(()=>{s.current=!0}),Q.useCallback((l,u={})=>{if(ki(s.current,D_),!s.current)return;if(typeof l=="number"){r.go(l);return}let c=C_(l,JSON.parse(a),i,u.relative==="path");t==null&&e!=="/"&&(c.pathname=c.pathname==="/"?e:da([e,c.pathname])),(u.replace?r.replace:r.push)(c,u.state,u)},[e,r,a,i,t])}Q.createContext(null);function t0(t,{relative:e}={}){let{matches:r}=Q.useContext(Sa),{pathname:n}=bo(),i=JSON.stringify(E_(r));return Q.useMemo(()=>C_(t,JSON.parse(i),n,e==="path"),[t,i,n,e])}function oI(t,e){return I_(t,e)}function I_(t,e,r,n){var w;ur(e0(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i,static:a}=Q.useContext(Vi),{matches:s}=Q.useContext(Sa),o=s[s.length-1],l=o?o.params:{},u=o?o.pathname:"/",c=o?o.pathnameBase:"/",f=o&&o.route;{let _=f&&f.path||"";L_(u,!f||_.endsWith("*")||_.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${_}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${_}"> to <Route path="${_==="/"?"*":`${_}/*`}">.`)}let d=bo(),p;if(e){let _=typeof e=="string"?xo(e):e;ur(c==="/"||((w=_.pathname)==null?void 0:w.startsWith(c)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${c}" but pathname "${_.pathname}" was given in the \`location\` prop.`),p=_}else p=d;let g=p.pathname||"/",y=g;if(c!=="/"){let _=c.replace(/^\//,"").split("/");y="/"+g.replace(/^\//,"").split("/").slice(_.length).join("/")}let b=!a&&r&&r.matches&&r.matches.length>0?r.matches:S_(t,{pathname:y});ki(f||b!=null,`No routes matched location "${p.pathname}${p.search}${p.hash}" `),ki(b==null||b[b.length-1].route.element!==void 0||b[b.length-1].route.Component!==void 0||b[b.length-1].route.lazy!==void 0,`Matched leaf route at location "${p.pathname}${p.search}${p.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let x=dI(b&&b.map(_=>Object.assign({},_,{params:Object.assign({},l,_.params),pathname:da([c,i.encodeLocation?i.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?c:da([c,i.encodeLocation?i.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),s,r,n);return e&&x?Q.createElement(Jc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...p},navigationType:"POP"}},x):x}function lI(){let t=vI(),e=eI(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,n="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:n},a={padding:"2px 4px",backgroundColor:n},s=null;return console.error("Error handled by React Router default ErrorBoundary:",t),s=Q.createElement(Q.Fragment,null,Q.createElement("p",null," Hey developer "),Q.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",Q.createElement("code",{style:a},"ErrorBoundary")," or"," ",Q.createElement("code",{style:a},"errorElement")," prop on your route.")),Q.createElement(Q.Fragment,null,Q.createElement("h2",null,"Unexpected Application Error!"),Q.createElement("h3",{style:{fontStyle:"italic"}},e),r?Q.createElement("pre",{style:i},r):null,s)}var uI=Q.createElement(lI,null),cI=class extends Q.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?Q.createElement(Sa.Provider,{value:this.props.routeContext},Q.createElement(c2.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function fI({routeContext:t,match:e,children:r}){let n=Q.useContext(Yl);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),Q.createElement(Sa.Provider,{value:t},r)}function dI(t,e=[],r=null,n=null){if(t==null){if(!r)return null;if(r.errors)t=r.matches;else if(e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let i=t,a=r==null?void 0:r.errors;if(a!=null){let l=i.findIndex(u=>u.route.id&&(a==null?void 0:a[u.route.id])!==void 0);ur(l>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),i=i.slice(0,Math.min(i.length,l+1))}let s=!1,o=-1;if(r)for(let l=0;l<i.length;l++){let u=i[l];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(o=l),u.route.id){let{loaderData:c,errors:f}=r,d=u.route.loader&&!c.hasOwnProperty(u.route.id)&&(!f||f[u.route.id]===void 0);if(u.route.lazy||d){s=!0,o>=0?i=i.slice(0,o+1):i=[i[0]];break}}}return i.reduceRight((l,u,c)=>{let f,d=!1,p=null,g=null;r&&(f=a&&u.route.id?a[u.route.id]:void 0,p=u.route.errorElement||uI,s&&(o<0&&c===0?(L_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),d=!0,g=null):o===c&&(d=!0,g=u.route.hydrateFallbackElement||null)));let y=e.concat(i.slice(0,c+1)),b=()=>{let x;return f?x=p:d?x=g:u.route.Component?x=Q.createElement(u.route.Component,null):u.route.element?x=u.route.element:x=l,Q.createElement(fI,{match:u,routeContext:{outlet:l,matches:y,isDataRoute:r!=null},children:x})};return r&&(u.route.ErrorBoundary||u.route.errorElement||c===0)?Q.createElement(cI,{location:r.location,revalidation:r.revalidation,component:p,error:f,children:b(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):b()},null)}function f2(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function hI(t){let e=Q.useContext(Yl);return ur(e,f2(t)),e}function pI(t){let e=Q.useContext($h);return ur(e,f2(t)),e}function gI(t){let e=Q.useContext(Sa);return ur(e,f2(t)),e}function d2(t){let e=gI(t),r=e.matches[e.matches.length-1];return ur(r.route.id,`${t} can only be used on routes that contain a unique "id"`),r.route.id}function mI(){return d2("useRouteId")}function vI(){var n;let t=Q.useContext(c2),e=pI("useRouteError"),r=d2("useRouteError");return t!==void 0?t:(n=e.errors)==null?void 0:n[r]}function yI(){let{router:t}=hI("useNavigate"),e=d2("useNavigate"),r=Q.useRef(!1);return A_(()=>{r.current=!0}),Q.useCallback(async(i,a={})=>{ki(r.current,D_),r.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...a}))},[t,e])}var Q3={};function L_(t,e,r){!e&&!Q3[t]&&(Q3[t]=!0,ki(!1,r))}Q.memo(xI);function xI({routes:t,future:e,state:r}){return I_(t,void 0,r,e)}function Ai(t){ur(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function bI({basename:t="/",children:e=null,location:r,navigationType:n="POP",navigator:i,static:a=!1}){ur(!e0(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let s=t.replace(/^\/*/,"/"),o=Q.useMemo(()=>({basename:s,navigator:i,static:a,future:{}}),[s,i,a]);typeof r=="string"&&(r=xo(r));let{pathname:l="/",search:u="",hash:c="",state:f=null,key:d="default"}=r,p=Q.useMemo(()=>{let g=va(l,s);return g==null?null:{location:{pathname:g,search:u,hash:c,state:f,key:d},navigationType:n}},[s,l,u,c,f,d,n]);return ki(p!=null,`<Router basename="${s}"> is not able to match the URL "${l}${u}${c}" because it does not start with the basename, so the <Router> won't render anything.`),p==null?null:Q.createElement(Vi.Provider,{value:o},Q.createElement(Jc.Provider,{children:e,value:p}))}function wI({children:t,location:e}){return oI(x1(t),e)}function x1(t,e=[]){let r=[];return Q.Children.forEach(t,(n,i)=>{if(!Q.isValidElement(n))return;let a=[...e,i];if(n.type===Q.Fragment){r.push.apply(r,x1(n.props.children,a));return}ur(n.type===Ai,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ur(!n.props.index||!n.props.children,"An index route cannot have child routes.");let s={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(s.children=x1(n.props.children,a)),r.push(s)}),r}var Kf="get",Zf="application/x-www-form-urlencoded";function jh(t){return t!=null&&typeof t.tagName=="string"}function _I(t){return jh(t)&&t.tagName.toLowerCase()==="button"}function SI(t){return jh(t)&&t.tagName.toLowerCase()==="form"}function kI(t){return jh(t)&&t.tagName.toLowerCase()==="input"}function TI(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function EI(t,e){return t.button===0&&(!e||e==="_self")&&!TI(t)}var J0=null;function CI(){if(J0===null)try{new FormData(document.createElement("form"),0),J0=!1}catch{J0=!0}return J0}var MI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Eg(t){return t!=null&&!MI.has(t)?(ki(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Zf}"`),null):t}function PI(t,e){let r,n,i,a,s;if(SI(t)){let o=t.getAttribute("action");n=o?va(o,e):null,r=t.getAttribute("method")||Kf,i=Eg(t.getAttribute("enctype"))||Zf,a=new FormData(t)}else if(_I(t)||kI(t)&&(t.type==="submit"||t.type==="image")){let o=t.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=t.getAttribute("formaction")||o.getAttribute("action");if(n=l?va(l,e):null,r=t.getAttribute("formmethod")||o.getAttribute("method")||Kf,i=Eg(t.getAttribute("formenctype"))||Eg(o.getAttribute("enctype"))||Zf,a=new FormData(o,t),!CI()){let{name:u,type:c,value:f}=t;if(c==="image"){let d=u?`${u}.`:"";a.append(`${d}x`,"0"),a.append(`${d}y`,"0")}else u&&a.append(u,f)}}else{if(jh(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Kf,n=null,i=Zf,s=t}return a&&i==="text/plain"&&(s=a,a=void 0),{action:n,method:r.toLowerCase(),encType:i,formData:a,body:s}}function h2(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function DI(t,e){if(t.id in e)return e[t.id];try{let r=await __(()=>import(t.module),[]);return e[t.id]=r,r}catch(r){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function AI(t){return t!=null&&typeof t.page=="string"}function II(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function LI(t,e,r){let n=await Promise.all(t.map(async i=>{let a=e.routes[i.route.id];if(a){let s=await DI(a,r);return s.links?s.links():[]}return[]}));return zI(n.flat(1).filter(II).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function J3(t,e,r,n,i,a){let s=(l,u)=>r[u]?l.route.id!==r[u].route.id:!0,o=(l,u)=>{var c;return r[u].pathname!==l.pathname||((c=r[u].route.path)==null?void 0:c.endsWith("*"))&&r[u].params["*"]!==l.params["*"]};return a==="assets"?e.filter((l,u)=>s(l,u)||o(l,u)):a==="data"?e.filter((l,u)=>{var f;let c=n.routes[l.route.id];if(!c||!c.hasLoader)return!1;if(s(l,u)||o(l,u))return!0;if(l.route.shouldRevalidate){let d=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((f=r[0])==null?void 0:f.params)||{},nextUrl:new URL(t,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof d=="boolean")return d}return!0}):[]}function RI(t,e,{includeHydrateFallback:r}={}){return OI(t.map(n=>{let i=e.routes[n.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),r&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function OI(t){return[...new Set(t)]}function NI(t){let e={},r=Object.keys(t).sort();for(let n of r)e[n]=t[n];return e}function zI(t,e){let r=new Set,n=new Set(e);return t.reduce((i,a)=>{if(e&&!AI(a)&&a.as==="script"&&a.href&&n.has(a.href))return i;let o=JSON.stringify(NI(a));return r.has(o)||(r.add(o),i.push({key:o,link:a})),i},[])}function BI(t,e){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname="_root.data":e&&va(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.data`:r.pathname=`${r.pathname.replace(/\/$/,"")}.data`,r}function R_(){let t=Q.useContext(Yl);return h2(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function FI(){let t=Q.useContext($h);return h2(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var p2=Q.createContext(void 0);p2.displayName="FrameworkContext";function O_(){let t=Q.useContext(p2);return h2(t,"You must render this element inside a <HydratedRouter> element"),t}function $I(t,e){let r=Q.useContext(p2),[n,i]=Q.useState(!1),[a,s]=Q.useState(!1),{onFocus:o,onBlur:l,onMouseEnter:u,onMouseLeave:c,onTouchStart:f}=e,d=Q.useRef(null);Q.useEffect(()=>{if(t==="render"&&s(!0),t==="viewport"){let y=x=>{x.forEach(w=>{s(w.isIntersecting)})},b=new IntersectionObserver(y,{threshold:.5});return d.current&&b.observe(d.current),()=>{b.disconnect()}}},[t]),Q.useEffect(()=>{if(n){let y=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(y)}}},[n]);let p=()=>{i(!0)},g=()=>{i(!1),s(!1)};return r?t!=="intent"?[a,d,{}]:[a,d,{onFocus:yu(o,p),onBlur:yu(l,g),onMouseEnter:yu(u,p),onMouseLeave:yu(c,g),onTouchStart:yu(f,p)}]:[!1,d,{}]}function yu(t,e){return r=>{t&&t(r),r.defaultPrevented||e(r)}}function jI({page:t,...e}){let{router:r}=R_(),n=Q.useMemo(()=>S_(r.routes,t,r.basename),[r.routes,t,r.basename]);return n?Q.createElement(HI,{page:t,matches:n,...e}):null}function qI(t){let{manifest:e,routeModules:r}=O_(),[n,i]=Q.useState([]);return Q.useEffect(()=>{let a=!1;return LI(t,e,r).then(s=>{a||i(s)}),()=>{a=!0}},[t,e,r]),n}function HI({page:t,matches:e,...r}){let n=bo(),{manifest:i,routeModules:a}=O_(),{basename:s}=R_(),{loaderData:o,matches:l}=FI(),u=Q.useMemo(()=>J3(t,e,l,i,n,"data"),[t,e,l,i,n]),c=Q.useMemo(()=>J3(t,e,l,i,n,"assets"),[t,e,l,i,n]),f=Q.useMemo(()=>{if(t===n.pathname+n.search+n.hash)return[];let g=new Set,y=!1;if(e.forEach(x=>{var _;let w=i.routes[x.route.id];!w||!w.hasLoader||(!u.some(k=>k.route.id===x.route.id)&&x.route.id in o&&((_=a[x.route.id])!=null&&_.shouldRevalidate)||w.hasClientLoader?y=!0:g.add(x.route.id))}),g.size===0)return[];let b=BI(t,s);return y&&g.size>0&&b.searchParams.set("_routes",e.filter(x=>g.has(x.route.id)).map(x=>x.route.id).join(",")),[b.pathname+b.search]},[s,o,n,i,u,e,t,a]),d=Q.useMemo(()=>RI(c,i),[c,i]),p=qI(c);return Q.createElement(Q.Fragment,null,f.map(g=>Q.createElement("link",{key:g,rel:"prefetch",as:"fetch",href:g,...r})),d.map(g=>Q.createElement("link",{key:g,rel:"modulepreload",href:g,...r})),p.map(({key:g,link:y})=>Q.createElement("link",{key:g,...y})))}function VI(...t){return e=>{t.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})}}var N_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{N_&&(window.__reactRouterVersion="7.5.0")}catch{}function UI({basename:t,children:e,window:r}){let n=Q.useRef();n.current==null&&(n.current=IA({window:r,v5Compat:!0}));let i=n.current,[a,s]=Q.useState({action:i.action,location:i.location}),o=Q.useCallback(l=>{Q.startTransition(()=>s(l))},[s]);return Q.useLayoutEffect(()=>i.listen(o),[i,o]),Q.createElement(bI,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:i})}var z_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,r0=Q.forwardRef(function({onClick:e,discover:r="render",prefetch:n="none",relative:i,reloadDocument:a,replace:s,state:o,target:l,to:u,preventScrollReset:c,viewTransition:f,...d},p){let{basename:g}=Q.useContext(Vi),y=typeof u=="string"&&z_.test(u),b,x=!1;if(typeof u=="string"&&y&&(b=u,N_))try{let L=new URL(window.location.href),R=u.startsWith("//")?new URL(L.protocol+u):new URL(u),N=va(R.pathname,g);R.origin===L.origin&&N!=null?u=N+R.search+R.hash:x=!0}catch{ki(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let w=iI(u,{relative:i}),[_,k,T]=$I(n,d),P=XI(u,{replace:s,state:o,target:l,preventScrollReset:c,relative:i,viewTransition:f});function M(L){e&&e(L),L.defaultPrevented||P(L)}let A=Q.createElement("a",{...d,...T,href:b||w,onClick:x||a?e:M,ref:VI(p,k),target:l,"data-discover":!y&&r==="render"?"true":void 0});return _&&!y?Q.createElement(Q.Fragment,null,A,Q.createElement(jI,{page:w})):A});r0.displayName="Link";var WI=Q.forwardRef(function({"aria-current":e="page",caseSensitive:r=!1,className:n="",end:i=!1,style:a,to:s,viewTransition:o,children:l,...u},c){let f=t0(s,{relative:u.relative}),d=bo(),p=Q.useContext($h),{navigator:g,basename:y}=Q.useContext(Vi),b=p!=null&&eL(f)&&o===!0,x=g.encodeLocation?g.encodeLocation(f).pathname:f.pathname,w=d.pathname,_=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;r||(w=w.toLowerCase(),_=_?_.toLowerCase():null,x=x.toLowerCase()),_&&y&&(_=va(_,y)||_);const k=x!=="/"&&x.endsWith("/")?x.length-1:x.length;let T=w===x||!i&&w.startsWith(x)&&w.charAt(k)==="/",P=_!=null&&(_===x||!i&&_.startsWith(x)&&_.charAt(x.length)==="/"),M={isActive:T,isPending:P,isTransitioning:b},A=T?e:void 0,L;typeof n=="function"?L=n(M):L=[n,T?"active":null,P?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let R=typeof a=="function"?a(M):a;return Q.createElement(r0,{...u,"aria-current":A,className:L,ref:c,style:R,to:s,viewTransition:o},typeof l=="function"?l(M):l)});WI.displayName="NavLink";var GI=Q.forwardRef(({discover:t="render",fetcherKey:e,navigate:r,reloadDocument:n,replace:i,state:a,method:s=Kf,action:o,onSubmit:l,relative:u,preventScrollReset:c,viewTransition:f,...d},p)=>{let g=QI(),y=JI(o,{relative:u}),b=s.toLowerCase()==="get"?"get":"post",x=typeof o=="string"&&z_.test(o),w=_=>{if(l&&l(_),_.defaultPrevented)return;_.preventDefault();let k=_.nativeEvent.submitter,T=(k==null?void 0:k.getAttribute("formmethod"))||s;g(k||_.currentTarget,{fetcherKey:e,method:T,navigate:r,replace:i,state:a,relative:u,preventScrollReset:c,viewTransition:f})};return Q.createElement("form",{ref:p,method:b,action:y,onSubmit:n?l:w,...d,"data-discover":!x&&t==="render"?"true":void 0})});GI.displayName="Form";function YI(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function B_(t){let e=Q.useContext(Yl);return ur(e,YI(t)),e}function XI(t,{target:e,replace:r,state:n,preventScrollReset:i,relative:a,viewTransition:s}={}){let o=aI(),l=bo(),u=t0(t,{relative:a});return Q.useCallback(c=>{if(EI(c,e)){c.preventDefault();let f=r!==void 0?r:Mc(l)===Mc(u);o(t,{replace:f,state:n,preventScrollReset:i,relative:a,viewTransition:s})}},[l,o,u,r,n,e,t,i,a,s])}var KI=0,ZI=()=>`__${String(++KI)}__`;function QI(){let{router:t}=B_("useSubmit"),{basename:e}=Q.useContext(Vi),r=mI();return Q.useCallback(async(n,i={})=>{let{action:a,method:s,encType:o,formData:l,body:u}=PI(n,e);if(i.navigate===!1){let c=i.fetcherKey||ZI();await t.fetch(c,r,i.action||a,{preventScrollReset:i.preventScrollReset,formData:l,body:u,formMethod:i.method||s,formEncType:i.encType||o,flushSync:i.flushSync})}else await t.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:l,body:u,formMethod:i.method||s,formEncType:i.encType||o,replace:i.replace,state:i.state,fromRouteId:r,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,r])}function JI(t,{relative:e}={}){let{basename:r}=Q.useContext(Vi),n=Q.useContext(Sa);ur(n,"useFormAction must be used inside a RouteContext");let[i]=n.matches.slice(-1),a={...t0(t||".",{relative:e})},s=bo();if(t==null){a.search=s.search;let o=new URLSearchParams(a.search),l=o.getAll("index");if(l.some(c=>c==="")){o.delete("index"),l.filter(f=>f).forEach(f=>o.append("index",f));let c=o.toString();a.search=c?`?${c}`:""}}return(!t||t===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(a.pathname=a.pathname==="/"?r:da([r,a.pathname])),Mc(a)}function eL(t,e={}){let r=Q.useContext(P_);ur(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=B_("useViewTransitionState"),i=t0(t,{relative:e.relative});if(!r.isTransitioning)return!1;let a=va(r.currentLocation.pathname,n)||r.currentLocation.pathname,s=va(r.nextLocation.pathname,n)||r.nextLocation.pathname;return $d(i.pathname,s)!=null||$d(i.pathname,a)!=null}new TextEncoder;const tL=()=>{const{t}=Xt();return z.jsx(rL,{children:z.jsx(l2,{children:z.jsxs(nL,{children:[z.jsx(r0,{to:"/",children:z.jsxs(iL,{children:[z.jsx("img",{src:"brain.svg",alt:"Machine Learning with LEGO Logotype",className:"logo_image",width:55,height:55}),z.jsxs(aL,{children:[t("WebsiteName.ml"),z.jsx("br",{}),t("WebsiteName.with_lego")]})]})}),z.jsx(yA,{})]})})})},rL=Ee.div.withConfig({displayName:"Header__Wrapper",componentId:"sc-sdsdn0-0"})(["width:100%;position:relative;"]),nL=Ee.nav.withConfig({displayName:"Header__Row",componentId:"sc-sdsdn0-1"})(["width:100%;display:flex;align-items:center;justify-content:space-between;padding:20px 0;@media (max-width:600px){padding:10px 0;}"]),iL=Ee.div.withConfig({displayName:"Header__LogoBox",componentId:"sc-sdsdn0-2"})(["display:flex;flex-direction:row;align-items:center;column-gap:15px;margin:10px 0;"]),aL=Ee.p.withConfig({displayName:"Header__LogoText",componentId:"sc-sdsdn0-3"})(["font-family:var(--main-font);font-weight:700;font-size:24px;@media (max-width:600px){display:none;}"]);function F_(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=F_(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function eo(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=F_(t))&&(n&&(n+=" "),n+=e);return n}function sL(t){if(!t||typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e.firstChild?e.insertBefore(r,e.firstChild):e.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}sL(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var n0=t=>typeof t=="number"&&!isNaN(t),lo=t=>typeof t=="string",ya=t=>typeof t=="function",oL=t=>lo(t)||n0(t),b1=t=>lo(t)||ya(t)?t:null,lL=(t,e)=>t===!1||n0(t)&&t>0?t:e,w1=t=>Q.isValidElement(t)||lo(t)||ya(t)||n0(t);function uL(t,e,r=300){let{scrollHeight:n,style:i}=t;requestAnimationFrame(()=>{i.minHeight="initial",i.height=n+"px",i.transition=`all ${r}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(e,r)})})}function cL({enter:t,exit:e,appendPosition:r=!1,collapse:n=!0,collapseDuration:i=300}){return function({children:a,position:s,preventExitTransition:o,done:l,nodeRef:u,isIn:c,playToast:f}){let d=r?`${t}--${s}`:t,p=r?`${e}--${s}`:e,g=Q.useRef(0);return Q.useLayoutEffect(()=>{let y=u.current,b=d.split(" "),x=w=>{w.target===u.current&&(f(),y.removeEventListener("animationend",x),y.removeEventListener("animationcancel",x),g.current===0&&w.type!=="animationcancel"&&y.classList.remove(...b))};y.classList.add(...b),y.addEventListener("animationend",x),y.addEventListener("animationcancel",x)},[]),Q.useEffect(()=>{let y=u.current,b=()=>{y.removeEventListener("animationend",b),n?uL(y,l,i):l()};c||(o?b():(g.current=1,y.className+=` ${p}`,y.addEventListener("animationend",b)))},[c]),dt.createElement(dt.Fragment,null,a)}}function ex(t,e){return{content:$_(t.content,t.props),containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,reason:t.removalReason,status:e}}function $_(t,e,r=!1){return Q.isValidElement(t)&&!lo(t.type)?Q.cloneElement(t,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:r}):ya(t)?t({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:r}):t}function fL({closeToast:t,theme:e,ariaLabel:r="close"}){return dt.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:n=>{n.stopPropagation(),t(!0)},"aria-label":r},dt.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},dt.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function dL({delay:t,isRunning:e,closeToast:r,type:n="default",hide:i,className:a,controlledProgress:s,progress:o,rtl:l,isIn:u,theme:c}){let f=i||s&&o===0,d={animationDuration:`${t}ms`,animationPlayState:e?"running":"paused"};s&&(d.transform=`scaleX(${o})`);let p=eo("Toastify__progress-bar",s?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${c}`,`Toastify__progress-bar--${n}`,{"Toastify__progress-bar--rtl":l}),g=ya(a)?a({rtl:l,type:n,defaultClassName:p}):eo(p,a),y={[s&&o>=1?"onTransitionEnd":"onAnimationEnd"]:s&&o<1?null:()=>{u&&r()}};return dt.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":f},dt.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${c} Toastify__progress-bar--${n}`}),dt.createElement("div",{role:"progressbar","aria-hidden":f?"true":"false","aria-label":"notification timer",className:g,style:d,...y}))}var hL=1,j_=()=>`${hL++}`;function pL(t,e,r){let n=1,i=0,a=[],s=[],o=e,l=new Map,u=new Set,c=w=>(u.add(w),()=>u.delete(w)),f=()=>{s=Array.from(l.values()),u.forEach(w=>w())},d=({containerId:w,toastId:_,updateId:k})=>{let T=w?w!==t:t!==1,P=l.has(_)&&k==null;return T||P},p=(w,_)=>{l.forEach(k=>{var T;(_==null||_===k.props.toastId)&&((T=k.toggle)==null||T.call(k,w))})},g=w=>{var _,k;(k=(_=w.props)==null?void 0:_.onClose)==null||k.call(_,w.removalReason),w.isActive=!1},y=w=>{if(w==null)l.forEach(g);else{let _=l.get(w);_&&g(_)}f()},b=()=>{i-=a.length,a=[]},x=w=>{var _,k;let{toastId:T,updateId:P}=w.props,M=P==null;w.staleId&&l.delete(w.staleId),w.isActive=!0,l.set(T,w),f(),r(ex(w,M?"added":"updated")),M&&((k=(_=w.props).onOpen)==null||k.call(_))};return{id:t,props:o,observe:c,toggle:p,removeToast:y,toasts:l,clearQueue:b,buildToast:(w,_)=>{if(d(_))return;let{toastId:k,updateId:T,data:P,staleId:M,delay:A}=_,L=T==null;L&&i++;let R={...o,style:o.toastStyle,key:n++,...Object.fromEntries(Object.entries(_).filter(([F,$])=>$!=null)),toastId:k,updateId:T,data:P,isIn:!1,className:b1(_.className||o.toastClassName),progressClassName:b1(_.progressClassName||o.progressClassName),autoClose:_.isLoading?!1:lL(_.autoClose,o.autoClose),closeToast(F){l.get(k).removalReason=F,y(k)},deleteToast(){let F=l.get(k);if(F!=null){if(r(ex(F,"removed")),l.delete(k),i--,i<0&&(i=0),a.length>0){x(a.shift());return}f()}}};R.closeButton=o.closeButton,_.closeButton===!1||w1(_.closeButton)?R.closeButton=_.closeButton:_.closeButton===!0&&(R.closeButton=w1(o.closeButton)?o.closeButton:!0);let N={content:w,props:R,staleId:M};o.limit&&o.limit>0&&i>o.limit&&L?a.push(N):n0(A)?setTimeout(()=>{x(N)},A):x(N)},setProps(w){o=w},setToggle:(w,_)=>{let k=l.get(w);k&&(k.toggle=_)},isToastActive:w=>{var _;return(_=l.get(w))==null?void 0:_.isActive},getSnapshot:()=>s}}var xn=new Map,Pc=[],_1=new Set,gL=t=>_1.forEach(e=>e(t)),q_=()=>xn.size>0;function mL(){Pc.forEach(t=>V_(t.content,t.options)),Pc=[]}var vL=(t,{containerId:e})=>{var r;return(r=xn.get(e||1))==null?void 0:r.toasts.get(t)};function H_(t,e){var r;if(e)return!!((r=xn.get(e))!=null&&r.isToastActive(t));let n=!1;return xn.forEach(i=>{i.isToastActive(t)&&(n=!0)}),n}function yL(t){if(!q_()){Pc=Pc.filter(e=>t!=null&&e.options.toastId!==t);return}if(t==null||oL(t))xn.forEach(e=>{e.removeToast(t)});else if(t&&("containerId"in t||"id"in t)){let e=xn.get(t.containerId);e?e.removeToast(t.id):xn.forEach(r=>{r.removeToast(t.id)})}}var xL=(t={})=>{xn.forEach(e=>{e.props.limit&&(!t.containerId||e.id===t.containerId)&&e.clearQueue()})};function V_(t,e){w1(t)&&(q_()||Pc.push({content:t,options:e}),xn.forEach(r=>{r.buildToast(t,e)}))}function bL(t){var e;(e=xn.get(t.containerId||1))==null||e.setToggle(t.id,t.fn)}function U_(t,e){xn.forEach(r=>{(e==null||!(e!=null&&e.containerId)||(e==null?void 0:e.containerId)===r.id)&&r.toggle(t,e==null?void 0:e.id)})}function wL(t){let e=t.containerId||1;return{subscribe(r){let n=pL(e,t,gL);xn.set(e,n);let i=n.observe(r);return mL(),()=>{i(),xn.delete(e)}},setProps(r){var n;(n=xn.get(e))==null||n.setProps(r)},getSnapshot(){var r;return(r=xn.get(e))==null?void 0:r.getSnapshot()}}}function _L(t){return _1.add(t),()=>{_1.delete(t)}}function SL(t){return t&&(lo(t.toastId)||n0(t.toastId))?t.toastId:j_()}function i0(t,e){return V_(t,e),e.toastId}function qh(t,e){return{...e,type:e&&e.type||t,toastId:SL(e)}}function Hh(t){return(e,r)=>i0(e,qh(t,r))}function St(t,e){return i0(t,qh("default",e))}St.loading=(t,e)=>i0(t,qh("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function kL(t,{pending:e,error:r,success:n},i){let a;e&&(a=lo(e)?St.loading(e,i):St.loading(e.render,{...i,...e}));let s={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},o=(u,c,f)=>{if(c==null){St.dismiss(a);return}let d={type:u,...s,...i,data:f},p=lo(c)?{render:c}:c;return a?St.update(a,{...d,...p}):St(p.render,{...d,...p}),f},l=ya(t)?t():t;return l.then(u=>o("success",n,u)).catch(u=>o("error",r,u)),l}St.promise=kL;St.success=Hh("success");St.info=Hh("info");St.error=Hh("error");St.warning=Hh("warning");St.warn=St.warning;St.dark=(t,e)=>i0(t,qh("default",{theme:"dark",...e}));function TL(t){yL(t)}St.dismiss=TL;St.clearWaitingQueue=xL;St.isActive=H_;St.update=(t,e={})=>{let r=vL(t,e);if(r){let{props:n,content:i}=r,a={delay:100,...n,...e,toastId:e.toastId||t,updateId:j_()};a.toastId!==t&&(a.staleId=t);let s=a.render||i;delete a.render,i0(s,a)}};St.done=t=>{St.update(t,{progress:1})};St.onChange=_L;St.play=t=>U_(!0,t);St.pause=t=>U_(!1,t);function EL(t){var e;let{subscribe:r,getSnapshot:n,setProps:i}=Q.useRef(wL(t)).current;i(t);let a=(e=Q.useSyncExternalStore(r,n,n))==null?void 0:e.slice();function s(o){if(!a)return[];let l=new Map;return t.newestOnTop&&a.reverse(),a.forEach(u=>{let{position:c}=u.props;l.has(c)||l.set(c,[]),l.get(c).push(u)}),Array.from(l,u=>o(u[0],u[1]))}return{getToastToRender:s,isToastActive:H_,count:a==null?void 0:a.length}}function CL(t){let[e,r]=Q.useState(!1),[n,i]=Q.useState(!1),a=Q.useRef(null),s=Q.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:o,pauseOnHover:l,closeToast:u,onClick:c,closeOnClick:f}=t;bL({id:t.toastId,containerId:t.containerId,fn:r}),Q.useEffect(()=>{if(t.pauseOnFocusLoss)return d(),()=>{p()}},[t.pauseOnFocusLoss]);function d(){document.hasFocus()||x(),window.addEventListener("focus",b),window.addEventListener("blur",x)}function p(){window.removeEventListener("focus",b),window.removeEventListener("blur",x)}function g(M){if(t.draggable===!0||t.draggable===M.pointerType){w();let A=a.current;s.canCloseOnClick=!0,s.canDrag=!0,A.style.transition="none",t.draggableDirection==="x"?(s.start=M.clientX,s.removalDistance=A.offsetWidth*(t.draggablePercent/100)):(s.start=M.clientY,s.removalDistance=A.offsetHeight*(t.draggablePercent===80?t.draggablePercent*1.5:t.draggablePercent)/100)}}function y(M){let{top:A,bottom:L,left:R,right:N}=a.current.getBoundingClientRect();M.nativeEvent.type!=="touchend"&&t.pauseOnHover&&M.clientX>=R&&M.clientX<=N&&M.clientY>=A&&M.clientY<=L?x():b()}function b(){r(!0)}function x(){r(!1)}function w(){s.didMove=!1,document.addEventListener("pointermove",k),document.addEventListener("pointerup",T)}function _(){document.removeEventListener("pointermove",k),document.removeEventListener("pointerup",T)}function k(M){let A=a.current;if(s.canDrag&&A){s.didMove=!0,e&&x(),t.draggableDirection==="x"?s.delta=M.clientX-s.start:s.delta=M.clientY-s.start,s.start!==M.clientX&&(s.canCloseOnClick=!1);let L=t.draggableDirection==="x"?`${s.delta}px, var(--y)`:`0, calc(${s.delta}px + var(--y))`;A.style.transform=`translate3d(${L},0)`,A.style.opacity=`${1-Math.abs(s.delta/s.removalDistance)}`}}function T(){_();let M=a.current;if(s.canDrag&&s.didMove&&M){if(s.canDrag=!1,Math.abs(s.delta)>s.removalDistance){i(!0),t.closeToast(!0),t.collapseAll();return}M.style.transition="transform 0.2s, opacity 0.2s",M.style.removeProperty("transform"),M.style.removeProperty("opacity")}}let P={onPointerDown:g,onPointerUp:y};return o&&l&&(P.onMouseEnter=x,t.stacked||(P.onMouseLeave=b)),f&&(P.onClick=M=>{c&&c(M),s.canCloseOnClick&&u(!0)}),{playToast:b,pauseToast:x,isRunning:e,preventExitTransition:n,toastRef:a,eventHandlers:P}}var ML=typeof window<"u"?Q.useLayoutEffect:Q.useEffect,Vh=({theme:t,type:e,isLoading:r,...n})=>dt.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:t==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...n});function PL(t){return dt.createElement(Vh,{...t},dt.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function DL(t){return dt.createElement(Vh,{...t},dt.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function AL(t){return dt.createElement(Vh,{...t},dt.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function IL(t){return dt.createElement(Vh,{...t},dt.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function LL(){return dt.createElement("div",{className:"Toastify__spinner"})}var S1={info:DL,warning:PL,success:AL,error:IL,spinner:LL},RL=t=>t in S1;function OL({theme:t,type:e,isLoading:r,icon:n}){let i=null,a={theme:t,type:e};return n===!1||(ya(n)?i=n({...a,isLoading:r}):Q.isValidElement(n)?i=Q.cloneElement(n,a):r?i=S1.spinner():RL(e)&&(i=S1[e](a))),i}var NL=t=>{let{isRunning:e,preventExitTransition:r,toastRef:n,eventHandlers:i,playToast:a}=CL(t),{closeButton:s,children:o,autoClose:l,onClick:u,type:c,hideProgressBar:f,closeToast:d,transition:p,position:g,className:y,style:b,progressClassName:x,updateId:w,role:_,progress:k,rtl:T,toastId:P,deleteToast:M,isIn:A,isLoading:L,closeOnClick:R,theme:N,ariaLabel:F}=t,$=eo("Toastify__toast",`Toastify__toast-theme--${N}`,`Toastify__toast--${c}`,{"Toastify__toast--rtl":T},{"Toastify__toast--close-on-click":R}),V=ya(y)?y({rtl:T,position:g,type:c,defaultClassName:$}):eo($,y),X=OL(t),K=!!k||!l,W={closeToast:d,type:c,theme:N},H=null;return s===!1||(ya(s)?H=s(W):Q.isValidElement(s)?H=Q.cloneElement(s,W):H=fL(W)),dt.createElement(p,{isIn:A,done:M,position:g,preventExitTransition:r,nodeRef:n,playToast:a},dt.createElement("div",{id:P,tabIndex:0,onClick:u,"data-in":A,className:V,...i,style:b,ref:n,...A&&{role:_,"aria-label":F}},X!=null&&dt.createElement("div",{className:eo("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!L})},X),$_(o,t,!e),H,!t.customProgressBar&&dt.createElement(dL,{...w&&!K?{key:`p-${w}`}:{},rtl:T,theme:N,delay:l,isRunning:e,isIn:A,closeToast:d,hide:f,type:c,className:x,controlledProgress:K,progress:k||0})))},zL=(t,e=!1)=>({enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:e}),BL=cL(zL("bounce",!0)),FL={position:"top-right",transition:BL,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:t=>t.altKey&&t.code==="KeyT"};function $L(t){let e={...FL,...t},r=t.stacked,[n,i]=Q.useState(!0),a=Q.useRef(null),{getToastToRender:s,isToastActive:o,count:l}=EL(e),{className:u,style:c,rtl:f,containerId:d,hotKeys:p}=e;function g(b){let x=eo("Toastify__toast-container",`Toastify__toast-container--${b}`,{"Toastify__toast-container--rtl":f});return ya(u)?u({position:b,rtl:f,defaultClassName:x}):eo(x,b1(u))}function y(){r&&(i(!0),St.play())}return ML(()=>{var b;if(r){let x=a.current.querySelectorAll('[data-in="true"]'),w=12,_=(b=e.position)==null?void 0:b.includes("top"),k=0,T=0;Array.from(x).reverse().forEach((P,M)=>{let A=P;A.classList.add("Toastify__toast--stacked"),M>0&&(A.dataset.collapsed=`${n}`),A.dataset.pos||(A.dataset.pos=_?"top":"bot");let L=k*(n?.2:1)+(n?0:w*M);A.style.setProperty("--y",`${_?L:L*-1}px`),A.style.setProperty("--g",`${w}`),A.style.setProperty("--s",`${1-(n?T:0)}`),k+=A.offsetHeight,T+=.025})}},[n,l,r]),Q.useEffect(()=>{function b(x){var w;let _=a.current;p(x)&&((w=_.querySelector('[tabIndex="0"]'))==null||w.focus(),i(!1),St.pause()),x.key==="Escape"&&(document.activeElement===_||_!=null&&_.contains(document.activeElement))&&(i(!0),St.play())}return document.addEventListener("keydown",b),()=>{document.removeEventListener("keydown",b)}},[p]),dt.createElement("section",{ref:a,className:"Toastify",id:d,onMouseEnter:()=>{r&&(i(!1),St.pause())},onMouseLeave:y,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},s((b,x)=>{let w=x.length?{...c}:{...c,pointerEvents:"none"};return dt.createElement("div",{tabIndex:-1,className:g(b),"data-stacked":r,style:w,key:`c-${b}`},x.map(({content:_,props:k})=>dt.createElement(NL,{...k,stacked:r,collapseAll:y,isIn:o(k.toastId,k.containerId),key:`t-${k.key}`},_)))}))}const us={sm:"480px",md:"768px",lg:"1024px"},jL=Ee.h1.withConfig({displayName:"Typography__H1",componentId:"sc-ffs6le-0"})(["font-family:var(--main-font);font-size:48px;font-weight:900;line-height:1.2;margin:50px 0 30px;text-transform:uppercase;@media (max-width:","){font-size:40px;}@media (max-width:","){font-size:32px;}"],us.md,us.sm),qL=Ee.h2.withConfig({displayName:"Typography__H2",componentId:"sc-ffs6le-1"})(["font-family:var(--main-font);font-size:40px;font-weight:700;line-height:1.3;margin:16px 0;@media (max-width:","){font-size:32px;}@media (max-width:","){font-size:28px;}"],us.md,us.sm),HL=Ee.h3.withConfig({displayName:"Typography__H3",componentId:"sc-ffs6le-2"})(["font-family:var(--main-font);font-size:24px;font-weight:700;line-height:1.4;margin:12px 0 0;@media (max-width:","){font-size:28px;}@media (max-width:","){font-size:24px;}"],us.md,us.sm),VL=Ee.p.withConfig({displayName:"Typography__Text",componentId:"sc-ffs6le-3"})(["font-family:var(--main-font);font-size:18px;font-weight:",";line-height:1.6;margin:6px 0;word-wrap:break-word;@media (max-width:","){font-size:16px;}@media (max-width:","){font-size:14px;}"],({$bold:t})=>t?700:300,us.md,us.sm),Ae={H1:jL,H2:qL,H3:HL,Text:VL},UL=[{intlId:"privacyPolicy",link:"/privacy-policy"},{intlId:"imprint",link:"/imprint"},{intlId:"troubleshooting",link:"/troubleshooting"}],WL=()=>{const{t}=Xt(),e="";return z.jsx(GL,{children:z.jsx(l2,{children:z.jsxs(YL,{children:[z.jsx(Ae.Text,{children:" 2025 Viacheslav Sydora. All rights reserved."}),z.jsx(XL,{children:UL.map(r=>z.jsx(KL,{$isActive:e===r.link,children:z.jsx(r0,{to:r.link,children:t(`Navigation.${r.intlId}`)})},`header-navbar-${r.intlId}`))})]})})})},GL=Ee.div.withConfig({displayName:"Footer__Wrapper",componentId:"sc-1gqk7q9-0"})(["width:100%;position:relative;margin:50px 0 30px;.copyright{text-align:center;}@media (max-width:768px){margin:20px 0;}"]),YL=Ee.nav.withConfig({displayName:"Footer__Row",componentId:"sc-1gqk7q9-1"})(["width:100%;display:flex;align-items:center;justify-content:space-between;@media (max-width:1024px){flex-direction:column-reverse;}"]),XL=Ee.ul.withConfig({displayName:"Footer__NavBox",componentId:"sc-1gqk7q9-2"})(["display:flex;flex:1;justify-content:flex-end;column-gap:30px;max-width:100%;flex-wrap:wrap;@media (max-width:600px){justify-content:center;align-items:center;& > li{text-align:center;}}"]),KL=Ee.li.withConfig({displayName:"Footer__NavItem",componentId:"sc-1gqk7q9-3"})(["font-family:var(--main-font);font-weight:",';font-size:16px;list-style:none;cursor:pointer;position:relative;padding:5px 0;&::after{content:"";position:absolute;bottom:0;left:0;width:0;height:1px;background-color:',";transition:all 0.15s ease;}&:hover::after{width:",";background-color:",";}"],({$isActive:t})=>t?700:400,({$isActive:t,theme:e})=>t?e.black:"transparent",({$isActive:t})=>t?"0":"100%",({theme:t})=>t.black),ZL=({children:t})=>z.jsxs(QL,{children:[z.jsx(tL,{}),z.jsx(l2,{children:t}),z.jsx($L,{}),z.jsx(WL,{})]}),QL=Ee.div.withConfig({displayName:"PageLayout__Wrapper",componentId:"sc-zmdmlw-0"})(["display:flex;flex-direction:column;min-height:100vh;"]),JL={black:"#080808",gray:"#ddd",text:"#080808",darkGray:"#999",lightGray:"#fafafa",textFieldText:"rgba(33, 33, 48, .5)",boxShadow:"#FAFAFC",lightRed:"rgb(255, 203, 203)",lightGreen:"rgb(206, 255, 217)",red:"rgb(255, 109, 109)",green:"rgb(104, 187, 122)",darkRed:"rgb(178, 76, 76)",darkGreen:"rgb(66, 128, 79)",complementaryColor:"#f5f5f5",contrastColor:"#182135",borderColor:"#eaeaf0",markdownQuote:"#fafafc",creatorsSwitcherActive:"#212130",creatorsSwitcherUnActive:"#B7B7CC",tierCardBorder:"rgba(183, 183, 204, 0.3)",postDescriptionBlur:"linear-gradient(180deg, transparent, rgba(255, 255, 255, 0.795) 100%)",imagePlaceholder:"#eaeaf0"},eR=zD(["body{background:#fff;color:",";transition:all 0.08s linear;}::-webkit-scrollbar{width:5px;background-color:white;}::-webkit-scrollbar-thumb{background-color:",";border-radius:50px;box-shadow:0px 0px 6px 2px rgba(0,0,0,0.5) inset;}::-webkit-scrollbar-track{border-radius:5px;background-color:",";}"],({theme:t})=>t.text,({theme:t})=>t.darkGray,({theme:t})=>t.lightGray);var g2={exports:{}},gl=typeof Reflect=="object"?Reflect:null,tx=gl&&typeof gl.apply=="function"?gl.apply:function(e,r,n){return Function.prototype.apply.call(e,r,n)},Qf;gl&&typeof gl.ownKeys=="function"?Qf=gl.ownKeys:Object.getOwnPropertySymbols?Qf=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Qf=function(e){return Object.getOwnPropertyNames(e)};function tR(t){console&&console.warn&&console.warn(t)}var W_=Number.isNaN||function(e){return e!==e};function Ft(){Ft.init.call(this)}g2.exports=Ft;g2.exports.once=aR;Ft.EventEmitter=Ft;Ft.prototype._events=void 0;Ft.prototype._eventsCount=0;Ft.prototype._maxListeners=void 0;var rx=10;function Uh(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}Object.defineProperty(Ft,"defaultMaxListeners",{enumerable:!0,get:function(){return rx},set:function(t){if(typeof t!="number"||t<0||W_(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");rx=t}});Ft.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};Ft.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||W_(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function G_(t){return t._maxListeners===void 0?Ft.defaultMaxListeners:t._maxListeners}Ft.prototype.getMaxListeners=function(){return G_(this)};Ft.prototype.emit=function(e){for(var r=[],n=1;n<arguments.length;n++)r.push(arguments[n]);var i=e==="error",a=this._events;if(a!==void 0)i=i&&a.error===void 0;else if(!i)return!1;if(i){var s;if(r.length>0&&(s=r[0]),s instanceof Error)throw s;var o=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw o.context=s,o}var l=a[e];if(l===void 0)return!1;if(typeof l=="function")tx(l,this,r);else for(var u=l.length,c=Q_(l,u),n=0;n<u;++n)tx(c[n],this,r);return!0};function Y_(t,e,r,n){var i,a,s;if(Uh(r),a=t._events,a===void 0?(a=t._events=Object.create(null),t._eventsCount=0):(a.newListener!==void 0&&(t.emit("newListener",e,r.listener?r.listener:r),a=t._events),s=a[e]),s===void 0)s=a[e]=r,++t._eventsCount;else if(typeof s=="function"?s=a[e]=n?[r,s]:[s,r]:n?s.unshift(r):s.push(r),i=G_(t),i>0&&s.length>i&&!s.warned){s.warned=!0;var o=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");o.name="MaxListenersExceededWarning",o.emitter=t,o.type=e,o.count=s.length,tR(o)}return t}Ft.prototype.addListener=function(e,r){return Y_(this,e,r,!1)};Ft.prototype.on=Ft.prototype.addListener;Ft.prototype.prependListener=function(e,r){return Y_(this,e,r,!0)};function rR(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function X_(t,e,r){var n={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},i=rR.bind(n);return i.listener=r,n.wrapFn=i,i}Ft.prototype.once=function(e,r){return Uh(r),this.on(e,X_(this,e,r)),this};Ft.prototype.prependOnceListener=function(e,r){return Uh(r),this.prependListener(e,X_(this,e,r)),this};Ft.prototype.removeListener=function(e,r){var n,i,a,s,o;if(Uh(r),i=this._events,i===void 0)return this;if(n=i[e],n===void 0)return this;if(n===r||n.listener===r)--this._eventsCount===0?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,n.listener||r));else if(typeof n!="function"){for(a=-1,s=n.length-1;s>=0;s--)if(n[s]===r||n[s].listener===r){o=n[s].listener,a=s;break}if(a<0)return this;a===0?n.shift():nR(n,a),n.length===1&&(i[e]=n[0]),i.removeListener!==void 0&&this.emit("removeListener",e,o||r)}return this};Ft.prototype.off=Ft.prototype.removeListener;Ft.prototype.removeAllListeners=function(e){var r,n,i;if(n=this._events,n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete n[e]),this;if(arguments.length===0){var a=Object.keys(n),s;for(i=0;i<a.length;++i)s=a[i],s!=="removeListener"&&this.removeAllListeners(s);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(r=n[e],typeof r=="function")this.removeListener(e,r);else if(r!==void 0)for(i=r.length-1;i>=0;i--)this.removeListener(e,r[i]);return this};function K_(t,e,r){var n=t._events;if(n===void 0)return[];var i=n[e];return i===void 0?[]:typeof i=="function"?r?[i.listener||i]:[i]:r?iR(i):Q_(i,i.length)}Ft.prototype.listeners=function(e){return K_(this,e,!0)};Ft.prototype.rawListeners=function(e){return K_(this,e,!1)};Ft.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):Z_.call(t,e)};Ft.prototype.listenerCount=Z_;function Z_(t){var e=this._events;if(e!==void 0){var r=e[t];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}Ft.prototype.eventNames=function(){return this._eventsCount>0?Qf(this._events):[]};function Q_(t,e){for(var r=new Array(e),n=0;n<e;++n)r[n]=t[n];return r}function nR(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function iR(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}function aR(t,e){return new Promise(function(r,n){function i(s){t.removeListener(e,a),n(s)}function a(){typeof t.removeListener=="function"&&t.removeListener("error",i),r([].slice.call(arguments))}J_(t,e,a,{once:!0}),e!=="error"&&sR(t,i,{once:!0})})}function sR(t,e,r){typeof t.on=="function"&&J_(t,"error",e,r)}function J_(t,e,r,n){if(typeof t.on=="function")n.once?t.once(e,r):t.on(e,r);else if(typeof t.addEventListener=="function")t.addEventListener(e,function i(a){n.once&&t.removeEventListener(e,i),r(a)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}var oR=g2.exports;class cn{}class lR extends cn{get ID(){return 0}serialize(){return new Uint8Array([this.ID])}toString(){return"InfoRequest()"}}class uR extends cn{constructor(r,n,i,a,s,o,l,u,c,f){super();Le(this,"rpcMajor");Le(this,"rpcMinor");Le(this,"rpcBuild");Le(this,"firmwareMajor");Le(this,"firmwareMinor");Le(this,"firmwareBuild");Le(this,"maxPacketSize");Le(this,"maxMessageSize");Le(this,"maxChunkSize");Le(this,"productGroupDevice");this.rpcMajor=r,this.rpcMinor=n,this.rpcBuild=i,this.firmwareMajor=a,this.firmwareMinor=s,this.firmwareBuild=o,this.maxPacketSize=l,this.maxMessageSize=u,this.maxChunkSize=c,this.productGroupDevice=f}get ID(){return 1}serialize(){const r=new Uint8Array(21);return r[0]=this.ID,r[1]=this.rpcMajor,r[2]=this.rpcMinor,r}toString(){return`InfoResponse(rpcVersion=${this.rpcMajor}.${this.rpcMinor}.${this.rpcBuild}, firmwareVersion=${this.firmwareMajor}.${this.firmwareMinor}.${this.firmwareBuild}, maxPacketSize=${this.maxPacketSize}, maxChunkSize=${this.maxChunkSize})`}}class cR extends cn{constructor(r){super();Le(this,"intervalMs");this.intervalMs=r}get ID(){return 40}serialize(){const r=new Uint8Array(3);return r[0]=this.ID,new DataView(r.buffer,1,2).setUint16(0,this.intervalMs,!0),r}toString(){return`DeviceNotificationRequest(intervalMs=${this.intervalMs})`}}class fR extends cn{constructor(r){super();Le(this,"success");this.success=r}get ID(){return 41}serialize(){const r=new Uint8Array(2);return r[0]=this.ID,r[1]=this.success?0:1,r}toString(){return`DeviceNotificationResponse(success=${this.success})`}}class eS extends cn{constructor(r,n){super();Le(this,"size");Le(this,"messages");this.size=r,this.messages=n}get ID(){return 60}serialize(){return new Uint8Array([this.ID])}toString(){return`DeviceNotification(${this.messages.map(n=>n[0]).join(", ")})`}}class dR extends cn{constructor(r){super();Le(this,"slot");this.slot=r}get ID(){return 70}serialize(){const r=new Uint8Array(2);return r[0]=this.ID,r[1]=this.slot,r}toString(){return`ClearSlotRequest(slot=${this.slot})`}}class hR extends cn{constructor(r){super();Le(this,"success");this.success=r}get ID(){return 71}serialize(){const r=new Uint8Array(2);return r[0]=this.ID,r[1]=this.success?0:1,r}toString(){return`ClearSlotResponse(success=${this.success})`}}class k1 extends cn{constructor(r,n,i){super();Le(this,"bytes");Le(this,"frameId");Le(this,"frameTotal");this.bytes=r,this.frameId=n,this.frameTotal=i}get ID(){return 50}serialize(){const r=new Uint8Array(5+this.bytes.length);return r[0]=this.ID,new DataView(r.buffer,1,2).setUint16(0,this.bytes.length+2,!0),r[3]=this.frameId,r[4]=this.frameTotal,r.set(this.bytes,5),r}toString(){return`${this.constructor.name}(frameId=${this.frameId}, frameTotal=${this.frameTotal}, bytes=${this.bytes})`}}class pR extends cn{constructor(r,n,i){super();Le(this,"fileName");Le(this,"slot");Le(this,"crc");this.fileName=r,this.slot=n,this.crc=i}get ID(){return 12}serialize(){const r=new TextEncoder().encode(this.fileName+"\0"),n=new Uint8Array(6+r.length);return n[0]=this.ID,n.set(r,1),n[1+r.length]=this.slot,new DataView(n.buffer,2+r.length,4).setUint32(0,this.crc,!0),n}toString(){return`StartFileUploadRequest(fileName="${this.fileName}", slot=${this.slot}, crc=${this.crc})`}}class gR extends cn{constructor(r){super();Le(this,"success");this.success=r}get ID(){return 13}serialize(){const r=new Uint8Array(2);return r[0]=this.ID,r[1]=this.success?0:1,r}toString(){return`StartFileUploadResponse(success=${this.success})`}}class mR extends cn{constructor(r,n){super();Le(this,"runningCrc");Le(this,"chunk");this.runningCrc=r,this.chunk=n}get ID(){return 16}serialize(){const r=new Uint8Array(7+this.chunk.length);return r[0]=this.ID,new DataView(r.buffer,1,4).setUint32(0,this.runningCrc,!0),new DataView(r.buffer,5,2).setUint16(0,this.chunk.length,!0),r.set(this.chunk,7),r}toString(){return`TransferChunkRequest(runningCrc=${this.runningCrc}, chunkSize=${this.chunk.length})`}}class vR extends cn{constructor(r){super();Le(this,"success");this.success=r}get ID(){return 17}serialize(){const r=new Uint8Array(2);return r[0]=this.ID,r[1]=this.success?0:1,r}toString(){return`TransferChunkResponse(success=${this.success})`}}class nx extends cn{constructor(r,n){super();Le(this,"stop");Le(this,"slot");this.stop=r,this.slot=n}get ID(){return 30}serialize(){const r=new Uint8Array(3);return r[0]=this.ID,r[1]=this.stop?1:0,r[2]=this.slot,r}toString(){return`ProgramFlowRequest(stop=${this.stop}, slot=${this.slot})`}}class yR extends cn{constructor(r){super();Le(this,"success");this.success=r}get ID(){return 31}serialize(){const r=new Uint8Array(2);return r[0]=this.ID,r[1]=this.success?0:1,r}toString(){return`ProgramFlowResponse(success=${this.success})`}}class tS extends cn{constructor(r){super();Le(this,"text");this.text=r}get ID(){return 33}serialize(){const r=new TextEncoder().encode(this.text),n=new Uint8Array(1+r.length);return n[0]=this.ID,n.set(r,1),n}toString(){return`ConsoleNotification(text="${this.text}")`}}class rS extends cn{constructor(r){super();Le(this,"stop");this.stop=r}get ID(){return 32}serialize(){const r=new Uint8Array(2);return r[0]=this.ID,r[1]=this.stop?1:0,r}toString(){return`ProgramFlowNotification(stop=${this.stop})`}}function xR(t){if(t.length===0)throw new Error("Empty data buffer");const e=t[0];switch(e){case 1:const r=new DataView(t.buffer,t.byteOffset,t.byteLength);return new uR(t[1],t[2],r.getUint16(3,!0),t[5],t[6],r.getUint16(7,!0),r.getUint16(9,!0),r.getUint16(11,!0),r.getUint16(13,!0),r.getUint16(15,!0));case 41:return new fR(t[1]===0);case 60:const n=new DataView(t.buffer,t.byteOffset+1,2).getUint16(0,!0),i=[];let a=3;for(;a<t.length;){const p=t[a];if(p===0)i.push(["Battery",t[a+1]]),a+=2;else if(p===1)i.push(["IMU","data"]),a+=23;else break}return new eS(n,i);case 71:return new hR(t[1]===0);case 13:return new gR(t[1]===0);case 17:return new vR(t[1]===0);case 31:return new yR(t[1]===0);case 33:const s=t.slice(1).filter(p=>p!==0),o=new TextDecoder().decode(s);return new tS(o);case 50:const l=t[3],u=t[4],c=new DataView(t.buffer,t.byteOffset+1,2).getUint16(0,!0),f=t.slice(5,5+c);return new k1(f,l,u);case 32:if(t.length!==2)throw new Error("Invalid data length for ProgramFlowNotification");const d=t[1]===1;return new rS(d);default:throw new Error(`Unknown message ID: ${e}`)}}const bR=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];function wR(t,e=0){e=~e;for(let r=0;r<t.length;r++)e=bR[(e^t[r])&255]^e>>>8;return e^4294967295}function ix(t,e=0,r=4){const n=t.length%r;if(n){const i=new Uint8Array(t.length+(r-n));i.set(t),t=i}return wR(t,e)}const ml=2,_R=255,jd=ml,il=84,nS=3;function iS(t){const e=[];let r=0,n=0;const i=()=>{r=e.length,e.push(_R),n=1};return i(),t.forEach(a=>{if(a>ml&&(e.push(a),n+=1),a<=ml||n>il){if(a<=ml){const s=a*il,o=n+jd;e[r]=s+o}i()}}),e[r]=n+jd,new Uint8Array(e)}function aS(t){const e=[],r=a=>{if(a===255)return[null,il+1];const[s,o]=[(a-jd)/il,(a-jd)%il];return o===0?[s-1,il]:[s,o]};let[n,i]=r(t[0]);for(let a=1;a<t.length;a++){if(i-=1,i>0){e.push(t[a]);continue}n!==null&&e.push(n),[n,i]=r(t[a])}return new Uint8Array(e)}function SR(t){let e=iS(t);for(let n=0;n<e.length;n++)e[n]^=nS;const r=new Uint8Array(e.length+1);return r.set(e),r[e.length]=ml,r}function kR(t){let e=0;t[0]===1&&(e+=1);const r=new Uint8Array(t.slice(e,t.length-1).map(n=>n^nS));return aS(r)}const Cg={pack:SR,unpack:kR,encode:iS,decode:aS,DELIMITER:ml};function TR(){let t,e;return{promise:new Promise((n,i)=>{t=n,e=i}),resolve:t,reject:e}}class ER extends oR.EventEmitter{constructor(){super();Le(this,"device",null);Le(this,"server",null);Le(this,"service",null);Le(this,"rxCharacteristic",null);Le(this,"txCharacteristic",null);Le(this,"infoResponse",null);Le(this,"pendingResponse",null);Le(this,"chunksMap",new Map);Le(this,"totalChunks",0);Le(this,"tunnelMessageQueue",[]);Le(this,"isProcessingTunnel",!1);Le(this,"SERVICE_UUID","0000fd02-0000-1000-8000-00805f9b34fb");Le(this,"RX_CHARACTERISTIC_UUID","0000fd02-0001-1000-8000-00805f9b34fb");Le(this,"TX_CHARACTERISTIC_UUID","0000fd02-0002-1000-8000-00805f9b34fb");Le(this,"DEFAULT_NOTIFICATION_INTERVAL_MS",5e3);Le(this,"BANDWIDTH",8192/16)}async connect(){var r;try{console.log("Scanning for LEGO hubs..."),this.device=await navigator.bluetooth.requestDevice({filters:[{services:[this.SERVICE_UUID]}]}),console.log(`Hub detected! ${this.device.name||"Unnamed device"}`),this.device.addEventListener("gattserverdisconnected",()=>{console.log("Connection lost."),this.emit("disconnected"),this.removeAllListeners()});const n=await((r=this.device.gatt)==null?void 0:r.connect());if(!n)throw new Error("Failed to connect to GATT server");if(this.server=n,this.service=await this.server.getPrimaryService(this.SERVICE_UUID),this.rxCharacteristic=await this.service.getCharacteristic(this.RX_CHARACTERISTIC_UUID),this.txCharacteristic=await this.service.getCharacteristic(this.TX_CHARACTERISTIC_UUID),await this.txCharacteristic.startNotifications(),this.txCharacteristic.addEventListener("characteristicvaluechanged",this.handleNotification.bind(this)),this.infoResponse=await this.sendRequest(new lR,1),!(await this.sendRequest(new cR(this.DEFAULT_NOTIFICATION_INTERVAL_MS),41)).success)throw new Error("Failed to enable notifications");this.emit("connected")}catch(n){throw console.error("Connection error:",n),this.disconnect(),this.removeAllListeners(),n}}disconnect(){this.server&&this.server.connected&&this.server.disconnect(),this.device=null,this.server=null,this.service=null,this.rxCharacteristic=null,this.txCharacteristic=null,this.infoResponse=null,this.pendingResponse=null}async clearSlot(r){try{return(await this.sendRequest(new dR(r),71)).success}catch(n){return console.warn("ClearSlotRequest was not acknowledged:",n),!1}}async uploadProgram(r,n,i="program.py",a=()=>{}){var s;try{const o=new TextEncoder().encode(r),l=ix(o,0);if(!(await this.sendRequest(new pR(i,n,l),13)).success)return console.error("Start file upload was not acknowledged"),!1;a(0);let c=0;const f=((s=this.infoResponse)==null?void 0:s.maxChunkSize)||512;for(let d=0;d<o.length;d+=f){const p=o.slice(d,d+f);c=ix(p,c);const g=new mR(c,p);if(!(await this.sendRequest(g,17)).success)return console.error(`Failed to transfer chunk at offset ${d}`),!1;a(Math.round(d/o.length*f*100))}return!0}catch(o){return console.error("Program upload error:",o),!1}}async startProgram(r){try{return(await this.sendRequest(new nx(!1,r),31)).success}catch(n){return console.error("Failed to start program:",n),!1}}async stopProgram(r){try{return(await this.sendRequest(new nx(!0,r),31)).success}catch(n){return console.error("Failed to stop program:",n),!1}}handleNotification(r){const n=r.target;if(!n.value){console.log("Received notification with no value");return}const i=n.value.buffer,a=new Uint8Array(i.slice(0));if(a.length===0||a[a.length-1]!==Cg.DELIMITER){console.log("Received incomplete message");return}try{const s=Cg.unpack(a),o=xR(s);if(this.pendingResponse&&o.ID===this.pendingResponse.id){const l=this.pendingResponse.resolve;this.pendingResponse=null,l(o)}if(o instanceof eS)this.emit("deviceNotification",o);else if(o instanceof tS)this.emit("consoleNotification",o);else if(o instanceof rS)this.emit("programFlowNotification",o);else if(o instanceof k1){const{frameId:l,frameTotal:u,bytes:c}=o;if(this.totalChunks===0&&(this.totalChunks=u),this.chunksMap.set(l,c),this.chunksMap.size===this.totalChunks){const f=Array.from({length:this.totalChunks},(y,b)=>this.chunksMap.get(b)||new Uint8Array),d=new Uint8Array(f.reduce((y,b)=>y+b.length,0));let p=0;f.forEach(y=>{d.set(y,p),p+=y.length});const g=new TextDecoder().decode(d);this.chunksMap.clear(),this.totalChunks=0;try{const y=JSON.parse(g);if(!y.action||!y.payload)throw new Error;this.emit("tunnelData",y)}catch{console.error("Unparsable string received: ",g)}}}}catch(s){console.error("Error processing message:",s)}}async sendMessage(r){var s;if(!this.rxCharacteristic)throw new Error("Not connected to hub");const n=r.serialize(),i=Cg.pack(n),a=((s=this.infoResponse)==null?void 0:s.maxPacketSize)||i.length;for(let o=0;o<i.length;o+=a){const l=i.slice(o,o+a);await this.rxCharacteristic.writeValue(l)}}sendRequest(r,n){return new Promise((i,a)=>{if(this.pendingResponse){a(new Error("Another request is already in progress"));return}this.pendingResponse={id:n,resolve:i},this.sendMessage(r).catch(a),setTimeout(()=>{var s;((s=this.pendingResponse)==null?void 0:s.id)===n&&(this.pendingResponse=null,a(new Error(`Request timed out. Message: ${r}`)))},1e4)})}async sendTunnelData(r){var u;const n=new TextEncoder().encode(typeof r=="string"?r:JSON.stringify(r)),a=(((u=this.infoResponse)==null?void 0:u.maxChunkSize)||512)-5,s=Math.ceil(n.length/a),o=[];for(let c=0;c<n.length;c+=a){const f=n.slice(c,c+a);o.push(new k1(f,c,s))}const l=TR();return this.tunnelMessageQueue.push({chunks:o,deferred:l}),this.processTunnelQueue(),l.promise}async processTunnelQueue(){if(!this.isProcessingTunnel){for(this.isProcessingTunnel=!0;this.tunnelMessageQueue.length>0;){const{chunks:r,deferred:n}=this.tunnelMessageQueue.shift();for(const i of r){const a=i.serialize().length,s=Math.floor(1e3*a/this.BANDWIDTH);await this.sendMessage(i),await new Promise(o=>setTimeout(o,s))}n.resolve()}this.isProcessingTunnel=!1}}}const sS=Q.createContext({canUseBLE:!1,disconnect:()=>{},connect:()=>Promise.resolve(),connectionStatus:"closed",subscribe:()=>()=>{},stopProgram:()=>Promise.resolve(!0),startProgram:()=>Promise.resolve(),sendTunnelData:()=>Promise.resolve(),codeStatus:"off"}),Wh=()=>Q.useContext(sS),CR=({children:t})=>{const[e,r]=Q.useState("closed"),[n,i]=Q.useState("off"),[a]=Q.useState(()=>"bluetooth"in navigator),s=Q.useRef(new ER),o=8,l=async()=>{s.current.removeAllListeners(),s.current.on("connected",()=>{r("open")}),s.current.on("disconnected",()=>{r("closed")}),s.current.on("programFlowNotification",g=>{n!=="uploading"&&i(g.stop?"off":"on")}),s.current.on("consoleNotification",g=>{console.log(`Hub console notification:
${g.text}`)}),r("opening");try{await s.current.connect()}catch{}},u=()=>{r("closing"),s.current.disconnect(),s.current.removeAllListeners()},c=async({code:g,onStart:y,onProgress:b})=>{i("uploading");try{await s.current.clearSlot(o),await s.current.uploadProgram(g,o,"program.py",b),s.current.removeAllListeners("tunnelData");const x=new Promise((w,_)=>{let k=!1;const T=P=>{P.action==="program_start"&&(k=!0,w(!0),s.current.off("tunnelData",T))};s.current.on("tunnelData",T),setTimeout(()=>{k||(console.error("VM init timeout"),_(),s.current.off("tunnelData",T))},5e3)});await s.current.startProgram(o),console.log("PROGRAM STARTED"),await x,console.log("TUNNEL INITIALIZED"),await y(),i("on")}catch{i("off")}},f=()=>s.current.stopProgram(o),d=g=>(s.current.on("tunnelData",g),()=>{s.current.off("tunnelData",g)}),p=({action:g,payload:y})=>s.current.sendTunnelData({action:g,payload:y});return z.jsx(sS.Provider,{value:{canUseBLE:a,codeStatus:n,connectionStatus:e,connect:l,disconnect:u,subscribe:d,stopProgram:f,startProgram:c,sendTunnelData:p},children:t})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function a0(t){return t+.5|0}const Ha=(t,e,r)=>Math.max(Math.min(t,r),e);function zu(t){return Ha(a0(t*2.55),0,255)}function rs(t){return Ha(a0(t*255),0,255)}function ra(t){return Ha(a0(t/2.55)/100,0,1)}function ax(t){return Ha(a0(t*100),0,100)}const ei={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},T1=[..."0123456789ABCDEF"],MR=t=>T1[t&15],PR=t=>T1[(t&240)>>4]+T1[t&15],ef=t=>(t&240)>>4===(t&15),DR=t=>ef(t.r)&&ef(t.g)&&ef(t.b)&&ef(t.a);function AR(t){var e=t.length,r;return t[0]==="#"&&(e===4||e===5?r={r:255&ei[t[1]]*17,g:255&ei[t[2]]*17,b:255&ei[t[3]]*17,a:e===5?ei[t[4]]*17:255}:(e===7||e===9)&&(r={r:ei[t[1]]<<4|ei[t[2]],g:ei[t[3]]<<4|ei[t[4]],b:ei[t[5]]<<4|ei[t[6]],a:e===9?ei[t[7]]<<4|ei[t[8]]:255})),r}const IR=(t,e)=>t<255?e(t):"";function LR(t){var e=DR(t)?MR:PR;return t?"#"+e(t.r)+e(t.g)+e(t.b)+IR(t.a,e):void 0}const RR=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function oS(t,e,r){const n=e*Math.min(r,1-r),i=(a,s=(a+t/30)%12)=>r-n*Math.max(Math.min(s-3,9-s,1),-1);return[i(0),i(8),i(4)]}function OR(t,e,r){const n=(i,a=(i+t/60)%6)=>r-r*e*Math.max(Math.min(a,4-a,1),0);return[n(5),n(3),n(1)]}function NR(t,e,r){const n=oS(t,1,.5);let i;for(e+r>1&&(i=1/(e+r),e*=i,r*=i),i=0;i<3;i++)n[i]*=1-e-r,n[i]+=e;return n}function zR(t,e,r,n,i){return t===i?(e-r)/n+(e<r?6:0):e===i?(r-t)/n+2:(t-e)/n+4}function m2(t){const r=t.r/255,n=t.g/255,i=t.b/255,a=Math.max(r,n,i),s=Math.min(r,n,i),o=(a+s)/2;let l,u,c;return a!==s&&(c=a-s,u=o>.5?c/(2-a-s):c/(a+s),l=zR(r,n,i,c,a),l=l*60+.5),[l|0,u||0,o]}function v2(t,e,r,n){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,r,n)).map(rs)}function y2(t,e,r){return v2(oS,t,e,r)}function BR(t,e,r){return v2(NR,t,e,r)}function FR(t,e,r){return v2(OR,t,e,r)}function lS(t){return(t%360+360)%360}function $R(t){const e=RR.exec(t);let r=255,n;if(!e)return;e[5]!==n&&(r=e[6]?zu(+e[5]):rs(+e[5]));const i=lS(+e[2]),a=+e[3]/100,s=+e[4]/100;return e[1]==="hwb"?n=BR(i,a,s):e[1]==="hsv"?n=FR(i,a,s):n=y2(i,a,s),{r:n[0],g:n[1],b:n[2],a:r}}function jR(t,e){var r=m2(t);r[0]=lS(r[0]+e),r=y2(r),t.r=r[0],t.g=r[1],t.b=r[2]}function qR(t){if(!t)return;const e=m2(t),r=e[0],n=ax(e[1]),i=ax(e[2]);return t.a<255?`hsla(${r}, ${n}%, ${i}%, ${ra(t.a)})`:`hsl(${r}, ${n}%, ${i}%)`}const sx={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},ox={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function HR(){const t={},e=Object.keys(ox),r=Object.keys(sx);let n,i,a,s,o;for(n=0;n<e.length;n++){for(s=o=e[n],i=0;i<r.length;i++)a=r[i],o=o.replace(a,sx[a]);a=parseInt(ox[s],16),t[o]=[a>>16&255,a>>8&255,a&255]}return t}let tf;function VR(t){tf||(tf=HR(),tf.transparent=[0,0,0,0]);const e=tf[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const UR=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function WR(t){const e=UR.exec(t);let r=255,n,i,a;if(e){if(e[7]!==n){const s=+e[7];r=e[8]?zu(s):Ha(s*255,0,255)}return n=+e[1],i=+e[3],a=+e[5],n=255&(e[2]?zu(n):Ha(n,0,255)),i=255&(e[4]?zu(i):Ha(i,0,255)),a=255&(e[6]?zu(a):Ha(a,0,255)),{r:n,g:i,b:a,a:r}}}function GR(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${ra(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const Mg=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,Ao=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function YR(t,e,r){const n=Ao(ra(t.r)),i=Ao(ra(t.g)),a=Ao(ra(t.b));return{r:rs(Mg(n+r*(Ao(ra(e.r))-n))),g:rs(Mg(i+r*(Ao(ra(e.g))-i))),b:rs(Mg(a+r*(Ao(ra(e.b))-a))),a:t.a+r*(e.a-t.a)}}function rf(t,e,r){if(t){let n=m2(t);n[e]=Math.max(0,Math.min(n[e]+n[e]*r,e===0?360:1)),n=y2(n),t.r=n[0],t.g=n[1],t.b=n[2]}}function uS(t,e){return t&&Object.assign(e||{},t)}function lx(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=rs(t[3]))):(e=uS(t,{r:0,g:0,b:0,a:1}),e.a=rs(e.a)),e}function XR(t){return t.charAt(0)==="r"?WR(t):$R(t)}class Dc{constructor(e){if(e instanceof Dc)return e;const r=typeof e;let n;r==="object"?n=lx(e):r==="string"&&(n=AR(e)||VR(e)||XR(e)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var e=uS(this._rgb);return e&&(e.a=ra(e.a)),e}set rgb(e){this._rgb=lx(e)}rgbString(){return this._valid?GR(this._rgb):void 0}hexString(){return this._valid?LR(this._rgb):void 0}hslString(){return this._valid?qR(this._rgb):void 0}mix(e,r){if(e){const n=this.rgb,i=e.rgb;let a;const s=r===a?.5:r,o=2*s-1,l=n.a-i.a,u=((o*l===-1?o:(o+l)/(1+o*l))+1)/2;a=1-u,n.r=255&u*n.r+a*i.r+.5,n.g=255&u*n.g+a*i.g+.5,n.b=255&u*n.b+a*i.b+.5,n.a=s*n.a+(1-s)*i.a,this.rgb=n}return this}interpolate(e,r){return e&&(this._rgb=YR(this._rgb,e._rgb,r)),this}clone(){return new Dc(this.rgb)}alpha(e){return this._rgb.a=rs(e),this}clearer(e){const r=this._rgb;return r.a*=1-e,this}greyscale(){const e=this._rgb,r=a0(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=r,this}opaquer(e){const r=this._rgb;return r.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return rf(this._rgb,2,e),this}darken(e){return rf(this._rgb,2,-e),this}saturate(e){return rf(this._rgb,1,e),this}desaturate(e){return rf(this._rgb,1,-e),this}rotate(e){return jR(this._rgb,e),this}}/*!
 * Chart.js v4.4.8
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */const KR=(()=>{let t=0;return()=>t++})();function qt(t){return t==null}function yr(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function kt(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function xr(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function zn(t,e){return xr(t)?t:e}function Bt(t,e){return typeof t>"u"?e:t}const ZR=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function gr(t,e,r){if(t&&typeof t.call=="function")return t.apply(r,e)}function an(t,e,r,n){let i,a,s;if(yr(t))if(a=t.length,n)for(i=a-1;i>=0;i--)e.call(r,t[i],i);else for(i=0;i<a;i++)e.call(r,t[i],i);else if(kt(t))for(s=Object.keys(t),a=s.length,i=0;i<a;i++)e.call(r,t[s[i]],s[i])}function ux(t,e){let r,n,i,a;if(!t||!e||t.length!==e.length)return!1;for(r=0,n=t.length;r<n;++r)if(i=t[r],a=e[r],i.datasetIndex!==a.datasetIndex||i.index!==a.index)return!1;return!0}function qd(t){if(yr(t))return t.map(qd);if(kt(t)){const e=Object.create(null),r=Object.keys(t),n=r.length;let i=0;for(;i<n;++i)e[r[i]]=qd(t[r[i]]);return e}return t}function cS(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function QR(t,e,r,n){if(!cS(t))return;const i=e[t],a=r[t];kt(i)&&kt(a)?Ac(i,a,n):e[t]=qd(a)}function Ac(t,e,r){const n=yr(e)?e:[e],i=n.length;if(!kt(t))return t;r=r||{};const a=r.merger||QR;let s;for(let o=0;o<i;++o){if(s=n[o],!kt(s))continue;const l=Object.keys(s);for(let u=0,c=l.length;u<c;++u)a(l[u],t,s,r)}return t}function Ju(t,e){return Ac(t,e,{merger:JR})}function JR(t,e,r){if(!cS(t))return;const n=e[t],i=r[t];kt(n)&&kt(i)?Ju(n,i):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=qd(i))}const cx={"":t=>t,x:t=>t.x,y:t=>t.y};function eO(t){const e=t.split("."),r=[];let n="";for(const i of e)n+=i,n.endsWith("\\")?n=n.slice(0,-1)+".":(r.push(n),n="");return r}function tO(t){const e=eO(t);return r=>{for(const n of e){if(n==="")break;r=r&&r[n]}return r}}function Hd(t,e){return(cx[e]||(cx[e]=tO(e)))(t)}function x2(t){return t.charAt(0).toUpperCase()+t.slice(1)}const Vd=t=>typeof t<"u",cs=t=>typeof t=="function",fx=(t,e)=>{if(t.size!==e.size)return!1;for(const r of t)if(!e.has(r))return!1;return!0};function rO(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const Vr=Math.PI,Hn=2*Vr,nO=Hn+Vr,Ud=Number.POSITIVE_INFINITY,iO=Vr/180,jn=Vr/2,As=Vr/4,dx=Vr*2/3,Va=Math.log10,Ol=Math.sign;function ec(t,e,r){return Math.abs(t-e)<r}function hx(t){const e=Math.round(t);t=ec(t,e,t/1e3)?e:t;const r=Math.pow(10,Math.floor(Va(t))),n=t/r;return(n<=1?1:n<=2?2:n<=5?5:10)*r}function aO(t){const e=[],r=Math.sqrt(t);let n;for(n=1;n<r;n++)t%n===0&&(e.push(n),e.push(t/n));return r===(r|0)&&e.push(r),e.sort((i,a)=>i-a).pop(),e}function sO(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function Ic(t){return!sO(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function oO(t,e){const r=Math.round(t);return r-e<=t&&r+e>=t}function fS(t,e,r){let n,i,a;for(n=0,i=t.length;n<i;n++)a=t[n][r],isNaN(a)||(e.min=Math.min(e.min,a),e.max=Math.max(e.max,a))}function Ua(t){return t*(Vr/180)}function b2(t){return t*(180/Vr)}function px(t){if(!xr(t))return;let e=1,r=0;for(;Math.round(t*e)/e!==t;)e*=10,r++;return r}function lO(t,e){const r=e.x-t.x,n=e.y-t.y,i=Math.sqrt(r*r+n*n);let a=Math.atan2(n,r);return a<-.5*Vr&&(a+=Hn),{angle:a,distance:i}}function gx(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function uO(t,e){return(t-e+nO)%Hn-Vr}function Fn(t){return(t%Hn+Hn)%Hn}function dS(t,e,r,n){const i=Fn(t),a=Fn(e),s=Fn(r),o=Fn(a-i),l=Fn(s-i),u=Fn(i-a),c=Fn(i-s);return i===a||i===s||n&&a===s||o>l&&u<c}function sa(t,e,r){return Math.max(e,Math.min(r,t))}function cO(t){return sa(t,-32768,32767)}function hS(t,e,r,n=1e-6){return t>=Math.min(e,r)-n&&t<=Math.max(e,r)+n}function w2(t,e,r){r=r||(s=>t[s]<e);let n=t.length-1,i=0,a;for(;n-i>1;)a=i+n>>1,r(a)?i=a:n=a;return{lo:i,hi:n}}const Ys=(t,e,r,n)=>w2(t,r,n?i=>{const a=t[i][e];return a<r||a===r&&t[i+1][e]===r}:i=>t[i][e]<r),fO=(t,e,r)=>w2(t,r,n=>t[n][e]>=r);function dO(t,e,r){let n=0,i=t.length;for(;n<i&&t[n]<e;)n++;for(;i>n&&t[i-1]>r;)i--;return n>0||i<t.length?t.slice(n,i):t}const pS=["push","pop","shift","splice","unshift"];function hO(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),pS.forEach(r=>{const n="_onData"+x2(r),i=t[r];Object.defineProperty(t,r,{configurable:!0,enumerable:!1,value(...a){const s=i.apply(this,a);return t._chartjs.listeners.forEach(o=>{typeof o[n]=="function"&&o[n](...a)}),s}})})}function mx(t,e){const r=t._chartjs;if(!r)return;const n=r.listeners,i=n.indexOf(e);i!==-1&&n.splice(i,1),!(n.length>0)&&(pS.forEach(a=>{delete t[a]}),delete t._chartjs)}function pO(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const gS=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function mS(t,e){let r=[],n=!1;return function(...i){r=i,n||(n=!0,gS.call(window,()=>{n=!1,t.apply(e,r)}))}}function gO(t,e){let r;return function(...n){return e?(clearTimeout(r),r=setTimeout(t,e,n)):t.apply(this,n),e}}const mO=t=>t==="start"?"left":t==="end"?"right":"center",vx=(t,e,r)=>t==="start"?e:t==="end"?r:(e+r)/2;function vO(t,e,r){const n=e.length;let i=0,a=n;if(t._sorted){const{iScale:s,vScale:o,_parsed:l}=t,u=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,c=s.axis,{min:f,max:d,minDefined:p,maxDefined:g}=s.getUserBounds();if(p){if(i=Math.min(Ys(l,c,f).lo,r?n:Ys(e,c,s.getPixelForValue(f)).lo),u){const y=l.slice(0,i+1).reverse().findIndex(b=>!qt(b[o.axis]));i-=Math.max(0,y)}i=sa(i,0,n-1)}if(g){let y=Math.max(Ys(l,s.axis,d,!0).hi+1,r?0:Ys(e,c,s.getPixelForValue(d),!0).hi+1);if(u){const b=l.slice(y-1).findIndex(x=>!qt(x[o.axis]));y+=Math.max(0,b)}a=sa(y,i,n)-i}else a=n-i}return{start:i,count:a}}function yO(t){const{xScale:e,yScale:r,_scaleRanges:n}=t,i={xmin:e.min,xmax:e.max,ymin:r.min,ymax:r.max};if(!n)return t._scaleRanges=i,!0;const a=n.xmin!==e.min||n.xmax!==e.max||n.ymin!==r.min||n.ymax!==r.max;return Object.assign(n,i),a}const nf=t=>t===0||t===1,yx=(t,e,r)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*Hn/r)),xx=(t,e,r)=>Math.pow(2,-10*t)*Math.sin((t-e)*Hn/r)+1,tc={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*jn)+1,easeOutSine:t=>Math.sin(t*jn),easeInOutSine:t=>-.5*(Math.cos(Vr*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>nf(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>nf(t)?t:yx(t,.075,.3),easeOutElastic:t=>nf(t)?t:xx(t,.075,.3),easeInOutElastic(t){return nf(t)?t:t<.5?.5*yx(t*2,.1125,.45):.5+.5*xx(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-tc.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?tc.easeInBounce(t*2)*.5:tc.easeOutBounce(t*2-1)*.5+.5};function _2(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function bx(t){return _2(t)?t:new Dc(t)}function Pg(t){return _2(t)?t:new Dc(t).saturate(.5).darken(.1).hexString()}const xO=["x","y","borderWidth","radius","tension"],bO=["color","borderColor","backgroundColor"];function wO(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:bO},numbers:{type:"number",properties:xO}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function _O(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const wx=new Map;function SO(t,e){e=e||{};const r=t+JSON.stringify(e);let n=wx.get(r);return n||(n=new Intl.NumberFormat(t,e),wx.set(r,n)),n}function S2(t,e,r){return SO(e,r).format(t)}const vS={values(t){return yr(t)?t:""+t},numeric(t,e,r){if(t===0)return"0";const n=this.chart.options.locale;let i,a=t;if(r.length>1){const u=Math.max(Math.abs(r[0].value),Math.abs(r[r.length-1].value));(u<1e-4||u>1e15)&&(i="scientific"),a=kO(t,r)}const s=Va(Math.abs(a)),o=isNaN(s)?1:Math.max(Math.min(-1*Math.floor(s),20),0),l={notation:i,minimumFractionDigits:o,maximumFractionDigits:o};return Object.assign(l,this.options.ticks.format),S2(t,n,l)},logarithmic(t,e,r){if(t===0)return"0";const n=r[e].significand||t/Math.pow(10,Math.floor(Va(t)));return[1,2,3,5,10,15].includes(n)||e>.8*r.length?vS.numeric.call(this,t,e,r):""}};function kO(t,e){let r=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(r)>=1&&t!==Math.floor(t)&&(r=t-Math.floor(t)),r}var Gh={formatters:vS};function TO(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,r)=>r.lineWidth,tickColor:(e,r)=>r.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Gh.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const uo=Object.create(null),E1=Object.create(null);function rc(t,e){if(!e)return t;const r=e.split(".");for(let n=0,i=r.length;n<i;++n){const a=r[n];t=t[a]||(t[a]=Object.create(null))}return t}function Dg(t,e,r){return typeof e=="string"?Ac(rc(t,e),r):Ac(rc(t,""),e)}class EO{constructor(e,r){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=n=>n.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(n,i)=>Pg(i.backgroundColor),this.hoverBorderColor=(n,i)=>Pg(i.borderColor),this.hoverColor=(n,i)=>Pg(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(r)}set(e,r){return Dg(this,e,r)}get(e){return rc(this,e)}describe(e,r){return Dg(E1,e,r)}override(e,r){return Dg(uo,e,r)}route(e,r,n,i){const a=rc(this,e),s=rc(this,n),o="_"+r;Object.defineProperties(a,{[o]:{value:a[r],writable:!0},[r]:{enumerable:!0,get(){const l=this[o],u=s[i];return kt(l)?Object.assign({},u,l):Bt(l,u)},set(l){this[o]=l}}})}apply(e){e.forEach(r=>r(this))}}var Tr=new EO({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[wO,_O,TO]);function CO(t){return!t||qt(t.size)||qt(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function Wd(t,e,r,n,i){let a=e[i];return a||(a=e[i]=t.measureText(i).width,r.push(i)),a>n&&(n=a),n}function MO(t,e,r,n){n=n||{};let i=n.data=n.data||{},a=n.garbageCollect=n.garbageCollect||[];n.font!==e&&(i=n.data={},a=n.garbageCollect=[],n.font=e),t.save(),t.font=e;let s=0;const o=r.length;let l,u,c,f,d;for(l=0;l<o;l++)if(f=r[l],f!=null&&!yr(f))s=Wd(t,i,a,s,f);else if(yr(f))for(u=0,c=f.length;u<c;u++)d=f[u],d!=null&&!yr(d)&&(s=Wd(t,i,a,s,d));t.restore();const p=a.length/2;if(p>r.length){for(l=0;l<p;l++)delete i[a[l]];a.splice(0,p)}return s}function Is(t,e,r){const n=t.currentDevicePixelRatio,i=r!==0?Math.max(r/2,.5):0;return Math.round((e-i)*n)/n+i}function _x(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function PO(t,e,r,n){DO(t,e,r,n,null)}function DO(t,e,r,n,i){let a,s,o,l,u,c,f,d;const p=e.pointStyle,g=e.rotation,y=e.radius;let b=(g||0)*iO;if(p&&typeof p=="object"&&(a=p.toString(),a==="[object HTMLImageElement]"||a==="[object HTMLCanvasElement]")){t.save(),t.translate(r,n),t.rotate(b),t.drawImage(p,-p.width/2,-p.height/2,p.width,p.height),t.restore();return}if(!(isNaN(y)||y<=0)){switch(t.beginPath(),p){default:i?t.ellipse(r,n,i/2,y,0,0,Hn):t.arc(r,n,y,0,Hn),t.closePath();break;case"triangle":c=i?i/2:y,t.moveTo(r+Math.sin(b)*c,n-Math.cos(b)*y),b+=dx,t.lineTo(r+Math.sin(b)*c,n-Math.cos(b)*y),b+=dx,t.lineTo(r+Math.sin(b)*c,n-Math.cos(b)*y),t.closePath();break;case"rectRounded":u=y*.516,l=y-u,s=Math.cos(b+As)*l,f=Math.cos(b+As)*(i?i/2-u:l),o=Math.sin(b+As)*l,d=Math.sin(b+As)*(i?i/2-u:l),t.arc(r-f,n-o,u,b-Vr,b-jn),t.arc(r+d,n-s,u,b-jn,b),t.arc(r+f,n+o,u,b,b+jn),t.arc(r-d,n+s,u,b+jn,b+Vr),t.closePath();break;case"rect":if(!g){l=Math.SQRT1_2*y,c=i?i/2:l,t.rect(r-c,n-l,2*c,2*l);break}b+=As;case"rectRot":f=Math.cos(b)*(i?i/2:y),s=Math.cos(b)*y,o=Math.sin(b)*y,d=Math.sin(b)*(i?i/2:y),t.moveTo(r-f,n-o),t.lineTo(r+d,n-s),t.lineTo(r+f,n+o),t.lineTo(r-d,n+s),t.closePath();break;case"crossRot":b+=As;case"cross":f=Math.cos(b)*(i?i/2:y),s=Math.cos(b)*y,o=Math.sin(b)*y,d=Math.sin(b)*(i?i/2:y),t.moveTo(r-f,n-o),t.lineTo(r+f,n+o),t.moveTo(r+d,n-s),t.lineTo(r-d,n+s);break;case"star":f=Math.cos(b)*(i?i/2:y),s=Math.cos(b)*y,o=Math.sin(b)*y,d=Math.sin(b)*(i?i/2:y),t.moveTo(r-f,n-o),t.lineTo(r+f,n+o),t.moveTo(r+d,n-s),t.lineTo(r-d,n+s),b+=As,f=Math.cos(b)*(i?i/2:y),s=Math.cos(b)*y,o=Math.sin(b)*y,d=Math.sin(b)*(i?i/2:y),t.moveTo(r-f,n-o),t.lineTo(r+f,n+o),t.moveTo(r+d,n-s),t.lineTo(r-d,n+s);break;case"line":s=i?i/2:Math.cos(b)*y,o=Math.sin(b)*y,t.moveTo(r-s,n-o),t.lineTo(r+s,n+o);break;case"dash":t.moveTo(r,n),t.lineTo(r+Math.cos(b)*(i?i/2:y),n+Math.sin(b)*y);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function oa(t,e,r){return r=r||.5,!e||t&&t.x>e.left-r&&t.x<e.right+r&&t.y>e.top-r&&t.y<e.bottom+r}function k2(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function T2(t){t.restore()}function AO(t,e,r,n,i){if(!e)return t.lineTo(r.x,r.y);if(i==="middle"){const a=(e.x+r.x)/2;t.lineTo(a,e.y),t.lineTo(a,r.y)}else i==="after"!=!!n?t.lineTo(e.x,r.y):t.lineTo(r.x,e.y);t.lineTo(r.x,r.y)}function IO(t,e,r,n){if(!e)return t.lineTo(r.x,r.y);t.bezierCurveTo(n?e.cp1x:e.cp2x,n?e.cp1y:e.cp2y,n?r.cp2x:r.cp1x,n?r.cp2y:r.cp1y,r.x,r.y)}function LO(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),qt(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function RO(t,e,r,n,i){if(i.strikethrough||i.underline){const a=t.measureText(n),s=e-a.actualBoundingBoxLeft,o=e+a.actualBoundingBoxRight,l=r-a.actualBoundingBoxAscent,u=r+a.actualBoundingBoxDescent,c=i.strikethrough?(l+u)/2:u;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=i.decorationWidth||2,t.moveTo(s,c),t.lineTo(o,c),t.stroke()}}function OO(t,e){const r=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=r}function Gd(t,e,r,n,i,a={}){const s=yr(e)?e:[e],o=a.strokeWidth>0&&a.strokeColor!=="";let l,u;for(t.save(),t.font=i.string,LO(t,a),l=0;l<s.length;++l)u=s[l],a.backdrop&&OO(t,a.backdrop),o&&(a.strokeColor&&(t.strokeStyle=a.strokeColor),qt(a.strokeWidth)||(t.lineWidth=a.strokeWidth),t.strokeText(u,r,n,a.maxWidth)),t.fillText(u,r,n,a.maxWidth),RO(t,r,n,u,a),n+=Number(i.lineHeight);t.restore()}function NO(t,e){const{x:r,y:n,w:i,h:a,radius:s}=e;t.arc(r+s.topLeft,n+s.topLeft,s.topLeft,1.5*Vr,Vr,!0),t.lineTo(r,n+a-s.bottomLeft),t.arc(r+s.bottomLeft,n+a-s.bottomLeft,s.bottomLeft,Vr,jn,!0),t.lineTo(r+i-s.bottomRight,n+a),t.arc(r+i-s.bottomRight,n+a-s.bottomRight,s.bottomRight,jn,0,!0),t.lineTo(r+i,n+s.topRight),t.arc(r+i-s.topRight,n+s.topRight,s.topRight,0,-jn,!0),t.lineTo(r+s.topLeft,n)}const zO=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,BO=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function FO(t,e){const r=(""+t).match(zO);if(!r||r[1]==="normal")return e*1.2;switch(t=+r[2],r[3]){case"px":return t;case"%":t/=100;break}return e*t}const $O=t=>+t||0;function yS(t,e){const r={},n=kt(e),i=n?Object.keys(e):e,a=kt(t)?n?s=>Bt(t[s],t[e[s]]):s=>t[s]:()=>t;for(const s of i)r[s]=$O(a(s));return r}function jO(t){return yS(t,{top:"y",right:"x",bottom:"y",left:"x"})}function qO(t){return yS(t,["topLeft","topRight","bottomLeft","bottomRight"])}function xa(t){const e=jO(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Nl(t,e){t=t||{},e=e||Tr.font;let r=Bt(t.size,e.size);typeof r=="string"&&(r=parseInt(r,10));let n=Bt(t.style,e.style);n&&!(""+n).match(BO)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);const i={family:Bt(t.family,e.family),lineHeight:FO(Bt(t.lineHeight,e.lineHeight),r),size:r,style:n,weight:Bt(t.weight,e.weight),string:""};return i.string=CO(i),i}function af(t,e,r,n){let i=!0,a,s,o;for(a=0,s=t.length;a<s;++a)if(o=t[a],o!==void 0&&(e!==void 0&&typeof o=="function"&&(o=o(e),i=!1),r!==void 0&&yr(o)&&(o=o[r%o.length],i=!1),o!==void 0))return n&&!i&&(n.cacheable=!1),o}function HO(t,e,r){const{min:n,max:i}=t,a=ZR(e,(i-n)/2),s=(o,l)=>r&&o===0?0:o+l;return{min:s(n,-Math.abs(a)),max:s(i,a)}}function wo(t,e){return Object.assign(Object.create(t),e)}function E2(t,e=[""],r,n,i=()=>t[0]){const a=r||t;typeof n>"u"&&(n=_S("_fallback",t));const s={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:a,_fallback:n,_getTarget:i,override:o=>E2([o,...t],e,a,n)};return new Proxy(s,{deleteProperty(o,l){return delete o[l],delete o._keys,delete t[0][l],!0},get(o,l){return bS(o,l,()=>ZO(l,e,t,o))},getOwnPropertyDescriptor(o,l){return Reflect.getOwnPropertyDescriptor(o._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(o,l){return kx(o).includes(l)},ownKeys(o){return kx(o)},set(o,l,u){const c=o._storage||(o._storage=i());return o[l]=c[l]=u,delete o._keys,!0}})}function zl(t,e,r,n){const i={_cacheable:!1,_proxy:t,_context:e,_subProxy:r,_stack:new Set,_descriptors:xS(t,n),setContext:a=>zl(t,a,r,n),override:a=>zl(t.override(a),e,r,n)};return new Proxy(i,{deleteProperty(a,s){return delete a[s],delete t[s],!0},get(a,s,o){return bS(a,s,()=>UO(a,s,o))},getOwnPropertyDescriptor(a,s){return a._descriptors.allKeys?Reflect.has(t,s)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,s)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(a,s){return Reflect.has(t,s)},ownKeys(){return Reflect.ownKeys(t)},set(a,s,o){return t[s]=o,delete a[s],!0}})}function xS(t,e={scriptable:!0,indexable:!0}){const{_scriptable:r=e.scriptable,_indexable:n=e.indexable,_allKeys:i=e.allKeys}=t;return{allKeys:i,scriptable:r,indexable:n,isScriptable:cs(r)?r:()=>r,isIndexable:cs(n)?n:()=>n}}const VO=(t,e)=>t?t+x2(e):e,C2=(t,e)=>kt(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function bS(t,e,r){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const n=r();return t[e]=n,n}function UO(t,e,r){const{_proxy:n,_context:i,_subProxy:a,_descriptors:s}=t;let o=n[e];return cs(o)&&s.isScriptable(e)&&(o=WO(e,o,t,r)),yr(o)&&o.length&&(o=GO(e,o,t,s.isIndexable)),C2(e,o)&&(o=zl(o,i,a&&a[e],s)),o}function WO(t,e,r,n){const{_proxy:i,_context:a,_subProxy:s,_stack:o}=r;if(o.has(t))throw new Error("Recursion detected: "+Array.from(o).join("->")+"->"+t);o.add(t);let l=e(a,s||n);return o.delete(t),C2(t,l)&&(l=M2(i._scopes,i,t,l)),l}function GO(t,e,r,n){const{_proxy:i,_context:a,_subProxy:s,_descriptors:o}=r;if(typeof a.index<"u"&&n(t))return e[a.index%e.length];if(kt(e[0])){const l=e,u=i._scopes.filter(c=>c!==l);e=[];for(const c of l){const f=M2(u,i,t,c);e.push(zl(f,a,s&&s[t],o))}}return e}function wS(t,e,r){return cs(t)?t(e,r):t}const YO=(t,e)=>t===!0?e:typeof t=="string"?Hd(e,t):void 0;function XO(t,e,r,n,i){for(const a of e){const s=YO(r,a);if(s){t.add(s);const o=wS(s._fallback,r,i);if(typeof o<"u"&&o!==r&&o!==n)return o}else if(s===!1&&typeof n<"u"&&r!==n)return null}return!1}function M2(t,e,r,n){const i=e._rootScopes,a=wS(e._fallback,r,n),s=[...t,...i],o=new Set;o.add(n);let l=Sx(o,s,r,a||r,n);return l===null||typeof a<"u"&&a!==r&&(l=Sx(o,s,a,l,n),l===null)?!1:E2(Array.from(o),[""],i,a,()=>KO(e,r,n))}function Sx(t,e,r,n,i){for(;r;)r=XO(t,e,r,n,i);return r}function KO(t,e,r){const n=t._getTarget();e in n||(n[e]={});const i=n[e];return yr(i)&&kt(r)?r:i||{}}function ZO(t,e,r,n){let i;for(const a of e)if(i=_S(VO(a,t),r),typeof i<"u")return C2(t,i)?M2(r,n,t,i):i}function _S(t,e){for(const r of e){if(!r)continue;const n=r[t];if(typeof n<"u")return n}}function kx(t){let e=t._keys;return e||(e=t._keys=QO(t._scopes)),e}function QO(t){const e=new Set;for(const r of t)for(const n of Object.keys(r).filter(i=>!i.startsWith("_")))e.add(n);return Array.from(e)}const JO=Number.EPSILON||1e-14,Bl=(t,e)=>e<t.length&&!t[e].skip&&t[e],SS=t=>t==="x"?"y":"x";function eN(t,e,r,n){const i=t.skip?e:t,a=e,s=r.skip?e:r,o=gx(a,i),l=gx(s,a);let u=o/(o+l),c=l/(o+l);u=isNaN(u)?0:u,c=isNaN(c)?0:c;const f=n*u,d=n*c;return{previous:{x:a.x-f*(s.x-i.x),y:a.y-f*(s.y-i.y)},next:{x:a.x+d*(s.x-i.x),y:a.y+d*(s.y-i.y)}}}function tN(t,e,r){const n=t.length;let i,a,s,o,l,u=Bl(t,0);for(let c=0;c<n-1;++c)if(l=u,u=Bl(t,c+1),!(!l||!u)){if(ec(e[c],0,JO)){r[c]=r[c+1]=0;continue}i=r[c]/e[c],a=r[c+1]/e[c],o=Math.pow(i,2)+Math.pow(a,2),!(o<=9)&&(s=3/Math.sqrt(o),r[c]=i*s*e[c],r[c+1]=a*s*e[c])}}function rN(t,e,r="x"){const n=SS(r),i=t.length;let a,s,o,l=Bl(t,0);for(let u=0;u<i;++u){if(s=o,o=l,l=Bl(t,u+1),!o)continue;const c=o[r],f=o[n];s&&(a=(c-s[r])/3,o[`cp1${r}`]=c-a,o[`cp1${n}`]=f-a*e[u]),l&&(a=(l[r]-c)/3,o[`cp2${r}`]=c+a,o[`cp2${n}`]=f+a*e[u])}}function nN(t,e="x"){const r=SS(e),n=t.length,i=Array(n).fill(0),a=Array(n);let s,o,l,u=Bl(t,0);for(s=0;s<n;++s)if(o=l,l=u,u=Bl(t,s+1),!!l){if(u){const c=u[e]-l[e];i[s]=c!==0?(u[r]-l[r])/c:0}a[s]=o?u?Ol(i[s-1])!==Ol(i[s])?0:(i[s-1]+i[s])/2:i[s-1]:i[s]}tN(t,i,a),rN(t,a,e)}function sf(t,e,r){return Math.max(Math.min(t,r),e)}function iN(t,e){let r,n,i,a,s,o=oa(t[0],e);for(r=0,n=t.length;r<n;++r)s=a,a=o,o=r<n-1&&oa(t[r+1],e),a&&(i=t[r],s&&(i.cp1x=sf(i.cp1x,e.left,e.right),i.cp1y=sf(i.cp1y,e.top,e.bottom)),o&&(i.cp2x=sf(i.cp2x,e.left,e.right),i.cp2y=sf(i.cp2y,e.top,e.bottom)))}function aN(t,e,r,n,i){let a,s,o,l;if(e.spanGaps&&(t=t.filter(u=>!u.skip)),e.cubicInterpolationMode==="monotone")nN(t,i);else{let u=n?t[t.length-1]:t[0];for(a=0,s=t.length;a<s;++a)o=t[a],l=eN(u,o,t[Math.min(a+1,s-(n?0:1))%s],e.tension),o.cp1x=l.previous.x,o.cp1y=l.previous.y,o.cp2x=l.next.x,o.cp2y=l.next.y,u=o}e.capBezierPoints&&iN(t,r)}function P2(){return typeof window<"u"&&typeof document<"u"}function D2(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Yd(t,e,r){let n;return typeof t=="string"?(n=parseInt(t,10),t.indexOf("%")!==-1&&(n=n/100*e.parentNode[r])):n=t,n}const Yh=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function sN(t,e){return Yh(t).getPropertyValue(e)}const oN=["top","right","bottom","left"];function to(t,e,r){const n={};r=r?"-"+r:"";for(let i=0;i<4;i++){const a=oN[i];n[a]=parseFloat(t[e+"-"+a+r])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}const lN=(t,e,r)=>(t>0||e>0)&&(!r||!r.shadowRoot);function uN(t,e){const r=t.touches,n=r&&r.length?r[0]:t,{offsetX:i,offsetY:a}=n;let s=!1,o,l;if(lN(i,a,t.target))o=i,l=a;else{const u=e.getBoundingClientRect();o=n.clientX-u.left,l=n.clientY-u.top,s=!0}return{x:o,y:l,box:s}}function Bs(t,e){if("native"in t)return t;const{canvas:r,currentDevicePixelRatio:n}=e,i=Yh(r),a=i.boxSizing==="border-box",s=to(i,"padding"),o=to(i,"border","width"),{x:l,y:u,box:c}=uN(t,r),f=s.left+(c&&o.left),d=s.top+(c&&o.top);let{width:p,height:g}=e;return a&&(p-=s.width+o.width,g-=s.height+o.height),{x:Math.round((l-f)/p*r.width/n),y:Math.round((u-d)/g*r.height/n)}}function cN(t,e,r){let n,i;if(e===void 0||r===void 0){const a=t&&D2(t);if(!a)e=t.clientWidth,r=t.clientHeight;else{const s=a.getBoundingClientRect(),o=Yh(a),l=to(o,"border","width"),u=to(o,"padding");e=s.width-u.width-l.width,r=s.height-u.height-l.height,n=Yd(o.maxWidth,a,"clientWidth"),i=Yd(o.maxHeight,a,"clientHeight")}}return{width:e,height:r,maxWidth:n||Ud,maxHeight:i||Ud}}const of=t=>Math.round(t*10)/10;function fN(t,e,r,n){const i=Yh(t),a=to(i,"margin"),s=Yd(i.maxWidth,t,"clientWidth")||Ud,o=Yd(i.maxHeight,t,"clientHeight")||Ud,l=cN(t,e,r);let{width:u,height:c}=l;if(i.boxSizing==="content-box"){const d=to(i,"border","width"),p=to(i,"padding");u-=p.width+d.width,c-=p.height+d.height}return u=Math.max(0,u-a.width),c=Math.max(0,n?u/n:c-a.height),u=of(Math.min(u,s,l.maxWidth)),c=of(Math.min(c,o,l.maxHeight)),u&&!c&&(c=of(u/2)),(e!==void 0||r!==void 0)&&n&&l.height&&c>l.height&&(c=l.height,u=of(Math.floor(c*n))),{width:u,height:c}}function Tx(t,e,r){const n=e||1,i=Math.floor(t.height*n),a=Math.floor(t.width*n);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const s=t.canvas;return s.style&&(r||!s.style.height&&!s.style.width)&&(s.style.height=`${t.height}px`,s.style.width=`${t.width}px`),t.currentDevicePixelRatio!==n||s.height!==i||s.width!==a?(t.currentDevicePixelRatio=n,s.height=i,s.width=a,t.ctx.setTransform(n,0,0,n,0,0),!0):!1}const dN=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};P2()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function Ex(t,e){const r=sN(t,e),n=r&&r.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}function Fs(t,e,r,n){return{x:t.x+r*(e.x-t.x),y:t.y+r*(e.y-t.y)}}function hN(t,e,r,n){return{x:t.x+r*(e.x-t.x),y:n==="middle"?r<.5?t.y:e.y:n==="after"?r<1?t.y:e.y:r>0?e.y:t.y}}function pN(t,e,r,n){const i={x:t.cp2x,y:t.cp2y},a={x:e.cp1x,y:e.cp1y},s=Fs(t,i,r),o=Fs(i,a,r),l=Fs(a,e,r),u=Fs(s,o,r),c=Fs(o,l,r);return Fs(u,c,r)}function kS(t){return t==="angle"?{between:dS,compare:uO,normalize:Fn}:{between:hS,compare:(e,r)=>e-r,normalize:e=>e}}function Cx({start:t,end:e,count:r,loop:n,style:i}){return{start:t%r,end:e%r,loop:n&&(e-t+1)%r===0,style:i}}function gN(t,e,r){const{property:n,start:i,end:a}=r,{between:s,normalize:o}=kS(n),l=e.length;let{start:u,end:c,loop:f}=t,d,p;if(f){for(u+=l,c+=l,d=0,p=l;d<p&&s(o(e[u%l][n]),i,a);++d)u--,c--;u%=l,c%=l}return c<u&&(c+=l),{start:u,end:c,loop:f,style:t.style}}function TS(t,e,r){if(!r)return[t];const{property:n,start:i,end:a}=r,s=e.length,{compare:o,between:l,normalize:u}=kS(n),{start:c,end:f,loop:d,style:p}=gN(t,e,r),g=[];let y=!1,b=null,x,w,_;const k=()=>l(i,_,x)&&o(i,_)!==0,T=()=>o(a,x)===0||l(a,_,x),P=()=>y||k(),M=()=>!y||T();for(let A=c,L=c;A<=f;++A)w=e[A%s],!w.skip&&(x=u(w[n]),x!==_&&(y=l(x,i,a),b===null&&P()&&(b=o(x,i)===0?A:L),b!==null&&M()&&(g.push(Cx({start:b,end:A,loop:d,count:s,style:p})),b=null),L=A,_=x));return b!==null&&g.push(Cx({start:b,end:f,loop:d,count:s,style:p})),g}function ES(t,e){const r=[],n=t.segments;for(let i=0;i<n.length;i++){const a=TS(n[i],t.points,e);a.length&&r.push(...a)}return r}function mN(t,e,r,n){let i=0,a=e-1;if(r&&!n)for(;i<e&&!t[i].skip;)i++;for(;i<e&&t[i].skip;)i++;for(i%=e,r&&(a+=i);a>i&&t[a%e].skip;)a--;return a%=e,{start:i,end:a}}function vN(t,e,r,n){const i=t.length,a=[];let s=e,o=t[e],l;for(l=e+1;l<=r;++l){const u=t[l%i];u.skip||u.stop?o.skip||(n=!1,a.push({start:e%i,end:(l-1)%i,loop:n}),e=s=u.stop?l:null):(s=l,o.skip&&(e=l)),o=u}return s!==null&&a.push({start:e%i,end:s%i,loop:n}),a}function yN(t,e){const r=t.points,n=t.options.spanGaps,i=r.length;if(!i)return[];const a=!!t._loop,{start:s,end:o}=mN(r,i,a,n);if(n===!0)return Mx(t,[{start:s,end:o,loop:a}],r,e);const l=o<s?o+i:o,u=!!t._fullLoop&&s===0&&o===i-1;return Mx(t,vN(r,s,l,u),r,e)}function Mx(t,e,r,n){return!n||!n.setContext||!r?e:xN(t,e,r,n)}function xN(t,e,r,n){const i=t._chart.getContext(),a=Px(t.options),{_datasetIndex:s,options:{spanGaps:o}}=t,l=r.length,u=[];let c=a,f=e[0].start,d=f;function p(g,y,b,x){const w=o?-1:1;if(g!==y){for(g+=l;r[g%l].skip;)g-=w;for(;r[y%l].skip;)y+=w;g%l!==y%l&&(u.push({start:g%l,end:y%l,loop:b,style:x}),c=x,f=y%l)}}for(const g of e){f=o?f:g.start;let y=r[f%l],b;for(d=f+1;d<=g.end;d++){const x=r[d%l];b=Px(n.setContext(wo(i,{type:"segment",p0:y,p1:x,p0DataIndex:(d-1)%l,p1DataIndex:d%l,datasetIndex:s}))),bN(b,c)&&p(f,d-1,g.loop,c),y=x,c=b}f<d-1&&p(f,d-1,g.loop,c)}return u}function Px(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function bN(t,e){if(!e)return!1;const r=[],n=function(i,a){return _2(a)?(r.includes(a)||r.push(a),r.indexOf(a)):a};return JSON.stringify(t,n)!==JSON.stringify(e,n)}/*!
 * Chart.js v4.4.8
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class wN{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,r,n,i){const a=r.listeners[i],s=r.duration;a.forEach(o=>o({chart:e,initial:r.initial,numSteps:s,currentStep:Math.min(n-r.start,s)}))}_refresh(){this._request||(this._running=!0,this._request=gS.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let r=0;this._charts.forEach((n,i)=>{if(!n.running||!n.items.length)return;const a=n.items;let s=a.length-1,o=!1,l;for(;s>=0;--s)l=a[s],l._active?(l._total>n.duration&&(n.duration=l._total),l.tick(e),o=!0):(a[s]=a[a.length-1],a.pop());o&&(i.draw(),this._notify(i,n,e,"progress")),a.length||(n.running=!1,this._notify(i,n,e,"complete"),n.initial=!1),r+=a.length}),this._lastDate=e,r===0&&(this._running=!1)}_getAnims(e){const r=this._charts;let n=r.get(e);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},r.set(e,n)),n}listen(e,r,n){this._getAnims(e).listeners[r].push(n)}add(e,r){!r||!r.length||this._getAnims(e).items.push(...r)}has(e){return this._getAnims(e).items.length>0}start(e){const r=this._charts.get(e);r&&(r.running=!0,r.start=Date.now(),r.duration=r.items.reduce((n,i)=>Math.max(n,i._duration),0),this._refresh())}running(e){if(!this._running)return!1;const r=this._charts.get(e);return!(!r||!r.running||!r.items.length)}stop(e){const r=this._charts.get(e);if(!r||!r.items.length)return;const n=r.items;let i=n.length-1;for(;i>=0;--i)n[i].cancel();r.items=[],this._notify(e,r,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Qi=new wN;const Dx="transparent",_N={boolean(t,e,r){return r>.5?e:t},color(t,e,r){const n=bx(t||Dx),i=n.valid&&bx(e||Dx);return i&&i.valid?i.mix(n,r).hexString():e},number(t,e,r){return t+(e-t)*r}};let SN=class{constructor(e,r,n,i){const a=r[n];i=af([e.to,i,a,e.from]);const s=af([e.from,a,i]);this._active=!0,this._fn=e.fn||_N[e.type||typeof s],this._easing=tc[e.easing]||tc.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=r,this._prop=n,this._from=s,this._to=i,this._promises=void 0}active(){return this._active}update(e,r,n){if(this._active){this._notify(!1);const i=this._target[this._prop],a=n-this._start,s=this._duration-a;this._start=n,this._duration=Math.floor(Math.max(s,e.duration)),this._total+=a,this._loop=!!e.loop,this._to=af([e.to,r,i,e.from]),this._from=af([e.from,i,r])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const r=e-this._start,n=this._duration,i=this._prop,a=this._from,s=this._loop,o=this._to;let l;if(this._active=a!==o&&(s||r<n),!this._active){this._target[i]=o,this._notify(!0);return}if(r<0){this._target[i]=a;return}l=r/n%2,l=s&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[i]=this._fn(a,o,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((r,n)=>{e.push({res:r,rej:n})})}_notify(e){const r=e?"res":"rej",n=this._promises||[];for(let i=0;i<n.length;i++)n[i][r]()}};class kN{constructor(e,r){this._chart=e,this._properties=new Map,this.configure(r)}configure(e){if(!kt(e))return;const r=Object.keys(Tr.animation),n=this._properties;Object.getOwnPropertyNames(e).forEach(i=>{const a=e[i];if(!kt(a))return;const s={};for(const o of r)s[o]=a[o];(yr(a.properties)&&a.properties||[i]).forEach(o=>{(o===i||!n.has(o))&&n.set(o,s)})})}_animateOptions(e,r){const n=r.options,i=EN(e,n);if(!i)return[];const a=this._createAnimations(i,n);return n.$shared&&TN(e.options.$animations,n).then(()=>{e.options=n},()=>{}),a}_createAnimations(e,r){const n=this._properties,i=[],a=e.$animations||(e.$animations={}),s=Object.keys(r),o=Date.now();let l;for(l=s.length-1;l>=0;--l){const u=s[l];if(u.charAt(0)==="$")continue;if(u==="options"){i.push(...this._animateOptions(e,r));continue}const c=r[u];let f=a[u];const d=n.get(u);if(f)if(d&&f.active()){f.update(d,c,o);continue}else f.cancel();if(!d||!d.duration){e[u]=c;continue}a[u]=f=new SN(d,e,u,c),i.push(f)}return i}update(e,r){if(this._properties.size===0){Object.assign(e,r);return}const n=this._createAnimations(e,r);if(n.length)return Qi.add(this._chart,n),!0}}function TN(t,e){const r=[],n=Object.keys(e);for(let i=0;i<n.length;i++){const a=t[n[i]];a&&a.active()&&r.push(a.wait())}return Promise.all(r)}function EN(t,e){if(!e)return;let r=t.options;if(!r){t.options=e;return}return r.$shared&&(t.options=r=Object.assign({},r,{$shared:!1,$animations:{}})),r}function Ax(t,e){const r=t&&t.options||{},n=r.reverse,i=r.min===void 0?e:0,a=r.max===void 0?e:0;return{start:n?a:i,end:n?i:a}}function CN(t,e,r){if(r===!1)return!1;const n=Ax(t,r),i=Ax(e,r);return{top:i.end,right:n.end,bottom:i.start,left:n.start}}function MN(t){let e,r,n,i;return kt(t)?(e=t.top,r=t.right,n=t.bottom,i=t.left):e=r=n=i=t,{top:e,right:r,bottom:n,left:i,disabled:t===!1}}function CS(t,e){const r=[],n=t._getSortedDatasetMetas(e);let i,a;for(i=0,a=n.length;i<a;++i)r.push(n[i].index);return r}function Ix(t,e,r,n={}){const i=t.keys,a=n.mode==="single";let s,o,l,u;if(e===null)return;let c=!1;for(s=0,o=i.length;s<o;++s){if(l=+i[s],l===r){if(c=!0,n.all)continue;break}u=t.values[l],xr(u)&&(a||e===0||Ol(e)===Ol(u))&&(e+=u)}return!c&&!n.all?0:e}function PN(t,e){const{iScale:r,vScale:n}=e,i=r.axis==="x"?"x":"y",a=n.axis==="x"?"x":"y",s=Object.keys(t),o=new Array(s.length);let l,u,c;for(l=0,u=s.length;l<u;++l)c=s[l],o[l]={[i]:c,[a]:t[c]};return o}function Ag(t,e){const r=t&&t.options.stacked;return r||r===void 0&&e.stack!==void 0}function DN(t,e,r){return`${t.id}.${e.id}.${r.stack||r.type}`}function AN(t){const{min:e,max:r,minDefined:n,maxDefined:i}=t.getUserBounds();return{min:n?e:Number.NEGATIVE_INFINITY,max:i?r:Number.POSITIVE_INFINITY}}function IN(t,e,r){const n=t[e]||(t[e]={});return n[r]||(n[r]={})}function Lx(t,e,r,n){for(const i of e.getMatchingVisibleMetas(n).reverse()){const a=t[i.index];if(r&&a>0||!r&&a<0)return i.index}return null}function Rx(t,e){const{chart:r,_cachedMeta:n}=t,i=r._stacks||(r._stacks={}),{iScale:a,vScale:s,index:o}=n,l=a.axis,u=s.axis,c=DN(a,s,n),f=e.length;let d;for(let p=0;p<f;++p){const g=e[p],{[l]:y,[u]:b}=g,x=g._stacks||(g._stacks={});d=x[u]=IN(i,c,y),d[o]=b,d._top=Lx(d,s,!0,n.type),d._bottom=Lx(d,s,!1,n.type);const w=d._visualValues||(d._visualValues={});w[o]=b}}function Ig(t,e){const r=t.scales;return Object.keys(r).filter(n=>r[n].axis===e).shift()}function LN(t,e){return wo(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function RN(t,e,r){return wo(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:r,index:e,mode:"default",type:"data"})}function xu(t,e){const r=t.controller.index,n=t.vScale&&t.vScale.axis;if(n){e=e||t._parsed;for(const i of e){const a=i._stacks;if(!a||a[n]===void 0||a[n][r]===void 0)return;delete a[n][r],a[n]._visualValues!==void 0&&a[n]._visualValues[r]!==void 0&&delete a[n]._visualValues[r]}}}const Lg=t=>t==="reset"||t==="none",Ox=(t,e)=>e?t:Object.assign({},t),ON=(t,e,r)=>t&&!e.hidden&&e._stacked&&{keys:CS(r,!0),values:null};class nc{constructor(e,r){this.chart=e,this._ctx=e.ctx,this.index=r,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Ag(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&xu(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,r=this._cachedMeta,n=this.getDataset(),i=(f,d,p,g)=>f==="x"?d:f==="r"?g:p,a=r.xAxisID=Bt(n.xAxisID,Ig(e,"x")),s=r.yAxisID=Bt(n.yAxisID,Ig(e,"y")),o=r.rAxisID=Bt(n.rAxisID,Ig(e,"r")),l=r.indexAxis,u=r.iAxisID=i(l,a,s,o),c=r.vAxisID=i(l,s,a,o);r.xScale=this.getScaleForId(a),r.yScale=this.getScaleForId(s),r.rScale=this.getScaleForId(o),r.iScale=this.getScaleForId(u),r.vScale=this.getScaleForId(c)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const r=this._cachedMeta;return e===r.iScale?r.vScale:r.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&mx(this._data,this),e._stacked&&xu(e)}_dataCheck(){const e=this.getDataset(),r=e.data||(e.data=[]),n=this._data;if(kt(r)){const i=this._cachedMeta;this._data=PN(r,i)}else if(n!==r){if(n){mx(n,this);const i=this._cachedMeta;xu(i),i._parsed=[]}r&&Object.isExtensible(r)&&hO(r,this),this._syncList=[],this._data=r}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const r=this._cachedMeta,n=this.getDataset();let i=!1;this._dataCheck();const a=r._stacked;r._stacked=Ag(r.vScale,r),r.stack!==n.stack&&(i=!0,xu(r),r.stack=n.stack),this._resyncElements(e),(i||a!==r._stacked)&&(Rx(this,r._parsed),r._stacked=Ag(r.vScale,r))}configure(){const e=this.chart.config,r=e.datasetScopeKeys(this._type),n=e.getOptionScopes(this.getDataset(),r,!0);this.options=e.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,r){const{_cachedMeta:n,_data:i}=this,{iScale:a,_stacked:s}=n,o=a.axis;let l=e===0&&r===i.length?!0:n._sorted,u=e>0&&n._parsed[e-1],c,f,d;if(this._parsing===!1)n._parsed=i,n._sorted=!0,d=i;else{yr(i[e])?d=this.parseArrayData(n,i,e,r):kt(i[e])?d=this.parseObjectData(n,i,e,r):d=this.parsePrimitiveData(n,i,e,r);const p=()=>f[o]===null||u&&f[o]<u[o];for(c=0;c<r;++c)n._parsed[c+e]=f=d[c],l&&(p()&&(l=!1),u=f);n._sorted=l}s&&Rx(this,d)}parsePrimitiveData(e,r,n,i){const{iScale:a,vScale:s}=e,o=a.axis,l=s.axis,u=a.getLabels(),c=a===s,f=new Array(i);let d,p,g;for(d=0,p=i;d<p;++d)g=d+n,f[d]={[o]:c||a.parse(u[g],g),[l]:s.parse(r[g],g)};return f}parseArrayData(e,r,n,i){const{xScale:a,yScale:s}=e,o=new Array(i);let l,u,c,f;for(l=0,u=i;l<u;++l)c=l+n,f=r[c],o[l]={x:a.parse(f[0],c),y:s.parse(f[1],c)};return o}parseObjectData(e,r,n,i){const{xScale:a,yScale:s}=e,{xAxisKey:o="x",yAxisKey:l="y"}=this._parsing,u=new Array(i);let c,f,d,p;for(c=0,f=i;c<f;++c)d=c+n,p=r[d],u[c]={x:a.parse(Hd(p,o),d),y:s.parse(Hd(p,l),d)};return u}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,r,n){const i=this.chart,a=this._cachedMeta,s=r[e.axis],o={keys:CS(i,!0),values:r._stacks[e.axis]._visualValues};return Ix(o,s,a.index,{mode:n})}updateRangeFromParsed(e,r,n,i){const a=n[r.axis];let s=a===null?NaN:a;const o=i&&n._stacks[r.axis];i&&o&&(i.values=o,s=Ix(i,a,this._cachedMeta.index)),e.min=Math.min(e.min,s),e.max=Math.max(e.max,s)}getMinMax(e,r){const n=this._cachedMeta,i=n._parsed,a=n._sorted&&e===n.iScale,s=i.length,o=this._getOtherScale(e),l=ON(r,n,this.chart),u={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:c,max:f}=AN(o);let d,p;function g(){p=i[d];const y=p[o.axis];return!xr(p[e.axis])||c>y||f<y}for(d=0;d<s&&!(!g()&&(this.updateRangeFromParsed(u,e,p,l),a));++d);if(a){for(d=s-1;d>=0;--d)if(!g()){this.updateRangeFromParsed(u,e,p,l);break}}return u}getAllParsedValues(e){const r=this._cachedMeta._parsed,n=[];let i,a,s;for(i=0,a=r.length;i<a;++i)s=r[i][e.axis],xr(s)&&n.push(s);return n}getMaxOverflow(){return!1}getLabelAndValue(e){const r=this._cachedMeta,n=r.iScale,i=r.vScale,a=this.getParsed(e);return{label:n?""+n.getLabelForValue(a[n.axis]):"",value:i?""+i.getLabelForValue(a[i.axis]):""}}_update(e){const r=this._cachedMeta;this.update(e||"default"),r._clip=MN(Bt(this.options.clip,CN(r.xScale,r.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,r=this.chart,n=this._cachedMeta,i=n.data||[],a=r.chartArea,s=[],o=this._drawStart||0,l=this._drawCount||i.length-o,u=this.options.drawActiveElementsOnTop;let c;for(n.dataset&&n.dataset.draw(e,a,o,l),c=o;c<o+l;++c){const f=i[c];f.hidden||(f.active&&u?s.push(f):f.draw(e,a))}for(c=0;c<s.length;++c)s[c].draw(e,a)}getStyle(e,r){const n=r?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(e||0,n)}getContext(e,r,n){const i=this.getDataset();let a;if(e>=0&&e<this._cachedMeta.data.length){const s=this._cachedMeta.data[e];a=s.$context||(s.$context=RN(this.getContext(),e,s)),a.parsed=this.getParsed(e),a.raw=i.data[e],a.index=a.dataIndex=e}else a=this.$context||(this.$context=LN(this.chart.getContext(),this.index)),a.dataset=i,a.index=a.datasetIndex=this.index;return a.active=!!r,a.mode=n,a}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,r){return this._resolveElementOptions(this.dataElementType.id,r,e)}_resolveElementOptions(e,r="default",n){const i=r==="active",a=this._cachedDataOpts,s=e+"-"+r,o=a[s],l=this.enableOptionSharing&&Vd(n);if(o)return Ox(o,l);const u=this.chart.config,c=u.datasetElementScopeKeys(this._type,e),f=i?[`${e}Hover`,"hover",e,""]:[e,""],d=u.getOptionScopes(this.getDataset(),c),p=Object.keys(Tr.elements[e]),g=()=>this.getContext(n,i,r),y=u.resolveNamedOptions(d,p,g,f);return y.$shared&&(y.$shared=l,a[s]=Object.freeze(Ox(y,l))),y}_resolveAnimations(e,r,n){const i=this.chart,a=this._cachedDataOpts,s=`animation-${r}`,o=a[s];if(o)return o;let l;if(i.options.animation!==!1){const c=this.chart.config,f=c.datasetAnimationScopeKeys(this._type,r),d=c.getOptionScopes(this.getDataset(),f);l=c.createResolver(d,this.getContext(e,n,r))}const u=new kN(i,l&&l.animations);return l&&l._cacheable&&(a[s]=Object.freeze(u)),u}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,r){return!r||Lg(e)||this.chart._animationsDisabled}_getSharedOptions(e,r){const n=this.resolveDataElementOptions(e,r),i=this._sharedOptions,a=this.getSharedOptions(n),s=this.includeOptions(r,a)||a!==i;return this.updateSharedOptions(a,r,n),{sharedOptions:a,includeOptions:s}}updateElement(e,r,n,i){Lg(i)?Object.assign(e,n):this._resolveAnimations(r,i).update(e,n)}updateSharedOptions(e,r,n){e&&!Lg(r)&&this._resolveAnimations(void 0,r).update(e,n)}_setStyle(e,r,n,i){e.active=i;const a=this.getStyle(r,i);this._resolveAnimations(r,n,i).update(e,{options:!i&&this.getSharedOptions(a)||a})}removeHoverStyle(e,r,n){this._setStyle(e,n,"active",!1)}setHoverStyle(e,r,n){this._setStyle(e,n,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const r=this._data,n=this._cachedMeta.data;for(const[o,l,u]of this._syncList)this[o](l,u);this._syncList=[];const i=n.length,a=r.length,s=Math.min(a,i);s&&this.parse(0,s),a>i?this._insertElements(i,a-i,e):a<i&&this._removeElements(a,i-a)}_insertElements(e,r,n=!0){const i=this._cachedMeta,a=i.data,s=e+r;let o;const l=u=>{for(u.length+=r,o=u.length-1;o>=s;o--)u[o]=u[o-r]};for(l(a),o=e;o<s;++o)a[o]=new this.dataElementType;this._parsing&&l(i._parsed),this.parse(e,r),n&&this.updateElements(a,e,r,"reset")}updateElements(e,r,n,i){}_removeElements(e,r){const n=this._cachedMeta;if(this._parsing){const i=n._parsed.splice(e,r);n._stacked&&xu(n,i)}n.data.splice(e,r)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[r,n,i]=e;this[r](n,i)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,r){r&&this._sync(["_removeElements",e,r]);const n=arguments.length-2;n&&this._sync(["_insertElements",e,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}Le(nc,"defaults",{}),Le(nc,"datasetElementType",null),Le(nc,"dataElementType",null);class vl extends nc{getLabelAndValue(e){const r=this._cachedMeta,n=this.chart.data.labels||[],{xScale:i,yScale:a}=r,s=this.getParsed(e),o=i.getLabelForValue(s.x),l=a.getLabelForValue(s.y);return{label:n[e]||"",value:"("+o+", "+l+")"}}update(e){const r=this._cachedMeta,{data:n=[]}=r,i=this.chart._animationsDisabled;let{start:a,count:s}=vO(r,n,i);if(this._drawStart=a,this._drawCount=s,yO(r)&&(a=0,s=n.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:o,_dataset:l}=r;o._chart=this.chart,o._datasetIndex=this.index,o._decimated=!!l._decimated,o.points=n;const u=this.resolveDatasetElementOptions(e);u.segment=this.options.segment,this.updateElement(o,void 0,{animated:!i,options:u},e)}else this.datasetElementType&&(delete r.dataset,this.datasetElementType=!1);this.updateElements(n,a,s,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,r,n,i){const a=i==="reset",{iScale:s,vScale:o,_stacked:l,_dataset:u}=this._cachedMeta,c=this.resolveDataElementOptions(r,i),f=this.getSharedOptions(c),d=this.includeOptions(i,f),p=s.axis,g=o.axis,{spanGaps:y,segment:b}=this.options,x=Ic(y)?y:Number.POSITIVE_INFINITY,w=this.chart._animationsDisabled||a||i==="none";let _=r>0&&this.getParsed(r-1);for(let k=r;k<r+n;++k){const T=e[k],P=this.getParsed(k),M=w?T:{},A=qt(P[g]),L=M[p]=s.getPixelForValue(P[p],k),R=M[g]=a||A?o.getBasePixel():o.getPixelForValue(l?this.applyStack(o,P,l):P[g],k);M.skip=isNaN(L)||isNaN(R)||A,M.stop=k>0&&Math.abs(P[p]-_[p])>x,b&&(M.parsed=P,M.raw=u.data[k]),d&&(M.options=f||this.resolveDataElementOptions(k,T.active?"active":i)),w||this.updateElement(T,k,M,i),_=P}this.updateSharedOptions(f,i,c)}getMaxOverflow(){const e=this._cachedMeta,r=e.data||[];if(!this.options.showLine){let o=0;for(let l=r.length-1;l>=0;--l)o=Math.max(o,r[l].size(this.resolveDataElementOptions(l))/2);return o>0&&o}const n=e.dataset,i=n.options&&n.options.borderWidth||0;if(!r.length)return i;const a=r[0].size(this.resolveDataElementOptions(0)),s=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(i,a,s)/2}}Le(vl,"id","scatter"),Le(vl,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),Le(vl,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});function Ls(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class A2{constructor(e){Le(this,"options");this.options=e||{}}static override(e){Object.assign(A2.prototype,e)}init(){}formats(){return Ls()}parse(){return Ls()}format(){return Ls()}add(){return Ls()}diff(){return Ls()}startOf(){return Ls()}endOf(){return Ls()}}var NN={_date:A2};function zN(t,e,r,n){const{controller:i,data:a,_sorted:s}=t,o=i._cachedMeta.iScale,l=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(o&&e===o.axis&&e!=="r"&&s&&a.length){const u=o._reversePixels?fO:Ys;if(n){if(i._sharedOptions){const c=a[0],f=typeof c.getRange=="function"&&c.getRange(e);if(f){const d=u(a,e,r-f),p=u(a,e,r+f);return{lo:d.lo,hi:p.hi}}}}else{const c=u(a,e,r);if(l){const{vScale:f}=i._cachedMeta,{_parsed:d}=t,p=d.slice(0,c.lo+1).reverse().findIndex(y=>!qt(y[f.axis]));c.lo-=Math.max(0,p);const g=d.slice(c.hi).findIndex(y=>!qt(y[f.axis]));c.hi+=Math.max(0,g)}return c}}return{lo:0,hi:a.length-1}}function s0(t,e,r,n,i){const a=t.getSortedVisibleDatasetMetas(),s=r[e];for(let o=0,l=a.length;o<l;++o){const{index:u,data:c}=a[o],{lo:f,hi:d}=zN(a[o],e,s,i);for(let p=f;p<=d;++p){const g=c[p];g.skip||n(g,u,p)}}}function BN(t){const e=t.indexOf("x")!==-1,r=t.indexOf("y")!==-1;return function(n,i){const a=e?Math.abs(n.x-i.x):0,s=r?Math.abs(n.y-i.y):0;return Math.sqrt(Math.pow(a,2)+Math.pow(s,2))}}function Rg(t,e,r,n,i){const a=[];return!i&&!t.isPointInArea(e)||s0(t,r,e,function(o,l,u){!i&&!oa(o,t.chartArea,0)||o.inRange(e.x,e.y,n)&&a.push({element:o,datasetIndex:l,index:u})},!0),a}function FN(t,e,r,n){let i=[];function a(s,o,l){const{startAngle:u,endAngle:c}=s.getProps(["startAngle","endAngle"],n),{angle:f}=lO(s,{x:e.x,y:e.y});dS(f,u,c)&&i.push({element:s,datasetIndex:o,index:l})}return s0(t,r,e,a),i}function $N(t,e,r,n,i,a){let s=[];const o=BN(r);let l=Number.POSITIVE_INFINITY;function u(c,f,d){const p=c.inRange(e.x,e.y,i);if(n&&!p)return;const g=c.getCenterPoint(i);if(!(!!a||t.isPointInArea(g))&&!p)return;const b=o(e,g);b<l?(s=[{element:c,datasetIndex:f,index:d}],l=b):b===l&&s.push({element:c,datasetIndex:f,index:d})}return s0(t,r,e,u),s}function Og(t,e,r,n,i,a){return!a&&!t.isPointInArea(e)?[]:r==="r"&&!n?FN(t,e,r,i):$N(t,e,r,n,i,a)}function Nx(t,e,r,n,i){const a=[],s=r==="x"?"inXRange":"inYRange";let o=!1;return s0(t,r,e,(l,u,c)=>{l[s]&&l[s](e[r],i)&&(a.push({element:l,datasetIndex:u,index:c}),o=o||l.inRange(e.x,e.y,i))}),n&&!o?[]:a}var jN={evaluateInteractionItems:s0,modes:{index(t,e,r,n){const i=Bs(e,t),a=r.axis||"x",s=r.includeInvisible||!1,o=r.intersect?Rg(t,i,a,n,s):Og(t,i,a,!1,n,s),l=[];return o.length?(t.getSortedVisibleDatasetMetas().forEach(u=>{const c=o[0].index,f=u.data[c];f&&!f.skip&&l.push({element:f,datasetIndex:u.index,index:c})}),l):[]},dataset(t,e,r,n){const i=Bs(e,t),a=r.axis||"xy",s=r.includeInvisible||!1;let o=r.intersect?Rg(t,i,a,n,s):Og(t,i,a,!1,n,s);if(o.length>0){const l=o[0].datasetIndex,u=t.getDatasetMeta(l).data;o=[];for(let c=0;c<u.length;++c)o.push({element:u[c],datasetIndex:l,index:c})}return o},point(t,e,r,n){const i=Bs(e,t),a=r.axis||"xy",s=r.includeInvisible||!1;return Rg(t,i,a,n,s)},nearest(t,e,r,n){const i=Bs(e,t),a=r.axis||"xy",s=r.includeInvisible||!1;return Og(t,i,a,r.intersect,n,s)},x(t,e,r,n){const i=Bs(e,t);return Nx(t,i,"x",r.intersect,n)},y(t,e,r,n){const i=Bs(e,t);return Nx(t,i,"y",r.intersect,n)}}};const MS=["left","top","right","bottom"];function bu(t,e){return t.filter(r=>r.pos===e)}function zx(t,e){return t.filter(r=>MS.indexOf(r.pos)===-1&&r.box.axis===e)}function wu(t,e){return t.sort((r,n)=>{const i=e?n:r,a=e?r:n;return i.weight===a.weight?i.index-a.index:i.weight-a.weight})}function qN(t){const e=[];let r,n,i,a,s,o;for(r=0,n=(t||[]).length;r<n;++r)i=t[r],{position:a,options:{stack:s,stackWeight:o=1}}=i,e.push({index:r,box:i,pos:a,horizontal:i.isHorizontal(),weight:i.weight,stack:s&&a+s,stackWeight:o});return e}function HN(t){const e={};for(const r of t){const{stack:n,pos:i,stackWeight:a}=r;if(!n||!MS.includes(i))continue;const s=e[n]||(e[n]={count:0,placed:0,weight:0,size:0});s.count++,s.weight+=a}return e}function VN(t,e){const r=HN(t),{vBoxMaxWidth:n,hBoxMaxHeight:i}=e;let a,s,o;for(a=0,s=t.length;a<s;++a){o=t[a];const{fullSize:l}=o.box,u=r[o.stack],c=u&&o.stackWeight/u.weight;o.horizontal?(o.width=c?c*n:l&&e.availableWidth,o.height=i):(o.width=n,o.height=c?c*i:l&&e.availableHeight)}return r}function UN(t){const e=qN(t),r=wu(e.filter(u=>u.box.fullSize),!0),n=wu(bu(e,"left"),!0),i=wu(bu(e,"right")),a=wu(bu(e,"top"),!0),s=wu(bu(e,"bottom")),o=zx(e,"x"),l=zx(e,"y");return{fullSize:r,leftAndTop:n.concat(a),rightAndBottom:i.concat(l).concat(s).concat(o),chartArea:bu(e,"chartArea"),vertical:n.concat(i).concat(l),horizontal:a.concat(s).concat(o)}}function Bx(t,e,r,n){return Math.max(t[r],e[r])+Math.max(t[n],e[n])}function PS(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function WN(t,e,r,n){const{pos:i,box:a}=r,s=t.maxPadding;if(!kt(i)){r.size&&(t[i]-=r.size);const f=n[r.stack]||{size:0,count:1};f.size=Math.max(f.size,r.horizontal?a.height:a.width),r.size=f.size/f.count,t[i]+=r.size}a.getPadding&&PS(s,a.getPadding());const o=Math.max(0,e.outerWidth-Bx(s,t,"left","right")),l=Math.max(0,e.outerHeight-Bx(s,t,"top","bottom")),u=o!==t.w,c=l!==t.h;return t.w=o,t.h=l,r.horizontal?{same:u,other:c}:{same:c,other:u}}function GN(t){const e=t.maxPadding;function r(n){const i=Math.max(e[n]-t[n],0);return t[n]+=i,i}t.y+=r("top"),t.x+=r("left"),r("right"),r("bottom")}function YN(t,e){const r=e.maxPadding;function n(i){const a={left:0,top:0,right:0,bottom:0};return i.forEach(s=>{a[s]=Math.max(e[s],r[s])}),a}return n(t?["left","right"]:["top","bottom"])}function Bu(t,e,r,n){const i=[];let a,s,o,l,u,c;for(a=0,s=t.length,u=0;a<s;++a){o=t[a],l=o.box,l.update(o.width||e.w,o.height||e.h,YN(o.horizontal,e));const{same:f,other:d}=WN(e,r,o,n);u|=f&&i.length,c=c||d,l.fullSize||i.push(o)}return u&&Bu(i,e,r,n)||c}function lf(t,e,r,n,i){t.top=r,t.left=e,t.right=e+n,t.bottom=r+i,t.width=n,t.height=i}function Fx(t,e,r,n){const i=r.padding;let{x:a,y:s}=e;for(const o of t){const l=o.box,u=n[o.stack]||{count:1,placed:0,weight:1},c=o.stackWeight/u.weight||1;if(o.horizontal){const f=e.w*c,d=u.size||l.height;Vd(u.start)&&(s=u.start),l.fullSize?lf(l,i.left,s,r.outerWidth-i.right-i.left,d):lf(l,e.left+u.placed,s,f,d),u.start=s,u.placed+=f,s=l.bottom}else{const f=e.h*c,d=u.size||l.width;Vd(u.start)&&(a=u.start),l.fullSize?lf(l,a,i.top,d,r.outerHeight-i.bottom-i.top):lf(l,a,e.top+u.placed,d,f),u.start=a,u.placed+=f,a=l.right}}e.x=a,e.y=s}var uf={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(r){e.draw(r)}}]},t.boxes.push(e)},removeBox(t,e){const r=t.boxes?t.boxes.indexOf(e):-1;r!==-1&&t.boxes.splice(r,1)},configure(t,e,r){e.fullSize=r.fullSize,e.position=r.position,e.weight=r.weight},update(t,e,r,n){if(!t)return;const i=xa(t.options.layout.padding),a=Math.max(e-i.width,0),s=Math.max(r-i.height,0),o=UN(t.boxes),l=o.vertical,u=o.horizontal;an(t.boxes,y=>{typeof y.beforeLayout=="function"&&y.beforeLayout()});const c=l.reduce((y,b)=>b.box.options&&b.box.options.display===!1?y:y+1,0)||1,f=Object.freeze({outerWidth:e,outerHeight:r,padding:i,availableWidth:a,availableHeight:s,vBoxMaxWidth:a/2/c,hBoxMaxHeight:s/2}),d=Object.assign({},i);PS(d,xa(n));const p=Object.assign({maxPadding:d,w:a,h:s,x:i.left,y:i.top},i),g=VN(l.concat(u),f);Bu(o.fullSize,p,f,g),Bu(l,p,f,g),Bu(u,p,f,g)&&Bu(l,p,f,g),GN(p),Fx(o.leftAndTop,p,f,g),p.x+=p.w,p.y+=p.h,Fx(o.rightAndBottom,p,f,g),t.chartArea={left:p.left,top:p.top,right:p.left+p.w,bottom:p.top+p.h,height:p.h,width:p.w},an(o.chartArea,y=>{const b=y.box;Object.assign(b,t.chartArea),b.update(p.w,p.h,{left:0,top:0,right:0,bottom:0})})}};class DS{acquireContext(e,r){}releaseContext(e){return!1}addEventListener(e,r,n){}removeEventListener(e,r,n){}getDevicePixelRatio(){return 1}getMaximumSize(e,r,n,i){return r=Math.max(0,r||e.width),n=n||e.height,{width:r,height:Math.max(0,i?Math.floor(r/i):n)}}isAttached(e){return!0}updateConfig(e){}}class XN extends DS{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Jf="$chartjs",KN={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},$x=t=>t===null||t==="";function ZN(t,e){const r=t.style,n=t.getAttribute("height"),i=t.getAttribute("width");if(t[Jf]={initial:{height:n,width:i,style:{display:r.display,height:r.height,width:r.width}}},r.display=r.display||"block",r.boxSizing=r.boxSizing||"border-box",$x(i)){const a=Ex(t,"width");a!==void 0&&(t.width=a)}if($x(n))if(t.style.height==="")t.height=t.width/(e||2);else{const a=Ex(t,"height");a!==void 0&&(t.height=a)}return t}const AS=dN?{passive:!0}:!1;function QN(t,e,r){t&&t.addEventListener(e,r,AS)}function JN(t,e,r){t&&t.canvas&&t.canvas.removeEventListener(e,r,AS)}function ez(t,e){const r=KN[t.type]||t.type,{x:n,y:i}=Bs(t,e);return{type:r,chart:e,native:t,x:n!==void 0?n:null,y:i!==void 0?i:null}}function Xd(t,e){for(const r of t)if(r===e||r.contains(e))return!0}function tz(t,e,r){const n=t.canvas,i=new MutationObserver(a=>{let s=!1;for(const o of a)s=s||Xd(o.addedNodes,n),s=s&&!Xd(o.removedNodes,n);s&&r()});return i.observe(document,{childList:!0,subtree:!0}),i}function rz(t,e,r){const n=t.canvas,i=new MutationObserver(a=>{let s=!1;for(const o of a)s=s||Xd(o.removedNodes,n),s=s&&!Xd(o.addedNodes,n);s&&r()});return i.observe(document,{childList:!0,subtree:!0}),i}const Lc=new Map;let jx=0;function IS(){const t=window.devicePixelRatio;t!==jx&&(jx=t,Lc.forEach((e,r)=>{r.currentDevicePixelRatio!==t&&e()}))}function nz(t,e){Lc.size||window.addEventListener("resize",IS),Lc.set(t,e)}function iz(t){Lc.delete(t),Lc.size||window.removeEventListener("resize",IS)}function az(t,e,r){const n=t.canvas,i=n&&D2(n);if(!i)return;const a=mS((o,l)=>{const u=i.clientWidth;r(o,l),u<i.clientWidth&&r()},window),s=new ResizeObserver(o=>{const l=o[0],u=l.contentRect.width,c=l.contentRect.height;u===0&&c===0||a(u,c)});return s.observe(i),nz(t,a),s}function Ng(t,e,r){r&&r.disconnect(),e==="resize"&&iz(t)}function sz(t,e,r){const n=t.canvas,i=mS(a=>{t.ctx!==null&&r(ez(a,t))},t);return QN(n,e,i),i}class oz extends DS{acquireContext(e,r){const n=e&&e.getContext&&e.getContext("2d");return n&&n.canvas===e?(ZN(e,r),n):null}releaseContext(e){const r=e.canvas;if(!r[Jf])return!1;const n=r[Jf].initial;["height","width"].forEach(a=>{const s=n[a];qt(s)?r.removeAttribute(a):r.setAttribute(a,s)});const i=n.style||{};return Object.keys(i).forEach(a=>{r.style[a]=i[a]}),r.width=r.width,delete r[Jf],!0}addEventListener(e,r,n){this.removeEventListener(e,r);const i=e.$proxies||(e.$proxies={}),s={attach:tz,detach:rz,resize:az}[r]||sz;i[r]=s(e,r,n)}removeEventListener(e,r){const n=e.$proxies||(e.$proxies={}),i=n[r];if(!i)return;({attach:Ng,detach:Ng,resize:Ng}[r]||JN)(e,r,i),n[r]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,r,n,i){return fN(e,r,n,i)}isAttached(e){const r=e&&D2(e);return!!(r&&r.isConnected)}}function lz(t){return!P2()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?XN:oz}var If;let Xh=(If=class{constructor(){Le(this,"x");Le(this,"y");Le(this,"active",!1);Le(this,"options");Le(this,"$animations")}tooltipPosition(e){const{x:r,y:n}=this.getProps(["x","y"],e);return{x:r,y:n}}hasValue(){return Ic(this.x)&&Ic(this.y)}getProps(e,r){const n=this.$animations;if(!r||!n)return this;const i={};return e.forEach(a=>{i[a]=n[a]&&n[a].active()?n[a]._to:this[a]}),i}},Le(If,"defaults",{}),Le(If,"defaultRoutes"),If);function uz(t,e){const r=t.options.ticks,n=cz(t),i=Math.min(r.maxTicksLimit||n,n),a=r.major.enabled?dz(e):[],s=a.length,o=a[0],l=a[s-1],u=[];if(s>i)return hz(e,u,a,s/i),u;const c=fz(a,e,i);if(s>0){let f,d;const p=s>1?Math.round((l-o)/(s-1)):null;for(cf(e,u,c,qt(p)?0:o-p,o),f=0,d=s-1;f<d;f++)cf(e,u,c,a[f],a[f+1]);return cf(e,u,c,l,qt(p)?e.length:l+p),u}return cf(e,u,c),u}function cz(t){const e=t.options.offset,r=t._tickSize(),n=t._length/r+(e?0:1),i=t._maxLength/r;return Math.floor(Math.min(n,i))}function fz(t,e,r){const n=pz(t),i=e.length/r;if(!n)return Math.max(i,1);const a=aO(n);for(let s=0,o=a.length-1;s<o;s++){const l=a[s];if(l>i)return l}return Math.max(i,1)}function dz(t){const e=[];let r,n;for(r=0,n=t.length;r<n;r++)t[r].major&&e.push(r);return e}function hz(t,e,r,n){let i=0,a=r[0],s;for(n=Math.ceil(n),s=0;s<t.length;s++)s===a&&(e.push(t[s]),i++,a=r[i*n])}function cf(t,e,r,n,i){const a=Bt(n,0),s=Math.min(Bt(i,t.length),t.length);let o=0,l,u,c;for(r=Math.ceil(r),i&&(l=i-n,r=l/Math.floor(l/r)),c=a;c<0;)o++,c=Math.round(a+o*r);for(u=Math.max(a,0);u<s;u++)u===c&&(e.push(t[u]),o++,c=Math.round(a+o*r))}function pz(t){const e=t.length;let r,n;if(e<2)return!1;for(n=t[0],r=1;r<e;++r)if(t[r]-t[r-1]!==n)return!1;return n}const gz=t=>t==="left"?"right":t==="right"?"left":t,qx=(t,e,r)=>e==="top"||e==="left"?t[e]+r:t[e]-r,Hx=(t,e)=>Math.min(e||t,t);function Vx(t,e){const r=[],n=t.length/e,i=t.length;let a=0;for(;a<i;a+=n)r.push(t[Math.floor(a)]);return r}function mz(t,e,r){const n=t.ticks.length,i=Math.min(e,n-1),a=t._startPixel,s=t._endPixel,o=1e-6;let l=t.getPixelForTick(i),u;if(!(r&&(n===1?u=Math.max(l-a,s-l):e===0?u=(t.getPixelForTick(1)-l)/2:u=(l-t.getPixelForTick(i-1))/2,l+=i<e?u:-u,l<a-o||l>s+o)))return l}function vz(t,e){an(t,r=>{const n=r.gc,i=n.length/2;let a;if(i>e){for(a=0;a<i;++a)delete r.data[n[a]];n.splice(0,i)}})}function _u(t){return t.drawTicks?t.tickLength:0}function Ux(t,e){if(!t.display)return 0;const r=Nl(t.font,e),n=xa(t.padding);return(yr(t.text)?t.text.length:1)*r.lineHeight+n.height}function yz(t,e){return wo(t,{scale:e,type:"scale"})}function xz(t,e,r){return wo(t,{tick:r,index:e,type:"tick"})}function bz(t,e,r){let n=mO(t);return(r&&e!=="right"||!r&&e==="right")&&(n=gz(n)),n}function wz(t,e,r,n){const{top:i,left:a,bottom:s,right:o,chart:l}=t,{chartArea:u,scales:c}=l;let f=0,d,p,g;const y=s-i,b=o-a;if(t.isHorizontal()){if(p=vx(n,a,o),kt(r)){const x=Object.keys(r)[0],w=r[x];g=c[x].getPixelForValue(w)+y-e}else r==="center"?g=(u.bottom+u.top)/2+y-e:g=qx(t,r,e);d=o-a}else{if(kt(r)){const x=Object.keys(r)[0],w=r[x];p=c[x].getPixelForValue(w)-b+e}else r==="center"?p=(u.left+u.right)/2-b+e:p=qx(t,r,e);g=vx(n,s,i),f=r==="left"?-jn:jn}return{titleX:p,titleY:g,maxWidth:d,rotation:f}}class Xl extends Xh{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,r){return e}getUserBounds(){let{_userMin:e,_userMax:r,_suggestedMin:n,_suggestedMax:i}=this;return e=zn(e,Number.POSITIVE_INFINITY),r=zn(r,Number.NEGATIVE_INFINITY),n=zn(n,Number.POSITIVE_INFINITY),i=zn(i,Number.NEGATIVE_INFINITY),{min:zn(e,n),max:zn(r,i),minDefined:xr(e),maxDefined:xr(r)}}getMinMax(e){let{min:r,max:n,minDefined:i,maxDefined:a}=this.getUserBounds(),s;if(i&&a)return{min:r,max:n};const o=this.getMatchingVisibleMetas();for(let l=0,u=o.length;l<u;++l)s=o[l].controller.getMinMax(this,e),i||(r=Math.min(r,s.min)),a||(n=Math.max(n,s.max));return r=a&&r>n?n:r,n=i&&r>n?r:n,{min:zn(r,zn(n,r)),max:zn(n,zn(r,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){gr(this.options.beforeUpdate,[this])}update(e,r,n){const{beginAtZero:i,grace:a,ticks:s}=this.options,o=s.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=r,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=HO(this,a,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=o<this.ticks.length;this._convertTicksToLabels(l?Vx(this.ticks,o):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),s.display&&(s.autoSkip||s.source==="auto")&&(this.ticks=uz(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,r,n;this.isHorizontal()?(r=this.left,n=this.right):(r=this.top,n=this.bottom,e=!e),this._startPixel=r,this._endPixel=n,this._reversePixels=e,this._length=n-r,this._alignToPixels=this.options.alignToPixels}afterUpdate(){gr(this.options.afterUpdate,[this])}beforeSetDimensions(){gr(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){gr(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),gr(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){gr(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const r=this.options.ticks;let n,i,a;for(n=0,i=e.length;n<i;n++)a=e[n],a.label=gr(r.callback,[a.value,n,e],this)}afterTickToLabelConversion(){gr(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){gr(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,r=e.ticks,n=Hx(this.ticks.length,e.ticks.maxTicksLimit),i=r.minRotation||0,a=r.maxRotation;let s=i,o,l,u;if(!this._isVisible()||!r.display||i>=a||n<=1||!this.isHorizontal()){this.labelRotation=i;return}const c=this._getLabelSizes(),f=c.widest.width,d=c.highest.height,p=sa(this.chart.width-f,0,this.maxWidth);o=e.offset?this.maxWidth/n:p/(n-1),f+6>o&&(o=p/(n-(e.offset?.5:1)),l=this.maxHeight-_u(e.grid)-r.padding-Ux(e.title,this.chart.options.font),u=Math.sqrt(f*f+d*d),s=b2(Math.min(Math.asin(sa((c.highest.height+6)/o,-1,1)),Math.asin(sa(l/u,-1,1))-Math.asin(sa(d/u,-1,1)))),s=Math.max(i,Math.min(a,s))),this.labelRotation=s}afterCalculateLabelRotation(){gr(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){gr(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:r,options:{ticks:n,title:i,grid:a}}=this,s=this._isVisible(),o=this.isHorizontal();if(s){const l=Ux(i,r.options.font);if(o?(e.width=this.maxWidth,e.height=_u(a)+l):(e.height=this.maxHeight,e.width=_u(a)+l),n.display&&this.ticks.length){const{first:u,last:c,widest:f,highest:d}=this._getLabelSizes(),p=n.padding*2,g=Ua(this.labelRotation),y=Math.cos(g),b=Math.sin(g);if(o){const x=n.mirror?0:b*f.width+y*d.height;e.height=Math.min(this.maxHeight,e.height+x+p)}else{const x=n.mirror?0:y*f.width+b*d.height;e.width=Math.min(this.maxWidth,e.width+x+p)}this._calculatePadding(u,c,b,y)}}this._handleMargins(),o?(this.width=this._length=r.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=r.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,r,n,i){const{ticks:{align:a,padding:s},position:o}=this.options,l=this.labelRotation!==0,u=o!=="top"&&this.axis==="x";if(this.isHorizontal()){const c=this.getPixelForTick(0)-this.left,f=this.right-this.getPixelForTick(this.ticks.length-1);let d=0,p=0;l?u?(d=i*e.width,p=n*r.height):(d=n*e.height,p=i*r.width):a==="start"?p=r.width:a==="end"?d=e.width:a!=="inner"&&(d=e.width/2,p=r.width/2),this.paddingLeft=Math.max((d-c+s)*this.width/(this.width-c),0),this.paddingRight=Math.max((p-f+s)*this.width/(this.width-f),0)}else{let c=r.height/2,f=e.height/2;a==="start"?(c=0,f=e.height):a==="end"&&(c=r.height,f=0),this.paddingTop=c+s,this.paddingBottom=f+s}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){gr(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:r}=this.options;return r==="top"||r==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let r,n;for(r=0,n=e.length;r<n;r++)qt(e[r].label)&&(e.splice(r,1),n--,r--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const r=this.options.ticks.sampleSize;let n=this.ticks;r<n.length&&(n=Vx(n,r)),this._labelSizes=e=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,r,n){const{ctx:i,_longestTextCache:a}=this,s=[],o=[],l=Math.floor(r/Hx(r,n));let u=0,c=0,f,d,p,g,y,b,x,w,_,k,T;for(f=0;f<r;f+=l){if(g=e[f].label,y=this._resolveTickFontOptions(f),i.font=b=y.string,x=a[b]=a[b]||{data:{},gc:[]},w=y.lineHeight,_=k=0,!qt(g)&&!yr(g))_=Wd(i,x.data,x.gc,_,g),k=w;else if(yr(g))for(d=0,p=g.length;d<p;++d)T=g[d],!qt(T)&&!yr(T)&&(_=Wd(i,x.data,x.gc,_,T),k+=w);s.push(_),o.push(k),u=Math.max(_,u),c=Math.max(k,c)}vz(a,r);const P=s.indexOf(u),M=o.indexOf(c),A=L=>({width:s[L]||0,height:o[L]||0});return{first:A(0),last:A(r-1),widest:A(P),highest:A(M),widths:s,heights:o}}getLabelForValue(e){return e}getPixelForValue(e,r){return NaN}getValueForPixel(e){}getPixelForTick(e){const r=this.ticks;return e<0||e>r.length-1?null:this.getPixelForValue(r[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const r=this._startPixel+e*this._length;return cO(this._alignToPixels?Is(this.chart,r,0):r)}getDecimalForPixel(e){const r=(e-this._startPixel)/this._length;return this._reversePixels?1-r:r}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:r}=this;return e<0&&r<0?r:e>0&&r>0?e:0}getContext(e){const r=this.ticks||[];if(e>=0&&e<r.length){const n=r[e];return n.$context||(n.$context=xz(this.getContext(),e,n))}return this.$context||(this.$context=yz(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,r=Ua(this.labelRotation),n=Math.abs(Math.cos(r)),i=Math.abs(Math.sin(r)),a=this._getLabelSizes(),s=e.autoSkipPadding||0,o=a?a.widest.width+s:0,l=a?a.highest.height+s:0;return this.isHorizontal()?l*n>o*i?o/n:l/i:l*i<o*n?l/n:o/i}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const r=this.axis,n=this.chart,i=this.options,{grid:a,position:s,border:o}=i,l=a.offset,u=this.isHorizontal(),f=this.ticks.length+(l?1:0),d=_u(a),p=[],g=o.setContext(this.getContext()),y=g.display?g.width:0,b=y/2,x=function(K){return Is(n,K,y)};let w,_,k,T,P,M,A,L,R,N,F,$;if(s==="top")w=x(this.bottom),M=this.bottom-d,L=w-b,N=x(e.top)+b,$=e.bottom;else if(s==="bottom")w=x(this.top),N=e.top,$=x(e.bottom)-b,M=w+b,L=this.top+d;else if(s==="left")w=x(this.right),P=this.right-d,A=w-b,R=x(e.left)+b,F=e.right;else if(s==="right")w=x(this.left),R=e.left,F=x(e.right)-b,P=w+b,A=this.left+d;else if(r==="x"){if(s==="center")w=x((e.top+e.bottom)/2+.5);else if(kt(s)){const K=Object.keys(s)[0],W=s[K];w=x(this.chart.scales[K].getPixelForValue(W))}N=e.top,$=e.bottom,M=w+b,L=M+d}else if(r==="y"){if(s==="center")w=x((e.left+e.right)/2);else if(kt(s)){const K=Object.keys(s)[0],W=s[K];w=x(this.chart.scales[K].getPixelForValue(W))}P=w-b,A=P-d,R=e.left,F=e.right}const V=Bt(i.ticks.maxTicksLimit,f),X=Math.max(1,Math.ceil(f/V));for(_=0;_<f;_+=X){const K=this.getContext(_),W=a.setContext(K),H=o.setContext(K),ee=W.lineWidth,re=W.color,G=H.dash||[],Z=H.dashOffset,ue=W.tickWidth,pe=W.tickColor,ge=W.tickBorderDash||[],fe=W.tickBorderDashOffset;k=mz(this,_,l),k!==void 0&&(T=Is(n,k,ee),u?P=A=R=F=T:M=L=N=$=T,p.push({tx1:P,ty1:M,tx2:A,ty2:L,x1:R,y1:N,x2:F,y2:$,width:ee,color:re,borderDash:G,borderDashOffset:Z,tickWidth:ue,tickColor:pe,tickBorderDash:ge,tickBorderDashOffset:fe}))}return this._ticksLength=f,this._borderValue=w,p}_computeLabelItems(e){const r=this.axis,n=this.options,{position:i,ticks:a}=n,s=this.isHorizontal(),o=this.ticks,{align:l,crossAlign:u,padding:c,mirror:f}=a,d=_u(n.grid),p=d+c,g=f?-c:p,y=-Ua(this.labelRotation),b=[];let x,w,_,k,T,P,M,A,L,R,N,F,$="middle";if(i==="top")P=this.bottom-g,M=this._getXAxisLabelAlignment();else if(i==="bottom")P=this.top+g,M=this._getXAxisLabelAlignment();else if(i==="left"){const X=this._getYAxisLabelAlignment(d);M=X.textAlign,T=X.x}else if(i==="right"){const X=this._getYAxisLabelAlignment(d);M=X.textAlign,T=X.x}else if(r==="x"){if(i==="center")P=(e.top+e.bottom)/2+p;else if(kt(i)){const X=Object.keys(i)[0],K=i[X];P=this.chart.scales[X].getPixelForValue(K)+p}M=this._getXAxisLabelAlignment()}else if(r==="y"){if(i==="center")T=(e.left+e.right)/2-p;else if(kt(i)){const X=Object.keys(i)[0],K=i[X];T=this.chart.scales[X].getPixelForValue(K)}M=this._getYAxisLabelAlignment(d).textAlign}r==="y"&&(l==="start"?$="top":l==="end"&&($="bottom"));const V=this._getLabelSizes();for(x=0,w=o.length;x<w;++x){_=o[x],k=_.label;const X=a.setContext(this.getContext(x));A=this.getPixelForTick(x)+a.labelOffset,L=this._resolveTickFontOptions(x),R=L.lineHeight,N=yr(k)?k.length:1;const K=N/2,W=X.color,H=X.textStrokeColor,ee=X.textStrokeWidth;let re=M;s?(T=A,M==="inner"&&(x===w-1?re=this.options.reverse?"left":"right":x===0?re=this.options.reverse?"right":"left":re="center"),i==="top"?u==="near"||y!==0?F=-N*R+R/2:u==="center"?F=-V.highest.height/2-K*R+R:F=-V.highest.height+R/2:u==="near"||y!==0?F=R/2:u==="center"?F=V.highest.height/2-K*R:F=V.highest.height-N*R,f&&(F*=-1),y!==0&&!X.showLabelBackdrop&&(T+=R/2*Math.sin(y))):(P=A,F=(1-N)*R/2);let G;if(X.showLabelBackdrop){const Z=xa(X.backdropPadding),ue=V.heights[x],pe=V.widths[x];let ge=F-Z.top,fe=0-Z.left;switch($){case"middle":ge-=ue/2;break;case"bottom":ge-=ue;break}switch(M){case"center":fe-=pe/2;break;case"right":fe-=pe;break;case"inner":x===w-1?fe-=pe:x>0&&(fe-=pe/2);break}G={left:fe,top:ge,width:pe+Z.width,height:ue+Z.height,color:X.backdropColor}}b.push({label:k,font:L,textOffset:F,options:{rotation:y,color:W,strokeColor:H,strokeWidth:ee,textAlign:re,textBaseline:$,translation:[T,P],backdrop:G}})}return b}_getXAxisLabelAlignment(){const{position:e,ticks:r}=this.options;if(-Ua(this.labelRotation))return e==="top"?"left":"right";let i="center";return r.align==="start"?i="left":r.align==="end"?i="right":r.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(e){const{position:r,ticks:{crossAlign:n,mirror:i,padding:a}}=this.options,s=this._getLabelSizes(),o=e+a,l=s.widest.width;let u,c;return r==="left"?i?(c=this.right+a,n==="near"?u="left":n==="center"?(u="center",c+=l/2):(u="right",c+=l)):(c=this.right-o,n==="near"?u="right":n==="center"?(u="center",c-=l/2):(u="left",c=this.left)):r==="right"?i?(c=this.left+a,n==="near"?u="right":n==="center"?(u="center",c-=l/2):(u="left",c-=l)):(c=this.left+o,n==="near"?u="left":n==="center"?(u="center",c+=l/2):(u="right",c=this.right)):u="right",{textAlign:u,x:c}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,r=this.options.position;if(r==="left"||r==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(r==="top"||r==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:r},left:n,top:i,width:a,height:s}=this;r&&(e.save(),e.fillStyle=r,e.fillRect(n,i,a,s),e.restore())}getLineWidthForValue(e){const r=this.options.grid;if(!this._isVisible()||!r.display)return 0;const i=this.ticks.findIndex(a=>a.value===e);return i>=0?r.setContext(this.getContext(i)).lineWidth:0}drawGrid(e){const r=this.options.grid,n=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let a,s;const o=(l,u,c)=>{!c.width||!c.color||(n.save(),n.lineWidth=c.width,n.strokeStyle=c.color,n.setLineDash(c.borderDash||[]),n.lineDashOffset=c.borderDashOffset,n.beginPath(),n.moveTo(l.x,l.y),n.lineTo(u.x,u.y),n.stroke(),n.restore())};if(r.display)for(a=0,s=i.length;a<s;++a){const l=i[a];r.drawOnChartArea&&o({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),r.drawTicks&&o({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:r,options:{border:n,grid:i}}=this,a=n.setContext(this.getContext()),s=n.display?a.width:0;if(!s)return;const o=i.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let u,c,f,d;this.isHorizontal()?(u=Is(e,this.left,s)-s/2,c=Is(e,this.right,o)+o/2,f=d=l):(f=Is(e,this.top,s)-s/2,d=Is(e,this.bottom,o)+o/2,u=c=l),r.save(),r.lineWidth=a.width,r.strokeStyle=a.color,r.beginPath(),r.moveTo(u,f),r.lineTo(c,d),r.stroke(),r.restore()}drawLabels(e){if(!this.options.ticks.display)return;const n=this.ctx,i=this._computeLabelArea();i&&k2(n,i);const a=this.getLabelItems(e);for(const s of a){const o=s.options,l=s.font,u=s.label,c=s.textOffset;Gd(n,u,0,c,l,o)}i&&T2(n)}drawTitle(){const{ctx:e,options:{position:r,title:n,reverse:i}}=this;if(!n.display)return;const a=Nl(n.font),s=xa(n.padding),o=n.align;let l=a.lineHeight/2;r==="bottom"||r==="center"||kt(r)?(l+=s.bottom,yr(n.text)&&(l+=a.lineHeight*(n.text.length-1))):l+=s.top;const{titleX:u,titleY:c,maxWidth:f,rotation:d}=wz(this,l,r,o);Gd(e,n.text,0,0,a,{color:n.color,maxWidth:f,rotation:d,textAlign:bz(o,r,i),textBaseline:"middle",translation:[u,c]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,r=e.ticks&&e.ticks.z||0,n=Bt(e.grid&&e.grid.z,-1),i=Bt(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Xl.prototype.draw?[{z:r,draw:a=>{this.draw(a)}}]:[{z:n,draw:a=>{this.drawBackground(),this.drawGrid(a),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:r,draw:a=>{this.drawLabels(a)}}]}getMatchingVisibleMetas(e){const r=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",i=[];let a,s;for(a=0,s=r.length;a<s;++a){const o=r[a];o[n]===this.id&&(!e||o.type===e)&&i.push(o)}return i}_resolveTickFontOptions(e){const r=this.options.ticks.setContext(this.getContext(e));return Nl(r.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class ff{constructor(e,r,n){this.type=e,this.scope=r,this.override=n,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const r=Object.getPrototypeOf(e);let n;kz(r)&&(n=this.register(r));const i=this.items,a=e.id,s=this.scope+"."+a;if(!a)throw new Error("class does not have id: "+e);return a in i||(i[a]=e,_z(e,s,n),this.override&&Tr.override(e.id,e.overrides)),s}get(e){return this.items[e]}unregister(e){const r=this.items,n=e.id,i=this.scope;n in r&&delete r[n],i&&n in Tr[i]&&(delete Tr[i][n],this.override&&delete uo[n])}}function _z(t,e,r){const n=Ac(Object.create(null),[r?Tr.get(r):{},Tr.get(e),t.defaults]);Tr.set(e,n),t.defaultRoutes&&Sz(e,t.defaultRoutes),t.descriptors&&Tr.describe(e,t.descriptors)}function Sz(t,e){Object.keys(e).forEach(r=>{const n=r.split("."),i=n.pop(),a=[t].concat(n).join("."),s=e[r].split("."),o=s.pop(),l=s.join(".");Tr.route(a,i,l,o)})}function kz(t){return"id"in t&&"defaults"in t}class Tz{constructor(){this.controllers=new ff(nc,"datasets",!0),this.elements=new ff(Xh,"elements"),this.plugins=new ff(Object,"plugins"),this.scales=new ff(Xl,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,r,n){[...r].forEach(i=>{const a=n||this._getRegistryForType(i);n||a.isForType(i)||a===this.plugins&&i.id?this._exec(e,a,i):an(i,s=>{const o=n||this._getRegistryForType(s);this._exec(e,o,s)})})}_exec(e,r,n){const i=x2(e);gr(n["before"+i],[],n),r[e](n),gr(n["after"+i],[],n)}_getRegistryForType(e){for(let r=0;r<this._typedRegistries.length;r++){const n=this._typedRegistries[r];if(n.isForType(e))return n}return this.plugins}_get(e,r,n){const i=r.get(e);if(i===void 0)throw new Error('"'+e+'" is not a registered '+n+".");return i}}var Ri=new Tz;class Ez{constructor(){this._init=[]}notify(e,r,n,i){r==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const a=i?this._descriptors(e).filter(i):this._descriptors(e),s=this._notify(a,e,r,n);return r==="afterDestroy"&&(this._notify(a,e,"stop"),this._notify(this._init,e,"uninstall")),s}_notify(e,r,n,i){i=i||{};for(const a of e){const s=a.plugin,o=s[n],l=[r,i,a.options];if(gr(o,l,s)===!1&&i.cancelable)return!1}return!0}invalidate(){qt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const r=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),r}_createDescriptors(e,r){const n=e&&e.config,i=Bt(n.options&&n.options.plugins,{}),a=Cz(n);return i===!1&&!r?[]:Pz(e,a,i,r)}_notifyStateChanges(e){const r=this._oldCache||[],n=this._cache,i=(a,s)=>a.filter(o=>!s.some(l=>o.plugin.id===l.plugin.id));this._notify(i(r,n),e,"stop"),this._notify(i(n,r),e,"start")}}function Cz(t){const e={},r=[],n=Object.keys(Ri.plugins.items);for(let a=0;a<n.length;a++)r.push(Ri.getPlugin(n[a]));const i=t.plugins||[];for(let a=0;a<i.length;a++){const s=i[a];r.indexOf(s)===-1&&(r.push(s),e[s.id]=!0)}return{plugins:r,localIds:e}}function Mz(t,e){return!e&&t===!1?null:t===!0?{}:t}function Pz(t,{plugins:e,localIds:r},n,i){const a=[],s=t.getContext();for(const o of e){const l=o.id,u=Mz(n[l],i);u!==null&&a.push({plugin:o,options:Dz(t.config,{plugin:o,local:r[l]},u,s)})}return a}function Dz(t,{plugin:e,local:r},n,i){const a=t.pluginScopeKeys(e),s=t.getOptionScopes(n,a);return r&&e.defaults&&s.push(e.defaults),t.createResolver(s,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function C1(t,e){const r=Tr.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||r.indexAxis||"x"}function Az(t,e){let r=t;return t==="_index_"?r=e:t==="_value_"&&(r=e==="x"?"y":"x"),r}function Iz(t,e){return t===e?"_index_":"_value_"}function Wx(t){if(t==="x"||t==="y"||t==="r")return t}function Lz(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function M1(t,...e){if(Wx(t))return t;for(const r of e){const n=r.axis||Lz(r.position)||t.length>1&&Wx(t[0].toLowerCase());if(n)return n}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function Gx(t,e,r){if(r[e+"AxisID"]===t)return{axis:e}}function Rz(t,e){if(e.data&&e.data.datasets){const r=e.data.datasets.filter(n=>n.xAxisID===t||n.yAxisID===t);if(r.length)return Gx(t,"x",r[0])||Gx(t,"y",r[0])}return{}}function Oz(t,e){const r=uo[t.type]||{scales:{}},n=e.scales||{},i=C1(t.type,e),a=Object.create(null);return Object.keys(n).forEach(s=>{const o=n[s];if(!kt(o))return console.error(`Invalid scale configuration for scale: ${s}`);if(o._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${s}`);const l=M1(s,o,Rz(s,t),Tr.scales[o.type]),u=Iz(l,i),c=r.scales||{};a[s]=Ju(Object.create(null),[{axis:l},o,c[l],c[u]])}),t.data.datasets.forEach(s=>{const o=s.type||t.type,l=s.indexAxis||C1(o,e),c=(uo[o]||{}).scales||{};Object.keys(c).forEach(f=>{const d=Az(f,l),p=s[d+"AxisID"]||d;a[p]=a[p]||Object.create(null),Ju(a[p],[{axis:d},n[p],c[f]])})}),Object.keys(a).forEach(s=>{const o=a[s];Ju(o,[Tr.scales[o.type],Tr.scale])}),a}function LS(t){const e=t.options||(t.options={});e.plugins=Bt(e.plugins,{}),e.scales=Oz(t,e)}function RS(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function Nz(t){return t=t||{},t.data=RS(t.data),LS(t),t}const Yx=new Map,OS=new Set;function df(t,e){let r=Yx.get(t);return r||(r=e(),Yx.set(t,r),OS.add(r)),r}const Su=(t,e,r)=>{const n=Hd(e,r);n!==void 0&&t.add(n)};class zz{constructor(e){this._config=Nz(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=RS(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),LS(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return df(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,r){return df(`${e}.transition.${r}`,()=>[[`datasets.${e}.transitions.${r}`,`transitions.${r}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,r){return df(`${e}-${r}`,()=>[[`datasets.${e}.elements.${r}`,`datasets.${e}`,`elements.${r}`,""]])}pluginScopeKeys(e){const r=e.id,n=this.type;return df(`${n}-plugin-${r}`,()=>[[`plugins.${r}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,r){const n=this._scopeCache;let i=n.get(e);return(!i||r)&&(i=new Map,n.set(e,i)),i}getOptionScopes(e,r,n){const{options:i,type:a}=this,s=this._cachedScopes(e,n),o=s.get(r);if(o)return o;const l=new Set;r.forEach(c=>{e&&(l.add(e),c.forEach(f=>Su(l,e,f))),c.forEach(f=>Su(l,i,f)),c.forEach(f=>Su(l,uo[a]||{},f)),c.forEach(f=>Su(l,Tr,f)),c.forEach(f=>Su(l,E1,f))});const u=Array.from(l);return u.length===0&&u.push(Object.create(null)),OS.has(r)&&s.set(r,u),u}chartOptionScopes(){const{options:e,type:r}=this;return[e,uo[r]||{},Tr.datasets[r]||{},{type:r},Tr,E1]}resolveNamedOptions(e,r,n,i=[""]){const a={$shared:!0},{resolver:s,subPrefixes:o}=Xx(this._resolverCache,e,i);let l=s;if(Fz(s,r)){a.$shared=!1,n=cs(n)?n():n;const u=this.createResolver(e,n,o);l=zl(s,n,u)}for(const u of r)a[u]=l[u];return a}createResolver(e,r,n=[""],i){const{resolver:a}=Xx(this._resolverCache,e,n);return kt(r)?zl(a,r,void 0,i):a}}function Xx(t,e,r){let n=t.get(e);n||(n=new Map,t.set(e,n));const i=r.join();let a=n.get(i);return a||(a={resolver:E2(e,r),subPrefixes:r.filter(o=>!o.toLowerCase().includes("hover"))},n.set(i,a)),a}const Bz=t=>kt(t)&&Object.getOwnPropertyNames(t).some(e=>cs(t[e]));function Fz(t,e){const{isScriptable:r,isIndexable:n}=xS(t);for(const i of e){const a=r(i),s=n(i),o=(s||a)&&t[i];if(a&&(cs(o)||Bz(o))||s&&yr(o))return!0}return!1}var $z="4.4.8";const jz=["top","bottom","left","right","chartArea"];function Kx(t,e){return t==="top"||t==="bottom"||jz.indexOf(t)===-1&&e==="x"}function Zx(t,e){return function(r,n){return r[t]===n[t]?r[e]-n[e]:r[t]-n[t]}}function Qx(t){const e=t.chart,r=e.options.animation;e.notifyPlugins("afterRender"),gr(r&&r.onComplete,[t],e)}function qz(t){const e=t.chart,r=e.options.animation;gr(r&&r.onProgress,[t],e)}function NS(t){return P2()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const ed={},Jx=t=>{const e=NS(t);return Object.values(ed).filter(r=>r.canvas===e).pop()};function Hz(t,e,r){const n=Object.keys(t);for(const i of n){const a=+i;if(a>=e){const s=t[i];delete t[i],(r>0||a>e)&&(t[a+r]=s)}}}function Vz(t,e,r,n){return!r||t.type==="mouseout"?null:n?e:t}function hf(t,e,r){return t.options.clip?t[r]:e[r]}function Uz(t,e){const{xScale:r,yScale:n}=t;return r&&n?{left:hf(r,e,"left"),right:hf(r,e,"right"),top:hf(n,e,"top"),bottom:hf(n,e,"bottom")}:e}var Oa;let o0=(Oa=class{static register(...e){Ri.add(...e),eb()}static unregister(...e){Ri.remove(...e),eb()}constructor(e,r){const n=this.config=new zz(r),i=NS(e),a=Jx(i);if(a)throw new Error("Canvas is already in use. Chart with ID '"+a.id+"' must be destroyed before the canvas with ID '"+a.canvas.id+"' can be reused.");const s=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||lz(i)),this.platform.updateConfig(n);const o=this.platform.acquireContext(i,s.aspectRatio),l=o&&o.canvas,u=l&&l.height,c=l&&l.width;if(this.id=KR(),this.ctx=o,this.canvas=l,this.width=c,this.height=u,this._options=s,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Ez,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=gO(f=>this.update(f),s.resizeDelay||0),this._dataChanges=[],ed[this.id]=this,!o||!l){console.error("Failed to create chart: can't acquire context from the given item");return}Qi.listen(this,"complete",Qx),Qi.listen(this,"progress",qz),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:r},width:n,height:i,_aspectRatio:a}=this;return qt(e)?r&&a?a:i?n/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Ri}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Tx(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return _x(this.canvas,this.ctx),this}stop(){return Qi.stop(this),this}resize(e,r){Qi.running(this)?this._resizeBeforeDraw={width:e,height:r}:this._resize(e,r)}_resize(e,r){const n=this.options,i=this.canvas,a=n.maintainAspectRatio&&this.aspectRatio,s=this.platform.getMaximumSize(i,e,r,a),o=n.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=s.width,this.height=s.height,this._aspectRatio=this.aspectRatio,Tx(this,o,!0)&&(this.notifyPlugins("resize",{size:s}),gr(n.onResize,[this,s],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const r=this.options.scales||{};an(r,(n,i)=>{n.id=i})}buildOrUpdateScales(){const e=this.options,r=e.scales,n=this.scales,i=Object.keys(n).reduce((s,o)=>(s[o]=!1,s),{});let a=[];r&&(a=a.concat(Object.keys(r).map(s=>{const o=r[s],l=M1(s,o),u=l==="r",c=l==="x";return{options:o,dposition:u?"chartArea":c?"bottom":"left",dtype:u?"radialLinear":c?"category":"linear"}}))),an(a,s=>{const o=s.options,l=o.id,u=M1(l,o),c=Bt(o.type,s.dtype);(o.position===void 0||Kx(o.position,u)!==Kx(s.dposition))&&(o.position=s.dposition),i[l]=!0;let f=null;if(l in n&&n[l].type===c)f=n[l];else{const d=Ri.getScale(c);f=new d({id:l,type:c,ctx:this.ctx,chart:this}),n[f.id]=f}f.init(o,e)}),an(i,(s,o)=>{s||delete n[o]}),an(n,s=>{uf.configure(this,s,s.options),uf.addBox(this,s)})}_updateMetasets(){const e=this._metasets,r=this.data.datasets.length,n=e.length;if(e.sort((i,a)=>i.index-a.index),n>r){for(let i=r;i<n;++i)this._destroyDatasetMeta(i);e.splice(r,n-r)}this._sortedMetasets=e.slice(0).sort(Zx("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:r}}=this;e.length>r.length&&delete this._stacks,e.forEach((n,i)=>{r.filter(a=>a===n._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const e=[],r=this.data.datasets;let n,i;for(this._removeUnreferencedMetasets(),n=0,i=r.length;n<i;n++){const a=r[n];let s=this.getDatasetMeta(n);const o=a.type||this.config.type;if(s.type&&s.type!==o&&(this._destroyDatasetMeta(n),s=this.getDatasetMeta(n)),s.type=o,s.indexAxis=a.indexAxis||C1(o,this.options),s.order=a.order||0,s.index=n,s.label=""+a.label,s.visible=this.isDatasetVisible(n),s.controller)s.controller.updateIndex(n),s.controller.linkScales();else{const l=Ri.getController(o),{datasetElementType:u,dataElementType:c}=Tr.datasets[o];Object.assign(l,{dataElementType:Ri.getElement(c),datasetElementType:u&&Ri.getElement(u)}),s.controller=new l(this,n),e.push(s.controller)}}return this._updateMetasets(),e}_resetElements(){an(this.data.datasets,(e,r)=>{this.getDatasetMeta(r).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const r=this.config;r.update();const n=this._options=r.createResolver(r.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const a=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let s=0;for(let u=0,c=this.data.datasets.length;u<c;u++){const{controller:f}=this.getDatasetMeta(u),d=!i&&a.indexOf(f)===-1;f.buildOrUpdateElements(d),s=Math.max(+f.getMaxOverflow(),s)}s=this._minPadding=n.layout.autoPadding?s:0,this._updateLayout(s),i||an(a,u=>{u.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(Zx("z","_idx"));const{_active:o,_lastEvent:l}=this;l?this._eventHandler(l,!0):o.length&&this._updateHoverStyles(o,o,!0),this.render()}_updateScales(){an(this.scales,e=>{uf.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,r=new Set(Object.keys(this._listeners)),n=new Set(e.events);(!fx(r,n)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,r=this._getUniformDataChanges()||[];for(const{method:n,start:i,count:a}of r){const s=n==="_removeElements"?-a:a;Hz(e,i,s)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const r=this.data.datasets.length,n=a=>new Set(e.filter(s=>s[0]===a).map((s,o)=>o+","+s.splice(1).join(","))),i=n(0);for(let a=1;a<r;a++)if(!fx(i,n(a)))return;return Array.from(i).map(a=>a.split(",")).map(a=>({method:a[1],start:+a[2],count:+a[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;uf.update(this,this.width,this.height,e);const r=this.chartArea,n=r.width<=0||r.height<=0;this._layers=[],an(this.boxes,i=>{n&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,a)=>{i._idx=a}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let r=0,n=this.data.datasets.length;r<n;++r)this.getDatasetMeta(r).controller.configure();for(let r=0,n=this.data.datasets.length;r<n;++r)this._updateDataset(r,cs(e)?e({datasetIndex:r}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,r){const n=this.getDatasetMeta(e),i={meta:n,index:e,mode:r,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(n.controller._update(r),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Qi.has(this)?this.attached&&!Qi.running(this)&&Qi.start(this):(this.draw(),Qx({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:n,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(n,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const r=this._layers;for(e=0;e<r.length&&r[e].z<=0;++e)r[e].draw(this.chartArea);for(this._drawDatasets();e<r.length;++e)r[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const r=this._sortedMetasets,n=[];let i,a;for(i=0,a=r.length;i<a;++i){const s=r[i];(!e||s.visible)&&n.push(s)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let r=e.length-1;r>=0;--r)this._drawDataset(e[r]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const r=this.ctx,n=e._clip,i=!n.disabled,a=Uz(e,this.chartArea),s={meta:e,index:e.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",s)!==!1&&(i&&k2(r,{left:n.left===!1?0:a.left-n.left,right:n.right===!1?this.width:a.right+n.right,top:n.top===!1?0:a.top-n.top,bottom:n.bottom===!1?this.height:a.bottom+n.bottom}),e.controller.draw(),i&&T2(r),s.cancelable=!1,this.notifyPlugins("afterDatasetDraw",s))}isPointInArea(e){return oa(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,r,n,i){const a=jN.modes[r];return typeof a=="function"?a(this,e,n,i):[]}getDatasetMeta(e){const r=this.data.datasets[e],n=this._metasets;let i=n.filter(a=>a&&a._dataset===r).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:r&&r.order||0,index:e,_dataset:r,_parsed:[],_sorted:!1},n.push(i)),i}getContext(){return this.$context||(this.$context=wo(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const r=this.data.datasets[e];if(!r)return!1;const n=this.getDatasetMeta(e);return typeof n.hidden=="boolean"?!n.hidden:!r.hidden}setDatasetVisibility(e,r){const n=this.getDatasetMeta(e);n.hidden=!r}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,r,n){const i=n?"show":"hide",a=this.getDatasetMeta(e),s=a.controller._resolveAnimations(void 0,i);Vd(r)?(a.data[r].hidden=!n,this.update()):(this.setDatasetVisibility(e,n),s.update(a,{visible:n}),this.update(o=>o.datasetIndex===e?i:void 0))}hide(e,r){this._updateVisibility(e,r,!1)}show(e,r){this._updateVisibility(e,r,!0)}_destroyDatasetMeta(e){const r=this._metasets[e];r&&r.controller&&r.controller._destroy(),delete this._metasets[e]}_stop(){let e,r;for(this.stop(),Qi.remove(this),e=0,r=this.data.datasets.length;e<r;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:r}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),_x(e,r),this.platform.releaseContext(r),this.canvas=null,this.ctx=null),delete ed[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,r=this.platform,n=(a,s)=>{r.addEventListener(this,a,s),e[a]=s},i=(a,s,o)=>{a.offsetX=s,a.offsetY=o,this._eventHandler(a)};an(this.options.events,a=>n(a,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,r=this.platform,n=(l,u)=>{r.addEventListener(this,l,u),e[l]=u},i=(l,u)=>{e[l]&&(r.removeEventListener(this,l,u),delete e[l])},a=(l,u)=>{this.canvas&&this.resize(l,u)};let s;const o=()=>{i("attach",o),this.attached=!0,this.resize(),n("resize",a),n("detach",s)};s=()=>{this.attached=!1,i("resize",a),this._stop(),this._resize(0,0),n("attach",o)},r.isAttached(this.canvas)?o():s()}unbindEvents(){an(this._listeners,(e,r)=>{this.platform.removeEventListener(this,r,e)}),this._listeners={},an(this._responsiveListeners,(e,r)=>{this.platform.removeEventListener(this,r,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,r,n){const i=n?"set":"remove";let a,s,o,l;for(r==="dataset"&&(a=this.getDatasetMeta(e[0].datasetIndex),a.controller["_"+i+"DatasetHoverStyle"]()),o=0,l=e.length;o<l;++o){s=e[o];const u=s&&this.getDatasetMeta(s.datasetIndex).controller;u&&u[i+"HoverStyle"](s.element,s.datasetIndex,s.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const r=this._active||[],n=e.map(({datasetIndex:a,index:s})=>{const o=this.getDatasetMeta(a);if(!o)throw new Error("No dataset found at index "+a);return{datasetIndex:a,element:o.data[s],index:s}});!ux(n,r)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,r))}notifyPlugins(e,r,n){return this._plugins.notify(this,e,r,n)}isPluginEnabled(e){return this._plugins._cache.filter(r=>r.plugin.id===e).length===1}_updateHoverStyles(e,r,n){const i=this.options.hover,a=(l,u)=>l.filter(c=>!u.some(f=>c.datasetIndex===f.datasetIndex&&c.index===f.index)),s=a(r,e),o=n?e:a(e,r);s.length&&this.updateHoverStyle(s,i.mode,!1),o.length&&i.mode&&this.updateHoverStyle(o,i.mode,!0)}_eventHandler(e,r){const n={event:e,replay:r,cancelable:!0,inChartArea:this.isPointInArea(e)},i=s=>(s.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",n,i)===!1)return;const a=this._handleEvent(e,r,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,i),(a||n.changed)&&this.render(),this}_handleEvent(e,r,n){const{_active:i=[],options:a}=this,s=r,o=this._getActiveElements(e,i,n,s),l=rO(e),u=Vz(e,this._lastEvent,n,l);n&&(this._lastEvent=null,gr(a.onHover,[e,o,this],this),l&&gr(a.onClick,[e,o,this],this));const c=!ux(o,i);return(c||r)&&(this._active=o,this._updateHoverStyles(o,i,r)),this._lastEvent=u,c}_getActiveElements(e,r,n,i){if(e.type==="mouseout")return[];if(!n)return r;const a=this.options.hover;return this.getElementsAtEventForMode(e,a.mode,a,i)}},Le(Oa,"defaults",Tr),Le(Oa,"instances",ed),Le(Oa,"overrides",uo),Le(Oa,"registry",Ri),Le(Oa,"version",$z),Le(Oa,"getChart",Jx),Oa);function eb(){return an(o0.instances,t=>t._plugins.invalidate())}function zS(t,e,r=e){t.lineCap=Bt(r.borderCapStyle,e.borderCapStyle),t.setLineDash(Bt(r.borderDash,e.borderDash)),t.lineDashOffset=Bt(r.borderDashOffset,e.borderDashOffset),t.lineJoin=Bt(r.borderJoinStyle,e.borderJoinStyle),t.lineWidth=Bt(r.borderWidth,e.borderWidth),t.strokeStyle=Bt(r.borderColor,e.borderColor)}function Wz(t,e,r){t.lineTo(r.x,r.y)}function Gz(t){return t.stepped?AO:t.tension||t.cubicInterpolationMode==="monotone"?IO:Wz}function BS(t,e,r={}){const n=t.length,{start:i=0,end:a=n-1}=r,{start:s,end:o}=e,l=Math.max(i,s),u=Math.min(a,o),c=i<s&&a<s||i>o&&a>o;return{count:n,start:l,loop:e.loop,ilen:u<l&&!c?n+u-l:u-l}}function Yz(t,e,r,n){const{points:i,options:a}=e,{count:s,start:o,loop:l,ilen:u}=BS(i,r,n),c=Gz(a);let{move:f=!0,reverse:d}=n||{},p,g,y;for(p=0;p<=u;++p)g=i[(o+(d?u-p:p))%s],!g.skip&&(f?(t.moveTo(g.x,g.y),f=!1):c(t,y,g,d,a.stepped),y=g);return l&&(g=i[(o+(d?u:0))%s],c(t,y,g,d,a.stepped)),!!l}function Xz(t,e,r,n){const i=e.points,{count:a,start:s,ilen:o}=BS(i,r,n),{move:l=!0,reverse:u}=n||{};let c=0,f=0,d,p,g,y,b,x;const w=k=>(s+(u?o-k:k))%a,_=()=>{y!==b&&(t.lineTo(c,b),t.lineTo(c,y),t.lineTo(c,x))};for(l&&(p=i[w(0)],t.moveTo(p.x,p.y)),d=0;d<=o;++d){if(p=i[w(d)],p.skip)continue;const k=p.x,T=p.y,P=k|0;P===g?(T<y?y=T:T>b&&(b=T),c=(f*c+k)/++f):(_(),t.lineTo(k,T),g=P,f=0,y=b=T),x=T}_()}function P1(t){const e=t.options,r=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!r?Xz:Yz}function Kz(t){return t.stepped?hN:t.tension||t.cubicInterpolationMode==="monotone"?pN:Fs}function Zz(t,e,r,n){let i=e._path;i||(i=e._path=new Path2D,e.path(i,r,n)&&i.closePath()),zS(t,e.options),t.stroke(i)}function Qz(t,e,r,n){const{segments:i,options:a}=e,s=P1(e);for(const o of i)zS(t,a,o.style),t.beginPath(),s(t,e,o,{start:r,end:r+n-1})&&t.closePath(),t.stroke()}const Jz=typeof Path2D=="function";function eB(t,e,r,n){Jz&&!e.options.segment?Zz(t,e,r,n):Qz(t,e,r,n)}class la extends Xh{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,r){const n=this.options;if((n.tension||n.cubicInterpolationMode==="monotone")&&!n.stepped&&!this._pointsUpdated){const i=n.spanGaps?this._loop:this._fullLoop;aN(this._points,n,e,i,r),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=yN(this,this.options.segment))}first(){const e=this.segments,r=this.points;return e.length&&r[e[0].start]}last(){const e=this.segments,r=this.points,n=e.length;return n&&r[e[n-1].end]}interpolate(e,r){const n=this.options,i=e[r],a=this.points,s=ES(this,{property:r,start:i,end:i});if(!s.length)return;const o=[],l=Kz(n);let u,c;for(u=0,c=s.length;u<c;++u){const{start:f,end:d}=s[u],p=a[f],g=a[d];if(p===g){o.push(p);continue}const y=Math.abs((i-p[r])/(g[r]-p[r])),b=l(p,g,y,n.stepped);b[r]=e[r],o.push(b)}return o.length===1?o[0]:o}pathSegment(e,r,n){return P1(this)(e,this,r,n)}path(e,r,n){const i=this.segments,a=P1(this);let s=this._loop;r=r||0,n=n||this.points.length-r;for(const o of i)s&=a(e,this,o,{start:r,end:r+n-1});return!!s}draw(e,r,n,i){const a=this.options||{};(this.points||[]).length&&a.borderWidth&&(e.save(),eB(e,this,n,i),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}Le(la,"id","line"),Le(la,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),Le(la,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),Le(la,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function tb(t,e,r,n){const i=t.options,{[r]:a}=t.getProps([r],n);return Math.abs(e-a)<i.radius+i.hitRadius}class ic extends Xh{constructor(r){super();Le(this,"parsed");Le(this,"skip");Le(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,r&&Object.assign(this,r)}inRange(r,n,i){const a=this.options,{x:s,y:o}=this.getProps(["x","y"],i);return Math.pow(r-s,2)+Math.pow(n-o,2)<Math.pow(a.hitRadius+a.radius,2)}inXRange(r,n){return tb(this,r,"x",n)}inYRange(r,n){return tb(this,r,"y",n)}getCenterPoint(r){const{x:n,y:i}=this.getProps(["x","y"],r);return{x:n,y:i}}size(r){r=r||this.options||{};let n=r.radius||0;n=Math.max(n,n&&r.hoverRadius||0);const i=n&&r.borderWidth||0;return(n+i)*2}draw(r,n){const i=this.options;this.skip||i.radius<.1||!oa(this,n,this.size(i)/2)||(r.strokeStyle=i.borderColor,r.lineWidth=i.borderWidth,r.fillStyle=i.backgroundColor,PO(r,i,this.x,this.y))}getRange(){const r=this.options||{};return r.radius+r.hitRadius}}Le(ic,"id","point"),Le(ic,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),Le(ic,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function tB(t,e,r){const n=t.segments,i=t.points,a=e.points,s=[];for(const o of n){let{start:l,end:u}=o;u=I2(l,u,i);const c=D1(r,i[l],i[u],o.loop);if(!e.segments){s.push({source:o,target:c,start:i[l],end:i[u]});continue}const f=ES(e,c);for(const d of f){const p=D1(r,a[d.start],a[d.end],d.loop),g=TS(o,i,p);for(const y of g)s.push({source:y,target:d,start:{[r]:rb(c,p,"start",Math.max)},end:{[r]:rb(c,p,"end",Math.min)}})}}return s}function D1(t,e,r,n){if(n)return;let i=e[t],a=r[t];return t==="angle"&&(i=Fn(i),a=Fn(a)),{property:t,start:i,end:a}}function rB(t,e){const{x:r=null,y:n=null}=t||{},i=e.points,a=[];return e.segments.forEach(({start:s,end:o})=>{o=I2(s,o,i);const l=i[s],u=i[o];n!==null?(a.push({x:l.x,y:n}),a.push({x:u.x,y:n})):r!==null&&(a.push({x:r,y:l.y}),a.push({x:r,y:u.y}))}),a}function I2(t,e,r){for(;e>t;e--){const n=r[e];if(!isNaN(n.x)&&!isNaN(n.y))break}return e}function rb(t,e,r,n){return t&&e?n(t[r],e[r]):t?t[r]:e?e[r]:0}function FS(t,e){let r=[],n=!1;return yr(t)?(n=!0,r=t):r=rB(t,e),r.length?new la({points:r,options:{tension:0},_loop:n,_fullLoop:n}):null}function nb(t){return t&&t.fill!==!1}function nB(t,e,r){let i=t[e].fill;const a=[e];let s;if(!r)return i;for(;i!==!1&&a.indexOf(i)===-1;){if(!xr(i))return i;if(s=t[i],!s)return!1;if(s.visible)return i;a.push(i),i=s.fill}return!1}function iB(t,e,r){const n=lB(t);if(kt(n))return isNaN(n.value)?!1:n;let i=parseFloat(n);return xr(i)&&Math.floor(i)===i?aB(n[0],e,i,r):["origin","start","end","stack","shape"].indexOf(n)>=0&&n}function aB(t,e,r,n){return(t==="-"||t==="+")&&(r=e+r),r===e||r<0||r>=n?!1:r}function sB(t,e){let r=null;return t==="start"?r=e.bottom:t==="end"?r=e.top:kt(t)?r=e.getPixelForValue(t.value):e.getBasePixel&&(r=e.getBasePixel()),r}function oB(t,e,r){let n;return t==="start"?n=r:t==="end"?n=e.options.reverse?e.min:e.max:kt(t)?n=t.value:n=e.getBaseValue(),n}function lB(t){const e=t.options,r=e.fill;let n=Bt(r&&r.target,r);return n===void 0&&(n=!!e.backgroundColor),n===!1||n===null?!1:n===!0?"origin":n}function uB(t){const{scale:e,index:r,line:n}=t,i=[],a=n.segments,s=n.points,o=cB(e,r);o.push(FS({x:null,y:e.bottom},n));for(let l=0;l<a.length;l++){const u=a[l];for(let c=u.start;c<=u.end;c++)fB(i,s[c],o)}return new la({points:i,options:{}})}function cB(t,e){const r=[],n=t.getMatchingVisibleMetas("line");for(let i=0;i<n.length;i++){const a=n[i];if(a.index===e)break;a.hidden||r.unshift(a.dataset)}return r}function fB(t,e,r){const n=[];for(let i=0;i<r.length;i++){const a=r[i],{first:s,last:o,point:l}=dB(a,e,"x");if(!(!l||s&&o)){if(s)n.unshift(l);else if(t.push(l),!o)break}}t.push(...n)}function dB(t,e,r){const n=t.interpolate(e,r);if(!n)return{};const i=n[r],a=t.segments,s=t.points;let o=!1,l=!1;for(let u=0;u<a.length;u++){const c=a[u],f=s[c.start][r],d=s[c.end][r];if(hS(i,f,d)){o=i===f,l=i===d;break}}return{first:o,last:l,point:n}}class $S{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,r,n){const{x:i,y:a,radius:s}=this;return r=r||{start:0,end:Hn},e.arc(i,a,s,r.end,r.start,!0),!n.bounds}interpolate(e){const{x:r,y:n,radius:i}=this,a=e.angle;return{x:r+Math.cos(a)*i,y:n+Math.sin(a)*i,angle:a}}}function hB(t){const{chart:e,fill:r,line:n}=t;if(xr(r))return pB(e,r);if(r==="stack")return uB(t);if(r==="shape")return!0;const i=gB(t);return i instanceof $S?i:FS(i,n)}function pB(t,e){const r=t.getDatasetMeta(e);return r&&t.isDatasetVisible(e)?r.dataset:null}function gB(t){return(t.scale||{}).getPointPositionForValue?vB(t):mB(t)}function mB(t){const{scale:e={},fill:r}=t,n=sB(r,e);if(xr(n)){const i=e.isHorizontal();return{x:i?n:null,y:i?null:n}}return null}function vB(t){const{scale:e,fill:r}=t,n=e.options,i=e.getLabels().length,a=n.reverse?e.max:e.min,s=oB(r,e,a),o=[];if(n.grid.circular){const l=e.getPointPositionForValue(0,a);return new $S({x:l.x,y:l.y,radius:e.getDistanceFromCenterForValue(s)})}for(let l=0;l<i;++l)o.push(e.getPointPositionForValue(l,s));return o}function zg(t,e,r){const n=hB(e),{line:i,scale:a,axis:s}=e,o=i.options,l=o.fill,u=o.backgroundColor,{above:c=u,below:f=u}=l||{};n&&i.points.length&&(k2(t,r),yB(t,{line:i,target:n,above:c,below:f,area:r,scale:a,axis:s}),T2(t))}function yB(t,e){const{line:r,target:n,above:i,below:a,area:s,scale:o}=e,l=r._loop?"angle":e.axis;t.save(),l==="x"&&a!==i&&(ib(t,n,s.top),ab(t,{line:r,target:n,color:i,scale:o,property:l}),t.restore(),t.save(),ib(t,n,s.bottom)),ab(t,{line:r,target:n,color:a,scale:o,property:l}),t.restore()}function ib(t,e,r){const{segments:n,points:i}=e;let a=!0,s=!1;t.beginPath();for(const o of n){const{start:l,end:u}=o,c=i[l],f=i[I2(l,u,i)];a?(t.moveTo(c.x,c.y),a=!1):(t.lineTo(c.x,r),t.lineTo(c.x,c.y)),s=!!e.pathSegment(t,o,{move:s}),s?t.closePath():t.lineTo(f.x,r)}t.lineTo(e.first().x,r),t.closePath(),t.clip()}function ab(t,e){const{line:r,target:n,property:i,color:a,scale:s}=e,o=tB(r,n,i);for(const{source:l,target:u,start:c,end:f}of o){const{style:{backgroundColor:d=a}={}}=l,p=n!==!0;t.save(),t.fillStyle=d,xB(t,s,p&&D1(i,c,f)),t.beginPath();const g=!!r.pathSegment(t,l);let y;if(p){g?t.closePath():sb(t,n,f,i);const b=!!n.pathSegment(t,u,{move:g,reverse:!0});y=g&&b,y||sb(t,n,c,i)}t.closePath(),t.fill(y?"evenodd":"nonzero"),t.restore()}}function xB(t,e,r){const{top:n,bottom:i}=e.chart.chartArea,{property:a,start:s,end:o}=r||{};a==="x"&&(t.beginPath(),t.rect(s,n,o-s,i-n),t.clip())}function sb(t,e,r,n){const i=e.interpolate(r,n);i&&t.lineTo(i.x,i.y)}var jS={id:"filler",afterDatasetsUpdate(t,e,r){const n=(t.data.datasets||[]).length,i=[];let a,s,o,l;for(s=0;s<n;++s)a=t.getDatasetMeta(s),o=a.dataset,l=null,o&&o.options&&o instanceof la&&(l={visible:t.isDatasetVisible(s),index:s,fill:iB(o,s,n),chart:t,axis:a.controller.options.indexAxis,scale:a.vScale,line:o}),a.$filler=l,i.push(l);for(s=0;s<n;++s)l=i[s],!(!l||l.fill===!1)&&(l.fill=nB(i,s,r.propagate))},beforeDraw(t,e,r){const n=r.drawTime==="beforeDraw",i=t.getSortedVisibleDatasetMetas(),a=t.chartArea;for(let s=i.length-1;s>=0;--s){const o=i[s].$filler;o&&(o.line.updateControlPoints(a,o.axis),n&&o.fill&&zg(t.ctx,o,a))}},beforeDatasetsDraw(t,e,r){if(r.drawTime!=="beforeDatasetsDraw")return;const n=t.getSortedVisibleDatasetMetas();for(let i=n.length-1;i>=0;--i){const a=n[i].$filler;nb(a)&&zg(t.ctx,a,t.chartArea)}},beforeDatasetDraw(t,e,r){const n=e.meta.$filler;!nb(n)||r.drawTime!=="beforeDatasetDraw"||zg(t.ctx,n,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};function bB(t,e){const r=[],{bounds:i,step:a,min:s,max:o,precision:l,count:u,maxTicks:c,maxDigits:f,includeBounds:d}=t,p=a||1,g=c-1,{min:y,max:b}=e,x=!qt(s),w=!qt(o),_=!qt(u),k=(b-y)/(f+1);let T=hx((b-y)/g/p)*p,P,M,A,L;if(T<1e-14&&!x&&!w)return[{value:y},{value:b}];L=Math.ceil(b/T)-Math.floor(y/T),L>g&&(T=hx(L*T/g/p)*p),qt(l)||(P=Math.pow(10,l),T=Math.ceil(T*P)/P),i==="ticks"?(M=Math.floor(y/T)*T,A=Math.ceil(b/T)*T):(M=y,A=b),x&&w&&a&&oO((o-s)/a,T/1e3)?(L=Math.round(Math.min((o-s)/T,c)),T=(o-s)/L,M=s,A=o):_?(M=x?s:M,A=w?o:A,L=u-1,T=(A-M)/L):(L=(A-M)/T,ec(L,Math.round(L),T/1e3)?L=Math.round(L):L=Math.ceil(L));const R=Math.max(px(T),px(M));P=Math.pow(10,qt(l)?R:l),M=Math.round(M*P)/P,A=Math.round(A*P)/P;let N=0;for(x&&(d&&M!==s?(r.push({value:s}),M<s&&N++,ec(Math.round((M+N*T)*P)/P,s,ob(s,k,t))&&N++):M<s&&N++);N<L;++N){const F=Math.round((M+N*T)*P)/P;if(w&&F>o)break;r.push({value:F})}return w&&d&&A!==o?r.length&&ec(r[r.length-1].value,o,ob(o,k,t))?r[r.length-1].value=o:r.push({value:o}):(!w||A===o)&&r.push({value:A}),r}function ob(t,e,{horizontal:r,minRotation:n}){const i=Ua(n),a=(r?Math.sin(i):Math.cos(i))||.001,s=.75*e*(""+t).length;return Math.min(e/a,s)}class Kd extends Xl{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,r){return qt(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:r,maxDefined:n}=this.getUserBounds();let{min:i,max:a}=this;const s=l=>i=r?i:l,o=l=>a=n?a:l;if(e){const l=Ol(i),u=Ol(a);l<0&&u<0?o(0):l>0&&u>0&&s(0)}if(i===a){let l=a===0?1:Math.abs(a*.05);o(a+l),e||s(i-l)}this.min=i,this.max=a}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:r,stepSize:n}=e,i;return n?(i=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),r=r||11),r&&(i=Math.min(r,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,r=e.ticks;let n=this.getTickLimit();n=Math.max(2,n);const i={maxTicks:n,bounds:e.bounds,min:e.min,max:e.max,precision:r.precision,step:r.stepSize,count:r.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:r.minRotation||0,includeBounds:r.includeBounds!==!1},a=this._range||this,s=bB(i,a);return e.bounds==="ticks"&&fS(s,this,"value"),e.reverse?(s.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),s}configure(){const e=this.ticks;let r=this.min,n=this.max;if(super.configure(),this.options.offset&&e.length){const i=(n-r)/Math.max(e.length-1,1)/2;r-=i,n+=i}this._startValue=r,this._endValue=n,this._valueRange=n-r}getLabelForValue(e){return S2(e,this.chart.options.locale,this.options.ticks.format)}}class Zd extends Kd{determineDataLimits(){const{min:e,max:r}=this.getMinMax(!0);this.min=xr(e)?e:0,this.max=xr(r)?r:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),r=e?this.width:this.height,n=Ua(this.options.ticks.minRotation),i=(e?Math.sin(n):Math.cos(n))||.001,a=this._resolveTickFontOptions(0);return Math.ceil(r/Math.min(40,a.lineHeight/i))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}Le(Zd,"id","linear"),Le(Zd,"defaults",{ticks:{callback:Gh.formatters.numeric}});const Rc=t=>Math.floor(Va(t)),Rs=(t,e)=>Math.pow(10,Rc(t)+e);function lb(t){return t/Math.pow(10,Rc(t))===1}function ub(t,e,r){const n=Math.pow(10,r),i=Math.floor(t/n);return Math.ceil(e/n)-i}function wB(t,e){const r=e-t;let n=Rc(r);for(;ub(t,e,n)>10;)n++;for(;ub(t,e,n)<10;)n--;return Math.min(n,Rc(t))}function _B(t,{min:e,max:r}){e=zn(t.min,e);const n=[],i=Rc(e);let a=wB(e,r),s=a<0?Math.pow(10,Math.abs(a)):1;const o=Math.pow(10,a),l=i>a?Math.pow(10,i):0,u=Math.round((e-l)*s)/s,c=Math.floor((e-l)/o/10)*o*10;let f=Math.floor((u-c)/Math.pow(10,a)),d=zn(t.min,Math.round((l+c+f*Math.pow(10,a))*s)/s);for(;d<r;)n.push({value:d,major:lb(d),significand:f}),f>=10?f=f<15?15:20:f++,f>=20&&(a++,f=2,s=a>=0?1:s),d=Math.round((l+c+f*Math.pow(10,a))*s)/s;const p=zn(t.max,d);return n.push({value:p,major:lb(p),significand:f}),n}class cb extends Xl{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,r){const n=Kd.prototype.parse.apply(this,[e,r]);if(n===0){this._zero=!0;return}return xr(n)&&n>0?n:null}determineDataLimits(){const{min:e,max:r}=this.getMinMax(!0);this.min=xr(e)?Math.max(0,e):null,this.max=xr(r)?Math.max(0,r):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!xr(this._userMin)&&(this.min=e===Rs(this.min,0)?Rs(this.min,-1):Rs(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:r}=this.getUserBounds();let n=this.min,i=this.max;const a=o=>n=e?n:o,s=o=>i=r?i:o;n===i&&(n<=0?(a(1),s(10)):(a(Rs(n,-1)),s(Rs(i,1)))),n<=0&&a(Rs(i,-1)),i<=0&&s(Rs(n,1)),this.min=n,this.max=i}buildTicks(){const e=this.options,r={min:this._userMin,max:this._userMax},n=_B(r,this);return e.bounds==="ticks"&&fS(n,this,"value"),e.reverse?(n.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),n}getLabelForValue(e){return e===void 0?"0":S2(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=Va(e),this._valueRange=Va(this.max)-Va(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(Va(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const r=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+r*this._valueRange)}}Le(cb,"id","logarithmic"),Le(cb,"defaults",{ticks:{callback:Gh.formatters.logarithmic,major:{enabled:!0}}});function A1(t){const e=t.ticks;if(e.display&&t.display){const r=xa(e.backdropPadding);return Bt(e.font&&e.font.size,Tr.font.size)+r.height}return 0}function SB(t,e,r){return r=yr(r)?r:[r],{w:MO(t,e.string,r),h:r.length*e.lineHeight}}function fb(t,e,r,n,i){return t===n||t===i?{start:e-r/2,end:e+r/2}:t<n||t>i?{start:e-r,end:e}:{start:e,end:e+r}}function kB(t){const e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},r=Object.assign({},e),n=[],i=[],a=t._pointLabels.length,s=t.options.pointLabels,o=s.centerPointLabels?Vr/a:0;for(let l=0;l<a;l++){const u=s.setContext(t.getPointLabelContext(l));i[l]=u.padding;const c=t.getPointPosition(l,t.drawingArea+i[l],o),f=Nl(u.font),d=SB(t.ctx,f,t._pointLabels[l]);n[l]=d;const p=Fn(t.getIndexAngle(l)+o),g=Math.round(b2(p)),y=fb(g,c.x,d.w,0,180),b=fb(g,c.y,d.h,90,270);TB(r,e,p,y,b)}t.setCenterPoint(e.l-r.l,r.r-e.r,e.t-r.t,r.b-e.b),t._pointLabelItems=MB(t,n,i)}function TB(t,e,r,n,i){const a=Math.abs(Math.sin(r)),s=Math.abs(Math.cos(r));let o=0,l=0;n.start<e.l?(o=(e.l-n.start)/a,t.l=Math.min(t.l,e.l-o)):n.end>e.r&&(o=(n.end-e.r)/a,t.r=Math.max(t.r,e.r+o)),i.start<e.t?(l=(e.t-i.start)/s,t.t=Math.min(t.t,e.t-l)):i.end>e.b&&(l=(i.end-e.b)/s,t.b=Math.max(t.b,e.b+l))}function EB(t,e,r){const n=t.drawingArea,{extra:i,additionalAngle:a,padding:s,size:o}=r,l=t.getPointPosition(e,n+i+s,a),u=Math.round(b2(Fn(l.angle+jn))),c=AB(l.y,o.h,u),f=PB(u),d=DB(l.x,o.w,f);return{visible:!0,x:l.x,y:c,textAlign:f,left:d,top:c,right:d+o.w,bottom:c+o.h}}function CB(t,e){if(!e)return!0;const{left:r,top:n,right:i,bottom:a}=t;return!(oa({x:r,y:n},e)||oa({x:r,y:a},e)||oa({x:i,y:n},e)||oa({x:i,y:a},e))}function MB(t,e,r){const n=[],i=t._pointLabels.length,a=t.options,{centerPointLabels:s,display:o}=a.pointLabels,l={extra:A1(a)/2,additionalAngle:s?Vr/i:0};let u;for(let c=0;c<i;c++){l.padding=r[c],l.size=e[c];const f=EB(t,c,l);n.push(f),o==="auto"&&(f.visible=CB(f,u),f.visible&&(u=f))}return n}function PB(t){return t===0||t===180?"center":t<180?"left":"right"}function DB(t,e,r){return r==="right"?t-=e:r==="center"&&(t-=e/2),t}function AB(t,e,r){return r===90||r===270?t-=e/2:(r>270||r<90)&&(t-=e),t}function IB(t,e,r){const{left:n,top:i,right:a,bottom:s}=r,{backdropColor:o}=e;if(!qt(o)){const l=qO(e.borderRadius),u=xa(e.backdropPadding);t.fillStyle=o;const c=n-u.left,f=i-u.top,d=a-n+u.width,p=s-i+u.height;Object.values(l).some(g=>g!==0)?(t.beginPath(),NO(t,{x:c,y:f,w:d,h:p,radius:l}),t.fill()):t.fillRect(c,f,d,p)}}function LB(t,e){const{ctx:r,options:{pointLabels:n}}=t;for(let i=e-1;i>=0;i--){const a=t._pointLabelItems[i];if(!a.visible)continue;const s=n.setContext(t.getPointLabelContext(i));IB(r,s,a);const o=Nl(s.font),{x:l,y:u,textAlign:c}=a;Gd(r,t._pointLabels[i],l,u+o.lineHeight/2,o,{color:s.color,textAlign:c,textBaseline:"middle"})}}function qS(t,e,r,n){const{ctx:i}=t;if(r)i.arc(t.xCenter,t.yCenter,e,0,Hn);else{let a=t.getPointPosition(0,e);i.moveTo(a.x,a.y);for(let s=1;s<n;s++)a=t.getPointPosition(s,e),i.lineTo(a.x,a.y)}}function RB(t,e,r,n,i){const a=t.ctx,s=e.circular,{color:o,lineWidth:l}=e;!s&&!n||!o||!l||r<0||(a.save(),a.strokeStyle=o,a.lineWidth=l,a.setLineDash(i.dash||[]),a.lineDashOffset=i.dashOffset,a.beginPath(),qS(t,r,s,n),a.closePath(),a.stroke(),a.restore())}function OB(t,e,r){return wo(t,{label:r,index:e,type:"pointLabel"})}class pf extends Kd{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=xa(A1(this.options)/2),r=this.width=this.maxWidth-e.width,n=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+r/2+e.left),this.yCenter=Math.floor(this.top+n/2+e.top),this.drawingArea=Math.floor(Math.min(r,n)/2)}determineDataLimits(){const{min:e,max:r}=this.getMinMax(!1);this.min=xr(e)&&!isNaN(e)?e:0,this.max=xr(r)&&!isNaN(r)?r:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/A1(this.options))}generateTickLabels(e){Kd.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((r,n)=>{const i=gr(this.options.pointLabels.callback,[r,n],this);return i||i===0?i:""}).filter((r,n)=>this.chart.getDataVisibility(n))}fit(){const e=this.options;e.display&&e.pointLabels.display?kB(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,r,n,i){this.xCenter+=Math.floor((e-r)/2),this.yCenter+=Math.floor((n-i)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,r,n,i))}getIndexAngle(e){const r=Hn/(this._pointLabels.length||1),n=this.options.startAngle||0;return Fn(e*r+Ua(n))}getDistanceFromCenterForValue(e){if(qt(e))return NaN;const r=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*r:(e-this.min)*r}getValueForDistanceFromCenter(e){if(qt(e))return NaN;const r=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-r:this.min+r}getPointLabelContext(e){const r=this._pointLabels||[];if(e>=0&&e<r.length){const n=r[e];return OB(this.getContext(),e,n)}}getPointPosition(e,r,n=0){const i=this.getIndexAngle(e)-jn+n;return{x:Math.cos(i)*r+this.xCenter,y:Math.sin(i)*r+this.yCenter,angle:i}}getPointPositionForValue(e,r){return this.getPointPosition(e,this.getDistanceFromCenterForValue(r))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:r,top:n,right:i,bottom:a}=this._pointLabelItems[e];return{left:r,top:n,right:i,bottom:a}}drawBackground(){const{backgroundColor:e,grid:{circular:r}}=this.options;if(e){const n=this.ctx;n.save(),n.beginPath(),qS(this,this.getDistanceFromCenterForValue(this._endValue),r,this._pointLabels.length),n.closePath(),n.fillStyle=e,n.fill(),n.restore()}}drawGrid(){const e=this.ctx,r=this.options,{angleLines:n,grid:i,border:a}=r,s=this._pointLabels.length;let o,l,u;if(r.pointLabels.display&&LB(this,s),i.display&&this.ticks.forEach((c,f)=>{if(f!==0||f===0&&this.min<0){l=this.getDistanceFromCenterForValue(c.value);const d=this.getContext(f),p=i.setContext(d),g=a.setContext(d);RB(this,p,l,s,g)}}),n.display){for(e.save(),o=s-1;o>=0;o--){const c=n.setContext(this.getPointLabelContext(o)),{color:f,lineWidth:d}=c;!d||!f||(e.lineWidth=d,e.strokeStyle=f,e.setLineDash(c.borderDash),e.lineDashOffset=c.borderDashOffset,l=this.getDistanceFromCenterForValue(r.reverse?this.min:this.max),u=this.getPointPosition(o,l),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(u.x,u.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,r=this.options,n=r.ticks;if(!n.display)return;const i=this.getIndexAngle(0);let a,s;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(i),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((o,l)=>{if(l===0&&this.min>=0&&!r.reverse)return;const u=n.setContext(this.getContext(l)),c=Nl(u.font);if(a=this.getDistanceFromCenterForValue(this.ticks[l].value),u.showLabelBackdrop){e.font=c.string,s=e.measureText(o.label).width,e.fillStyle=u.backdropColor;const f=xa(u.backdropPadding);e.fillRect(-s/2-f.left,-a-c.size/2-f.top,s+f.width,c.size+f.height)}Gd(e,o.label,0,-a,c,{color:u.color,strokeColor:u.textStrokeColor,strokeWidth:u.textStrokeWidth})}),e.restore()}drawTitle(){}}Le(pf,"id","radialLinear"),Le(pf,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Gh.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}}),Le(pf,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),Le(pf,"descriptors",{angleLines:{_fallback:"grid"}});const Kh={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Pn=Object.keys(Kh);function db(t,e){return t-e}function hb(t,e){if(qt(e))return null;const r=t._adapter,{parser:n,round:i,isoWeekday:a}=t._parseOpts;let s=e;return typeof n=="function"&&(s=n(s)),xr(s)||(s=typeof n=="string"?r.parse(s,n):r.parse(s)),s===null?null:(i&&(s=i==="week"&&(Ic(a)||a===!0)?r.startOf(s,"isoWeek",a):r.startOf(s,i)),+s)}function pb(t,e,r,n){const i=Pn.length;for(let a=Pn.indexOf(t);a<i-1;++a){const s=Kh[Pn[a]],o=s.steps?s.steps:Number.MAX_SAFE_INTEGER;if(s.common&&Math.ceil((r-e)/(o*s.size))<=n)return Pn[a]}return Pn[i-1]}function NB(t,e,r,n,i){for(let a=Pn.length-1;a>=Pn.indexOf(r);a--){const s=Pn[a];if(Kh[s].common&&t._adapter.diff(i,n,s)>=e-1)return s}return Pn[r?Pn.indexOf(r):0]}function zB(t){for(let e=Pn.indexOf(t)+1,r=Pn.length;e<r;++e)if(Kh[Pn[e]].common)return Pn[e]}function gb(t,e,r){if(!r)t[e]=!0;else if(r.length){const{lo:n,hi:i}=w2(r,e),a=r[n]>=e?r[n]:r[i];t[a]=!0}}function BB(t,e,r,n){const i=t._adapter,a=+i.startOf(e[0].value,n),s=e[e.length-1].value;let o,l;for(o=a;o<=s;o=+i.add(o,1,n))l=r[o],l>=0&&(e[l].major=!0);return e}function mb(t,e,r){const n=[],i={},a=e.length;let s,o;for(s=0;s<a;++s)o=e[s],i[o]=s,n.push({value:o,major:!1});return a===0||!r?n:BB(t,n,i,r)}class Qd extends Xl{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,r={}){const n=e.time||(e.time={}),i=this._adapter=new NN._date(e.adapters.date);i.init(r),Ju(n.displayFormats,i.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(e),this._normalized=r.normalized}parse(e,r){return e===void 0?null:hb(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,r=this._adapter,n=e.time.unit||"day";let{min:i,max:a,minDefined:s,maxDefined:o}=this.getUserBounds();function l(u){!s&&!isNaN(u.min)&&(i=Math.min(i,u.min)),!o&&!isNaN(u.max)&&(a=Math.max(a,u.max))}(!s||!o)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),i=xr(i)&&!isNaN(i)?i:+r.startOf(Date.now(),n),a=xr(a)&&!isNaN(a)?a:+r.endOf(Date.now(),n)+1,this.min=Math.min(i,a-1),this.max=Math.max(i+1,a)}_getLabelBounds(){const e=this.getLabelTimestamps();let r=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return e.length&&(r=e[0],n=e[e.length-1]),{min:r,max:n}}buildTicks(){const e=this.options,r=e.time,n=e.ticks,i=n.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const a=this.min,s=this.max,o=dO(i,a,s);return this._unit=r.unit||(n.autoSkip?pb(r.minUnit,this.min,this.max,this._getLabelCapacity(a)):NB(this,o.length,r.minUnit,this.min,this.max)),this._majorUnit=!n.major.enabled||this._unit==="year"?void 0:zB(this._unit),this.initOffsets(i),e.reverse&&o.reverse(),mb(this,o,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let r=0,n=0,i,a;this.options.offset&&e.length&&(i=this.getDecimalForValue(e[0]),e.length===1?r=1-i:r=(this.getDecimalForValue(e[1])-i)/2,a=this.getDecimalForValue(e[e.length-1]),e.length===1?n=a:n=(a-this.getDecimalForValue(e[e.length-2]))/2);const s=e.length<3?.5:.25;r=sa(r,0,s),n=sa(n,0,s),this._offsets={start:r,end:n,factor:1/(r+1+n)}}_generate(){const e=this._adapter,r=this.min,n=this.max,i=this.options,a=i.time,s=a.unit||pb(a.minUnit,r,n,this._getLabelCapacity(r)),o=Bt(i.ticks.stepSize,1),l=s==="week"?a.isoWeekday:!1,u=Ic(l)||l===!0,c={};let f=r,d,p;if(u&&(f=+e.startOf(f,"isoWeek",l)),f=+e.startOf(f,u?"day":s),e.diff(n,r,s)>1e5*o)throw new Error(r+" and "+n+" are too far apart with stepSize of "+o+" "+s);const g=i.ticks.source==="data"&&this.getDataTimestamps();for(d=f,p=0;d<n;d=+e.add(d,o,s),p++)gb(c,d,g);return(d===n||i.bounds==="ticks"||p===1)&&gb(c,d,g),Object.keys(c).sort(db).map(y=>+y)}getLabelForValue(e){const r=this._adapter,n=this.options.time;return n.tooltipFormat?r.format(e,n.tooltipFormat):r.format(e,n.displayFormats.datetime)}format(e,r){const i=this.options.time.displayFormats,a=this._unit,s=r||i[a];return this._adapter.format(e,s)}_tickFormatFunction(e,r,n,i){const a=this.options,s=a.ticks.callback;if(s)return gr(s,[e,r,n],this);const o=a.time.displayFormats,l=this._unit,u=this._majorUnit,c=l&&o[l],f=u&&o[u],d=n[r],p=u&&f&&d&&d.major;return this._adapter.format(e,i||(p?f:c))}generateTickLabels(e){let r,n,i;for(r=0,n=e.length;r<n;++r)i=e[r],i.label=this._tickFormatFunction(i.value,r,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const r=this._offsets,n=this.getDecimalForValue(e);return this.getPixelForDecimal((r.start+n)*r.factor)}getValueForPixel(e){const r=this._offsets,n=this.getDecimalForPixel(e)/r.factor-r.end;return this.min+n*(this.max-this.min)}_getLabelSize(e){const r=this.options.ticks,n=this.ctx.measureText(e).width,i=Ua(this.isHorizontal()?r.maxRotation:r.minRotation),a=Math.cos(i),s=Math.sin(i),o=this._resolveTickFontOptions(0).size;return{w:n*a+o*s,h:n*s+o*a}}_getLabelCapacity(e){const r=this.options.time,n=r.displayFormats,i=n[r.unit]||n.millisecond,a=this._tickFormatFunction(e,0,mb(this,[e],this._majorUnit),i),s=this._getLabelSize(a),o=Math.floor(this.isHorizontal()?this.width/s.w:this.height/s.h)-1;return o>0?o:1}getDataTimestamps(){let e=this._cache.data||[],r,n;if(e.length)return e;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(r=0,n=i.length;r<n;++r)e=e.concat(i[r].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let r,n;if(e.length)return e;const i=this.getLabels();for(r=0,n=i.length;r<n;++r)e.push(hb(this,i[r]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return pO(e.sort(db))}}Le(Qd,"id","time"),Le(Qd,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function gf(t,e,r){let n=0,i=t.length-1,a,s,o,l;r?(e>=t[n].pos&&e<=t[i].pos&&({lo:n,hi:i}=Ys(t,"pos",e)),{pos:a,time:o}=t[n],{pos:s,time:l}=t[i]):(e>=t[n].time&&e<=t[i].time&&({lo:n,hi:i}=Ys(t,"time",e)),{time:a,pos:o}=t[n],{time:s,pos:l}=t[i]);const u=s-a;return u?o+(l-o)*(e-a)/u:o}class vb extends Qd{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),r=this._table=this.buildLookupTable(e);this._minPos=gf(r,this.min),this._tableRange=gf(r,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:r,max:n}=this,i=[],a=[];let s,o,l,u,c;for(s=0,o=e.length;s<o;++s)u=e[s],u>=r&&u<=n&&i.push(u);if(i.length<2)return[{time:r,pos:0},{time:n,pos:1}];for(s=0,o=i.length;s<o;++s)c=i[s+1],l=i[s-1],u=i[s],Math.round((c+l)/2)!==u&&a.push({time:u,pos:s/(o-1)});return a}_generate(){const e=this.min,r=this.max;let n=super.getDataTimestamps();return(!n.includes(e)||!n.length)&&n.splice(0,0,e),(!n.includes(r)||n.length===1)&&n.push(r),n.sort((i,a)=>i-a)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const r=this.getDataTimestamps(),n=this.getLabelTimestamps();return r.length&&n.length?e=this.normalize(r.concat(n)):e=r.length?r:n,e=this._cache.all=e,e}getDecimalForValue(e){return(gf(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const r=this._offsets,n=this.getDecimalForPixel(e)/r.factor-r.end;return gf(this._table,n*this._tableRange+this._minPos,!0)}}Le(vb,"id","timeseries"),Le(vb,"defaults",Qd.defaults);const HS="label";function yb(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function FB(t,e){const r=t.options;r&&e&&Object.assign(r,e)}function VS(t,e){t.labels=e}function US(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:HS;const n=[];t.datasets=e.map(i=>{const a=t.datasets.find(s=>s[r]===i[r]);return!a||!i.data||n.includes(a)?{...i}:(n.push(a),Object.assign(a,i),a)})}function $B(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:HS;const r={labels:[],datasets:[]};return VS(r,t.labels),US(r,t.datasets,e),r}function jB(t,e){const{height:r=150,width:n=300,redraw:i=!1,datasetIdKey:a,type:s,data:o,options:l,plugins:u=[],fallbackContent:c,updateMode:f,...d}=t,p=Q.useRef(null),g=Q.useRef(null),y=()=>{p.current&&(g.current=new o0(p.current,{type:s,data:$B(o,a),options:l&&{...l},plugins:u}),yb(e,g.current))},b=()=>{yb(e,null),g.current&&(g.current.destroy(),g.current=null)};return Q.useEffect(()=>{!i&&g.current&&l&&FB(g.current,l)},[i,l]),Q.useEffect(()=>{!i&&g.current&&VS(g.current.config.data,o.labels)},[i,o.labels]),Q.useEffect(()=>{!i&&g.current&&o.datasets&&US(g.current.config.data,o.datasets,a)},[i,o.datasets]),Q.useEffect(()=>{g.current&&(i?(b(),setTimeout(y)):g.current.update(f))},[i,l,o.labels,o.datasets,f]),Q.useEffect(()=>{g.current&&(b(),setTimeout(y))},[s]),Q.useEffect(()=>(y(),()=>b()),[]),dt.createElement("canvas",{ref:p,role:"img",height:r,width:n,...d},c)}const qB=Q.forwardRef(jB);function HB(t,e){return o0.register(e),Q.forwardRef((r,n)=>dt.createElement(qB,{...r,ref:n,type:t}))}const WS=HB("scatter",vl),GS=(t,e,r,n)=>{if(t.length===0)return{prediction:"undecided",neighbors:[]};const{xMin:i,xMax:a,yMin:s,yMax:o}=e,l=t.map(y=>{const b=Math.sqrt(Math.pow((y.x-r.x)/(a-i),2)+Math.pow((y.y-r.y)/(o-s),2));return{...y,distance:b}});l.sort((y,b)=>y.distance-b.distance);const u=l.slice(0,n),c={};u.forEach(y=>{y.label&&(c[y.label]=(c[y.label]||0)+1)});const f=Object.entries(c).sort(([,y],[,b])=>b-y);if(f.length===0)return{prediction:"undecided",neighbors:u};const d=f[0][1],p=f.filter(([,y])=>y===d);let g="";return p.length>1?g="undecided":g=f[0][0],{prediction:g,neighbors:u}},VB=(t,e,r,n)=>{const{xMin:i,xMax:a,yMin:s,yMax:o}=e,l=[];return[...Array(r).keys()].forEach(u=>{const c=i+u*(a-i)/(r-1);l[u]=[],[...Array(r).keys()].forEach(f=>{const d=s+f*(o-s)/(r-1);l[u][f]=GS(t,e,{x:c,y:d},n).prediction})}),l};o0.register(vl,Zd,ic,la,jS);const Io={xMin:0,xMax:1024,yMin:0,yMax:20},UB=({k:t,fruitStyles:e,fruitData:r,inferDatapoint:n,showDecisionBorder:i,chartRef:a})=>{const{t:s}=Xt(),o=100,l=Q.useMemo(()=>r.map(g=>({x:g.color[1],y:g.length,label:g.label})),[r]),u=Q.useMemo(()=>i?VB(l,Io,o,t):null,[i,l,t]),c=Q.useMemo(()=>{if(!u)return null;const g=document.createElement("canvas");g.width=o,g.height=o;const y=g.getContext("2d");if(!y)return null;for(let b=0;b<o;b++)for(let x=0;x<o;x++){const w=u[b][x];y.fillStyle=e[w].fillColor,y.fillRect(b,o-1-x,1,1)}return g},[u,e]),f=g=>{const y={x:g.color[1],y:g.length},{neighbors:b,prediction:x}=GS(l,Io,y,t);return[{label:"lines",data:b.flatMap(_=>[{x:y.x,y:y.y,emoji:null},{x:_.x,y:_.y,emoji:null}]),showLine:!0,pointRadius:0,borderColor:"#080808"},{label:"infer",data:[{x:y.x,y:y.y,emoji:e[x].emoji}],showLine:!1,pointRadius:0}]},d=Q.useMemo(()=>({datasets:[{label:"fruits",data:r.map(g=>({x:g.color[1],y:g.length,emoji:e[g.label].emoji||null})),showLine:!1,pointRadius:0,pointBackgroundColor:"rgb(112, 112, 112)",pointHoverRadius:20,pointHoverBackgroundColor:"rgba(112, 112, 112, 0.5)"},...n?f(n):[]]}),[r,e,n,t,l]),p=Q.useMemo(()=>({aspectRatio:1,responsive:!0,maintainAspectRatio:!0,events:[],layout:{padding:{right:10}},scales:{x:{min:Io.xMin,max:Io.xMax,ticks:{display:!1},grid:{display:!1},title:{display:!0,text:s("FruitPredictor.xAxisTitle"),padding:{top:30},font:{size:16}}},y:{min:Io.yMin,max:Io.yMax,title:{display:!0,text:s("FruitPredictor.yAxisTitle"),font:{size:16}}}},animation:!1,plugins:{decision_border_plugin:{decisionBorderBitmap:c,fruitStyles:e,show:i}}}),[s,c,e,i]);return z.jsx(WS,{id:"fruit-predictor-scatter",ref:a,data:d,options:p,plugins:[YB,GB,XB,KB]})};function WB(t,e,r,n,i,a){const s=Math.min(a,n/2,i/2);t.beginPath(),t.moveTo(e+s,r),t.lineTo(e+n-s,r),t.quadraticCurveTo(e+n,r,e+n,r+s),t.lineTo(e+n,r+i-s),t.quadraticCurveTo(e+n,r+i,e+n-s,r+i),t.lineTo(e+s,r+i),t.quadraticCurveTo(e,r+i,e,r+i-s),t.lineTo(e,r+s),t.quadraticCurveTo(e,r,e+s,r),t.closePath()}const GB={id:"gradient_scale_plugin",afterDraw:t=>{const{ctx:e,scales:r}=t,n=r.x,i=r.y,a=e.createLinearGradient(n.left,i.bottom,n.right,i.bottom);a.addColorStop(0,"rgb(255, 0, 0)"),a.addColorStop(1,"rgb(255, 255, 0)");const s=n.left,o=i.bottom+10,l=n.width,u=20,c=5;e.save(),e.fillStyle=a,WB(e,s,o,l,u,c),e.fill(),e.strokeStyle="black",e.lineWidth=1,e.stroke(),e.restore()}},YB={id:"emojiPlugin",afterDatasetsDraw:t=>{const{ctx:e,data:r}=t;r.datasets.forEach((n,i)=>{const a=t.getDatasetMeta(i),s=n,o="20px sans-serif";e.save(),e.fillStyle="rgba(255, 255, 255, 1)",e.font=o,e.textAlign="center",e.textBaseline="middle",s.data.forEach((l,u)=>{const{emoji:c}=l,f=a.data[u];if(c&&f){const{x:d,y:p}=f;e.fillText(c,d,p)}}),e.restore()})}},XB={id:"decision_border_plugin",beforeDraw(t,e,r){const{ctx:n,scales:i}=t,a=r==null?void 0:r.show,s=r==null?void 0:r.decisionBorderBitmap;if(!a||!s)return;const{x:o,y:l}=i;n.save(),n.imageSmoothingEnabled=!1,n.drawImage(s,o.left,l.top,o.width,l.height),n.restore()}},KB={id:"lastGridLinePlugin",beforeDatasetsDraw(t){const{ctx:e,scales:{x:r,y:n}}=t;e.save(),e.lineWidth=1,e.beginPath(),e.moveTo(r.getPixelForValue(r.max),n.top),e.lineTo(r.getPixelForValue(r.max),n.bottom),e.strokeStyle="#e6e6e6",e.stroke(),e.restore()}},yl=({value:t,required:e=!1,label:r,name:n,disabled:i=!1,placeholder:a="",minValue:s,maxValue:o,stepDevisor:l=1,writeValue:u,onChange:c,onMouseUp:f,fullWidth:d})=>{const p=y=>{c(y.target.value/l)},g=y=>{f&&f(y.target.value/l)};return z.jsxs(QB,{$fullWidth:d,children:[z.jsxs(ZB,{children:[r,u&&`: ${t}`]}),z.jsx(JB,{type:"range",id:n,value:t*l,placeholder:a,required:e,disabled:i,onChange:p,onMouseUp:g,min:s*l,max:o*l}),z.jsx(eF,{children:s}),z.jsx(tF,{children:o})]})},ZB=Ee.span.withConfig({displayName:"SliderInput__Label",componentId:"sc-1vzzvek-0"})(["font-family:var(--main-font);font-weight:700;font-size:18px;line-height:24px;position:absolute;left:0px;top:-5px;"]),QB=Ee.label.withConfig({displayName:"SliderInput__Field",componentId:"sc-1vzzvek-1"})(["flex:1;display:block;position:relative;border-radius:5px;padding:25px 0 25px 0;font-style:normal;font-weight:normal;font-size:16px;line-height:24px;width:",";&:focus{outline:none;}"],({$fullWidth:t})=>t?"100%":"auto"),JB=Ee.input.withConfig({displayName:"SliderInput__Input",componentId:"sc-1vzzvek-2"})(['appearance:none;border:none;background:transparent;width:100%;&:focus{outline:none;}&[type="range"]{appearance:none;-webkit-appearance:none;height:7px;border-radius:5px;background:',";&::-webkit-slider-thumb{-webkit-appearance:none;height:20px;width:20px;border-radius:50%;background:",";border:1px solid ",";cursor:pointer;box-shadow:0 0 2px 0 #555;&:hover{box-shadow:#5a5a5a50 0px 0px 0px 4px;}&:active{box-shadow:#5a5a5a50 0px 0px 0px 6px;transition:box-shadow 350ms cubic-bezier(0.4,0,0.2,1) 0ms,left 350ms cubic-bezier(0.4,0,0.2,1) 0ms,bottom 350ms cubic-bezier(0.4,0,0.2,1) 0ms;}}&::-webkit-slider-runnable-track{-webkit-appearance:none;box-shadow:none;border:none;background:transparent;}}"],({theme:t})=>t.gray,()=>"#fff",({theme:t})=>t.gray),eF=Ee.span.withConfig({displayName:"SliderInput__MinValue",componentId:"sc-1vzzvek-3"})(["font-style:normal;font-weight:bold;font-size:14px;line-height:24px;position:absolute;left:0;bottom:-5px;"]),tF=Ee.span.withConfig({displayName:"SliderInput__MaxValue",componentId:"sc-1vzzvek-4"})(["font-style:normal;font-weight:bold;font-size:14px;line-height:24px;position:absolute;right:0;bottom:-5px;"]),Oc=({text:t,value:e,handleChange:r})=>z.jsxs(rF,{children:[!!t&&z.jsx(Ae.Text,{children:t}),z.jsx(nF,{type:"checkbox",onChange:r,checked:e}),z.jsx(YS,{})]}),rF=Ee.label.withConfig({displayName:"SwitchInput__Label",componentId:"sc-m2je7z-0"})(["display:flex;align-items:center;justify-content:flex-start;gap:10px;cursor:pointer;p{font-weight:700;}"]),YS=Ee.div.withConfig({displayName:"SwitchInput__Switch",componentId:"sc-m2je7z-1"})(["position:relative;width:45px;height:24px;background:",';border-radius:26px;padding:2px;transition:all 300ms ease;margin:10px 0;&:before{transition:300ms all;content:"";position:absolute;width:20px;height:20px;border-radius:50%;top:50%;left:4px;background:white;transform:translate(0,-50%);box-shadow:0 0 2px 0 #555;}'],({theme:t})=>t.gray),nF=Ee.input.withConfig({displayName:"SwitchInput__Input",componentId:"sc-m2je7z-2"})(["display:none;&:checked + ","{background:",";&:before{transform:translate(18px,-50%);}}"],YS,({theme:t})=>t.black),L2=({label:t,segments:e,handleSelectOption:r,currentId:n,disabled:i=!1})=>z.jsxs(iF,{children:[!!t&&z.jsx(Ae.Text,{children:t}),z.jsx(aF,{disabled:i,children:e.map(a=>z.jsx(sF,{$active:n===a.id,onClick:()=>r(a.id),children:z.jsx("p",{children:a.text})},a.id))})]}),iF=Ee.div.withConfig({displayName:"SegmentedControl__Wrapper",componentId:"sc-zeeqvp-0"})(["display:flex;flex-direction:column;width:100%;& > p{font-weight:600;}"]),aF=Ee.div.withConfig({displayName:"SegmentedControl__SegmentControlContainer",componentId:"sc-zeeqvp-1"})(["display:flex;width:100%;max-width:100%;border:1px solid ",";border-radius:5px;overflow:hidden;background-color:",";cursor:",";"],({theme:t})=>t.gray,({theme:t})=>t.lightGray,({disabled:t})=>t?"not-allowed":"pointer"),sF=Ee.div.withConfig({displayName:"SegmentedControl__Segment",componentId:"sc-zeeqvp-2"})(["flex:1;padding:10px 20px;font-size:16px;font-weight:",";color:",";background:transparent;border:none;background-color:",";&:focus{outline:none;}border-radius:5px;transition:all 0.4s ease;& > p{text-align:center;}"],({$active:t})=>t?"700":"400",({theme:t,$active:e})=>e?"white":t.black,({theme:t,$active:e})=>e?t.black:"transparent"),XS=["train","infer"],ns=["A","B","C","D","E","F"],qi=({options:t,currentOptionId:e,opened:r=void 0,width:n="100%",handleOptionSelect:i,handleClick:a})=>{var c;const[s,o]=Q.useState(!1),l=f=>{a===void 0&&o(!1),i(f)};Q.useEffect(()=>{r!==void 0&&o(r)},[r]);const u=r===void 0?s:r;return z.jsxs(oF,{width:n,children:[z.jsxs(lF,{onClick:a||(()=>o(f=>!f)),$open:u,children:[((c=t.find(f=>f.id===e))==null?void 0:c.text)||"",z.jsx(fF,{$open:u,children:z.jsx(w_,{})})]}),z.jsx(uF,{$open:u,children:t.filter(f=>f.id!==e).map(f=>z.jsx(cF,{onClick:()=>l(f.id),$active:f.id===e,children:f.text},f.id))})]})},oF=Ee.div.withConfig({displayName:"DropDown__Wrapper",componentId:"sc-ro5qnn-0"})(["width:",";border-radius:5px;box-shadow:0 2px 5px rgba(0,0,0,0.1);background-color:white;position:relative;font-family:var(--main-font);font-size:16px;max-width:100%;"],({width:t})=>t),lF=Ee.div.withConfig({displayName:"DropDown__Header",componentId:"sc-ro5qnn-1"})(["padding:5px 10px;cursor:pointer;display:flex;column-gap:20px;justify-content:space-between;align-items:center;border:1px solid ",";border-radius:5px;border-bottom-right-radius:",";border-bottom-left-radius:",";border-bottom:1px solid ",";"],({theme:t})=>t.darkGray,({$open:t})=>t?"0":"5px",({$open:t})=>t?"0":"5px",({$open:t,theme:e})=>t?"transparent":e.darkGray),uF=Ee.ul.withConfig({displayName:"DropDown__Body",componentId:"sc-ro5qnn-2"})(["border:1px solid ",";display:",";position:absolute;background-color:white;border-bottom-left-radius:10px;border-bottom-right-radius:10px;z-index:100;width:100%;"],({theme:t})=>t.darkGray,({$open:t})=>t?"block":"none"),cF=Ee.li.withConfig({displayName:"DropDown__Item",componentId:"sc-ro5qnn-3"})(["padding:5px 10px;list-style:none;border-bottom:1px solid ",";&:last-of-type{border:none;}&:hover{cursor:pointer;}"],({theme:t})=>t.gray),fF=Ee.div.withConfig({displayName:"DropDown__IconBlock",componentId:"sc-ro5qnn-4"})(["display:flex;align-items:center;justify-content:center;& > svg{fill:",";transition:all 0.2s ease-in-out;transform:",";}"],({theme:t})=>t.darkGray,({$open:t})=>t?"rotate(0deg)":"rotate(90deg)"),Sr=(t,e)=>{if(typeof window>"u")return e;try{const r=window.localStorage.getItem(t);if(r===null)return e;const n=JSON.parse(r);return Array.isArray(n)?n.map(i=>Array.isArray(i)?i.map(a=>a==="__undefined__"?void 0:a):i):n==="__undefined__"?void 0:n}catch(r){return console.warn("Error reading localStorage key "+t+": ",r),e}},R2=({children:t,$active:e,handleClose:r})=>z.jsxs(dF,{$active:e,children:[z.jsxs(pF,{children:[z.jsx(gF,{children:t}),z.jsx(mF,{onClick:r,children:z.jsx(lA,{})})]}),z.jsx(hF,{onClick:r})]}),dF=Ee.div.withConfig({displayName:"PopupLayout__Wrapper",componentId:"sc-132m6af-0"})(["visibility:hidden;opacity:0;position:relative;z-index:300;transition:0.3s;",""],({$active:t})=>t&&`
      opacity: 1;
      visibility: visible;
    `),hF=Ee.div.withConfig({displayName:"PopupLayout__Darkener",componentId:"sc-132m6af-1"})(["position:fixed;width:100%;height:100%;top:0;left:0;z-index:1;background-color:rgba(0,0,0,0.4);"]),pF=Ee.div.withConfig({displayName:"PopupLayout__Content",componentId:"sc-132m6af-2"})(["position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);z-index:2;background:",";border-radius:10px;width:630px;box-sizing:border-box;overflow-y:auto;max-height:90vh;&::-webkit-scrollbar{display:none;}@media (max-width:600px){width:75%;}@media (max-width:500px){width:95%;}@media (max-height:700px){max-height:95vh;}@media (max-height:600px){max-height:90vh;}"],({theme:t})=>t.bodyBackground),gF=Ee.div.withConfig({displayName:"PopupLayout__Main",componentId:"sc-132m6af-3"})(["position:relative;padding:39px 30px 30px;background-color:#fff;@media (max-width:400px){padding:25px 19px 19px;}@media (max-width:350px){padding:21px 16px 16px;}"]),mF=Ee.div.withConfig({displayName:"PopupLayout__Cross",componentId:"sc-132m6af-4"})(["position:absolute;top:26px;right:30px;background-color:#fff;border-radius:50%;cursor:pointer;& > svg{fill:",";transition:all 0.2s ease-in-out;width:24px;height:24px;}@media (max-width:1200px){padding:11px;top:20px;right:28px;}@media (max-width:500px){padding:10px;top:18px;right:26px;}@media (max-width:400px){top:14px;right:22px;}@media (max-width:350px){padding:9px;top:12px;right:16px;}"],({theme:t})=>t.black),vF=({active:t,handleClose:e,fruitPredictorSettings:r,setFruitPredictorSettings:n})=>{const{t:i}=Xt();return z.jsx(R2,{$active:t,handleClose:e,children:z.jsxs(z.Fragment,{children:[z.jsx(Ae.H3,{children:i("Settings.title")}),z.jsxs(xb,{children:[z.jsx(Ae.Text,{children:i("Settings.distanceSensorPort")}),z.jsx(qi,{options:ns.map(a=>({id:a,text:a})),currentOptionId:r.distanceSensorPort,handleOptionSelect:a=>n(s=>({...s,distanceSensorPort:a})),width:"100px"})]}),z.jsxs(xb,{children:[z.jsx(Ae.Text,{children:i("Settings.colorSensorPort")}),z.jsx(qi,{options:ns.map(a=>({id:a,text:a})),currentOptionId:r.colorSensorPort,handleOptionSelect:a=>n(s=>({...s,colorSensorPort:a})),width:"100px"})]})]})})},xb=Ee.div.withConfig({displayName:"FruitPredictorSettingsPopup__Row",componentId:"sc-1vryjip-0"})(["display:flex;column-gap:15px;align-items:center;"]);var yF={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function xF(t){if(typeof t=="number")return{value:t,unit:"px"};var e,r=(t.match(/^[0-9.]*/)||"").toString();r.includes(".")?e=parseFloat(r):e=parseInt(r,10);var n=(t.match(/[^0-9]*$/)||"").toString();return yF[n]?{value:e,unit:n}:(console.warn("React Spinners: ".concat(t," is not a valid css value. Defaulting to ").concat(e,"px.")),{value:e,unit:"px"})}function mf(t){var e=xF(t);return"".concat(e.value).concat(e.unit)}var bF=function(t,e,r){var n="react-spinners-".concat(t,"-").concat(r);if(typeof window>"u"||!window.document)return n;var i=document.createElement("style");document.head.appendChild(i);var a=i.sheet,s=`
    @keyframes `.concat(n,` {
      `).concat(e,`
    }
  `);return a&&a.insertRule(s,0),n},Jd=globalThis&&globalThis.__assign||function(){return Jd=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Jd.apply(this,arguments)},wF=globalThis&&globalThis.__rest||function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r},_F=bF("ScaleLoader","0% {transform: scaley(1.0)} 50% {transform: scaley(0.4)} 100% {transform: scaley(1.0)}","scale");function SF(t){var e=t.loading,r=e===void 0?!0:e,n=t.color,i=n===void 0?"#000000":n,a=t.speedMultiplier,s=a===void 0?1:a,o=t.cssOverride,l=o===void 0?{}:o,u=t.height,c=u===void 0?35:u,f=t.width,d=f===void 0?4:f,p=t.radius,g=p===void 0?2:p,y=t.margin,b=y===void 0?2:y,x=wF(t,["loading","color","speedMultiplier","cssOverride","height","width","radius","margin"]),w=Jd({display:"inherit"},l),_=function(k){return{backgroundColor:i,width:mf(d),height:mf(c),margin:mf(b),borderRadius:mf(g),display:"inline-block",animation:"".concat(_F," ").concat(1/s,"s ").concat(k*.1,"s infinite cubic-bezier(0.2, 0.68, 0.18, 1.08)"),animationFillMode:"both"}};return r?Q.createElement("span",Jd({style:w},x),Q.createElement("span",{style:_(1)}),Q.createElement("span",{style:_(2)}),Q.createElement("span",{style:_(3)}),Q.createElement("span",{style:_(4)}),Q.createElement("span",{style:_(5)})):null}/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var I1=function(t,e){return I1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},I1(t,e)};function kF(t,e){I1(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var TF=100,EF=100,bb=50,L1=50,R1=50;function wb(t){var e=t.className,r=t.counterClockwise,n=t.dashRatio,i=t.pathRadius,a=t.strokeWidth,s=t.style;return Q.createElement("path",{className:e,style:Object.assign({},s,MF({pathRadius:i,dashRatio:n,counterClockwise:r})),d:CF({pathRadius:i,counterClockwise:r}),strokeWidth:a,fillOpacity:0})}function CF(t){var e=t.pathRadius,r=t.counterClockwise,n=e,i=r?1:0;return`
      M `+L1+","+R1+`
      m 0,-`+n+`
      a `+n+","+n+" "+i+" 1 1 0,"+2*n+`
      a `+n+","+n+" "+i+" 1 1 0,-"+2*n+`
    `}function MF(t){var e=t.counterClockwise,r=t.dashRatio,n=t.pathRadius,i=Math.PI*2*n,a=(1-r)*i;return{strokeDasharray:i+"px "+i+"px",strokeDashoffset:(e?-a:a)+"px"}}var PF=function(t){kF(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getBackgroundPadding=function(){return this.props.background?this.props.backgroundPadding:0},e.prototype.getPathRadius=function(){return bb-this.props.strokeWidth/2-this.getBackgroundPadding()},e.prototype.getPathRatio=function(){var r=this.props,n=r.value,i=r.minValue,a=r.maxValue,s=Math.min(Math.max(n,i),a);return(s-i)/(a-i)},e.prototype.render=function(){var r=this.props,n=r.circleRatio,i=r.className,a=r.classes,s=r.counterClockwise,o=r.styles,l=r.strokeWidth,u=r.text,c=this.getPathRadius(),f=this.getPathRatio();return Q.createElement("svg",{className:a.root+" "+i,style:o.root,viewBox:"0 0 "+TF+" "+EF,"data-test-id":"CircularProgressbar"},this.props.background?Q.createElement("circle",{className:a.background,style:o.background,cx:L1,cy:R1,r:bb}):null,Q.createElement(wb,{className:a.trail,counterClockwise:s,dashRatio:n,pathRadius:c,strokeWidth:l,style:o.trail}),Q.createElement(wb,{className:a.path,counterClockwise:s,dashRatio:f*n,pathRadius:c,strokeWidth:l,style:o.path}),u?Q.createElement("text",{className:a.text,style:o.text,x:L1,y:R1},u):null)},e.defaultProps={background:!1,backgroundPadding:0,circleRatio:1,classes:{root:"CircularProgressbar",trail:"CircularProgressbar-trail",path:"CircularProgressbar-path",text:"CircularProgressbar-text",background:"CircularProgressbar-background"},counterClockwise:!1,className:"",maxValue:100,minValue:0,strokeWidth:8,styles:{root:{},trail:{},path:{},text:{},background:{}},text:""},e}(Q.Component);const ua=({text:t,icon:e,onClick:r,variant:n="outlined",active:i=!0,loading:a=!1,type:s,loadingProgress:o})=>{const l=o2();return z.jsxs(DF,{onClick:r,$active:i,$variant:n,type:s,children:[!!e&&!a&&e,!!a&&(o===void 0?z.jsx(SF,{color:n==="filled"?"#ffffff":l.black,width:2,height:12,margin:1}):z.jsx(PF,{value:o,circleRatio:1,strokeWidth:12,styles:{root:{width:"20px",height:"20px"},path:{stroke:l.black},trail:{stroke:l.gray,transition:"stroke-dashoffset 0.5s ease 0s"}}})),!!t&&z.jsx(AF,{$variant:n,children:t})]})},DF=Ee.button.withConfig({displayName:"Button__Wrapper",componentId:"sc-roscls-0"})(["min-width:100px;border-radius:5px;background-color:",";display:flex;align-items:center;justify-content:center;cursor:",";padding:10px 20px;column-gap:10px;border:",";flex:0 1 auto;& > svg{fill:",";flex-shrink:0;}& > p{flex-shrink:0;}"],({$variant:t,theme:e})=>t==="filled"?e.black:"white",({$active:t})=>t?"pointer":"not-allowed",({$variant:t,theme:e})=>t==="outlined"?`1px solid ${e.black};`:"none",({$variant:t,theme:e})=>t==="outlined"?e.black:"white"),AF=Ee.p.withConfig({displayName:"Button__Text",componentId:"sc-roscls-1"})(["font-size:16px;font-weight:bold;color:",";"],({$variant:t,theme:e})=>t==="filled"?"white":e.black),O1=({children:t})=>z.jsxs(IF,{children:[z.jsx(LF,{children:z.jsx(fA,{})}),z.jsxs(Ae.Text,{children:[" ",t]})]}),IF=Ee.div.withConfig({displayName:"WarningBlock__Wrapper",componentId:"sc-s6n3x4-0"})(["background-color:rgb(255,250,225);margin:20px 0;border:1px solid rgb(165,140,0);border-radius:5px;padding:5px 20px;display:flex;align-items:center;justify-content:flex-start;gap:15px;"]),LF=Ee.div.withConfig({displayName:"WarningBlock__IconWrapper",componentId:"sc-s6n3x4-1"})(["width:25px;height:25px;& > svg{fill:rgb(165,140,0);width:25px;height:25px;}"]),vr=({to:t,children:e,icon:r})=>z.jsxs(RF,{href:t,target:"_blank",children:[!!r&&r,e]}),RF=Ee.a.withConfig({displayName:"InTextLink__Wrapper",componentId:"sc-rmsuhv-0"})(['position:relative;display:inline-flex;&::before{content:"";position:absolute;left:0;display:block;bottom:0;width:100%;border-bottom:2px dotted currentColor;}& > p{width:auto;}']),O2=({code:t,onStart:e})=>{const[r,n]=Q.useState(0),{t:i}=Xt(),{connect:a,disconnect:s,connectionStatus:o,codeStatus:l,startProgram:u,stopProgram:c}=Wh(),f=async()=>{l==="on"&&await c(),l==="off"&&await u({code:t,onStart:e,onProgress:d=>n(d)})};return navigator.bluetooth?z.jsxs(OF,{children:[z.jsx(ua,{onClick:o==="open"?s:a,text:i(`HubInteraction.portState.${o}`),icon:o==="closed"&&z.jsx(tA,{})||o==="open"&&z.jsx(rA,{}),loading:["closing","opening"].includes(o)}),o==="open"&&z.jsx(ua,{onClick:f,text:i(l==="on"?"HubInteraction.stopCode":"HubInteraction.launchCode"),icon:l==="off"&&z.jsx(b_,{})||l==="on"&&z.jsx(nA,{}),loading:l==="uploading",loadingProgress:r})]}):z.jsx(O1,{children:z.jsxs(Ae.Text,{children:[i("HubInteraction.troubleshootingText.part1"),z.jsx(vr,{to:"/#/troubleshooting",children:i("HubInteraction.troubleshootingText.link")})]})})},OF=Ee.div.withConfig({displayName:"BLEConnector__Wrapper",componentId:"sc-17e7yyk-0"})(["display:flex;column-gap:10px;row-gap:10px;margin:20px 0;align-items:center;@media (max-width:425px){flex-direction:column;align-items:stretch;}"]),NF=()=>`
import runloop, hub, json

class Eventer:
    def __init__(self):
        self.__subscribers = {}
        self.__queue = []

    def subscribe(self, event_name, callback):
        if event_name not in self.__subscribers:
            self.__subscribers[event_name] = []
        self.__subscribers[event_name].append(callback)

    def emit(self, event_name):
        # Instead of recursive calls, just queue the event
        self.__queue.append(event_name)

    async def process(self):
        while self.__queue:
            event_name = self.__queue.pop(0)
            runloop.run(*[callback() for callback in self.__subscribers[event_name]])

    def is_queue_non_empty(self):
        return bool(self.__queue)

eventer = Eventer()

class Messenger():
    def __init__(self, tunnel):
        self.__tunnel = tunnel
        self.__queue = []
        self.__is_sending = False
        self.__buffer = []

        self.__BANDWIDTH = 8192 // 16
        self.__MAX_PACKET_SIZE = 509 # assume it's always default
        # [max message size] = [max packet size] - [number of bytes for storing message code, length, frameId, totalFrames]
        self.__MAX_MESSAGE_SIZE = self.__MAX_PACKET_SIZE - 5 # 1 for ID, 2 for length, 1 for frameId, 1 for frameTotal


    def __queue_message(self, message):
        # encoding the message
        encoded_full_message = message.encode('utf-8')

        chunks = [
            encoded_full_message[i:i + self.__MAX_MESSAGE_SIZE]
            for i in range(0, len(encoded_full_message), self.__MAX_MESSAGE_SIZE)
        ]

        total_frames = len(chunks)

        frames = [
            bytes([frame_id, total_frames]) + chunk
            for frame_id, chunk in enumerate(chunks)
        ]

        self.__queue.extend(frames)

    def send_object(self, obj):
        stringified_object = json.dumps(obj)
        self.__queue_message(stringified_object)
        eventer.emit("process_message_queue")

    def init_message_listener(self, message_handler):
        def process_chunk(data):
            data_bytes = bytes(data)
            if len(data_bytes) < 2:
                return

            frame_id = data_bytes[0]
            total_frames = data_bytes[1]
            chunk = data_bytes[2:]

            self.__buffer.append(chunk)

            if len(self.__buffer) == total_frames:
                full_message = b"".join(self.__buffer)
                self.__buffer = []

                try:
                    decoded_message = full_message.decode('utf-8')
                    message_handler(json.loads(decoded_message))
                except:
                    print("Undecodable messages received")

        self.__tunnel.callback(process_chunk)
        
    def announce_start(self):
        self.send_object({"action": "program_start", "payload": {}})


    async def process_queue(self):
        if self.__is_sending:
            return

        if not self.__queue:
            return

        self.__is_sending = True

        if self.__queue:
            data = self.__queue.pop(0)
            size = len(data) + 3

            # Calculate wait time based on the message size
            wait_ms = size * 1_000 // self.__BANDWIDTH

            self.__tunnel.send(data)
            await runloop.sleep_ms(wait_ms)

        self.__is_sending = False
        eventer.emit("process_message_queue")

tunnel = hub.config["module_tunnel"]
messenger = Messenger(tunnel)

eventer.subscribe("process_message_queue", messenger.process_queue)


class EventListener:
    def __init__(self, condition_func, callback):
        self.__condition_func = condition_func
        self.__callback = callback
        self.__last_condition = False# Track previous condition

    async def listen(self):
        while True:
            current_condition = self.__condition_func()

            # Trigger callback only when condition starts returning True
            if current_condition and not self.__last_condition:
                await self.__callback()

            self.__last_condition = current_condition
            await runloop.sleep_ms(50)

def is_left_button_clicked():
    return bool(hub.button.pressed(hub.button.LEFT))

async def on_left_button_click():
    print("yay")
    messenger.send_object({"action": "ping", "payload": {}})

left_button_click_listener = EventListener(is_left_button_clicked, on_left_button_click)

events_listener = EventListener(eventer.is_queue_non_empty, eventer.process)

def handle_tunnel_message(message):
    print("message with following action received: ", message["action"])

messenger.init_message_listener(handle_tunnel_message)
messenger.announce_start()

runloop.run(left_button_click_listener.listen(), events_listener.listen())


`,zF=({distanceSensorPort:t,smallMotorPort:e,smallMotorSpeed:r,bigMotorPort:n,bigMotorSpeed:i})=>`
import runloop, hub, json, math, random

class Eventer:
    def __init__(self):
        self.__subscribers = {}
        self.__queue = []

    def subscribe(self, event_name, callback):
        if event_name not in self.__subscribers:
            self.__subscribers[event_name] = []
        self.__subscribers[event_name].append(callback)

    def emit(self, event_name):
        # Instead of recursive calls, just queue the event
        self.__queue.append(event_name)

    async def process(self):
        while self.__queue:
            event_name = self.__queue.pop(0)
            runloop.run(*[callback() for callback in self.__subscribers[event_name]])

    def is_queue_non_empty(self):
        return bool(self.__queue)

eventer = Eventer()

class Messenger():
    def __init__(self, tunnel):
        self.__tunnel = tunnel
        self.__queue = []
        self.__is_sending = False
        self.__buffer = []

        self.__BANDWIDTH = 8192 // 16
        self.__MAX_PACKET_SIZE = 509 # assume it's always default
        # [max message size] = [max packet size] - [number of bytes for storing message code, length, frameId, totalFrames]
        self.__MAX_MESSAGE_SIZE = self.__MAX_PACKET_SIZE - 5 # 1 for ID, 2 for length, 1 for frameId, 1 for frameTotal


    def __queue_message(self, message):
        # encoding the message
        encoded_full_message = message.encode('utf-8')

        chunks = [
            encoded_full_message[i:i + self.__MAX_MESSAGE_SIZE]
            for i in range(0, len(encoded_full_message), self.__MAX_MESSAGE_SIZE)
        ]

        total_frames = len(chunks)

        frames = [
            bytes([frame_id, total_frames]) + chunk
            for frame_id, chunk in enumerate(chunks)
        ]

        self.__queue.extend(frames)

    def send_object(self, obj):
        stringified_object = json.dumps(obj)
        self.__queue_message(stringified_object)
        eventer.emit("process_message_queue")

    def init_message_listener(self, message_handler):
        def process_chunk(data):
            data_bytes = bytes(data)
            if len(data_bytes) < 2:
                return

            frame_id = data_bytes[0]
            total_frames = data_bytes[1]
            chunk = data_bytes[2:]

            self.__buffer.append(chunk)

            if len(self.__buffer) == total_frames:
                full_message = b"".join(self.__buffer)
                self.__buffer = []
                
                try:
                    decoded_message = full_message.decode('utf-8')
                    message_handler(json.loads(decoded_message))
                except Exception as e:
                    print("error received ", e)

        self.__tunnel.callback(process_chunk)
        
    def announce_start(self):
        self.send_object({"action": "program_start", "payload": {}})


    async def process_queue(self):
        if self.__is_sending:
            return

        if not self.__queue:
            return

        self.__is_sending = True

        if self.__queue:
            data = self.__queue.pop(0)
            size = len(data) + 3

            # Calculate wait time based on the message size
            wait_ms = size * 1_000 // self.__BANDWIDTH

            self.__tunnel.send(data)
            await runloop.sleep_ms(wait_ms)

        self.__is_sending = False
        eventer.emit("process_message_queue")

tunnel = hub.config["module_tunnel"]
messenger = Messenger(tunnel)

eventer.subscribe("process_message_queue", messenger.process_queue)


class EventListener:
    def __init__(self, condition_func, callback):
        self.__condition_func = condition_func
        self.__callback = callback
        self.__last_condition = False# Track previous condition

    async def listen(self):
        while True:
            current_condition = self.__condition_func()

            # Trigger callback only when condition starts returning True
            if current_condition and not self.__last_condition:
                await self.__callback()

            self.__last_condition = current_condition
            await runloop.sleep_ms(50)

from hub import light_matrix, port
import distance_sensor


DISTANCE_SENSOR_PORT = port.${t}
BIG_MOTOR_PORT = port.${n}
SMALL_MOTOR_PORT = port.${e}
SMALL_MOTOR_SPEED = math.floor(${r} * 1110 / 100)
BIG_MOTOR_SPEED = math.floor(${i} * 1050 / 100)

HAPPY_EMOTION = [100, 100, 0, 100, 100, 100, 100, 0, 100, 100, 0, 0, 0, 0, 0, 100, 0, 0, 0, 100, 0, 100, 100, 100, 0]
SAD_EMOTION = [100, 100, 0, 100, 100, 100, 100, 0, 100, 100, 0, 0, 0, 0, 0, 0, 100, 100, 100, 0, 100, 0, 0, 0, 100]
NEUTRAL_EMOTION = [100, 100, 0, 100, 100, 100, 100, 0, 100, 100, 0, 0, 0, 0, 0, 0, 100, 100, 100, 0, 0, 0, 0, 0, 0]

def show_emotion(emotion_array):
    light_matrix.show(emotion_array)


def get_distance_measurement():
    try:
        return math.floor(distance_sensor.distance(DISTANCE_SENSOR_PORT) / 10)
    except:
        return -1

def is_distance_ok():
    sensor_value = get_distance_measurement()

    if sensor_value <= 20:
        messenger.send_object({"action": "too_close", "payload": {}})
        return False
    if sensor_value >= 150:
        messenger.send_object({"action": "too_far", "payload": {}})
        return False

    return True

class QLearner:
    def __init__(self):
        self.motor_positions = [(0, 0), (290, 40), (330, 250), (60, 250)]
        self.q_table = [
            [0 if i != j else None for j in range((len(self.motor_positions)))]
            for i in range(len(self.motor_positions))
        ]
        self.reward_table = [
            [None for _ in range((len(self.motor_positions)))]
            for _ in range(len(self.motor_positions))
        ]
        self.current_state = 0
        self.alpha = 1
        self.gamma = 1
        self.epsilon = 0
        self.current_action = None
        self.action_fulfillment = ["unpicked", "unpicked"]
        self.before_action_distance = 0
        self.wait_before_next_move = True
        self.paused = False

    def reset_experiment(self):
        self.q_table = [
            [0 if i != j else None for j in range((len(self.motor_positions)))]
            for i in range(len(self.motor_positions))
        ]
        self.reward_table = [
            [None for _ in range((len(self.motor_positions)))]
            for _ in range(len(self.motor_positions))
        ]
        self.current_state = 0
        self.current_action = None
        self.action_fulfillment = ["unpicked", "unpicked"]
        self.paused = True
        self.gamma = 0
        self.epsilon = 0

    def pick_action(self):
        if self.current_action is not None:
            return

        if random.random() < self.epsilon:
            action_type = "exploration"
            valid_actions = [a for a in range(4) if a != self.current_state]
            
            # Just so that the training process doesn't last eternity until the crawler fills all None's
            actions_with_none_reward = [
                a for a in valid_actions if self.reward_table[self.current_state][a] is None
            ]
            
            if actions_with_none_reward:
                # If there are actions with None reward, pick one of them
                action = random.choice(actions_with_none_reward)
            else:
                # Otherwise, choose a random valid action
                action = random.choice(valid_actions)
        else:
            action_type = "exploitation"
            # Exploit: choose the best action(s) from Q-table
            state_actions = self.q_table[self.current_state]
            # Get (action, q_value) for all valid actions
            valid_actions = [
                (a, q)
                for a, q in enumerate(state_actions)
                if q is not None and a != self.current_state
            ]
            max_q = max(q for _, q in valid_actions)
            action = min([a for a, q in valid_actions if q == max_q])
        

        self.current_action = action
        self.action_fulfillment = ["picked", "picked"]
        messenger.send_object(
            {
                "action": "action_update",
                "payload": {
                    "action": self.current_action,
                    "status": "picked",
                    "type": action_type,
                },
            }
        )

    def assign_reward(self):
        prev_state = self.current_state
        prev_action = self.current_action

        # Independent from the sensor reading, the current state is new and the current action is None'd (in case sensor fails to read)
        self.current_state = self.current_action
        self.current_action = None
        self.action_fulfillment = ["unpicked", "unpicked"]

        sensor_value = get_distance_measurement()

        reward = sensor_value - self.before_action_distance

        if reward > 0:
            eventer.emit("show_happy")
        elif reward < 0:
            eventer.emit("show_sad")
        elif reward == 0:
            eventer.emit("show_neutral")
        
        self.reward_table[prev_state][prev_action] = reward
        current_q = self.q_table[prev_state][prev_action]

        # Find the maximum Q-value for the next state
        max_next_q = max(
            [q for q in self.q_table[prev_action] if q is not None], default=0
        )

        # Update Q-value using the Q-learning formula
        new_q = (1 - self.alpha) * current_q + self.alpha * (
            reward + self.gamma * max_next_q
        )
        self.q_table[prev_state][prev_action] = new_q

        messenger.send_object(
            {
                "action": "action_update",
                "payload": {"status": "unpicked"},
            }
        )
        messenger.send_object(
            {
                "action": "tables_update",
                "payload": {
                    "state": prev_state,
                    "action": prev_action,
                    "reward": reward,
                    "q": new_q,
                },
            }
        )

    def set_action_fulfillment(self, limb_ix, new_status):
        self.action_fulfillment[limb_ix] = new_status

        if (
            self.action_fulfillment[0] == "done"
            and self.action_fulfillment[1] == "done"
        ):
            eventer.emit("action_done")

    def do_action(self):
        if self.current_action is None:
            return

        sensor_value = get_distance_measurement()

        messenger.send_object(
            {
                "action": "action_update",
                "payload": {"action": self.current_action, "status": "started"},
            }
        )
        self.before_action_distance = sensor_value
        eventer.emit("move_limbs")



q_learner = QLearner()

import motor

async def reset_motors():
    await motor.run_to_absolute_position(BIG_MOTOR_PORT, q_learner.motor_positions[q_learner.current_state][0], BIG_MOTOR_SPEED)
    await motor.run_to_absolute_position(SMALL_MOTOR_PORT, q_learner.motor_positions[q_learner.current_state][1], SMALL_MOTOR_SPEED)


async def main_run():
    await reset_motors()

    if not is_distance_ok():
        return

    if q_learner.wait_before_next_move:
        q_learner.paused = True

    if not q_learner.paused:
        q_learner.do_action()

async def continue_run():
    q_learner.paused = False

    if q_learner.current_action is None:
        q_learner.pick_action()

    if not is_distance_ok():
        return
    
    q_learner.do_action()

async def move_limb1_handler():
    q_learner.set_action_fulfillment(0, "started")
    await motor.run_to_absolute_position(BIG_MOTOR_PORT, q_learner.motor_positions[q_learner.current_action][0], BIG_MOTOR_SPEED)
    q_learner.set_action_fulfillment(0, "done")

async def move_limb2_handler():
    q_learner.set_action_fulfillment(1, "started")
    await motor.run_to_absolute_position(SMALL_MOTOR_PORT, q_learner.motor_positions[q_learner.current_action][1], SMALL_MOTOR_SPEED)
    q_learner.set_action_fulfillment(1, "done")

from hub import motion_sensor

async def action_done_callback():
    messenger.send_object(
        {
            "action": "action_update",
            "payload": {"action": q_learner.current_action, "status": "done"},
        }
    )

    stable_time = 0
    while stable_time < 500:
        gyro_value = motion_sensor.angular_velocity(False)
        if all(v == 0 for v in gyro_value):
            await runloop.sleep_ms(50)
            stable_time += 50
        else:
            stable_time = 0

    messenger.send_object({"action": "state_update", "payload": {"state": q_learner.current_action}})

    q_learner.assign_reward()

    q_learner.pick_action()

    if not is_distance_ok():
        return
    
    if q_learner.wait_before_next_move:
        q_learner.paused = True

    if not q_learner.paused:
        q_learner.do_action()

async def reset():
    q_learner.reset_experiment()
    await reset_motors()

async def show_sad():
    show_emotion(SAD_EMOTION)

async def show_happy():
    show_emotion(HAPPY_EMOTION)

async def show_neutral():
    show_emotion(NEUTRAL_EMOTION)

eventer.subscribe("start_main", main_run)
eventer.subscribe("move_limbs", move_limb1_handler)
eventer.subscribe("move_limbs", move_limb2_handler)
eventer.subscribe("action_done", action_done_callback)
eventer.subscribe("continue", continue_run)
eventer.subscribe("reset", reset)
eventer.subscribe("show_happy", show_happy)
eventer.subscribe("show_sad", show_sad)
eventer.subscribe("show_neutral", show_neutral)



def is_right_button_clicked():
    return bool(hub.button.pressed(hub.button.RIGHT))

right_button_click_listener = EventListener(is_right_button_clicked, continue_run)

events_listener = EventListener(eventer.is_queue_non_empty, eventer.process)

def handle_tunnel_message(message):
    if "action" not in message:
        return

    action = message["action"]

    if action == "wait_before_next_move_update":
        q_learner.wait_before_next_move = message["payload"]["wait_before_next_move"]

    elif action == "continue":
        eventer.emit("continue")

    elif action == "pause":
        q_learner.paused = True

    elif action == "reset":
        eventer.emit("reset")

    elif action == "epsilon_update":
        q_learner.epsilon = message["payload"]["epsilon"]

    elif action == "think_future_update":
        q_learner.gamma = int(message["payload"]["think_future"])

    elif action == "code_start":
        q_learner.epsilon = message["payload"]["epsilon"]
        q_learner.q_table = [
            [None if i == j else val for j, val in enumerate(row)]
            for i, row in enumerate(message["payload"]["q_table"])
        ]
        q_learner.wait_before_next_move = message["payload"]["wait_before_next_move"]
        q_learner.current_state = message["payload"]["current_state"] if isinstance(message["payload"]["current_state"], int) else 0
        q_learner.paused = True
        q_learner.gamma = int(message["payload"]["think_future"])
        eventer.emit("start_main")
        
    elif action == "move_to":
        q_learner.epsilon = message["payload"]["epsilon"]
        q_learner.q_table = [
            [None if i == j else val for j, val in enumerate(row)]
            for i, row in enumerate(message["payload"]["q_table"])
        ]
        q_learner.wait_before_next_move = message["payload"]["wait_before_next_move"]
        q_learner.current_state = message["payload"]["current_state"] if isinstance(message["payload"]["current_state"], int) else 0
        q_learner.paused = True
        q_learner.gamma = int(message["payload"]["think_future"])
        eventer.emit("start_main")

    else:
        return


messenger.init_message_listener(handle_tunnel_message)
messenger.announce_start()

runloop.run(right_button_click_listener.listen(), events_listener.listen())

`,BF=({distanceSensorPort:t,colorSensorPort:e})=>`

import runloop, hub, json

class Eventer:
    def __init__(self):
        self.__subscribers = {}
        self.__queue = []

    def subscribe(self, event_name, callback):
        if event_name not in self.__subscribers:
            self.__subscribers[event_name] = []
        self.__subscribers[event_name].append(callback)

    def emit(self, event_name):
        # Instead of recursive calls, just queue the event
        self.__queue.append(event_name)

    async def process(self):
        while self.__queue:
            event_name = self.__queue.pop(0)
            runloop.run(*[callback() for callback in self.__subscribers[event_name]])

    def is_queue_non_empty(self):
        return bool(self.__queue)

eventer = Eventer()

class Messenger():
    def __init__(self, tunnel):
        self.__tunnel = tunnel
        self.__queue = []
        self.__is_sending = False
        self.__buffer = []

        self.__BANDWIDTH = 8192 // 16
        self.__MAX_PACKET_SIZE = 509 # assume it's always default
        # [max message size] = [max packet size] - [number of bytes for storing message code, length, frameId, totalFrames]
        self.__MAX_MESSAGE_SIZE = self.__MAX_PACKET_SIZE - 5 # 1 for ID, 2 for length, 1 for frameId, 1 for frameTotal


    def __queue_message(self, message):
        # encoding the message
        encoded_full_message = message.encode('utf-8')

        chunks = [
            encoded_full_message[i:i + self.__MAX_MESSAGE_SIZE]
            for i in range(0, len(encoded_full_message), self.__MAX_MESSAGE_SIZE)
        ]

        total_frames = len(chunks)

        frames = [
            bytes([frame_id, total_frames]) + chunk
            for frame_id, chunk in enumerate(chunks)
        ]

        self.__queue.extend(frames)

    def send_object(self, obj):
        stringified_object = json.dumps(obj)
        self.__queue_message(stringified_object)
        eventer.emit("process_message_queue")

    def init_message_listener(self, message_handler):
        def process_chunk(data):
            data_bytes = bytes(data)
            if len(data_bytes) < 2:
                return

            frame_id = data_bytes[0]
            total_frames = data_bytes[1]
            chunk = data_bytes[2:]

            self.__buffer.append(chunk)

            if len(self.__buffer) == total_frames:
                full_message = b"".join(self.__buffer)
                self.__buffer = []

                try:
                    decoded_message = full_message.decode('utf-8')
                    message_handler(json.loads(decoded_message))
                except:
                    print("Undecodable messages received")

        self.__tunnel.callback(process_chunk)
        
    def announce_start(self):
        self.send_object({"action": "program_start", "payload": {}})


    async def process_queue(self):
        if self.__is_sending:
            return

        if not self.__queue:
            return

        self.__is_sending = True

        if self.__queue:
            data = self.__queue.pop(0)
            size = len(data) + 3

            # Calculate wait time based on the message size
            wait_ms = size * 1_000 // self.__BANDWIDTH

            self.__tunnel.send(data)
            await runloop.sleep_ms(wait_ms)

        self.__is_sending = False
        eventer.emit("process_message_queue")

tunnel = hub.config["module_tunnel"]
messenger = Messenger(tunnel)

eventer.subscribe("process_message_queue", messenger.process_queue)


class EventListener:
    def __init__(self, condition_func, callback):
        self.__condition_func = condition_func
        self.__callback = callback
        self.__last_condition = False# Track previous condition

    async def listen(self):
        while True:
            current_condition = self.__condition_func()

            # Trigger callback only when condition starts returning True
            if current_condition and not self.__last_condition:
                await self.__callback()

            self.__last_condition = current_condition
            await runloop.sleep_ms(50)


from hub import port

DISTANCE_SENSOR_PORT = port.${t}
COLOR_SENSOR_PORT = port.${e}

import distance_sensor, color_sensor
from hub import light_matrix

def get_distance_measurement():
    try:
        return distance_sensor.distance(DISTANCE_SENSOR_PORT) / 10
    except:
        return None

def get_color_measurement():
    try:
        return color_sensor.rgbi(COLOR_SENSOR_PORT)
    except:
        return None

def feature_distance(dp1, dp2):
    return ((dp1["len"] - dp2["len"]) / 20) ** 2 + (
        (dp1["color"][1] - dp2["color"][1]) / 1024
    ) ** 2


def most_common_label(labels):
    label_count = {}
    for label in labels:
        label_count[label] = label_count.get(label, 0) + 1
    return max(label_count, key=label_count.get)

class KNN:
    def __init__(self):
        self.mode = "train"
        self.data = []
        self.current_class = None
        self.cache = {"color": None, "len": None}
        self.current_id = 0
        self.k = 3
        self.class_names = {}

    def change_mode(self, new_mode):
        self.mode = new_mode

    def change_current_class(self, new_current_class, class_name):
        self.current_class = new_current_class
        self.class_names[new_current_class] = class_name

    def check_and_add_dp(self):
        if self.cache["color"] is None or self.cache["len"] is None:
            return
        data_obj = {
            "id": str(self.current_id),
            "len": self.cache["len"],
            "color": self.cache["color"],
            "label": self.current_class,
        }
        self.current_id += 1
        self.data.append(data_obj)
        self.clean_cache()
        messenger.send_object({"action": "add_point", "payload": data_obj})

    def log_color(self, value):
        self.cache["color"] = value

    def log_length(self, value):
        self.cache["len"] = value

    def check_and_infer(self):
        if self.cache["color"] is None or self.cache["len"] is None:
            return
        new_data_obj = {"len": self.cache["len"], "color": self.cache["color"]}
        distances = []
        for dp in self.data:
            dist = feature_distance(new_data_obj, dp)
            distances.append((dist, dp["label"], dp["id"]))
        distances.sort(key=lambda x: x[0])
        nearest_neighbors = distances[: self.k]
        neighbor_ids = [neighbor[2] for neighbor in nearest_neighbors]
        neighbor_labels = [neighbor[1] for neighbor in nearest_neighbors]
        predicted_label = most_common_label(neighbor_labels)
        data_obj = {
            "predicted_label": predicted_label,
            "nearest_neighbors": neighbor_ids,
            "len": new_data_obj["len"],
            "color": new_data_obj["color"],
        }
        messenger.send_object({"action": "inference_result", "payload": data_obj})
        self.clean_cache()

        return (
            self.class_names[predicted_label]
            if predicted_label in self.class_names
            else predicted_label
        )

    def clean_cache(self):
        self.log_color(None)
        self.log_length(None)
        self.light_up_matrix()

    def delete_datapoint(self, dp_id):
        self.data = [dp for dp in self.data if dp["id"] != dp_id]

    def change_datapoint_label(self, dp_id, new_label):
        for dp in self.data:
            if dp["id"] == dp_id:
                dp["label"] = new_label
                break

    def change_k(self, new_k):
        self.k = new_k

    def light_up_matrix(self):
        light_matrix.clear()

        if self.cache["len"] is not None:
            light_matrix.set_pixel(0, 4, 100)

        if self.cache["color"] is not None:
            light_matrix.set_pixel(4, 4, 100)

knn = KNN()

def is_left_button_clicked():
    return bool(hub.button.pressed(hub.button.LEFT))

async def on_left_button_click():
    sensor_value = get_distance_measurement()
    if sensor_value is None or sensor_value >= 21:
        return

    if knn.mode == "train":
        if knn.current_class is None:
            await light_matrix.write("No class selected")
            knn.light_up_matrix()
            return
        knn.log_length(sensor_value)
        knn.check_and_add_dp()

    elif knn.mode == "infer":
        knn.log_length(sensor_value)
        predicted_label = knn.check_and_infer()
        if predicted_label is not None:
            await light_matrix.write(predicted_label)

    knn.light_up_matrix()

def is_right_button_clicked():
    return bool(hub.button.pressed(hub.button.RIGHT))

async def on_right_button_click():
    sensor_value = get_color_measurement()
    if sensor_value is None:
        return

    if knn.mode == "train":
        if knn.current_class is None:
            await light_matrix.write("No class selected") # TODO: add translations
            knn.light_up_matrix()
            return
        knn.log_color(sensor_value)
        knn.check_and_add_dp()

    elif knn.mode == "infer":
        knn.log_color(sensor_value)
        predicted_label = knn.check_and_infer()
        if predicted_label is not None:
            await light_matrix.write(predicted_label)

    knn.light_up_matrix()

left_button_click_listener = EventListener(is_left_button_clicked, on_left_button_click)
right_button_click_listener = EventListener(is_right_button_clicked, on_right_button_click)

events_listener = EventListener(eventer.is_queue_non_empty, eventer.process)

def handle_tunnel_message(message):
    if "action" not in message:
        return

    action = message["action"]

    if action == "change_class":
        knn.change_current_class(message["payload"]["class"], message["payload"]["class_name"])

    elif action == "change_mode":
        new_mode = message["payload"]["mode"]
        if knn.mode == new_mode:
            return
        knn.change_mode(message["payload"]["mode"])

    elif action == "delete_datapoint":
        knn.delete_datapoint(message["payload"]["id"])

    elif action == "change_datapoint_label":
        knn.change_datapoint_label(message["payload"]["id"], message["payload"]["new_label"])

    elif action == "change_k":
        knn.change_k(message["payload"]["k"])

    elif action == "startup_functionality":
        knn.change_current_class(message["payload"]["class"], message["payload"]["class_name"])
        knn.change_mode(message["payload"]["mode"])
        knn.data = message["payload"]["data"]
        knn.k = message["payload"]["k"]

        # Find the largest "id" in the data
        if len(knn.data) > 0:
            max_id = max(int(item["id"]) for item in knn.data)
        else:
            max_id = -1
        knn.current_id = max_id + 1

    else:
        return

messenger.init_message_listener(handle_tunnel_message)
messenger.announce_start()

runloop.run(left_button_click_listener.listen(), right_button_click_listener.listen(), events_listener.listen())


`,FF=({distanceSensorPort:t,leftMotorPort:e,rightMotorPort:r,isInverted:n})=>`

import runloop, hub, json, math

class Eventer:
    def __init__(self):
        self.__subscribers = {}
        self.__queue = []

    def subscribe(self, event_name, callback):
        if event_name not in self.__subscribers:
            self.__subscribers[event_name] = []
        self.__subscribers[event_name].append(callback)

    def emit(self, event_name):
        # Instead of recursive calls, just queue the event
        self.__queue.append(event_name)

    async def process(self):
        while self.__queue:
            event_name = self.__queue.pop(0)
            runloop.run(*[callback() for callback in self.__subscribers[event_name]])

    def is_queue_non_empty(self):
        return bool(self.__queue)

eventer = Eventer()

class Messenger():
    def __init__(self, tunnel):
        self.__tunnel = tunnel
        self.__queue = []
        self.__is_sending = False
        self.__buffer = []

        self.__BANDWIDTH = 8192 // 16
        self.__MAX_PACKET_SIZE = 509 # assume it's always default
        # [max message size] = [max packet size] - [number of bytes for storing message code, length, frameId, totalFrames]
        self.__MAX_MESSAGE_SIZE = self.__MAX_PACKET_SIZE - 5 # 1 for ID, 2 for length, 1 for frameId, 1 for frameTotal


    def __queue_message(self, message):
        # encoding the message
        encoded_full_message = message.encode('utf-8')

        chunks = [
            encoded_full_message[i:i + self.__MAX_MESSAGE_SIZE]
            for i in range(0, len(encoded_full_message), self.__MAX_MESSAGE_SIZE)
        ]

        total_frames = len(chunks)

        frames = [
            bytes([frame_id, total_frames]) + chunk
            for frame_id, chunk in enumerate(chunks)
        ]

        self.__queue.extend(frames)

    def send_object(self, obj):
        stringified_object = json.dumps(obj)
        self.__queue_message(stringified_object)
        eventer.emit("process_message_queue")

    def init_message_listener(self, message_handler):
        def process_chunk(data):
            data_bytes = bytes(data)
            if len(data_bytes) < 2:
                return

            frame_id = data_bytes[0]
            total_frames = data_bytes[1]
            chunk = data_bytes[2:]

            self.__buffer.append(chunk)

            if len(self.__buffer) == total_frames:
                full_message = b"".join(self.__buffer)
                self.__buffer = []

                try:
                    decoded_message = full_message.decode('utf-8')
                    message_handler(json.loads(decoded_message))
                except:
                    print("Undecodable messages received")

        self.__tunnel.callback(process_chunk)
        
    def announce_start(self):
        self.send_object({"action": "program_start", "payload": {}})


    async def process_queue(self):
        if self.__is_sending:
            return

        if not self.__queue:
            return

        self.__is_sending = True

        if self.__queue:
            data = self.__queue.pop(0)
            size = len(data) + 3

            # Calculate wait time based on the message size
            wait_ms = size * 1_000 // self.__BANDWIDTH

            self.__tunnel.send(data)
            await runloop.sleep_ms(wait_ms)

        self.__is_sending = False
        eventer.emit("process_message_queue")

tunnel = hub.config["module_tunnel"]
messenger = Messenger(tunnel)

eventer.subscribe("process_message_queue", messenger.process_queue)


class EventListener:
    def __init__(self, condition_func, callback):
        self.__condition_func = condition_func
        self.__callback = callback
        self.__last_condition = False# Track previous condition

    async def listen(self):
        while True:
            current_condition = self.__condition_func()

            # Trigger callback only when condition starts returning True
            if current_condition and not self.__last_condition:
                await self.__callback()

            self.__last_condition = current_condition
            await runloop.sleep_ms(50)

from hub import port

DISTANCE_SENSOR_PORT = port.${t}
LEFT_MOTOR_PORT = port.${e}
RIGHT_MOTOR_PORT = port.${r}
ROTATION_SIGN = ${+!n*2-1}

import distance_sensor


def get_distance_measurement():
    try:
        return distance_sensor.distance(DISTANCE_SENSOR_PORT) / 10
    except:
        return -1

class Pingponger:
    def __init__(self):
        self.mode = "train"
        self.motor_pair = None
        self.data = []
        self.current_id = 0
        self.cache = {"distance": None, "power": None}
        self.best_parameters = [None, None]
        self.current_parameters = [None, None]
        self.infer_distance = None
        self.train_power = 50
        self.is_shooting = False

    def change_mode(self, new_mode):
        self.mode = new_mode
        self.infer_distance = None

    def change_power(self, new_power):
        self.train_power = new_power

    def calc_infer(self):
        pred_power = math.floor(
            self.current_parameters[0] * self.infer_distance
            + self.current_parameters[1]
        )
        if pred_power > 100:
            pred_power = 100
        if pred_power < 20:
            pred_power = 20

        return pred_power

    def log_distance(self, distance):
        self.cache["distance"] = distance

    def log_power(self):
        self.cache["power"] = self.train_power
        return self.cache["power"]

    def check_and_add_dp(self):
        if self.cache["power"] is None or self.cache["distance"] is None:
            return

        data_obj = {
            "id": str(self.current_id),
            "power": self.cache["power"],
            "distance": self.cache["distance"],
        }
        self.current_id += 1
        self.data.append(data_obj)

        self.cache = {"power": None, "distance": None}

        messenger.send_object({"action": "add_point", "payload": data_obj})
        self.recalculate_best_parameters()

    def recalculate_best_parameters(self):
        if len(self.data) < 2:
            return  # Need at least two points to calculate a linear relationship

        distances = [point["distance"] for point in self.data]
        powers = [point["power"] for point in self.data]

        N = len(self.data)
        sum_x = sum(distances)
        sum_y = sum(powers)
        sum_x_squared = sum(x * x for x in distances)
        sum_xy = sum(x * y for x, y in zip(distances, powers))

        slope = (N * sum_xy - sum_x * sum_y) / (N * sum_x_squared - sum_x**2)
        intercept = (sum_y - slope * sum_x) / N

        old_best = self.best_parameters
        self.best_parameters = [slope, intercept]

        if not self.current_parameters[0] or (
            self.current_parameters[0] == old_best[0]
            and self.current_parameters[1] == old_best[1]
        ):
            self.current_parameters = self.best_parameters

    def log_infer_distance(self, logged_distance):
        self.infer_distance = logged_distance
        data_obj = {
            "distance": logged_distance,
        }
        messenger.send_object({"action": "infer_distance", "payload": data_obj})

    def change_parameters(self, parameters):
        self.current_parameters = parameters

    def set_best_parameters(self):
        self.current_parameters = self.best_parameters

    def delete_datapoint(self, dp_id):
        self.data = [dp for dp in self.data if dp["id"] != str(dp_id)]
        self.recalculate_best_parameters()

    def upload_datapoints(self, dps):
        self.data = dps
        self.recalculate_best_parameters()
        self.current_id = len(dps) + 1


pingponger = Pingponger()

import motor_pair

motor_pair.pair(motor_pair.PAIR_1, LEFT_MOTOR_PORT, RIGHT_MOTOR_PORT)

from hub import light_matrix

async def show_no():
    light_matrix.show_image(light_matrix.IMAGE_NO)
    await runloop.sleep_ms(500)
    light_matrix.clear()


def is_left_button_clicked():
    return bool(hub.button.pressed(hub.button.LEFT))

async def on_left_button_click():
    if pingponger.is_shooting:
        return
    if pingponger.mode == "train":
        pingponger.log_power()
        shooting_power = pingponger.train_power

    elif pingponger.mode == "infer":
        if pingponger.infer_distance is None:
            await show_no()
            return
        shooting_power = pingponger.calc_infer()

    pingponger.is_shooting = True
    
    await motor_pair.move_for_degrees(motor_pair.PAIR_1, 360, 0, velocity=int(ROTATION_SIGN * 1110 * shooting_power / 100), acceleration=10000)

    pingponger.is_shooting = False

left_button_click_listener = EventListener(is_left_button_clicked, on_left_button_click)


def is_right_button_clicked():
    return bool(hub.button.pressed(hub.button.RIGHT))

async def on_right_button_click():
    if pingponger.is_shooting:
        return
    sensor_value = get_distance_measurement()
    if sensor_value is None or sensor_value >= 130 or sensor_value <= 5:
        await show_no()
        pingponger.infer_distance = None
        return

    if pingponger.mode == "train":
        pingponger.log_distance(sensor_value)
        pingponger.check_and_add_dp()
    elif pingponger.mode == "infer":
        pingponger.log_infer_distance(sensor_value)

right_button_click_listener = EventListener(is_right_button_clicked, on_right_button_click)

eventer.subscribe("shoot", on_left_button_click)
eventer.subscribe("measure", on_right_button_click)

events_listener = EventListener(eventer.is_queue_non_empty, eventer.process)

def handle_tunnel_message(message):
    if "action" not in message:
        return

    action = message["action"]

    if action == "change_power":
        pingponger.change_power(message["payload"]["power"])

    elif action == "change_mode":
        pingponger.change_mode(message["payload"]["mode"])

    elif action == "delete_datapoint":
        pingponger.delete_datapoint(message["payload"]["id"])

    elif action == "code_start":
        pingponger.change_mode(message["payload"]["mode"])
        pingponger.upload_datapoints(message["payload"]["datapoints"])
        pingponger.change_power(message["payload"]["power"])
        pingponger.infer_distance = message["payload"]["infer_distance"]

    elif action == "pitch_ball":
        eventer.emit("shoot")
    
    elif action == "measure_distance":
        eventer.emit("measure")

    else:
        return

messenger.init_message_listener(handle_tunnel_message)
messenger.announce_start()

runloop.run(left_button_click_listener.listen(), right_button_click_listener.listen(), events_listener.listen())

`,N2={boilerplate:NF,crawler:zF,fruitPredictor:BF,pitcher:FF},$F=({data:t,fruitDropDownOptions:e,handleChangeLabel:r,handleRemoveData:n,handleTableRowHover:i})=>{const{t:a}=Xt(),[s,o]=Q.useState(null);return z.jsxs(jF,{children:[z.jsx(_b,{children:[a("FruitPredictor.yAxisTitle"),a("FruitPredictor.xAxisTitle"),a("FruitPredictor.label"),a("FruitPredictor.delete")].map((l,u)=>z.jsx(qF,{children:l},u))}),z.jsx(HF,{children:t.map(l=>z.jsxs(_b,{onMouseEnter:()=>i(l.id),onMouseLeave:()=>i(null),children:[z.jsx(N1,{children:z.jsx("p",{children:l.length})}),z.jsx(N1,{children:z.jsx(VF,{$color:l.color})}),z.jsx(Sb,{style:{position:"relative"},children:z.jsx(qi,{options:e,currentOptionId:l.label,handleOptionSelect:u=>{r(l.id,u),o(null)},opened:l.id===s,handleClick:()=>o(s===l.id?null:l.id)})}),z.jsx(Sb,{children:z.jsx("p",{onClick:()=>n(l.id),children:""})})]},l.id))})]})},jF=Ee.div.withConfig({displayName:"FruitPredictorTable__TableWrapper",componentId:"sc-z2gly5-0"})(["display:grid;border:1px solid ",";border-radius:5px;font-family:var(--main-font);font-size:16px;font-weight:400;position:relative;"],({theme:t})=>t.black),qF=Ee.span.withConfig({displayName:"FruitPredictorTable__HeaderCell",componentId:"sc-z2gly5-1"})(["display:table-header-group;vertical-align:middle;border-color:inherit;background-color:",";padding:10px 15px;@media (max-width:1600px){padding:10px 10px;}color:white;font-weight:900;"],({theme:t})=>t.black),_b=Ee.div.withConfig({displayName:"FruitPredictorTable__TableRow",componentId:"sc-z2gly5-2"})(["display:grid;position:relative;grid-template-columns:1fr 1fr 1fr 1fr;@media (max-width:1600px){grid-template-columns:1fr 1fr 2fr 1fr;}&:nth-child(odd){background-color:",';}&:nth-child(even){background-color:"white";}&:last-of-type,&:first-of-type{border:none;}'],({theme:t})=>t.gray),HF=Ee.div.withConfig({displayName:"FruitPredictorTable__Body",componentId:"sc-z2gly5-3"})(["overflow-y:auto;max-height:300px;scroll-padding-bottom:50px;margin:1px 0;position:relative;"]),N1=Ee.span.withConfig({displayName:"FruitPredictorTable__TableCell",componentId:"sc-z2gly5-4"})(["text-align:left;padding:5px 15px;display:flex;align-items:center;justify-content:start;"]),VF=Ee.div.withConfig({displayName:"FruitPredictorTable__ColorBox",componentId:"sc-z2gly5-5"})(["width:1px;border:1px solid ",";width:20px;height:20px;background-color:",";border-radius:5px;"],({theme:t})=>t.black,({$color:t})=>`rgb(255, ${t[1]/1024*255}, 0)`),Sb=Ee(N1).withConfig({displayName:"FruitPredictorTable__ClickableCell",componentId:"sc-z2gly5-6"})(["& > p{cursor:pointer;display:inline-block;}"]),ot=t=>typeof t=="string",ku=()=>{let t,e;const r=new Promise((n,i)=>{t=n,e=i});return r.resolve=t,r.reject=e,r},kb=t=>t==null?"":""+t,UF=(t,e,r)=>{t.forEach(n=>{e[n]&&(r[n]=e[n])})},WF=/###/g,Tb=t=>t&&t.indexOf("###")>-1?t.replace(WF,"."):t,Eb=t=>!t||ot(t),ac=(t,e,r)=>{const n=ot(e)?e.split("."):e;let i=0;for(;i<n.length-1;){if(Eb(t))return{};const a=Tb(n[i]);!t[a]&&r&&(t[a]=new r),Object.prototype.hasOwnProperty.call(t,a)?t=t[a]:t={},++i}return Eb(t)?{}:{obj:t,k:Tb(n[i])}},Cb=(t,e,r)=>{const{obj:n,k:i}=ac(t,e,Object);if(n!==void 0||e.length===1){n[i]=r;return}let a=e[e.length-1],s=e.slice(0,e.length-1),o=ac(t,s,Object);for(;o.obj===void 0&&s.length;)a=`${s[s.length-1]}.${a}`,s=s.slice(0,s.length-1),o=ac(t,s,Object),o!=null&&o.obj&&typeof o.obj[`${o.k}.${a}`]<"u"&&(o.obj=void 0);o.obj[`${o.k}.${a}`]=r},GF=(t,e,r,n)=>{const{obj:i,k:a}=ac(t,e,Object);i[a]=i[a]||[],i[a].push(r)},eh=(t,e)=>{const{obj:r,k:n}=ac(t,e);if(r&&Object.prototype.hasOwnProperty.call(r,n))return r[n]},YF=(t,e,r)=>{const n=eh(t,r);return n!==void 0?n:eh(e,r)},KS=(t,e,r)=>{for(const n in e)n!=="__proto__"&&n!=="constructor"&&(n in t?ot(t[n])||t[n]instanceof String||ot(e[n])||e[n]instanceof String?r&&(t[n]=e[n]):KS(t[n],e[n],r):t[n]=e[n]);return t},Lo=t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var XF={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const KF=t=>ot(t)?t.replace(/[&<>"'\/]/g,e=>XF[e]):t;class ZF{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const r=this.regExpMap.get(e);if(r!==void 0)return r;const n=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,n),this.regExpQueue.push(e),n}}const QF=[" ",",","?","!",";"],JF=new ZF(20),e$=(t,e,r)=>{e=e||"",r=r||"";const n=QF.filter(s=>e.indexOf(s)<0&&r.indexOf(s)<0);if(n.length===0)return!0;const i=JF.getRegExp(`(${n.map(s=>s==="?"?"\\?":s).join("|")})`);let a=!i.test(t);if(!a){const s=t.indexOf(r);s>0&&!i.test(t.substring(0,s))&&(a=!0)}return a},z1=function(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!t)return;if(t[e])return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0;const n=e.split(r);let i=t;for(let a=0;a<n.length;){if(!i||typeof i!="object")return;let s,o="";for(let l=a;l<n.length;++l)if(l!==a&&(o+=r),o+=n[l],s=i[o],s!==void 0){if(["string","number","boolean"].indexOf(typeof s)>-1&&l<n.length-1)continue;a+=l-a+1;break}i=s}return i},th=t=>t==null?void 0:t.replace("_","-"),t$={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){var r,n;(n=(r=console==null?void 0:console[t])==null?void 0:r.apply)==null||n.call(r,console,e)}};class rh{constructor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(e,r)}init(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=r.prefix||"i18next:",this.logger=e||t$,this.options=r,this.debug=r.debug}log(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return this.forward(r,"log","",!0)}warn(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return this.forward(r,"warn","",!0)}error(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return this.forward(r,"error","")}deprecate(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return this.forward(r,"warn","WARNING DEPRECATED: ",!0)}forward(e,r,n,i){return i&&!this.debug?null:(ot(e[0])&&(e[0]=`${n}${this.prefix} ${e[0]}`),this.logger[r](e))}create(e){return new rh(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new rh(this.logger,e)}}var Bi=new rh;class Zh{constructor(){this.observers={}}on(e,r){return e.split(" ").forEach(n=>{this.observers[n]||(this.observers[n]=new Map);const i=this.observers[n].get(r)||0;this.observers[n].set(r,i+1)}),this}off(e,r){if(this.observers[e]){if(!r){delete this.observers[e];return}this.observers[e].delete(r)}}emit(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];this.observers[e]&&Array.from(this.observers[e].entries()).forEach(s=>{let[o,l]=s;for(let u=0;u<l;u++)o(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(s=>{let[o,l]=s;for(let u=0;u<l;u++)o.apply(o,[e,...n])})}}class Mb extends Zh{constructor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const r=this.options.ns.indexOf(e);r>-1&&this.options.ns.splice(r,1)}getResource(e,r,n){var u,c;let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const a=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,s=i.ignoreJSONStructure!==void 0?i.ignoreJSONStructure:this.options.ignoreJSONStructure;let o;e.indexOf(".")>-1?o=e.split("."):(o=[e,r],n&&(Array.isArray(n)?o.push(...n):ot(n)&&a?o.push(...n.split(a)):o.push(n)));const l=eh(this.data,o);return!l&&!r&&!n&&e.indexOf(".")>-1&&(e=o[0],r=o[1],n=o.slice(2).join(".")),l||!s||!ot(n)?l:z1((c=(u=this.data)==null?void 0:u[e])==null?void 0:c[r],n,a)}addResource(e,r,n,i){let a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const s=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator;let o=[e,r];n&&(o=o.concat(s?n.split(s):n)),e.indexOf(".")>-1&&(o=e.split("."),i=r,r=o[1]),this.addNamespaces(r),Cb(this.data,o,i),a.silent||this.emit("added",e,r,n,i)}addResources(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const a in n)(ot(n[a])||Array.isArray(n[a]))&&this.addResource(e,r,a,n[a],{silent:!0});i.silent||this.emit("added",e,r,n)}addResourceBundle(e,r,n,i,a){let s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},o=[e,r];e.indexOf(".")>-1&&(o=e.split("."),i=n,n=r,r=o[1]),this.addNamespaces(r);let l=eh(this.data,o)||{};s.skipCopy||(n=JSON.parse(JSON.stringify(n))),i?KS(l,n,a):l={...l,...n},Cb(this.data,o,l),s.silent||this.emit("added",e,r,n)}removeResourceBundle(e,r){this.hasResourceBundle(e,r)&&delete this.data[e][r],this.removeNamespaces(r),this.emit("removed",e,r)}hasResourceBundle(e,r){return this.getResource(e,r)!==void 0}getResourceBundle(e,r){return r||(r=this.options.defaultNS),this.getResource(e,r)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const r=this.getDataByLanguage(e);return!!(r&&Object.keys(r)||[]).find(i=>r[i]&&Object.keys(r[i]).length>0)}toJSON(){return this.data}}var ZS={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,r,n,i){return t.forEach(a=>{var s;e=((s=this.processors[a])==null?void 0:s.process(e,r,n,i))??e}),e}};const Pb={},Db=t=>!ot(t)&&typeof t!="boolean"&&typeof t!="number";class nh extends Zh{constructor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),UF(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Bi.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(e==null)return!1;const n=this.resolve(e,r);return(n==null?void 0:n.res)!==void 0}extractFromKey(e,r){let n=r.nsSeparator!==void 0?r.nsSeparator:this.options.nsSeparator;n===void 0&&(n=":");const i=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator;let a=r.ns||this.options.defaultNS||[];const s=n&&e.indexOf(n)>-1,o=!this.options.userDefinedKeySeparator&&!r.keySeparator&&!this.options.userDefinedNsSeparator&&!r.nsSeparator&&!e$(e,n,i);if(s&&!o){const l=e.match(this.interpolator.nestingRegexp);if(l&&l.length>0)return{key:e,namespaces:ot(a)?[a]:a};const u=e.split(n);(n!==i||n===i&&this.options.ns.indexOf(u[0])>-1)&&(a=u.shift()),e=u.join(i)}return{key:e,namespaces:ot(a)?[a]:a}}translate(e,r,n){if(typeof r!="object"&&this.options.overloadTranslationOptionHandler&&(r=this.options.overloadTranslationOptionHandler(arguments)),typeof r=="object"&&(r={...r}),r||(r={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const i=r.returnDetails!==void 0?r.returnDetails:this.options.returnDetails,a=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator,{key:s,namespaces:o}=this.extractFromKey(e[e.length-1],r),l=o[o.length-1],u=r.lng||this.language,c=r.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((u==null?void 0:u.toLowerCase())==="cimode"){if(c){const N=r.nsSeparator||this.options.nsSeparator;return i?{res:`${l}${N}${s}`,usedKey:s,exactUsedKey:s,usedLng:u,usedNS:l,usedParams:this.getUsedParamsDetails(r)}:`${l}${N}${s}`}return i?{res:s,usedKey:s,exactUsedKey:s,usedLng:u,usedNS:l,usedParams:this.getUsedParamsDetails(r)}:s}const f=this.resolve(e,r);let d=f==null?void 0:f.res;const p=(f==null?void 0:f.usedKey)||s,g=(f==null?void 0:f.exactUsedKey)||s,y=["[object Number]","[object Function]","[object RegExp]"],b=r.joinArrays!==void 0?r.joinArrays:this.options.joinArrays,x=!this.i18nFormat||this.i18nFormat.handleAsObject,w=r.count!==void 0&&!ot(r.count),_=nh.hasDefaultValue(r),k=w?this.pluralResolver.getSuffix(u,r.count,r):"",T=r.ordinal&&w?this.pluralResolver.getSuffix(u,r.count,{ordinal:!1}):"",P=w&&!r.ordinal&&r.count===0,M=P&&r[`defaultValue${this.options.pluralSeparator}zero`]||r[`defaultValue${k}`]||r[`defaultValue${T}`]||r.defaultValue;let A=d;x&&!d&&_&&(A=M);const L=Db(A),R=Object.prototype.toString.apply(A);if(x&&A&&L&&y.indexOf(R)<0&&!(ot(b)&&Array.isArray(A))){if(!r.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const N=this.options.returnedObjectHandler?this.options.returnedObjectHandler(p,A,{...r,ns:o}):`key '${s} (${this.language})' returned an object instead of string.`;return i?(f.res=N,f.usedParams=this.getUsedParamsDetails(r),f):N}if(a){const N=Array.isArray(A),F=N?[]:{},$=N?g:p;for(const V in A)if(Object.prototype.hasOwnProperty.call(A,V)){const X=`${$}${a}${V}`;_&&!d?F[V]=this.translate(X,{...r,defaultValue:Db(M)?M[V]:void 0,joinArrays:!1,ns:o}):F[V]=this.translate(X,{...r,joinArrays:!1,ns:o}),F[V]===X&&(F[V]=A[V])}d=F}}else if(x&&ot(b)&&Array.isArray(d))d=d.join(b),d&&(d=this.extendTranslation(d,e,r,n));else{let N=!1,F=!1;!this.isValidLookup(d)&&_&&(N=!0,d=M),this.isValidLookup(d)||(F=!0,d=s);const V=(r.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&F?void 0:d,X=_&&M!==d&&this.options.updateMissing;if(F||N||X){if(this.logger.log(X?"updateKey":"missingKey",u,l,s,X?M:d),a){const ee=this.resolve(s,{...r,keySeparator:!1});ee&&ee.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let K=[];const W=this.languageUtils.getFallbackCodes(this.options.fallbackLng,r.lng||this.language);if(this.options.saveMissingTo==="fallback"&&W&&W[0])for(let ee=0;ee<W.length;ee++)K.push(W[ee]);else this.options.saveMissingTo==="all"?K=this.languageUtils.toResolveHierarchy(r.lng||this.language):K.push(r.lng||this.language);const H=(ee,re,G)=>{var ue;const Z=_&&G!==d?G:V;this.options.missingKeyHandler?this.options.missingKeyHandler(ee,l,re,Z,X,r):(ue=this.backendConnector)!=null&&ue.saveMissing&&this.backendConnector.saveMissing(ee,l,re,Z,X,r),this.emit("missingKey",ee,l,re,d)};this.options.saveMissing&&(this.options.saveMissingPlurals&&w?K.forEach(ee=>{const re=this.pluralResolver.getSuffixes(ee,r);P&&r[`defaultValue${this.options.pluralSeparator}zero`]&&re.indexOf(`${this.options.pluralSeparator}zero`)<0&&re.push(`${this.options.pluralSeparator}zero`),re.forEach(G=>{H([ee],s+G,r[`defaultValue${G}`]||M)})}):H(K,s,M))}d=this.extendTranslation(d,e,r,f,n),F&&d===s&&this.options.appendNamespaceToMissingKey&&(d=`${l}:${s}`),(F||N)&&this.options.parseMissingKeyHandler&&(d=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${l}:${s}`:s,N?d:void 0))}return i?(f.res=d,f.usedParams=this.getUsedParamsDetails(r),f):d}extendTranslation(e,r,n,i,a){var u,c;var s=this;if((u=this.i18nFormat)!=null&&u.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...n},n.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init({...n,interpolation:{...this.options.interpolation,...n.interpolation}});const f=ot(e)&&(((c=n==null?void 0:n.interpolation)==null?void 0:c.skipOnVariables)!==void 0?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let d;if(f){const g=e.match(this.interpolator.nestingRegexp);d=g&&g.length}let p=n.replace&&!ot(n.replace)?n.replace:n;if(this.options.interpolation.defaultVariables&&(p={...this.options.interpolation.defaultVariables,...p}),e=this.interpolator.interpolate(e,p,n.lng||this.language||i.usedLng,n),f){const g=e.match(this.interpolator.nestingRegexp),y=g&&g.length;d<y&&(n.nest=!1)}!n.lng&&i&&i.res&&(n.lng=this.language||i.usedLng),n.nest!==!1&&(e=this.interpolator.nest(e,function(){for(var g=arguments.length,y=new Array(g),b=0;b<g;b++)y[b]=arguments[b];return(a==null?void 0:a[0])===y[0]&&!n.context?(s.logger.warn(`It seems you are nesting recursively key: ${y[0]} in key: ${r[0]}`),null):s.translate(...y,r)},n)),n.interpolation&&this.interpolator.reset()}const o=n.postProcess||this.options.postProcess,l=ot(o)?[o]:o;return e!=null&&(l!=null&&l.length)&&n.applyPostProcessor!==!1&&(e=ZS.handle(l,e,r,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...i,usedParams:this.getUsedParamsDetails(n)},...n}:n,this)),e}resolve(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n,i,a,s,o;return ot(e)&&(e=[e]),e.forEach(l=>{if(this.isValidLookup(n))return;const u=this.extractFromKey(l,r),c=u.key;i=c;let f=u.namespaces;this.options.fallbackNS&&(f=f.concat(this.options.fallbackNS));const d=r.count!==void 0&&!ot(r.count),p=d&&!r.ordinal&&r.count===0,g=r.context!==void 0&&(ot(r.context)||typeof r.context=="number")&&r.context!=="",y=r.lngs?r.lngs:this.languageUtils.toResolveHierarchy(r.lng||this.language,r.fallbackLng);f.forEach(b=>{var x,w;this.isValidLookup(n)||(o=b,!Pb[`${y[0]}-${b}`]&&((x=this.utils)!=null&&x.hasLoadedNamespace)&&!((w=this.utils)!=null&&w.hasLoadedNamespace(o))&&(Pb[`${y[0]}-${b}`]=!0,this.logger.warn(`key "${i}" for languages "${y.join(", ")}" won't get resolved as namespace "${o}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),y.forEach(_=>{var P;if(this.isValidLookup(n))return;s=_;const k=[c];if((P=this.i18nFormat)!=null&&P.addLookupKeys)this.i18nFormat.addLookupKeys(k,c,_,b,r);else{let M;d&&(M=this.pluralResolver.getSuffix(_,r.count,r));const A=`${this.options.pluralSeparator}zero`,L=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(d&&(k.push(c+M),r.ordinal&&M.indexOf(L)===0&&k.push(c+M.replace(L,this.options.pluralSeparator)),p&&k.push(c+A)),g){const R=`${c}${this.options.contextSeparator}${r.context}`;k.push(R),d&&(k.push(R+M),r.ordinal&&M.indexOf(L)===0&&k.push(R+M.replace(L,this.options.pluralSeparator)),p&&k.push(R+A))}}let T;for(;T=k.pop();)this.isValidLookup(n)||(a=T,n=this.getResource(_,b,T,r))}))})}),{res:n,usedKey:i,exactUsedKey:a,usedLng:s,usedNS:o}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,r,n){var a;let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return(a=this.i18nFormat)!=null&&a.getResource?this.i18nFormat.getResource(e,r,n,i):this.resourceStore.getResource(e,r,n,i)}getUsedParamsDetails(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const r=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],n=e.replace&&!ot(e.replace);let i=n?e.replace:e;if(n&&typeof e.count<"u"&&(i.count=e.count),this.options.interpolation.defaultVariables&&(i={...this.options.interpolation.defaultVariables,...i}),!n){i={...i};for(const a of r)delete i[a]}return i}static hasDefaultValue(e){const r="defaultValue";for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&r===n.substring(0,r.length)&&e[n]!==void 0)return!0;return!1}}class Ab{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Bi.create("languageUtils")}getScriptPartFromCode(e){if(e=th(e),!e||e.indexOf("-")<0)return null;const r=e.split("-");return r.length===2||(r.pop(),r[r.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(r.join("-"))}getLanguagePartFromCode(e){if(e=th(e),!e||e.indexOf("-")<0)return e;const r=e.split("-");return this.formatLanguageCode(r[0])}formatLanguageCode(e){if(ot(e)&&e.indexOf("-")>-1){let r;try{r=Intl.getCanonicalLocales(e)[0]}catch{}return r&&this.options.lowerCaseLng&&(r=r.toLowerCase()),r||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let r;return e.forEach(n=>{if(r)return;const i=this.formatLanguageCode(n);(!this.options.supportedLngs||this.isSupportedCode(i))&&(r=i)}),!r&&this.options.supportedLngs&&e.forEach(n=>{if(r)return;const i=this.getLanguagePartFromCode(n);if(this.isSupportedCode(i))return r=i;r=this.options.supportedLngs.find(a=>{if(a===i)return a;if(!(a.indexOf("-")<0&&i.indexOf("-")<0)&&(a.indexOf("-")>0&&i.indexOf("-")<0&&a.substring(0,a.indexOf("-"))===i||a.indexOf(i)===0&&i.length>1))return a})}),r||(r=this.getFallbackCodes(this.options.fallbackLng)[0]),r}getFallbackCodes(e,r){if(!e)return[];if(typeof e=="function"&&(e=e(r)),ot(e)&&(e=[e]),Array.isArray(e))return e;if(!r)return e.default||[];let n=e[r];return n||(n=e[this.getScriptPartFromCode(r)]),n||(n=e[this.formatLanguageCode(r)]),n||(n=e[this.getLanguagePartFromCode(r)]),n||(n=e.default),n||[]}toResolveHierarchy(e,r){const n=this.getFallbackCodes(r||this.options.fallbackLng||[],e),i=[],a=s=>{s&&(this.isSupportedCode(s)?i.push(s):this.logger.warn(`rejecting language code not found in supportedLngs: ${s}`))};return ot(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&a(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&a(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&a(this.getLanguagePartFromCode(e))):ot(e)&&a(this.formatLanguageCode(e)),n.forEach(s=>{i.indexOf(s)<0&&a(this.formatLanguageCode(s))}),i}}const Ib={zero:0,one:1,two:2,few:3,many:4,other:5},Lb={select:t=>t===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class r${constructor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=e,this.options=r,this.logger=Bi.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,r){this.rules[e]=r}clearCache(){this.pluralRulesCache={}}getRule(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=th(e==="dev"?"en":e),i=r.ordinal?"ordinal":"cardinal",a=JSON.stringify({cleanedCode:n,type:i});if(a in this.pluralRulesCache)return this.pluralRulesCache[a];let s;try{s=new Intl.PluralRules(n,{type:i})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),Lb;if(!e.match(/-|_/))return Lb;const l=this.languageUtils.getLanguagePartFromCode(e);s=this.getRule(l,r)}return this.pluralRulesCache[a]=s,s}needsPlural(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=this.getRule(e,r);return n||(n=this.getRule("dev",r)),(n==null?void 0:n.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(e,n).map(i=>`${r}${i}`)}getSuffixes(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=this.getRule(e,r);return n||(n=this.getRule("dev",r)),n?n.resolvedOptions().pluralCategories.sort((i,a)=>Ib[i]-Ib[a]).map(i=>`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${i}`):[]}getSuffix(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const i=this.getRule(e,n);return i?`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${i.select(r)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",r,n))}}const Rb=function(t,e,r){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,a=YF(t,e,r);return!a&&i&&ot(r)&&(a=z1(t,r,n),a===void 0&&(a=z1(e,r,n))),a},Bg=t=>t.replace(/\$/g,"$$$$");class n${constructor(){var r;let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=Bi.create("interpolator"),this.options=e,this.format=((r=e==null?void 0:e.interpolation)==null?void 0:r.format)||(n=>n),this.init(e)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});const{escape:r,escapeValue:n,useRawValueToEscape:i,prefix:a,prefixEscaped:s,suffix:o,suffixEscaped:l,formatSeparator:u,unescapeSuffix:c,unescapePrefix:f,nestingPrefix:d,nestingPrefixEscaped:p,nestingSuffix:g,nestingSuffixEscaped:y,nestingOptionsSeparator:b,maxReplaces:x,alwaysFormat:w}=e.interpolation;this.escape=r!==void 0?r:KF,this.escapeValue=n!==void 0?n:!0,this.useRawValueToEscape=i!==void 0?i:!1,this.prefix=a?Lo(a):s||"{{",this.suffix=o?Lo(o):l||"}}",this.formatSeparator=u||",",this.unescapePrefix=c?"":f||"-",this.unescapeSuffix=this.unescapePrefix?"":c||"",this.nestingPrefix=d?Lo(d):p||Lo("$t("),this.nestingSuffix=g?Lo(g):y||Lo(")"),this.nestingOptionsSeparator=b||",",this.maxReplaces=x||1e3,this.alwaysFormat=w!==void 0?w:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(r,n)=>(r==null?void 0:r.source)===n?(r.lastIndex=0,r):new RegExp(n,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,r,n,i){var p;let a,s,o;const l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},u=g=>{if(g.indexOf(this.formatSeparator)<0){const w=Rb(r,l,g,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(w,void 0,n,{...i,...r,interpolationkey:g}):w}const y=g.split(this.formatSeparator),b=y.shift().trim(),x=y.join(this.formatSeparator).trim();return this.format(Rb(r,l,b,this.options.keySeparator,this.options.ignoreJSONStructure),x,n,{...i,...r,interpolationkey:b})};this.resetRegExp();const c=(i==null?void 0:i.missingInterpolationHandler)||this.options.missingInterpolationHandler,f=((p=i==null?void 0:i.interpolation)==null?void 0:p.skipOnVariables)!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:g=>Bg(g)},{regex:this.regexp,safeValue:g=>this.escapeValue?Bg(this.escape(g)):Bg(g)}].forEach(g=>{for(o=0;a=g.regex.exec(e);){const y=a[1].trim();if(s=u(y),s===void 0)if(typeof c=="function"){const x=c(e,a,i);s=ot(x)?x:""}else if(i&&Object.prototype.hasOwnProperty.call(i,y))s="";else if(f){s=a[0];continue}else this.logger.warn(`missed to pass in variable ${y} for interpolating ${e}`),s="";else!ot(s)&&!this.useRawValueToEscape&&(s=kb(s));const b=g.safeValue(s);if(e=e.replace(a[0],b),f?(g.regex.lastIndex+=s.length,g.regex.lastIndex-=a[0].length):g.regex.lastIndex=0,o++,o>=this.maxReplaces)break}}),e}nest(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i,a,s;const o=(l,u)=>{const c=this.nestingOptionsSeparator;if(l.indexOf(c)<0)return l;const f=l.split(new RegExp(`${c}[ ]*{`));let d=`{${f[1]}`;l=f[0],d=this.interpolate(d,s);const p=d.match(/'/g),g=d.match(/"/g);(((p==null?void 0:p.length)??0)%2===0&&!g||g.length%2!==0)&&(d=d.replace(/'/g,'"'));try{s=JSON.parse(d),u&&(s={...u,...s})}catch(y){return this.logger.warn(`failed parsing options string in nesting for key ${l}`,y),`${l}${c}${d}`}return s.defaultValue&&s.defaultValue.indexOf(this.prefix)>-1&&delete s.defaultValue,l};for(;i=this.nestingRegexp.exec(e);){let l=[];s={...n},s=s.replace&&!ot(s.replace)?s.replace:s,s.applyPostProcessor=!1,delete s.defaultValue;let u=!1;if(i[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(i[1])){const c=i[1].split(this.formatSeparator).map(f=>f.trim());i[1]=c.shift(),l=c,u=!0}if(a=r(o.call(this,i[1].trim(),s),s),a&&i[0]===e&&!ot(a))return a;ot(a)||(a=kb(a)),a||(this.logger.warn(`missed to resolve ${i[1]} for nesting ${e}`),a=""),u&&(a=l.reduce((c,f)=>this.format(c,f,n.lng,{...n,interpolationkey:i[1].trim()}),a.trim())),e=e.replace(i[0],a),this.regexp.lastIndex=0}return e}}const i$=t=>{let e=t.toLowerCase().trim();const r={};if(t.indexOf("(")>-1){const n=t.split("(");e=n[0].toLowerCase().trim();const i=n[1].substring(0,n[1].length-1);e==="currency"&&i.indexOf(":")<0?r.currency||(r.currency=i.trim()):e==="relativetime"&&i.indexOf(":")<0?r.range||(r.range=i.trim()):i.split(";").forEach(s=>{if(s){const[o,...l]=s.split(":"),u=l.join(":").trim().replace(/^'+|'+$/g,""),c=o.trim();r[c]||(r[c]=u),u==="false"&&(r[c]=!1),u==="true"&&(r[c]=!0),isNaN(u)||(r[c]=parseInt(u,10))}})}return{formatName:e,formatOptions:r}},Ro=t=>{const e={};return(r,n,i)=>{let a=i;i&&i.interpolationkey&&i.formatParams&&i.formatParams[i.interpolationkey]&&i[i.interpolationkey]&&(a={...a,[i.interpolationkey]:void 0});const s=n+JSON.stringify(a);let o=e[s];return o||(o=t(th(n),i),e[s]=o),o(r)}};class a${constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=Bi.create("formatter"),this.options=e,this.formats={number:Ro((r,n)=>{const i=new Intl.NumberFormat(r,{...n});return a=>i.format(a)}),currency:Ro((r,n)=>{const i=new Intl.NumberFormat(r,{...n,style:"currency"});return a=>i.format(a)}),datetime:Ro((r,n)=>{const i=new Intl.DateTimeFormat(r,{...n});return a=>i.format(a)}),relativetime:Ro((r,n)=>{const i=new Intl.RelativeTimeFormat(r,{...n});return a=>i.format(a,n.range||"day")}),list:Ro((r,n)=>{const i=new Intl.ListFormat(r,{...n});return a=>i.format(a)})},this.init(e)}init(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};this.formatSeparator=r.interpolation.formatSeparator||","}add(e,r){this.formats[e.toLowerCase().trim()]=r}addCached(e,r){this.formats[e.toLowerCase().trim()]=Ro(r)}format(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const a=r.split(this.formatSeparator);if(a.length>1&&a[0].indexOf("(")>1&&a[0].indexOf(")")<0&&a.find(o=>o.indexOf(")")>-1)){const o=a.findIndex(l=>l.indexOf(")")>-1);a[0]=[a[0],...a.splice(1,o)].join(this.formatSeparator)}return a.reduce((o,l)=>{var f;const{formatName:u,formatOptions:c}=i$(l);if(this.formats[u]){let d=o;try{const p=((f=i==null?void 0:i.formatParams)==null?void 0:f[i.interpolationkey])||{},g=p.locale||p.lng||i.locale||i.lng||n;d=this.formats[u](o,g,{...c,...i,...p})}catch(p){this.logger.warn(p)}return d}else this.logger.warn(`there was no format function for ${u}`);return o},e)}}const s$=(t,e)=>{t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)};class o$ extends Zh{constructor(e,r,n){var a,s;let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=e,this.store=r,this.services=n,this.languageUtils=n.languageUtils,this.options=i,this.logger=Bi.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],(s=(a=this.backend)==null?void 0:a.init)==null||s.call(a,n,i.backend,i)}queueLoad(e,r,n,i){const a={},s={},o={},l={};return e.forEach(u=>{let c=!0;r.forEach(f=>{const d=`${u}|${f}`;!n.reload&&this.store.hasResourceBundle(u,f)?this.state[d]=2:this.state[d]<0||(this.state[d]===1?s[d]===void 0&&(s[d]=!0):(this.state[d]=1,c=!1,s[d]===void 0&&(s[d]=!0),a[d]===void 0&&(a[d]=!0),l[f]===void 0&&(l[f]=!0)))}),c||(o[u]=!0)}),(Object.keys(a).length||Object.keys(s).length)&&this.queue.push({pending:s,pendingCount:Object.keys(s).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(a),pending:Object.keys(s),toLoadLanguages:Object.keys(o),toLoadNamespaces:Object.keys(l)}}loaded(e,r,n){const i=e.split("|"),a=i[0],s=i[1];r&&this.emit("failedLoading",a,s,r),!r&&n&&this.store.addResourceBundle(a,s,n,void 0,void 0,{skipCopy:!0}),this.state[e]=r?-1:2,r&&n&&(this.state[e]=0);const o={};this.queue.forEach(l=>{GF(l.loaded,[a],s),s$(l,e),r&&l.errors.push(r),l.pendingCount===0&&!l.done&&(Object.keys(l.loaded).forEach(u=>{o[u]||(o[u]={});const c=l.loaded[u];c.length&&c.forEach(f=>{o[u][f]===void 0&&(o[u][f]=!0)})}),l.done=!0,l.errors.length?l.callback(l.errors):l.callback())}),this.emit("loaded",o),this.queue=this.queue.filter(l=>!l.done)}read(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,s=arguments.length>5?arguments[5]:void 0;if(!e.length)return s(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:r,fcName:n,tried:i,wait:a,callback:s});return}this.readingCalls++;const o=(u,c)=>{if(this.readingCalls--,this.waitingReads.length>0){const f=this.waitingReads.shift();this.read(f.lng,f.ns,f.fcName,f.tried,f.wait,f.callback)}if(u&&c&&i<this.maxRetries){setTimeout(()=>{this.read.call(this,e,r,n,i+1,a*2,s)},a);return}s(u,c)},l=this.backend[n].bind(this.backend);if(l.length===2){try{const u=l(e,r);u&&typeof u.then=="function"?u.then(c=>o(null,c)).catch(o):o(null,u)}catch(u){o(u)}return}return l(e,r,o)}prepareLoading(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();ot(e)&&(e=this.languageUtils.toResolveHierarchy(e)),ot(r)&&(r=[r]);const a=this.queueLoad(e,r,n,i);if(!a.toLoad.length)return a.pending.length||i(),null;a.toLoad.forEach(s=>{this.loadOne(s)})}load(e,r,n){this.prepareLoading(e,r,{},n)}reload(e,r,n){this.prepareLoading(e,r,{reload:!0},n)}loadOne(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const n=e.split("|"),i=n[0],a=n[1];this.read(i,a,"read",void 0,void 0,(s,o)=>{s&&this.logger.warn(`${r}loading namespace ${a} for language ${i} failed`,s),!s&&o&&this.logger.log(`${r}loaded namespace ${a} for language ${i}`,o),this.loaded(e,s,o)})}saveMissing(e,r,n,i,a){var l,u,c,f,d;let s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},o=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if((u=(l=this.services)==null?void 0:l.utils)!=null&&u.hasLoadedNamespace&&!((f=(c=this.services)==null?void 0:c.utils)!=null&&f.hasLoadedNamespace(r))){this.logger.warn(`did not save key "${n}" as the namespace "${r}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(n==null||n==="")){if((d=this.backend)!=null&&d.create){const p={...s,isUpdate:a},g=this.backend.create.bind(this.backend);if(g.length<6)try{let y;g.length===5?y=g(e,r,n,i,p):y=g(e,r,n,i),y&&typeof y.then=="function"?y.then(b=>o(null,b)).catch(o):o(null,y)}catch(y){o(y)}else g(e,r,n,i,o,p)}!e||!e[0]||this.store.addResource(e[0],r,n,i)}}}const Ob=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:t=>{let e={};if(typeof t[1]=="object"&&(e=t[1]),ot(t[1])&&(e.defaultValue=t[1]),ot(t[2])&&(e.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){const r=t[3]||t[2];Object.keys(r).forEach(n=>{e[n]=r[n]})}return e},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),Nb=t=>{var e,r;return ot(t.ns)&&(t.ns=[t.ns]),ot(t.fallbackLng)&&(t.fallbackLng=[t.fallbackLng]),ot(t.fallbackNS)&&(t.fallbackNS=[t.fallbackNS]),((r=(e=t.supportedLngs)==null?void 0:e.indexOf)==null?void 0:r.call(e,"cimode"))<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),typeof t.initImmediate=="boolean"&&(t.initAsync=t.initImmediate),t},vf=()=>{},l$=t=>{Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(r=>{typeof t[r]=="function"&&(t[r]=t[r].bind(t))})};class Nc extends Zh{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;if(super(),this.options=Nb(e),this.services={},this.logger=Bi,this.modules={external:[]},l$(this),r&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,r),this;setTimeout(()=>{this.init(e,r)},0)}}init(){var e=this;let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof r=="function"&&(n=r,r={}),r.defaultNS==null&&r.ns&&(ot(r.ns)?r.defaultNS=r.ns:r.ns.indexOf("translation")<0&&(r.defaultNS=r.ns[0]));const i=Ob();this.options={...i,...this.options,...Nb(r)},this.options.interpolation={...i.interpolation,...this.options.interpolation},r.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=r.keySeparator),r.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=r.nsSeparator);const a=c=>c?typeof c=="function"?new c:c:null;if(!this.options.isClone){this.modules.logger?Bi.init(a(this.modules.logger),this.options):Bi.init(null,this.options);let c;this.modules.formatter?c=this.modules.formatter:c=a$;const f=new Ab(this.options);this.store=new Mb(this.options.resources,this.options);const d=this.services;d.logger=Bi,d.resourceStore=this.store,d.languageUtils=f,d.pluralResolver=new r$(f,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),c&&(!this.options.interpolation.format||this.options.interpolation.format===i.interpolation.format)&&(d.formatter=a(c),d.formatter.init(d,this.options),this.options.interpolation.format=d.formatter.format.bind(d.formatter)),d.interpolator=new n$(this.options),d.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},d.backendConnector=new o$(a(this.modules.backend),d.resourceStore,d,this.options),d.backendConnector.on("*",function(p){for(var g=arguments.length,y=new Array(g>1?g-1:0),b=1;b<g;b++)y[b-1]=arguments[b];e.emit(p,...y)}),this.modules.languageDetector&&(d.languageDetector=a(this.modules.languageDetector),d.languageDetector.init&&d.languageDetector.init(d,this.options.detection,this.options)),this.modules.i18nFormat&&(d.i18nFormat=a(this.modules.i18nFormat),d.i18nFormat.init&&d.i18nFormat.init(this)),this.translator=new nh(this.services,this.options),this.translator.on("*",function(p){for(var g=arguments.length,y=new Array(g>1?g-1:0),b=1;b<g;b++)y[b-1]=arguments[b];e.emit(p,...y)}),this.modules.external.forEach(p=>{p.init&&p.init(this)})}if(this.format=this.options.interpolation.format,n||(n=vf),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const c=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);c.length>0&&c[0]!=="dev"&&(this.options.lng=c[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(c=>{this[c]=function(){return e.store[c](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(c=>{this[c]=function(){return e.store[c](...arguments),e}});const l=ku(),u=()=>{const c=(f,d)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),l.resolve(d),n(f,d)};if(this.languages&&!this.isInitialized)return c(null,this.t.bind(this));this.changeLanguage(this.options.lng,c)};return this.options.resources||!this.options.initAsync?u():setTimeout(u,0),l}loadResources(e){var a,s;let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:vf;const i=ot(e)?e:this.language;if(typeof e=="function"&&(n=e),!this.options.resources||this.options.partialBundledLanguages){if((i==null?void 0:i.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return n();const o=[],l=u=>{if(!u||u==="cimode")return;this.services.languageUtils.toResolveHierarchy(u).forEach(f=>{f!=="cimode"&&o.indexOf(f)<0&&o.push(f)})};i?l(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(c=>l(c)),(s=(a=this.options.preload)==null?void 0:a.forEach)==null||s.call(a,u=>l(u)),this.services.backendConnector.load(o,this.options.ns,u=>{!u&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),n(u)})}else n(null)}reloadResources(e,r,n){const i=ku();return typeof e=="function"&&(n=e,e=void 0),typeof r=="function"&&(n=r,r=void 0),e||(e=this.languages),r||(r=this.options.ns),n||(n=vf),this.services.backendConnector.reload(e,r,a=>{i.resolve(),n(a)}),i}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&ZS.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1))for(let r=0;r<this.languages.length;r++){const n=this.languages[r];if(!(["cimode","dev"].indexOf(n)>-1)&&this.store.hasLanguageSomeTranslations(n)){this.resolvedLanguage=n;break}}}changeLanguage(e,r){var n=this;this.isLanguageChangingTo=e;const i=ku();this.emit("languageChanging",e);const a=l=>{this.language=l,this.languages=this.services.languageUtils.toResolveHierarchy(l),this.resolvedLanguage=void 0,this.setResolvedLanguage(l)},s=(l,u)=>{u?(a(u),this.translator.changeLanguage(u),this.isLanguageChangingTo=void 0,this.emit("languageChanged",u),this.logger.log("languageChanged",u)):this.isLanguageChangingTo=void 0,i.resolve(function(){return n.t(...arguments)}),r&&r(l,function(){return n.t(...arguments)})},o=l=>{var c,f;!e&&!l&&this.services.languageDetector&&(l=[]);const u=ot(l)?l:this.services.languageUtils.getBestMatchFromCodes(l);u&&(this.language||a(u),this.translator.language||this.translator.changeLanguage(u),(f=(c=this.services.languageDetector)==null?void 0:c.cacheUserLanguage)==null||f.call(c,u)),this.loadResources(u,d=>{s(d,u)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?o(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(o):this.services.languageDetector.detect(o):o(e),i}getFixedT(e,r,n){var i=this;const a=function(s,o){let l;if(typeof o!="object"){for(var u=arguments.length,c=new Array(u>2?u-2:0),f=2;f<u;f++)c[f-2]=arguments[f];l=i.options.overloadTranslationOptionHandler([s,o].concat(c))}else l={...o};l.lng=l.lng||a.lng,l.lngs=l.lngs||a.lngs,l.ns=l.ns||a.ns,l.keyPrefix!==""&&(l.keyPrefix=l.keyPrefix||n||a.keyPrefix);const d=i.options.keySeparator||".";let p;return l.keyPrefix&&Array.isArray(s)?p=s.map(g=>`${l.keyPrefix}${d}${g}`):p=l.keyPrefix?`${l.keyPrefix}${d}${s}`:s,i.t(p,l)};return ot(e)?a.lng=e:a.lngs=e,a.ns=r,a.keyPrefix=n,a}t(){var i;for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return(i=this.translator)==null?void 0:i.translate(...r)}exists(){var i;for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return(i=this.translator)==null?void 0:i.exists(...r)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const n=r.lng||this.resolvedLanguage||this.languages[0],i=this.options?this.options.fallbackLng:!1,a=this.languages[this.languages.length-1];if(n.toLowerCase()==="cimode")return!0;const s=(o,l)=>{const u=this.services.backendConnector.state[`${o}|${l}`];return u===-1||u===0||u===2};if(r.precheck){const o=r.precheck(this,s);if(o!==void 0)return o}return!!(this.hasResourceBundle(n,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||s(n,e)&&(!i||s(a,e)))}loadNamespaces(e,r){const n=ku();return this.options.ns?(ot(e)&&(e=[e]),e.forEach(i=>{this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}),this.loadResources(i=>{n.resolve(),r&&r(i)}),n):(r&&r(),Promise.resolve())}loadLanguages(e,r){const n=ku();ot(e)&&(e=[e]);const i=this.options.preload||[],a=e.filter(s=>i.indexOf(s)<0&&this.services.languageUtils.isSupportedCode(s));return a.length?(this.options.preload=i.concat(a),this.loadResources(s=>{n.resolve(),r&&r(s)}),n):(r&&r(),Promise.resolve())}dir(e){var i,a;if(e||(e=this.resolvedLanguage||(((i=this.languages)==null?void 0:i.length)>0?this.languages[0]:this.language)),!e)return"rtl";const r=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],n=((a=this.services)==null?void 0:a.languageUtils)||new Ab(Ob());return r.indexOf(n.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;return new Nc(e,r)}cloneInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:vf;const n=e.forkResourceStore;n&&delete e.forkResourceStore;const i={...this.options,...e,isClone:!0},a=new Nc(i);if((e.debug!==void 0||e.prefix!==void 0)&&(a.logger=a.logger.clone(e)),["store","services","language"].forEach(o=>{a[o]=this[o]}),a.services={...this.services},a.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},n){const o=Object.keys(this.store.data).reduce((l,u)=>(l[u]={...this.store.data[u]},Object.keys(l[u]).reduce((c,f)=>(c[f]={...l[u][f]},c),{})),{});a.store=new Mb(o,i),a.services.resourceStore=a.store}return a.translator=new nh(a.services,i),a.translator.on("*",function(o){for(var l=arguments.length,u=new Array(l>1?l-1:0),c=1;c<l;c++)u[c-1]=arguments[c];a.emit(o,...u)}),a.init(i,r),a.translator.options=i,a.translator.backendConnector.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},a}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const br=Nc.createInstance();br.createInstance=Nc.createInstance;br.createInstance;br.dir;br.init;br.loadResources;br.reloadResources;br.use;br.changeLanguage;br.getFixedT;br.t;br.exists;br.setDefaultNamespace;br.hasLoadedNamespace;br.loadNamespaces;br.loadLanguages;const u$=()=>{const{t}=Xt();return z.jsxs(c$,{children:[z.jsx(Ae.Text,{children:t("FruitPredictorInstructions.intro")}),z.jsxs(Ae.Text,{children:[t("FruitPredictorInstructions.followVideo"),z.jsx(vr,{to:"https://youtu.be/G8OpubRhUhU",children:t("video")}),t("FruitPredictorInstructions.followVideoPart2")]}),z.jsx(Ae.Text,{$bold:!0,children:t("FruitPredictorInstructions.assemblyTitle")}),z.jsxs(Ae.Text,{children:[t("FruitPredictorInstructions.assemblyText1Part1"),z.jsx(vr,{to:`/ml-with-bricks/materials/${br.language}/assembly/fruit-predictor.pdf`,children:t("these instructions")}),t("FruitPredictorInstructions.assemblyText1Part2")]}),z.jsxs(Ae.Text,{children:[t("FruitPredictorInstructions.assemblyText2Part1"),z.jsx(vr,{to:`/ml-with-bricks/materials/${br.language}/connection.pdf`,children:t("pdf")}),t("FruitPredictorInstructions.assemblyText2Part2"),z.jsx(vr,{to:"https://youtu.be/ZsviP40PnuA",children:t("video")}),t("FruitPredictorInstructions.assemblyText2Part3")]}),z.jsx(Ae.Text,{$bold:!0,children:t("FruitPredictorInstructions.dataCollectionTitle")}),z.jsx(Ae.Text,{children:t("FruitPredictorInstructions.dataCollectionText")}),z.jsx(Ae.Text,{$bold:!0,children:t("FruitPredictorInstructions.predictionTitle")}),z.jsx(Ae.Text,{children:t("FruitPredictorInstructions.predictionText1")}),z.jsx(Ae.Text,{children:t("FruitPredictorInstructions.predictionText2")}),z.jsx(Ae.Text,{$bold:!0,children:t("FruitPredictorInstructions.thingsToTryTitle")}),z.jsx(Ae.Text,{children:t("FruitPredictorInstructions.thingsToTryText")})]})},c$=Ee.div.withConfig({displayName:"FruitPredictorInstructions__Wrapper",componentId:"sc-eywbi8-0"})([""]),f$={distanceSensorPort:"E",colorSensorPort:"F"},d$=()=>{const{t}=Xt(),{sendTunnelData:e,subscribe:r}=Wh(),n=Q.useRef(null),[i,a]=Q.useState(()=>Sr("fruitPredictor_k",3)),[s,o]=Q.useState(()=>Sr("fruitPredictor_data",[])),[l,u]=Q.useState(()=>Sr("fruitPredictor_inferDatapoint",void 0)),[c,f]=Q.useState(()=>Sr("fruitPredictor_showDecisionBorder",!1)),[d,p]=Q.useState(()=>Sr("fruitPredictor_modelMode","train")),[g,y]=Q.useState(()=>Sr("fruitPredictor_hideInfer",!1)),[b,x]=Q.useState(()=>Sr("fruitPredictor_currentClass","apple")),[w,_]=Q.useState(!1),[k,T]=Q.useState(f$),P=Q.useMemo(()=>({apple:{label:t("FruitPredictor.fruitLabels.apple"),emoji:"",fillColor:"rgb(253, 143, 143)"},banana:{label:t("FruitPredictor.fruitLabels.banana"),emoji:"",fillColor:"rgb(255, 241, 134)"},undecided:{label:"Undecided",emoji:"",fillColor:"rgb(192, 192, 192)"}}),[t]),M=Q.useMemo(()=>Object.entries(P).map(([W,H])=>({id:W,text:`${H.emoji} ${H.label}`})).filter(W=>W.id!=="undecided"),[P]),A=W=>{o(H=>H.filter(ee=>ee.id!==W)),e({action:"delete_datapoint",payload:{id:W}})},L=(W,H)=>{o(ee=>ee.map(re=>re.id!==W?re:{...re,label:H})),e({action:"change_datapoint_label",payload:{id:W,new_label:H}})},R=W=>{a(W),e({action:"change_k",payload:{k:W}})},N=async()=>{r(X),e({action:"startup_functionality",payload:{class:b,class_name:P[b].label,data:[...s].map(W=>({...W,len:W.length,length:void 0})),k:i,mode:d}}).then(()=>St.success(t("FruitPredictor.toasts.codeStarted"),{position:"bottom-left"}))},F=W=>{var H,ee,re;W?s.findIndex(G=>G.id===W)!==-1&&((ee=n.current)==null||ee.setActiveElements([{datasetIndex:0,index:s.findIndex(G=>G.id===W)}])):(H=n.current)==null||H.setActiveElements([]),(re=n.current)==null||re.update("none")},$=W=>{x(W),e({action:"change_class",payload:{class:W,class_name:P[W].label}})},V=W=>{u(void 0),p(W),e({action:"change_mode",payload:{mode:W}})},X=W=>{const H=W.payload;switch(W.action){case"add_point":const ee={id:H.id,color:H.color.slice(0,3),length:H.len,label:H.label};o(G=>[...G,ee]);break;case"inference_result":const re={id:"infer",color:H.color,length:H.len};u(re);break}},K=Q.useMemo(()=>N2.fruitPredictor(k),[k]);return Q.useEffect(()=>{localStorage.setItem("fruitPredictor_k",JSON.stringify(i))},[i]),Q.useEffect(()=>{localStorage.setItem("fruitPredictor_data",JSON.stringify(s))},[s]),Q.useEffect(()=>{localStorage.setItem("fruitPredictor_inferDatapoint",JSON.stringify(l===void 0?"__undefined__":l))},[l]),Q.useEffect(()=>{localStorage.setItem("fruitPredictor_showDecisionBorder",JSON.stringify(c))},[c]),Q.useEffect(()=>{localStorage.setItem("fruitPredictor_modelMode",JSON.stringify(d))},[d]),Q.useEffect(()=>{localStorage.setItem("fruitPredictor_hideInfer",JSON.stringify(g))},[g]),Q.useEffect(()=>{localStorage.setItem("fruitPredictor_currentClass",JSON.stringify(b))},[b]),z.jsxs(h$,{children:[z.jsx(Ae.H1,{children:t("FruitPredictor.title")}),z.jsx(u$,{}),z.jsx(O2,{code:K,onStart:N}),z.jsxs(p$,{children:[z.jsx("div",{children:z.jsx(UB,{k:i,fruitStyles:P,fruitData:s,inferDatapoint:g?void 0:l,showDecisionBorder:c,chartRef:n})}),z.jsxs("div",{children:[z.jsx(L2,{currentId:d,segments:XS.map(W=>({id:W,text:t(`FruitPredictor.modelModes.${W}`)})),handleSelectOption:V}),d==="infer"?z.jsxs(zb,{children:[z.jsx(yl,{value:i,minValue:1,maxValue:17,label:"K",onChange:W=>a(W),onMouseUp:R,fullWidth:!0,writeValue:!0}),z.jsx(Oc,{text:t("FruitPredictor.showDecisionBorder"),value:c,handleChange:W=>f(W.target.checked)}),z.jsx(Oc,{text:t("FruitPredictor.hideInfer"),value:g,handleChange:W=>y(W.target.checked)})]}):z.jsx(zb,{children:z.jsxs(g$,{children:[z.jsx(Ae.Text,{$bold:!0,children:t("FruitPredictor.selectClass")}),z.jsx(qi,{options:M,currentOptionId:b,handleOptionSelect:$,width:"auto"})]})}),z.jsx($F,{data:s,fruitDropDownOptions:M,handleRemoveData:A,handleChangeLabel:L,handleTableRowHover:F})]})]}),z.jsx(vF,{active:w,handleClose:()=>_(!1),fruitPredictorSettings:k,setFruitPredictorSettings:T})]})},h$=Ee.div.withConfig({displayName:"fruit-predictor__Wrapper",componentId:"sc-1rddpf0-0"})([""]),p$=Ee.div.withConfig({displayName:"fruit-predictor__DiagramRow",componentId:"sc-1rddpf0-1"})(["display:grid;grid-template-columns:1fr 1fr;column-gap:30px;@media (max-width:1024px){column-gap:10px;}@media (max-width:768px){grid-template-columns:1fr;row-gap:20px;}"]),zb=Ee.div.withConfig({displayName:"fruit-predictor__ControlsWrapper",componentId:"sc-1rddpf0-2"})(["padding:20px 0;display:flex;flex-direction:column;justify-content:flex-start;align-items:flex-start;"]),g$=Ee.div.withConfig({displayName:"fruit-predictor__SelectClassRow",componentId:"sc-1rddpf0-3"})(["display:flex;align-items:center;gap:10px;"]);o0.register(vl,Zd,ic,la,jS);const Oi={xMin:0,xMax:100,yMin:0,yMax:100},m$=({chartRef:t,isInfer:e,regressionData:r,m:n,b:i,inferDistance:a})=>{const s=o2(),{t:o}=Xt(),l=Q.useMemo(()=>({datasets:[{label:"points",data:r.map(c=>({x:c.distance,y:c.power})),showLine:!1,pointRadius:0,pointBackgroundColor:"rgb(5, 0, 153)",pointHoverRadius:15,pointHoverBackgroundColor:"rgba(112, 112, 112, 0.5)",clip:!1},...e&&a?[{label:"inferLine",data:[{x:a,y:0},{x:a,y:n*a+i},{x:0,y:n*a+i}],showLine:!0,pointRadius:0,borderColor:s.darkRed,borderDash:[6,3]}]:[],...e?[{label:"line",data:[{x:Oi.xMin,y:n*Oi.xMin+i},{x:Oi.xMax,y:n*Oi.xMax+i}],showLine:!0,pointRadius:0,borderColor:"#080808"}]:[]]}),[r,e,n,i,a]),u=Q.useMemo(()=>({aspectRatio:1,maintainAspectRatio:!0,events:[],layout:{padding:{right:10}},scales:{x:{min:Oi.xMin,max:Oi.xMax,title:{display:!0,text:o("PingPonger.xAxisTitle"),font:{size:16}}},y:{min:Oi.yMin,max:Oi.yMax,title:{display:!0,text:o("PingPonger.yAxisTitle"),font:{size:16}}}},regressionParams:{m:n,b:i,isInfer:e},animation:!1}),[o,n,i,e]);return z.jsx(WS,{id:"fruit-predictor-scatter",ref:t,data:l,options:u,plugins:[v$,y$]})},v$={id:"emojiPlugin",afterDatasetsDraw:t=>{const{ctx:e,data:r}=t;for(const n in r.datasets){const i=r.datasets[n],{label:a}=i;if(a!=="points"&&a!=="inferLine")continue;const s=i,o=t.getDatasetMeta(Number(n)),l="24px sans-serif";e.save(),e.fillStyle="rgba(255, 255, 255, 1)",e.font=l,e.textAlign="center",e.textBaseline="middle",s.data.forEach((u,c)=>{if(a==="inferLine"&&c!==1)return;const f=o.data[c],{x:d,y:p}=f;e.fillText("",d,p)}),e.restore()}}},y$={id:"arrowsPlugin",beforeDatasetDraw:t=>{const{ctx:e,data:r,scales:n}=t,{regressionParams:i}=t.options;if(!i||!i.isInfer)return;const{m:a,b:s}=i,o=Oi.yMin,l=Oi.yMax,u=n.y,c=r.datasets.find(d=>d.label==="points");if(!c)return;const f=t.getDatasetMeta(r.datasets.indexOf(c));f&&(e.save(),e.strokeStyle="#080808",e.lineWidth=1,c.data.forEach((d,p)=>{const g=f.data[p],y=g.x,b=g.y,x=d.x,w=a*x+s;let _=w;_<o?_=o:_>l&&(_=l);const k=u.getPixelForValue(_);if(e.beginPath(),e.setLineDash([5,5]),e.moveTo(y,b),e.lineTo(y,k),e.stroke(),_===w){const P=k>b?Math.PI/2:-Math.PI/2;e.beginPath(),e.setLineDash([]),e.moveTo(y,k),e.lineTo(y-8*Math.cos(P-Math.PI/6),k-8*Math.sin(P-Math.PI/6)),e.moveTo(y,k),e.lineTo(y-8*Math.cos(P+Math.PI/6),k-8*Math.sin(P+Math.PI/6)),e.stroke()}}),e.restore())}},x$=({data:t,handleRemoveData:e,handleTableRowHover:r})=>{const{t:n}=Xt();return z.jsxs(b$,{children:[z.jsx(Bb,{children:[n("PingPonger.xAxisTitle"),n("PingPonger.yAxisTitle"),n("PingPonger.delete")].map((i,a)=>z.jsx(w$,{children:i},a))}),z.jsx(_$,{children:t.map(i=>z.jsxs(Bb,{onMouseEnter:()=>r(i.id),onMouseLeave:()=>r(null),children:[z.jsx(B1,{children:z.jsx("p",{children:i.distance})}),z.jsx(B1,{children:z.jsxs(S$,{children:[z.jsx(k$,{style:{width:`${i.power}%`},children:i.power>15&&z.jsx(T$,{children:` ${i.power}%`})}),i.power<=15&&z.jsx(E$,{children:` ${i.power}%`})]})}),z.jsx(C$,{children:z.jsx("p",{onClick:()=>e(i.id),children:""})})]},i.id))})]})},b$=Ee.div.withConfig({displayName:"PingPongerTable__TableWrapper",componentId:"sc-1wn0ytq-0"})(["display:grid;border:1px solid ",";border-radius:5px;overflow:hidden;font-family:var(--main-font);font-size:16px;font-weight:400;"],({theme:t})=>t.black),w$=Ee.span.withConfig({displayName:"PingPongerTable__HeaderCell",componentId:"sc-1wn0ytq-1"})(["display:table-header-group;vertical-align:middle;background-color:",";padding:10px 15px;color:white;font-weight:900;"],({theme:t})=>t.black),Bb=Ee.div.withConfig({displayName:"PingPongerTable__TableRow",componentId:"sc-1wn0ytq-2"})(["display:grid;grid-template-columns:1fr 1fr 1fr;&:nth-child(odd){background-color:",";}&:nth-child(even){background-color:white;}&:last-of-type,&:first-of-type{border:none;}"],({theme:t})=>t.gray),_$=Ee.div.withConfig({displayName:"PingPongerTable__Body",componentId:"sc-1wn0ytq-3"})(["overflow-y:auto;max-height:300px;scroll-padding-bottom:50px;margin:1px 0;"]),B1=Ee.span.withConfig({displayName:"PingPongerTable__TableCell",componentId:"sc-1wn0ytq-4"})(["text-align:left;padding:5px 15px;display:flex;align-items:center;justify-content:start;gap:10px;"]),S$=Ee.span.withConfig({displayName:"PingPongerTable__ProgressBar",componentId:"sc-1wn0ytq-5"})(["flex:1;border-radius:5px;border:1px solid ",";height:20px;background:",";position:relative;overflow:hidden;"],({theme:t})=>t.black,({theme:t})=>t.white),k$=Ee.span.withConfig({displayName:"PingPongerTable__ProgressBarFill",componentId:"sc-1wn0ytq-6"})(["display:block;height:100%;background:linear-gradient(to right,#fffb83,#fdcd55);transition:width 0.3s ease-in-out;position:relative;"]),T$=Ee.span.withConfig({displayName:"PingPongerTable__ProgressLabel",componentId:"sc-1wn0ytq-7"})(["position:absolute;left:50%;transform:translateX(-50%);font-weight:bold;font-size:12px;color:",";white-space:nowrap;"],({theme:t})=>t.black),E$=Ee.span.withConfig({displayName:"PingPongerTable__OutsideLabel",componentId:"sc-1wn0ytq-8"})(["font-weight:bold;font-size:12px;color:",";white-space:nowrap;position:absolute;left:50%;transform:translateX(-50%);top:0;"],({theme:t})=>t.black),C$=Ee(B1).withConfig({displayName:"PingPongerTable__ClickableCell",componentId:"sc-1wn0ytq-9"})(["& > p{cursor:pointer;display:inline-block;}"]);function M$(t,e){e===void 0&&(e={});var r=e.insertAt;if(!(!t||typeof document>"u")){var n=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",r==="top"&&n.firstChild?n.insertBefore(i,n.firstChild):n.appendChild(i),i.styleSheet?i.styleSheet.cssText=t:i.appendChild(document.createTextNode(t))}}var P$=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function D$(t,e){return e={exports:{}},t(e,e.exports),e.exports}var QS=D$(function(t,e){(function(n,i){t.exports=i()})(typeof self<"u"?self:P$,function(){return function(){var r={};(function(){r.d=function(m,h){for(var v in h)r.o(h,v)&&!r.o(m,v)&&Object.defineProperty(m,v,{enumerable:!0,get:h[v]})}})(),function(){r.o=function(m,h){return Object.prototype.hasOwnProperty.call(m,h)}}();var n={};r.d(n,{default:function(){return sC}});class i{constructor(h,v){this.name=void 0,this.position=void 0,this.length=void 0,this.rawMessage=void 0;let S="KaTeX parse error: "+h,E,I;const O=v&&v.loc;if(O&&O.start<=O.end){const Y=O.lexer.input;E=O.start,I=O.end,E===Y.length?S+=" at end of input: ":S+=" at position "+(E+1)+": ";const ne=Y.slice(E,I).replace(/[^]/g,"$&");let ae;E>15?ae=""+Y.slice(E-15,E):ae=Y.slice(0,E);let ce;I+15<Y.length?ce=Y.slice(I,I+15)+"":ce=Y.slice(I),S+=ae+ne+ce}const j=new Error(S);return j.name="ParseError",j.__proto__=i.prototype,j.position=E,E!=null&&I!=null&&(j.length=I-E),j.rawMessage=h,j}}i.prototype.__proto__=Error.prototype;var a=i;const s=function(m,h){return m.indexOf(h)!==-1},o=function(m,h){return m===void 0?h:m},l=/([A-Z])/g,u=function(m){return m.replace(l,"-$1").toLowerCase()},c={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},f=/[&><"']/g;function d(m){return String(m).replace(f,h=>c[h])}const p=function(m){return m.type==="ordgroup"||m.type==="color"?m.body.length===1?p(m.body[0]):m:m.type==="font"?p(m.body):m},g=function(m){const h=p(m);return h.type==="mathord"||h.type==="textord"||h.type==="atom"},y=function(m){if(!m)throw new Error("Expected non-null, but got "+String(m));return m};var x={contains:s,deflt:o,escape:d,hyphenate:u,getBaseElem:p,isCharacterBox:g,protocolFromUrl:function(m){const h=/^[\x00-\x20]*([^\\/#?]*?)(:|&#0*58|&#x0*3a|&colon)/i.exec(m);return h?h[2]!==":"||!/^[a-zA-Z][a-zA-Z0-9+\-.]*$/.test(h[1])?null:h[1].toLowerCase():"_relative"}};const w={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml","html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format <type>"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",default:"#cc0000",cli:"-c, --error-color <color>",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:m=>"#"+m},macros:{type:"object",cli:"-m, --macro <def>",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:(m,h)=>(h.push(m),h)},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:m=>Math.max(0,m),cli:"--min-rule-thickness <size>",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:1/0,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:m=>Math.max(0,m),cli:"-s, --max-size <n>",cliProcessor:parseInt},maxExpand:{type:"number",default:1e3,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",processor:m=>Math.max(0,m),cli:"-e, --max-expand <n>",cliProcessor:m=>m==="Infinity"?1/0:parseInt(m)},globalGroup:{type:"boolean",cli:!1}};function _(m){if(m.default)return m.default;const h=m.type,v=Array.isArray(h)?h[0]:h;if(typeof v!="string")return v.enum[0];switch(v){case"boolean":return!1;case"string":return"";case"number":return 0;case"object":return{}}}class k{constructor(h){this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,h=h||{};for(const v in w)if(w.hasOwnProperty(v)){const S=w[v];this[v]=h[v]!==void 0?S.processor?S.processor(h[v]):h[v]:_(S)}}reportNonstrict(h,v,S){let E=this.strict;if(typeof E=="function"&&(E=E(h,v,S)),!(!E||E==="ignore")){if(E===!0||E==="error")throw new a("LaTeX-incompatible input and strict mode is set to 'error': "+(v+" ["+h+"]"),S);E==="warn"?typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(v+" ["+h+"]")):typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+E+"': "+v+" ["+h+"]"))}}useStrictBehavior(h,v,S){let E=this.strict;if(typeof E=="function")try{E=E(h,v,S)}catch{E="error"}return!E||E==="ignore"?!1:E===!0||E==="error"?!0:E==="warn"?(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(v+" ["+h+"]")),!1):(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+E+"': "+v+" ["+h+"]")),!1)}isTrusted(h){if(h.url&&!h.protocol){const S=x.protocolFromUrl(h.url);if(S==null)return!1;h.protocol=S}return!!(typeof this.trust=="function"?this.trust(h):this.trust)}}class T{constructor(h,v,S){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=h,this.size=v,this.cramped=S}sup(){return V[X[this.id]]}sub(){return V[K[this.id]]}fracNum(){return V[W[this.id]]}fracDen(){return V[H[this.id]]}cramp(){return V[ee[this.id]]}text(){return V[re[this.id]]}isTight(){return this.size>=2}}const P=0,M=1,A=2,L=3,R=4,N=5,F=6,$=7,V=[new T(P,0,!1),new T(M,0,!0),new T(A,1,!1),new T(L,1,!0),new T(R,2,!1),new T(N,2,!0),new T(F,3,!1),new T($,3,!0)],X=[R,N,R,N,F,$,F,$],K=[N,N,N,N,$,$,$,$],W=[A,L,R,N,F,$,F,$],H=[L,L,N,N,$,$,$,$],ee=[M,M,L,L,N,N,$,$],re=[P,M,A,L,A,L,A,L];var G={DISPLAY:V[P],TEXT:V[A],SCRIPT:V[R],SCRIPTSCRIPT:V[F]};const Z=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}];function ue(m){for(let h=0;h<Z.length;h++){const v=Z[h];for(let S=0;S<v.blocks.length;S++){const E=v.blocks[S];if(m>=E[0]&&m<=E[1])return v.name}}return null}const pe=[];Z.forEach(m=>m.blocks.forEach(h=>pe.push(...h)));function ge(m){for(let h=0;h<pe.length;h+=2)if(m>=pe[h]&&m<=pe[h+1])return!0;return!1}const fe=80,Se=function(m,h){return"M95,"+(622+m+h)+`
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l`+m/2.075+" -"+m+`
c5.3,-9.3,12,-14,20,-14
H400000v`+(40+m)+`H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M`+(834+m)+" "+h+"h400000v"+(40+m)+"h-400000z"},Te=function(m,h){return"M263,"+(601+m+h)+`c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l`+m/2.084+" -"+m+`
c4.7,-7.3,11,-11,19,-11
H40000v`+(40+m)+`H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M`+(1001+m)+" "+h+"h400000v"+(40+m)+"h-400000z"},ve=function(m,h){return"M983 "+(10+m+h)+`
l`+m/3.13+" -"+m+`
c4,-6.7,10,-10,18,-10 H400000v`+(40+m)+`
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M`+(1001+m)+" "+h+"h400000v"+(40+m)+"h-400000z"},se=function(m,h){return"M424,"+(2398+m+h)+`
c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514
c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20
s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121
s209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081
l`+m/4.223+" -"+m+`c4,-6.7,10,-10,18,-10 H400000
v`+(40+m)+`H1014.6
s-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185
c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2z M`+(1001+m)+" "+h+`
h400000v`+(40+m)+"h-400000z"},ye=function(m,h){return"M473,"+(2713+m+h)+`
c339.3,-1799.3,509.3,-2700,510,-2702 l`+m/5.298+" -"+m+`
c3.3,-7.3,9.3,-11,18,-11 H400000v`+(40+m)+`H1017.7
s-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200
c0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26
s76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,
606zM`+(1001+m)+" "+h+"h400000v"+(40+m)+"H1017.7z"},we=function(m){const h=m/2;return"M400000 "+m+" H0 L"+h+" 0 l65 45 L145 "+(m-80)+" H400000z"},Re=function(m,h,v){const S=v-54-h-m;return"M702 "+(m+h)+"H400000"+(40+m)+`
H742v`+S+`l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1
h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170
c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667
219 661 l218 661zM702 `+h+"H400000v"+(40+m)+"H742z"},Ve=function(m,h,v){h=1e3*h;let S="";switch(m){case"sqrtMain":S=Se(h,fe);break;case"sqrtSize1":S=Te(h,fe);break;case"sqrtSize2":S=ve(h,fe);break;case"sqrtSize3":S=se(h,fe);break;case"sqrtSize4":S=ye(h,fe);break;case"sqrtTall":S=Re(h,fe,v)}return S},st=function(m,h){switch(m){case"":return"M291 0 H417 V"+h+" H291z M291 0 H417 V"+h+" H291z";case"":return"M145 0 H188 V"+h+" H145z M145 0 H188 V"+h+" H145z";case"":return"M145 0 H188 V"+h+" H145z M145 0 H188 V"+h+" H145z"+("M367 0 H410 V"+h+" H367z M367 0 H410 V"+h+" H367z");case"":return"M457 0 H583 V"+h+" H457z M457 0 H583 V"+h+" H457z";case"":return"M319 0 H403 V"+h+" H319z M319 0 H403 V"+h+" H319z";case"":return"M263 0 H347 V"+h+" H263z M263 0 H347 V"+h+" H263z";case"":return"M384 0 H504 V"+h+" H384z M384 0 H504 V"+h+" H384z";case"":return"M312 0 H355 V"+h+" H312z M312 0 H355 V"+h+" H312z";case"":return"M257 0 H300 V"+h+" H257z M257 0 H300 V"+h+" H257z"+("M478 0 H521 V"+h+" H478z M478 0 H521 V"+h+" H478z");default:return""}},Lt={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,tilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,tilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,tilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,tilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`},Et=function(m,h){switch(m){case"lbrack":return"M403 1759 V84 H666 V0 H319 V1759 v"+h+` v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v`+h+" v1759 h84z";case"rbrack":return"M347 1759 V0 H0 V84 H263 V1759 v"+h+` v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v`+h+" v1759 h84z";case"vert":return"M145 15 v585 v"+h+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-h+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+h+" v585 h43z";case"doublevert":return"M145 15 v585 v"+h+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-h+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+h+` v585 h43z
M367 15 v585 v`+h+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-h+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M410 15 H367 v585 v`+h+" v585 h43z";case"lfloor":return"M319 602 V0 H403 V602 v"+h+` v1715 h263 v84 H319z
MM319 602 V0 H403 V602 v`+h+" v1715 H319z";case"rfloor":return"M319 602 V0 H403 V602 v"+h+` v1799 H0 v-84 H319z
MM319 602 V0 H403 V602 v`+h+" v1715 H319z";case"lceil":return"M403 1759 V84 H666 V0 H319 V1759 v"+h+` v602 h84z
M403 1759 V0 H319 V1759 v`+h+" v602 h84z";case"rceil":return"M347 1759 V0 H0 V84 H263 V1759 v"+h+` v602 h84z
M347 1759 V0 h-84 V1759 v`+h+" v602 h84z";case"lparen":return`M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,`+(h+84)+`c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-`+(h+92)+`c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z`;case"rparen":return`M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,`+(h+9)+`
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-`+(h+144)+`c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z`;default:throw new Error("Unknown stretchy delimiter.")}};class Be{constructor(h){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=h,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass(h){return x.contains(this.classes,h)}toNode(){const h=document.createDocumentFragment();for(let v=0;v<this.children.length;v++)h.appendChild(this.children[v].toNode());return h}toMarkup(){let h="";for(let v=0;v<this.children.length;v++)h+=this.children[v].toMarkup();return h}toText(){const h=v=>v.toText();return this.children.map(h).join("")}}var ze={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}};const Ye={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},rt={:"A",:"D",:"o",:"a",:"d",:"o",:"A",:"B",:"B",:"F",:"A",:"E",:"K",:"3",:"N",:"N",:"K",:"N",:"M",:"H",:"O",:"N",:"P",:"C",:"T",:"y",:"O",:"X",:"U",:"h",:"W",:"W",:"B",:"X",:"B",:"3",:"X",:"R",:"a",:"b",:"a",:"r",:"y",:"e",:"m",:"e",:"n",:"n",:"n",:"n",:"m",:"n",:"o",:"n",:"p",:"c",:"o",:"y",:"b",:"x",:"n",:"n",:"w",:"w",:"a",:"m",:"a",:"e",:"m",:"r"};function Ze(m,h){ze[m]=h}function tt(m,h,v){if(!ze[h])throw new Error("Font metrics not found for font: "+h+".");let S=m.charCodeAt(0),E=ze[h][S];if(!E&&m[0]in rt&&(S=rt[m[0]].charCodeAt(0),E=ze[h][S]),!E&&v==="text"&&ge(S)&&(E=ze[h][77]),E)return{depth:E[0],height:E[1],italic:E[2],skew:E[3],width:E[4]}}const at={};function ut(m){let h;if(m>=5?h=0:m>=3?h=1:h=2,!at[h]){const v=at[h]={cssEmPerMu:Ye.quad[h]/18};for(const S in Ye)Ye.hasOwnProperty(S)&&(v[S]=Ye[S][h])}return at[h]}const Me=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],U=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],le=function(m,h){return h.size<2?m:Me[m-1][h.size-1]};class xe{constructor(h){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=h.style,this.color=h.color,this.size=h.size||xe.BASESIZE,this.textSize=h.textSize||this.size,this.phantom=!!h.phantom,this.font=h.font||"",this.fontFamily=h.fontFamily||"",this.fontWeight=h.fontWeight||"",this.fontShape=h.fontShape||"",this.sizeMultiplier=U[this.size-1],this.maxSize=h.maxSize,this.minRuleThickness=h.minRuleThickness,this._fontMetrics=void 0}extend(h){const v={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(const S in h)h.hasOwnProperty(S)&&(v[S]=h[S]);return new xe(v)}havingStyle(h){return this.style===h?this:this.extend({style:h,size:le(this.textSize,h)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize(h){return this.size===h&&this.textSize===h?this:this.extend({style:this.style.text(),size:h,textSize:h,sizeMultiplier:U[h-1]})}havingBaseStyle(h){h=h||this.style.text();const v=le(xe.BASESIZE,h);return this.size===v&&this.textSize===xe.BASESIZE&&this.style===h?this:this.extend({style:h,size:v})}havingBaseSizing(){let h;switch(this.style.id){case 4:case 5:h=3;break;case 6:case 7:h=1;break;default:h=6}return this.extend({style:this.style.text(),size:h})}withColor(h){return this.extend({color:h})}withPhantom(){return this.extend({phantom:!0})}withFont(h){return this.extend({font:h})}withTextFontFamily(h){return this.extend({fontFamily:h,font:""})}withTextFontWeight(h){return this.extend({fontWeight:h,font:""})}withTextFontShape(h){return this.extend({fontShape:h,font:""})}sizingClasses(h){return h.size!==this.size?["sizing","reset-size"+h.size,"size"+this.size]:[]}baseSizingClasses(){return this.size!==xe.BASESIZE?["sizing","reset-size"+this.size,"size"+xe.BASESIZE]:[]}fontMetrics(){return this._fontMetrics||(this._fontMetrics=ut(this.size)),this._fontMetrics}getColor(){return this.phantom?"transparent":this.color}}xe.BASESIZE=6;var oe=xe;const he={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:803/800,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:803/800},Oe={ex:!0,em:!0,mu:!0},ke=function(m){return typeof m!="string"&&(m=m.unit),m in he||m in Oe||m==="ex"},Pe=function(m,h){let v;if(m.unit in he)v=he[m.unit]/h.fontMetrics().ptPerEm/h.sizeMultiplier;else if(m.unit==="mu")v=h.fontMetrics().cssEmPerMu;else{let S;if(h.style.isTight()?S=h.havingStyle(h.style.text()):S=h,m.unit==="ex")v=S.fontMetrics().xHeight;else if(m.unit==="em")v=S.fontMetrics().quad;else throw new a("Invalid unit: '"+m.unit+"'");S!==h&&(v*=S.sizeMultiplier/h.sizeMultiplier)}return Math.min(m.number*v,h.maxSize)},be=function(m){return+m.toFixed(4)+"em"},Je=function(m){return m.filter(h=>h).join(" ")},Ue=function(m,h,v){if(this.classes=m||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=v||{},h){h.style.isTight()&&this.classes.push("mtight");const S=h.getColor();S&&(this.style.color=S)}},nt=function(m){const h=document.createElement(m);h.className=Je(this.classes);for(const v in this.style)this.style.hasOwnProperty(v)&&(h.style[v]=this.style[v]);for(const v in this.attributes)this.attributes.hasOwnProperty(v)&&h.setAttribute(v,this.attributes[v]);for(let v=0;v<this.children.length;v++)h.appendChild(this.children[v].toNode());return h},it=function(m){let h="<"+m;this.classes.length&&(h+=' class="'+x.escape(Je(this.classes))+'"');let v="";for(const S in this.style)this.style.hasOwnProperty(S)&&(v+=x.hyphenate(S)+":"+this.style[S]+";");v&&(h+=' style="'+x.escape(v)+'"');for(const S in this.attributes)this.attributes.hasOwnProperty(S)&&(h+=" "+S+'="'+x.escape(this.attributes[S])+'"');h+=">";for(let S=0;S<this.children.length;S++)h+=this.children[S].toMarkup();return h+="</"+m+">",h};class Xe{constructor(h,v,S,E){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,Ue.call(this,h,S,E),this.children=v||[]}setAttribute(h,v){this.attributes[h]=v}hasClass(h){return x.contains(this.classes,h)}toNode(){return nt.call(this,"span")}toMarkup(){return it.call(this,"span")}}class Pt{constructor(h,v,S,E){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,Ue.call(this,v,E),this.children=S||[],this.setAttribute("href",h)}setAttribute(h,v){this.attributes[h]=v}hasClass(h){return x.contains(this.classes,h)}toNode(){return nt.call(this,"a")}toMarkup(){return it.call(this,"a")}}class Kt{constructor(h,v,S){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=v,this.src=h,this.classes=["mord"],this.style=S}hasClass(h){return x.contains(this.classes,h)}toNode(){const h=document.createElement("img");h.src=this.src,h.alt=this.alt,h.className="mord";for(const v in this.style)this.style.hasOwnProperty(v)&&(h.style[v]=this.style[v]);return h}toMarkup(){let h='<img src="'+x.escape(this.src)+'"'+(' alt="'+x.escape(this.alt)+'"'),v="";for(const S in this.style)this.style.hasOwnProperty(S)&&(v+=x.hyphenate(S)+":"+this.style[S]+";");return v&&(h+=' style="'+x.escape(v)+'"'),h+="'/>",h}}const dn={:"",:"",:"",:""};class Vt{constructor(h,v,S,E,I,O,j,Y){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=h,this.height=v||0,this.depth=S||0,this.italic=E||0,this.skew=I||0,this.width=O||0,this.classes=j||[],this.style=Y||{},this.maxFontSize=0;const ne=ue(this.text.charCodeAt(0));ne&&this.classes.push(ne+"_fallback"),/[]/.test(this.text)&&(this.text=dn[this.text])}hasClass(h){return x.contains(this.classes,h)}toNode(){const h=document.createTextNode(this.text);let v=null;this.italic>0&&(v=document.createElement("span"),v.style.marginRight=be(this.italic)),this.classes.length>0&&(v=v||document.createElement("span"),v.className=Je(this.classes));for(const S in this.style)this.style.hasOwnProperty(S)&&(v=v||document.createElement("span"),v.style[S]=this.style[S]);return v?(v.appendChild(h),v):h}toMarkup(){let h=!1,v="<span";this.classes.length&&(h=!0,v+=' class="',v+=x.escape(Je(this.classes)),v+='"');let S="";this.italic>0&&(S+="margin-right:"+this.italic+"em;");for(const I in this.style)this.style.hasOwnProperty(I)&&(S+=x.hyphenate(I)+":"+this.style[I]+";");S&&(h=!0,v+=' style="'+x.escape(S)+'"');const E=x.escape(this.text);return h?(v+=">",v+=E,v+="</span>",v):E}}class Rt{constructor(h,v){this.children=void 0,this.attributes=void 0,this.children=h||[],this.attributes=v||{}}toNode(){const h="http://www.w3.org/2000/svg",v=document.createElementNS(h,"svg");for(const S in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,S)&&v.setAttribute(S,this.attributes[S]);for(let S=0;S<this.children.length;S++)v.appendChild(this.children[S].toNode());return v}toMarkup(){let h='<svg xmlns="http://www.w3.org/2000/svg"';for(const v in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,v)&&(h+=" "+v+'="'+x.escape(this.attributes[v])+'"');h+=">";for(let v=0;v<this.children.length;v++)h+=this.children[v].toMarkup();return h+="</svg>",h}}class $t{constructor(h,v){this.pathName=void 0,this.alternate=void 0,this.pathName=h,this.alternate=v}toNode(){const h="http://www.w3.org/2000/svg",v=document.createElementNS(h,"path");return this.alternate?v.setAttribute("d",this.alternate):v.setAttribute("d",Lt[this.pathName]),v}toMarkup(){return this.alternate?'<path d="'+x.escape(this.alternate)+'"/>':'<path d="'+x.escape(Lt[this.pathName])+'"/>'}}class dr{constructor(h){this.attributes=void 0,this.attributes=h||{}}toNode(){const h="http://www.w3.org/2000/svg",v=document.createElementNS(h,"line");for(const S in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,S)&&v.setAttribute(S,this.attributes[S]);return v}toMarkup(){let h="<line";for(const v in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,v)&&(h+=" "+v+'="'+x.escape(this.attributes[v])+'"');return h+="/>",h}}function zr(m){if(m instanceof Vt)return m;throw new Error("Expected symbolNode but got "+String(m)+".")}function Gr(m){if(m instanceof Xe)return m;throw new Error("Expected span<HtmlDomNode> but got "+String(m)+".")}const Yn={bin:1,close:1,inner:1,open:1,punct:1,rel:1},kn={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},hn={math:{},text:{}};var yt=hn;function C(m,h,v,S,E,I){hn[m][E]={font:h,group:v,replace:S},I&&S&&(hn[m][S]=hn[m][E])}const D="math",_e="text",B="main",J="ams",gt="accent-token",$e="bin",Yr="close",Ea="inner",Qe="mathord",hr="op-token",pn="open",ko="punct",te="rel",gn="spacing",ie="textord";C(D,B,te,"","\\equiv",!0),C(D,B,te,"","\\prec",!0),C(D,B,te,"","\\succ",!0),C(D,B,te,"","\\sim",!0),C(D,B,te,"","\\perp"),C(D,B,te,"","\\preceq",!0),C(D,B,te,"","\\succeq",!0),C(D,B,te,"","\\simeq",!0),C(D,B,te,"","\\mid",!0),C(D,B,te,"","\\ll",!0),C(D,B,te,"","\\gg",!0),C(D,B,te,"","\\asymp",!0),C(D,B,te,"","\\parallel"),C(D,B,te,"","\\bowtie",!0),C(D,B,te,"","\\smile",!0),C(D,B,te,"","\\sqsubseteq",!0),C(D,B,te,"","\\sqsupseteq",!0),C(D,B,te,"","\\doteq",!0),C(D,B,te,"","\\frown",!0),C(D,B,te,"","\\ni",!0),C(D,B,te,"","\\propto",!0),C(D,B,te,"","\\vdash",!0),C(D,B,te,"","\\dashv",!0),C(D,B,te,"","\\owns"),C(D,B,ko,".","\\ldotp"),C(D,B,ko,"","\\cdotp"),C(D,B,ie,"#","\\#"),C(_e,B,ie,"#","\\#"),C(D,B,ie,"&","\\&"),C(_e,B,ie,"&","\\&"),C(D,B,ie,"","\\aleph",!0),C(D,B,ie,"","\\forall",!0),C(D,B,ie,"","\\hbar",!0),C(D,B,ie,"","\\exists",!0),C(D,B,ie,"","\\nabla",!0),C(D,B,ie,"","\\flat",!0),C(D,B,ie,"","\\ell",!0),C(D,B,ie,"","\\natural",!0),C(D,B,ie,"","\\clubsuit",!0),C(D,B,ie,"","\\wp",!0),C(D,B,ie,"","\\sharp",!0),C(D,B,ie,"","\\diamondsuit",!0),C(D,B,ie,"","\\Re",!0),C(D,B,ie,"","\\heartsuit",!0),C(D,B,ie,"","\\Im",!0),C(D,B,ie,"","\\spadesuit",!0),C(D,B,ie,"","\\S",!0),C(_e,B,ie,"","\\S"),C(D,B,ie,"","\\P",!0),C(_e,B,ie,"","\\P"),C(D,B,ie,"","\\dag"),C(_e,B,ie,"","\\dag"),C(_e,B,ie,"","\\textdagger"),C(D,B,ie,"","\\ddag"),C(_e,B,ie,"","\\ddag"),C(_e,B,ie,"","\\textdaggerdbl"),C(D,B,Yr,"","\\rmoustache",!0),C(D,B,pn,"","\\lmoustache",!0),C(D,B,Yr,"","\\rgroup",!0),C(D,B,pn,"","\\lgroup",!0),C(D,B,$e,"","\\mp",!0),C(D,B,$e,"","\\ominus",!0),C(D,B,$e,"","\\uplus",!0),C(D,B,$e,"","\\sqcap",!0),C(D,B,$e,"","\\ast"),C(D,B,$e,"","\\sqcup",!0),C(D,B,$e,"","\\bigcirc",!0),C(D,B,$e,"","\\bullet",!0),C(D,B,$e,"","\\ddagger"),C(D,B,$e,"","\\wr",!0),C(D,B,$e,"","\\amalg"),C(D,B,$e,"&","\\And"),C(D,B,te,"","\\longleftarrow",!0),C(D,B,te,"","\\Leftarrow",!0),C(D,B,te,"","\\Longleftarrow",!0),C(D,B,te,"","\\longrightarrow",!0),C(D,B,te,"","\\Rightarrow",!0),C(D,B,te,"","\\Longrightarrow",!0),C(D,B,te,"","\\leftrightarrow",!0),C(D,B,te,"","\\longleftrightarrow",!0),C(D,B,te,"","\\Leftrightarrow",!0),C(D,B,te,"","\\Longleftrightarrow",!0),C(D,B,te,"","\\mapsto",!0),C(D,B,te,"","\\longmapsto",!0),C(D,B,te,"","\\nearrow",!0),C(D,B,te,"","\\hookleftarrow",!0),C(D,B,te,"","\\hookrightarrow",!0),C(D,B,te,"","\\searrow",!0),C(D,B,te,"","\\leftharpoonup",!0),C(D,B,te,"","\\rightharpoonup",!0),C(D,B,te,"","\\swarrow",!0),C(D,B,te,"","\\leftharpoondown",!0),C(D,B,te,"","\\rightharpoondown",!0),C(D,B,te,"","\\nwarrow",!0),C(D,B,te,"","\\rightleftharpoons",!0),C(D,J,te,"","\\nless",!0),C(D,J,te,"","\\@nleqslant"),C(D,J,te,"","\\@nleqq"),C(D,J,te,"","\\lneq",!0),C(D,J,te,"","\\lneqq",!0),C(D,J,te,"","\\@lvertneqq"),C(D,J,te,"","\\lnsim",!0),C(D,J,te,"","\\lnapprox",!0),C(D,J,te,"","\\nprec",!0),C(D,J,te,"","\\npreceq",!0),C(D,J,te,"","\\precnsim",!0),C(D,J,te,"","\\precnapprox",!0),C(D,J,te,"","\\nsim",!0),C(D,J,te,"","\\@nshortmid"),C(D,J,te,"","\\nmid",!0),C(D,J,te,"","\\nvdash",!0),C(D,J,te,"","\\nvDash",!0),C(D,J,te,"","\\ntriangleleft"),C(D,J,te,"","\\ntrianglelefteq",!0),C(D,J,te,"","\\subsetneq",!0),C(D,J,te,"","\\@varsubsetneq"),C(D,J,te,"","\\subsetneqq",!0),C(D,J,te,"","\\@varsubsetneqq"),C(D,J,te,"","\\ngtr",!0),C(D,J,te,"","\\@ngeqslant"),C(D,J,te,"","\\@ngeqq"),C(D,J,te,"","\\gneq",!0),C(D,J,te,"","\\gneqq",!0),C(D,J,te,"","\\@gvertneqq"),C(D,J,te,"","\\gnsim",!0),C(D,J,te,"","\\gnapprox",!0),C(D,J,te,"","\\nsucc",!0),C(D,J,te,"","\\nsucceq",!0),C(D,J,te,"","\\succnsim",!0),C(D,J,te,"","\\succnapprox",!0),C(D,J,te,"","\\ncong",!0),C(D,J,te,"","\\@nshortparallel"),C(D,J,te,"","\\nparallel",!0),C(D,J,te,"","\\nVDash",!0),C(D,J,te,"","\\ntriangleright"),C(D,J,te,"","\\ntrianglerighteq",!0),C(D,J,te,"","\\@nsupseteqq"),C(D,J,te,"","\\supsetneq",!0),C(D,J,te,"","\\@varsupsetneq"),C(D,J,te,"","\\supsetneqq",!0),C(D,J,te,"","\\@varsupsetneqq"),C(D,J,te,"","\\nVdash",!0),C(D,J,te,"","\\precneqq",!0),C(D,J,te,"","\\succneqq",!0),C(D,J,te,"","\\@nsubseteqq"),C(D,J,$e,"","\\unlhd"),C(D,J,$e,"","\\unrhd"),C(D,J,te,"","\\nleftarrow",!0),C(D,J,te,"","\\nrightarrow",!0),C(D,J,te,"","\\nLeftarrow",!0),C(D,J,te,"","\\nRightarrow",!0),C(D,J,te,"","\\nleftrightarrow",!0),C(D,J,te,"","\\nLeftrightarrow",!0),C(D,J,te,"","\\vartriangle"),C(D,J,ie,"","\\hslash"),C(D,J,ie,"","\\triangledown"),C(D,J,ie,"","\\lozenge"),C(D,J,ie,"","\\circledS"),C(D,J,ie,"","\\circledR"),C(_e,J,ie,"","\\circledR"),C(D,J,ie,"","\\measuredangle",!0),C(D,J,ie,"","\\nexists"),C(D,J,ie,"","\\mho"),C(D,J,ie,"","\\Finv",!0),C(D,J,ie,"","\\Game",!0),C(D,J,ie,"","\\backprime"),C(D,J,ie,"","\\blacktriangle"),C(D,J,ie,"","\\blacktriangledown"),C(D,J,ie,"","\\blacksquare"),C(D,J,ie,"","\\blacklozenge"),C(D,J,ie,"","\\bigstar"),C(D,J,ie,"","\\sphericalangle",!0),C(D,J,ie,"","\\complement",!0),C(D,J,ie,"","\\eth",!0),C(_e,B,ie,"",""),C(D,J,ie,"","\\diagup"),C(D,J,ie,"","\\diagdown"),C(D,J,ie,"","\\square"),C(D,J,ie,"","\\Box"),C(D,J,ie,"","\\Diamond"),C(D,J,ie,"","\\yen",!0),C(_e,J,ie,"","\\yen",!0),C(D,J,ie,"","\\checkmark",!0),C(_e,J,ie,"","\\checkmark"),C(D,J,ie,"","\\beth",!0),C(D,J,ie,"","\\daleth",!0),C(D,J,ie,"","\\gimel",!0),C(D,J,ie,"","\\digamma",!0),C(D,J,ie,"","\\varkappa"),C(D,J,pn,"","\\@ulcorner",!0),C(D,J,Yr,"","\\@urcorner",!0),C(D,J,pn,"","\\@llcorner",!0),C(D,J,Yr,"","\\@lrcorner",!0),C(D,J,te,"","\\leqq",!0),C(D,J,te,"","\\leqslant",!0),C(D,J,te,"","\\eqslantless",!0),C(D,J,te,"","\\lesssim",!0),C(D,J,te,"","\\lessapprox",!0),C(D,J,te,"","\\approxeq",!0),C(D,J,$e,"","\\lessdot"),C(D,J,te,"","\\lll",!0),C(D,J,te,"","\\lessgtr",!0),C(D,J,te,"","\\lesseqgtr",!0),C(D,J,te,"","\\lesseqqgtr",!0),C(D,J,te,"","\\doteqdot"),C(D,J,te,"","\\risingdotseq",!0),C(D,J,te,"","\\fallingdotseq",!0),C(D,J,te,"","\\backsim",!0),C(D,J,te,"","\\backsimeq",!0),C(D,J,te,"","\\subseteqq",!0),C(D,J,te,"","\\Subset",!0),C(D,J,te,"","\\sqsubset",!0),C(D,J,te,"","\\preccurlyeq",!0),C(D,J,te,"","\\curlyeqprec",!0),C(D,J,te,"","\\precsim",!0),C(D,J,te,"","\\precapprox",!0),C(D,J,te,"","\\vartriangleleft"),C(D,J,te,"","\\trianglelefteq"),C(D,J,te,"","\\vDash",!0),C(D,J,te,"","\\Vvdash",!0),C(D,J,te,"","\\smallsmile"),C(D,J,te,"","\\smallfrown"),C(D,J,te,"","\\bumpeq",!0),C(D,J,te,"","\\Bumpeq",!0),C(D,J,te,"","\\geqq",!0),C(D,J,te,"","\\geqslant",!0),C(D,J,te,"","\\eqslantgtr",!0),C(D,J,te,"","\\gtrsim",!0),C(D,J,te,"","\\gtrapprox",!0),C(D,J,$e,"","\\gtrdot"),C(D,J,te,"","\\ggg",!0),C(D,J,te,"","\\gtrless",!0),C(D,J,te,"","\\gtreqless",!0),C(D,J,te,"","\\gtreqqless",!0),C(D,J,te,"","\\eqcirc",!0),C(D,J,te,"","\\circeq",!0),C(D,J,te,"","\\triangleq",!0),C(D,J,te,"","\\thicksim"),C(D,J,te,"","\\thickapprox"),C(D,J,te,"","\\supseteqq",!0),C(D,J,te,"","\\Supset",!0),C(D,J,te,"","\\sqsupset",!0),C(D,J,te,"","\\succcurlyeq",!0),C(D,J,te,"","\\curlyeqsucc",!0),C(D,J,te,"","\\succsim",!0),C(D,J,te,"","\\succapprox",!0),C(D,J,te,"","\\vartriangleright"),C(D,J,te,"","\\trianglerighteq"),C(D,J,te,"","\\Vdash",!0),C(D,J,te,"","\\shortmid"),C(D,J,te,"","\\shortparallel"),C(D,J,te,"","\\between",!0),C(D,J,te,"","\\pitchfork",!0),C(D,J,te,"","\\varpropto"),C(D,J,te,"","\\blacktriangleleft"),C(D,J,te,"","\\therefore",!0),C(D,J,te,"","\\backepsilon"),C(D,J,te,"","\\blacktriangleright"),C(D,J,te,"","\\because",!0),C(D,J,te,"","\\llless"),C(D,J,te,"","\\gggtr"),C(D,J,$e,"","\\lhd"),C(D,J,$e,"","\\rhd"),C(D,J,te,"","\\eqsim",!0),C(D,B,te,"","\\Join"),C(D,J,te,"","\\Doteq",!0),C(D,J,$e,"","\\dotplus",!0),C(D,J,$e,"","\\smallsetminus"),C(D,J,$e,"","\\Cap",!0),C(D,J,$e,"","\\Cup",!0),C(D,J,$e,"","\\doublebarwedge",!0),C(D,J,$e,"","\\boxminus",!0),C(D,J,$e,"","\\boxplus",!0),C(D,J,$e,"","\\divideontimes",!0),C(D,J,$e,"","\\ltimes",!0),C(D,J,$e,"","\\rtimes",!0),C(D,J,$e,"","\\leftthreetimes",!0),C(D,J,$e,"","\\rightthreetimes",!0),C(D,J,$e,"","\\curlywedge",!0),C(D,J,$e,"","\\curlyvee",!0),C(D,J,$e,"","\\circleddash",!0),C(D,J,$e,"","\\circledast",!0),C(D,J,$e,"","\\centerdot"),C(D,J,$e,"","\\intercal",!0),C(D,J,$e,"","\\doublecap"),C(D,J,$e,"","\\doublecup"),C(D,J,$e,"","\\boxtimes",!0),C(D,J,te,"","\\dashrightarrow",!0),C(D,J,te,"","\\dashleftarrow",!0),C(D,J,te,"","\\leftleftarrows",!0),C(D,J,te,"","\\leftrightarrows",!0),C(D,J,te,"","\\Lleftarrow",!0),C(D,J,te,"","\\twoheadleftarrow",!0),C(D,J,te,"","\\leftarrowtail",!0),C(D,J,te,"","\\looparrowleft",!0),C(D,J,te,"","\\leftrightharpoons",!0),C(D,J,te,"","\\curvearrowleft",!0),C(D,J,te,"","\\circlearrowleft",!0),C(D,J,te,"","\\Lsh",!0),C(D,J,te,"","\\upuparrows",!0),C(D,J,te,"","\\upharpoonleft",!0),C(D,J,te,"","\\downharpoonleft",!0),C(D,B,te,"","\\origof",!0),C(D,B,te,"","\\imageof",!0),C(D,J,te,"","\\multimap",!0),C(D,J,te,"","\\leftrightsquigarrow",!0),C(D,J,te,"","\\rightrightarrows",!0),C(D,J,te,"","\\rightleftarrows",!0),C(D,J,te,"","\\twoheadrightarrow",!0),C(D,J,te,"","\\rightarrowtail",!0),C(D,J,te,"","\\looparrowright",!0),C(D,J,te,"","\\curvearrowright",!0),C(D,J,te,"","\\circlearrowright",!0),C(D,J,te,"","\\Rsh",!0),C(D,J,te,"","\\downdownarrows",!0),C(D,J,te,"","\\upharpoonright",!0),C(D,J,te,"","\\downharpoonright",!0),C(D,J,te,"","\\rightsquigarrow",!0),C(D,J,te,"","\\leadsto"),C(D,J,te,"","\\Rrightarrow",!0),C(D,J,te,"","\\restriction"),C(D,B,ie,"","`"),C(D,B,ie,"$","\\$"),C(_e,B,ie,"$","\\$"),C(_e,B,ie,"$","\\textdollar"),C(D,B,ie,"%","\\%"),C(_e,B,ie,"%","\\%"),C(D,B,ie,"_","\\_"),C(_e,B,ie,"_","\\_"),C(_e,B,ie,"_","\\textunderscore"),C(D,B,ie,"","\\angle",!0),C(D,B,ie,"","\\infty",!0),C(D,B,ie,"","\\prime"),C(D,B,ie,"","\\triangle"),C(D,B,ie,"","\\Gamma",!0),C(D,B,ie,"","\\Delta",!0),C(D,B,ie,"","\\Theta",!0),C(D,B,ie,"","\\Lambda",!0),C(D,B,ie,"","\\Xi",!0),C(D,B,ie,"","\\Pi",!0),C(D,B,ie,"","\\Sigma",!0),C(D,B,ie,"","\\Upsilon",!0),C(D,B,ie,"","\\Phi",!0),C(D,B,ie,"","\\Psi",!0),C(D,B,ie,"","\\Omega",!0),C(D,B,ie,"A",""),C(D,B,ie,"B",""),C(D,B,ie,"E",""),C(D,B,ie,"Z",""),C(D,B,ie,"H",""),C(D,B,ie,"I",""),C(D,B,ie,"K",""),C(D,B,ie,"M",""),C(D,B,ie,"N",""),C(D,B,ie,"O",""),C(D,B,ie,"P",""),C(D,B,ie,"T",""),C(D,B,ie,"X",""),C(D,B,ie,"","\\neg",!0),C(D,B,ie,"","\\lnot"),C(D,B,ie,"","\\top"),C(D,B,ie,"","\\bot"),C(D,B,ie,"","\\emptyset"),C(D,J,ie,"","\\varnothing"),C(D,B,Qe,"","\\alpha",!0),C(D,B,Qe,"","\\beta",!0),C(D,B,Qe,"","\\gamma",!0),C(D,B,Qe,"","\\delta",!0),C(D,B,Qe,"","\\epsilon",!0),C(D,B,Qe,"","\\zeta",!0),C(D,B,Qe,"","\\eta",!0),C(D,B,Qe,"","\\theta",!0),C(D,B,Qe,"","\\iota",!0),C(D,B,Qe,"","\\kappa",!0),C(D,B,Qe,"","\\lambda",!0),C(D,B,Qe,"","\\mu",!0),C(D,B,Qe,"","\\nu",!0),C(D,B,Qe,"","\\xi",!0),C(D,B,Qe,"","\\omicron",!0),C(D,B,Qe,"","\\pi",!0),C(D,B,Qe,"","\\rho",!0),C(D,B,Qe,"","\\sigma",!0),C(D,B,Qe,"","\\tau",!0),C(D,B,Qe,"","\\upsilon",!0),C(D,B,Qe,"","\\phi",!0),C(D,B,Qe,"","\\chi",!0),C(D,B,Qe,"","\\psi",!0),C(D,B,Qe,"","\\omega",!0),C(D,B,Qe,"","\\varepsilon",!0),C(D,B,Qe,"","\\vartheta",!0),C(D,B,Qe,"","\\varpi",!0),C(D,B,Qe,"","\\varrho",!0),C(D,B,Qe,"","\\varsigma",!0),C(D,B,Qe,"","\\varphi",!0),C(D,B,$e,"","*",!0),C(D,B,$e,"+","+"),C(D,B,$e,"","-",!0),C(D,B,$e,"","\\cdot",!0),C(D,B,$e,"","\\circ",!0),C(D,B,$e,"","\\div",!0),C(D,B,$e,"","\\pm",!0),C(D,B,$e,"","\\times",!0),C(D,B,$e,"","\\cap",!0),C(D,B,$e,"","\\cup",!0),C(D,B,$e,"","\\setminus",!0),C(D,B,$e,"","\\land"),C(D,B,$e,"","\\lor"),C(D,B,$e,"","\\wedge",!0),C(D,B,$e,"","\\vee",!0),C(D,B,ie,"","\\surd"),C(D,B,pn,"","\\langle",!0),C(D,B,pn,"","\\lvert"),C(D,B,pn,"","\\lVert"),C(D,B,Yr,"?","?"),C(D,B,Yr,"!","!"),C(D,B,Yr,"","\\rangle",!0),C(D,B,Yr,"","\\rvert"),C(D,B,Yr,"","\\rVert"),C(D,B,te,"=","="),C(D,B,te,":",":"),C(D,B,te,"","\\approx",!0),C(D,B,te,"","\\cong",!0),C(D,B,te,"","\\ge"),C(D,B,te,"","\\geq",!0),C(D,B,te,"","\\gets"),C(D,B,te,">","\\gt",!0),C(D,B,te,"","\\in",!0),C(D,B,te,"","\\@not"),C(D,B,te,"","\\subset",!0),C(D,B,te,"","\\supset",!0),C(D,B,te,"","\\subseteq",!0),C(D,B,te,"","\\supseteq",!0),C(D,J,te,"","\\nsubseteq",!0),C(D,J,te,"","\\nsupseteq",!0),C(D,B,te,"","\\models"),C(D,B,te,"","\\leftarrow",!0),C(D,B,te,"","\\le"),C(D,B,te,"","\\leq",!0),C(D,B,te,"<","\\lt",!0),C(D,B,te,"","\\rightarrow",!0),C(D,B,te,"","\\to"),C(D,J,te,"","\\ngeq",!0),C(D,J,te,"","\\nleq",!0),C(D,B,gn,"","\\ "),C(D,B,gn,"","\\space"),C(D,B,gn,"","\\nobreakspace"),C(_e,B,gn,"","\\ "),C(_e,B,gn,""," "),C(_e,B,gn,"","\\space"),C(_e,B,gn,"","\\nobreakspace"),C(D,B,gn,null,"\\nobreak"),C(D,B,gn,null,"\\allowbreak"),C(D,B,ko,",",","),C(D,B,ko,";",";"),C(D,J,$e,"","\\barwedge",!0),C(D,J,$e,"","\\veebar",!0),C(D,B,$e,"","\\odot",!0),C(D,B,$e,"","\\oplus",!0),C(D,B,$e,"","\\otimes",!0),C(D,B,ie,"","\\partial",!0),C(D,B,$e,"","\\oslash",!0),C(D,J,$e,"","\\circledcirc",!0),C(D,J,$e,"","\\boxdot",!0),C(D,B,$e,"","\\bigtriangleup"),C(D,B,$e,"","\\bigtriangledown"),C(D,B,$e,"","\\dagger"),C(D,B,$e,"","\\diamond"),C(D,B,$e,"","\\star"),C(D,B,$e,"","\\triangleleft"),C(D,B,$e,"","\\triangleright"),C(D,B,pn,"{","\\{"),C(_e,B,ie,"{","\\{"),C(_e,B,ie,"{","\\textbraceleft"),C(D,B,Yr,"}","\\}"),C(_e,B,ie,"}","\\}"),C(_e,B,ie,"}","\\textbraceright"),C(D,B,pn,"{","\\lbrace"),C(D,B,Yr,"}","\\rbrace"),C(D,B,pn,"[","\\lbrack",!0),C(_e,B,ie,"[","\\lbrack",!0),C(D,B,Yr,"]","\\rbrack",!0),C(_e,B,ie,"]","\\rbrack",!0),C(D,B,pn,"(","\\lparen",!0),C(D,B,Yr,")","\\rparen",!0),C(_e,B,ie,"<","\\textless",!0),C(_e,B,ie,">","\\textgreater",!0),C(D,B,pn,"","\\lfloor",!0),C(D,B,Yr,"","\\rfloor",!0),C(D,B,pn,"","\\lceil",!0),C(D,B,Yr,"","\\rceil",!0),C(D,B,ie,"\\","\\backslash"),C(D,B,ie,"","|"),C(D,B,ie,"","\\vert"),C(_e,B,ie,"|","\\textbar",!0),C(D,B,ie,"","\\|"),C(D,B,ie,"","\\Vert"),C(_e,B,ie,"","\\textbardbl"),C(_e,B,ie,"~","\\textasciitilde"),C(_e,B,ie,"\\","\\textbackslash"),C(_e,B,ie,"^","\\textasciicircum"),C(D,B,te,"","\\uparrow",!0),C(D,B,te,"","\\Uparrow",!0),C(D,B,te,"","\\downarrow",!0),C(D,B,te,"","\\Downarrow",!0),C(D,B,te,"","\\updownarrow",!0),C(D,B,te,"","\\Updownarrow",!0),C(D,B,hr,"","\\coprod"),C(D,B,hr,"","\\bigvee"),C(D,B,hr,"","\\bigwedge"),C(D,B,hr,"","\\biguplus"),C(D,B,hr,"","\\bigcap"),C(D,B,hr,"","\\bigcup"),C(D,B,hr,"","\\int"),C(D,B,hr,"","\\intop"),C(D,B,hr,"","\\iint"),C(D,B,hr,"","\\iiint"),C(D,B,hr,"","\\prod"),C(D,B,hr,"","\\sum"),C(D,B,hr,"","\\bigotimes"),C(D,B,hr,"","\\bigoplus"),C(D,B,hr,"","\\bigodot"),C(D,B,hr,"","\\oint"),C(D,B,hr,"","\\oiint"),C(D,B,hr,"","\\oiiint"),C(D,B,hr,"","\\bigsqcup"),C(D,B,hr,"","\\smallint"),C(_e,B,Ea,"","\\textellipsis"),C(D,B,Ea,"","\\mathellipsis"),C(_e,B,Ea,"","\\ldots",!0),C(D,B,Ea,"","\\ldots",!0),C(D,B,Ea,"","\\@cdots",!0),C(D,B,Ea,"","\\ddots",!0),C(D,B,ie,"","\\varvdots"),C(D,B,gt,"","\\acute"),C(D,B,gt,"","\\grave"),C(D,B,gt,"","\\ddot"),C(D,B,gt,"~","\\tilde"),C(D,B,gt,"","\\bar"),C(D,B,gt,"","\\breve"),C(D,B,gt,"","\\check"),C(D,B,gt,"^","\\hat"),C(D,B,gt,"","\\vec"),C(D,B,gt,"","\\dot"),C(D,B,gt,"","\\mathring"),C(D,B,Qe,"","\\@imath"),C(D,B,Qe,"","\\@jmath"),C(D,B,ie,"",""),C(D,B,ie,"",""),C(_e,B,ie,"","\\i",!0),C(_e,B,ie,"","\\j",!0),C(_e,B,ie,"","\\ss",!0),C(_e,B,ie,"","\\ae",!0),C(_e,B,ie,"","\\oe",!0),C(_e,B,ie,"","\\o",!0),C(_e,B,ie,"","\\AE",!0),C(_e,B,ie,"","\\OE",!0),C(_e,B,ie,"","\\O",!0),C(_e,B,gt,"","\\'"),C(_e,B,gt,"","\\`"),C(_e,B,gt,"","\\^"),C(_e,B,gt,"","\\~"),C(_e,B,gt,"","\\="),C(_e,B,gt,"","\\u"),C(_e,B,gt,"","\\."),C(_e,B,gt,"","\\c"),C(_e,B,gt,"","\\r"),C(_e,B,gt,"","\\v"),C(_e,B,gt,"",'\\"'),C(_e,B,gt,"","\\H"),C(_e,B,gt,"","\\textcircled");const Es={"--":!0,"---":!0,"``":!0,"''":!0};C(_e,B,ie,"","--",!0),C(_e,B,ie,"","\\textendash"),C(_e,B,ie,"","---",!0),C(_e,B,ie,"","\\textemdash"),C(_e,B,ie,"","`",!0),C(_e,B,ie,"","\\textquoteleft"),C(_e,B,ie,"","'",!0),C(_e,B,ie,"","\\textquoteright"),C(_e,B,ie,"","``",!0),C(_e,B,ie,"","\\textquotedblleft"),C(_e,B,ie,"","''",!0),C(_e,B,ie,"","\\textquotedblright"),C(D,B,ie,"","\\degree",!0),C(_e,B,ie,"","\\degree"),C(_e,B,ie,"","\\textdegree",!0),C(D,B,ie,"","\\pounds"),C(D,B,ie,"","\\mathsterling",!0),C(_e,B,ie,"","\\pounds"),C(_e,B,ie,"","\\textsterling",!0),C(D,J,ie,"","\\maltese"),C(_e,J,ie,"","\\maltese");const nu='0123456789/@."';for(let m=0;m<nu.length;m++){const h=nu.charAt(m);C(D,B,ie,h,h)}const iu='0123456789!@*()-=+";:?/.,';for(let m=0;m<iu.length;m++){const h=iu.charAt(m);C(_e,B,ie,h,h)}const To="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";for(let m=0;m<To.length;m++){const h=To.charAt(m);C(D,B,Qe,h,h),C(_e,B,ie,h,h)}C(D,J,ie,"C",""),C(_e,J,ie,"C",""),C(D,J,ie,"H",""),C(_e,J,ie,"H",""),C(D,J,ie,"N",""),C(_e,J,ie,"N",""),C(D,J,ie,"P",""),C(_e,J,ie,"P",""),C(D,J,ie,"Q",""),C(_e,J,ie,"Q",""),C(D,J,ie,"R",""),C(_e,J,ie,"R",""),C(D,J,ie,"Z",""),C(_e,J,ie,"Z",""),C(D,B,Qe,"h",""),C(_e,B,Qe,"h","");let We="";for(let m=0;m<To.length;m++){const h=To.charAt(m);We=String.fromCharCode(55349,56320+m),C(D,B,Qe,h,We),C(_e,B,ie,h,We),We=String.fromCharCode(55349,56372+m),C(D,B,Qe,h,We),C(_e,B,ie,h,We),We=String.fromCharCode(55349,56424+m),C(D,B,Qe,h,We),C(_e,B,ie,h,We),We=String.fromCharCode(55349,56580+m),C(D,B,Qe,h,We),C(_e,B,ie,h,We),We=String.fromCharCode(55349,56684+m),C(D,B,Qe,h,We),C(_e,B,ie,h,We),We=String.fromCharCode(55349,56736+m),C(D,B,Qe,h,We),C(_e,B,ie,h,We),We=String.fromCharCode(55349,56788+m),C(D,B,Qe,h,We),C(_e,B,ie,h,We),We=String.fromCharCode(55349,56840+m),C(D,B,Qe,h,We),C(_e,B,ie,h,We),We=String.fromCharCode(55349,56944+m),C(D,B,Qe,h,We),C(_e,B,ie,h,We),m<26&&(We=String.fromCharCode(55349,56632+m),C(D,B,Qe,h,We),C(_e,B,ie,h,We),We=String.fromCharCode(55349,56476+m),C(D,B,Qe,h,We),C(_e,B,ie,h,We))}We=String.fromCharCode(55349,56668),C(D,B,Qe,"k",We),C(_e,B,ie,"k",We);for(let m=0;m<10;m++){const h=m.toString();We=String.fromCharCode(55349,57294+m),C(D,B,Qe,h,We),C(_e,B,ie,h,We),We=String.fromCharCode(55349,57314+m),C(D,B,Qe,h,We),C(_e,B,ie,h,We),We=String.fromCharCode(55349,57324+m),C(D,B,Qe,h,We),C(_e,B,ie,h,We),We=String.fromCharCode(55349,57334+m),C(D,B,Qe,h,We),C(_e,B,ie,h,We)}const Cs="";for(let m=0;m<Cs.length;m++){const h=Cs.charAt(m);C(D,B,Qe,h,h),C(_e,B,ie,h,h)}const Ms=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],Ca=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],On=function(m,h){const v=m.charCodeAt(0),S=m.charCodeAt(1),E=(v-55296)*1024+(S-56320)+65536,I=h==="math"?0:1;if(119808<=E&&E<120484){const O=Math.floor((E-119808)/26);return[Ms[O][2],Ms[O][I]]}else if(120782<=E&&E<=120831){const O=Math.floor((E-120782)/10);return[Ca[O][2],Ca[O][I]]}else{if(E===120485||E===120486)return[Ms[0][2],Ms[0][I]];if(120486<E&&E<120782)return["",""];throw new a("Unsupported character: "+m)}},Eo=function(m,h,v){return yt[v][m]&&yt[v][m].replace&&(m=yt[v][m].replace),{value:m,metrics:tt(m,h,v)}},di=function(m,h,v,S,E){const I=Eo(m,h,v),O=I.metrics;m=I.value;let j;if(O){let Y=O.italic;(v==="text"||S&&S.font==="mathit")&&(Y=0),j=new Vt(m,O.height,O.depth,Y,O.skew,O.width,E)}else typeof console<"u"&&console.warn("No character metrics "+("for '"+m+"' in style '"+h+"' and mode '"+v+"'")),j=new Vt(m,0,0,0,0,0,E);if(S){j.maxFontSize=S.sizeMultiplier,S.style.isTight()&&j.classes.push("mtight");const Y=S.getColor();Y&&(j.style.color=Y)}return j},tE=function(m,h,v,S){return S===void 0&&(S=[]),v.font==="boldsymbol"&&Eo(m,"Main-Bold",h).metrics?di(m,"Main-Bold",h,v,S.concat(["mathbf"])):m==="\\"||yt[h][m].font==="main"?di(m,"Main-Regular",h,v,S):di(m,"AMS-Regular",h,v,S.concat(["amsrm"]))},rE=function(m,h,v,S,E){return E!=="textord"&&Eo(m,"Math-BoldItalic",h).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}},nE=function(m,h,v){const S=m.mode,E=m.text,I=["mord"],O=S==="math"||S==="text"&&h.font,j=O?h.font:h.fontFamily;let Y="",ne="";if(E.charCodeAt(0)===55349&&([Y,ne]=On(E,S)),Y.length>0)return di(E,Y,S,h,I.concat(ne));if(j){let ae,ce;if(j==="boldsymbol"){const me=rE(E,S,h,I,v);ae=me.fontName,ce=[me.fontClass]}else O?(ae=c4[j].fontName,ce=[j]):(ae=b0(j,h.fontWeight,h.fontShape),ce=[j,h.fontWeight,h.fontShape]);if(Eo(E,ae,S).metrics)return di(E,ae,S,h,I.concat(ce));if(Es.hasOwnProperty(E)&&ae.slice(0,10)==="Typewriter"){const me=[];for(let Ce=0;Ce<E.length;Ce++)me.push(di(E[Ce],ae,S,h,I.concat(ce)));return u4(me)}}if(v==="mathord")return di(E,"Math-Italic",S,h,I.concat(["mathnormal"]));if(v==="textord"){const ae=yt[S][E]&&yt[S][E].font;if(ae==="ams"){const ce=b0("amsrm",h.fontWeight,h.fontShape);return di(E,ce,S,h,I.concat("amsrm",h.fontWeight,h.fontShape))}else if(ae==="main"||!ae){const ce=b0("textrm",h.fontWeight,h.fontShape);return di(E,ce,S,h,I.concat(h.fontWeight,h.fontShape))}else{const ce=b0(ae,h.fontWeight,h.fontShape);return di(E,ce,S,h,I.concat(ce,h.fontWeight,h.fontShape))}}else throw new Error("unexpected type: "+v+" in makeOrd")},iE=(m,h)=>{if(Je(m.classes)!==Je(h.classes)||m.skew!==h.skew||m.maxFontSize!==h.maxFontSize)return!1;if(m.classes.length===1){const v=m.classes[0];if(v==="mbin"||v==="mord")return!1}for(const v in m.style)if(m.style.hasOwnProperty(v)&&m.style[v]!==h.style[v])return!1;for(const v in h.style)if(h.style.hasOwnProperty(v)&&m.style[v]!==h.style[v])return!1;return!0},aE=m=>{for(let h=0;h<m.length-1;h++){const v=m[h],S=m[h+1];v instanceof Vt&&S instanceof Vt&&iE(v,S)&&(v.text+=S.text,v.height=Math.max(v.height,S.height),v.depth=Math.max(v.depth,S.depth),v.italic=S.italic,m.splice(h+1,1),h--)}return m},vp=function(m){let h=0,v=0,S=0;for(let E=0;E<m.children.length;E++){const I=m.children[E];I.height>h&&(h=I.height),I.depth>v&&(v=I.depth),I.maxFontSize>S&&(S=I.maxFontSize)}m.height=h,m.depth=v,m.maxFontSize=S},Tn=function(m,h,v,S){const E=new Xe(m,h,v,S);return vp(E),E},l4=(m,h,v,S)=>new Xe(m,h,v,S),sE=function(m,h,v){const S=Tn([m],[],h);return S.height=Math.max(v||h.fontMetrics().defaultRuleThickness,h.minRuleThickness),S.style.borderBottomWidth=be(S.height),S.maxFontSize=1,S},oE=function(m,h,v,S){const E=new Pt(m,h,v,S);return vp(E),E},u4=function(m){const h=new Be(m);return vp(h),h},lE=function(m,h){return m instanceof Be?Tn([],[m],h):m},uE=function(m){if(m.positionType==="individualShift"){const v=m.children,S=[v[0]],E=-v[0].shift-v[0].elem.depth;let I=E;for(let O=1;O<v.length;O++){const j=-v[O].shift-I-v[O].elem.depth,Y=j-(v[O-1].elem.height+v[O-1].elem.depth);I=I+j,S.push({type:"kern",size:Y}),S.push(v[O])}return{children:S,depth:E}}let h;if(m.positionType==="top"){let v=m.positionData;for(let S=0;S<m.children.length;S++){const E=m.children[S];v-=E.type==="kern"?E.size:E.elem.height+E.elem.depth}h=v}else if(m.positionType==="bottom")h=-m.positionData;else{const v=m.children[0];if(v.type!=="elem")throw new Error('First child must have type "elem".');if(m.positionType==="shift")h=-v.elem.depth-m.positionData;else if(m.positionType==="firstBaseline")h=-v.elem.depth;else throw new Error("Invalid positionType "+m.positionType+".")}return{children:m.children,depth:h}},cE=function(m,h){const{children:v,depth:S}=uE(m);let E=0;for(let Ce=0;Ce<v.length;Ce++){const je=v[Ce];if(je.type==="elem"){const Ge=je.elem;E=Math.max(E,Ge.maxFontSize,Ge.height)}}E+=2;const I=Tn(["pstrut"],[]);I.style.height=be(E);const O=[];let j=S,Y=S,ne=S;for(let Ce=0;Ce<v.length;Ce++){const je=v[Ce];if(je.type==="kern")ne+=je.size;else{const Ge=je.elem,mt=je.wrapperClasses||[],ht=je.wrapperStyle||{},vt=Tn(mt,[I,Ge],void 0,ht);vt.style.top=be(-E-ne-Ge.depth),je.marginLeft&&(vt.style.marginLeft=je.marginLeft),je.marginRight&&(vt.style.marginRight=je.marginRight),O.push(vt),ne+=Ge.height+Ge.depth}j=Math.min(j,ne),Y=Math.max(Y,ne)}const ae=Tn(["vlist"],O);ae.style.height=be(Y);let ce;if(j<0){const Ce=Tn([],[]),je=Tn(["vlist"],[Ce]);je.style.height=be(-j);const Ge=Tn(["vlist-s"],[new Vt("")]);ce=[Tn(["vlist-r"],[ae,Ge]),Tn(["vlist-r"],[je])]}else ce=[Tn(["vlist-r"],[ae])];const me=Tn(["vlist-t"],ce);return ce.length===2&&me.classes.push("vlist-t2"),me.height=Y,me.depth=-j,me},fE=(m,h)=>{const v=Tn(["mspace"],[],h),S=Pe(m,h);return v.style.marginRight=be(S),v},b0=function(m,h,v){let S="";switch(m){case"amsrm":S="AMS";break;case"textrm":S="Main";break;case"textsf":S="SansSerif";break;case"texttt":S="Typewriter";break;default:S=m}let E;return h==="textbf"&&v==="textit"?E="BoldItalic":h==="textbf"?E="Bold":h==="textit"?E="Italic":E="Regular",S+"-"+E},c4={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},f4={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]};var de={fontMap:c4,makeSymbol:di,mathsym:tE,makeSpan:Tn,makeSvgSpan:l4,makeLineSpan:sE,makeAnchor:oE,makeFragment:u4,wrapFragment:lE,makeVList:cE,makeOrd:nE,makeGlue:fE,staticSvg:function(m,h){const[v,S,E]=f4[m],I=new $t(v),O=new Rt([I],{width:be(S),height:be(E),style:"width:"+be(S),viewBox:"0 0 "+1e3*S+" "+1e3*E,preserveAspectRatio:"xMinYMin"}),j=l4(["overlay"],[O],h);return j.height=E,j.style.height=be(E),j.style.width=be(S),j},svgData:f4,tryCombineChars:aE};const ir={number:3,unit:"mu"},Ps={number:4,unit:"mu"},Gi={number:5,unit:"mu"},dE={mord:{mop:ir,mbin:Ps,mrel:Gi,minner:ir},mop:{mord:ir,mop:ir,mrel:Gi,minner:ir},mbin:{mord:Ps,mop:Ps,mopen:Ps,minner:Ps},mrel:{mord:Gi,mop:Gi,mopen:Gi,minner:Gi},mopen:{},mclose:{mop:ir,mbin:Ps,mrel:Gi,minner:ir},mpunct:{mord:ir,mop:ir,mrel:Gi,mopen:ir,mclose:ir,mpunct:ir,minner:ir},minner:{mord:ir,mop:ir,mbin:Ps,mrel:Gi,mopen:ir,mpunct:ir,minner:ir}},hE={mord:{mop:ir},mop:{mord:ir,mop:ir},mbin:{},mrel:{},mopen:{},mclose:{mop:ir},mpunct:{},minner:{mop:ir}},d4={},w0={},_0={};function Fe(m){let{type:h,names:v,props:S,handler:E,htmlBuilder:I,mathmlBuilder:O}=m;const j={type:h,numArgs:S.numArgs,argTypes:S.argTypes,allowedInArgument:!!S.allowedInArgument,allowedInText:!!S.allowedInText,allowedInMath:S.allowedInMath===void 0?!0:S.allowedInMath,numOptionalArgs:S.numOptionalArgs||0,infix:!!S.infix,primitive:!!S.primitive,handler:E};for(let Y=0;Y<v.length;++Y)d4[v[Y]]=j;h&&(I&&(w0[h]=I),O&&(_0[h]=O))}function Ds(m){let{type:h,htmlBuilder:v,mathmlBuilder:S}=m;Fe({type:h,names:[],props:{numArgs:0},handler(){throw new Error("Should never be called.")},htmlBuilder:v,mathmlBuilder:S})}const S0=function(m){return m.type==="ordgroup"&&m.body.length===1?m.body[0]:m},_r=function(m){return m.type==="ordgroup"?m.body:[m]},Yi=de.makeSpan,pE=["leftmost","mbin","mopen","mrel","mop","mpunct"],gE=["rightmost","mrel","mclose","mpunct"],mE={display:G.DISPLAY,text:G.TEXT,script:G.SCRIPT,scriptscript:G.SCRIPTSCRIPT},vE={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},Mr=function(m,h,v,S){S===void 0&&(S=[null,null]);const E=[];for(let ne=0;ne<m.length;ne++){const ae=xt(m[ne],h);if(ae instanceof Be){const ce=ae.children;E.push(...ce)}else E.push(ae)}if(de.tryCombineChars(E),!v)return E;let I=h;if(m.length===1){const ne=m[0];ne.type==="sizing"?I=h.havingSize(ne.size):ne.type==="styling"&&(I=h.havingStyle(mE[ne.style]))}const O=Yi([S[0]||"leftmost"],[],h),j=Yi([S[1]||"rightmost"],[],h),Y=v==="root";return yp(E,(ne,ae)=>{const ce=ae.classes[0],me=ne.classes[0];ce==="mbin"&&x.contains(gE,me)?ae.classes[0]="mord":me==="mbin"&&x.contains(pE,ce)&&(ne.classes[0]="mord")},{node:O},j,Y),yp(E,(ne,ae)=>{const ce=bp(ae),me=bp(ne),Ce=ce&&me?ne.hasClass("mtight")?hE[ce][me]:dE[ce][me]:null;if(Ce)return de.makeGlue(Ce,I)},{node:O},j,Y),E},yp=function(m,h,v,S,E){S&&m.push(S);let I=0;for(;I<m.length;I++){const O=m[I],j=h4(O);if(j){yp(j.children,h,v,null,E);continue}const Y=!O.hasClass("mspace");if(Y){const ne=h(O,v.node);ne&&(v.insertAfter?v.insertAfter(ne):(m.unshift(ne),I++))}Y?v.node=O:E&&O.hasClass("newline")&&(v.node=Yi(["leftmost"])),v.insertAfter=(ne=>ae=>{m.splice(ne+1,0,ae),I++})(I)}S&&m.pop()},h4=function(m){return m instanceof Be||m instanceof Pt||m instanceof Xe&&m.hasClass("enclosing")?m:null},xp=function(m,h){const v=h4(m);if(v){const S=v.children;if(S.length){if(h==="right")return xp(S[S.length-1],"right");if(h==="left")return xp(S[0],"left")}}return m},bp=function(m,h){return m?(h&&(m=xp(m,h)),vE[m.classes[0]]||null):null},au=function(m,h){const v=["nulldelimiter"].concat(m.baseSizingClasses());return Yi(h.concat(v))},xt=function(m,h,v){if(!m)return Yi();if(w0[m.type]){let S=w0[m.type](m,h);if(v&&h.size!==v.size){S=Yi(h.sizingClasses(v),[S],h);const E=h.sizeMultiplier/v.sizeMultiplier;S.height*=E,S.depth*=E}return S}else throw new a("Got group of unknown type: '"+m.type+"'")};function k0(m,h){const v=Yi(["base"],m,h),S=Yi(["strut"]);return S.style.height=be(v.height+v.depth),v.depth&&(S.style.verticalAlign=be(-v.depth)),v.children.unshift(S),v}function wp(m,h){let v=null;m.length===1&&m[0].type==="tag"&&(v=m[0].tag,m=m[0].body);const S=Mr(m,h,"root");let E;S.length===2&&S[1].hasClass("tag")&&(E=S.pop());const I=[];let O=[];for(let ne=0;ne<S.length;ne++)if(O.push(S[ne]),S[ne].hasClass("mbin")||S[ne].hasClass("mrel")||S[ne].hasClass("allowbreak")){let ae=!1;for(;ne<S.length-1&&S[ne+1].hasClass("mspace")&&!S[ne+1].hasClass("newline");)ne++,O.push(S[ne]),S[ne].hasClass("nobreak")&&(ae=!0);ae||(I.push(k0(O,h)),O=[])}else S[ne].hasClass("newline")&&(O.pop(),O.length>0&&(I.push(k0(O,h)),O=[]),I.push(S[ne]));O.length>0&&I.push(k0(O,h));let j;v?(j=k0(Mr(v,h,!0)),j.classes=["tag"],I.push(j)):E&&I.push(E);const Y=Yi(["katex-html"],I);if(Y.setAttribute("aria-hidden","true"),j){const ne=j.children[0];ne.style.height=be(Y.height+Y.depth),Y.depth&&(ne.style.verticalAlign=be(-Y.depth))}return Y}function p4(m){return new Be(m)}class Xn{constructor(h,v,S){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=h,this.attributes={},this.children=v||[],this.classes=S||[]}setAttribute(h,v){this.attributes[h]=v}getAttribute(h){return this.attributes[h]}toNode(){const h=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(const v in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,v)&&h.setAttribute(v,this.attributes[v]);this.classes.length>0&&(h.className=Je(this.classes));for(let v=0;v<this.children.length;v++)h.appendChild(this.children[v].toNode());return h}toMarkup(){let h="<"+this.type;for(const v in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,v)&&(h+=" "+v+'="',h+=x.escape(this.attributes[v]),h+='"');this.classes.length>0&&(h+=' class ="'+x.escape(Je(this.classes))+'"'),h+=">";for(let v=0;v<this.children.length;v++)h+=this.children[v].toMarkup();return h+="</"+this.type+">",h}toText(){return this.children.map(h=>h.toText()).join("")}}class su{constructor(h){this.text=void 0,this.text=h}toNode(){return document.createTextNode(this.text)}toMarkup(){return x.escape(this.toText())}toText(){return this.text}}class yE{constructor(h){this.width=void 0,this.character=void 0,this.width=h,h>=.05555&&h<=.05556?this.character="":h>=.1666&&h<=.1667?this.character="":h>=.2222&&h<=.2223?this.character="":h>=.2777&&h<=.2778?this.character="":h>=-.05556&&h<=-.05555?this.character="":h>=-.1667&&h<=-.1666?this.character="":h>=-.2223&&h<=-.2222?this.character="":h>=-.2778&&h<=-.2777?this.character="":this.character=null}toNode(){if(this.character)return document.createTextNode(this.character);{const h=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return h.setAttribute("width",be(this.width)),h}}toMarkup(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+be(this.width)+'"/>'}toText(){return this.character?this.character:" "}}var De={MathNode:Xn,TextNode:su,SpaceNode:yE,newDocumentFragment:p4};const Kn=function(m,h,v){return yt[h][m]&&yt[h][m].replace&&m.charCodeAt(0)!==55349&&!(Es.hasOwnProperty(m)&&v&&(v.fontFamily&&v.fontFamily.slice(4,6)==="tt"||v.font&&v.font.slice(4,6)==="tt"))&&(m=yt[h][m].replace),new De.TextNode(m)},_p=function(m){return m.length===1?m[0]:new De.MathNode("mrow",m)},Sp=function(m,h){if(h.fontFamily==="texttt")return"monospace";if(h.fontFamily==="textsf")return h.fontShape==="textit"&&h.fontWeight==="textbf"?"sans-serif-bold-italic":h.fontShape==="textit"?"sans-serif-italic":h.fontWeight==="textbf"?"bold-sans-serif":"sans-serif";if(h.fontShape==="textit"&&h.fontWeight==="textbf")return"bold-italic";if(h.fontShape==="textit")return"italic";if(h.fontWeight==="textbf")return"bold";const v=h.font;if(!v||v==="mathnormal")return null;const S=m.mode;if(v==="mathit")return"italic";if(v==="boldsymbol")return m.type==="textord"?"bold":"bold-italic";if(v==="mathbf")return"bold";if(v==="mathbb")return"double-struck";if(v==="mathfrak")return"fraktur";if(v==="mathscr"||v==="mathcal")return"script";if(v==="mathsf")return"sans-serif";if(v==="mathtt")return"monospace";let E=m.text;if(x.contains(["\\imath","\\jmath"],E))return null;yt[S][E]&&yt[S][E].replace&&(E=yt[S][E].replace);const I=de.fontMap[v].fontName;return tt(E,I,S)?de.fontMap[v].variant:null},En=function(m,h,v){if(m.length===1){const I=jt(m[0],h);return v&&I instanceof Xn&&I.type==="mo"&&(I.setAttribute("lspace","0em"),I.setAttribute("rspace","0em")),[I]}const S=[];let E;for(let I=0;I<m.length;I++){const O=jt(m[I],h);if(O instanceof Xn&&E instanceof Xn){if(O.type==="mtext"&&E.type==="mtext"&&O.getAttribute("mathvariant")===E.getAttribute("mathvariant")){E.children.push(...O.children);continue}else if(O.type==="mn"&&E.type==="mn"){E.children.push(...O.children);continue}else if(O.type==="mi"&&O.children.length===1&&E.type==="mn"){const j=O.children[0];if(j instanceof su&&j.text==="."){E.children.push(...O.children);continue}}else if(E.type==="mi"&&E.children.length===1){const j=E.children[0];if(j instanceof su&&j.text===""&&(O.type==="mo"||O.type==="mi"||O.type==="mn")){const Y=O.children[0];Y instanceof su&&Y.text.length>0&&(Y.text=Y.text.slice(0,1)+""+Y.text.slice(1),S.pop())}}}S.push(O),E=O}return S},Ma=function(m,h,v){return _p(En(m,h,v))},jt=function(m,h){if(!m)return new De.MathNode("mrow");if(_0[m.type])return _0[m.type](m,h);throw new a("Got group of unknown type: '"+m.type+"'")};function g4(m,h,v,S,E){const I=En(m,v);let O;I.length===1&&I[0]instanceof Xn&&x.contains(["mrow","mtable"],I[0].type)?O=I[0]:O=new De.MathNode("mrow",I);const j=new De.MathNode("annotation",[new De.TextNode(h)]);j.setAttribute("encoding","application/x-tex");const Y=new De.MathNode("semantics",[O,j]),ne=new De.MathNode("math",[Y]);ne.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),S&&ne.setAttribute("display","block");const ae=E?"katex":"katex-mathml";return de.makeSpan([ae],[ne])}const m4=function(m){return new oe({style:m.displayMode?G.DISPLAY:G.TEXT,maxSize:m.maxSize,minRuleThickness:m.minRuleThickness})},v4=function(m,h){if(h.displayMode){const v=["katex-display"];h.leqno&&v.push("leqno"),h.fleqn&&v.push("fleqn"),m=de.makeSpan(v,[m])}return m},xE=function(m,h,v){const S=m4(v);let E;if(v.output==="mathml")return g4(m,h,S,v.displayMode,!0);if(v.output==="html"){const I=wp(m,S);E=de.makeSpan(["katex"],[I])}else{const I=g4(m,h,S,v.displayMode,!1),O=wp(m,S);E=de.makeSpan(["katex"],[I,O])}return v4(E,v)},bE=function(m,h,v){const S=m4(v),E=wp(m,S),I=de.makeSpan(["katex"],[E]);return v4(I,v)},wE={widehat:"^",widecheck:"",widetilde:"~",utilde:"~",overleftarrow:"",underleftarrow:"",xleftarrow:"",overrightarrow:"",underrightarrow:"",xrightarrow:"",underbrace:"",overbrace:"",overgroup:"",undergroup:"",overleftrightarrow:"",underleftrightarrow:"",xleftrightarrow:"",Overrightarrow:"",xRightarrow:"",overleftharpoon:"",xleftharpoonup:"",overrightharpoon:"",xrightharpoonup:"",xLeftarrow:"",xLeftrightarrow:"",xhookleftarrow:"",xhookrightarrow:"",xmapsto:"",xrightharpoondown:"",xleftharpoondown:"",xrightleftharpoons:"",xleftrightharpoons:"",xtwoheadleftarrow:"",xtwoheadrightarrow:"",xlongequal:"=",xtofrom:"",xrightleftarrows:"",xrightequilibrium:"",xleftequilibrium:"","\\cdrightarrow":"","\\cdleftarrow":"","\\cdlongequal":"="},_E=function(m){const h=new De.MathNode("mo",[new De.TextNode(wE[m.replace(/^\\/,"")])]);return h.setAttribute("stretchy","true"),h},SE={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},kE=function(m){return m.type==="ordgroup"?m.body.length:1};var Xi={encloseSpan:function(m,h,v,S,E){let I;const O=m.height+m.depth+v+S;if(/fbox|color|angl/.test(h)){if(I=de.makeSpan(["stretchy",h],[],E),h==="fbox"){const j=E.color&&E.getColor();j&&(I.style.borderColor=j)}}else{const j=[];/^[bx]cancel$/.test(h)&&j.push(new dr({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(h)&&j.push(new dr({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));const Y=new Rt(j,{width:"100%",height:be(O)});I=de.makeSvgSpan([],[Y],E)}return I.height=O,I.style.height=be(O),I},mathMLnode:_E,svgSpan:function(m,h){function v(){let O=4e5;const j=m.label.slice(1);if(x.contains(["widehat","widecheck","widetilde","utilde"],j)){const ne=kE(m.base);let ae,ce,me;if(ne>5)j==="widehat"||j==="widecheck"?(ae=420,O=2364,me=.42,ce=j+"4"):(ae=312,O=2340,me=.34,ce="tilde4");else{const Ge=[1,1,2,2,3,3][ne];j==="widehat"||j==="widecheck"?(O=[0,1062,2364,2364,2364][Ge],ae=[0,239,300,360,420][Ge],me=[0,.24,.3,.3,.36,.42][Ge],ce=j+Ge):(O=[0,600,1033,2339,2340][Ge],ae=[0,260,286,306,312][Ge],me=[0,.26,.286,.3,.306,.34][Ge],ce="tilde"+Ge)}const Ce=new $t(ce),je=new Rt([Ce],{width:"100%",height:be(me),viewBox:"0 0 "+O+" "+ae,preserveAspectRatio:"none"});return{span:de.makeSvgSpan([],[je],h),minWidth:0,height:me}}else{const Y=[],ne=SE[j],[ae,ce,me]=ne,Ce=me/1e3,je=ae.length;let Ge,mt;if(je===1){const ht=ne[3];Ge=["hide-tail"],mt=[ht]}else if(je===2)Ge=["halfarrow-left","halfarrow-right"],mt=["xMinYMin","xMaxYMin"];else if(je===3)Ge=["brace-left","brace-center","brace-right"],mt=["xMinYMin","xMidYMin","xMaxYMin"];else throw new Error(`Correct katexImagesData or update code here to support
                    `+je+" children.");for(let ht=0;ht<je;ht++){const vt=new $t(ae[ht]),Mt=new Rt([vt],{width:"400em",height:be(Ce),viewBox:"0 0 "+O+" "+me,preserveAspectRatio:mt[ht]+" slice"}),Ut=de.makeSvgSpan([Ge[ht]],[Mt],h);if(je===1)return{span:Ut,minWidth:ce,height:Ce};Ut.style.height=be(Ce),Y.push(Ut)}return{span:de.makeSpan(["stretchy"],Y,h),minWidth:ce,height:Ce}}}const{span:S,minWidth:E,height:I}=v();return S.height=I,S.style.height=be(I),E>0&&(S.style.minWidth=be(E)),S}};function lt(m,h){if(!m||m.type!==h)throw new Error("Expected node of type "+h+", but got "+(m?"node of type "+m.type:String(m)));return m}function kp(m){const h=T0(m);if(!h)throw new Error("Expected node of symbol group type, but got "+(m?"node of type "+m.type:String(m)));return h}function T0(m){return m&&(m.type==="atom"||kn.hasOwnProperty(m.type))?m:null}const Tp=(m,h)=>{let v,S,E;m&&m.type==="supsub"?(S=lt(m.base,"accent"),v=S.base,m.base=v,E=Gr(xt(m,h)),m.base=S):(S=lt(m,"accent"),v=S.base);const I=xt(v,h.havingCrampedStyle()),O=S.isShifty&&x.isCharacterBox(v);let j=0;if(O){const me=x.getBaseElem(v),Ce=xt(me,h.havingCrampedStyle());j=zr(Ce).skew}const Y=S.label==="\\c";let ne=Y?I.height+I.depth:Math.min(I.height,h.fontMetrics().xHeight),ae;if(S.isStretchy)ae=Xi.svgSpan(S,h),ae=de.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:I},{type:"elem",elem:ae,wrapperClasses:["svg-align"],wrapperStyle:j>0?{width:"calc(100% - "+be(2*j)+")",marginLeft:be(2*j)}:void 0}]},h);else{let me,Ce;S.label==="\\vec"?(me=de.staticSvg("vec",h),Ce=de.svgData.vec[1]):(me=de.makeOrd({mode:S.mode,text:S.label},h,"textord"),me=zr(me),me.italic=0,Ce=me.width,Y&&(ne+=me.depth)),ae=de.makeSpan(["accent-body"],[me]);const je=S.label==="\\textcircled";je&&(ae.classes.push("accent-full"),ne=I.height);let Ge=j;je||(Ge-=Ce/2),ae.style.left=be(Ge),S.label==="\\textcircled"&&(ae.style.top=".2em"),ae=de.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:I},{type:"kern",size:-ne},{type:"elem",elem:ae}]},h)}const ce=de.makeSpan(["mord","accent"],[ae],h);return E?(E.children[0]=ce,E.height=Math.max(ce.height,E.height),E.classes[0]="mord",E):ce},y4=(m,h)=>{const v=m.isStretchy?Xi.mathMLnode(m.label):new De.MathNode("mo",[Kn(m.label,m.mode)]),S=new De.MathNode("mover",[jt(m.base,h),v]);return S.setAttribute("accent","true"),S},TE=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(m=>"\\"+m).join("|"));Fe({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:(m,h)=>{const v=S0(h[0]),S=!TE.test(m.funcName),E=!S||m.funcName==="\\widehat"||m.funcName==="\\widetilde"||m.funcName==="\\widecheck";return{type:"accent",mode:m.parser.mode,label:m.funcName,isStretchy:S,isShifty:E,base:v}},htmlBuilder:Tp,mathmlBuilder:y4}),Fe({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:(m,h)=>{const v=h[0];let S=m.parser.mode;return S==="math"&&(m.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+m.funcName+" works only in text mode"),S="text"),{type:"accent",mode:S,label:m.funcName,isStretchy:!1,isShifty:!0,base:v}},htmlBuilder:Tp,mathmlBuilder:y4}),Fe({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:(m,h)=>{let{parser:v,funcName:S}=m;const E=h[0];return{type:"accentUnder",mode:v.mode,label:S,base:E}},htmlBuilder:(m,h)=>{const v=xt(m.base,h),S=Xi.svgSpan(m,h),E=m.label==="\\utilde"?.12:0,I=de.makeVList({positionType:"top",positionData:v.height,children:[{type:"elem",elem:S,wrapperClasses:["svg-align"]},{type:"kern",size:E},{type:"elem",elem:v}]},h);return de.makeSpan(["mord","accentunder"],[I],h)},mathmlBuilder:(m,h)=>{const v=Xi.mathMLnode(m.label),S=new De.MathNode("munder",[jt(m.base,h),v]);return S.setAttribute("accentunder","true"),S}});const E0=m=>{const h=new De.MathNode("mpadded",m?[m]:[]);return h.setAttribute("width","+0.6em"),h.setAttribute("lspace","0.3em"),h};Fe({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler(m,h,v){let{parser:S,funcName:E}=m;return{type:"xArrow",mode:S.mode,label:E,body:h[0],below:v[0]}},htmlBuilder(m,h){const v=h.style;let S=h.havingStyle(v.sup());const E=de.wrapFragment(xt(m.body,S,h),h),I=m.label.slice(0,2)==="\\x"?"x":"cd";E.classes.push(I+"-arrow-pad");let O;m.below&&(S=h.havingStyle(v.sub()),O=de.wrapFragment(xt(m.below,S,h),h),O.classes.push(I+"-arrow-pad"));const j=Xi.svgSpan(m,h),Y=-h.fontMetrics().axisHeight+.5*j.height;let ne=-h.fontMetrics().axisHeight-.5*j.height-.111;(E.depth>.25||m.label==="\\xleftequilibrium")&&(ne-=E.depth);let ae;if(O){const ce=-h.fontMetrics().axisHeight+O.height+.5*j.height+.111;ae=de.makeVList({positionType:"individualShift",children:[{type:"elem",elem:E,shift:ne},{type:"elem",elem:j,shift:Y},{type:"elem",elem:O,shift:ce}]},h)}else ae=de.makeVList({positionType:"individualShift",children:[{type:"elem",elem:E,shift:ne},{type:"elem",elem:j,shift:Y}]},h);return ae.children[0].children[0].children[1].classes.push("svg-align"),de.makeSpan(["mrel","x-arrow"],[ae],h)},mathmlBuilder(m,h){const v=Xi.mathMLnode(m.label);v.setAttribute("minsize",m.label.charAt(0)==="x"?"1.75em":"3.0em");let S;if(m.body){const E=E0(jt(m.body,h));if(m.below){const I=E0(jt(m.below,h));S=new De.MathNode("munderover",[v,I,E])}else S=new De.MathNode("mover",[v,E])}else if(m.below){const E=E0(jt(m.below,h));S=new De.MathNode("munder",[v,E])}else S=E0(),S=new De.MathNode("mover",[v,S]);return S}});const EE=de.makeSpan;function x4(m,h){const v=Mr(m.body,h,!0);return EE([m.mclass],v,h)}function b4(m,h){let v;const S=En(m.body,h);return m.mclass==="minner"?v=new De.MathNode("mpadded",S):m.mclass==="mord"?m.isCharacterBox?(v=S[0],v.type="mi"):v=new De.MathNode("mi",S):(m.isCharacterBox?(v=S[0],v.type="mo"):v=new De.MathNode("mo",S),m.mclass==="mbin"?(v.attributes.lspace="0.22em",v.attributes.rspace="0.22em"):m.mclass==="mpunct"?(v.attributes.lspace="0em",v.attributes.rspace="0.17em"):m.mclass==="mopen"||m.mclass==="mclose"?(v.attributes.lspace="0em",v.attributes.rspace="0em"):m.mclass==="minner"&&(v.attributes.lspace="0.0556em",v.attributes.width="+0.1111em")),v}Fe({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler(m,h){let{parser:v,funcName:S}=m;const E=h[0];return{type:"mclass",mode:v.mode,mclass:"m"+S.slice(5),body:_r(E),isCharacterBox:x.isCharacterBox(E)}},htmlBuilder:x4,mathmlBuilder:b4});const C0=m=>{const h=m.type==="ordgroup"&&m.body.length?m.body[0]:m;return h.type==="atom"&&(h.family==="bin"||h.family==="rel")?"m"+h.family:"mord"};Fe({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(m,h){let{parser:v}=m;return{type:"mclass",mode:v.mode,mclass:C0(h[0]),body:_r(h[1]),isCharacterBox:x.isCharacterBox(h[1])}}}),Fe({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(m,h){let{parser:v,funcName:S}=m;const E=h[1],I=h[0];let O;S!=="\\stackrel"?O=C0(E):O="mrel";const j={type:"op",mode:E.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:S!=="\\stackrel",body:_r(E)},Y={type:"supsub",mode:I.mode,base:j,sup:S==="\\underset"?null:I,sub:S==="\\underset"?I:null};return{type:"mclass",mode:v.mode,mclass:O,body:[Y],isCharacterBox:x.isCharacterBox(Y)}},htmlBuilder:x4,mathmlBuilder:b4}),Fe({type:"pmb",names:["\\pmb"],props:{numArgs:1,allowedInText:!0},handler(m,h){let{parser:v}=m;return{type:"pmb",mode:v.mode,mclass:C0(h[0]),body:_r(h[0])}},htmlBuilder(m,h){const v=Mr(m.body,h,!0),S=de.makeSpan([m.mclass],v,h);return S.style.textShadow="0.02em 0.01em 0.04px",S},mathmlBuilder(m,h){const v=En(m.body,h),S=new De.MathNode("mstyle",v);return S.setAttribute("style","text-shadow: 0.02em 0.01em 0.04px"),S}});const CE={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},w4=()=>({type:"styling",body:[],mode:"math",style:"display"}),_4=m=>m.type==="textord"&&m.text==="@",ME=(m,h)=>(m.type==="mathord"||m.type==="atom")&&m.text===h;function PE(m,h,v){const S=CE[m];switch(S){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return v.callFunction(S,[h[0]],[h[1]]);case"\\uparrow":case"\\downarrow":{const E=v.callFunction("\\\\cdleft",[h[0]],[]),I={type:"atom",text:S,mode:"math",family:"rel"},O=v.callFunction("\\Big",[I],[]),j=v.callFunction("\\\\cdright",[h[1]],[]),Y={type:"ordgroup",mode:"math",body:[E,O,j]};return v.callFunction("\\\\cdparent",[Y],[])}case"\\\\cdlongequal":return v.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":{const E={type:"textord",text:"\\Vert",mode:"math"};return v.callFunction("\\Big",[E],[])}default:return{type:"textord",text:" ",mode:"math"}}}function DE(m){const h=[];for(m.gullet.beginGroup(),m.gullet.macros.set("\\cr","\\\\\\relax"),m.gullet.beginGroup();;){h.push(m.parseExpression(!1,"\\\\")),m.gullet.endGroup(),m.gullet.beginGroup();const I=m.fetch().text;if(I==="&"||I==="\\\\")m.consume();else if(I==="\\end"){h[h.length-1].length===0&&h.pop();break}else throw new a("Expected \\\\ or \\cr or \\end",m.nextToken)}let v=[];const S=[v];for(let I=0;I<h.length;I++){const O=h[I];let j=w4();for(let Y=0;Y<O.length;Y++)if(!_4(O[Y]))j.body.push(O[Y]);else{v.push(j),Y+=1;const ne=kp(O[Y]).text,ae=new Array(2);if(ae[0]={type:"ordgroup",mode:"math",body:[]},ae[1]={type:"ordgroup",mode:"math",body:[]},!("=|.".indexOf(ne)>-1))if("<>AV".indexOf(ne)>-1)for(let Ce=0;Ce<2;Ce++){let je=!0;for(let Ge=Y+1;Ge<O.length;Ge++){if(ME(O[Ge],ne)){je=!1,Y=Ge;break}if(_4(O[Ge]))throw new a("Missing a "+ne+" character to complete a CD arrow.",O[Ge]);ae[Ce].body.push(O[Ge])}if(je)throw new a("Missing a "+ne+" character to complete a CD arrow.",O[Y])}else throw new a('Expected one of "<>AV=|." after @',O[Y]);const me={type:"styling",body:[PE(ne,ae,m)],mode:"math",style:"display"};v.push(me),j=w4()}I%2===0?v.push(j):v.shift(),v=[],S.push(v)}m.gullet.endGroup(),m.gullet.endGroup();const E=new Array(S[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25});return{type:"array",mode:"math",body:S,arraystretch:1,addJot:!0,rowGaps:[null],cols:E,colSeparationType:"CD",hLinesBeforeRow:new Array(S.length+1).fill([])}}Fe({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(m,h){let{parser:v,funcName:S}=m;return{type:"cdlabel",mode:v.mode,side:S.slice(4),label:h[0]}},htmlBuilder(m,h){const v=h.havingStyle(h.style.sup()),S=de.wrapFragment(xt(m.label,v,h),h);return S.classes.push("cd-label-"+m.side),S.style.bottom=be(.8-S.depth),S.height=0,S.depth=0,S},mathmlBuilder(m,h){let v=new De.MathNode("mrow",[jt(m.label,h)]);return v=new De.MathNode("mpadded",[v]),v.setAttribute("width","0"),m.side==="left"&&v.setAttribute("lspace","-1width"),v.setAttribute("voffset","0.7em"),v=new De.MathNode("mstyle",[v]),v.setAttribute("displaystyle","false"),v.setAttribute("scriptlevel","1"),v}}),Fe({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(m,h){let{parser:v}=m;return{type:"cdlabelparent",mode:v.mode,fragment:h[0]}},htmlBuilder(m,h){const v=de.wrapFragment(xt(m.fragment,h),h);return v.classes.push("cd-vert-arrow"),v},mathmlBuilder(m,h){return new De.MathNode("mrow",[jt(m.fragment,h)])}}),Fe({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(m,h){let{parser:v}=m;const E=lt(h[0],"ordgroup").body;let I="";for(let Y=0;Y<E.length;Y++){const ne=lt(E[Y],"textord");I+=ne.text}let O=parseInt(I),j;if(isNaN(O))throw new a("\\@char has non-numeric argument "+I);if(O<0||O>=1114111)throw new a("\\@char with invalid code point "+I);return O<=65535?j=String.fromCharCode(O):(O-=65536,j=String.fromCharCode((O>>10)+55296,(O&1023)+56320)),{type:"textord",mode:v.mode,text:j}}});const S4=(m,h)=>{const v=Mr(m.body,h.withColor(m.color),!1);return de.makeFragment(v)},k4=(m,h)=>{const v=En(m.body,h.withColor(m.color)),S=new De.MathNode("mstyle",v);return S.setAttribute("mathcolor",m.color),S};Fe({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(m,h){let{parser:v}=m;const S=lt(h[0],"color-token").color,E=h[1];return{type:"color",mode:v.mode,color:S,body:_r(E)}},htmlBuilder:S4,mathmlBuilder:k4}),Fe({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(m,h){let{parser:v,breakOnTokenText:S}=m;const E=lt(h[0],"color-token").color;v.gullet.macros.set("\\current@color",E);const I=v.parseExpression(!0,S);return{type:"color",mode:v.mode,color:E,body:I}},htmlBuilder:S4,mathmlBuilder:k4}),Fe({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:0,allowedInText:!0},handler(m,h,v){let{parser:S}=m;const E=S.gullet.future().text==="["?S.parseSizeGroup(!0):null,I=!S.settings.displayMode||!S.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:S.mode,newLine:I,size:E&&lt(E,"size").value}},htmlBuilder(m,h){const v=de.makeSpan(["mspace"],[],h);return m.newLine&&(v.classes.push("newline"),m.size&&(v.style.marginTop=be(Pe(m.size,h)))),v},mathmlBuilder(m,h){const v=new De.MathNode("mspace");return m.newLine&&(v.setAttribute("linebreak","newline"),m.size&&v.setAttribute("height",be(Pe(m.size,h)))),v}});const Ep={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},T4=m=>{const h=m.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(h))throw new a("Expected a control sequence",m);return h},AE=m=>{let h=m.gullet.popToken();return h.text==="="&&(h=m.gullet.popToken(),h.text===" "&&(h=m.gullet.popToken())),h},E4=(m,h,v,S)=>{let E=m.gullet.macros.get(v.text);E==null&&(v.noexpand=!0,E={tokens:[v],numArgs:0,unexpandable:!m.gullet.isExpandable(v.text)}),m.gullet.macros.set(h,E,S)};Fe({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(m){let{parser:h,funcName:v}=m;h.consumeSpaces();const S=h.fetch();if(Ep[S.text])return(v==="\\global"||v==="\\\\globallong")&&(S.text=Ep[S.text]),lt(h.parseFunction(),"internal");throw new a("Invalid token after macro prefix",S)}}),Fe({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(m){let{parser:h,funcName:v}=m,S=h.gullet.popToken();const E=S.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(E))throw new a("Expected a control sequence",S);let I=0,O;const j=[[]];for(;h.gullet.future().text!=="{";)if(S=h.gullet.popToken(),S.text==="#"){if(h.gullet.future().text==="{"){O=h.gullet.future(),j[I].push("{");break}if(S=h.gullet.popToken(),!/^[1-9]$/.test(S.text))throw new a('Invalid argument number "'+S.text+'"');if(parseInt(S.text)!==I+1)throw new a('Argument number "'+S.text+'" out of order');I++,j.push([])}else{if(S.text==="EOF")throw new a("Expected a macro definition");j[I].push(S.text)}let{tokens:Y}=h.gullet.consumeArg();return O&&Y.unshift(O),(v==="\\edef"||v==="\\xdef")&&(Y=h.gullet.expandTokens(Y),Y.reverse()),h.gullet.macros.set(E,{tokens:Y,numArgs:I,delimiters:j},v===Ep[v]),{type:"internal",mode:h.mode}}}),Fe({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(m){let{parser:h,funcName:v}=m;const S=T4(h.gullet.popToken());h.gullet.consumeSpaces();const E=AE(h);return E4(h,S,E,v==="\\\\globallet"),{type:"internal",mode:h.mode}}}),Fe({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(m){let{parser:h,funcName:v}=m;const S=T4(h.gullet.popToken()),E=h.gullet.popToken(),I=h.gullet.popToken();return E4(h,S,I,v==="\\\\globalfuture"),h.gullet.pushToken(I),h.gullet.pushToken(E),{type:"internal",mode:h.mode}}});const ou=function(m,h,v){const S=yt.math[m]&&yt.math[m].replace,E=tt(S||m,h,v);if(!E)throw new Error("Unsupported symbol "+m+" and font size "+h+".");return E},Cp=function(m,h,v,S){const E=v.havingBaseStyle(h),I=de.makeSpan(S.concat(E.sizingClasses(v)),[m],v),O=E.sizeMultiplier/v.sizeMultiplier;return I.height*=O,I.depth*=O,I.maxFontSize=E.sizeMultiplier,I},C4=function(m,h,v){const S=h.havingBaseStyle(v),E=(1-h.sizeMultiplier/S.sizeMultiplier)*h.fontMetrics().axisHeight;m.classes.push("delimcenter"),m.style.top=be(E),m.height-=E,m.depth+=E},IE=function(m,h,v,S,E,I){const O=de.makeSymbol(m,"Main-Regular",E,S),j=Cp(O,h,S,I);return v&&C4(j,S,h),j},LE=function(m,h,v,S){return de.makeSymbol(m,"Size"+h+"-Regular",v,S)},M4=function(m,h,v,S,E,I){const O=LE(m,h,E,S),j=Cp(de.makeSpan(["delimsizing","size"+h],[O],S),G.TEXT,S,I);return v&&C4(j,S,G.TEXT),j},Mp=function(m,h,v){let S;return h==="Size1-Regular"?S="delim-size1":S="delim-size4",{type:"elem",elem:de.makeSpan(["delimsizinginner",S],[de.makeSpan([],[de.makeSymbol(m,h,v)])])}},Pp=function(m,h,v){const S=ze["Size4-Regular"][m.charCodeAt(0)]?ze["Size4-Regular"][m.charCodeAt(0)][4]:ze["Size1-Regular"][m.charCodeAt(0)][4],E=new $t("inner",st(m,Math.round(1e3*h))),I=new Rt([E],{width:be(S),height:be(h),style:"width:"+be(S),viewBox:"0 0 "+1e3*S+" "+Math.round(1e3*h),preserveAspectRatio:"xMinYMin"}),O=de.makeSvgSpan([],[I],v);return O.height=h,O.style.height=be(h),O.style.width=be(S),{type:"elem",elem:O}},Dp=.008,M0={type:"kern",size:-1*Dp},RE=["|","\\lvert","\\rvert","\\vert"],OE=["\\|","\\lVert","\\rVert","\\Vert"],P4=function(m,h,v,S,E,I){let O,j,Y,ne,ae="",ce=0;O=Y=ne=m,j=null;let me="Size1-Regular";m==="\\uparrow"?Y=ne="":m==="\\Uparrow"?Y=ne="":m==="\\downarrow"?O=Y="":m==="\\Downarrow"?O=Y="":m==="\\updownarrow"?(O="\\uparrow",Y="",ne="\\downarrow"):m==="\\Updownarrow"?(O="\\Uparrow",Y="",ne="\\Downarrow"):x.contains(RE,m)?(Y="",ae="vert",ce=333):x.contains(OE,m)?(Y="",ae="doublevert",ce=556):m==="["||m==="\\lbrack"?(O="",Y="",ne="",me="Size4-Regular",ae="lbrack",ce=667):m==="]"||m==="\\rbrack"?(O="",Y="",ne="",me="Size4-Regular",ae="rbrack",ce=667):m==="\\lfloor"||m===""?(Y=O="",ne="",me="Size4-Regular",ae="lfloor",ce=667):m==="\\lceil"||m===""?(O="",Y=ne="",me="Size4-Regular",ae="lceil",ce=667):m==="\\rfloor"||m===""?(Y=O="",ne="",me="Size4-Regular",ae="rfloor",ce=667):m==="\\rceil"||m===""?(O="",Y=ne="",me="Size4-Regular",ae="rceil",ce=667):m==="("||m==="\\lparen"?(O="",Y="",ne="",me="Size4-Regular",ae="lparen",ce=875):m===")"||m==="\\rparen"?(O="",Y="",ne="",me="Size4-Regular",ae="rparen",ce=875):m==="\\{"||m==="\\lbrace"?(O="",j="",ne="",Y="",me="Size4-Regular"):m==="\\}"||m==="\\rbrace"?(O="",j="",ne="",Y="",me="Size4-Regular"):m==="\\lgroup"||m===""?(O="",ne="",Y="",me="Size4-Regular"):m==="\\rgroup"||m===""?(O="",ne="",Y="",me="Size4-Regular"):m==="\\lmoustache"||m===""?(O="",ne="",Y="",me="Size4-Regular"):(m==="\\rmoustache"||m==="")&&(O="",ne="",Y="",me="Size4-Regular");const Ce=ou(O,me,E),je=Ce.height+Ce.depth,Ge=ou(Y,me,E),mt=Ge.height+Ge.depth,ht=ou(ne,me,E),vt=ht.height+ht.depth;let Mt=0,Ut=1;if(j!==null){const pr=ou(j,me,E);Mt=pr.height+pr.depth,Ut=2}const mn=je+vt+Mt,Pr=Math.max(0,Math.ceil((h-mn)/(Ut*mt))),Qn=mn+Pr*Ut*mt;let Mo=S.fontMetrics().axisHeight;v&&(Mo*=S.sizeMultiplier);const bt=Qn/2-Mo,Ot=[];if(ae.length>0){const pr=Qn-je-vt,ar=Math.round(Qn*1e3),Jn=Et(ae,Math.round(pr*1e3)),oC=new $t(ae,Jn),x5=(ce/1e3).toFixed(3)+"em",b5=(ar/1e3).toFixed(3)+"em",lC=new Rt([oC],{width:x5,height:b5,viewBox:"0 0 "+ce+" "+ar}),L0=de.makeSvgSpan([],[lC],S);L0.height=ar/1e3,L0.style.width=x5,L0.style.height=b5,Ot.push({type:"elem",elem:L0})}else{if(Ot.push(Mp(ne,me,E)),Ot.push(M0),j===null){const pr=Qn-je-vt+2*Dp;Ot.push(Pp(Y,pr,S))}else{const pr=(Qn-je-vt-Mt)/2+2*Dp;Ot.push(Pp(Y,pr,S)),Ot.push(M0),Ot.push(Mp(j,me,E)),Ot.push(M0),Ot.push(Pp(Y,pr,S))}Ot.push(M0),Ot.push(Mp(O,me,E))}const Zt=S.havingBaseStyle(G.TEXT),rr=de.makeVList({positionType:"bottom",positionData:bt,children:Ot},Zt);return Cp(de.makeSpan(["delimsizing","mult"],[rr],Zt),G.TEXT,S,I)},Ap=80,Ip=.08,Lp=function(m,h,v,S,E){const I=Ve(m,S,v),O=new $t(m,I),j=new Rt([O],{width:"400em",height:be(h),viewBox:"0 0 400000 "+v,preserveAspectRatio:"xMinYMin slice"});return de.makeSvgSpan(["hide-tail"],[j],E)},NE=function(m,h){const v=h.havingBaseSizing(),S=L4("\\surd",m*v.sizeMultiplier,I4,v);let E=v.sizeMultiplier;const I=Math.max(0,h.minRuleThickness-h.fontMetrics().sqrtRuleThickness);let O,j=0,Y=0,ne=0,ae;return S.type==="small"?(ne=1e3+1e3*I+Ap,m<1?E=1:m<1.4&&(E=.7),j=(1+I+Ip)/E,Y=(1+I)/E,O=Lp("sqrtMain",j,ne,I,h),O.style.minWidth="0.853em",ae=.833/E):S.type==="large"?(ne=(1e3+Ap)*lu[S.size],Y=(lu[S.size]+I)/E,j=(lu[S.size]+I+Ip)/E,O=Lp("sqrtSize"+S.size,j,ne,I,h),O.style.minWidth="1.02em",ae=1/E):(j=m+I+Ip,Y=m+I,ne=Math.floor(1e3*m+I)+Ap,O=Lp("sqrtTall",j,ne,I,h),O.style.minWidth="0.742em",ae=1.056),O.height=Y,O.style.height=be(j),{span:O,advanceWidth:ae,ruleWidth:(h.fontMetrics().sqrtRuleThickness+I)*E}},D4=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","\\surd"],zE=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","",""],A4=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],lu=[0,1.2,1.8,2.4,3],BE=function(m,h,v,S,E){if(m==="<"||m==="\\lt"||m===""?m="\\langle":(m===">"||m==="\\gt"||m==="")&&(m="\\rangle"),x.contains(D4,m)||x.contains(A4,m))return M4(m,h,!1,v,S,E);if(x.contains(zE,m))return P4(m,lu[h],!1,v,S,E);throw new a("Illegal delimiter: '"+m+"'")},FE=[{type:"small",style:G.SCRIPTSCRIPT},{type:"small",style:G.SCRIPT},{type:"small",style:G.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],$E=[{type:"small",style:G.SCRIPTSCRIPT},{type:"small",style:G.SCRIPT},{type:"small",style:G.TEXT},{type:"stack"}],I4=[{type:"small",style:G.SCRIPTSCRIPT},{type:"small",style:G.SCRIPT},{type:"small",style:G.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],jE=function(m){if(m.type==="small")return"Main-Regular";if(m.type==="large")return"Size"+m.size+"-Regular";if(m.type==="stack")return"Size4-Regular";throw new Error("Add support for delim type '"+m.type+"' here.")},L4=function(m,h,v,S){const E=Math.min(2,3-S.style.size);for(let I=E;I<v.length&&v[I].type!=="stack";I++){const O=ou(m,jE(v[I]),"math");let j=O.height+O.depth;if(v[I].type==="small"){const Y=S.havingBaseStyle(v[I].style);j*=Y.sizeMultiplier}if(j>h)return v[I]}return v[v.length-1]},R4=function(m,h,v,S,E,I){m==="<"||m==="\\lt"||m===""?m="\\langle":(m===">"||m==="\\gt"||m==="")&&(m="\\rangle");let O;x.contains(A4,m)?O=FE:x.contains(D4,m)?O=I4:O=$E;const j=L4(m,h,O,S);return j.type==="small"?IE(m,j.style,v,S,E,I):j.type==="large"?M4(m,j.size,v,S,E,I):P4(m,h,v,S,E,I)};var Ki={sqrtImage:NE,sizedDelim:BE,sizeToMaxHeight:lu,customSizedDelim:R4,leftRightDelim:function(m,h,v,S,E,I){const O=S.fontMetrics().axisHeight*S.sizeMultiplier,j=901,Y=5/S.fontMetrics().ptPerEm,ne=Math.max(h-O,v+O),ae=Math.max(ne/500*j,2*ne-Y);return R4(m,ae,!0,S,E,I)}};const O4={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},qE=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","<",">","\\langle","","\\rangle","","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","","","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function P0(m,h){const v=T0(m);if(v&&x.contains(qE,v.text))return v;throw v?new a("Invalid delimiter '"+v.text+"' after '"+h.funcName+"'",m):new a("Invalid delimiter type '"+m.type+"'",m)}Fe({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:(m,h)=>{const v=P0(h[0],m);return{type:"delimsizing",mode:m.parser.mode,size:O4[m.funcName].size,mclass:O4[m.funcName].mclass,delim:v.text}},htmlBuilder:(m,h)=>m.delim==="."?de.makeSpan([m.mclass]):Ki.sizedDelim(m.delim,m.size,h,m.mode,[m.mclass]),mathmlBuilder:m=>{const h=[];m.delim!=="."&&h.push(Kn(m.delim,m.mode));const v=new De.MathNode("mo",h);m.mclass==="mopen"||m.mclass==="mclose"?v.setAttribute("fence","true"):v.setAttribute("fence","false"),v.setAttribute("stretchy","true");const S=be(Ki.sizeToMaxHeight[m.size]);return v.setAttribute("minsize",S),v.setAttribute("maxsize",S),v}});function N4(m){if(!m.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}Fe({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:(m,h)=>{const v=m.parser.gullet.macros.get("\\current@color");if(v&&typeof v!="string")throw new a("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:m.parser.mode,delim:P0(h[0],m).text,color:v}}}),Fe({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:(m,h)=>{const v=P0(h[0],m),S=m.parser;++S.leftrightDepth;const E=S.parseExpression(!1);--S.leftrightDepth,S.expect("\\right",!1);const I=lt(S.parseFunction(),"leftright-right");return{type:"leftright",mode:S.mode,body:E,left:v.text,right:I.delim,rightColor:I.color}},htmlBuilder:(m,h)=>{N4(m);const v=Mr(m.body,h,!0,["mopen","mclose"]);let S=0,E=0,I=!1;for(let Y=0;Y<v.length;Y++)v[Y].isMiddle?I=!0:(S=Math.max(v[Y].height,S),E=Math.max(v[Y].depth,E));S*=h.sizeMultiplier,E*=h.sizeMultiplier;let O;if(m.left==="."?O=au(h,["mopen"]):O=Ki.leftRightDelim(m.left,S,E,h,m.mode,["mopen"]),v.unshift(O),I)for(let Y=1;Y<v.length;Y++){const ae=v[Y].isMiddle;ae&&(v[Y]=Ki.leftRightDelim(ae.delim,S,E,ae.options,m.mode,[]))}let j;if(m.right===".")j=au(h,["mclose"]);else{const Y=m.rightColor?h.withColor(m.rightColor):h;j=Ki.leftRightDelim(m.right,S,E,Y,m.mode,["mclose"])}return v.push(j),de.makeSpan(["minner"],v,h)},mathmlBuilder:(m,h)=>{N4(m);const v=En(m.body,h);if(m.left!=="."){const S=new De.MathNode("mo",[Kn(m.left,m.mode)]);S.setAttribute("fence","true"),v.unshift(S)}if(m.right!=="."){const S=new De.MathNode("mo",[Kn(m.right,m.mode)]);S.setAttribute("fence","true"),m.rightColor&&S.setAttribute("mathcolor",m.rightColor),v.push(S)}return _p(v)}}),Fe({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:(m,h)=>{const v=P0(h[0],m);if(!m.parser.leftrightDepth)throw new a("\\middle without preceding \\left",v);return{type:"middle",mode:m.parser.mode,delim:v.text}},htmlBuilder:(m,h)=>{let v;if(m.delim===".")v=au(h,[]);else{v=Ki.sizedDelim(m.delim,1,h,m.mode,[]);const S={delim:m.delim,options:h};v.isMiddle=S}return v},mathmlBuilder:(m,h)=>{const v=m.delim==="\\vert"||m.delim==="|"?Kn("|","text"):Kn(m.delim,m.mode),S=new De.MathNode("mo",[v]);return S.setAttribute("fence","true"),S.setAttribute("lspace","0.05em"),S.setAttribute("rspace","0.05em"),S}});const Rp=(m,h)=>{const v=de.wrapFragment(xt(m.body,h),h),S=m.label.slice(1);let E=h.sizeMultiplier,I,O=0;const j=x.isCharacterBox(m.body);if(S==="sout")I=de.makeSpan(["stretchy","sout"]),I.height=h.fontMetrics().defaultRuleThickness/E,O=-.5*h.fontMetrics().xHeight;else if(S==="phase"){const ne=Pe({number:.6,unit:"pt"},h),ae=Pe({number:.35,unit:"ex"},h),ce=h.havingBaseSizing();E=E/ce.sizeMultiplier;const me=v.height+v.depth+ne+ae;v.style.paddingLeft=be(me/2+ne);const Ce=Math.floor(1e3*me*E),je=we(Ce),Ge=new Rt([new $t("phase",je)],{width:"400em",height:be(Ce/1e3),viewBox:"0 0 400000 "+Ce,preserveAspectRatio:"xMinYMin slice"});I=de.makeSvgSpan(["hide-tail"],[Ge],h),I.style.height=be(me),O=v.depth+ne+ae}else{/cancel/.test(S)?j||v.classes.push("cancel-pad"):S==="angl"?v.classes.push("anglpad"):v.classes.push("boxpad");let ne=0,ae=0,ce=0;/box/.test(S)?(ce=Math.max(h.fontMetrics().fboxrule,h.minRuleThickness),ne=h.fontMetrics().fboxsep+(S==="colorbox"?0:ce),ae=ne):S==="angl"?(ce=Math.max(h.fontMetrics().defaultRuleThickness,h.minRuleThickness),ne=4*ce,ae=Math.max(0,.25-v.depth)):(ne=j?.2:0,ae=ne),I=Xi.encloseSpan(v,S,ne,ae,h),/fbox|boxed|fcolorbox/.test(S)?(I.style.borderStyle="solid",I.style.borderWidth=be(ce)):S==="angl"&&ce!==.049&&(I.style.borderTopWidth=be(ce),I.style.borderRightWidth=be(ce)),O=v.depth+ae,m.backgroundColor&&(I.style.backgroundColor=m.backgroundColor,m.borderColor&&(I.style.borderColor=m.borderColor))}let Y;if(m.backgroundColor)Y=de.makeVList({positionType:"individualShift",children:[{type:"elem",elem:I,shift:O},{type:"elem",elem:v,shift:0}]},h);else{const ne=/cancel|phase/.test(S)?["svg-align"]:[];Y=de.makeVList({positionType:"individualShift",children:[{type:"elem",elem:v,shift:0},{type:"elem",elem:I,shift:O,wrapperClasses:ne}]},h)}return/cancel/.test(S)&&(Y.height=v.height,Y.depth=v.depth),/cancel/.test(S)&&!j?de.makeSpan(["mord","cancel-lap"],[Y],h):de.makeSpan(["mord"],[Y],h)},Op=(m,h)=>{let v=0;const S=new De.MathNode(m.label.indexOf("colorbox")>-1?"mpadded":"menclose",[jt(m.body,h)]);switch(m.label){case"\\cancel":S.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":S.setAttribute("notation","downdiagonalstrike");break;case"\\phase":S.setAttribute("notation","phasorangle");break;case"\\sout":S.setAttribute("notation","horizontalstrike");break;case"\\fbox":S.setAttribute("notation","box");break;case"\\angl":S.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(v=h.fontMetrics().fboxsep*h.fontMetrics().ptPerEm,S.setAttribute("width","+"+2*v+"pt"),S.setAttribute("height","+"+2*v+"pt"),S.setAttribute("lspace",v+"pt"),S.setAttribute("voffset",v+"pt"),m.label==="\\fcolorbox"){const E=Math.max(h.fontMetrics().fboxrule,h.minRuleThickness);S.setAttribute("style","border: "+E+"em solid "+String(m.borderColor))}break;case"\\xcancel":S.setAttribute("notation","updiagonalstrike downdiagonalstrike");break}return m.backgroundColor&&S.setAttribute("mathbackground",m.backgroundColor),S};Fe({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(m,h,v){let{parser:S,funcName:E}=m;const I=lt(h[0],"color-token").color,O=h[1];return{type:"enclose",mode:S.mode,label:E,backgroundColor:I,body:O}},htmlBuilder:Rp,mathmlBuilder:Op}),Fe({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(m,h,v){let{parser:S,funcName:E}=m;const I=lt(h[0],"color-token").color,O=lt(h[1],"color-token").color,j=h[2];return{type:"enclose",mode:S.mode,label:E,backgroundColor:O,borderColor:I,body:j}},htmlBuilder:Rp,mathmlBuilder:Op}),Fe({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(m,h){let{parser:v}=m;return{type:"enclose",mode:v.mode,label:"\\fbox",body:h[0]}}}),Fe({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(m,h){let{parser:v,funcName:S}=m;const E=h[0];return{type:"enclose",mode:v.mode,label:S,body:E}},htmlBuilder:Rp,mathmlBuilder:Op}),Fe({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(m,h){let{parser:v}=m;return{type:"enclose",mode:v.mode,label:"\\angl",body:h[0]}}});const z4={};function Ei(m){let{type:h,names:v,props:S,handler:E,htmlBuilder:I,mathmlBuilder:O}=m;const j={type:h,numArgs:S.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:E};for(let Y=0;Y<v.length;++Y)z4[v[Y]]=j;I&&(w0[h]=I),O&&(_0[h]=O)}const B4={};function q(m,h){B4[m]=h}class Nn{constructor(h,v,S){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=h,this.start=v,this.end=S}static range(h,v){return v?!h||!h.loc||!v.loc||h.loc.lexer!==v.loc.lexer?null:new Nn(h.loc.lexer,h.loc.start,v.loc.end):h&&h.loc}}class Zn{constructor(h,v){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=h,this.loc=v}range(h,v){return new Zn(v,Nn.range(this,h))}}function F4(m){const h=[];m.consumeSpaces();let v=m.fetch().text;for(v==="\\relax"&&(m.consume(),m.consumeSpaces(),v=m.fetch().text);v==="\\hline"||v==="\\hdashline";)m.consume(),h.push(v==="\\hdashline"),m.consumeSpaces(),v=m.fetch().text;return h}const D0=m=>{if(!m.parser.settings.displayMode)throw new a("{"+m.envName+"} can be used only in display mode.")};function Np(m){if(m.indexOf("ed")===-1)return m.indexOf("*")===-1}function Pa(m,h,v){let{hskipBeforeAndAfter:S,addJot:E,cols:I,arraystretch:O,colSeparationType:j,autoTag:Y,singleRow:ne,emptySingleRow:ae,maxNumCols:ce,leqno:me}=h;if(m.gullet.beginGroup(),ne||m.gullet.macros.set("\\cr","\\\\\\relax"),!O){const Ut=m.gullet.expandMacroAsText("\\arraystretch");if(Ut==null)O=1;else if(O=parseFloat(Ut),!O||O<0)throw new a("Invalid \\arraystretch: "+Ut)}m.gullet.beginGroup();let Ce=[];const je=[Ce],Ge=[],mt=[],ht=Y!=null?[]:void 0;function vt(){Y&&m.gullet.macros.set("\\@eqnsw","1",!0)}function Mt(){ht&&(m.gullet.macros.get("\\df@tag")?(ht.push(m.subparse([new Zn("\\df@tag")])),m.gullet.macros.set("\\df@tag",void 0,!0)):ht.push(!!Y&&m.gullet.macros.get("\\@eqnsw")==="1"))}for(vt(),mt.push(F4(m));;){let Ut=m.parseExpression(!1,ne?"\\end":"\\\\");m.gullet.endGroup(),m.gullet.beginGroup(),Ut={type:"ordgroup",mode:m.mode,body:Ut},v&&(Ut={type:"styling",mode:m.mode,style:v,body:[Ut]}),Ce.push(Ut);const mn=m.fetch().text;if(mn==="&"){if(ce&&Ce.length===ce){if(ne||j)throw new a("Too many tab characters: &",m.nextToken);m.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}m.consume()}else if(mn==="\\end"){Mt(),Ce.length===1&&Ut.type==="styling"&&Ut.body[0].body.length===0&&(je.length>1||!ae)&&je.pop(),mt.length<je.length+1&&mt.push([]);break}else if(mn==="\\\\"){m.consume();let Pr;m.gullet.future().text!==" "&&(Pr=m.parseSizeGroup(!0)),Ge.push(Pr?Pr.value:null),Mt(),mt.push(F4(m)),Ce=[],je.push(Ce),vt()}else throw new a("Expected & or \\\\ or \\cr or \\end",m.nextToken)}return m.gullet.endGroup(),m.gullet.endGroup(),{type:"array",mode:m.mode,addJot:E,arraystretch:O,body:je,cols:I,rowGaps:Ge,hskipBeforeAndAfter:S,hLinesBeforeRow:mt,colSeparationType:j,tags:ht,leqno:me}}function zp(m){return m.slice(0,1)==="d"?"display":"text"}const Ci=function(m,h){let v,S;const E=m.body.length,I=m.hLinesBeforeRow;let O=0,j=new Array(E);const Y=[],ne=Math.max(h.fontMetrics().arrayRuleWidth,h.minRuleThickness),ae=1/h.fontMetrics().ptPerEm;let ce=5*ae;m.colSeparationType&&m.colSeparationType==="small"&&(ce=.2778*(h.havingStyle(G.SCRIPT).sizeMultiplier/h.sizeMultiplier));const me=m.colSeparationType==="CD"?Pe({number:3,unit:"ex"},h):12*ae,Ce=3*ae,je=m.arraystretch*me,Ge=.7*je,mt=.3*je;let ht=0;function vt(bt){for(let Ot=0;Ot<bt.length;++Ot)Ot>0&&(ht+=.25),Y.push({pos:ht,isDashed:bt[Ot]})}for(vt(I[0]),v=0;v<m.body.length;++v){const bt=m.body[v];let Ot=Ge,Zt=mt;O<bt.length&&(O=bt.length);const rr=new Array(bt.length);for(S=0;S<bt.length;++S){const Jn=xt(bt[S],h);Zt<Jn.depth&&(Zt=Jn.depth),Ot<Jn.height&&(Ot=Jn.height),rr[S]=Jn}const pr=m.rowGaps[v];let ar=0;pr&&(ar=Pe(pr,h),ar>0&&(ar+=mt,Zt<ar&&(Zt=ar),ar=0)),m.addJot&&(Zt+=Ce),rr.height=Ot,rr.depth=Zt,ht+=Ot,rr.pos=ht,ht+=Zt+ar,j[v]=rr,vt(I[v+1])}const Mt=ht/2+h.fontMetrics().axisHeight,Ut=m.cols||[],mn=[];let Pr,Qn;const Mo=[];if(m.tags&&m.tags.some(bt=>bt))for(v=0;v<E;++v){const bt=j[v],Ot=bt.pos-Mt,Zt=m.tags[v];let rr;Zt===!0?rr=de.makeSpan(["eqn-num"],[],h):Zt===!1?rr=de.makeSpan([],[],h):rr=de.makeSpan([],Mr(Zt,h,!0),h),rr.depth=bt.depth,rr.height=bt.height,Mo.push({type:"elem",elem:rr,shift:Ot})}for(S=0,Qn=0;S<O||Qn<Ut.length;++S,++Qn){let bt=Ut[Qn]||{},Ot=!0;for(;bt.type==="separator";){if(Ot||(Pr=de.makeSpan(["arraycolsep"],[]),Pr.style.width=be(h.fontMetrics().doubleRuleSep),mn.push(Pr)),bt.separator==="|"||bt.separator===":"){const pr=bt.separator==="|"?"solid":"dashed",ar=de.makeSpan(["vertical-separator"],[],h);ar.style.height=be(ht),ar.style.borderRightWidth=be(ne),ar.style.borderRightStyle=pr,ar.style.margin="0 "+be(-ne/2);const Jn=ht-Mt;Jn&&(ar.style.verticalAlign=be(-Jn)),mn.push(ar)}else throw new a("Invalid separator type: "+bt.separator);Qn++,bt=Ut[Qn]||{},Ot=!1}if(S>=O)continue;let Zt;(S>0||m.hskipBeforeAndAfter)&&(Zt=x.deflt(bt.pregap,ce),Zt!==0&&(Pr=de.makeSpan(["arraycolsep"],[]),Pr.style.width=be(Zt),mn.push(Pr)));let rr=[];for(v=0;v<E;++v){const pr=j[v],ar=pr[S];if(!ar)continue;const Jn=pr.pos-Mt;ar.depth=pr.depth,ar.height=pr.height,rr.push({type:"elem",elem:ar,shift:Jn})}rr=de.makeVList({positionType:"individualShift",children:rr},h),rr=de.makeSpan(["col-align-"+(bt.align||"c")],[rr]),mn.push(rr),(S<O-1||m.hskipBeforeAndAfter)&&(Zt=x.deflt(bt.postgap,ce),Zt!==0&&(Pr=de.makeSpan(["arraycolsep"],[]),Pr.style.width=be(Zt),mn.push(Pr)))}if(j=de.makeSpan(["mtable"],mn),Y.length>0){const bt=de.makeLineSpan("hline",h,ne),Ot=de.makeLineSpan("hdashline",h,ne),Zt=[{type:"elem",elem:j,shift:0}];for(;Y.length>0;){const rr=Y.pop(),pr=rr.pos-Mt;rr.isDashed?Zt.push({type:"elem",elem:Ot,shift:pr}):Zt.push({type:"elem",elem:bt,shift:pr})}j=de.makeVList({positionType:"individualShift",children:Zt},h)}if(Mo.length===0)return de.makeSpan(["mord"],[j],h);{let bt=de.makeVList({positionType:"individualShift",children:Mo},h);return bt=de.makeSpan(["tag"],[bt],h),de.makeFragment([j,bt])}},HE={c:"center ",l:"left ",r:"right "},Mi=function(m,h){const v=[],S=new De.MathNode("mtd",[],["mtr-glue"]),E=new De.MathNode("mtd",[],["mml-eqn-num"]);for(let ce=0;ce<m.body.length;ce++){const me=m.body[ce],Ce=[];for(let je=0;je<me.length;je++)Ce.push(new De.MathNode("mtd",[jt(me[je],h)]));m.tags&&m.tags[ce]&&(Ce.unshift(S),Ce.push(S),m.leqno?Ce.unshift(E):Ce.push(E)),v.push(new De.MathNode("mtr",Ce))}let I=new De.MathNode("mtable",v);const O=m.arraystretch===.5?.1:.16+m.arraystretch-1+(m.addJot?.09:0);I.setAttribute("rowspacing",be(O));let j="",Y="";if(m.cols&&m.cols.length>0){const ce=m.cols;let me="",Ce=!1,je=0,Ge=ce.length;ce[0].type==="separator"&&(j+="top ",je=1),ce[ce.length-1].type==="separator"&&(j+="bottom ",Ge-=1);for(let mt=je;mt<Ge;mt++)ce[mt].type==="align"?(Y+=HE[ce[mt].align],Ce&&(me+="none "),Ce=!0):ce[mt].type==="separator"&&Ce&&(me+=ce[mt].separator==="|"?"solid ":"dashed ",Ce=!1);I.setAttribute("columnalign",Y.trim()),/[sd]/.test(me)&&I.setAttribute("columnlines",me.trim())}if(m.colSeparationType==="align"){const ce=m.cols||[];let me="";for(let Ce=1;Ce<ce.length;Ce++)me+=Ce%2?"0em ":"1em ";I.setAttribute("columnspacing",me.trim())}else m.colSeparationType==="alignat"||m.colSeparationType==="gather"?I.setAttribute("columnspacing","0em"):m.colSeparationType==="small"?I.setAttribute("columnspacing","0.2778em"):m.colSeparationType==="CD"?I.setAttribute("columnspacing","0.5em"):I.setAttribute("columnspacing","1em");let ne="";const ae=m.hLinesBeforeRow;j+=ae[0].length>0?"left ":"",j+=ae[ae.length-1].length>0?"right ":"";for(let ce=1;ce<ae.length-1;ce++)ne+=ae[ce].length===0?"none ":ae[ce][0]?"dashed ":"solid ";return/[sd]/.test(ne)&&I.setAttribute("rowlines",ne.trim()),j!==""&&(I=new De.MathNode("menclose",[I]),I.setAttribute("notation",j.trim())),m.arraystretch&&m.arraystretch<1&&(I=new De.MathNode("mstyle",[I]),I.setAttribute("scriptlevel","1")),I},$4=function(m,h){m.envName.indexOf("ed")===-1&&D0(m);const v=[],S=m.envName.indexOf("at")>-1?"alignat":"align",E=m.envName==="split",I=Pa(m.parser,{cols:v,addJot:!0,autoTag:E?void 0:Np(m.envName),emptySingleRow:!0,colSeparationType:S,maxNumCols:E?2:void 0,leqno:m.parser.settings.leqno},"display");let O,j=0;const Y={type:"ordgroup",mode:m.mode,body:[]};if(h[0]&&h[0].type==="ordgroup"){let ae="";for(let ce=0;ce<h[0].body.length;ce++){const me=lt(h[0].body[ce],"textord");ae+=me.text}O=Number(ae),j=O*2}const ne=!j;I.body.forEach(function(ae){for(let ce=1;ce<ae.length;ce+=2){const me=lt(ae[ce],"styling");lt(me.body[0],"ordgroup").body.unshift(Y)}if(ne)j<ae.length&&(j=ae.length);else{const ce=ae.length/2;if(O<ce)throw new a("Too many math in a row: "+("expected "+O+", but got "+ce),ae[0])}});for(let ae=0;ae<j;++ae){let ce="r",me=0;ae%2===1?ce="l":ae>0&&ne&&(me=1),v[ae]={type:"align",align:ce,pregap:me,postgap:0}}return I.colSeparationType=ne?"align":"alignat",I};Ei({type:"array",names:["array","darray"],props:{numArgs:1},handler(m,h){const E=(T0(h[0])?[h[0]]:lt(h[0],"ordgroup").body).map(function(O){const Y=kp(O).text;if("lcr".indexOf(Y)!==-1)return{type:"align",align:Y};if(Y==="|")return{type:"separator",separator:"|"};if(Y===":")return{type:"separator",separator:":"};throw new a("Unknown column alignment: "+Y,O)}),I={cols:E,hskipBeforeAndAfter:!0,maxNumCols:E.length};return Pa(m.parser,I,zp(m.envName))},htmlBuilder:Ci,mathmlBuilder:Mi}),Ei({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler(m){const h={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[m.envName.replace("*","")];let v="c";const S={hskipBeforeAndAfter:!1,cols:[{type:"align",align:v}]};if(m.envName.charAt(m.envName.length-1)==="*"){const O=m.parser;if(O.consumeSpaces(),O.fetch().text==="["){if(O.consume(),O.consumeSpaces(),v=O.fetch().text,"lcr".indexOf(v)===-1)throw new a("Expected l or c or r",O.nextToken);O.consume(),O.consumeSpaces(),O.expect("]"),O.consume(),S.cols=[{type:"align",align:v}]}}const E=Pa(m.parser,S,zp(m.envName)),I=Math.max(0,...E.body.map(O=>O.length));return E.cols=new Array(I).fill({type:"align",align:v}),h?{type:"leftright",mode:m.mode,body:[E],left:h[0],right:h[1],rightColor:void 0}:E},htmlBuilder:Ci,mathmlBuilder:Mi}),Ei({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(m){const h={arraystretch:.5},v=Pa(m.parser,h,"script");return v.colSeparationType="small",v},htmlBuilder:Ci,mathmlBuilder:Mi}),Ei({type:"array",names:["subarray"],props:{numArgs:1},handler(m,h){const E=(T0(h[0])?[h[0]]:lt(h[0],"ordgroup").body).map(function(O){const Y=kp(O).text;if("lc".indexOf(Y)!==-1)return{type:"align",align:Y};throw new a("Unknown column alignment: "+Y,O)});if(E.length>1)throw new a("{subarray} can contain only one column");let I={cols:E,hskipBeforeAndAfter:!1,arraystretch:.5};if(I=Pa(m.parser,I,"script"),I.body.length>0&&I.body[0].length>1)throw new a("{subarray} can contain only one column");return I},htmlBuilder:Ci,mathmlBuilder:Mi}),Ei({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(m){const h={arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},v=Pa(m.parser,h,zp(m.envName));return{type:"leftright",mode:m.mode,body:[v],left:m.envName.indexOf("r")>-1?".":"\\{",right:m.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:Ci,mathmlBuilder:Mi}),Ei({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:$4,htmlBuilder:Ci,mathmlBuilder:Mi}),Ei({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(m){x.contains(["gather","gather*"],m.envName)&&D0(m);const h={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:Np(m.envName),emptySingleRow:!0,leqno:m.parser.settings.leqno};return Pa(m.parser,h,"display")},htmlBuilder:Ci,mathmlBuilder:Mi}),Ei({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:$4,htmlBuilder:Ci,mathmlBuilder:Mi}),Ei({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(m){D0(m);const h={autoTag:Np(m.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:m.parser.settings.leqno};return Pa(m.parser,h,"display")},htmlBuilder:Ci,mathmlBuilder:Mi}),Ei({type:"array",names:["CD"],props:{numArgs:0},handler(m){return D0(m),DE(m.parser)},htmlBuilder:Ci,mathmlBuilder:Mi}),q("\\nonumber","\\gdef\\@eqnsw{0}"),q("\\notag","\\nonumber"),Fe({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(m,h){throw new a(m.funcName+" valid only within array environment")}});var j4=z4;Fe({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(m,h){let{parser:v,funcName:S}=m;const E=h[0];if(E.type!=="ordgroup")throw new a("Invalid environment name",E);let I="";for(let O=0;O<E.body.length;++O)I+=lt(E.body[O],"textord").text;if(S==="\\begin"){if(!j4.hasOwnProperty(I))throw new a("No such environment: "+I,E);const O=j4[I],{args:j,optArgs:Y}=v.parseArguments("\\begin{"+I+"}",O),ne={mode:v.mode,envName:I,parser:v},ae=O.handler(ne,j,Y);v.expect("\\end",!1);const ce=v.nextToken,me=lt(v.parseFunction(),"environment");if(me.name!==I)throw new a("Mismatch: \\begin{"+I+"} matched by \\end{"+me.name+"}",ce);return ae}return{type:"environment",mode:v.mode,name:I,nameGroup:E}}});const q4=(m,h)=>{const v=m.font,S=h.withFont(v);return xt(m.body,S)},H4=(m,h)=>{const v=m.font,S=h.withFont(v);return jt(m.body,S)},V4={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};Fe({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:(m,h)=>{let{parser:v,funcName:S}=m;const E=S0(h[0]);let I=S;return I in V4&&(I=V4[I]),{type:"font",mode:v.mode,font:I.slice(1),body:E}},htmlBuilder:q4,mathmlBuilder:H4}),Fe({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:(m,h)=>{let{parser:v}=m;const S=h[0],E=x.isCharacterBox(S);return{type:"mclass",mode:v.mode,mclass:C0(S),body:[{type:"font",mode:v.mode,font:"boldsymbol",body:S}],isCharacterBox:E}}}),Fe({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:(m,h)=>{let{parser:v,funcName:S,breakOnTokenText:E}=m;const{mode:I}=v,O=v.parseExpression(!0,E),j="math"+S.slice(1);return{type:"font",mode:I,font:j,body:{type:"ordgroup",mode:v.mode,body:O}}},htmlBuilder:q4,mathmlBuilder:H4});const U4=(m,h)=>{let v=h;return m==="display"?v=v.id>=G.SCRIPT.id?v.text():G.DISPLAY:m==="text"&&v.size===G.DISPLAY.size?v=G.TEXT:m==="script"?v=G.SCRIPT:m==="scriptscript"&&(v=G.SCRIPTSCRIPT),v},Bp=(m,h)=>{const v=U4(m.size,h.style),S=v.fracNum(),E=v.fracDen();let I;I=h.havingStyle(S);const O=xt(m.numer,I,h);if(m.continued){const vt=8.5/h.fontMetrics().ptPerEm,Mt=3.5/h.fontMetrics().ptPerEm;O.height=O.height<vt?vt:O.height,O.depth=O.depth<Mt?Mt:O.depth}I=h.havingStyle(E);const j=xt(m.denom,I,h);let Y,ne,ae;m.hasBarLine?(m.barSize?(ne=Pe(m.barSize,h),Y=de.makeLineSpan("frac-line",h,ne)):Y=de.makeLineSpan("frac-line",h),ne=Y.height,ae=Y.height):(Y=null,ne=0,ae=h.fontMetrics().defaultRuleThickness);let ce,me,Ce;v.size===G.DISPLAY.size||m.size==="display"?(ce=h.fontMetrics().num1,ne>0?me=3*ae:me=7*ae,Ce=h.fontMetrics().denom1):(ne>0?(ce=h.fontMetrics().num2,me=ae):(ce=h.fontMetrics().num3,me=3*ae),Ce=h.fontMetrics().denom2);let je;if(Y){const vt=h.fontMetrics().axisHeight;ce-O.depth-(vt+.5*ne)<me&&(ce+=me-(ce-O.depth-(vt+.5*ne))),vt-.5*ne-(j.height-Ce)<me&&(Ce+=me-(vt-.5*ne-(j.height-Ce)));const Mt=-(vt-.5*ne);je=de.makeVList({positionType:"individualShift",children:[{type:"elem",elem:j,shift:Ce},{type:"elem",elem:Y,shift:Mt},{type:"elem",elem:O,shift:-ce}]},h)}else{const vt=ce-O.depth-(j.height-Ce);vt<me&&(ce+=.5*(me-vt),Ce+=.5*(me-vt)),je=de.makeVList({positionType:"individualShift",children:[{type:"elem",elem:j,shift:Ce},{type:"elem",elem:O,shift:-ce}]},h)}I=h.havingStyle(v),je.height*=I.sizeMultiplier/h.sizeMultiplier,je.depth*=I.sizeMultiplier/h.sizeMultiplier;let Ge;v.size===G.DISPLAY.size?Ge=h.fontMetrics().delim1:v.size===G.SCRIPTSCRIPT.size?Ge=h.havingStyle(G.SCRIPT).fontMetrics().delim2:Ge=h.fontMetrics().delim2;let mt,ht;return m.leftDelim==null?mt=au(h,["mopen"]):mt=Ki.customSizedDelim(m.leftDelim,Ge,!0,h.havingStyle(v),m.mode,["mopen"]),m.continued?ht=de.makeSpan([]):m.rightDelim==null?ht=au(h,["mclose"]):ht=Ki.customSizedDelim(m.rightDelim,Ge,!0,h.havingStyle(v),m.mode,["mclose"]),de.makeSpan(["mord"].concat(I.sizingClasses(h)),[mt,de.makeSpan(["mfrac"],[je]),ht],h)},Fp=(m,h)=>{let v=new De.MathNode("mfrac",[jt(m.numer,h),jt(m.denom,h)]);if(!m.hasBarLine)v.setAttribute("linethickness","0px");else if(m.barSize){const E=Pe(m.barSize,h);v.setAttribute("linethickness",be(E))}const S=U4(m.size,h.style);if(S.size!==h.style.size){v=new De.MathNode("mstyle",[v]);const E=S.size===G.DISPLAY.size?"true":"false";v.setAttribute("displaystyle",E),v.setAttribute("scriptlevel","0")}if(m.leftDelim!=null||m.rightDelim!=null){const E=[];if(m.leftDelim!=null){const I=new De.MathNode("mo",[new De.TextNode(m.leftDelim.replace("\\",""))]);I.setAttribute("fence","true"),E.push(I)}if(E.push(v),m.rightDelim!=null){const I=new De.MathNode("mo",[new De.TextNode(m.rightDelim.replace("\\",""))]);I.setAttribute("fence","true"),E.push(I)}return _p(E)}return v};Fe({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:(m,h)=>{let{parser:v,funcName:S}=m;const E=h[0],I=h[1];let O,j=null,Y=null,ne="auto";switch(S){case"\\dfrac":case"\\frac":case"\\tfrac":O=!0;break;case"\\\\atopfrac":O=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":O=!1,j="(",Y=")";break;case"\\\\bracefrac":O=!1,j="\\{",Y="\\}";break;case"\\\\brackfrac":O=!1,j="[",Y="]";break;default:throw new Error("Unrecognized genfrac command")}switch(S){case"\\dfrac":case"\\dbinom":ne="display";break;case"\\tfrac":case"\\tbinom":ne="text";break}return{type:"genfrac",mode:v.mode,continued:!1,numer:E,denom:I,hasBarLine:O,leftDelim:j,rightDelim:Y,size:ne,barSize:null}},htmlBuilder:Bp,mathmlBuilder:Fp}),Fe({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:(m,h)=>{let{parser:v,funcName:S}=m;const E=h[0],I=h[1];return{type:"genfrac",mode:v.mode,continued:!0,numer:E,denom:I,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}}),Fe({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(m){let{parser:h,funcName:v,token:S}=m,E;switch(v){case"\\over":E="\\frac";break;case"\\choose":E="\\binom";break;case"\\atop":E="\\\\atopfrac";break;case"\\brace":E="\\\\bracefrac";break;case"\\brack":E="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:h.mode,replaceWith:E,token:S}}});const W4=["display","text","script","scriptscript"],G4=function(m){let h=null;return m.length>0&&(h=m,h=h==="."?null:h),h};Fe({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler(m,h){let{parser:v}=m;const S=h[4],E=h[5],I=S0(h[0]),O=I.type==="atom"&&I.family==="open"?G4(I.text):null,j=S0(h[1]),Y=j.type==="atom"&&j.family==="close"?G4(j.text):null,ne=lt(h[2],"size");let ae,ce=null;ne.isBlank?ae=!0:(ce=ne.value,ae=ce.number>0);let me="auto",Ce=h[3];if(Ce.type==="ordgroup"){if(Ce.body.length>0){const je=lt(Ce.body[0],"textord");me=W4[Number(je.text)]}}else Ce=lt(Ce,"textord"),me=W4[Number(Ce.text)];return{type:"genfrac",mode:v.mode,numer:S,denom:E,continued:!1,hasBarLine:ae,barSize:ce,leftDelim:O,rightDelim:Y,size:me}},htmlBuilder:Bp,mathmlBuilder:Fp}),Fe({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(m,h){let{parser:v,funcName:S,token:E}=m;return{type:"infix",mode:v.mode,replaceWith:"\\\\abovefrac",size:lt(h[0],"size").value,token:E}}}),Fe({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:(m,h)=>{let{parser:v,funcName:S}=m;const E=h[0],I=y(lt(h[1],"infix").size),O=h[2],j=I.number>0;return{type:"genfrac",mode:v.mode,numer:E,denom:O,continued:!1,hasBarLine:j,barSize:I,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:Bp,mathmlBuilder:Fp});const Y4=(m,h)=>{const v=h.style;let S,E;m.type==="supsub"?(S=m.sup?xt(m.sup,h.havingStyle(v.sup()),h):xt(m.sub,h.havingStyle(v.sub()),h),E=lt(m.base,"horizBrace")):E=lt(m,"horizBrace");const I=xt(E.base,h.havingBaseStyle(G.DISPLAY)),O=Xi.svgSpan(E,h);let j;if(E.isOver?(j=de.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:I},{type:"kern",size:.1},{type:"elem",elem:O}]},h),j.children[0].children[0].children[1].classes.push("svg-align")):(j=de.makeVList({positionType:"bottom",positionData:I.depth+.1+O.height,children:[{type:"elem",elem:O},{type:"kern",size:.1},{type:"elem",elem:I}]},h),j.children[0].children[0].children[0].classes.push("svg-align")),S){const Y=de.makeSpan(["mord",E.isOver?"mover":"munder"],[j],h);E.isOver?j=de.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:Y},{type:"kern",size:.2},{type:"elem",elem:S}]},h):j=de.makeVList({positionType:"bottom",positionData:Y.depth+.2+S.height+S.depth,children:[{type:"elem",elem:S},{type:"kern",size:.2},{type:"elem",elem:Y}]},h)}return de.makeSpan(["mord",E.isOver?"mover":"munder"],[j],h)};Fe({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(m,h){let{parser:v,funcName:S}=m;return{type:"horizBrace",mode:v.mode,label:S,isOver:/^\\over/.test(S),base:h[0]}},htmlBuilder:Y4,mathmlBuilder:(m,h)=>{const v=Xi.mathMLnode(m.label);return new De.MathNode(m.isOver?"mover":"munder",[jt(m.base,h),v])}}),Fe({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:(m,h)=>{let{parser:v}=m;const S=h[1],E=lt(h[0],"url").url;return v.settings.isTrusted({command:"\\href",url:E})?{type:"href",mode:v.mode,href:E,body:_r(S)}:v.formatUnsupportedCmd("\\href")},htmlBuilder:(m,h)=>{const v=Mr(m.body,h,!1);return de.makeAnchor(m.href,[],v,h)},mathmlBuilder:(m,h)=>{let v=Ma(m.body,h);return v instanceof Xn||(v=new Xn("mrow",[v])),v.setAttribute("href",m.href),v}}),Fe({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:(m,h)=>{let{parser:v}=m;const S=lt(h[0],"url").url;if(!v.settings.isTrusted({command:"\\url",url:S}))return v.formatUnsupportedCmd("\\url");const E=[];for(let O=0;O<S.length;O++){let j=S[O];j==="~"&&(j="\\textasciitilde"),E.push({type:"textord",mode:"text",text:j})}const I={type:"text",mode:v.mode,font:"\\texttt",body:E};return{type:"href",mode:v.mode,href:S,body:_r(I)}}}),Fe({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(m,h){let{parser:v}=m;return{type:"hbox",mode:v.mode,body:_r(h[0])}},htmlBuilder(m,h){const v=Mr(m.body,h,!1);return de.makeFragment(v)},mathmlBuilder(m,h){return new De.MathNode("mrow",En(m.body,h))}}),Fe({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:(m,h)=>{let{parser:v,funcName:S,token:E}=m;const I=lt(h[0],"raw").string,O=h[1];v.settings.strict&&v.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");let j;const Y={};switch(S){case"\\htmlClass":Y.class=I,j={command:"\\htmlClass",class:I};break;case"\\htmlId":Y.id=I,j={command:"\\htmlId",id:I};break;case"\\htmlStyle":Y.style=I,j={command:"\\htmlStyle",style:I};break;case"\\htmlData":{const ne=I.split(",");for(let ae=0;ae<ne.length;ae++){const ce=ne[ae].split("=");if(ce.length!==2)throw new a("Error parsing key-value for \\htmlData");Y["data-"+ce[0].trim()]=ce[1].trim()}j={command:"\\htmlData",attributes:Y};break}default:throw new Error("Unrecognized html command")}return v.settings.isTrusted(j)?{type:"html",mode:v.mode,attributes:Y,body:_r(O)}:v.formatUnsupportedCmd(S)},htmlBuilder:(m,h)=>{const v=Mr(m.body,h,!1),S=["enclosing"];m.attributes.class&&S.push(...m.attributes.class.trim().split(/\s+/));const E=de.makeSpan(S,v,h);for(const I in m.attributes)I!=="class"&&m.attributes.hasOwnProperty(I)&&E.setAttribute(I,m.attributes[I]);return E},mathmlBuilder:(m,h)=>Ma(m.body,h)}),Fe({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:(m,h)=>{let{parser:v}=m;return{type:"htmlmathml",mode:v.mode,html:_r(h[0]),mathml:_r(h[1])}},htmlBuilder:(m,h)=>{const v=Mr(m.html,h,!1);return de.makeFragment(v)},mathmlBuilder:(m,h)=>Ma(m.mathml,h)});const $p=function(m){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(m))return{number:+m,unit:"bp"};{const h=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(m);if(!h)throw new a("Invalid size: '"+m+"' in \\includegraphics");const v={number:+(h[1]+h[2]),unit:h[3]};if(!ke(v))throw new a("Invalid unit: '"+v.unit+"' in \\includegraphics.");return v}};Fe({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:(m,h,v)=>{let{parser:S}=m,E={number:0,unit:"em"},I={number:.9,unit:"em"},O={number:0,unit:"em"},j="";if(v[0]){const ae=lt(v[0],"raw").string.split(",");for(let ce=0;ce<ae.length;ce++){const me=ae[ce].split("=");if(me.length===2){const Ce=me[1].trim();switch(me[0].trim()){case"alt":j=Ce;break;case"width":E=$p(Ce);break;case"height":I=$p(Ce);break;case"totalheight":O=$p(Ce);break;default:throw new a("Invalid key: '"+me[0]+"' in \\includegraphics.")}}}}const Y=lt(h[0],"url").url;return j===""&&(j=Y,j=j.replace(/^.*[\\/]/,""),j=j.substring(0,j.lastIndexOf("."))),S.settings.isTrusted({command:"\\includegraphics",url:Y})?{type:"includegraphics",mode:S.mode,alt:j,width:E,height:I,totalheight:O,src:Y}:S.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:(m,h)=>{const v=Pe(m.height,h);let S=0;m.totalheight.number>0&&(S=Pe(m.totalheight,h)-v);let E=0;m.width.number>0&&(E=Pe(m.width,h));const I={height:be(v+S)};E>0&&(I.width=be(E)),S>0&&(I.verticalAlign=be(-S));const O=new Kt(m.src,m.alt,I);return O.height=v,O.depth=S,O},mathmlBuilder:(m,h)=>{const v=new De.MathNode("mglyph",[]);v.setAttribute("alt",m.alt);const S=Pe(m.height,h);let E=0;if(m.totalheight.number>0&&(E=Pe(m.totalheight,h)-S,v.setAttribute("valign",be(-E))),v.setAttribute("height",be(S+E)),m.width.number>0){const I=Pe(m.width,h);v.setAttribute("width",be(I))}return v.setAttribute("src",m.src),v}}),Fe({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(m,h){let{parser:v,funcName:S}=m;const E=lt(h[0],"size");if(v.settings.strict){const I=S[1]==="m",O=E.value.unit==="mu";I?(O||v.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+S+" supports only mu units, "+("not "+E.value.unit+" units")),v.mode!=="math"&&v.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+S+" works only in math mode")):O&&v.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+S+" doesn't support mu units")}return{type:"kern",mode:v.mode,dimension:E.value}},htmlBuilder(m,h){return de.makeGlue(m.dimension,h)},mathmlBuilder(m,h){const v=Pe(m.dimension,h);return new De.SpaceNode(v)}}),Fe({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:(m,h)=>{let{parser:v,funcName:S}=m;const E=h[0];return{type:"lap",mode:v.mode,alignment:S.slice(5),body:E}},htmlBuilder:(m,h)=>{let v;m.alignment==="clap"?(v=de.makeSpan([],[xt(m.body,h)]),v=de.makeSpan(["inner"],[v],h)):v=de.makeSpan(["inner"],[xt(m.body,h)]);const S=de.makeSpan(["fix"],[]);let E=de.makeSpan([m.alignment],[v,S],h);const I=de.makeSpan(["strut"]);return I.style.height=be(E.height+E.depth),E.depth&&(I.style.verticalAlign=be(-E.depth)),E.children.unshift(I),E=de.makeSpan(["thinbox"],[E],h),de.makeSpan(["mord","vbox"],[E],h)},mathmlBuilder:(m,h)=>{const v=new De.MathNode("mpadded",[jt(m.body,h)]);if(m.alignment!=="rlap"){const S=m.alignment==="llap"?"-1":"-0.5";v.setAttribute("lspace",S+"width")}return v.setAttribute("width","0px"),v}}),Fe({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(m,h){let{funcName:v,parser:S}=m;const E=S.mode;S.switchMode("math");const I=v==="\\("?"\\)":"$",O=S.parseExpression(!1,I);return S.expect(I),S.switchMode(E),{type:"styling",mode:S.mode,style:"text",body:O}}}),Fe({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(m,h){throw new a("Mismatched "+m.funcName)}});const X4=(m,h)=>{switch(h.style.size){case G.DISPLAY.size:return m.display;case G.TEXT.size:return m.text;case G.SCRIPT.size:return m.script;case G.SCRIPTSCRIPT.size:return m.scriptscript;default:return m.text}};Fe({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:(m,h)=>{let{parser:v}=m;return{type:"mathchoice",mode:v.mode,display:_r(h[0]),text:_r(h[1]),script:_r(h[2]),scriptscript:_r(h[3])}},htmlBuilder:(m,h)=>{const v=X4(m,h),S=Mr(v,h,!1);return de.makeFragment(S)},mathmlBuilder:(m,h)=>{const v=X4(m,h);return Ma(v,h)}});const K4=(m,h,v,S,E,I,O)=>{m=de.makeSpan([],[m]);const j=v&&x.isCharacterBox(v);let Y,ne;if(h){const me=xt(h,S.havingStyle(E.sup()),S);ne={elem:me,kern:Math.max(S.fontMetrics().bigOpSpacing1,S.fontMetrics().bigOpSpacing3-me.depth)}}if(v){const me=xt(v,S.havingStyle(E.sub()),S);Y={elem:me,kern:Math.max(S.fontMetrics().bigOpSpacing2,S.fontMetrics().bigOpSpacing4-me.height)}}let ae;if(ne&&Y){const me=S.fontMetrics().bigOpSpacing5+Y.elem.height+Y.elem.depth+Y.kern+m.depth+O;ae=de.makeVList({positionType:"bottom",positionData:me,children:[{type:"kern",size:S.fontMetrics().bigOpSpacing5},{type:"elem",elem:Y.elem,marginLeft:be(-I)},{type:"kern",size:Y.kern},{type:"elem",elem:m},{type:"kern",size:ne.kern},{type:"elem",elem:ne.elem,marginLeft:be(I)},{type:"kern",size:S.fontMetrics().bigOpSpacing5}]},S)}else if(Y){const me=m.height-O;ae=de.makeVList({positionType:"top",positionData:me,children:[{type:"kern",size:S.fontMetrics().bigOpSpacing5},{type:"elem",elem:Y.elem,marginLeft:be(-I)},{type:"kern",size:Y.kern},{type:"elem",elem:m}]},S)}else if(ne){const me=m.depth+O;ae=de.makeVList({positionType:"bottom",positionData:me,children:[{type:"elem",elem:m},{type:"kern",size:ne.kern},{type:"elem",elem:ne.elem,marginLeft:be(I)},{type:"kern",size:S.fontMetrics().bigOpSpacing5}]},S)}else return m;const ce=[ae];if(Y&&I!==0&&!j){const me=de.makeSpan(["mspace"],[],S);me.style.marginRight=be(I),ce.unshift(me)}return de.makeSpan(["mop","op-limits"],ce,S)},Z4=["\\smallint"],Co=(m,h)=>{let v,S,E=!1,I;m.type==="supsub"?(v=m.sup,S=m.sub,I=lt(m.base,"op"),E=!0):I=lt(m,"op");const O=h.style;let j=!1;O.size===G.DISPLAY.size&&I.symbol&&!x.contains(Z4,I.name)&&(j=!0);let Y;if(I.symbol){const ce=j?"Size2-Regular":"Size1-Regular";let me="";if((I.name==="\\oiint"||I.name==="\\oiiint")&&(me=I.name.slice(1),I.name=me==="oiint"?"\\iint":"\\iiint"),Y=de.makeSymbol(I.name,ce,"math",h,["mop","op-symbol",j?"large-op":"small-op"]),me.length>0){const Ce=Y.italic,je=de.staticSvg(me+"Size"+(j?"2":"1"),h);Y=de.makeVList({positionType:"individualShift",children:[{type:"elem",elem:Y,shift:0},{type:"elem",elem:je,shift:j?.08:0}]},h),I.name="\\"+me,Y.classes.unshift("mop"),Y.italic=Ce}}else if(I.body){const ce=Mr(I.body,h,!0);ce.length===1&&ce[0]instanceof Vt?(Y=ce[0],Y.classes[0]="mop"):Y=de.makeSpan(["mop"],ce,h)}else{const ce=[];for(let me=1;me<I.name.length;me++)ce.push(de.mathsym(I.name[me],I.mode,h));Y=de.makeSpan(["mop"],ce,h)}let ne=0,ae=0;return(Y instanceof Vt||I.name==="\\oiint"||I.name==="\\oiiint")&&!I.suppressBaseShift&&(ne=(Y.height-Y.depth)/2-h.fontMetrics().axisHeight,ae=Y.italic),E?K4(Y,v,S,h,O,ae,ne):(ne&&(Y.style.position="relative",Y.style.top=be(ne)),Y)},uu=(m,h)=>{let v;if(m.symbol)v=new Xn("mo",[Kn(m.name,m.mode)]),x.contains(Z4,m.name)&&v.setAttribute("largeop","false");else if(m.body)v=new Xn("mo",En(m.body,h));else{v=new Xn("mi",[new su(m.name.slice(1))]);const S=new Xn("mo",[Kn("","text")]);m.parentIsSupSub?v=new Xn("mrow",[v,S]):v=p4([v,S])}return v},VE={"":"\\prod","":"\\coprod","":"\\sum","":"\\bigwedge","":"\\bigvee","":"\\bigcap","":"\\bigcup","":"\\bigodot","":"\\bigoplus","":"\\bigotimes","":"\\biguplus","":"\\bigsqcup"};Fe({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","","","","","","","","","","","",""],props:{numArgs:0},handler:(m,h)=>{let{parser:v,funcName:S}=m,E=S;return E.length===1&&(E=VE[E]),{type:"op",mode:v.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:E}},htmlBuilder:Co,mathmlBuilder:uu}),Fe({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:(m,h)=>{let{parser:v}=m;const S=h[0];return{type:"op",mode:v.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:_r(S)}},htmlBuilder:Co,mathmlBuilder:uu});const UE={"":"\\int","":"\\iint","":"\\iiint","":"\\oint","":"\\oiint","":"\\oiiint"};Fe({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler(m){let{parser:h,funcName:v}=m;return{type:"op",mode:h.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:v}},htmlBuilder:Co,mathmlBuilder:uu}),Fe({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler(m){let{parser:h,funcName:v}=m;return{type:"op",mode:h.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:v}},htmlBuilder:Co,mathmlBuilder:uu}),Fe({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","","","","","",""],props:{numArgs:0},handler(m){let{parser:h,funcName:v}=m,S=v;return S.length===1&&(S=UE[S]),{type:"op",mode:h.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:S}},htmlBuilder:Co,mathmlBuilder:uu});const Q4=(m,h)=>{let v,S,E=!1,I;m.type==="supsub"?(v=m.sup,S=m.sub,I=lt(m.base,"operatorname"),E=!0):I=lt(m,"operatorname");let O;if(I.body.length>0){const j=I.body.map(ne=>{const ae=ne.text;return typeof ae=="string"?{type:"textord",mode:ne.mode,text:ae}:ne}),Y=Mr(j,h.withFont("mathrm"),!0);for(let ne=0;ne<Y.length;ne++){const ae=Y[ne];ae instanceof Vt&&(ae.text=ae.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}O=de.makeSpan(["mop"],Y,h)}else O=de.makeSpan(["mop"],[],h);return E?K4(O,v,S,h,h.style,0,0):O};Fe({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:(m,h)=>{let{parser:v,funcName:S}=m;const E=h[0];return{type:"operatorname",mode:v.mode,body:_r(E),alwaysHandleSupSub:S==="\\operatornamewithlimits",limits:!1,parentIsSupSub:!1}},htmlBuilder:Q4,mathmlBuilder:(m,h)=>{let v=En(m.body,h.withFont("mathrm")),S=!0;for(let O=0;O<v.length;O++){const j=v[O];if(!(j instanceof De.SpaceNode))if(j instanceof De.MathNode)switch(j.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":{const Y=j.children[0];j.children.length===1&&Y instanceof De.TextNode?Y.text=Y.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):S=!1;break}default:S=!1}else S=!1}if(S){const O=v.map(j=>j.toText()).join("");v=[new De.TextNode(O)]}const E=new De.MathNode("mi",v);E.setAttribute("mathvariant","normal");const I=new De.MathNode("mo",[Kn("","text")]);return m.parentIsSupSub?new De.MathNode("mrow",[E,I]):De.newDocumentFragment([E,I])}}),q("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@"),Ds({type:"ordgroup",htmlBuilder(m,h){return m.semisimple?de.makeFragment(Mr(m.body,h,!1)):de.makeSpan(["mord"],Mr(m.body,h,!0),h)},mathmlBuilder(m,h){return Ma(m.body,h,!0)}}),Fe({type:"overline",names:["\\overline"],props:{numArgs:1},handler(m,h){let{parser:v}=m;const S=h[0];return{type:"overline",mode:v.mode,body:S}},htmlBuilder(m,h){const v=xt(m.body,h.havingCrampedStyle()),S=de.makeLineSpan("overline-line",h),E=h.fontMetrics().defaultRuleThickness,I=de.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:v},{type:"kern",size:3*E},{type:"elem",elem:S},{type:"kern",size:E}]},h);return de.makeSpan(["mord","overline"],[I],h)},mathmlBuilder(m,h){const v=new De.MathNode("mo",[new De.TextNode("")]);v.setAttribute("stretchy","true");const S=new De.MathNode("mover",[jt(m.body,h),v]);return S.setAttribute("accent","true"),S}}),Fe({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:(m,h)=>{let{parser:v}=m;const S=h[0];return{type:"phantom",mode:v.mode,body:_r(S)}},htmlBuilder:(m,h)=>{const v=Mr(m.body,h.withPhantom(),!1);return de.makeFragment(v)},mathmlBuilder:(m,h)=>{const v=En(m.body,h);return new De.MathNode("mphantom",v)}}),Fe({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:(m,h)=>{let{parser:v}=m;const S=h[0];return{type:"hphantom",mode:v.mode,body:S}},htmlBuilder:(m,h)=>{let v=de.makeSpan([],[xt(m.body,h.withPhantom())]);if(v.height=0,v.depth=0,v.children)for(let S=0;S<v.children.length;S++)v.children[S].height=0,v.children[S].depth=0;return v=de.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:v}]},h),de.makeSpan(["mord"],[v],h)},mathmlBuilder:(m,h)=>{const v=En(_r(m.body),h),S=new De.MathNode("mphantom",v),E=new De.MathNode("mpadded",[S]);return E.setAttribute("height","0px"),E.setAttribute("depth","0px"),E}}),Fe({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:(m,h)=>{let{parser:v}=m;const S=h[0];return{type:"vphantom",mode:v.mode,body:S}},htmlBuilder:(m,h)=>{const v=de.makeSpan(["inner"],[xt(m.body,h.withPhantom())]),S=de.makeSpan(["fix"],[]);return de.makeSpan(["mord","rlap"],[v,S],h)},mathmlBuilder:(m,h)=>{const v=En(_r(m.body),h),S=new De.MathNode("mphantom",v),E=new De.MathNode("mpadded",[S]);return E.setAttribute("width","0px"),E}}),Fe({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(m,h){let{parser:v}=m;const S=lt(h[0],"size").value,E=h[1];return{type:"raisebox",mode:v.mode,dy:S,body:E}},htmlBuilder(m,h){const v=xt(m.body,h),S=Pe(m.dy,h);return de.makeVList({positionType:"shift",positionData:-S,children:[{type:"elem",elem:v}]},h)},mathmlBuilder(m,h){const v=new De.MathNode("mpadded",[jt(m.body,h)]),S=m.dy.number+m.dy.unit;return v.setAttribute("voffset",S),v}}),Fe({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0},handler(m){let{parser:h}=m;return{type:"internal",mode:h.mode}}}),Fe({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,argTypes:["size","size","size"]},handler(m,h,v){let{parser:S}=m;const E=v[0],I=lt(h[0],"size"),O=lt(h[1],"size");return{type:"rule",mode:S.mode,shift:E&&lt(E,"size").value,width:I.value,height:O.value}},htmlBuilder(m,h){const v=de.makeSpan(["mord","rule"],[],h),S=Pe(m.width,h),E=Pe(m.height,h),I=m.shift?Pe(m.shift,h):0;return v.style.borderRightWidth=be(S),v.style.borderTopWidth=be(E),v.style.bottom=be(I),v.width=S,v.height=E+I,v.depth=-I,v.maxFontSize=E*1.125*h.sizeMultiplier,v},mathmlBuilder(m,h){const v=Pe(m.width,h),S=Pe(m.height,h),E=m.shift?Pe(m.shift,h):0,I=h.color&&h.getColor()||"black",O=new De.MathNode("mspace");O.setAttribute("mathbackground",I),O.setAttribute("width",be(v)),O.setAttribute("height",be(S));const j=new De.MathNode("mpadded",[O]);return E>=0?j.setAttribute("height",be(E)):(j.setAttribute("height",be(E)),j.setAttribute("depth",be(-E))),j.setAttribute("voffset",be(E)),j}});function J4(m,h,v){const S=Mr(m,h,!1),E=h.sizeMultiplier/v.sizeMultiplier;for(let I=0;I<S.length;I++){const O=S[I].classes.indexOf("sizing");O<0?Array.prototype.push.apply(S[I].classes,h.sizingClasses(v)):S[I].classes[O+1]==="reset-size"+h.size&&(S[I].classes[O+1]="reset-size"+v.size),S[I].height*=E,S[I].depth*=E}return de.makeFragment(S)}const e5=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"];Fe({type:"sizing",names:e5,props:{numArgs:0,allowedInText:!0},handler:(m,h)=>{let{breakOnTokenText:v,funcName:S,parser:E}=m;const I=E.parseExpression(!1,v);return{type:"sizing",mode:E.mode,size:e5.indexOf(S)+1,body:I}},htmlBuilder:(m,h)=>{const v=h.havingSize(m.size);return J4(m.body,v,h)},mathmlBuilder:(m,h)=>{const v=h.havingSize(m.size),S=En(m.body,v),E=new De.MathNode("mstyle",S);return E.setAttribute("mathsize",be(v.sizeMultiplier)),E}}),Fe({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:(m,h,v)=>{let{parser:S}=m,E=!1,I=!1;const O=v[0]&&lt(v[0],"ordgroup");if(O){let Y="";for(let ne=0;ne<O.body.length;++ne)if(Y=O.body[ne].text,Y==="t")E=!0;else if(Y==="b")I=!0;else{E=!1,I=!1;break}}else E=!0,I=!0;const j=h[0];return{type:"smash",mode:S.mode,body:j,smashHeight:E,smashDepth:I}},htmlBuilder:(m,h)=>{const v=de.makeSpan([],[xt(m.body,h)]);if(!m.smashHeight&&!m.smashDepth)return v;if(m.smashHeight&&(v.height=0,v.children))for(let E=0;E<v.children.length;E++)v.children[E].height=0;if(m.smashDepth&&(v.depth=0,v.children))for(let E=0;E<v.children.length;E++)v.children[E].depth=0;const S=de.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:v}]},h);return de.makeSpan(["mord"],[S],h)},mathmlBuilder:(m,h)=>{const v=new De.MathNode("mpadded",[jt(m.body,h)]);return m.smashHeight&&v.setAttribute("height","0px"),m.smashDepth&&v.setAttribute("depth","0px"),v}}),Fe({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(m,h,v){let{parser:S}=m;const E=v[0],I=h[0];return{type:"sqrt",mode:S.mode,body:I,index:E}},htmlBuilder(m,h){let v=xt(m.body,h.havingCrampedStyle());v.height===0&&(v.height=h.fontMetrics().xHeight),v=de.wrapFragment(v,h);const E=h.fontMetrics().defaultRuleThickness;let I=E;h.style.id<G.TEXT.id&&(I=h.fontMetrics().xHeight);let O=E+I/4;const j=v.height+v.depth+O+E,{span:Y,ruleWidth:ne,advanceWidth:ae}=Ki.sqrtImage(j,h),ce=Y.height-ne;ce>v.height+v.depth+O&&(O=(O+ce-v.height-v.depth)/2);const me=Y.height-v.height-O-ne;v.style.paddingLeft=be(ae);const Ce=de.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:v,wrapperClasses:["svg-align"]},{type:"kern",size:-(v.height+me)},{type:"elem",elem:Y},{type:"kern",size:ne}]},h);if(m.index){const je=h.havingStyle(G.SCRIPTSCRIPT),Ge=xt(m.index,je,h),mt=.6*(Ce.height-Ce.depth),ht=de.makeVList({positionType:"shift",positionData:-mt,children:[{type:"elem",elem:Ge}]},h),vt=de.makeSpan(["root"],[ht]);return de.makeSpan(["mord","sqrt"],[vt,Ce],h)}else return de.makeSpan(["mord","sqrt"],[Ce],h)},mathmlBuilder(m,h){const{body:v,index:S}=m;return S?new De.MathNode("mroot",[jt(v,h),jt(S,h)]):new De.MathNode("msqrt",[jt(v,h)])}});const t5={display:G.DISPLAY,text:G.TEXT,script:G.SCRIPT,scriptscript:G.SCRIPTSCRIPT};Fe({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(m,h){let{breakOnTokenText:v,funcName:S,parser:E}=m;const I=E.parseExpression(!0,v),O=S.slice(1,S.length-5);return{type:"styling",mode:E.mode,style:O,body:I}},htmlBuilder(m,h){const v=t5[m.style],S=h.havingStyle(v).withFont("");return J4(m.body,S,h)},mathmlBuilder(m,h){const v=t5[m.style],S=h.havingStyle(v),E=En(m.body,S),I=new De.MathNode("mstyle",E),j={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]}[m.style];return I.setAttribute("scriptlevel",j[0]),I.setAttribute("displaystyle",j[1]),I}});const WE=function(m,h){const v=m.base;return v?v.type==="op"?v.limits&&(h.style.size===G.DISPLAY.size||v.alwaysHandleSupSub)?Co:null:v.type==="operatorname"?v.alwaysHandleSupSub&&(h.style.size===G.DISPLAY.size||v.limits)?Q4:null:v.type==="accent"?x.isCharacterBox(v.base)?Tp:null:v.type==="horizBrace"&&!m.sub===v.isOver?Y4:null:null};Ds({type:"supsub",htmlBuilder(m,h){const v=WE(m,h);if(v)return v(m,h);const{base:S,sup:E,sub:I}=m,O=xt(S,h);let j,Y;const ne=h.fontMetrics();let ae=0,ce=0;const me=S&&x.isCharacterBox(S);if(E){const Mt=h.havingStyle(h.style.sup());j=xt(E,Mt,h),me||(ae=O.height-Mt.fontMetrics().supDrop*Mt.sizeMultiplier/h.sizeMultiplier)}if(I){const Mt=h.havingStyle(h.style.sub());Y=xt(I,Mt,h),me||(ce=O.depth+Mt.fontMetrics().subDrop*Mt.sizeMultiplier/h.sizeMultiplier)}let Ce;h.style===G.DISPLAY?Ce=ne.sup1:h.style.cramped?Ce=ne.sup3:Ce=ne.sup2;const je=h.sizeMultiplier,Ge=be(.5/ne.ptPerEm/je);let mt=null;if(Y){const Mt=m.base&&m.base.type==="op"&&m.base.name&&(m.base.name==="\\oiint"||m.base.name==="\\oiiint");(O instanceof Vt||Mt)&&(mt=be(-O.italic))}let ht;if(j&&Y){ae=Math.max(ae,Ce,j.depth+.25*ne.xHeight),ce=Math.max(ce,ne.sub2);const Ut=4*ne.defaultRuleThickness;if(ae-j.depth-(Y.height-ce)<Ut){ce=Ut-(ae-j.depth)+Y.height;const Pr=.8*ne.xHeight-(ae-j.depth);Pr>0&&(ae+=Pr,ce-=Pr)}const mn=[{type:"elem",elem:Y,shift:ce,marginRight:Ge,marginLeft:mt},{type:"elem",elem:j,shift:-ae,marginRight:Ge}];ht=de.makeVList({positionType:"individualShift",children:mn},h)}else if(Y){ce=Math.max(ce,ne.sub1,Y.height-.8*ne.xHeight);const Mt=[{type:"elem",elem:Y,marginLeft:mt,marginRight:Ge}];ht=de.makeVList({positionType:"shift",positionData:ce,children:Mt},h)}else if(j)ae=Math.max(ae,Ce,j.depth+.25*ne.xHeight),ht=de.makeVList({positionType:"shift",positionData:-ae,children:[{type:"elem",elem:j,marginRight:Ge}]},h);else throw new Error("supsub must have either sup or sub.");const vt=bp(O,"right")||"mord";return de.makeSpan([vt],[O,de.makeSpan(["msupsub"],[ht])],h)},mathmlBuilder(m,h){let v=!1,S,E;m.base&&m.base.type==="horizBrace"&&(E=!!m.sup,E===m.base.isOver&&(v=!0,S=m.base.isOver)),m.base&&(m.base.type==="op"||m.base.type==="operatorname")&&(m.base.parentIsSupSub=!0);const I=[jt(m.base,h)];m.sub&&I.push(jt(m.sub,h)),m.sup&&I.push(jt(m.sup,h));let O;if(v)O=S?"mover":"munder";else if(m.sub)if(m.sup){const j=m.base;j&&j.type==="op"&&j.limits&&h.style===G.DISPLAY||j&&j.type==="operatorname"&&j.alwaysHandleSupSub&&(h.style===G.DISPLAY||j.limits)?O="munderover":O="msubsup"}else{const j=m.base;j&&j.type==="op"&&j.limits&&(h.style===G.DISPLAY||j.alwaysHandleSupSub)||j&&j.type==="operatorname"&&j.alwaysHandleSupSub&&(j.limits||h.style===G.DISPLAY)?O="munder":O="msub"}else{const j=m.base;j&&j.type==="op"&&j.limits&&(h.style===G.DISPLAY||j.alwaysHandleSupSub)||j&&j.type==="operatorname"&&j.alwaysHandleSupSub&&(j.limits||h.style===G.DISPLAY)?O="mover":O="msup"}return new De.MathNode(O,I)}}),Ds({type:"atom",htmlBuilder(m,h){return de.mathsym(m.text,m.mode,h,["m"+m.family])},mathmlBuilder(m,h){const v=new De.MathNode("mo",[Kn(m.text,m.mode)]);if(m.family==="bin"){const S=Sp(m,h);S==="bold-italic"&&v.setAttribute("mathvariant",S)}else m.family==="punct"?v.setAttribute("separator","true"):(m.family==="open"||m.family==="close")&&v.setAttribute("stretchy","false");return v}});const r5={mi:"italic",mn:"normal",mtext:"normal"};Ds({type:"mathord",htmlBuilder(m,h){return de.makeOrd(m,h,"mathord")},mathmlBuilder(m,h){const v=new De.MathNode("mi",[Kn(m.text,m.mode,h)]),S=Sp(m,h)||"italic";return S!==r5[v.type]&&v.setAttribute("mathvariant",S),v}}),Ds({type:"textord",htmlBuilder(m,h){return de.makeOrd(m,h,"textord")},mathmlBuilder(m,h){const v=Kn(m.text,m.mode,h),S=Sp(m,h)||"normal";let E;return m.mode==="text"?E=new De.MathNode("mtext",[v]):/[0-9]/.test(m.text)?E=new De.MathNode("mn",[v]):m.text==="\\prime"?E=new De.MathNode("mo",[v]):E=new De.MathNode("mi",[v]),S!==r5[E.type]&&E.setAttribute("mathvariant",S),E}});const jp={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},qp={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};Ds({type:"spacing",htmlBuilder(m,h){if(qp.hasOwnProperty(m.text)){const v=qp[m.text].className||"";if(m.mode==="text"){const S=de.makeOrd(m,h,"textord");return S.classes.push(v),S}else return de.makeSpan(["mspace",v],[de.mathsym(m.text,m.mode,h)],h)}else{if(jp.hasOwnProperty(m.text))return de.makeSpan(["mspace",jp[m.text]],[],h);throw new a('Unknown type of space "'+m.text+'"')}},mathmlBuilder(m,h){let v;if(qp.hasOwnProperty(m.text))v=new De.MathNode("mtext",[new De.TextNode("")]);else{if(jp.hasOwnProperty(m.text))return new De.MathNode("mspace");throw new a('Unknown type of space "'+m.text+'"')}return v}});const n5=()=>{const m=new De.MathNode("mtd",[]);return m.setAttribute("width","50%"),m};Ds({type:"tag",mathmlBuilder(m,h){const v=new De.MathNode("mtable",[new De.MathNode("mtr",[n5(),new De.MathNode("mtd",[Ma(m.body,h)]),n5(),new De.MathNode("mtd",[Ma(m.tag,h)])])]);return v.setAttribute("width","100%"),v}});const i5={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},a5={"\\textbf":"textbf","\\textmd":"textmd"},GE={"\\textit":"textit","\\textup":"textup"},s5=(m,h)=>{const v=m.font;return v?i5[v]?h.withTextFontFamily(i5[v]):a5[v]?h.withTextFontWeight(a5[v]):h.withTextFontShape(GE[v]):h};Fe({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(m,h){let{parser:v,funcName:S}=m;const E=h[0];return{type:"text",mode:v.mode,body:_r(E),font:S}},htmlBuilder(m,h){const v=s5(m,h),S=Mr(m.body,v,!0);return de.makeSpan(["mord","text"],S,v)},mathmlBuilder(m,h){const v=s5(m,h);return Ma(m.body,v)}}),Fe({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(m,h){let{parser:v}=m;return{type:"underline",mode:v.mode,body:h[0]}},htmlBuilder(m,h){const v=xt(m.body,h),S=de.makeLineSpan("underline-line",h),E=h.fontMetrics().defaultRuleThickness,I=de.makeVList({positionType:"top",positionData:v.height,children:[{type:"kern",size:E},{type:"elem",elem:S},{type:"kern",size:3*E},{type:"elem",elem:v}]},h);return de.makeSpan(["mord","underline"],[I],h)},mathmlBuilder(m,h){const v=new De.MathNode("mo",[new De.TextNode("")]);v.setAttribute("stretchy","true");const S=new De.MathNode("munder",[jt(m.body,h),v]);return S.setAttribute("accentunder","true"),S}}),Fe({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(m,h){let{parser:v}=m;return{type:"vcenter",mode:v.mode,body:h[0]}},htmlBuilder(m,h){const v=xt(m.body,h),S=h.fontMetrics().axisHeight,E=.5*(v.height-S-(v.depth+S));return de.makeVList({positionType:"shift",positionData:E,children:[{type:"elem",elem:v}]},h)},mathmlBuilder(m,h){return new De.MathNode("mpadded",[jt(m.body,h)],["vcenter"])}}),Fe({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(m,h,v){throw new a("\\verb ended by end of line instead of matching delimiter")},htmlBuilder(m,h){const v=o5(m),S=[],E=h.havingStyle(h.style.text());for(let I=0;I<v.length;I++){let O=v[I];O==="~"&&(O="\\textasciitilde"),S.push(de.makeSymbol(O,"Typewriter-Regular",m.mode,E,["mord","texttt"]))}return de.makeSpan(["mord","text"].concat(E.sizingClasses(h)),de.tryCombineChars(S),E)},mathmlBuilder(m,h){const v=new De.TextNode(o5(m)),S=new De.MathNode("mtext",[v]);return S.setAttribute("mathvariant","monospace"),S}});const o5=m=>m.body.replace(/ /g,m.star?"":"");var Da=d4;const l5=`[ \r
	]`,YE="\\\\[a-zA-Z@]+",XE="\\\\[^\uD800-\uDFFF]",KE="("+YE+")"+l5+"*",ZE=`\\\\(
|[ \r	]+
?)[ \r	]*`,Hp="[-]",QE=new RegExp(Hp+"+$"),JE="("+l5+"+)|"+(ZE+"|")+"([!-\\[\\]---]"+(Hp+"*")+"|[\uD800-\uDBFF][\uDC00-\uDFFF]"+(Hp+"*")+"|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5"+("|"+KE)+("|"+XE+")");class u5{constructor(h,v){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=h,this.settings=v,this.tokenRegex=new RegExp(JE,"g"),this.catcodes={"%":14,"~":13}}setCatcode(h,v){this.catcodes[h]=v}lex(){const h=this.input,v=this.tokenRegex.lastIndex;if(v===h.length)return new Zn("EOF",new Nn(this,v,v));const S=this.tokenRegex.exec(h);if(S===null||S.index!==v)throw new a("Unexpected character: '"+h[v]+"'",new Zn(h[v],new Nn(this,v,v+1)));const E=S[6]||S[3]||(S[2]?"\\ ":" ");if(this.catcodes[E]===14){const I=h.indexOf(`
`,this.tokenRegex.lastIndex);return I===-1?(this.tokenRegex.lastIndex=h.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=I+1,this.lex()}return new Zn(E,new Nn(this,v,this.tokenRegex.lastIndex))}}class eC{constructor(h,v){h===void 0&&(h={}),v===void 0&&(v={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=v,this.builtins=h,this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(this.undefStack.length===0)throw new a("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");const h=this.undefStack.pop();for(const v in h)h.hasOwnProperty(v)&&(h[v]==null?delete this.current[v]:this.current[v]=h[v])}endGroups(){for(;this.undefStack.length>0;)this.endGroup()}has(h){return this.current.hasOwnProperty(h)||this.builtins.hasOwnProperty(h)}get(h){return this.current.hasOwnProperty(h)?this.current[h]:this.builtins[h]}set(h,v,S){if(S===void 0&&(S=!1),S){for(let E=0;E<this.undefStack.length;E++)delete this.undefStack[E][h];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][h]=v)}else{const E=this.undefStack[this.undefStack.length-1];E&&!E.hasOwnProperty(h)&&(E[h]=this.current[h])}v==null?delete this.current[h]:this.current[h]=v}}var tC=B4;q("\\noexpand",function(m){const h=m.popToken();return m.isExpandable(h.text)&&(h.noexpand=!0,h.treatAsRelax=!0),{tokens:[h],numArgs:0}}),q("\\expandafter",function(m){const h=m.popToken();return m.expandOnce(!0),{tokens:[h],numArgs:0}}),q("\\@firstoftwo",function(m){return{tokens:m.consumeArgs(2)[0],numArgs:0}}),q("\\@secondoftwo",function(m){return{tokens:m.consumeArgs(2)[1],numArgs:0}}),q("\\@ifnextchar",function(m){const h=m.consumeArgs(3);m.consumeSpaces();const v=m.future();return h[0].length===1&&h[0][0].text===v.text?{tokens:h[1],numArgs:0}:{tokens:h[2],numArgs:0}}),q("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}"),q("\\TextOrMath",function(m){const h=m.consumeArgs(2);return m.mode==="text"?{tokens:h[0],numArgs:0}:{tokens:h[1],numArgs:0}});const c5={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};q("\\char",function(m){let h=m.popToken(),v,S="";if(h.text==="'")v=8,h=m.popToken();else if(h.text==='"')v=16,h=m.popToken();else if(h.text==="`")if(h=m.popToken(),h.text[0]==="\\")S=h.text.charCodeAt(1);else{if(h.text==="EOF")throw new a("\\char` missing argument");S=h.text.charCodeAt(0)}else v=10;if(v){if(S=c5[h.text],S==null||S>=v)throw new a("Invalid base-"+v+" digit "+h.text);let E;for(;(E=c5[m.future().text])!=null&&E<v;)S*=v,S+=E,m.popToken()}return"\\@char{"+S+"}"});const Vp=(m,h,v)=>{let S=m.consumeArg().tokens;if(S.length!==1)throw new a("\\newcommand's first argument must be a macro name");const E=S[0].text,I=m.isDefined(E);if(I&&!h)throw new a("\\newcommand{"+E+"} attempting to redefine "+(E+"; use \\renewcommand"));if(!I&&!v)throw new a("\\renewcommand{"+E+"} when command "+E+" does not yet exist; use \\newcommand");let O=0;if(S=m.consumeArg().tokens,S.length===1&&S[0].text==="["){let j="",Y=m.expandNextToken();for(;Y.text!=="]"&&Y.text!=="EOF";)j+=Y.text,Y=m.expandNextToken();if(!j.match(/^\s*[0-9]+\s*$/))throw new a("Invalid number of arguments: "+j);O=parseInt(j),S=m.consumeArg().tokens}return m.macros.set(E,{tokens:S,numArgs:O}),""};q("\\newcommand",m=>Vp(m,!1,!0)),q("\\renewcommand",m=>Vp(m,!0,!1)),q("\\providecommand",m=>Vp(m,!0,!0)),q("\\message",m=>{const h=m.consumeArgs(1)[0];return console.log(h.reverse().map(v=>v.text).join("")),""}),q("\\errmessage",m=>{const h=m.consumeArgs(1)[0];return console.error(h.reverse().map(v=>v.text).join("")),""}),q("\\show",m=>{const h=m.popToken(),v=h.text;return console.log(h,m.macros.get(v),Da[v],yt.math[v],yt.text[v]),""}),q("\\bgroup","{"),q("\\egroup","}"),q("~","\\nobreakspace"),q("\\lq","`"),q("\\rq","'"),q("\\aa","\\r a"),q("\\AA","\\r A"),q("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`}"),q("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}"),q("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`}"),q("","\\mathscr{B}"),q("","\\mathscr{E}"),q("","\\mathscr{F}"),q("","\\mathscr{H}"),q("","\\mathscr{I}"),q("","\\mathscr{L}"),q("","\\mathscr{M}"),q("","\\mathscr{R}"),q("","\\mathfrak{C}"),q("","\\mathfrak{H}"),q("","\\mathfrak{Z}"),q("\\Bbbk","\\Bbb{k}"),q("","\\cdotp"),q("\\llap","\\mathllap{\\textrm{#1}}"),q("\\rlap","\\mathrlap{\\textrm{#1}}"),q("\\clap","\\mathclap{\\textrm{#1}}"),q("\\mathstrut","\\vphantom{(}"),q("\\underbar","\\underline{\\text{#1}}"),q("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}'),q("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`}}"),q("\\ne","\\neq"),q("","\\neq"),q("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`}}"),q("","\\notin"),q("","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`}}"),q("","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`}}"),q("","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`}}"),q("","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`}}"),q("","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`}}"),q("","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`}}"),q("","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`}}"),q("","\\perp"),q("","\\mathclose{!\\mkern-0.8mu!}"),q("","\\notni"),q("","\\ulcorner"),q("","\\urcorner"),q("","\\llcorner"),q("","\\lrcorner"),q("","\\copyright"),q("","\\textregistered"),q("","\\textregistered"),q("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}'),q("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}'),q("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}'),q("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}'),q("\\vdots","\\mathord{\\varvdots\\rule{0pt}{15pt}}"),q("","\\vdots"),q("\\varGamma","\\mathit{\\Gamma}"),q("\\varDelta","\\mathit{\\Delta}"),q("\\varTheta","\\mathit{\\Theta}"),q("\\varLambda","\\mathit{\\Lambda}"),q("\\varXi","\\mathit{\\Xi}"),q("\\varPi","\\mathit{\\Pi}"),q("\\varSigma","\\mathit{\\Sigma}"),q("\\varUpsilon","\\mathit{\\Upsilon}"),q("\\varPhi","\\mathit{\\Phi}"),q("\\varPsi","\\mathit{\\Psi}"),q("\\varOmega","\\mathit{\\Omega}"),q("\\substack","\\begin{subarray}{c}#1\\end{subarray}"),q("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax"),q("\\boxed","\\fbox{$\\displaystyle{#1}$}"),q("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;"),q("\\implies","\\DOTSB\\;\\Longrightarrow\\;"),q("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;");const f5={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};q("\\dots",function(m){let h="\\dotso";const v=m.expandAfterFuture().text;return v in f5?h=f5[v]:(v.slice(0,4)==="\\not"||v in yt.math&&x.contains(["bin","rel"],yt.math[v].group))&&(h="\\dotsb"),h});const Up={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};q("\\dotso",function(m){return m.future().text in Up?"\\ldots\\,":"\\ldots"}),q("\\dotsc",function(m){const h=m.future().text;return h in Up&&h!==","?"\\ldots\\,":"\\ldots"}),q("\\cdots",function(m){return m.future().text in Up?"\\@cdots\\,":"\\@cdots"}),q("\\dotsb","\\cdots"),q("\\dotsm","\\cdots"),q("\\dotsi","\\!\\cdots"),q("\\dotsx","\\ldots\\,"),q("\\DOTSI","\\relax"),q("\\DOTSB","\\relax"),q("\\DOTSX","\\relax"),q("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax"),q("\\,","\\tmspace+{3mu}{.1667em}"),q("\\thinspace","\\,"),q("\\>","\\mskip{4mu}"),q("\\:","\\tmspace+{4mu}{.2222em}"),q("\\medspace","\\:"),q("\\;","\\tmspace+{5mu}{.2777em}"),q("\\thickspace","\\;"),q("\\!","\\tmspace-{3mu}{.1667em}"),q("\\negthinspace","\\!"),q("\\negmedspace","\\tmspace-{4mu}{.2222em}"),q("\\negthickspace","\\tmspace-{5mu}{.277em}"),q("\\enspace","\\kern.5em "),q("\\enskip","\\hskip.5em\\relax"),q("\\quad","\\hskip1em\\relax"),q("\\qquad","\\hskip2em\\relax"),q("\\tag","\\@ifstar\\tag@literal\\tag@paren"),q("\\tag@paren","\\tag@literal{({#1})}"),q("\\tag@literal",m=>{if(m.macros.get("\\df@tag"))throw new a("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"}),q("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}"),q("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)"),q("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}"),q("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1"),q("\\newline","\\\\\\relax"),q("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");const d5=be(ze["Main-Regular"]["T".charCodeAt(0)][1]-.7*ze["Main-Regular"]["A".charCodeAt(0)][1]);q("\\LaTeX","\\textrm{\\html@mathml{"+("L\\kern-.36em\\raisebox{"+d5+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{LaTeX}}"),q("\\KaTeX","\\textrm{\\html@mathml{"+("K\\kern-.17em\\raisebox{"+d5+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{KaTeX}}"),q("\\hspace","\\@ifstar\\@hspacer\\@hspace"),q("\\@hspace","\\hskip #1\\relax"),q("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax"),q("\\ordinarycolon",":"),q("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}"),q("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}'),q("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}'),q("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}'),q("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}'),q("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}'),q("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}'),q("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}'),q("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}'),q("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}'),q("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}'),q("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}'),q("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}'),q("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}'),q("","\\dblcolon"),q("","\\eqcolon"),q("","\\coloneqq"),q("","\\eqqcolon"),q("","\\Coloneqq"),q("\\ratio","\\vcentcolon"),q("\\coloncolon","\\dblcolon"),q("\\colonequals","\\coloneqq"),q("\\coloncolonequals","\\Coloneqq"),q("\\equalscolon","\\eqqcolon"),q("\\equalscoloncolon","\\Eqqcolon"),q("\\colonminus","\\coloneq"),q("\\coloncolonminus","\\Coloneq"),q("\\minuscolon","\\eqcolon"),q("\\minuscoloncolon","\\Eqcolon"),q("\\coloncolonapprox","\\Colonapprox"),q("\\coloncolonsim","\\Colonsim"),q("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}"),q("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}"),q("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}"),q("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}"),q("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`}}"),q("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}"),q("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}"),q("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}"),q("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}"),q("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}"),q("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}"),q("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}"),q("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}"),q("\\gvertneqq","\\html@mathml{\\@gvertneqq}{}"),q("\\lvertneqq","\\html@mathml{\\@lvertneqq}{}"),q("\\ngeqq","\\html@mathml{\\@ngeqq}{}"),q("\\ngeqslant","\\html@mathml{\\@ngeqslant}{}"),q("\\nleqq","\\html@mathml{\\@nleqq}{}"),q("\\nleqslant","\\html@mathml{\\@nleqslant}{}"),q("\\nshortmid","\\html@mathml{\\@nshortmid}{}"),q("\\nshortparallel","\\html@mathml{\\@nshortparallel}{}"),q("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{}"),q("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{}"),q("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{}"),q("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{}"),q("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{}"),q("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{}"),q("\\imath","\\html@mathml{\\@imath}{}"),q("\\jmath","\\html@mathml{\\@jmath}{}"),q("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`}}"),q("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`}}"),q("","\\llbracket"),q("","\\rrbracket"),q("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`}}"),q("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`}}"),q("","\\lBrace"),q("","\\rBrace"),q("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`}}"),q("","\\minuso"),q("\\darr","\\downarrow"),q("\\dArr","\\Downarrow"),q("\\Darr","\\Downarrow"),q("\\lang","\\langle"),q("\\rang","\\rangle"),q("\\uarr","\\uparrow"),q("\\uArr","\\Uparrow"),q("\\Uarr","\\Uparrow"),q("\\N","\\mathbb{N}"),q("\\R","\\mathbb{R}"),q("\\Z","\\mathbb{Z}"),q("\\alef","\\aleph"),q("\\alefsym","\\aleph"),q("\\Alpha","\\mathrm{A}"),q("\\Beta","\\mathrm{B}"),q("\\bull","\\bullet"),q("\\Chi","\\mathrm{X}"),q("\\clubs","\\clubsuit"),q("\\cnums","\\mathbb{C}"),q("\\Complex","\\mathbb{C}"),q("\\Dagger","\\ddagger"),q("\\diamonds","\\diamondsuit"),q("\\empty","\\emptyset"),q("\\Epsilon","\\mathrm{E}"),q("\\Eta","\\mathrm{H}"),q("\\exist","\\exists"),q("\\harr","\\leftrightarrow"),q("\\hArr","\\Leftrightarrow"),q("\\Harr","\\Leftrightarrow"),q("\\hearts","\\heartsuit"),q("\\image","\\Im"),q("\\infin","\\infty"),q("\\Iota","\\mathrm{I}"),q("\\isin","\\in"),q("\\Kappa","\\mathrm{K}"),q("\\larr","\\leftarrow"),q("\\lArr","\\Leftarrow"),q("\\Larr","\\Leftarrow"),q("\\lrarr","\\leftrightarrow"),q("\\lrArr","\\Leftrightarrow"),q("\\Lrarr","\\Leftrightarrow"),q("\\Mu","\\mathrm{M}"),q("\\natnums","\\mathbb{N}"),q("\\Nu","\\mathrm{N}"),q("\\Omicron","\\mathrm{O}"),q("\\plusmn","\\pm"),q("\\rarr","\\rightarrow"),q("\\rArr","\\Rightarrow"),q("\\Rarr","\\Rightarrow"),q("\\real","\\Re"),q("\\reals","\\mathbb{R}"),q("\\Reals","\\mathbb{R}"),q("\\Rho","\\mathrm{P}"),q("\\sdot","\\cdot"),q("\\sect","\\S"),q("\\spades","\\spadesuit"),q("\\sub","\\subset"),q("\\sube","\\subseteq"),q("\\supe","\\supseteq"),q("\\Tau","\\mathrm{T}"),q("\\thetasym","\\vartheta"),q("\\weierp","\\wp"),q("\\Zeta","\\mathrm{Z}"),q("\\argmin","\\DOTSB\\operatorname*{arg\\,min}"),q("\\argmax","\\DOTSB\\operatorname*{arg\\,max}"),q("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits"),q("\\bra","\\mathinner{\\langle{#1}|}"),q("\\ket","\\mathinner{|{#1}\\rangle}"),q("\\braket","\\mathinner{\\langle{#1}\\rangle}"),q("\\Bra","\\left\\langle#1\\right|"),q("\\Ket","\\left|#1\\right\\rangle");const h5=m=>h=>{const v=h.consumeArg().tokens,S=h.consumeArg().tokens,E=h.consumeArg().tokens,I=h.consumeArg().tokens,O=h.macros.get("|"),j=h.macros.get("\\|");h.macros.beginGroup();const Y=ce=>me=>{m&&(me.macros.set("|",O),E.length&&me.macros.set("\\|",j));let Ce=ce;return!ce&&E.length&&me.future().text==="|"&&(me.popToken(),Ce=!0),{tokens:Ce?E:S,numArgs:0}};h.macros.set("|",Y(!1)),E.length&&h.macros.set("\\|",Y(!0));const ne=h.consumeArg().tokens,ae=h.expandTokens([...I,...ne,...v]);return h.macros.endGroup(),{tokens:ae.reverse(),numArgs:0}};q("\\bra@ket",h5(!1)),q("\\bra@set",h5(!0)),q("\\Braket","\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}"),q("\\Set","\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}"),q("\\set","\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}"),q("\\angln","{\\angl n}"),q("\\blue","\\textcolor{##6495ed}{#1}"),q("\\orange","\\textcolor{##ffa500}{#1}"),q("\\pink","\\textcolor{##ff00af}{#1}"),q("\\red","\\textcolor{##df0030}{#1}"),q("\\green","\\textcolor{##28ae7b}{#1}"),q("\\gray","\\textcolor{gray}{#1}"),q("\\purple","\\textcolor{##9d38bd}{#1}"),q("\\blueA","\\textcolor{##ccfaff}{#1}"),q("\\blueB","\\textcolor{##80f6ff}{#1}"),q("\\blueC","\\textcolor{##63d9ea}{#1}"),q("\\blueD","\\textcolor{##11accd}{#1}"),q("\\blueE","\\textcolor{##0c7f99}{#1}"),q("\\tealA","\\textcolor{##94fff5}{#1}"),q("\\tealB","\\textcolor{##26edd5}{#1}"),q("\\tealC","\\textcolor{##01d1c1}{#1}"),q("\\tealD","\\textcolor{##01a995}{#1}"),q("\\tealE","\\textcolor{##208170}{#1}"),q("\\greenA","\\textcolor{##b6ffb0}{#1}"),q("\\greenB","\\textcolor{##8af281}{#1}"),q("\\greenC","\\textcolor{##74cf70}{#1}"),q("\\greenD","\\textcolor{##1fab54}{#1}"),q("\\greenE","\\textcolor{##0d923f}{#1}"),q("\\goldA","\\textcolor{##ffd0a9}{#1}"),q("\\goldB","\\textcolor{##ffbb71}{#1}"),q("\\goldC","\\textcolor{##ff9c39}{#1}"),q("\\goldD","\\textcolor{##e07d10}{#1}"),q("\\goldE","\\textcolor{##a75a05}{#1}"),q("\\redA","\\textcolor{##fca9a9}{#1}"),q("\\redB","\\textcolor{##ff8482}{#1}"),q("\\redC","\\textcolor{##f9685d}{#1}"),q("\\redD","\\textcolor{##e84d39}{#1}"),q("\\redE","\\textcolor{##bc2612}{#1}"),q("\\maroonA","\\textcolor{##ffbde0}{#1}"),q("\\maroonB","\\textcolor{##ff92c6}{#1}"),q("\\maroonC","\\textcolor{##ed5fa6}{#1}"),q("\\maroonD","\\textcolor{##ca337c}{#1}"),q("\\maroonE","\\textcolor{##9e034e}{#1}"),q("\\purpleA","\\textcolor{##ddd7ff}{#1}"),q("\\purpleB","\\textcolor{##c6b9fc}{#1}"),q("\\purpleC","\\textcolor{##aa87ff}{#1}"),q("\\purpleD","\\textcolor{##7854ab}{#1}"),q("\\purpleE","\\textcolor{##543b78}{#1}"),q("\\mintA","\\textcolor{##f5f9e8}{#1}"),q("\\mintB","\\textcolor{##edf2df}{#1}"),q("\\mintC","\\textcolor{##e0e5cc}{#1}"),q("\\grayA","\\textcolor{##f6f7f7}{#1}"),q("\\grayB","\\textcolor{##f0f1f2}{#1}"),q("\\grayC","\\textcolor{##e3e5e6}{#1}"),q("\\grayD","\\textcolor{##d6d8da}{#1}"),q("\\grayE","\\textcolor{##babec2}{#1}"),q("\\grayF","\\textcolor{##888d93}{#1}"),q("\\grayG","\\textcolor{##626569}{#1}"),q("\\grayH","\\textcolor{##3b3e40}{#1}"),q("\\grayI","\\textcolor{##21242c}{#1}"),q("\\kaBlue","\\textcolor{##314453}{#1}"),q("\\kaGreen","\\textcolor{##71B307}{#1}");const p5={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0};class rC{constructor(h,v,S){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=v,this.expansionCount=0,this.feed(h),this.macros=new eC(tC,v.macros),this.mode=S,this.stack=[]}feed(h){this.lexer=new u5(h,this.settings)}switchMode(h){this.mode=h}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){return this.stack.length===0&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]}popToken(){return this.future(),this.stack.pop()}pushToken(h){this.stack.push(h)}pushTokens(h){this.stack.push(...h)}scanArgument(h){let v,S,E;if(h){if(this.consumeSpaces(),this.future().text!=="[")return null;v=this.popToken(),{tokens:E,end:S}=this.consumeArg(["]"])}else({tokens:E,start:v,end:S}=this.consumeArg());return this.pushToken(new Zn("EOF",S.loc)),this.pushTokens(E),v.range(S,"")}consumeSpaces(){for(;this.future().text===" ";)this.stack.pop()}consumeArg(h){const v=[],S=h&&h.length>0;S||this.consumeSpaces();const E=this.future();let I,O=0,j=0;do{if(I=this.popToken(),v.push(I),I.text==="{")++O;else if(I.text==="}"){if(--O,O===-1)throw new a("Extra }",I)}else if(I.text==="EOF")throw new a("Unexpected end of input in a macro argument, expected '"+(h&&S?h[j]:"}")+"'",I);if(h&&S)if((O===0||O===1&&h[j]==="{")&&I.text===h[j]){if(++j,j===h.length){v.splice(-j,j);break}}else j=0}while(O!==0||S);return E.text==="{"&&v[v.length-1].text==="}"&&(v.pop(),v.shift()),v.reverse(),{tokens:v,start:E,end:I}}consumeArgs(h,v){if(v){if(v.length!==h+1)throw new a("The length of delimiters doesn't match the number of args!");const E=v[0];for(let I=0;I<E.length;I++){const O=this.popToken();if(E[I]!==O.text)throw new a("Use of the macro doesn't match its definition",O)}}const S=[];for(let E=0;E<h;E++)S.push(this.consumeArg(v&&v[E+1]).tokens);return S}countExpansion(h){if(this.expansionCount+=h,this.expansionCount>this.settings.maxExpand)throw new a("Too many expansions: infinite loop or need to increase maxExpand setting")}expandOnce(h){const v=this.popToken(),S=v.text,E=v.noexpand?null:this._getExpansion(S);if(E==null||h&&E.unexpandable){if(h&&E==null&&S[0]==="\\"&&!this.isDefined(S))throw new a("Undefined control sequence: "+S);return this.pushToken(v),!1}this.countExpansion(1);let I=E.tokens;const O=this.consumeArgs(E.numArgs,E.delimiters);if(E.numArgs){I=I.slice();for(let j=I.length-1;j>=0;--j){let Y=I[j];if(Y.text==="#"){if(j===0)throw new a("Incomplete placeholder at end of macro body",Y);if(Y=I[--j],Y.text==="#")I.splice(j+1,1);else if(/^[1-9]$/.test(Y.text))I.splice(j,2,...O[+Y.text-1]);else throw new a("Not a valid argument number",Y)}}}return this.pushTokens(I),I.length}expandAfterFuture(){return this.expandOnce(),this.future()}expandNextToken(){for(;;)if(this.expandOnce()===!1){const h=this.stack.pop();return h.treatAsRelax&&(h.text="\\relax"),h}throw new Error}expandMacro(h){return this.macros.has(h)?this.expandTokens([new Zn(h)]):void 0}expandTokens(h){const v=[],S=this.stack.length;for(this.pushTokens(h);this.stack.length>S;)if(this.expandOnce(!0)===!1){const E=this.stack.pop();E.treatAsRelax&&(E.noexpand=!1,E.treatAsRelax=!1),v.push(E)}return this.countExpansion(v.length),v}expandMacroAsText(h){const v=this.expandMacro(h);return v&&v.map(S=>S.text).join("")}_getExpansion(h){const v=this.macros.get(h);if(v==null)return v;if(h.length===1){const E=this.lexer.catcodes[h];if(E!=null&&E!==13)return}const S=typeof v=="function"?v(this):v;if(typeof S=="string"){let E=0;if(S.indexOf("#")!==-1){const ne=S.replace(/##/g,"");for(;ne.indexOf("#"+(E+1))!==-1;)++E}const I=new u5(S,this.settings),O=[];let j=I.lex();for(;j.text!=="EOF";)O.push(j),j=I.lex();return O.reverse(),{tokens:O,numArgs:E}}return S}isDefined(h){return this.macros.has(h)||Da.hasOwnProperty(h)||yt.math.hasOwnProperty(h)||yt.text.hasOwnProperty(h)||p5.hasOwnProperty(h)}isExpandable(h){const v=this.macros.get(h);return v!=null?typeof v=="string"||typeof v=="function"||!v.unexpandable:Da.hasOwnProperty(h)&&!Da[h].primitive}}const g5=/^[]/,A0=Object.freeze({"":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"a","":"e","":"h","":"i","":"j","":"k","":"l","":"m","":"n","":"o","":"p","":"r","":"s","":"t","":"u","":"v","":"x","":"","":"","":"","":"","":"","":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"A","":"B","":"D","":"E","":"G","":"H","":"I","":"J","":"K","":"L","":"M","":"N","":"O","":"P","":"R","":"T","":"U","":"V","":"W","":"a","":"b","":"c","":"d","":"e","":"f","":"g",:"h","":"i",:"j","":"k",:"l","":"m",:"n","":"o","":"p",:"r",:"s","":"t","":"u","":"v",:"w",:"x",:"y","":"z","":"","":"","":"","":"","":"","":""}),Wp={"":{text:"\\'",math:"\\acute"},"":{text:"\\`",math:"\\grave"},"":{text:'\\"',math:"\\ddot"},"":{text:"\\~",math:"\\tilde"},"":{text:"\\=",math:"\\bar"},"":{text:"\\u",math:"\\breve"},"":{text:"\\v",math:"\\check"},"":{text:"\\^",math:"\\hat"},"":{text:"\\.",math:"\\dot"},"":{text:"\\r",math:"\\mathring"},"":{text:"\\H"},"":{text:"\\c"}},m5={:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"b",:"c",:"c",:"c",:"c",:"c",:"c",:"d",:"d",:"d",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"f",:"g",:"g",:"g",:"g",:"g",:"g",:"g",:"h",:"h",:"h",:"h",:"h",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"j",:"j",:"k",:"k",:"k",:"l",:"l",:"l",:"m",:"m",:"n",:"n",:"n",:"n",:"n",:"n",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"p",:"p",:"r",:"r",:"r",:"r",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"t",:"t",:"t",:"t",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"v",:"w",:"w",:"w",:"w",:"w",:"w",:"x",:"x",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"z",:"z",:"z",:"z",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"B",:"C",:"C",:"C",:"C",:"C",:"C",:"D",:"D",:"D",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"F",:"G",:"G",:"G",:"G",:"G",:"G",:"G",:"H",:"H",:"H",:"H",:"H",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"J",:"K",:"K",:"K",:"L",:"L",:"L",:"M",:"M",:"N",:"N",:"N",:"N",:"N",:"N",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"P",:"P",:"R",:"R",:"R",:"R",:"S",:"S",:"S",:"S",:"S",:"S",:"S",:"T",:"T",:"T",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"V",:"W",:"W",:"W",:"W",:"W",:"X",:"X",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Z",:"Z",:"Z",:"Z",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};class I0{constructor(h,v){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new rC(h,v,this.mode),this.settings=v,this.leftrightDepth=0}expect(h,v){if(v===void 0&&(v=!0),this.fetch().text!==h)throw new a("Expected '"+h+"', got '"+this.fetch().text+"'",this.fetch());v&&this.consume()}consume(){this.nextToken=null}fetch(){return this.nextToken==null&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken}switchMode(h){this.mode=h,this.gullet.switchMode(h)}parse(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{const h=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),h}finally{this.gullet.endGroups()}}subparse(h){const v=this.nextToken;this.consume(),this.gullet.pushToken(new Zn("}")),this.gullet.pushTokens(h);const S=this.parseExpression(!1);return this.expect("}"),this.nextToken=v,S}parseExpression(h,v){const S=[];for(;;){this.mode==="math"&&this.consumeSpaces();const E=this.fetch();if(I0.endOfExpression.indexOf(E.text)!==-1||v&&E.text===v||h&&Da[E.text]&&Da[E.text].infix)break;const I=this.parseAtom(v);if(I){if(I.type==="internal")continue}else break;S.push(I)}return this.mode==="text"&&this.formLigatures(S),this.handleInfixNodes(S)}handleInfixNodes(h){let v=-1,S;for(let E=0;E<h.length;E++)if(h[E].type==="infix"){if(v!==-1)throw new a("only one infix operator per group",h[E].token);v=E,S=h[E].replaceWith}if(v!==-1&&S){let E,I;const O=h.slice(0,v),j=h.slice(v+1);O.length===1&&O[0].type==="ordgroup"?E=O[0]:E={type:"ordgroup",mode:this.mode,body:O},j.length===1&&j[0].type==="ordgroup"?I=j[0]:I={type:"ordgroup",mode:this.mode,body:j};let Y;return S==="\\\\abovefrac"?Y=this.callFunction(S,[E,h[v],I],[]):Y=this.callFunction(S,[E,I],[]),[Y]}else return h}handleSupSubscript(h){const v=this.fetch(),S=v.text;this.consume(),this.consumeSpaces();const E=this.parseGroup(h);if(!E)throw new a("Expected group after '"+S+"'",v);return E}formatUnsupportedCmd(h){const v=[];for(let I=0;I<h.length;I++)v.push({type:"textord",mode:"text",text:h[I]});const S={type:"text",mode:this.mode,body:v};return{type:"color",mode:this.mode,color:this.settings.errorColor,body:[S]}}parseAtom(h){const v=this.parseGroup("atom",h);if(this.mode==="text")return v;let S,E;for(;;){this.consumeSpaces();const I=this.fetch();if(I.text==="\\limits"||I.text==="\\nolimits"){if(v&&v.type==="op"){const O=I.text==="\\limits";v.limits=O,v.alwaysHandleSupSub=!0}else if(v&&v.type==="operatorname")v.alwaysHandleSupSub&&(v.limits=I.text==="\\limits");else throw new a("Limit controls must follow a math operator",I);this.consume()}else if(I.text==="^"){if(S)throw new a("Double superscript",I);S=this.handleSupSubscript("superscript")}else if(I.text==="_"){if(E)throw new a("Double subscript",I);E=this.handleSupSubscript("subscript")}else if(I.text==="'"){if(S)throw new a("Double superscript",I);const O={type:"textord",mode:this.mode,text:"\\prime"},j=[O];for(this.consume();this.fetch().text==="'";)j.push(O),this.consume();this.fetch().text==="^"&&j.push(this.handleSupSubscript("superscript")),S={type:"ordgroup",mode:this.mode,body:j}}else if(A0[I.text]){const O=g5.test(I.text),j=[];for(j.push(new Zn(A0[I.text])),this.consume();;){const ne=this.fetch().text;if(!A0[ne]||g5.test(ne)!==O)break;j.unshift(new Zn(A0[ne])),this.consume()}const Y=this.subparse(j);O?E={type:"ordgroup",mode:"math",body:Y}:S={type:"ordgroup",mode:"math",body:Y}}else break}return S||E?{type:"supsub",mode:this.mode,base:v,sup:S,sub:E}:v}parseFunction(h,v){const S=this.fetch(),E=S.text,I=Da[E];if(!I)return null;if(this.consume(),v&&v!=="atom"&&!I.allowedInArgument)throw new a("Got function '"+E+"' with no arguments"+(v?" as "+v:""),S);if(this.mode==="text"&&!I.allowedInText)throw new a("Can't use function '"+E+"' in text mode",S);if(this.mode==="math"&&I.allowedInMath===!1)throw new a("Can't use function '"+E+"' in math mode",S);const{args:O,optArgs:j}=this.parseArguments(E,I);return this.callFunction(E,O,j,S,h)}callFunction(h,v,S,E,I){const O={funcName:h,parser:this,token:E,breakOnTokenText:I},j=Da[h];if(j&&j.handler)return j.handler(O,v,S);throw new a("No function handler for "+h)}parseArguments(h,v){const S=v.numArgs+v.numOptionalArgs;if(S===0)return{args:[],optArgs:[]};const E=[],I=[];for(let O=0;O<S;O++){let j=v.argTypes&&v.argTypes[O];const Y=O<v.numOptionalArgs;(v.primitive&&j==null||v.type==="sqrt"&&O===1&&I[0]==null)&&(j="primitive");const ne=this.parseGroupOfType("argument to '"+h+"'",j,Y);if(Y)I.push(ne);else if(ne!=null)E.push(ne);else throw new a("Null argument, please report this as a bug")}return{args:E,optArgs:I}}parseGroupOfType(h,v,S){switch(v){case"color":return this.parseColorGroup(S);case"size":return this.parseSizeGroup(S);case"url":return this.parseUrlGroup(S);case"math":case"text":return this.parseArgumentGroup(S,v);case"hbox":{const E=this.parseArgumentGroup(S,"text");return E!=null?{type:"styling",mode:E.mode,body:[E],style:"text"}:null}case"raw":{const E=this.parseStringGroup("raw",S);return E!=null?{type:"raw",mode:"text",string:E.text}:null}case"primitive":{if(S)throw new a("A primitive argument cannot be optional");const E=this.parseGroup(h);if(E==null)throw new a("Expected group as "+h,this.fetch());return E}case"original":case null:case void 0:return this.parseArgumentGroup(S);default:throw new a("Unknown group type as "+h,this.fetch())}}consumeSpaces(){for(;this.fetch().text===" ";)this.consume()}parseStringGroup(h,v){const S=this.gullet.scanArgument(v);if(S==null)return null;let E="",I;for(;(I=this.fetch()).text!=="EOF";)E+=I.text,this.consume();return this.consume(),S.text=E,S}parseRegexGroup(h,v){const S=this.fetch();let E=S,I="",O;for(;(O=this.fetch()).text!=="EOF"&&h.test(I+O.text);)E=O,I+=E.text,this.consume();if(I==="")throw new a("Invalid "+v+": '"+S.text+"'",S);return S.range(E,I)}parseColorGroup(h){const v=this.parseStringGroup("color",h);if(v==null)return null;const S=/^(#[a-f0-9]{3}|#?[a-f0-9]{6}|[a-z]+)$/i.exec(v.text);if(!S)throw new a("Invalid color: '"+v.text+"'",v);let E=S[0];return/^[0-9a-f]{6}$/i.test(E)&&(E="#"+E),{type:"color-token",mode:this.mode,color:E}}parseSizeGroup(h){let v,S=!1;if(this.gullet.consumeSpaces(),!h&&this.gullet.future().text!=="{"?v=this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size"):v=this.parseStringGroup("size",h),!v)return null;!h&&v.text.length===0&&(v.text="0pt",S=!0);const E=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(v.text);if(!E)throw new a("Invalid size: '"+v.text+"'",v);const I={number:+(E[1]+E[2]),unit:E[3]};if(!ke(I))throw new a("Invalid unit: '"+I.unit+"'",v);return{type:"size",mode:this.mode,value:I,isBlank:S}}parseUrlGroup(h){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);const v=this.parseStringGroup("url",h);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),v==null)return null;const S=v.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:S}}parseArgumentGroup(h,v){const S=this.gullet.scanArgument(h);if(S==null)return null;const E=this.mode;v&&this.switchMode(v),this.gullet.beginGroup();const I=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();const O={type:"ordgroup",mode:this.mode,loc:S.loc,body:I};return v&&this.switchMode(E),O}parseGroup(h,v){const S=this.fetch(),E=S.text;let I;if(E==="{"||E==="\\begingroup"){this.consume();const O=E==="{"?"}":"\\endgroup";this.gullet.beginGroup();const j=this.parseExpression(!1,O),Y=this.fetch();this.expect(O),this.gullet.endGroup(),I={type:"ordgroup",mode:this.mode,loc:Nn.range(S,Y),body:j,semisimple:E==="\\begingroup"||void 0}}else if(I=this.parseFunction(v,h)||this.parseSymbol(),I==null&&E[0]==="\\"&&!p5.hasOwnProperty(E)){if(this.settings.throwOnError)throw new a("Undefined control sequence: "+E,S);I=this.formatUnsupportedCmd(E),this.consume()}return I}formLigatures(h){let v=h.length-1;for(let S=0;S<v;++S){const E=h[S],I=E.text;I==="-"&&h[S+1].text==="-"&&(S+1<v&&h[S+2].text==="-"?(h.splice(S,3,{type:"textord",mode:"text",loc:Nn.range(E,h[S+2]),text:"---"}),v-=2):(h.splice(S,2,{type:"textord",mode:"text",loc:Nn.range(E,h[S+1]),text:"--"}),v-=1)),(I==="'"||I==="`")&&h[S+1].text===I&&(h.splice(S,2,{type:"textord",mode:"text",loc:Nn.range(E,h[S+1]),text:I+I}),v-=1)}}parseSymbol(){const h=this.fetch();let v=h.text;if(/^\\verb[^a-zA-Z]/.test(v)){this.consume();let I=v.slice(5);const O=I.charAt(0)==="*";if(O&&(I=I.slice(1)),I.length<2||I.charAt(0)!==I.slice(-1))throw new a(`\\verb assertion failed --
                    please report what input caused this bug`);return I=I.slice(1,-1),{type:"verb",mode:"text",body:I,star:O}}m5.hasOwnProperty(v[0])&&!yt[this.mode][v[0]]&&(this.settings.strict&&this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+v[0]+'" used in math mode',h),v=m5[v[0]]+v.slice(1));const S=QE.exec(v);S&&(v=v.substring(0,S.index),v==="i"?v="":v==="j"&&(v=""));let E;if(yt[this.mode][v]){this.settings.strict&&this.mode==="math"&&Cs.indexOf(v)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+v[0]+'" used in math mode',h);const I=yt[this.mode][v].group,O=Nn.range(h);let j;if(Yn.hasOwnProperty(I)){const Y=I;j={type:"atom",mode:this.mode,family:Y,loc:O,text:v}}else j={type:I,mode:this.mode,loc:O,text:v};E=j}else if(v.charCodeAt(0)>=128)this.settings.strict&&(ge(v.charCodeAt(0))?this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+v[0]+'" used in math mode',h):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+v[0]+'"'+(" ("+v.charCodeAt(0)+")"),h)),E={type:"textord",mode:"text",loc:Nn.range(h),text:v};else return null;if(this.consume(),S)for(let I=0;I<S[0].length;I++){const O=S[0][I];if(!Wp[O])throw new a("Unknown accent ' "+O+"'",h);const j=Wp[O][this.mode]||Wp[O].text;if(!j)throw new a("Accent "+O+" unsupported in "+this.mode+" mode",h);E={type:"accent",mode:this.mode,loc:Nn.range(h),label:j,isStretchy:!1,isShifty:!0,base:E}}return E}}I0.endOfExpression=["}","\\endgroup","\\end","\\right","&"];var Gp=function(m,h){if(!(typeof m=="string"||m instanceof String))throw new TypeError("KaTeX can only parse string typed expression");const v=new I0(m,h);delete v.gullet.macros.current["\\df@tag"];let S=v.parse();if(delete v.gullet.macros.current["\\current@color"],delete v.gullet.macros.current["\\color"],v.gullet.macros.get("\\df@tag")){if(!h.displayMode)throw new a("\\tag works only in display equations");S=[{type:"tag",mode:"text",body:S,tag:v.subparse([new Zn("\\df@tag")])}]}return S};let v5=function(m,h,v){h.textContent="";const S=Yp(m,v).toNode();h.appendChild(S)};typeof document<"u"&&document.compatMode!=="CSS1Compat"&&(typeof console<"u"&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),v5=function(){throw new a("KaTeX doesn't work in quirks mode.")});const nC=function(m,h){return Yp(m,h).toMarkup()},iC=function(m,h){const v=new k(h);return Gp(m,v)},y5=function(m,h,v){if(v.throwOnError||!(m instanceof a))throw m;const S=de.makeSpan(["katex-error"],[new Vt(h)]);return S.setAttribute("title",m.toString()),S.setAttribute("style","color:"+v.errorColor),S},Yp=function(m,h){const v=new k(h);try{const S=Gp(m,v);return xE(S,m,v)}catch(S){return y5(S,m,v)}};var aC={version:"0.16.10",render:v5,renderToString:nC,ParseError:a,SETTINGS_SCHEMA:w,__parse:iC,__renderToDomTree:Yp,__renderToHTMLTree:function(m,h){const v=new k(h);try{const S=Gp(m,v);return bE(S,m,v)}catch(S){return y5(S,m,v)}},__setFontMetrics:Ze,__defineSymbol:C,__defineFunction:Fe,__defineMacro:q,__domTree:{Span:Xe,Anchor:Pt,SymbolNode:Vt,SvgNode:Rt,PathNode:$t,LineNode:dr}},sC=aC;return n=n.default,n}()})});QS.ParseError;var A$=QS.renderToString;function I$(t,e,r){for(var n=r,i=0,a=t.length;n<e.length;){var s=e[n];if(i<=0&&e.slice(n,n+a)===t)return n;s==="\\"?n++:s==="{"?i++:s==="}"&&i--,n++}return-1}function L$(t){return t.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")}var R$=/^\\begin{/;function O$(t,e){for(var r,n=[],i=new RegExp("("+e.map(function(l){return L$(l.left)}).join("|")+")");r=t.search(i),r!==-1;){r>0&&(n.push({type:"text",data:t.slice(0,r)}),t=t.slice(r));var a=e.findIndex(function(l){return t.startsWith(l.left)});if(r=I$(e[a].right,t,e[a].left.length),r===-1)break;var s=t.slice(0,r+e[a].right.length),o=R$.test(s)?s:t.slice(e[a].left.length,r);n.push({type:"math",data:o,rawData:s,display:e[a].display}),t=t.slice(r+e[a].right.length)}return t!==""&&n.push({type:"text",data:t}),n}function N$(t,e,r,n){for(var i=O$(t,e),a=[],s=0;s<i.length;s++)if(i[s].type==="text")a.push(i[s].data);else{var o=i[s].data,l=i[s].display;try{var u=A$(o,{displayMode:l,macros:n});a.push(u)}catch(c){if(r)throw c;a.push(i[s].data)}}return a.join("")}M$(`.___Latex___1nfc2_1 ._latex_1nfc2_1 {
  font: inherit
}
`,{});var z$=[{left:"$$",right:"$$",display:!0},{left:"\\(",right:"\\)",display:!1},{left:"$",right:"$",display:!1},{left:"\\[",right:"\\]",display:!0}];function B$(t){var e=t.children,r=t.delimiters,n=r===void 0?z$:r,i=t.strict,a=i===void 0?!1:i,s=t.macros,o=N$(Array.isArray(e)?e.join(""):e,n,a,s);return Q.createElement("span",{className:"__Latex__",dangerouslySetInnerHTML:{__html:o}})}const F$=(t,e,r)=>(t.reduce((i,a)=>{const s=e*a.distance+r;return i+Math.pow(a.power-s,2)},0)/t.length||0).toFixed(2),$$=t=>{const e=t.length;if(e<2)return{slope:0,intercept:0};const r=t.reduce((l,u)=>l+u.distance,0),n=t.reduce((l,u)=>l+u.power,0),i=t.reduce((l,u)=>l+u.distance*u.distance,0),a=t.reduce((l,u)=>l+u.distance*u.power,0),s=(e*a-r*n)/(e*i-r*r),o=(n-s*r)/e;return{m:Math.round(s*100)/100,b:Math.round(o*100)/100}},j$=({active:t,handleClose:e,pingpongerSettings:r,setPingpongerSettings:n})=>{const{t:i}=Xt();return z.jsx(R2,{$active:t,handleClose:e,children:z.jsxs(z.Fragment,{children:[z.jsx(Ae.H3,{children:i("Settings.title")}),z.jsxs(yf,{children:[z.jsx(Ae.Text,{children:i("Settings.distanceSensorPort")}),z.jsx(qi,{options:ns.map(a=>({id:a,text:a})),currentOptionId:r.distanceSensorPort,handleOptionSelect:a=>n(s=>({...s,distanceSensorPort:a})),width:"100px"})]}),z.jsxs(yf,{children:[z.jsx(Ae.Text,{children:i("Settings.leftMotorPort")}),z.jsx(qi,{options:ns.map(a=>({id:a,text:a})),currentOptionId:r.leftMotorPort,handleOptionSelect:a=>n(s=>({...s,leftMotorPort:a})),width:"100px"})]}),z.jsxs(yf,{children:[z.jsx(Ae.Text,{children:i("Settings.rightMotorPort")}),z.jsx(qi,{options:ns.map(a=>({id:a,text:a})),currentOptionId:r.rightMotorPort,handleOptionSelect:a=>n(s=>({...s,rightMotorPort:a})),width:"100px"})]}),z.jsxs(yf,{children:[z.jsx(Ae.Text,{children:i("Settings.isReversed")}),z.jsx(Oc,{value:r.isInverted,handleChange:()=>n(a=>({...a,isInverted:!r.isInverted}))})]})]})})},yf=Ee.div.withConfig({displayName:"PingpongerSettingsPopup__Row",componentId:"sc-1msnvix-0"})(["display:flex;column-gap:15px;align-items:center;"]),q$=()=>{const{t}=Xt();return z.jsxs(H$,{children:[z.jsx(Ae.Text,{children:t("PitcherInstructions.intro")}),z.jsxs(Ae.Text,{children:[t("PitcherInstructions.followVideo"),z.jsx(vr,{to:"https://youtu.be/P_t-HRxQ80s",children:t("video")}),t("PitcherInstructions.followVideoPart2")]}),z.jsx(Ae.Text,{$bold:!0,children:t("PitcherInstructions.assemblyTitle")}),z.jsxs(Ae.Text,{children:[t("PitcherInstructions.assemblyText1Part1"),z.jsx(vr,{to:`/ml-with-bricks/materials/${br.language}/assembly/pitcher.pdf`,children:t("these instructions")}),t("PitcherInstructions.assemblyText1Part2")]}),z.jsxs(Ae.Text,{children:[t("PitcherInstructions.assemblyText2Part1"),z.jsx(vr,{to:`/ml-with-bricks/materials/${br.language}/connection.pdf`,children:t("pdf")}),t("PitcherInstructions.assemblyText2Part2"),z.jsx(vr,{to:"https://youtu.be/ZsviP40PnuA",children:t("video")}),t("PitcherInstructions.assemblyText2Part3")]}),z.jsx(Ae.Text,{$bold:!0,children:t("PitcherInstructions.dataCollectionTitle")}),z.jsx(Ae.Text,{children:t("PitcherInstructions.dataCollectionText")}),z.jsx(Ae.Text,{$bold:!0,children:t("PitcherInstructions.predictionTitle")}),z.jsx(Ae.Text,{children:t("PitcherInstructions.predictionText1")}),z.jsx(Ae.Text,{children:t("PitcherInstructions.predictionText2")}),z.jsx(Ae.Text,{children:t("PitcherInstructions.predictionText3")}),z.jsx(Ae.Text,{children:t("PitcherInstructions.predictionText4")}),z.jsx(Ae.Text,{children:t("PitcherInstructions.predictionText5")}),z.jsx(Ae.Text,{children:t("PitcherInstructions.predictionText6")}),z.jsx(Ae.Text,{$bold:!0,children:t("PitcherInstructions.thingsToTryTitle")}),z.jsx(Ae.Text,{children:t("PitcherInstructions.thingsToTryText")})]})},H$=Ee.div.withConfig({displayName:"PingPongerInstructions__Wrapper",componentId:"sc-67jcbk-0"})([""]),V$=[],U$={distanceSensorPort:"F",leftMotorPort:"A",rightMotorPort:"B",isInverted:!0},W$=()=>{const{t}=Xt(),{sendTunnelData:e,subscribe:r}=Wh(),n=Q.useRef(null),[i,a]=Q.useState(()=>Sr("pingPonger_data",V$)),[s,o]=Q.useState(()=>Sr("pingPonger_modelMode","train")),[l,u]=Q.useState(()=>Sr("pingPonger_inferDistance",null)),[c,f]=Q.useState(()=>Sr("pingPonger_currentPower",20)),[d,p]=Q.useState(()=>Sr("pingPonger_newPower",20)),[g,y]=Q.useState(()=>Sr("pingPonger_isBestParameters",!1)),[b,x]=Q.useState(()=>Sr("pingPonger_m",1)),[w,_]=Q.useState(()=>Sr("pingPonger_b",-10)),[k,T]=Q.useState(!1),[P,M]=Q.useState(U$),A=Q.useMemo(()=>F$(i,b,w),[b,w,i]),L=Z=>{var ue,pe,ge;Z?(pe=n.current)==null||pe.setActiveElements([{datasetIndex:0,index:i.findIndex(fe=>fe.id===Z)}]):(ue=n.current)==null||ue.setActiveElements([]),(ge=n.current)==null||ge.update("none")},R=()=>{e({action:"pitch_ball",payload:{}})},N=()=>{e({action:"measure_distance",payload:{}})},F=Z=>{a(ue=>ue.filter(pe=>pe.id!==Z)),e({action:"delete_datapoint",payload:{id:Z}})},$=async()=>{r(ee),e({action:"code_start",payload:{datapoints:i,mode:s,power:c,infer_distance:l}}).then(()=>St.success(t("PingPonger.toasts.codeStarted"),{position:"bottom-left"}))},V=Z=>{if(Z==="infer"&&i.length<2){St.warn(t("PingPonger.toasts.min2Points"),{position:"bottom-left"});return}o(Z),u(null),e({action:"change_mode",payload:{mode:Z}})},X=Z=>{Z.preventDefault(),f(d),e({action:"change_power",payload:{power:d}})},K=()=>{const{m:Z,b:ue}=$$(i);Z!==void 0&&ue!==void 0&&(x(Z),_(ue),y(!0))},W=Z=>{x(Z),y(!1)},H=Z=>{_(Z),y(!1)},ee=Z=>{const ue=Z.payload;switch(Z.action){case"add_point":const pe={id:ue.id,power:ue.power,distance:ue.distance};a(ge=>[...ge,pe]);break;case"infer_distance":u(()=>ue.distance);break}},re=Q.useMemo(()=>N2.pitcher(P),[P]);Q.useEffect(()=>{g&&K()},[i]),Q.useEffect(()=>{localStorage.setItem("pingPonger_data",JSON.stringify(i))},[i]),Q.useEffect(()=>{localStorage.setItem("pingPonger_modelMode",JSON.stringify(s))},[s]),Q.useEffect(()=>{localStorage.setItem("pingPonger_inferDistance",JSON.stringify(l))},[l]),Q.useEffect(()=>{localStorage.setItem("pingPonger_currentPower",JSON.stringify(c))},[c]),Q.useEffect(()=>{localStorage.setItem("pingPonger_newPower",JSON.stringify(d))},[d]),Q.useEffect(()=>{localStorage.setItem("pingPonger_isBestParameters",JSON.stringify(g))},[g]),Q.useEffect(()=>{localStorage.setItem("pingPonger_m",JSON.stringify(b))},[b]),Q.useEffect(()=>{localStorage.setItem("pingPonger_b",JSON.stringify(w))},[w]);const G=()=>z.jsxs(F1,{children:[z.jsx($b,{children:z.jsx(ua,{text:t("PingPonger.launch"),icon:z.jsx(uA,{}),onClick:R})}),z.jsx($b,{children:z.jsx(ua,{text:t("PingPonger.measure"),icon:z.jsx(cA,{}),onClick:N})})]});return z.jsxs(G$,{children:[z.jsx(Ae.H1,{children:t("PingPonger.title")}),z.jsx(q$,{}),z.jsx(O2,{code:re,onStart:$}),z.jsxs(Y$,{children:[z.jsx("div",{children:z.jsx(m$,{chartRef:n,isInfer:s==="infer",regressionData:i,m:b,b:w,inferDistance:l})}),z.jsxs(K$,{children:[z.jsx(L2,{currentId:s,segments:XS.map(Z=>({id:Z,text:t(`PingPonger.modelModes.${Z}`)})),handleSelectOption:V}),z.jsx(G,{}),s==="infer"?z.jsxs(Fb,{children:[z.jsxs(F1,{children:[z.jsx(Ae.H3,{children:t("PingPonger.linearRegression")}),z.jsx(ua,{text:t("PingPonger.calculateBest"),icon:z.jsx(sA,{}),onClick:K,active:i.length>=2})]}),z.jsxs(Z$,{children:[z.jsx(yl,{value:b,label:t("PingPonger.parameters.slope"),minValue:-3,maxValue:3,onChange:W,stepDevisor:100,writeValue:!0}),z.jsx(yl,{value:w,label:t("PingPonger.parameters.intercept"),minValue:-10,maxValue:50,onChange:H,stepDevisor:100,writeValue:!0})]}),z.jsx(Q$,{children:z.jsx(B$,{children:`$${t("PingPonger.loss")} = ${A}$`})})]}):z.jsx(Fb,{children:z.jsxs(X$,{children:[z.jsx(yl,{value:d,label:`${t("PingPonger.power")}: ${c}%  ${d}%`,minValue:20,maxValue:100,onChange:Z=>p(Z)}),z.jsx(ua,{text:t("PingPonger.sendNewPower"),icon:z.jsx(aA,{}),onClick:X,type:"submit"})]})}),z.jsx(x$,{data:i,handleRemoveData:F,handleTableRowHover:L})]})]}),z.jsx(j$,{active:k,handleClose:()=>T(!1),pingpongerSettings:P,setPingpongerSettings:M})]})},G$=Ee.div.withConfig({displayName:"ping-ponger__Wrapper",componentId:"sc-crvubh-0"})([""]),Y$=Ee.div.withConfig({displayName:"ping-ponger__DiagramRow",componentId:"sc-crvubh-1"})(["display:grid;grid-template-columns:1fr 1fr;column-gap:30px;.bigKatex .katex{font-size:24px;}.katex{font-size:20px;}@media (max-width:1024px){column-gap:10px;}@media (max-width:768px){grid-template-columns:1fr;row-gap:20px;}"]),Fb=Ee.div.withConfig({displayName:"ping-ponger__ControlsWrapper",componentId:"sc-crvubh-2"})(["display:flex;flex-direction:column;justify-content:flex-start;align-items:flex-start;width:100%;gap:20px;"]),X$=Ee.form.withConfig({displayName:"ping-ponger__SelectPowerForm",componentId:"sc-crvubh-3"})(["width:100%;display:flex;align-items:center;justify-content:space-between;gap:20px;margin:10px 0;"]),F1=Ee.div.withConfig({displayName:"ping-ponger__Row",componentId:"sc-crvubh-4"})(["width:100%;display:flex;align-items:center;justify-content:space-between;gap:20px;@media (max-width:768px){flex-direction:column;align-items:stretch;}"]),$b=Ee.div.withConfig({displayName:"ping-ponger__ButtonWrapper",componentId:"sc-crvubh-5"})(["flex:1;display:flex;& > button{flex:1 !important;}"]),K$=Ee.div.withConfig({displayName:"ping-ponger__ControlsColumn",componentId:"sc-crvubh-6"})(["display:flex;width:100%;flex-direction:column;gap:20px;"]),Z$=Ee(F1).withConfig({displayName:"ping-ponger__SlidersRow",componentId:"sc-crvubh-7"})([""]),Q$=Ee.div.withConfig({displayName:"ping-ponger__Center",componentId:"sc-crvubh-8"})(["width:100%;display:flex;align-items:center;justify-content:center;margin-top:30px;"]),J$=({table:t,currentStateIx:e,currentActionIx:r})=>{const{t:n}=Xt();return z.jsxs(ej,{children:[t.map((i,a)=>[i.map((s,o)=>z.jsx(Qh,{$value:t[a][o],style:{gridArea:`cell${a+1}-${o+1}`},$active:e===a&&r==o,children:z.jsx("p",{children:s===void 0?"":s>0?`+${Math.round(s*100)/100}`:Math.round(s*100)/100})},`${a}-${o}`)),z.jsx(jb,{style:{gridArea:`state${a+1}`},$bgImage:`crawler/state_${a}.png`,$active:e===a},`row-image-${a+1}`),z.jsx(jb,{style:{gridArea:`action${a+1}`},$bgImage:`crawler/state_${a}.png`,$active:r===a},`column-image-${a+1}`)]),z.jsx(qb,{style:{gridArea:"a"},children:z.jsx(Hb,{children:n("Crawler.table.columnsHeader")})}),z.jsx(qb,{style:{gridArea:"b"},children:z.jsx(Hb,{style:{textOrientation:"mixed",writingMode:"sideways-lr"},children:n("Crawler.table.rowsHeader")})}),z.jsx(tj,{})]})},ej=Ee.div.withConfig({displayName:"CrawlerTable__Body",componentId:"sc-1m092ps-0"})(['width:100%;aspect-ratio:1/1;display:grid;grid-template-areas:"x x a a a a" "x x action1 action2 action3 action4" "b state1 cell1-1 cell1-2 cell1-3 cell1-4" "b state2 cell2-1 cell2-2 cell2-3 cell2-4" "b state3 cell3-1 cell3-2 cell3-3 cell3-4" "b state4 cell4-1 cell4-2 cell4-3 cell4-4";grid-template-columns:30px 1fr 1fr 1fr 1fr 1fr;grid-template-rows:30px 1fr 1fr 1fr 1fr 1fr;border-radius:5px;overflow:hidden;border:1px solid ',";font-weight:600;font-family:var(--main-font);"],({theme:t})=>t.darkGray),Qh=Ee.div.withConfig({displayName:"CrawlerTable__TableCell",componentId:"sc-1m092ps-1"})(["display:flex;justify-content:center;align-items:center;background-color:",";aspect-ratio:1 / 1;outline:1px solid ",";overflow:hidden;max-width:100%;max-height:100%;padding:10px;& > p{max-width:100%;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;}"],({$value:t,theme:e,$active:r})=>t===void 0||t===0?r?e.gray:e.lightGray:t>0?r?e.green:e.lightGreen:r?e.red:e.lightRed,({theme:t})=>t.darkGray),jb=Ee(Qh).withConfig({displayName:"CrawlerTable__ImageTableCell",componentId:"sc-1m092ps-2"})(["background-size:cover;background-color:",";background-image:",";"],({theme:t,$active:e})=>e?t.darkGray:t.gray,({$bgImage:t})=>!!t&&`url(${t})`),qb=Ee(Qh).withConfig({displayName:"CrawlerTable__HeaderBlock",componentId:"sc-1m092ps-3"})(["aspect-ratio:unset;background-color:",";padding:0;& > p{overflow:unset;}"],({theme:t})=>t.gray),Hb=Ee.p.withConfig({displayName:"CrawlerTable__HeaderText",componentId:"sc-1m092ps-4"})(["text-align:center;"]),tj=Ee(Qh).withConfig({displayName:"CrawlerTable__PlaceHolder",componentId:"sc-1m092ps-5"})(["background-color:",";aspect-ratio:unset;grid-area:x;"],({theme:t})=>t.gray);function $1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function rj(t){if(Array.isArray(t))return t}function nj(t){if(Array.isArray(t))return $1(t)}function _s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ij(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,tk(n.key),n)}}function Ss(t,e,r){return e&&ij(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function yi(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=z2(t))||e){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(l){throw l},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,s=!0,o=!1;return{s:function(){r=r.call(t)},n:function(){var l=r.next();return s=l.done,l},e:function(l){o=!0,a=l},f:function(){try{s||r.return==null||r.return()}finally{if(o)throw a}}}}function JS(t,e,r){return(e=tk(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function aj(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function sj(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function oj(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lj(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jr(t,e){return rj(t)||sj(t,e)||z2(t,e)||oj()}function ek(t){return nj(t)||aj(t)||z2(t)||lj()}function uj(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function tk(t){var e=uj(t,"string");return typeof e=="symbol"?e:e+""}function Rr(t){"@babel/helpers - typeof";return Rr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rr(t)}function z2(t,e){if(t){if(typeof t=="string")return $1(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?$1(t,e):void 0}}var Dr=typeof window>"u"?null:window,Vb=Dr?Dr.navigator:null;Dr&&Dr.document;var cj=Rr(""),rk=Rr({}),fj=Rr(function(){}),dj=typeof HTMLElement>"u"?"undefined":Rr(HTMLElement),l0=function(e){return e&&e.instanceString&&cr(e.instanceString)?e.instanceString():null},Ke=function(e){return e!=null&&Rr(e)==cj},cr=function(e){return e!=null&&Rr(e)===fj},Ht=function(e){return!Vn(e)&&(Array.isArray?Array.isArray(e):e!=null&&e instanceof Array)},Tt=function(e){return e!=null&&Rr(e)===rk&&!Ht(e)&&e.constructor===Object},hj=function(e){return e!=null&&Rr(e)===rk},Ne=function(e){return e!=null&&Rr(e)===Rr(1)&&!isNaN(e)},pj=function(e){return Ne(e)&&Math.floor(e)===e},ih=function(e){if(dj!=="undefined")return e!=null&&e instanceof HTMLElement},Vn=function(e){return u0(e)||nk(e)},u0=function(e){return l0(e)==="collection"&&e._private.single},nk=function(e){return l0(e)==="collection"&&!e._private.single},B2=function(e){return l0(e)==="core"},ik=function(e){return l0(e)==="stylesheet"},gj=function(e){return l0(e)==="event"},fs=function(e){return e==null?!0:!!(e===""||e.match(/^\s+$/))},mj=function(e){return typeof HTMLElement>"u"?!1:e instanceof HTMLElement},vj=function(e){return Tt(e)&&Ne(e.x1)&&Ne(e.x2)&&Ne(e.y1)&&Ne(e.y2)},yj=function(e){return hj(e)&&cr(e.then)},xj=function(){return Vb&&Vb.userAgent.match(/msie|trident|edge/i)},Fl=function(e,r){r||(r=function(){if(arguments.length===1)return arguments[0];if(arguments.length===0)return"undefined";for(var a=[],s=0;s<arguments.length;s++)a.push(arguments[s]);return a.join("$")});var n=function(){var a=this,s=arguments,o,l=r.apply(a,s),u=n.cache;return(o=u[l])||(o=u[l]=e.apply(a,s)),o};return n.cache={},n},F2=Fl(function(t){return t.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}),Jh=Fl(function(t){return t.replace(/(-\w)/g,function(e){return e[1].toUpperCase()})}),ak=Fl(function(t,e){return t+e[0].toUpperCase()+e.substring(1)},function(t,e){return t+"$"+e}),Ub=function(e){return fs(e)?e:e.charAt(0).toUpperCase()+e.substring(1)},Lr="(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))",bj="rgb[a]?\\(("+Lr+"[%]?)\\s*,\\s*("+Lr+"[%]?)\\s*,\\s*("+Lr+"[%]?)(?:\\s*,\\s*("+Lr+"))?\\)",wj="rgb[a]?\\((?:"+Lr+"[%]?)\\s*,\\s*(?:"+Lr+"[%]?)\\s*,\\s*(?:"+Lr+"[%]?)(?:\\s*,\\s*(?:"+Lr+"))?\\)",_j="hsl[a]?\\(("+Lr+")\\s*,\\s*("+Lr+"[%])\\s*,\\s*("+Lr+"[%])(?:\\s*,\\s*("+Lr+"))?\\)",Sj="hsl[a]?\\((?:"+Lr+")\\s*,\\s*(?:"+Lr+"[%])\\s*,\\s*(?:"+Lr+"[%])(?:\\s*,\\s*(?:"+Lr+"))?\\)",kj="\\#[0-9a-fA-F]{3}",Tj="\\#[0-9a-fA-F]{6}",sk=function(e,r){return e<r?-1:e>r?1:0},Ej=function(e,r){return-1*sk(e,r)},et=Object.assign!=null?Object.assign.bind(Object):function(t){for(var e=arguments,r=1;r<e.length;r++){var n=e[r];if(n!=null)for(var i=Object.keys(n),a=0;a<i.length;a++){var s=i[a];t[s]=n[s]}}return t},Cj=function(e){if(!(!(e.length===4||e.length===7)||e[0]!=="#")){var r=e.length===4,n,i,a,s=16;return r?(n=parseInt(e[1]+e[1],s),i=parseInt(e[2]+e[2],s),a=parseInt(e[3]+e[3],s)):(n=parseInt(e[1]+e[2],s),i=parseInt(e[3]+e[4],s),a=parseInt(e[5]+e[6],s)),[n,i,a]}},Mj=function(e){var r,n,i,a,s,o,l,u;function c(g,y,b){return b<0&&(b+=1),b>1&&(b-=1),b<1/6?g+(y-g)*6*b:b<1/2?y:b<2/3?g+(y-g)*(2/3-b)*6:g}var f=new RegExp("^"+_j+"$").exec(e);if(f){if(n=parseInt(f[1]),n<0?n=(360- -1*n%360)%360:n>360&&(n=n%360),n/=360,i=parseFloat(f[2]),i<0||i>100||(i=i/100,a=parseFloat(f[3]),a<0||a>100)||(a=a/100,s=f[4],s!==void 0&&(s=parseFloat(s),s<0||s>1)))return;if(i===0)o=l=u=Math.round(a*255);else{var d=a<.5?a*(1+i):a+i-a*i,p=2*a-d;o=Math.round(255*c(p,d,n+1/3)),l=Math.round(255*c(p,d,n)),u=Math.round(255*c(p,d,n-1/3))}r=[o,l,u,s]}return r},Pj=function(e){var r,n=new RegExp("^"+bj+"$").exec(e);if(n){r=[];for(var i=[],a=1;a<=3;a++){var s=n[a];if(s[s.length-1]==="%"&&(i[a]=!0),s=parseFloat(s),i[a]&&(s=s/100*255),s<0||s>255)return;r.push(Math.floor(s))}var o=i[1]||i[2]||i[3],l=i[1]&&i[2]&&i[3];if(o&&!l)return;var u=n[4];if(u!==void 0){if(u=parseFloat(u),u<0||u>1)return;r.push(u)}}return r},Dj=function(e){return Aj[e.toLowerCase()]},ok=function(e){return(Ht(e)?e:null)||Dj(e)||Cj(e)||Pj(e)||Mj(e)},Aj={transparent:[0,0,0,0],aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},lk=function(e){for(var r=e.map,n=e.keys,i=n.length,a=0;a<i;a++){var s=n[a];if(Tt(s))throw Error("Tried to set map with object key");a<n.length-1?(r[s]==null&&(r[s]={}),r=r[s]):r[s]=e.value}},uk=function(e){for(var r=e.map,n=e.keys,i=n.length,a=0;a<i;a++){var s=n[a];if(Tt(s))throw Error("Tried to get map with object key");if(r=r[s],r==null)return r}return r},xf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function c0(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Fg,Wb;function f0(){if(Wb)return Fg;Wb=1;function t(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}return Fg=t,Fg}var $g,Gb;function Ij(){if(Gb)return $g;Gb=1;var t=typeof xf=="object"&&xf&&xf.Object===Object&&xf;return $g=t,$g}var jg,Yb;function ep(){if(Yb)return jg;Yb=1;var t=Ij(),e=typeof self=="object"&&self&&self.Object===Object&&self,r=t||e||Function("return this")();return jg=r,jg}var qg,Xb;function Lj(){if(Xb)return qg;Xb=1;var t=ep(),e=function(){return t.Date.now()};return qg=e,qg}var Hg,Kb;function Rj(){if(Kb)return Hg;Kb=1;var t=/\s/;function e(r){for(var n=r.length;n--&&t.test(r.charAt(n)););return n}return Hg=e,Hg}var Vg,Zb;function Oj(){if(Zb)return Vg;Zb=1;var t=Rj(),e=/^\s+/;function r(n){return n&&n.slice(0,t(n)+1).replace(e,"")}return Vg=r,Vg}var Ug,Qb;function $2(){if(Qb)return Ug;Qb=1;var t=ep(),e=t.Symbol;return Ug=e,Ug}var Wg,Jb;function Nj(){if(Jb)return Wg;Jb=1;var t=$2(),e=Object.prototype,r=e.hasOwnProperty,n=e.toString,i=t?t.toStringTag:void 0;function a(s){var o=r.call(s,i),l=s[i];try{s[i]=void 0;var u=!0}catch{}var c=n.call(s);return u&&(o?s[i]=l:delete s[i]),c}return Wg=a,Wg}var Gg,ew;function zj(){if(ew)return Gg;ew=1;var t=Object.prototype,e=t.toString;function r(n){return e.call(n)}return Gg=r,Gg}var Yg,tw;function ck(){if(tw)return Yg;tw=1;var t=$2(),e=Nj(),r=zj(),n="[object Null]",i="[object Undefined]",a=t?t.toStringTag:void 0;function s(o){return o==null?o===void 0?i:n:a&&a in Object(o)?e(o):r(o)}return Yg=s,Yg}var Xg,rw;function Bj(){if(rw)return Xg;rw=1;function t(e){return e!=null&&typeof e=="object"}return Xg=t,Xg}var Kg,nw;function d0(){if(nw)return Kg;nw=1;var t=ck(),e=Bj(),r="[object Symbol]";function n(i){return typeof i=="symbol"||e(i)&&t(i)==r}return Kg=n,Kg}var Zg,iw;function Fj(){if(iw)return Zg;iw=1;var t=Oj(),e=f0(),r=d0(),n=0/0,i=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,s=/^0o[0-7]+$/i,o=parseInt;function l(u){if(typeof u=="number")return u;if(r(u))return n;if(e(u)){var c=typeof u.valueOf=="function"?u.valueOf():u;u=e(c)?c+"":c}if(typeof u!="string")return u===0?u:+u;u=t(u);var f=a.test(u);return f||s.test(u)?o(u.slice(2),f?2:8):i.test(u)?n:+u}return Zg=l,Zg}var Qg,aw;function $j(){if(aw)return Qg;aw=1;var t=f0(),e=Lj(),r=Fj(),n="Expected a function",i=Math.max,a=Math.min;function s(o,l,u){var c,f,d,p,g,y,b=0,x=!1,w=!1,_=!0;if(typeof o!="function")throw new TypeError(n);l=r(l)||0,t(u)&&(x=!!u.leading,w="maxWait"in u,d=w?i(r(u.maxWait)||0,l):d,_="trailing"in u?!!u.trailing:_);function k($){var V=c,X=f;return c=f=void 0,b=$,p=o.apply(X,V),p}function T($){return b=$,g=setTimeout(A,l),x?k($):p}function P($){var V=$-y,X=$-b,K=l-V;return w?a(K,d-X):K}function M($){var V=$-y,X=$-b;return y===void 0||V>=l||V<0||w&&X>=d}function A(){var $=e();if(M($))return L($);g=setTimeout(A,P($))}function L($){return g=void 0,_&&c?k($):(c=f=void 0,p)}function R(){g!==void 0&&clearTimeout(g),b=0,c=y=f=g=void 0}function N(){return g===void 0?p:L(e())}function F(){var $=e(),V=M($);if(c=arguments,f=this,y=$,V){if(g===void 0)return T(y);if(w)return clearTimeout(g),g=setTimeout(A,l),k(y)}return g===void 0&&(g=setTimeout(A,l)),p}return F.cancel=R,F.flush=N,F}return Qg=s,Qg}var jj=$j(),h0=c0(jj),Jg=Dr?Dr.performance:null,fk=Jg&&Jg.now?function(){return Jg.now()}:function(){return Date.now()},qj=function(){if(Dr){if(Dr.requestAnimationFrame)return function(t){Dr.requestAnimationFrame(t)};if(Dr.mozRequestAnimationFrame)return function(t){Dr.mozRequestAnimationFrame(t)};if(Dr.webkitRequestAnimationFrame)return function(t){Dr.webkitRequestAnimationFrame(t)};if(Dr.msRequestAnimationFrame)return function(t){Dr.msRequestAnimationFrame(t)}}return function(t){t&&setTimeout(function(){t(fk())},1e3/60)}}(),ah=function(e){return qj(e)},ba=fk,al=9261,dk=65599,Fu=5381,hk=function(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:al,n=r,i;i=e.next(),!i.done;)n=n*dk+i.value|0;return n},zc=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:al;return r*dk+e|0},Bc=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Fu;return(r<<5)+r+e|0},Hj=function(e,r){return e*2097152+r},Ia=function(e){return e[0]*2097152+e[1]},bf=function(e,r){return[zc(e[0],r[0]),Bc(e[1],r[1])]},sw=function(e,r){var n={value:0,done:!1},i=0,a=e.length,s={next:function(){return i<a?n.value=e[i++]:n.done=!0,n}};return hk(s,r)},ds=function(e,r){var n={value:0,done:!1},i=0,a=e.length,s={next:function(){return i<a?n.value=e.charCodeAt(i++):n.done=!0,n}};return hk(s,r)},pk=function(){return Vj(arguments)},Vj=function(e){for(var r,n=0;n<e.length;n++){var i=e[n];n===0?r=ds(i):r=ds(i,r)}return r},ow=!0,Uj=console.warn!=null,Wj=console.trace!=null,j2=Number.MAX_SAFE_INTEGER||9007199254740991,gk=function(){return!0},sh=function(){return!1},lw=function(){return 0},q2=function(){},or=function(e){throw new Error(e)},mk=function(e){if(e!==void 0)ow=!!e;else return ow},It=function(e){mk()&&(Uj?console.warn(e):(console.log(e),Wj&&console.trace()))},Gj=function(e){return et({},e)},Fi=function(e){return e==null?e:Ht(e)?e.slice():Tt(e)?Gj(e):e},Yj=function(e){return e.slice()},vk=function(e,r){for(r=e="";e++<36;r+=e*51&52?(e^15?8^Math.random()*(e^20?16:4):4).toString(16):"-");return r},Xj={},yk=function(){return Xj},Or=function(e){var r=Object.keys(e);return function(n){for(var i={},a=0;a<r.length;a++){var s=r[a],o=n==null?void 0:n[s];i[s]=o===void 0?e[s]:o}return i}},hs=function(e,r,n){for(var i=e.length-1;i>=0;i--)e[i]===r&&e.splice(i,1)},H2=function(e){e.splice(0,e.length)},Kj=function(e,r){for(var n=0;n<r.length;n++){var i=r[n];e.push(i)}},ii=function(e,r,n){return n&&(r=ak(n,r)),e[r]},na=function(e,r,n,i){n&&(r=ak(n,r)),e[r]=i},Zj=function(){function t(){_s(this,t),this._obj={}}return Ss(t,[{key:"set",value:function(r,n){return this._obj[r]=n,this}},{key:"delete",value:function(r){return this._obj[r]=void 0,this}},{key:"clear",value:function(){this._obj={}}},{key:"has",value:function(r){return this._obj[r]!==void 0}},{key:"get",value:function(r){return this._obj[r]}}])}(),ca=typeof Map<"u"?Map:Zj,Qj="undefined",Jj=function(){function t(e){if(_s(this,t),this._obj=Object.create(null),this.size=0,e!=null){var r;e.instanceString!=null&&e.instanceString()===this.instanceString()?r=e.toArray():r=e;for(var n=0;n<r.length;n++)this.add(r[n])}}return Ss(t,[{key:"instanceString",value:function(){return"set"}},{key:"add",value:function(r){var n=this._obj;n[r]!==1&&(n[r]=1,this.size++)}},{key:"delete",value:function(r){var n=this._obj;n[r]===1&&(n[r]=0,this.size--)}},{key:"clear",value:function(){this._obj=Object.create(null)}},{key:"has",value:function(r){return this._obj[r]===1}},{key:"toArray",value:function(){var r=this;return Object.keys(this._obj).filter(function(n){return r.has(n)})}},{key:"forEach",value:function(r,n){return this.toArray().forEach(r,n)}}])}(),Kl=(typeof Set>"u"?"undefined":Rr(Set))!==Qj?Set:Jj,tp=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(e===void 0||r===void 0||!B2(e)){or("An element must have a core reference and parameters set");return}var i=r.group;if(i==null&&(r.data&&r.data.source!=null&&r.data.target!=null?i="edges":i="nodes"),i!=="nodes"&&i!=="edges"){or("An element must be of type `nodes` or `edges`; you specified `"+i+"`");return}this.length=1,this[0]=this;var a=this._private={cy:e,single:!0,data:r.data||{},position:r.position||{x:0,y:0},autoWidth:void 0,autoHeight:void 0,autoPadding:void 0,compoundBoundsClean:!1,listeners:[],group:i,style:{},rstyle:{},styleCxts:[],styleKeys:{},removed:!0,selected:!!r.selected,selectable:r.selectable===void 0?!0:!!r.selectable,locked:!!r.locked,grabbed:!1,grabbable:r.grabbable===void 0?!0:!!r.grabbable,pannable:r.pannable===void 0?i==="edges":!!r.pannable,active:!1,classes:new Kl,animation:{current:[],queue:[]},rscratch:{},scratch:r.scratch||{},edges:[],children:[],parent:r.parent&&r.parent.isNode()?r.parent:null,traversalCache:{},backgrounding:!1,bbCache:null,bbCacheShift:{x:0,y:0},bodyBounds:null,overlayBounds:null,labelBounds:{all:null,source:null,target:null,main:null},arrowBounds:{source:null,target:null,"mid-source":null,"mid-target":null}};if(a.position.x==null&&(a.position.x=0),a.position.y==null&&(a.position.y=0),r.renderedPosition){var s=r.renderedPosition,o=e.pan(),l=e.zoom();a.position={x:(s.x-o.x)/l,y:(s.y-o.y)/l}}var u=[];Ht(r.classes)?u=r.classes:Ke(r.classes)&&(u=r.classes.split(/\s+/));for(var c=0,f=u.length;c<f;c++){var d=u[c];!d||d===""||a.classes.add(d)}this.createEmitter(),(n===void 0||n)&&this.restore();var p=r.style||r.css;p&&(It("Setting a `style` bypass at element creation should be done only when absolutely necessary.  Try to use the stylesheet instead."),this.style(p))},uw=function(e){return e={bfs:e.bfs||!e.dfs,dfs:e.dfs||!e.bfs},function(n,i,a){var s;Tt(n)&&!Vn(n)&&(s=n,n=s.roots||s.root,i=s.visit,a=s.directed),a=arguments.length===2&&!cr(i)?i:a,i=cr(i)?i:function(){};for(var o=this._private.cy,l=n=Ke(n)?this.filter(n):n,u=[],c=[],f={},d={},p={},g=0,y,b=this.byGroup(),x=b.nodes,w=b.edges,_=0;_<l.length;_++){var k=l[_],T=k.id();k.isNode()&&(u.unshift(k),e.bfs&&(p[T]=!0,c.push(k)),d[T]=0)}for(var P=function(){var $=e.bfs?u.shift():u.pop(),V=$.id();if(e.dfs){if(p[V])return 0;p[V]=!0,c.push($)}var X=d[V],K=f[V],W=K!=null?K.source():null,H=K!=null?K.target():null,ee=K==null?void 0:$.same(W)?H[0]:W[0],re;if(re=i($,K,ee,g++,X),re===!0)return y=$,1;if(re===!1)return 1;for(var G=$.connectedEdges().filter(function(fe){return(!a||fe.source().same($))&&w.has(fe)}),Z=0;Z<G.length;Z++){var ue=G[Z],pe=ue.connectedNodes().filter(function(fe){return!fe.same($)&&x.has(fe)}),ge=pe.id();pe.length!==0&&!p[ge]&&(pe=pe[0],u.push(pe),e.bfs&&(p[ge]=!0,c.push(pe)),f[ge]=ue,d[ge]=d[V]+1)}},M;u.length!==0&&(M=P(),!(M!==0&&M===1)););for(var A=o.collection(),L=0;L<c.length;L++){var R=c[L],N=f[R.id()];N!=null&&A.push(N),A.push(R)}return{path:o.collection(A),found:o.collection(y)}}},Fc={breadthFirstSearch:uw({bfs:!0}),depthFirstSearch:uw({dfs:!0})};Fc.bfs=Fc.breadthFirstSearch;Fc.dfs=Fc.depthFirstSearch;var td={exports:{}},eq=td.exports,cw;function tq(){return cw||(cw=1,function(t,e){(function(){var r,n,i,a,s,o,l,u,c,f,d,p,g,y,b;i=Math.floor,f=Math.min,n=function(x,w){return x<w?-1:x>w?1:0},c=function(x,w,_,k,T){var P;if(_==null&&(_=0),T==null&&(T=n),_<0)throw new Error("lo must be non-negative");for(k==null&&(k=x.length);_<k;)P=i((_+k)/2),T(w,x[P])<0?k=P:_=P+1;return[].splice.apply(x,[_,_-_].concat(w)),w},o=function(x,w,_){return _==null&&(_=n),x.push(w),y(x,0,x.length-1,_)},s=function(x,w){var _,k;return w==null&&(w=n),_=x.pop(),x.length?(k=x[0],x[0]=_,b(x,0,w)):k=_,k},u=function(x,w,_){var k;return _==null&&(_=n),k=x[0],x[0]=w,b(x,0,_),k},l=function(x,w,_){var k;return _==null&&(_=n),x.length&&_(x[0],w)<0&&(k=[x[0],w],w=k[0],x[0]=k[1],b(x,0,_)),w},a=function(x,w){var _,k,T,P,M,A;for(w==null&&(w=n),P=(function(){A=[];for(var L=0,R=i(x.length/2);0<=R?L<R:L>R;0<=R?L++:L--)A.push(L);return A}).apply(this).reverse(),M=[],k=0,T=P.length;k<T;k++)_=P[k],M.push(b(x,_,w));return M},g=function(x,w,_){var k;if(_==null&&(_=n),k=x.indexOf(w),k!==-1)return y(x,0,k,_),b(x,k,_)},d=function(x,w,_){var k,T,P,M,A;if(_==null&&(_=n),T=x.slice(0,w),!T.length)return T;for(a(T,_),A=x.slice(w),P=0,M=A.length;P<M;P++)k=A[P],l(T,k,_);return T.sort(_).reverse()},p=function(x,w,_){var k,T,P,M,A,L,R,N,F;if(_==null&&(_=n),w*10<=x.length){if(P=x.slice(0,w).sort(_),!P.length)return P;for(T=P[P.length-1],R=x.slice(w),M=0,L=R.length;M<L;M++)k=R[M],_(k,T)<0&&(c(P,k,0,null,_),P.pop(),T=P[P.length-1]);return P}for(a(x,_),F=[],A=0,N=f(w,x.length);0<=N?A<N:A>N;0<=N?++A:--A)F.push(s(x,_));return F},y=function(x,w,_,k){var T,P,M;for(k==null&&(k=n),T=x[_];_>w;){if(M=_-1>>1,P=x[M],k(T,P)<0){x[_]=P,_=M;continue}break}return x[_]=T},b=function(x,w,_){var k,T,P,M,A;for(_==null&&(_=n),T=x.length,A=w,P=x[w],k=2*w+1;k<T;)M=k+1,M<T&&!(_(x[k],x[M])<0)&&(k=M),x[w]=x[k],w=k,k=2*w+1;return x[w]=P,y(x,A,w,_)},r=function(){x.push=o,x.pop=s,x.replace=u,x.pushpop=l,x.heapify=a,x.updateItem=g,x.nlargest=d,x.nsmallest=p;function x(w){this.cmp=w??n,this.nodes=[]}return x.prototype.push=function(w){return o(this.nodes,w,this.cmp)},x.prototype.pop=function(){return s(this.nodes,this.cmp)},x.prototype.peek=function(){return this.nodes[0]},x.prototype.contains=function(w){return this.nodes.indexOf(w)!==-1},x.prototype.replace=function(w){return u(this.nodes,w,this.cmp)},x.prototype.pushpop=function(w){return l(this.nodes,w,this.cmp)},x.prototype.heapify=function(){return a(this.nodes,this.cmp)},x.prototype.updateItem=function(w){return g(this.nodes,w,this.cmp)},x.prototype.clear=function(){return this.nodes=[]},x.prototype.empty=function(){return this.nodes.length===0},x.prototype.size=function(){return this.nodes.length},x.prototype.clone=function(){var w;return w=new x,w.nodes=this.nodes.slice(0),w},x.prototype.toArray=function(){return this.nodes.slice(0)},x.prototype.insert=x.prototype.push,x.prototype.top=x.prototype.peek,x.prototype.front=x.prototype.peek,x.prototype.has=x.prototype.contains,x.prototype.copy=x.prototype.clone,x}(),function(x,w){return t.exports=w()}(this,function(){return r})}).call(eq)}(td)),td.exports}var em,fw;function rq(){return fw||(fw=1,em=tq()),em}var nq=rq(),p0=c0(nq),iq=Or({root:null,weight:function(e){return 1},directed:!1}),aq={dijkstra:function(e){if(!Tt(e)){var r=arguments;e={root:r[0],weight:r[1],directed:r[2]}}var n=iq(e),i=n.root,a=n.weight,s=n.directed,o=this,l=a,u=Ke(i)?this.filter(i)[0]:i[0],c={},f={},d={},p=this.byGroup(),g=p.nodes,y=p.edges;y.unmergeBy(function(X){return X.isLoop()});for(var b=function(K){return c[K.id()]},x=function(K,W){c[K.id()]=W,w.updateItem(K)},w=new p0(function(X,K){return b(X)-b(K)}),_=0;_<g.length;_++){var k=g[_];c[k.id()]=k.same(u)?0:1/0,w.push(k)}for(var T=function(K,W){for(var H=(s?K.edgesTo(W):K.edgesWith(W)).intersect(y),ee=1/0,re,G=0;G<H.length;G++){var Z=H[G],ue=l(Z);(ue<ee||!re)&&(ee=ue,re=Z)}return{edge:re,dist:ee}};w.size()>0;){var P=w.pop(),M=b(P),A=P.id();if(d[A]=M,M!==1/0)for(var L=P.neighborhood().intersect(g),R=0;R<L.length;R++){var N=L[R],F=N.id(),$=T(P,N),V=M+$.dist;V<b(N)&&(x(N,V),f[F]={node:P,edge:$.edge})}}return{distanceTo:function(K){var W=Ke(K)?g.filter(K)[0]:K[0];return d[W.id()]},pathTo:function(K){var W=Ke(K)?g.filter(K)[0]:K[0],H=[],ee=W,re=ee.id();if(W.length>0)for(H.unshift(W);f[re];){var G=f[re];H.unshift(G.edge),H.unshift(G.node),ee=G.node,re=ee.id()}return o.spawn(H)}}}},sq={kruskal:function(e){e=e||function(_){return 1};for(var r=this.byGroup(),n=r.nodes,i=r.edges,a=n.length,s=new Array(a),o=n,l=function(k){for(var T=0;T<s.length;T++){var P=s[T];if(P.has(k))return T}},u=0;u<a;u++)s[u]=this.spawn(n[u]);for(var c=i.sort(function(_,k){return e(_)-e(k)}),f=0;f<c.length;f++){var d=c[f],p=d.source()[0],g=d.target()[0],y=l(p),b=l(g),x=s[y],w=s[b];y!==b&&(o.merge(d),x.merge(w),s.splice(b,1))}return o}},oq=Or({root:null,goal:null,weight:function(e){return 1},heuristic:function(e){return 0},directed:!1}),lq={aStar:function(e){var r=this.cy(),n=oq(e),i=n.root,a=n.goal,s=n.heuristic,o=n.directed,l=n.weight;i=r.collection(i)[0],a=r.collection(a)[0];var u=i.id(),c=a.id(),f={},d={},p={},g=new p0(function(re,G){return d[re.id()]-d[G.id()]}),y=new Kl,b={},x={},w=function(G,Z){g.push(G),y.add(Z)},_,k,T=function(){_=g.pop(),k=_.id(),y.delete(k)},P=function(G){return y.has(G)};w(i,u),f[u]=0,d[u]=s(i);for(var M=0;g.size()>0;){if(T(),M++,k===c){for(var A=[],L=a,R=c,N=x[R];A.unshift(L),N!=null&&A.unshift(N),L=b[R],L!=null;)R=L.id(),N=x[R];return{found:!0,distance:f[k],path:this.spawn(A),steps:M}}p[k]=!0;for(var F=_._private.edges,$=0;$<F.length;$++){var V=F[$];if(this.hasElementWithId(V.id())&&!(o&&V.data("source")!==k)){var X=V.source(),K=V.target(),W=X.id()!==k?X:K,H=W.id();if(this.hasElementWithId(H)&&!p[H]){var ee=f[k]+l(V);if(!P(H)){f[H]=ee,d[H]=ee+s(W),w(W,H),b[H]=_,x[H]=V;continue}ee<f[H]&&(f[H]=ee,d[H]=ee+s(W),b[H]=_,x[H]=V)}}}}return{found:!1,distance:void 0,path:void 0,steps:M}}},uq=Or({weight:function(e){return 1},directed:!1}),cq={floydWarshall:function(e){for(var r=this.cy(),n=uq(e),i=n.weight,a=n.directed,s=i,o=this.byGroup(),l=o.nodes,u=o.edges,c=l.length,f=c*c,d=function(ue){return l.indexOf(ue)},p=function(ue){return l[ue]},g=new Array(f),y=0;y<f;y++){var b=y%c,x=(y-b)/c;x===b?g[y]=0:g[y]=1/0}for(var w=new Array(f),_=new Array(f),k=0;k<u.length;k++){var T=u[k],P=T.source()[0],M=T.target()[0];if(P!==M){var A=d(P),L=d(M),R=A*c+L,N=s(T);if(g[R]>N&&(g[R]=N,w[R]=L,_[R]=T),!a){var F=L*c+A;!a&&g[F]>N&&(g[F]=N,w[F]=A,_[F]=T)}}}for(var $=0;$<c;$++)for(var V=0;V<c;V++)for(var X=V*c+$,K=0;K<c;K++){var W=V*c+K,H=$*c+K;g[X]+g[H]<g[W]&&(g[W]=g[X]+g[H],w[W]=w[X])}var ee=function(ue){return(Ke(ue)?r.filter(ue):ue)[0]},re=function(ue){return d(ee(ue))},G={distance:function(ue,pe){var ge=re(ue),fe=re(pe);return g[ge*c+fe]},path:function(ue,pe){var ge=re(ue),fe=re(pe),Se=p(ge);if(ge===fe)return Se.collection();if(w[ge*c+fe]==null)return r.collection();var Te=r.collection(),ve=ge,se;for(Te.merge(Se);ge!==fe;)ve=ge,ge=w[ge*c+fe],se=_[ve*c+ge],Te.merge(se),Te.merge(p(ge));return Te}};return G}},fq=Or({weight:function(e){return 1},directed:!1,root:null}),dq={bellmanFord:function(e){var r=this,n=fq(e),i=n.weight,a=n.directed,s=n.root,o=i,l=this,u=this.cy(),c=this.byGroup(),f=c.edges,d=c.nodes,p=d.length,g=new ca,y=!1,b=[];s=u.collection(s)[0],f.unmergeBy(function(Et){return Et.isLoop()});for(var x=f.length,w=function(Be){var ze=g.get(Be.id());return ze||(ze={},g.set(Be.id(),ze)),ze},_=function(Be){return(Ke(Be)?u.$(Be):Be)[0]},k=function(Be){return w(_(Be)).dist},T=function(Be){for(var ze=arguments.length>1&&arguments[1]!==void 0?arguments[1]:s,Ye=_(Be),rt=[],Ze=Ye;;){if(Ze==null)return r.spawn();var tt=w(Ze),at=tt.edge,ut=tt.pred;if(rt.unshift(Ze[0]),Ze.same(ze)&&rt.length>0)break;at!=null&&rt.unshift(at),Ze=ut}return l.spawn(rt)},P=0;P<p;P++){var M=d[P],A=w(M);M.same(s)?A.dist=0:A.dist=1/0,A.pred=null,A.edge=null}for(var L=!1,R=function(Be,ze,Ye,rt,Ze,tt){var at=rt.dist+tt;at<Ze.dist&&!Ye.same(rt.edge)&&(Ze.dist=at,Ze.pred=Be,Ze.edge=Ye,L=!0)},N=1;N<p;N++){L=!1;for(var F=0;F<x;F++){var $=f[F],V=$.source(),X=$.target(),K=o($),W=w(V),H=w(X);R(V,X,$,W,H,K),a||R(X,V,$,H,W,K)}if(!L)break}if(L)for(var ee=[],re=0;re<x;re++){var G=f[re],Z=G.source(),ue=G.target(),pe=o(G),ge=w(Z).dist,fe=w(ue).dist;if(ge+pe<fe||!a&&fe+pe<ge)if(y||(It("Graph contains a negative weight cycle for Bellman-Ford"),y=!0),e.findNegativeWeightCycles!==!1){var Se=[];ge+pe<fe&&Se.push(Z),!a&&fe+pe<ge&&Se.push(ue);for(var Te=Se.length,ve=0;ve<Te;ve++){var se=Se[ve],ye=[se];ye.push(w(se).edge);for(var we=w(se).pred;ye.indexOf(we)===-1;)ye.push(we),ye.push(w(we).edge),we=w(we).pred;ye=ye.slice(ye.indexOf(we));for(var Re=ye[0].id(),Ve=0,st=2;st<ye.length;st+=2)ye[st].id()<Re&&(Re=ye[st].id(),Ve=st);ye=ye.slice(Ve).concat(ye.slice(0,Ve)),ye.push(ye[0]);var Lt=ye.map(function(Et){return Et.id()}).join(",");ee.indexOf(Lt)===-1&&(b.push(l.spawn(ye)),ee.push(Lt))}}else break}return{distanceTo:k,pathTo:T,hasNegativeWeightCycle:y,negativeWeightCycles:b}}},hq=Math.sqrt(2),pq=function(e,r,n){n.length===0&&or("Karger-Stein must be run on a connected (sub)graph");for(var i=n[e],a=i[1],s=i[2],o=r[a],l=r[s],u=n,c=u.length-1;c>=0;c--){var f=u[c],d=f[1],p=f[2];(r[d]===o&&r[p]===l||r[d]===l&&r[p]===o)&&u.splice(c,1)}for(var g=0;g<u.length;g++){var y=u[g];y[1]===l?(u[g]=y.slice(),u[g][1]=o):y[2]===l&&(u[g]=y.slice(),u[g][2]=o)}for(var b=0;b<r.length;b++)r[b]===l&&(r[b]=o);return u},tm=function(e,r,n,i){for(;n>i;){var a=Math.floor(Math.random()*r.length);r=pq(a,e,r),n--}return r},gq={kargerStein:function(){var e=this,r=this.byGroup(),n=r.nodes,i=r.edges;i.unmergeBy(function(H){return H.isLoop()});var a=n.length,s=i.length,o=Math.ceil(Math.pow(Math.log(a)/Math.LN2,2)),l=Math.floor(a/hq);if(a<2){or("At least 2 nodes are required for Karger-Stein algorithm");return}for(var u=[],c=0;c<s;c++){var f=i[c];u.push([c,n.indexOf(f.source()),n.indexOf(f.target())])}for(var d=1/0,p=[],g=new Array(a),y=new Array(a),b=new Array(a),x=function(ee,re){for(var G=0;G<a;G++)re[G]=ee[G]},w=0;w<=o;w++){for(var _=0;_<a;_++)y[_]=_;var k=tm(y,u.slice(),a,l),T=k.slice();x(y,b);var P=tm(y,k,l,2),M=tm(b,T,l,2);P.length<=M.length&&P.length<d?(d=P.length,p=P,x(y,g)):M.length<=P.length&&M.length<d&&(d=M.length,p=M,x(b,g))}for(var A=this.spawn(p.map(function(H){return i[H[0]]})),L=this.spawn(),R=this.spawn(),N=g[0],F=0;F<g.length;F++){var $=g[F],V=n[F];$===N?L.merge(V):R.merge(V)}var X=function(ee){var re=e.spawn();return ee.forEach(function(G){re.merge(G),G.connectedEdges().forEach(function(Z){e.contains(Z)&&!A.contains(Z)&&re.merge(Z)})}),re},K=[X(L),X(R)],W={cut:A,components:K,partition1:L,partition2:R};return W}},mq=function(e){return{x:e.x,y:e.y}},rp=function(e,r,n){return{x:e.x*r+n.x,y:e.y*r+n.y}},xk=function(e,r,n){return{x:(e.x-n.x)/r,y:(e.y-n.y)/r}},sl=function(e){return{x:e[0],y:e[1]}},vq=function(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,i=1/0,a=r;a<n;a++){var s=e[a];isFinite(s)&&(i=Math.min(s,i))}return i},yq=function(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,i=-1/0,a=r;a<n;a++){var s=e[a];isFinite(s)&&(i=Math.max(s,i))}return i},xq=function(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,i=0,a=0,s=r;s<n;s++){var o=e[s];isFinite(o)&&(i+=o,a++)}return i/a},bq=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0;i?e=e.slice(r,n):(n<e.length&&e.splice(n,e.length-n),r>0&&e.splice(0,r));for(var o=0,l=e.length-1;l>=0;l--){var u=e[l];s?isFinite(u)||(e[l]=-1/0,o++):e.splice(l,1)}a&&e.sort(function(d,p){return d-p});var c=e.length,f=Math.floor(c/2);return c%2!==0?e[f+1+o]:(e[f-1+o]+e[f+o])/2},wq=function(e){return Math.PI*e/180},wf=function(e,r){return Math.atan2(r,e)-Math.PI/2},V2=Math.log2||function(t){return Math.log(t)/Math.log(2)},bk=function(e){return e>0?1:e<0?-1:0},co=function(e,r){return Math.sqrt($s(e,r))},$s=function(e,r){var n=r.x-e.x,i=r.y-e.y;return n*n+i*i},_q=function(e){for(var r=e.length,n=0,i=0;i<r;i++)n+=e[i];for(var a=0;a<r;a++)e[a]=e[a]/n;return e},Br=function(e,r,n,i){return(1-i)*(1-i)*e+2*(1-i)*i*r+i*i*n},xl=function(e,r,n,i){return{x:Br(e.x,r.x,n.x,i),y:Br(e.y,r.y,n.y,i)}},Sq=function(e,r,n,i){var a={x:r.x-e.x,y:r.y-e.y},s=co(e,r),o={x:a.x/s,y:a.y/s};return n=n??0,i=i??n*s,{x:e.x+o.x*i,y:e.y+o.y*i}},$c=function(e,r,n){return Math.max(e,Math.min(n,r))},Rn=function(e){if(e==null)return{x1:1/0,y1:1/0,x2:-1/0,y2:-1/0,w:0,h:0};if(e.x1!=null&&e.y1!=null){if(e.x2!=null&&e.y2!=null&&e.x2>=e.x1&&e.y2>=e.y1)return{x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2,w:e.x2-e.x1,h:e.y2-e.y1};if(e.w!=null&&e.h!=null&&e.w>=0&&e.h>=0)return{x1:e.x1,y1:e.y1,x2:e.x1+e.w,y2:e.y1+e.h,w:e.w,h:e.h}}},kq=function(e){return{x1:e.x1,x2:e.x2,w:e.w,y1:e.y1,y2:e.y2,h:e.h}},Tq=function(e){e.x1=1/0,e.y1=1/0,e.x2=-1/0,e.y2=-1/0,e.w=0,e.h=0},Eq=function(e,r,n){return{x1:e.x1+r,x2:e.x2+r,y1:e.y1+n,y2:e.y2+n,w:e.w,h:e.h}},wk=function(e,r){e.x1=Math.min(e.x1,r.x1),e.x2=Math.max(e.x2,r.x2),e.w=e.x2-e.x1,e.y1=Math.min(e.y1,r.y1),e.y2=Math.max(e.y2,r.y2),e.h=e.y2-e.y1},Cq=function(e,r,n){e.x1=Math.min(e.x1,r),e.x2=Math.max(e.x2,r),e.w=e.x2-e.x1,e.y1=Math.min(e.y1,n),e.y2=Math.max(e.y2,n),e.h=e.y2-e.y1},rd=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return e.x1-=r,e.x2+=r,e.y1-=r,e.y2+=r,e.w=e.x2-e.x1,e.h=e.y2-e.y1,e},nd=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[0],n,i,a,s;if(r.length===1)n=i=a=s=r[0];else if(r.length===2)n=a=r[0],s=i=r[1];else if(r.length===4){var o=jr(r,4);n=o[0],i=o[1],a=o[2],s=o[3]}return e.x1-=s,e.x2+=i,e.y1-=n,e.y2+=a,e.w=e.x2-e.x1,e.h=e.y2-e.y1,e},dw=function(e,r){e.x1=r.x1,e.y1=r.y1,e.x2=r.x2,e.y2=r.y2,e.w=e.x2-e.x1,e.h=e.y2-e.y1},U2=function(e,r){return!(e.x1>r.x2||r.x1>e.x2||e.x2<r.x1||r.x2<e.x1||e.y2<r.y1||r.y2<e.y1||e.y1>r.y2||r.y1>e.y2)},$l=function(e,r,n){return e.x1<=r&&r<=e.x2&&e.y1<=n&&n<=e.y2},Mq=function(e,r){return $l(e,r.x,r.y)},_k=function(e,r){return $l(e,r.x1,r.y1)&&$l(e,r.x2,r.y2)},Sk=function(e,r,n,i,a,s,o){var l=arguments.length>7&&arguments[7]!==void 0?arguments[7]:"auto",u=l==="auto"?fo(a,s):l,c=a/2,f=s/2;u=Math.min(u,c,f);var d=u!==c,p=u!==f,g;if(d){var y=n-c+u-o,b=i-f-o,x=n+c-u+o,w=b;if(g=Wa(e,r,n,i,y,b,x,w,!1),g.length>0)return g}if(p){var _=n+c+o,k=i-f+u-o,T=_,P=i+f-u+o;if(g=Wa(e,r,n,i,_,k,T,P,!1),g.length>0)return g}if(d){var M=n-c+u-o,A=i+f+o,L=n+c-u+o,R=A;if(g=Wa(e,r,n,i,M,A,L,R,!1),g.length>0)return g}if(p){var N=n-c-o,F=i-f+u-o,$=N,V=i+f-u+o;if(g=Wa(e,r,n,i,N,F,$,V,!1),g.length>0)return g}var X;{var K=n-c+u,W=i-f+u;if(X=$u(e,r,n,i,K,W,u+o),X.length>0&&X[0]<=K&&X[1]<=W)return[X[0],X[1]]}{var H=n+c-u,ee=i-f+u;if(X=$u(e,r,n,i,H,ee,u+o),X.length>0&&X[0]>=H&&X[1]<=ee)return[X[0],X[1]]}{var re=n+c-u,G=i+f-u;if(X=$u(e,r,n,i,re,G,u+o),X.length>0&&X[0]>=re&&X[1]>=G)return[X[0],X[1]]}{var Z=n-c+u,ue=i+f-u;if(X=$u(e,r,n,i,Z,ue,u+o),X.length>0&&X[0]<=Z&&X[1]>=ue)return[X[0],X[1]]}return[]},Pq=function(e,r,n,i,a,s,o){var l=o,u=Math.min(n,a),c=Math.max(n,a),f=Math.min(i,s),d=Math.max(i,s);return u-l<=e&&e<=c+l&&f-l<=r&&r<=d+l},Dq=function(e,r,n,i,a,s,o,l,u){var c={x1:Math.min(n,o,a)-u,x2:Math.max(n,o,a)+u,y1:Math.min(i,l,s)-u,y2:Math.max(i,l,s)+u};return!(e<c.x1||e>c.x2||r<c.y1||r>c.y2)},Aq=function(e,r,n,i){n-=i;var a=r*r-4*e*n;if(a<0)return[];var s=Math.sqrt(a),o=2*e,l=(-r+s)/o,u=(-r-s)/o;return[l,u]},Iq=function(e,r,n,i,a){var s=1e-5;e===0&&(e=s),r/=e,n/=e,i/=e;var o,l,u,c,f,d,p,g;if(l=(3*n-r*r)/9,u=-(27*i)+r*(9*n-2*(r*r)),u/=54,o=l*l*l+u*u,a[1]=0,p=r/3,o>0){f=u+Math.sqrt(o),f=f<0?-Math.pow(-f,1/3):Math.pow(f,1/3),d=u-Math.sqrt(o),d=d<0?-Math.pow(-d,1/3):Math.pow(d,1/3),a[0]=-p+f+d,p+=(f+d)/2,a[4]=a[2]=-p,p=Math.sqrt(3)*(-d+f)/2,a[3]=p,a[5]=-p;return}if(a[5]=a[3]=0,o===0){g=u<0?-Math.pow(-u,1/3):Math.pow(u,1/3),a[0]=-p+2*g,a[4]=a[2]=-(g+p);return}l=-l,c=l*l*l,c=Math.acos(u/Math.sqrt(c)),g=2*Math.sqrt(l),a[0]=-p+g*Math.cos(c/3),a[2]=-p+g*Math.cos((c+2*Math.PI)/3),a[4]=-p+g*Math.cos((c+4*Math.PI)/3)},Lq=function(e,r,n,i,a,s,o,l){var u=1*n*n-4*n*a+2*n*o+4*a*a-4*a*o+o*o+i*i-4*i*s+2*i*l+4*s*s-4*s*l+l*l,c=1*9*n*a-3*n*n-3*n*o-6*a*a+3*a*o+9*i*s-3*i*i-3*i*l-6*s*s+3*s*l,f=1*3*n*n-6*n*a+n*o-n*e+2*a*a+2*a*e-o*e+3*i*i-6*i*s+i*l-i*r+2*s*s+2*s*r-l*r,d=1*n*a-n*n+n*e-a*e+i*s-i*i+i*r-s*r,p=[];Iq(u,c,f,d,p);for(var g=1e-7,y=[],b=0;b<6;b+=2)Math.abs(p[b+1])<g&&p[b]>=0&&p[b]<=1&&y.push(p[b]);y.push(1),y.push(0);for(var x=-1,w,_,k,T=0;T<y.length;T++)w=Math.pow(1-y[T],2)*n+2*(1-y[T])*y[T]*a+y[T]*y[T]*o,_=Math.pow(1-y[T],2)*i+2*(1-y[T])*y[T]*s+y[T]*y[T]*l,k=Math.pow(w-e,2)+Math.pow(_-r,2),x>=0?k<x&&(x=k):x=k;return x},Rq=function(e,r,n,i,a,s){var o=[e-n,r-i],l=[a-n,s-i],u=l[0]*l[0]+l[1]*l[1],c=o[0]*o[0]+o[1]*o[1],f=o[0]*l[0]+o[1]*l[1],d=f*f/u;return f<0?c:d>u?(e-a)*(e-a)+(r-s)*(r-s):c-d},Mn=function(e,r,n){for(var i,a,s,o,l,u=0,c=0;c<n.length/2;c++)if(i=n[c*2],a=n[c*2+1],c+1<n.length/2?(s=n[(c+1)*2],o=n[(c+1)*2+1]):(s=n[(c+1-n.length/2)*2],o=n[(c+1-n.length/2)*2+1]),!(i==e&&s==e))if(i>=e&&e>=s||i<=e&&e<=s)l=(e-i)/(s-i)*(o-a)+a,l>r&&u++;else continue;return u%2!==0},wa=function(e,r,n,i,a,s,o,l,u){var c=new Array(n.length),f;l[0]!=null?(f=Math.atan(l[1]/l[0]),l[0]<0?f=f+Math.PI/2:f=-f-Math.PI/2):f=l;for(var d=Math.cos(-f),p=Math.sin(-f),g=0;g<c.length/2;g++)c[g*2]=s/2*(n[g*2]*d-n[g*2+1]*p),c[g*2+1]=o/2*(n[g*2+1]*d+n[g*2]*p),c[g*2]+=i,c[g*2+1]+=a;var y;if(u>0){var b=lh(c,-u);y=oh(b)}else y=c;return Mn(e,r,y)},Oq=function(e,r,n,i,a,s,o,l){for(var u=new Array(n.length*2),c=0;c<l.length;c++){var f=l[c];u[c*4+0]=f.startX,u[c*4+1]=f.startY,u[c*4+2]=f.stopX,u[c*4+3]=f.stopY;var d=Math.pow(f.cx-e,2)+Math.pow(f.cy-r,2);if(d<=Math.pow(f.radius,2))return!0}return Mn(e,r,u)},oh=function(e){for(var r=new Array(e.length/2),n,i,a,s,o,l,u,c,f=0;f<e.length/4;f++){n=e[f*4],i=e[f*4+1],a=e[f*4+2],s=e[f*4+3],f<e.length/4-1?(o=e[(f+1)*4],l=e[(f+1)*4+1],u=e[(f+1)*4+2],c=e[(f+1)*4+3]):(o=e[0],l=e[1],u=e[2],c=e[3]);var d=Wa(n,i,a,s,o,l,u,c,!0);r[f*2]=d[0],r[f*2+1]=d[1]}return r},lh=function(e,r){for(var n=new Array(e.length*2),i,a,s,o,l=0;l<e.length/2;l++){i=e[l*2],a=e[l*2+1],l<e.length/2-1?(s=e[(l+1)*2],o=e[(l+1)*2+1]):(s=e[0],o=e[1]);var u=o-a,c=-(s-i),f=Math.sqrt(u*u+c*c),d=u/f,p=c/f;n[l*4]=i+d*r,n[l*4+1]=a+p*r,n[l*4+2]=s+d*r,n[l*4+3]=o+p*r}return n},Nq=function(e,r,n,i,a,s){var o=n-e,l=i-r;o/=a,l/=s;var u=Math.sqrt(o*o+l*l),c=u-1;if(c<0)return[];var f=c/u;return[(n-e)*f+e,(i-r)*f+r]},Xs=function(e,r,n,i,a,s,o){return e-=a,r-=s,e/=n/2+o,r/=i/2+o,e*e+r*r<=1},$u=function(e,r,n,i,a,s,o){var l=[n-e,i-r],u=[e-a,r-s],c=l[0]*l[0]+l[1]*l[1],f=2*(u[0]*l[0]+u[1]*l[1]),d=u[0]*u[0]+u[1]*u[1]-o*o,p=f*f-4*c*d;if(p<0)return[];var g=(-f+Math.sqrt(p))/(2*c),y=(-f-Math.sqrt(p))/(2*c),b=Math.min(g,y),x=Math.max(g,y),w=[];if(b>=0&&b<=1&&w.push(b),x>=0&&x<=1&&w.push(x),w.length===0)return[];var _=w[0]*l[0]+e,k=w[0]*l[1]+r;if(w.length>1){if(w[0]==w[1])return[_,k];var T=w[1]*l[0]+e,P=w[1]*l[1]+r;return[_,k,T,P]}else return[_,k]},rm=function(e,r,n){return r<=e&&e<=n||n<=e&&e<=r?e:e<=r&&r<=n||n<=r&&r<=e?r:n},Wa=function(e,r,n,i,a,s,o,l,u){var c=e-a,f=n-e,d=o-a,p=r-s,g=i-r,y=l-s,b=d*p-y*c,x=f*p-g*c,w=y*f-d*g;if(w!==0){var _=b/w,k=x/w,T=.001,P=0-T,M=1+T;return P<=_&&_<=M&&P<=k&&k<=M?[e+_*f,r+_*g]:u?[e+_*f,r+_*g]:[]}else return b===0||x===0?rm(e,n,o)===o?[o,l]:rm(e,n,a)===a?[a,s]:rm(a,o,n)===n?[n,i]:[]:[]},jc=function(e,r,n,i,a,s,o,l){var u=[],c,f=new Array(n.length),d=!0;s==null&&(d=!1);var p;if(d){for(var g=0;g<f.length/2;g++)f[g*2]=n[g*2]*s+i,f[g*2+1]=n[g*2+1]*o+a;if(l>0){var y=lh(f,-l);p=oh(y)}else p=f}else p=n;for(var b,x,w,_,k=0;k<p.length/2;k++)b=p[k*2],x=p[k*2+1],k<p.length/2-1?(w=p[(k+1)*2],_=p[(k+1)*2+1]):(w=p[0],_=p[1]),c=Wa(e,r,i,a,b,x,w,_),c.length!==0&&u.push(c[0],c[1]);return u},zq=function(e,r,n,i,a,s,o,l,u){var c=[],f,d=new Array(n.length*2);u.forEach(function(w,_){_===0?(d[d.length-2]=w.startX,d[d.length-1]=w.startY):(d[_*4-2]=w.startX,d[_*4-1]=w.startY),d[_*4]=w.stopX,d[_*4+1]=w.stopY,f=$u(e,r,i,a,w.cx,w.cy,w.radius),f.length!==0&&c.push(f[0],f[1])});for(var p=0;p<d.length/4;p++)f=Wa(e,r,i,a,d[p*4],d[p*4+1],d[p*4+2],d[p*4+3],!1),f.length!==0&&c.push(f[0],f[1]);if(c.length>2){for(var g=[c[0],c[1]],y=Math.pow(g[0]-e,2)+Math.pow(g[1]-r,2),b=1;b<c.length/2;b++){var x=Math.pow(c[b*2]-e,2)+Math.pow(c[b*2+1]-r,2);x<=y&&(g[0]=c[b*2],g[1]=c[b*2+1],y=x)}return g}return c},_f=function(e,r,n){var i=[e[0]-r[0],e[1]-r[1]],a=Math.sqrt(i[0]*i[0]+i[1]*i[1]),s=(a-n)/a;return s<0&&(s=1e-5),[r[0]+s*i[0],r[1]+s*i[1]]},vn=function(e,r){var n=j1(e,r);return n=kk(n),n},kk=function(e){for(var r,n,i=e.length/2,a=1/0,s=1/0,o=-1/0,l=-1/0,u=0;u<i;u++)r=e[2*u],n=e[2*u+1],a=Math.min(a,r),o=Math.max(o,r),s=Math.min(s,n),l=Math.max(l,n);for(var c=2/(o-a),f=2/(l-s),d=0;d<i;d++)r=e[2*d]=e[2*d]*c,n=e[2*d+1]=e[2*d+1]*f,a=Math.min(a,r),o=Math.max(o,r),s=Math.min(s,n),l=Math.max(l,n);if(s<-1)for(var p=0;p<i;p++)n=e[2*p+1]=e[2*p+1]+(-1-s);return e},j1=function(e,r){var n=1/e*2*Math.PI,i=e%2===0?Math.PI/2+n/2:Math.PI/2;i+=r;for(var a=new Array(e*2),s,o=0;o<e;o++)s=o*n+i,a[2*o]=Math.cos(s),a[2*o+1]=Math.sin(-s);return a},fo=function(e,r){return Math.min(e/4,r/4,8)},Tk=function(e,r){return Math.min(e/10,r/10,8)},W2=function(){return 8},Bq=function(e,r,n){return[e-2*r+n,2*(r-e),e]},q1=function(e,r){return{heightOffset:Math.min(15,.05*r),widthOffset:Math.min(100,.25*e),ctrlPtOffsetPct:.05}},Fq=Or({dampingFactor:.8,precision:1e-6,iterations:200,weight:function(e){return 1}}),$q={pageRank:function(e){for(var r=Fq(e),n=r.dampingFactor,i=r.precision,a=r.iterations,s=r.weight,o=this._private.cy,l=this.byGroup(),u=l.nodes,c=l.edges,f=u.length,d=f*f,p=c.length,g=new Array(d),y=new Array(f),b=(1-n)/f,x=0;x<f;x++){for(var w=0;w<f;w++){var _=x*f+w;g[_]=0}y[x]=0}for(var k=0;k<p;k++){var T=c[k],P=T.data("source"),M=T.data("target");if(P!==M){var A=u.indexOfId(P),L=u.indexOfId(M),R=s(T),N=L*f+A;g[N]+=R,y[A]+=R}}for(var F=1/f+b,$=0;$<f;$++)if(y[$]===0)for(var V=0;V<f;V++){var X=V*f+$;g[X]=F}else for(var K=0;K<f;K++){var W=K*f+$;g[W]=g[W]/y[$]+b}for(var H=new Array(f),ee=new Array(f),re,G=0;G<f;G++)H[G]=1;for(var Z=0;Z<a;Z++){for(var ue=0;ue<f;ue++)ee[ue]=0;for(var pe=0;pe<f;pe++)for(var ge=0;ge<f;ge++){var fe=pe*f+ge;ee[pe]+=g[fe]*H[ge]}_q(ee),re=H,H=ee,ee=re;for(var Se=0,Te=0;Te<f;Te++){var ve=re[Te]-H[Te];Se+=ve*ve}if(Se<i)break}var se={rank:function(we){return we=o.collection(we)[0],H[u.indexOf(we)]}};return se}},hw=Or({root:null,weight:function(e){return 1},directed:!1,alpha:0}),bl={degreeCentralityNormalized:function(e){e=hw(e);var r=this.cy(),n=this.nodes(),i=n.length;if(e.directed){for(var c={},f={},d=0,p=0,g=0;g<i;g++){var y=n[g],b=y.id();e.root=y;var x=this.degreeCentrality(e);d<x.indegree&&(d=x.indegree),p<x.outdegree&&(p=x.outdegree),c[b]=x.indegree,f[b]=x.outdegree}return{indegree:function(_){return d==0?0:(Ke(_)&&(_=r.filter(_)),c[_.id()]/d)},outdegree:function(_){return p===0?0:(Ke(_)&&(_=r.filter(_)),f[_.id()]/p)}}}else{for(var a={},s=0,o=0;o<i;o++){var l=n[o];e.root=l;var u=this.degreeCentrality(e);s<u.degree&&(s=u.degree),a[l.id()]=u.degree}return{degree:function(_){return s===0?0:(Ke(_)&&(_=r.filter(_)),a[_.id()]/s)}}}},degreeCentrality:function(e){e=hw(e);var r=this.cy(),n=this,i=e,a=i.root,s=i.weight,o=i.directed,l=i.alpha;if(a=r.collection(a)[0],o){for(var p=a.connectedEdges(),g=p.filter(function(P){return P.target().same(a)&&n.has(P)}),y=p.filter(function(P){return P.source().same(a)&&n.has(P)}),b=g.length,x=y.length,w=0,_=0,k=0;k<g.length;k++)w+=s(g[k]);for(var T=0;T<y.length;T++)_+=s(y[T]);return{indegree:Math.pow(b,1-l)*Math.pow(w,l),outdegree:Math.pow(x,1-l)*Math.pow(_,l)}}else{for(var u=a.connectedEdges().intersection(n),c=u.length,f=0,d=0;d<u.length;d++)f+=s(u[d]);return{degree:Math.pow(c,1-l)*Math.pow(f,l)}}}};bl.dc=bl.degreeCentrality;bl.dcn=bl.degreeCentralityNormalised=bl.degreeCentralityNormalized;var pw=Or({harmonic:!0,weight:function(){return 1},directed:!1,root:null}),wl={closenessCentralityNormalized:function(e){for(var r=pw(e),n=r.harmonic,i=r.weight,a=r.directed,s=this.cy(),o={},l=0,u=this.nodes(),c=this.floydWarshall({weight:i,directed:a}),f=0;f<u.length;f++){for(var d=0,p=u[f],g=0;g<u.length;g++)if(f!==g){var y=c.distance(p,u[g]);n?d+=1/y:d+=y}n||(d=1/d),l<d&&(l=d),o[p.id()]=d}return{closeness:function(x){return l==0?0:(Ke(x)?x=s.filter(x)[0].id():x=x.id(),o[x]/l)}}},closenessCentrality:function(e){var r=pw(e),n=r.root,i=r.weight,a=r.directed,s=r.harmonic;n=this.filter(n)[0];for(var o=this.dijkstra({root:n,weight:i,directed:a}),l=0,u=this.nodes(),c=0;c<u.length;c++){var f=u[c];if(!f.same(n)){var d=o.distanceTo(f);s?l+=1/d:l+=d}}return s?l:1/l}};wl.cc=wl.closenessCentrality;wl.ccn=wl.closenessCentralityNormalised=wl.closenessCentralityNormalized;var jq=Or({weight:null,directed:!1}),H1={betweennessCentrality:function(e){for(var r=jq(e),n=r.directed,i=r.weight,a=i!=null,s=this.cy(),o=this.nodes(),l={},u={},c=0,f={set:function(_,k){u[_]=k,k>c&&(c=k)},get:function(_){return u[_]}},d=0;d<o.length;d++){var p=o[d],g=p.id();n?l[g]=p.outgoers().nodes():l[g]=p.openNeighborhood().nodes(),f.set(g,0)}for(var y=function(){for(var _=o[b].id(),k=[],T={},P={},M={},A=new p0(function(pe,ge){return M[pe]-M[ge]}),L=0;L<o.length;L++){var R=o[L].id();T[R]=[],P[R]=0,M[R]=1/0}for(P[_]=1,M[_]=0,A.push(_);!A.empty();){var N=A.pop();if(k.push(N),a)for(var F=0;F<l[N].length;F++){var $=l[N][F],V=s.getElementById(N),X=void 0;V.edgesTo($).length>0?X=V.edgesTo($)[0]:X=$.edgesTo(V)[0];var K=i(X);$=$.id(),M[$]>M[N]+K&&(M[$]=M[N]+K,A.nodes.indexOf($)<0?A.push($):A.updateItem($),P[$]=0,T[$]=[]),M[$]==M[N]+K&&(P[$]=P[$]+P[N],T[$].push(N))}else for(var W=0;W<l[N].length;W++){var H=l[N][W].id();M[H]==1/0&&(A.push(H),M[H]=M[N]+1),M[H]==M[N]+1&&(P[H]=P[H]+P[N],T[H].push(N))}}for(var ee={},re=0;re<o.length;re++)ee[o[re].id()]=0;for(;k.length>0;){for(var G=k.pop(),Z=0;Z<T[G].length;Z++){var ue=T[G][Z];ee[ue]=ee[ue]+P[ue]/P[G]*(1+ee[G])}G!=o[b].id()&&f.set(G,f.get(G)+ee[G])}},b=0;b<o.length;b++)y();var x={betweenness:function(_){var k=s.collection(_).id();return f.get(k)},betweennessNormalized:function(_){if(c==0)return 0;var k=s.collection(_).id();return f.get(k)/c}};return x.betweennessNormalised=x.betweennessNormalized,x}};H1.bc=H1.betweennessCentrality;var qq=Or({expandFactor:2,inflateFactor:2,multFactor:1,maxIterations:20,attributes:[function(t){return 1}]}),Hq=function(e){return qq(e)},Vq=function(e,r){for(var n=0,i=0;i<r.length;i++)n+=r[i](e);return n},Uq=function(e,r,n){for(var i=0;i<r;i++)e[i*r+i]=n},Ek=function(e,r){for(var n,i=0;i<r;i++){n=0;for(var a=0;a<r;a++)n+=e[a*r+i];for(var s=0;s<r;s++)e[s*r+i]=e[s*r+i]/n}},Wq=function(e,r,n){for(var i=new Array(n*n),a=0;a<n;a++){for(var s=0;s<n;s++)i[a*n+s]=0;for(var o=0;o<n;o++)for(var l=0;l<n;l++)i[a*n+l]+=e[a*n+o]*r[o*n+l]}return i},Gq=function(e,r,n){for(var i=e.slice(0),a=1;a<n;a++)e=Wq(e,i,r);return e},Yq=function(e,r,n){for(var i=new Array(r*r),a=0;a<r*r;a++)i[a]=Math.pow(e[a],n);return Ek(i,r),i},Xq=function(e,r,n,i){for(var a=0;a<n;a++){var s=Math.round(e[a]*Math.pow(10,i))/Math.pow(10,i),o=Math.round(r[a]*Math.pow(10,i))/Math.pow(10,i);if(s!==o)return!1}return!0},Kq=function(e,r,n,i){for(var a=[],s=0;s<r;s++){for(var o=[],l=0;l<r;l++)Math.round(e[s*r+l]*1e3)/1e3>0&&o.push(n[l]);o.length!==0&&a.push(i.collection(o))}return a},Zq=function(e,r){for(var n=0;n<e.length;n++)if(!r[n]||e[n].id()!==r[n].id())return!1;return!0},Qq=function(e){for(var r=0;r<e.length;r++)for(var n=0;n<e.length;n++)r!=n&&Zq(e[r],e[n])&&e.splice(n,1);return e},gw=function(e){for(var r=this.nodes(),n=this.edges(),i=this.cy(),a=Hq(e),s={},o=0;o<r.length;o++)s[r[o].id()]=o;for(var l=r.length,u=l*l,c=new Array(u),f,d=0;d<u;d++)c[d]=0;for(var p=0;p<n.length;p++){var g=n[p],y=s[g.source().id()],b=s[g.target().id()],x=Vq(g,a.attributes);c[y*l+b]+=x,c[b*l+y]+=x}Uq(c,l,a.multFactor),Ek(c,l);for(var w=!0,_=0;w&&_<a.maxIterations;)w=!1,f=Gq(c,l,a.expandFactor),c=Yq(f,l,a.inflateFactor),Xq(c,f,u,4)||(w=!0),_++;var k=Kq(c,l,r,i);return k=Qq(k),k},Jq={markovClustering:gw,mcl:gw},eH=function(e){return e},Ck=function(e,r){return Math.abs(r-e)},mw=function(e,r,n){return e+Ck(r,n)},vw=function(e,r,n){return e+Math.pow(n-r,2)},tH=function(e){return Math.sqrt(e)},rH=function(e,r,n){return Math.max(e,Ck(r,n))},Tu=function(e,r,n,i,a){for(var s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:eH,o=i,l,u,c=0;c<e;c++)l=r(c),u=n(c),o=a(o,l,u);return s(o)},jl={euclidean:function(e,r,n){return e>=2?Tu(e,r,n,0,vw,tH):Tu(e,r,n,0,mw)},squaredEuclidean:function(e,r,n){return Tu(e,r,n,0,vw)},manhattan:function(e,r,n){return Tu(e,r,n,0,mw)},max:function(e,r,n){return Tu(e,r,n,-1/0,rH)}};jl["squared-euclidean"]=jl.squaredEuclidean;jl.squaredeuclidean=jl.squaredEuclidean;function np(t,e,r,n,i,a){var s;return cr(t)?s=t:s=jl[t]||jl.euclidean,e===0&&cr(t)?s(i,a):s(e,r,n,i,a)}var nH=Or({k:2,m:2,sensitivityThreshold:1e-4,distance:"euclidean",maxIterations:10,attributes:[],testMode:!1,testCentroids:null}),G2=function(e){return nH(e)},uh=function(e,r,n,i,a){var s=a!=="kMedoids",o=s?function(f){return n[f]}:function(f){return i[f](n)},l=function(d){return i[d](r)},u=n,c=r;return np(e,i.length,o,l,u,c)},nm=function(e,r,n){for(var i=n.length,a=new Array(i),s=new Array(i),o=new Array(r),l=null,u=0;u<i;u++)a[u]=e.min(n[u]).value,s[u]=e.max(n[u]).value;for(var c=0;c<r;c++){l=[];for(var f=0;f<i;f++)l[f]=Math.random()*(s[f]-a[f])+a[f];o[c]=l}return o},Mk=function(e,r,n,i,a){for(var s=1/0,o=0,l=0;l<r.length;l++){var u=uh(n,e,r[l],i,a);u<s&&(s=u,o=l)}return o},Pk=function(e,r,n){for(var i=[],a=null,s=0;s<r.length;s++)a=r[s],n[a.id()]===e&&i.push(a);return i},iH=function(e,r,n){return Math.abs(r-e)<=n},aH=function(e,r,n){for(var i=0;i<e.length;i++)for(var a=0;a<e[i].length;a++){var s=Math.abs(e[i][a]-r[i][a]);if(s>n)return!1}return!0},sH=function(e,r,n){for(var i=0;i<n;i++)if(e===r[i])return!0;return!1},yw=function(e,r){var n=new Array(r);if(e.length<50)for(var i=0;i<r;i++){for(var a=e[Math.floor(Math.random()*e.length)];sH(a,n,i);)a=e[Math.floor(Math.random()*e.length)];n[i]=a}else for(var s=0;s<r;s++)n[s]=e[Math.floor(Math.random()*e.length)];return n},xw=function(e,r,n){for(var i=0,a=0;a<r.length;a++)i+=uh("manhattan",r[a],e,n,"kMedoids");return i},oH=function(e){var r=this.cy(),n=this.nodes(),i=null,a=G2(e),s=new Array(a.k),o={},l;a.testMode?typeof a.testCentroids=="number"?(a.testCentroids,l=nm(n,a.k,a.attributes)):Rr(a.testCentroids)==="object"?l=a.testCentroids:l=nm(n,a.k,a.attributes):l=nm(n,a.k,a.attributes);for(var u=!0,c=0;u&&c<a.maxIterations;){for(var f=0;f<n.length;f++)i=n[f],o[i.id()]=Mk(i,l,a.distance,a.attributes,"kMeans");u=!1;for(var d=0;d<a.k;d++){var p=Pk(d,n,o);if(p.length!==0){for(var g=a.attributes.length,y=l[d],b=new Array(g),x=new Array(g),w=0;w<g;w++){x[w]=0;for(var _=0;_<p.length;_++)i=p[_],x[w]+=a.attributes[w](i);b[w]=x[w]/p.length,iH(b[w],y[w],a.sensitivityThreshold)||(u=!0)}l[d]=b,s[d]=r.collection(p)}}c++}return s},lH=function(e){var r=this.cy(),n=this.nodes(),i=null,a=G2(e),s=new Array(a.k),o,l={},u,c=new Array(a.k);a.testMode?typeof a.testCentroids=="number"||(Rr(a.testCentroids)==="object"?o=a.testCentroids:o=yw(n,a.k)):o=yw(n,a.k);for(var f=!0,d=0;f&&d<a.maxIterations;){for(var p=0;p<n.length;p++)i=n[p],l[i.id()]=Mk(i,o,a.distance,a.attributes,"kMedoids");f=!1;for(var g=0;g<o.length;g++){var y=Pk(g,n,l);if(y.length!==0){c[g]=xw(o[g],y,a.attributes);for(var b=0;b<y.length;b++)u=xw(y[b],y,a.attributes),u<c[g]&&(c[g]=u,o[g]=y[b],f=!0);s[g]=r.collection(y)}}d++}return s},uH=function(e,r,n,i,a){for(var s,o,l=0;l<r.length;l++)for(var u=0;u<e.length;u++)i[l][u]=Math.pow(n[l][u],a.m);for(var c=0;c<e.length;c++)for(var f=0;f<a.attributes.length;f++){s=0,o=0;for(var d=0;d<r.length;d++)s+=i[d][c]*a.attributes[f](r[d]),o+=i[d][c];e[c][f]=s/o}},cH=function(e,r,n,i,a){for(var s=0;s<e.length;s++)r[s]=e[s].slice();for(var o,l,u,c=2/(a.m-1),f=0;f<n.length;f++)for(var d=0;d<i.length;d++){o=0;for(var p=0;p<n.length;p++)l=uh(a.distance,i[d],n[f],a.attributes,"cmeans"),u=uh(a.distance,i[d],n[p],a.attributes,"cmeans"),o+=Math.pow(l/u,c);e[d][f]=1/o}},fH=function(e,r,n,i){for(var a=new Array(n.k),s=0;s<a.length;s++)a[s]=[];for(var o,l,u=0;u<r.length;u++){o=-1/0,l=-1;for(var c=0;c<r[0].length;c++)r[u][c]>o&&(o=r[u][c],l=c);a[l].push(e[u])}for(var f=0;f<a.length;f++)a[f]=i.collection(a[f]);return a},bw=function(e){var r=this.cy(),n=this.nodes(),i=G2(e),a,s,o,l,u;l=new Array(n.length);for(var c=0;c<n.length;c++)l[c]=new Array(i.k);o=new Array(n.length);for(var f=0;f<n.length;f++)o[f]=new Array(i.k);for(var d=0;d<n.length;d++){for(var p=0,g=0;g<i.k;g++)o[d][g]=Math.random(),p+=o[d][g];for(var y=0;y<i.k;y++)o[d][y]=o[d][y]/p}s=new Array(i.k);for(var b=0;b<i.k;b++)s[b]=new Array(i.attributes.length);u=new Array(n.length);for(var x=0;x<n.length;x++)u[x]=new Array(i.k);for(var w=!0,_=0;w&&_<i.maxIterations;)w=!1,uH(s,n,o,u,i),cH(o,l,s,n,i),aH(o,l,i.sensitivityThreshold)||(w=!0),_++;return a=fH(n,o,i,r),{clusters:a,degreeOfMembership:o}},dH={kMeans:oH,kMedoids:lH,fuzzyCMeans:bw,fcm:bw},hH=Or({distance:"euclidean",linkage:"min",mode:"threshold",threshold:1/0,addDendrogram:!1,dendrogramDepth:0,attributes:[]}),pH={single:"min",complete:"max"},gH=function(e){var r=hH(e),n=pH[r.linkage];return n!=null&&(r.linkage=n),r},ww=function(e,r,n,i,a){for(var s=0,o=1/0,l,u=a.attributes,c=function(L,R){return np(a.distance,u.length,function(N){return u[N](L)},function(N){return u[N](R)},L,R)},f=0;f<e.length;f++){var d=e[f].key,p=n[d][i[d]];p<o&&(s=d,o=p)}if(a.mode==="threshold"&&o>=a.threshold||a.mode==="dendrogram"&&e.length===1)return!1;var g=r[s],y=r[i[s]],b;a.mode==="dendrogram"?b={left:g,right:y,key:g.key}:b={value:g.value.concat(y.value),key:g.key},e[g.index]=b,e.splice(y.index,1),r[g.key]=b;for(var x=0;x<e.length;x++){var w=e[x];g.key===w.key?l=1/0:a.linkage==="min"?(l=n[g.key][w.key],n[g.key][w.key]>n[y.key][w.key]&&(l=n[y.key][w.key])):a.linkage==="max"?(l=n[g.key][w.key],n[g.key][w.key]<n[y.key][w.key]&&(l=n[y.key][w.key])):a.linkage==="mean"?l=(n[g.key][w.key]*g.size+n[y.key][w.key]*y.size)/(g.size+y.size):a.mode==="dendrogram"?l=c(w.value,g.value):l=c(w.value[0],g.value[0]),n[g.key][w.key]=n[w.key][g.key]=l}for(var _=0;_<e.length;_++){var k=e[_].key;if(i[k]===g.key||i[k]===y.key){for(var T=k,P=0;P<e.length;P++){var M=e[P].key;n[k][M]<n[k][T]&&(T=M)}i[k]=T}e[_].index=_}return g.key=y.key=g.index=y.index=null,!0},ol=function(e,r,n){e&&(e.value?r.push(e.value):(e.left&&ol(e.left,r),e.right&&ol(e.right,r)))},V1=function(e,r){if(!e)return"";if(e.left&&e.right){var n=V1(e.left,r),i=V1(e.right,r),a=r.add({group:"nodes",data:{id:n+","+i}});return r.add({group:"edges",data:{source:n,target:a.id()}}),r.add({group:"edges",data:{source:i,target:a.id()}}),a.id()}else if(e.value)return e.value.id()},U1=function(e,r,n){if(!e)return[];var i=[],a=[],s=[];return r===0?(e.left&&ol(e.left,i),e.right&&ol(e.right,a),s=i.concat(a),[n.collection(s)]):r===1?e.value?[n.collection(e.value)]:(e.left&&ol(e.left,i),e.right&&ol(e.right,a),[n.collection(i),n.collection(a)]):e.value?[n.collection(e.value)]:(e.left&&(i=U1(e.left,r-1,n)),e.right&&(a=U1(e.right,r-1,n)),i.concat(a))},_w=function(e){for(var r=this.cy(),n=this.nodes(),i=gH(e),a=i.attributes,s=function(_,k){return np(i.distance,a.length,function(T){return a[T](_)},function(T){return a[T](k)},_,k)},o=[],l=[],u=[],c=[],f=0;f<n.length;f++){var d={value:i.mode==="dendrogram"?n[f]:[n[f]],key:f,index:f};o[f]=d,c[f]=d,l[f]=[],u[f]=0}for(var p=0;p<o.length;p++)for(var g=0;g<=p;g++){var y=void 0;i.mode==="dendrogram"?y=p===g?1/0:s(o[p].value,o[g].value):y=p===g?1/0:s(o[p].value[0],o[g].value[0]),l[p][g]=y,l[g][p]=y,y<l[p][u[p]]&&(u[p]=g)}for(var b=ww(o,c,l,u,i);b;)b=ww(o,c,l,u,i);var x;return i.mode==="dendrogram"?(x=U1(o[0],i.dendrogramDepth,r),i.addDendrogram&&V1(o[0],r)):(x=new Array(o.length),o.forEach(function(w,_){w.key=w.index=null,x[_]=r.collection(w.value)})),x},mH={hierarchicalClustering:_w,hca:_w},vH=Or({distance:"euclidean",preference:"median",damping:.8,maxIterations:1e3,minIterations:100,attributes:[]}),yH=function(e){var r=e.damping,n=e.preference;.5<=r&&r<1||or("Damping must range on [0.5, 1).  Got: ".concat(r));var i=["median","mean","min","max"];return i.some(function(a){return a===n})||Ne(n)||or("Preference must be one of [".concat(i.map(function(a){return"'".concat(a,"'")}).join(", "),"] or a number.  Got: ").concat(n)),vH(e)},xH=function(e,r,n,i){var a=function(o,l){return i[l](o)};return-np(e,i.length,function(s){return a(r,s)},function(s){return a(n,s)},r,n)},bH=function(e,r){var n=null;return r==="median"?n=bq(e):r==="mean"?n=xq(e):r==="min"?n=vq(e):r==="max"?n=yq(e):n=r,n},wH=function(e,r,n){for(var i=[],a=0;a<e;a++)r[a*e+a]+n[a*e+a]>0&&i.push(a);return i},Sw=function(e,r,n){for(var i=[],a=0;a<e;a++){for(var s=-1,o=-1/0,l=0;l<n.length;l++){var u=n[l];r[a*e+u]>o&&(s=u,o=r[a*e+u])}s>0&&i.push(s)}for(var c=0;c<n.length;c++)i[n[c]]=n[c];return i},_H=function(e,r,n){for(var i=Sw(e,r,n),a=0;a<n.length;a++){for(var s=[],o=0;o<i.length;o++)i[o]===n[a]&&s.push(o);for(var l=-1,u=-1/0,c=0;c<s.length;c++){for(var f=0,d=0;d<s.length;d++)f+=r[s[d]*e+s[c]];f>u&&(l=c,u=f)}n[a]=s[l]}return i=Sw(e,r,n),i},kw=function(e){for(var r=this.cy(),n=this.nodes(),i=yH(e),a={},s=0;s<n.length;s++)a[n[s].id()]=s;var o,l,u,c,f,d;o=n.length,l=o*o,u=new Array(l);for(var p=0;p<l;p++)u[p]=-1/0;for(var g=0;g<o;g++)for(var y=0;y<o;y++)g!==y&&(u[g*o+y]=xH(i.distance,n[g],n[y],i.attributes));c=bH(u,i.preference);for(var b=0;b<o;b++)u[b*o+b]=c;f=new Array(l);for(var x=0;x<l;x++)f[x]=0;d=new Array(l);for(var w=0;w<l;w++)d[w]=0;for(var _=new Array(o),k=new Array(o),T=new Array(o),P=0;P<o;P++)_[P]=0,k[P]=0,T[P]=0;for(var M=new Array(o*i.minIterations),A=0;A<M.length;A++)M[A]=0;var L;for(L=0;L<i.maxIterations;L++){for(var R=0;R<o;R++){for(var N=-1/0,F=-1/0,$=-1,V=0,X=0;X<o;X++)_[X]=f[R*o+X],V=d[R*o+X]+u[R*o+X],V>=N?(F=N,N=V,$=X):V>F&&(F=V);for(var K=0;K<o;K++)f[R*o+K]=(1-i.damping)*(u[R*o+K]-N)+i.damping*_[K];f[R*o+$]=(1-i.damping)*(u[R*o+$]-F)+i.damping*_[$]}for(var W=0;W<o;W++){for(var H=0,ee=0;ee<o;ee++)_[ee]=d[ee*o+W],k[ee]=Math.max(0,f[ee*o+W]),H+=k[ee];H-=k[W],k[W]=f[W*o+W],H+=k[W];for(var re=0;re<o;re++)d[re*o+W]=(1-i.damping)*Math.min(0,H-k[re])+i.damping*_[re];d[W*o+W]=(1-i.damping)*(H-k[W])+i.damping*_[W]}for(var G=0,Z=0;Z<o;Z++){var ue=d[Z*o+Z]+f[Z*o+Z]>0?1:0;M[L%i.minIterations*o+Z]=ue,G+=ue}if(G>0&&(L>=i.minIterations-1||L==i.maxIterations-1)){for(var pe=0,ge=0;ge<o;ge++){T[ge]=0;for(var fe=0;fe<i.minIterations;fe++)T[ge]+=M[fe*o+ge];(T[ge]===0||T[ge]===i.minIterations)&&pe++}if(pe===o)break}}for(var Se=wH(o,f,d),Te=_H(o,u,Se),ve={},se=0;se<Se.length;se++)ve[Se[se]]=[];for(var ye=0;ye<n.length;ye++){var we=a[n[ye].id()],Re=Te[we];Re!=null&&ve[Re].push(n[ye])}for(var Ve=new Array(Se.length),st=0;st<Se.length;st++)Ve[st]=r.collection(ve[Se[st]]);return Ve},SH={affinityPropagation:kw,ap:kw},kH=Or({root:void 0,directed:!1}),TH={hierholzer:function(e){if(!Tt(e)){var r=arguments;e={root:r[0],directed:r[1]}}var n=kH(e),i=n.root,a=n.directed,s=this,o=!1,l,u,c;i&&(c=Ke(i)?this.filter(i)[0].id():i[0].id());var f={},d={};a?s.forEach(function(w){var _=w.id();if(w.isNode()){var k=w.indegree(!0),T=w.outdegree(!0),P=k-T,M=T-k;P==1?l?o=!0:l=_:M==1?u?o=!0:u=_:(M>1||P>1)&&(o=!0),f[_]=[],w.outgoers().forEach(function(A){A.isEdge()&&f[_].push(A.id())})}else d[_]=[void 0,w.target().id()]}):s.forEach(function(w){var _=w.id();if(w.isNode()){var k=w.degree(!0);k%2&&(l?u?o=!0:u=_:l=_),f[_]=[],w.connectedEdges().forEach(function(T){return f[_].push(T.id())})}else d[_]=[w.source().id(),w.target().id()]});var p={found:!1,trail:void 0};if(o)return p;if(u&&l)if(a){if(c&&u!=c)return p;c=u}else{if(c&&u!=c&&l!=c)return p;c||(c=u)}else c||(c=s[0].id());var g=function(_){for(var k=_,T=[_],P,M,A;f[k].length;)P=f[k].shift(),M=d[P][0],A=d[P][1],k!=A?(f[A]=f[A].filter(function(L){return L!=P}),k=A):!a&&k!=M&&(f[M]=f[M].filter(function(L){return L!=P}),k=M),T.unshift(P),T.unshift(k);return T},y=[],b=[];for(b=g(c);b.length!=1;)f[b[0]].length==0?(y.unshift(s.getElementById(b.shift())),y.unshift(s.getElementById(b.shift()))):b=g(b.shift()).concat(b);y.unshift(s.getElementById(b.shift()));for(var x in f)if(f[x].length)return p;return p.found=!0,p.trail=this.spawn(y,!0),p}},Sf=function(){var e=this,r={},n=0,i=0,a=[],s=[],o={},l=function(d,p){for(var g=s.length-1,y=[],b=e.spawn();s[g].x!=d||s[g].y!=p;)y.push(s.pop().edge),g--;y.push(s.pop().edge),y.forEach(function(x){var w=x.connectedNodes().intersection(e);b.merge(x),w.forEach(function(_){var k=_.id(),T=_.connectedEdges().intersection(e);b.merge(_),r[k].cutVertex?b.merge(T.filter(function(P){return P.isLoop()})):b.merge(T)})}),a.push(b)},u=function(d,p,g){d===g&&(i+=1),r[p]={id:n,low:n++,cutVertex:!1};var y=e.getElementById(p).connectedEdges().intersection(e);if(y.size()===0)a.push(e.spawn(e.getElementById(p)));else{var b,x,w,_;y.forEach(function(k){b=k.source().id(),x=k.target().id(),w=b===p?x:b,w!==g&&(_=k.id(),o[_]||(o[_]=!0,s.push({x:p,y:w,edge:k})),w in r?r[p].low=Math.min(r[p].low,r[w].id):(u(d,w,p),r[p].low=Math.min(r[p].low,r[w].low),r[p].id<=r[w].low&&(r[p].cutVertex=!0,l(p,w))))})}};e.forEach(function(f){if(f.isNode()){var d=f.id();d in r||(i=0,u(d,d),r[d].cutVertex=i>1)}});var c=Object.keys(r).filter(function(f){return r[f].cutVertex}).map(function(f){return e.getElementById(f)});return{cut:e.spawn(c),components:a}},EH={hopcroftTarjanBiconnected:Sf,htbc:Sf,htb:Sf,hopcroftTarjanBiconnectedComponents:Sf},kf=function(){var e=this,r={},n=0,i=[],a=[],s=e.spawn(e),o=function(u){a.push(u),r[u]={index:n,low:n++,explored:!1};var c=e.getElementById(u).connectedEdges().intersection(e);if(c.forEach(function(y){var b=y.target().id();b!==u&&(b in r||o(b),r[b].explored||(r[u].low=Math.min(r[u].low,r[b].low)))}),r[u].index===r[u].low){for(var f=e.spawn();;){var d=a.pop();if(f.merge(e.getElementById(d)),r[d].low=r[u].index,r[d].explored=!0,d===u)break}var p=f.edgesWith(f),g=f.merge(p);i.push(g),s=s.difference(g)}};return e.forEach(function(l){if(l.isNode()){var u=l.id();u in r||o(u)}}),{cut:s,components:i}},CH={tarjanStronglyConnected:kf,tsc:kf,tscc:kf,tarjanStronglyConnectedComponents:kf},Dk={};[Fc,aq,sq,lq,cq,dq,gq,$q,bl,wl,H1,Jq,dH,mH,SH,TH,EH,CH].forEach(function(t){et(Dk,t)});/*!
Embeddable Minimum Strictly-Compliant Promises/A+ 1.1.1 Thenable
Copyright (c) 2013-2014 Ralf S. Engelschall (http://engelschall.com)
Licensed under The MIT License (http://opensource.org/licenses/MIT)
*/var Ak=0,Ik=1,Lk=2,Ti=function(e){if(!(this instanceof Ti))return new Ti(e);this.id="Thenable/1.0.7",this.state=Ak,this.fulfillValue=void 0,this.rejectReason=void 0,this.onFulfilled=[],this.onRejected=[],this.proxy={then:this.then.bind(this)},typeof e=="function"&&e.call(this,this.fulfill.bind(this),this.reject.bind(this))};Ti.prototype={fulfill:function(e){return Tw(this,Ik,"fulfillValue",e)},reject:function(e){return Tw(this,Lk,"rejectReason",e)},then:function(e,r){var n=this,i=new Ti;return n.onFulfilled.push(Cw(e,i,"fulfill")),n.onRejected.push(Cw(r,i,"reject")),Rk(n),i.proxy}};var Tw=function(e,r,n,i){return e.state===Ak&&(e.state=r,e[n]=i,Rk(e)),e},Rk=function(e){e.state===Ik?Ew(e,"onFulfilled",e.fulfillValue):e.state===Lk&&Ew(e,"onRejected",e.rejectReason)},Ew=function(e,r,n){if(e[r].length!==0){var i=e[r];e[r]=[];var a=function(){for(var o=0;o<i.length;o++)i[o](n)};typeof setImmediate=="function"?setImmediate(a):setTimeout(a,0)}},Cw=function(e,r,n){return function(i){if(typeof e!="function")r[n].call(r,i);else{var a;try{a=e(i)}catch(s){r.reject(s);return}Ok(r,a)}}},Ok=function(e,r){if(e===r||e.proxy===r){e.reject(new TypeError("cannot resolve promise with itself"));return}var n;if(Rr(r)==="object"&&r!==null||typeof r=="function")try{n=r.then}catch(a){e.reject(a);return}if(typeof n=="function"){var i=!1;try{n.call(r,function(a){i||(i=!0,a===r?e.reject(new TypeError("circular thenable chain")):Ok(e,a))},function(a){i||(i=!0,e.reject(a))})}catch(a){i||e.reject(a)}return}e.fulfill(r)};Ti.all=function(t){return new Ti(function(e,r){for(var n=new Array(t.length),i=0,a=function(l,u){n[l]=u,i++,i===t.length&&e(n)},s=0;s<t.length;s++)(function(o){var l=t[o],u=l!=null&&l.then!=null;if(u)l.then(function(f){a(o,f)},function(f){r(f)});else{var c=l;a(o,c)}})(s)})};Ti.resolve=function(t){return new Ti(function(e,r){e(t)})};Ti.reject=function(t){return new Ti(function(e,r){r(t)})};var Zl=typeof Promise<"u"?Promise:Ti,W1=function(e,r,n){var i=B2(e),a=!i,s=this._private=et({duration:1e3},r,n);if(s.target=e,s.style=s.style||s.css,s.started=!1,s.playing=!1,s.hooked=!1,s.applying=!1,s.progress=0,s.completes=[],s.frames=[],s.complete&&cr(s.complete)&&s.completes.push(s.complete),a){var o=e.position();s.startPosition=s.startPosition||{x:o.x,y:o.y},s.startStyle=s.startStyle||e.cy().style().getAnimationStartStyle(e,s.style)}if(i){var l=e.pan();s.startPan={x:l.x,y:l.y},s.startZoom=e.zoom()}this.length=1,this[0]=this},ho=W1.prototype;et(ho,{instanceString:function(){return"animation"},hook:function(){var e=this._private;if(!e.hooked){var r,n=e.target._private.animation;e.queue?r=n.queue:r=n.current,r.push(this),Vn(e.target)&&e.target.cy().addToAnimationPool(e.target),e.hooked=!0}return this},play:function(){var e=this._private;return e.progress===1&&(e.progress=0),e.playing=!0,e.started=!1,e.stopped=!1,this.hook(),this},playing:function(){return this._private.playing},apply:function(){var e=this._private;return e.applying=!0,e.started=!1,e.stopped=!1,this.hook(),this},applying:function(){return this._private.applying},pause:function(){var e=this._private;return e.playing=!1,e.started=!1,this},stop:function(){var e=this._private;return e.playing=!1,e.started=!1,e.stopped=!0,this},rewind:function(){return this.progress(0)},fastforward:function(){return this.progress(1)},time:function(e){var r=this._private;return e===void 0?r.progress*r.duration:this.progress(e/r.duration)},progress:function(e){var r=this._private,n=r.playing;return e===void 0?r.progress:(n&&this.pause(),r.progress=e,r.started=!1,n&&this.play(),this)},completed:function(){return this._private.progress===1},reverse:function(){var e=this._private,r=e.playing;r&&this.pause(),e.progress=1-e.progress,e.started=!1;var n=function(u,c){var f=e[u];f!=null&&(e[u]=e[c],e[c]=f)};if(n("zoom","startZoom"),n("pan","startPan"),n("position","startPosition"),e.style)for(var i=0;i<e.style.length;i++){var a=e.style[i],s=a.name,o=e.startStyle[s];e.startStyle[s]=a,e.style[i]=o}return r&&this.play(),this},promise:function(e){var r=this._private,n;switch(e){case"frame":n=r.frames;break;default:case"complete":case"completed":n=r.completes}return new Zl(function(i,a){n.push(function(){i()})})}});ho.complete=ho.completed;ho.run=ho.play;ho.running=ho.playing;var MH={animated:function(){return function(){var r=this,n=r.length!==void 0,i=n?r:[r],a=this._private.cy||this;if(!a.styleEnabled())return!1;var s=i[0];if(s)return s._private.animation.current.length>0}},clearQueue:function(){return function(){var r=this,n=r.length!==void 0,i=n?r:[r],a=this._private.cy||this;if(!a.styleEnabled())return this;for(var s=0;s<i.length;s++){var o=i[s];o._private.animation.queue=[]}return this}},delay:function(){return function(r,n){var i=this._private.cy||this;return i.styleEnabled()?this.animate({delay:r,duration:r,complete:n}):this}},delayAnimation:function(){return function(r,n){var i=this._private.cy||this;return i.styleEnabled()?this.animation({delay:r,duration:r,complete:n}):this}},animation:function(){return function(r,n){var i=this,a=i.length!==void 0,s=a?i:[i],o=this._private.cy||this,l=!a,u=!l;if(!o.styleEnabled())return this;var c=o.style();r=et({},r,n);var f=Object.keys(r).length===0;if(f)return new W1(s[0],r);switch(r.duration===void 0&&(r.duration=400),r.duration){case"slow":r.duration=600;break;case"fast":r.duration=200;break}if(u&&(r.style=c.getPropsList(r.style||r.css),r.css=void 0),u&&r.renderedPosition!=null){var d=r.renderedPosition,p=o.pan(),g=o.zoom();r.position=xk(d,g,p)}if(l&&r.panBy!=null){var y=r.panBy,b=o.pan();r.pan={x:b.x+y.x,y:b.y+y.y}}var x=r.center||r.centre;if(l&&x!=null){var w=o.getCenterPan(x.eles,r.zoom);w!=null&&(r.pan=w)}if(l&&r.fit!=null){var _=r.fit,k=o.getFitViewport(_.eles||_.boundingBox,_.padding);k!=null&&(r.pan=k.pan,r.zoom=k.zoom)}if(l&&Tt(r.zoom)){var T=o.getZoomedViewport(r.zoom);T!=null?(T.zoomed&&(r.zoom=T.zoom),T.panned&&(r.pan=T.pan)):r.zoom=null}return new W1(s[0],r)}},animate:function(){return function(r,n){var i=this,a=i.length!==void 0,s=a?i:[i],o=this._private.cy||this;if(!o.styleEnabled())return this;n&&(r=et({},r,n));for(var l=0;l<s.length;l++){var u=s[l],c=u.animated()&&(r.queue===void 0||r.queue),f=u.animation(r,c?{queue:!0}:void 0);f.play()}return this}},stop:function(){return function(r,n){var i=this,a=i.length!==void 0,s=a?i:[i],o=this._private.cy||this;if(!o.styleEnabled())return this;for(var l=0;l<s.length;l++){for(var u=s[l],c=u._private,f=c.animation.current,d=0;d<f.length;d++){var p=f[d],g=p._private;n&&(g.duration=0)}r&&(c.animation.queue=[]),n||(c.animation.current=[])}return o.notify("draw"),this}}},im,Mw;function ip(){if(Mw)return im;Mw=1;var t=Array.isArray;return im=t,im}var am,Pw;function PH(){if(Pw)return am;Pw=1;var t=ip(),e=d0(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(a,s){if(t(a))return!1;var o=typeof a;return o=="number"||o=="symbol"||o=="boolean"||a==null||e(a)?!0:n.test(a)||!r.test(a)||s!=null&&a in Object(s)}return am=i,am}var sm,Dw;function DH(){if(Dw)return sm;Dw=1;var t=ck(),e=f0(),r="[object AsyncFunction]",n="[object Function]",i="[object GeneratorFunction]",a="[object Proxy]";function s(o){if(!e(o))return!1;var l=t(o);return l==n||l==i||l==r||l==a}return sm=s,sm}var om,Aw;function AH(){if(Aw)return om;Aw=1;var t=ep(),e=t["__core-js_shared__"];return om=e,om}var lm,Iw;function IH(){if(Iw)return lm;Iw=1;var t=AH(),e=function(){var n=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function r(n){return!!e&&e in n}return lm=r,lm}var um,Lw;function LH(){if(Lw)return um;Lw=1;var t=Function.prototype,e=t.toString;function r(n){if(n!=null){try{return e.call(n)}catch{}try{return n+""}catch{}}return""}return um=r,um}var cm,Rw;function RH(){if(Rw)return cm;Rw=1;var t=DH(),e=IH(),r=f0(),n=LH(),i=/[\\^$.*+?()[\]{}|]/g,a=/^\[object .+?Constructor\]$/,s=Function.prototype,o=Object.prototype,l=s.toString,u=o.hasOwnProperty,c=RegExp("^"+l.call(u).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function f(d){if(!r(d)||e(d))return!1;var p=t(d)?c:a;return p.test(n(d))}return cm=f,cm}var fm,Ow;function OH(){if(Ow)return fm;Ow=1;function t(e,r){return e==null?void 0:e[r]}return fm=t,fm}var dm,Nw;function Y2(){if(Nw)return dm;Nw=1;var t=RH(),e=OH();function r(n,i){var a=e(n,i);return t(a)?a:void 0}return dm=r,dm}var hm,zw;function ap(){if(zw)return hm;zw=1;var t=Y2(),e=t(Object,"create");return hm=e,hm}var pm,Bw;function NH(){if(Bw)return pm;Bw=1;var t=ap();function e(){this.__data__=t?t(null):{},this.size=0}return pm=e,pm}var gm,Fw;function zH(){if(Fw)return gm;Fw=1;function t(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}return gm=t,gm}var mm,$w;function BH(){if($w)return mm;$w=1;var t=ap(),e="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function i(a){var s=this.__data__;if(t){var o=s[a];return o===e?void 0:o}return n.call(s,a)?s[a]:void 0}return mm=i,mm}var vm,jw;function FH(){if(jw)return vm;jw=1;var t=ap(),e=Object.prototype,r=e.hasOwnProperty;function n(i){var a=this.__data__;return t?a[i]!==void 0:r.call(a,i)}return vm=n,vm}var ym,qw;function $H(){if(qw)return ym;qw=1;var t=ap(),e="__lodash_hash_undefined__";function r(n,i){var a=this.__data__;return this.size+=this.has(n)?0:1,a[n]=t&&i===void 0?e:i,this}return ym=r,ym}var xm,Hw;function jH(){if(Hw)return xm;Hw=1;var t=NH(),e=zH(),r=BH(),n=FH(),i=$H();function a(s){var o=-1,l=s==null?0:s.length;for(this.clear();++o<l;){var u=s[o];this.set(u[0],u[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,xm=a,xm}var bm,Vw;function qH(){if(Vw)return bm;Vw=1;function t(){this.__data__=[],this.size=0}return bm=t,bm}var wm,Uw;function Nk(){if(Uw)return wm;Uw=1;function t(e,r){return e===r||e!==e&&r!==r}return wm=t,wm}var _m,Ww;function sp(){if(Ww)return _m;Ww=1;var t=Nk();function e(r,n){for(var i=r.length;i--;)if(t(r[i][0],n))return i;return-1}return _m=e,_m}var Sm,Gw;function HH(){if(Gw)return Sm;Gw=1;var t=sp(),e=Array.prototype,r=e.splice;function n(i){var a=this.__data__,s=t(a,i);if(s<0)return!1;var o=a.length-1;return s==o?a.pop():r.call(a,s,1),--this.size,!0}return Sm=n,Sm}var km,Yw;function VH(){if(Yw)return km;Yw=1;var t=sp();function e(r){var n=this.__data__,i=t(n,r);return i<0?void 0:n[i][1]}return km=e,km}var Tm,Xw;function UH(){if(Xw)return Tm;Xw=1;var t=sp();function e(r){return t(this.__data__,r)>-1}return Tm=e,Tm}var Em,Kw;function WH(){if(Kw)return Em;Kw=1;var t=sp();function e(r,n){var i=this.__data__,a=t(i,r);return a<0?(++this.size,i.push([r,n])):i[a][1]=n,this}return Em=e,Em}var Cm,Zw;function GH(){if(Zw)return Cm;Zw=1;var t=qH(),e=HH(),r=VH(),n=UH(),i=WH();function a(s){var o=-1,l=s==null?0:s.length;for(this.clear();++o<l;){var u=s[o];this.set(u[0],u[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,Cm=a,Cm}var Mm,Qw;function YH(){if(Qw)return Mm;Qw=1;var t=Y2(),e=ep(),r=t(e,"Map");return Mm=r,Mm}var Pm,Jw;function XH(){if(Jw)return Pm;Jw=1;var t=jH(),e=GH(),r=YH();function n(){this.size=0,this.__data__={hash:new t,map:new(r||e),string:new t}}return Pm=n,Pm}var Dm,e6;function KH(){if(e6)return Dm;e6=1;function t(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}return Dm=t,Dm}var Am,t6;function op(){if(t6)return Am;t6=1;var t=KH();function e(r,n){var i=r.__data__;return t(n)?i[typeof n=="string"?"string":"hash"]:i.map}return Am=e,Am}var Im,r6;function ZH(){if(r6)return Im;r6=1;var t=op();function e(r){var n=t(this,r).delete(r);return this.size-=n?1:0,n}return Im=e,Im}var Lm,n6;function QH(){if(n6)return Lm;n6=1;var t=op();function e(r){return t(this,r).get(r)}return Lm=e,Lm}var Rm,i6;function JH(){if(i6)return Rm;i6=1;var t=op();function e(r){return t(this,r).has(r)}return Rm=e,Rm}var Om,a6;function eV(){if(a6)return Om;a6=1;var t=op();function e(r,n){var i=t(this,r),a=i.size;return i.set(r,n),this.size+=i.size==a?0:1,this}return Om=e,Om}var Nm,s6;function tV(){if(s6)return Nm;s6=1;var t=XH(),e=ZH(),r=QH(),n=JH(),i=eV();function a(s){var o=-1,l=s==null?0:s.length;for(this.clear();++o<l;){var u=s[o];this.set(u[0],u[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,Nm=a,Nm}var zm,o6;function rV(){if(o6)return zm;o6=1;var t=tV(),e="Expected a function";function r(n,i){if(typeof n!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var a=function(){var s=arguments,o=i?i.apply(this,s):s[0],l=a.cache;if(l.has(o))return l.get(o);var u=n.apply(this,s);return a.cache=l.set(o,u)||l,u};return a.cache=new(r.Cache||t),a}return r.Cache=t,zm=r,zm}var Bm,l6;function nV(){if(l6)return Bm;l6=1;var t=rV(),e=500;function r(n){var i=t(n,function(s){return a.size===e&&a.clear(),s}),a=i.cache;return i}return Bm=r,Bm}var Fm,u6;function zk(){if(u6)return Fm;u6=1;var t=nV(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=t(function(i){var a=[];return i.charCodeAt(0)===46&&a.push(""),i.replace(e,function(s,o,l,u){a.push(l?u.replace(r,"$1"):o||s)}),a});return Fm=n,Fm}var $m,c6;function Bk(){if(c6)return $m;c6=1;function t(e,r){for(var n=-1,i=e==null?0:e.length,a=Array(i);++n<i;)a[n]=r(e[n],n,e);return a}return $m=t,$m}var jm,f6;function iV(){if(f6)return jm;f6=1;var t=$2(),e=Bk(),r=ip(),n=d0(),i=t?t.prototype:void 0,a=i?i.toString:void 0;function s(o){if(typeof o=="string")return o;if(r(o))return e(o,s)+"";if(n(o))return a?a.call(o):"";var l=o+"";return l=="0"&&1/o==-1/0?"-0":l}return jm=s,jm}var qm,d6;function Fk(){if(d6)return qm;d6=1;var t=iV();function e(r){return r==null?"":t(r)}return qm=e,qm}var Hm,h6;function $k(){if(h6)return Hm;h6=1;var t=ip(),e=PH(),r=zk(),n=Fk();function i(a,s){return t(a)?a:e(a,s)?[a]:r(n(a))}return Hm=i,Hm}var Vm,p6;function X2(){if(p6)return Vm;p6=1;var t=d0();function e(r){if(typeof r=="string"||t(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return Vm=e,Vm}var Um,g6;function aV(){if(g6)return Um;g6=1;var t=$k(),e=X2();function r(n,i){i=t(i,n);for(var a=0,s=i.length;n!=null&&a<s;)n=n[e(i[a++])];return a&&a==s?n:void 0}return Um=r,Um}var Wm,m6;function sV(){if(m6)return Wm;m6=1;var t=aV();function e(r,n,i){var a=r==null?void 0:t(r,n);return a===void 0?i:a}return Wm=e,Wm}var oV=sV(),lV=c0(oV),Gm,v6;function uV(){if(v6)return Gm;v6=1;var t=Y2(),e=function(){try{var r=t(Object,"defineProperty");return r({},"",{}),r}catch{}}();return Gm=e,Gm}var Ym,y6;function cV(){if(y6)return Ym;y6=1;var t=uV();function e(r,n,i){n=="__proto__"&&t?t(r,n,{configurable:!0,enumerable:!0,value:i,writable:!0}):r[n]=i}return Ym=e,Ym}var Xm,x6;function fV(){if(x6)return Xm;x6=1;var t=cV(),e=Nk(),r=Object.prototype,n=r.hasOwnProperty;function i(a,s,o){var l=a[s];(!(n.call(a,s)&&e(l,o))||o===void 0&&!(s in a))&&t(a,s,o)}return Xm=i,Xm}var Km,b6;function dV(){if(b6)return Km;b6=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function r(n,i){var a=typeof n;return i=i??t,!!i&&(a=="number"||a!="symbol"&&e.test(n))&&n>-1&&n%1==0&&n<i}return Km=r,Km}var Zm,w6;function hV(){if(w6)return Zm;w6=1;var t=fV(),e=$k(),r=dV(),n=f0(),i=X2();function a(s,o,l,u){if(!n(s))return s;o=e(o,s);for(var c=-1,f=o.length,d=f-1,p=s;p!=null&&++c<f;){var g=i(o[c]),y=l;if(g==="__proto__"||g==="constructor"||g==="prototype")return s;if(c!=d){var b=p[g];y=u?u(b,g,p):void 0,y===void 0&&(y=n(b)?b:r(o[c+1])?[]:{})}t(p,g,y),p=p[g]}return s}return Zm=a,Zm}var Qm,_6;function pV(){if(_6)return Qm;_6=1;var t=hV();function e(r,n,i){return r==null?r:t(r,n,i)}return Qm=e,Qm}var gV=pV(),mV=c0(gV),Jm,S6;function vV(){if(S6)return Jm;S6=1;function t(e,r){var n=-1,i=e.length;for(r||(r=Array(i));++n<i;)r[n]=e[n];return r}return Jm=t,Jm}var ev,k6;function yV(){if(k6)return ev;k6=1;var t=Bk(),e=vV(),r=ip(),n=d0(),i=zk(),a=X2(),s=Fk();function o(l){return r(l)?t(l,a):n(l)?[l]:e(i(s(l)))}return ev=o,ev}var xV=yV(),bV=c0(xV),wV={data:function(e){var r={field:"data",bindingEvent:"data",allowBinding:!1,allowSetting:!1,allowGetting:!1,settingEvent:"data",settingTriggersEvent:!1,triggerFnName:"trigger",immutableKeys:{},updateStyle:!1,beforeGet:function(i){},beforeSet:function(i,a){},onSet:function(i){},canSet:function(i){return!0}};return e=et({},r,e),function(i,a){var s=e,o=this,l=o.length!==void 0,u=l?o:[o],c=l?o[0]:o;if(Ke(i)){var f=i.indexOf(".")!==-1,d=f&&bV(i);if(s.allowGetting&&a===void 0){var p;return c&&(s.beforeGet(c),d&&c._private[s.field][i]===void 0?p=lV(c._private[s.field],d):p=c._private[s.field][i]),p}else if(s.allowSetting&&a!==void 0){var g=!s.immutableKeys[i];if(g){var y=JS({},i,a);s.beforeSet(o,y);for(var b=0,x=u.length;b<x;b++){var w=u[b];s.canSet(w)&&(d&&c._private[s.field][i]===void 0?mV(w._private[s.field],d,a):w._private[s.field][i]=a)}s.updateStyle&&o.updateStyle(),s.onSet(o),s.settingTriggersEvent&&o[s.triggerFnName](s.settingEvent)}}}else if(s.allowSetting&&Tt(i)){var _=i,k,T,P=Object.keys(_);s.beforeSet(o,_);for(var M=0;M<P.length;M++){k=P[M],T=_[k];var A=!s.immutableKeys[k];if(A)for(var L=0;L<u.length;L++){var R=u[L];s.canSet(R)&&(R._private[s.field][k]=T)}}s.updateStyle&&o.updateStyle(),s.onSet(o),s.settingTriggersEvent&&o[s.triggerFnName](s.settingEvent)}else if(s.allowBinding&&cr(i)){var N=i;o.on(s.bindingEvent,N)}else if(s.allowGetting&&i===void 0){var F;return c&&(s.beforeGet(c),F=c._private[s.field]),F}return o}},removeData:function(e){var r={field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!1,immutableKeys:{}};return e=et({},r,e),function(i){var a=e,s=this,o=s.length!==void 0,l=o?s:[s];if(Ke(i)){for(var u=i.split(/\s+/),c=u.length,f=0;f<c;f++){var d=u[f];if(!fs(d)){var p=!a.immutableKeys[d];if(p)for(var g=0,y=l.length;g<y;g++)l[g]._private[a.field][d]=void 0}}a.triggerEvent&&s[a.triggerFnName](a.event)}else if(i===void 0){for(var b=0,x=l.length;b<x;b++)for(var w=l[b]._private[a.field],_=Object.keys(w),k=0;k<_.length;k++){var T=_[k],P=!a.immutableKeys[T];P&&(w[T]=void 0)}a.triggerEvent&&s[a.triggerFnName](a.event)}return s}}},_V={eventAliasesOn:function(e){var r=e;r.addListener=r.listen=r.bind=r.on,r.unlisten=r.unbind=r.off=r.removeListener,r.trigger=r.emit,r.pon=r.promiseOn=function(n,i){var a=this,s=Array.prototype.slice.call(arguments,0);return new Zl(function(o,l){var u=function(p){a.off.apply(a,f),o(p)},c=s.concat([u]),f=c.concat([]);a.on.apply(a,c)})}}},At={};[MH,wV,_V].forEach(function(t){et(At,t)});var SV={animate:At.animate(),animation:At.animation(),animated:At.animated(),clearQueue:At.clearQueue(),delay:At.delay(),delayAnimation:At.delayAnimation(),stop:At.stop()},id={classes:function(e){var r=this;if(e===void 0){var n=[];return r[0]._private.classes.forEach(function(g){return n.push(g)}),n}else Ht(e)||(e=(e||"").match(/\S+/g)||[]);for(var i=[],a=new Kl(e),s=0;s<r.length;s++){for(var o=r[s],l=o._private,u=l.classes,c=!1,f=0;f<e.length;f++){var d=e[f],p=u.has(d);if(!p){c=!0;break}}c||(c=u.size!==e.length),c&&(l.classes=a,i.push(o))}return i.length>0&&this.spawn(i).updateStyle().emit("class"),r},addClass:function(e){return this.toggleClass(e,!0)},hasClass:function(e){var r=this[0];return r!=null&&r._private.classes.has(e)},toggleClass:function(e,r){Ht(e)||(e=e.match(/\S+/g)||[]);for(var n=this,i=r===void 0,a=[],s=0,o=n.length;s<o;s++)for(var l=n[s],u=l._private.classes,c=!1,f=0;f<e.length;f++){var d=e[f],p=u.has(d),g=!1;r||i&&!p?(u.add(d),g=!0):(!r||i&&p)&&(u.delete(d),g=!0),!c&&g&&(a.push(l),c=!0)}return a.length>0&&this.spawn(a).updateStyle().emit("class"),n},removeClass:function(e){return this.toggleClass(e,!1)},flashClass:function(e,r){var n=this;if(r==null)r=250;else if(r===0)return n;return n.addClass(e),setTimeout(function(){n.removeClass(e)},r),n}};id.className=id.classNames=id.classes;var wt={metaChar:"[\\!\\\"\\#\\$\\%\\&\\'\\(\\)\\*\\+\\,\\.\\/\\:\\;\\<\\=\\>\\?\\@\\[\\]\\^\\`\\{\\|\\}\\~]",comparatorOp:"=|\\!=|>|>=|<|<=|\\$=|\\^=|\\*=",boolOp:"\\?|\\!|\\^",string:`"(?:\\\\"|[^"])*"|'(?:\\\\'|[^'])*'`,number:Lr,meta:"degree|indegree|outdegree",separator:"\\s*,\\s*",descendant:"\\s+",child:"\\s+>\\s+",subject:"\\$",group:"node|edge|\\*",directedEdge:"\\s+->\\s+",undirectedEdge:"\\s+<->\\s+"};wt.variable="(?:[\\w-.]|(?:\\\\"+wt.metaChar+"))+";wt.className="(?:[\\w-]|(?:\\\\"+wt.metaChar+"))+";wt.value=wt.string+"|"+wt.number;wt.id=wt.variable;(function(){var t,e,r;for(t=wt.comparatorOp.split("|"),r=0;r<t.length;r++)e=t[r],wt.comparatorOp+="|@"+e;for(t=wt.comparatorOp.split("|"),r=0;r<t.length;r++)e=t[r],!(e.indexOf("!")>=0)&&e!=="="&&(wt.comparatorOp+="|\\!"+e)})();var zt=function(){return{checks:[]}},He={GROUP:0,COLLECTION:1,FILTER:2,DATA_COMPARE:3,DATA_EXIST:4,DATA_BOOL:5,META_COMPARE:6,STATE:7,ID:8,CLASS:9,UNDIRECTED_EDGE:10,DIRECTED_EDGE:11,NODE_SOURCE:12,NODE_TARGET:13,NODE_NEIGHBOR:14,CHILD:15,DESCENDANT:16,PARENT:17,ANCESTOR:18,COMPOUND_SPLIT:19,TRUE:20},G1=[{selector:":selected",matches:function(e){return e.selected()}},{selector:":unselected",matches:function(e){return!e.selected()}},{selector:":selectable",matches:function(e){return e.selectable()}},{selector:":unselectable",matches:function(e){return!e.selectable()}},{selector:":locked",matches:function(e){return e.locked()}},{selector:":unlocked",matches:function(e){return!e.locked()}},{selector:":visible",matches:function(e){return e.visible()}},{selector:":hidden",matches:function(e){return!e.visible()}},{selector:":transparent",matches:function(e){return e.transparent()}},{selector:":grabbed",matches:function(e){return e.grabbed()}},{selector:":free",matches:function(e){return!e.grabbed()}},{selector:":removed",matches:function(e){return e.removed()}},{selector:":inside",matches:function(e){return!e.removed()}},{selector:":grabbable",matches:function(e){return e.grabbable()}},{selector:":ungrabbable",matches:function(e){return!e.grabbable()}},{selector:":animated",matches:function(e){return e.animated()}},{selector:":unanimated",matches:function(e){return!e.animated()}},{selector:":parent",matches:function(e){return e.isParent()}},{selector:":childless",matches:function(e){return e.isChildless()}},{selector:":child",matches:function(e){return e.isChild()}},{selector:":orphan",matches:function(e){return e.isOrphan()}},{selector:":nonorphan",matches:function(e){return e.isChild()}},{selector:":compound",matches:function(e){return e.isNode()?e.isParent():e.source().isParent()||e.target().isParent()}},{selector:":loop",matches:function(e){return e.isLoop()}},{selector:":simple",matches:function(e){return e.isSimple()}},{selector:":active",matches:function(e){return e.active()}},{selector:":inactive",matches:function(e){return!e.active()}},{selector:":backgrounding",matches:function(e){return e.backgrounding()}},{selector:":nonbackgrounding",matches:function(e){return!e.backgrounding()}}].sort(function(t,e){return Ej(t.selector,e.selector)}),kV=function(){for(var t={},e,r=0;r<G1.length;r++)e=G1[r],t[e.selector]=e.matches;return t}(),TV=function(e,r){return kV[e](r)},EV="("+G1.map(function(t){return t.selector}).join("|")+")",Oo=function(e){return e.replace(new RegExp("\\\\("+wt.metaChar+")","g"),function(r,n){return n})},La=function(e,r,n){e[e.length-1]=n},Y1=[{name:"group",query:!0,regex:"("+wt.group+")",populate:function(e,r,n){var i=jr(n,1),a=i[0];r.checks.push({type:He.GROUP,value:a==="*"?a:a+"s"})}},{name:"state",query:!0,regex:EV,populate:function(e,r,n){var i=jr(n,1),a=i[0];r.checks.push({type:He.STATE,value:a})}},{name:"id",query:!0,regex:"\\#("+wt.id+")",populate:function(e,r,n){var i=jr(n,1),a=i[0];r.checks.push({type:He.ID,value:Oo(a)})}},{name:"className",query:!0,regex:"\\.("+wt.className+")",populate:function(e,r,n){var i=jr(n,1),a=i[0];r.checks.push({type:He.CLASS,value:Oo(a)})}},{name:"dataExists",query:!0,regex:"\\[\\s*("+wt.variable+")\\s*\\]",populate:function(e,r,n){var i=jr(n,1),a=i[0];r.checks.push({type:He.DATA_EXIST,field:Oo(a)})}},{name:"dataCompare",query:!0,regex:"\\[\\s*("+wt.variable+")\\s*("+wt.comparatorOp+")\\s*("+wt.value+")\\s*\\]",populate:function(e,r,n){var i=jr(n,3),a=i[0],s=i[1],o=i[2],l=new RegExp("^"+wt.string+"$").exec(o)!=null;l?o=o.substring(1,o.length-1):o=parseFloat(o),r.checks.push({type:He.DATA_COMPARE,field:Oo(a),operator:s,value:o})}},{name:"dataBool",query:!0,regex:"\\[\\s*("+wt.boolOp+")\\s*("+wt.variable+")\\s*\\]",populate:function(e,r,n){var i=jr(n,2),a=i[0],s=i[1];r.checks.push({type:He.DATA_BOOL,field:Oo(s),operator:a})}},{name:"metaCompare",query:!0,regex:"\\[\\[\\s*("+wt.meta+")\\s*("+wt.comparatorOp+")\\s*("+wt.number+")\\s*\\]\\]",populate:function(e,r,n){var i=jr(n,3),a=i[0],s=i[1],o=i[2];r.checks.push({type:He.META_COMPARE,field:Oo(a),operator:s,value:parseFloat(o)})}},{name:"nextQuery",separator:!0,regex:wt.separator,populate:function(e,r){var n=e.currentSubject,i=e.edgeCount,a=e.compoundCount,s=e[e.length-1];n!=null&&(s.subject=n,e.currentSubject=null),s.edgeCount=i,s.compoundCount=a,e.edgeCount=0,e.compoundCount=0;var o=e[e.length++]=zt();return o}},{name:"directedEdge",separator:!0,regex:wt.directedEdge,populate:function(e,r){if(e.currentSubject==null){var n=zt(),i=r,a=zt();return n.checks.push({type:He.DIRECTED_EDGE,source:i,target:a}),La(e,r,n),e.edgeCount++,a}else{var s=zt(),o=r,l=zt();return s.checks.push({type:He.NODE_SOURCE,source:o,target:l}),La(e,r,s),e.edgeCount++,l}}},{name:"undirectedEdge",separator:!0,regex:wt.undirectedEdge,populate:function(e,r){if(e.currentSubject==null){var n=zt(),i=r,a=zt();return n.checks.push({type:He.UNDIRECTED_EDGE,nodes:[i,a]}),La(e,r,n),e.edgeCount++,a}else{var s=zt(),o=r,l=zt();return s.checks.push({type:He.NODE_NEIGHBOR,node:o,neighbor:l}),La(e,r,s),l}}},{name:"child",separator:!0,regex:wt.child,populate:function(e,r){if(e.currentSubject==null){var n=zt(),i=zt(),a=e[e.length-1];return n.checks.push({type:He.CHILD,parent:a,child:i}),La(e,r,n),e.compoundCount++,i}else if(e.currentSubject===r){var s=zt(),o=e[e.length-1],l=zt(),u=zt(),c=zt(),f=zt();return s.checks.push({type:He.COMPOUND_SPLIT,left:o,right:l,subject:u}),u.checks=r.checks,r.checks=[{type:He.TRUE}],f.checks.push({type:He.TRUE}),l.checks.push({type:He.PARENT,parent:f,child:c}),La(e,o,s),e.currentSubject=u,e.compoundCount++,c}else{var d=zt(),p=zt(),g=[{type:He.PARENT,parent:d,child:p}];return d.checks=r.checks,r.checks=g,e.compoundCount++,p}}},{name:"descendant",separator:!0,regex:wt.descendant,populate:function(e,r){if(e.currentSubject==null){var n=zt(),i=zt(),a=e[e.length-1];return n.checks.push({type:He.DESCENDANT,ancestor:a,descendant:i}),La(e,r,n),e.compoundCount++,i}else if(e.currentSubject===r){var s=zt(),o=e[e.length-1],l=zt(),u=zt(),c=zt(),f=zt();return s.checks.push({type:He.COMPOUND_SPLIT,left:o,right:l,subject:u}),u.checks=r.checks,r.checks=[{type:He.TRUE}],f.checks.push({type:He.TRUE}),l.checks.push({type:He.ANCESTOR,ancestor:f,descendant:c}),La(e,o,s),e.currentSubject=u,e.compoundCount++,c}else{var d=zt(),p=zt(),g=[{type:He.ANCESTOR,ancestor:d,descendant:p}];return d.checks=r.checks,r.checks=g,e.compoundCount++,p}}},{name:"subject",modifier:!0,regex:wt.subject,populate:function(e,r){if(e.currentSubject!=null&&e.currentSubject!==r)return It("Redefinition of subject in selector `"+e.toString()+"`"),!1;e.currentSubject=r;var n=e[e.length-1],i=n.checks[0],a=i==null?null:i.type;a===He.DIRECTED_EDGE?i.type=He.NODE_TARGET:a===He.UNDIRECTED_EDGE&&(i.type=He.NODE_NEIGHBOR,i.node=i.nodes[1],i.neighbor=i.nodes[0],i.nodes=null)}}];Y1.forEach(function(t){return t.regexObj=new RegExp("^"+t.regex)});var CV=function(e){for(var r,n,i,a=0;a<Y1.length;a++){var s=Y1[a],o=s.name,l=e.match(s.regexObj);if(l!=null){n=l,r=s,i=o;var u=l[0];e=e.substring(u.length);break}}return{expr:r,match:n,name:i,remaining:e}},MV=function(e){var r=e.match(/^\s+/);if(r){var n=r[0];e=e.substring(n.length)}return e},PV=function(e){var r=this,n=r.inputText=e,i=r[0]=zt();for(r.length=1,n=MV(n);;){var a=CV(n);if(a.expr==null)return It("The selector `"+e+"`is invalid"),!1;var s=a.match.slice(1),o=a.expr.populate(r,i,s);if(o===!1)return!1;if(o!=null&&(i=o),n=a.remaining,n.match(/^\s*$/))break}var l=r[r.length-1];r.currentSubject!=null&&(l.subject=r.currentSubject),l.edgeCount=r.edgeCount,l.compoundCount=r.compoundCount;for(var u=0;u<r.length;u++){var c=r[u];if(c.compoundCount>0&&c.edgeCount>0)return It("The selector `"+e+"` is invalid because it uses both a compound selector and an edge selector"),!1;if(c.edgeCount>1)return It("The selector `"+e+"` is invalid because it uses multiple edge selectors"),!1;c.edgeCount===1&&It("The selector `"+e+"` is deprecated.  Edge selectors do not take effect on changes to source and target nodes after an edge is added, for performance reasons.  Use a class or data selector on edges instead, updating the class or data of an edge when your app detects a change in source or target nodes.")}return!0},DV=function(){if(this.toStringCache!=null)return this.toStringCache;for(var e=function(c){return c??""},r=function(c){return Ke(c)?'"'+c+'"':e(c)},n=function(c){return" "+c+" "},i=function(c,f){var d=c.type,p=c.value;switch(d){case He.GROUP:{var g=e(p);return g.substring(0,g.length-1)}case He.DATA_COMPARE:{var y=c.field,b=c.operator;return"["+y+n(e(b))+r(p)+"]"}case He.DATA_BOOL:{var x=c.operator,w=c.field;return"["+e(x)+w+"]"}case He.DATA_EXIST:{var _=c.field;return"["+_+"]"}case He.META_COMPARE:{var k=c.operator,T=c.field;return"[["+T+n(e(k))+r(p)+"]]"}case He.STATE:return p;case He.ID:return"#"+p;case He.CLASS:return"."+p;case He.PARENT:case He.CHILD:return a(c.parent,f)+n(">")+a(c.child,f);case He.ANCESTOR:case He.DESCENDANT:return a(c.ancestor,f)+" "+a(c.descendant,f);case He.COMPOUND_SPLIT:{var P=a(c.left,f),M=a(c.subject,f),A=a(c.right,f);return P+(P.length>0?" ":"")+M+A}case He.TRUE:return""}},a=function(c,f){return c.checks.reduce(function(d,p,g){return d+(f===c&&g===0?"$":"")+i(p,f)},"")},s="",o=0;o<this.length;o++){var l=this[o];s+=a(l,l.subject),this.length>1&&o<this.length-1&&(s+=", ")}return this.toStringCache=s,s},AV={parse:PV,toString:DV},jk=function(e,r,n){var i,a=Ke(e),s=Ne(e),o=Ke(n),l,u,c=!1,f=!1,d=!1;switch(r.indexOf("!")>=0&&(r=r.replace("!",""),f=!0),r.indexOf("@")>=0&&(r=r.replace("@",""),c=!0),(a||o||c)&&(l=!a&&!s?"":""+e,u=""+n),c&&(e=l=l.toLowerCase(),n=u=u.toLowerCase()),r){case"*=":i=l.indexOf(u)>=0;break;case"$=":i=l.indexOf(u,l.length-u.length)>=0;break;case"^=":i=l.indexOf(u)===0;break;case"=":i=e===n;break;case">":d=!0,i=e>n;break;case">=":d=!0,i=e>=n;break;case"<":d=!0,i=e<n;break;case"<=":d=!0,i=e<=n;break;default:i=!1;break}return f&&(e!=null||!d)&&(i=!i),i},IV=function(e,r){switch(r){case"?":return!!e;case"!":return!e;case"^":return e===void 0}},LV=function(e){return e!==void 0},K2=function(e,r){return e.data(r)},RV=function(e,r){return e[r]()},wr=[],tr=function(e,r){return e.checks.every(function(n){return wr[n.type](n,r)})};wr[He.GROUP]=function(t,e){var r=t.value;return r==="*"||r===e.group()};wr[He.STATE]=function(t,e){var r=t.value;return TV(r,e)};wr[He.ID]=function(t,e){var r=t.value;return e.id()===r};wr[He.CLASS]=function(t,e){var r=t.value;return e.hasClass(r)};wr[He.META_COMPARE]=function(t,e){var r=t.field,n=t.operator,i=t.value;return jk(RV(e,r),n,i)};wr[He.DATA_COMPARE]=function(t,e){var r=t.field,n=t.operator,i=t.value;return jk(K2(e,r),n,i)};wr[He.DATA_BOOL]=function(t,e){var r=t.field,n=t.operator;return IV(K2(e,r),n)};wr[He.DATA_EXIST]=function(t,e){var r=t.field;return t.operator,LV(K2(e,r))};wr[He.UNDIRECTED_EDGE]=function(t,e){var r=t.nodes[0],n=t.nodes[1],i=e.source(),a=e.target();return tr(r,i)&&tr(n,a)||tr(n,i)&&tr(r,a)};wr[He.NODE_NEIGHBOR]=function(t,e){return tr(t.node,e)&&e.neighborhood().some(function(r){return r.isNode()&&tr(t.neighbor,r)})};wr[He.DIRECTED_EDGE]=function(t,e){return tr(t.source,e.source())&&tr(t.target,e.target())};wr[He.NODE_SOURCE]=function(t,e){return tr(t.source,e)&&e.outgoers().some(function(r){return r.isNode()&&tr(t.target,r)})};wr[He.NODE_TARGET]=function(t,e){return tr(t.target,e)&&e.incomers().some(function(r){return r.isNode()&&tr(t.source,r)})};wr[He.CHILD]=function(t,e){return tr(t.child,e)&&tr(t.parent,e.parent())};wr[He.PARENT]=function(t,e){return tr(t.parent,e)&&e.children().some(function(r){return tr(t.child,r)})};wr[He.DESCENDANT]=function(t,e){return tr(t.descendant,e)&&e.ancestors().some(function(r){return tr(t.ancestor,r)})};wr[He.ANCESTOR]=function(t,e){return tr(t.ancestor,e)&&e.descendants().some(function(r){return tr(t.descendant,r)})};wr[He.COMPOUND_SPLIT]=function(t,e){return tr(t.subject,e)&&tr(t.left,e)&&tr(t.right,e)};wr[He.TRUE]=function(){return!0};wr[He.COLLECTION]=function(t,e){var r=t.value;return r.has(e)};wr[He.FILTER]=function(t,e){var r=t.value;return r(e)};var OV=function(e){var r=this;if(r.length===1&&r[0].checks.length===1&&r[0].checks[0].type===He.ID)return e.getElementById(r[0].checks[0].value).collection();var n=function(a){for(var s=0;s<r.length;s++){var o=r[s];if(tr(o,a))return!0}return!1};return r.text()==null&&(n=function(){return!0}),e.filter(n)},NV=function(e){for(var r=this,n=0;n<r.length;n++){var i=r[n];if(tr(i,e))return!0}return!1},zV={matches:NV,filter:OV},ps=function(e){this.inputText=e,this.currentSubject=null,this.compoundCount=0,this.edgeCount=0,this.length=0,e==null||Ke(e)&&e.match(/^\s*$/)||(Vn(e)?this.addQuery({checks:[{type:He.COLLECTION,value:e.collection()}]}):cr(e)?this.addQuery({checks:[{type:He.FILTER,value:e}]}):Ke(e)?this.parse(e)||(this.invalid=!0):or("A selector must be created from a string; found "))},gs=ps.prototype;[AV,zV].forEach(function(t){return et(gs,t)});gs.text=function(){return this.inputText};gs.size=function(){return this.length};gs.eq=function(t){return this[t]};gs.sameText=function(t){return!this.invalid&&!t.invalid&&this.text()===t.text()};gs.addQuery=function(t){this[this.length++]=t};gs.selector=gs.toString;var is={allAre:function(e){var r=new ps(e);return this.every(function(n){return r.matches(n)})},is:function(e){var r=new ps(e);return this.some(function(n){return r.matches(n)})},some:function(e,r){for(var n=0;n<this.length;n++){var i=r?e.apply(r,[this[n],n,this]):e(this[n],n,this);if(i)return!0}return!1},every:function(e,r){for(var n=0;n<this.length;n++){var i=r?e.apply(r,[this[n],n,this]):e(this[n],n,this);if(!i)return!1}return!0},same:function(e){if(this===e)return!0;e=this.cy().collection(e);var r=this.length,n=e.length;return r!==n?!1:r===1?this[0]===e[0]:this.every(function(i){return e.hasElementWithId(i.id())})},anySame:function(e){return e=this.cy().collection(e),this.some(function(r){return e.hasElementWithId(r.id())})},allAreNeighbors:function(e){e=this.cy().collection(e);var r=this.neighborhood();return e.every(function(n){return r.hasElementWithId(n.id())})},contains:function(e){e=this.cy().collection(e);var r=this;return e.every(function(n){return r.hasElementWithId(n.id())})}};is.allAreNeighbours=is.allAreNeighbors;is.has=is.contains;is.equal=is.equals=is.same;var oi=function(e,r){return function(i,a,s,o){var l=i,u=this,c;if(l==null?c="":Vn(l)&&l.length===1&&(c=l.id()),u.length===1&&c){var f=u[0]._private,d=f.traversalCache=f.traversalCache||{},p=d[r]=d[r]||[],g=ds(c),y=p[g];return y||(p[g]=e.call(u,i,a,s,o))}else return e.call(u,i,a,s,o)}},ql={parent:function(e){var r=[];if(this.length===1){var n=this[0]._private.parent;if(n)return n}for(var i=0;i<this.length;i++){var a=this[i],s=a._private.parent;s&&r.push(s)}return this.spawn(r,!0).filter(e)},parents:function(e){for(var r=[],n=this.parent();n.nonempty();){for(var i=0;i<n.length;i++){var a=n[i];r.push(a)}n=n.parent()}return this.spawn(r,!0).filter(e)},commonAncestors:function(e){for(var r,n=0;n<this.length;n++){var i=this[n],a=i.parents();r=r||a,r=r.intersect(a)}return r.filter(e)},orphans:function(e){return this.stdFilter(function(r){return r.isOrphan()}).filter(e)},nonorphans:function(e){return this.stdFilter(function(r){return r.isChild()}).filter(e)},children:oi(function(t){for(var e=[],r=0;r<this.length;r++)for(var n=this[r],i=n._private.children,a=0;a<i.length;a++)e.push(i[a]);return this.spawn(e,!0).filter(t)},"children"),siblings:function(e){return this.parent().children().not(this).filter(e)},isParent:function(){var e=this[0];if(e)return e.isNode()&&e._private.children.length!==0},isChildless:function(){var e=this[0];if(e)return e.isNode()&&e._private.children.length===0},isChild:function(){var e=this[0];if(e)return e.isNode()&&e._private.parent!=null},isOrphan:function(){var e=this[0];if(e)return e.isNode()&&e._private.parent==null},descendants:function(e){var r=[];function n(i){for(var a=0;a<i.length;a++){var s=i[a];r.push(s),s.children().nonempty()&&n(s.children())}}return n(this.children()),this.spawn(r,!0).filter(e)}};function Z2(t,e,r,n){for(var i=[],a=new Kl,s=t.cy(),o=s.hasCompoundNodes(),l=0;l<t.length;l++){var u=t[l];r?i.push(u):o&&n(i,a,u)}for(;i.length>0;){var c=i.shift();e(c),a.add(c.id()),o&&n(i,a,c)}return t}function qk(t,e,r){if(r.isParent())for(var n=r._private.children,i=0;i<n.length;i++){var a=n[i];e.has(a.id())||t.push(a)}}ql.forEachDown=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return Z2(this,t,e,qk)};function Hk(t,e,r){if(r.isChild()){var n=r._private.parent;e.has(n.id())||t.push(n)}}ql.forEachUp=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return Z2(this,t,e,Hk)};function BV(t,e,r){Hk(t,e,r),qk(t,e,r)}ql.forEachUpAndDown=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return Z2(this,t,e,BV)};ql.ancestors=ql.parents;var qc,Vk;qc=Vk={data:At.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),removeData:At.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),scratch:At.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:At.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),rscratch:At.data({field:"rscratch",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!0}),removeRscratch:At.removeData({field:"rscratch",triggerEvent:!1}),id:function(){var e=this[0];if(e)return e._private.data.id}};qc.attr=qc.data;qc.removeAttr=qc.removeData;var FV=Vk,lp={};function tv(t){return function(e){var r=this;if(e===void 0&&(e=!0),r.length!==0)if(r.isNode()&&!r.removed()){for(var n=0,i=r[0],a=i._private.edges,s=0;s<a.length;s++){var o=a[s];!e&&o.isLoop()||(n+=t(i,o))}return n}else return}}et(lp,{degree:tv(function(t,e){return e.source().same(e.target())?2:1}),indegree:tv(function(t,e){return e.target().same(t)?1:0}),outdegree:tv(function(t,e){return e.source().same(t)?1:0})});function No(t,e){return function(r){for(var n,i=this.nodes(),a=0;a<i.length;a++){var s=i[a],o=s[t](r);o!==void 0&&(n===void 0||e(o,n))&&(n=o)}return n}}et(lp,{minDegree:No("degree",function(t,e){return t<e}),maxDegree:No("degree",function(t,e){return t>e}),minIndegree:No("indegree",function(t,e){return t<e}),maxIndegree:No("indegree",function(t,e){return t>e}),minOutdegree:No("outdegree",function(t,e){return t<e}),maxOutdegree:No("outdegree",function(t,e){return t>e})});et(lp,{totalDegree:function(e){for(var r=0,n=this.nodes(),i=0;i<n.length;i++)r+=n[i].degree(e);return r}});var _i,Uk,Wk=function(e,r,n){for(var i=0;i<e.length;i++){var a=e[i];if(!a.locked()){var s=a._private.position,o={x:r.x!=null?r.x-s.x:0,y:r.y!=null?r.y-s.y:0};a.isParent()&&!(o.x===0&&o.y===0)&&a.children().shift(o,n),a.dirtyBoundingBoxCache()}}},T6={field:"position",bindingEvent:"position",allowBinding:!0,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!0,triggerFnName:"emitAndNotify",allowGetting:!0,validKeys:["x","y"],beforeGet:function(e){e.updateCompoundBounds()},beforeSet:function(e,r){Wk(e,r,!1)},onSet:function(e){e.dirtyCompoundBoundsCache()},canSet:function(e){return!e.locked()}};_i=Uk={position:At.data(T6),silentPosition:At.data(et({},T6,{allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!1,beforeSet:function(e,r){Wk(e,r,!0)},onSet:function(e){e.dirtyCompoundBoundsCache()}})),positions:function(e,r){if(Tt(e))r?this.silentPosition(e):this.position(e);else if(cr(e)){var n=e,i=this.cy();i.startBatch();for(var a=0;a<this.length;a++){var s=this[a],o=void 0;(o=n(s,a))&&(r?s.silentPosition(o):s.position(o))}i.endBatch()}return this},silentPositions:function(e){return this.positions(e,!0)},shift:function(e,r,n){var i;if(Tt(e)?(i={x:Ne(e.x)?e.x:0,y:Ne(e.y)?e.y:0},n=r):Ke(e)&&Ne(r)&&(i={x:0,y:0},i[e]=r),i!=null){var a=this.cy();a.startBatch();for(var s=0;s<this.length;s++){var o=this[s];if(!(a.hasCompoundNodes()&&o.isChild()&&o.ancestors().anySame(this))){var l=o.position(),u={x:l.x+i.x,y:l.y+i.y};n?o.silentPosition(u):o.position(u)}}a.endBatch()}return this},silentShift:function(e,r){return Tt(e)?this.shift(e,!0):Ke(e)&&Ne(r)&&this.shift(e,r,!0),this},renderedPosition:function(e,r){var n=this[0],i=this.cy(),a=i.zoom(),s=i.pan(),o=Tt(e)?e:void 0,l=o!==void 0||r!==void 0&&Ke(e);if(n&&n.isNode())if(l)for(var u=0;u<this.length;u++){var c=this[u];r!==void 0?c.position(e,(r-s[e])/a):o!==void 0&&c.position(xk(o,a,s))}else{var f=n.position();return o=rp(f,a,s),e===void 0?o:o[e]}else if(!l)return;return this},relativePosition:function(e,r){var n=this[0],i=this.cy(),a=Tt(e)?e:void 0,s=a!==void 0||r!==void 0&&Ke(e),o=i.hasCompoundNodes();if(n&&n.isNode())if(s)for(var l=0;l<this.length;l++){var u=this[l],c=o?u.parent():null,f=c&&c.length>0,d=f;f&&(c=c[0]);var p=d?c.position():{x:0,y:0};r!==void 0?u.position(e,r+p[e]):a!==void 0&&u.position({x:a.x+p.x,y:a.y+p.y})}else{var g=n.position(),y=o?n.parent():null,b=y&&y.length>0,x=b;b&&(y=y[0]);var w=x?y.position():{x:0,y:0};return a={x:g.x-w.x,y:g.y-w.y},e===void 0?a:a[e]}else if(!s)return;return this}};_i.modelPosition=_i.point=_i.position;_i.modelPositions=_i.points=_i.positions;_i.renderedPoint=_i.renderedPosition;_i.relativePoint=_i.relativePosition;var $V=Uk,_l,ks;_l=ks={};ks.renderedBoundingBox=function(t){var e=this.boundingBox(t),r=this.cy(),n=r.zoom(),i=r.pan(),a=e.x1*n+i.x,s=e.x2*n+i.x,o=e.y1*n+i.y,l=e.y2*n+i.y;return{x1:a,x2:s,y1:o,y2:l,w:s-a,h:l-o}};ks.dirtyCompoundBoundsCache=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,e=this.cy();return!e.styleEnabled()||!e.hasCompoundNodes()?this:(this.forEachUp(function(r){if(r.isParent()){var n=r._private;n.compoundBoundsClean=!1,n.bbCache=null,t||r.emitAndNotify("bounds")}}),this)};ks.updateCompoundBounds=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,e=this.cy();if(!e.styleEnabled()||!e.hasCompoundNodes())return this;if(!t&&e.batching())return this;function r(s){if(!s.isParent())return;var o=s._private,l=s.children(),u=s.pstyle("compound-sizing-wrt-labels").value==="include",c={width:{val:s.pstyle("min-width").pfValue,left:s.pstyle("min-width-bias-left"),right:s.pstyle("min-width-bias-right")},height:{val:s.pstyle("min-height").pfValue,top:s.pstyle("min-height-bias-top"),bottom:s.pstyle("min-height-bias-bottom")}},f=l.boundingBox({includeLabels:u,includeOverlays:!1,useCache:!1}),d=o.position;(f.w===0||f.h===0)&&(f={w:s.pstyle("width").pfValue,h:s.pstyle("height").pfValue},f.x1=d.x-f.w/2,f.x2=d.x+f.w/2,f.y1=d.y-f.h/2,f.y2=d.y+f.h/2);function p(L,R,N){var F=0,$=0,V=R+N;return L>0&&V>0&&(F=R/V*L,$=N/V*L),{biasDiff:F,biasComplementDiff:$}}function g(L,R,N,F){if(N.units==="%")switch(F){case"width":return L>0?N.pfValue*L:0;case"height":return R>0?N.pfValue*R:0;case"average":return L>0&&R>0?N.pfValue*(L+R)/2:0;case"min":return L>0&&R>0?L>R?N.pfValue*R:N.pfValue*L:0;case"max":return L>0&&R>0?L>R?N.pfValue*L:N.pfValue*R:0;default:return 0}else return N.units==="px"?N.pfValue:0}var y=c.width.left.value;c.width.left.units==="px"&&c.width.val>0&&(y=y*100/c.width.val);var b=c.width.right.value;c.width.right.units==="px"&&c.width.val>0&&(b=b*100/c.width.val);var x=c.height.top.value;c.height.top.units==="px"&&c.height.val>0&&(x=x*100/c.height.val);var w=c.height.bottom.value;c.height.bottom.units==="px"&&c.height.val>0&&(w=w*100/c.height.val);var _=p(c.width.val-f.w,y,b),k=_.biasDiff,T=_.biasComplementDiff,P=p(c.height.val-f.h,x,w),M=P.biasDiff,A=P.biasComplementDiff;o.autoPadding=g(f.w,f.h,s.pstyle("padding"),s.pstyle("padding-relative-to").value),o.autoWidth=Math.max(f.w,c.width.val),d.x=(-k+f.x1+f.x2+T)/2,o.autoHeight=Math.max(f.h,c.height.val),d.y=(-M+f.y1+f.y2+A)/2}for(var n=0;n<this.length;n++){var i=this[n],a=i._private;(!a.compoundBoundsClean||t)&&(r(i),e.batching()||(a.compoundBoundsClean=!0))}return this};var ai=function(e){return e===1/0||e===-1/0?0:e},mi=function(e,r,n,i,a){i-r===0||a-n===0||r==null||n==null||i==null||a==null||(e.x1=r<e.x1?r:e.x1,e.x2=i>e.x2?i:e.x2,e.y1=n<e.y1?n:e.y1,e.y2=a>e.y2?a:e.y2,e.w=e.x2-e.x1,e.h=e.y2-e.y1)},js=function(e,r){return r==null?e:mi(e,r.x1,r.y1,r.x2,r.y2)},Eu=function(e,r,n){return ii(e,r,n)},Tf=function(e,r,n){if(!r.cy().headless()){var i=r._private,a=i.rstyle,s=a.arrowWidth/2,o=r.pstyle(n+"-arrow-shape").value,l,u;if(o!=="none"){n==="source"?(l=a.srcX,u=a.srcY):n==="target"?(l=a.tgtX,u=a.tgtY):(l=a.midX,u=a.midY);var c=i.arrowBounds=i.arrowBounds||{},f=c[n]=c[n]||{};f.x1=l-s,f.y1=u-s,f.x2=l+s,f.y2=u+s,f.w=f.x2-f.x1,f.h=f.y2-f.y1,rd(f,1),mi(e,f.x1,f.y1,f.x2,f.y2)}}},rv=function(e,r,n){if(!r.cy().headless()){var i;n?i=n+"-":i="";var a=r._private,s=a.rstyle,o=r.pstyle(i+"label").strValue;if(o){var l=r.pstyle("text-halign"),u=r.pstyle("text-valign"),c=Eu(s,"labelWidth",n),f=Eu(s,"labelHeight",n),d=Eu(s,"labelX",n),p=Eu(s,"labelY",n),g=r.pstyle(i+"text-margin-x").pfValue,y=r.pstyle(i+"text-margin-y").pfValue,b=r.isEdge(),x=r.pstyle(i+"text-rotation"),w=r.pstyle("text-outline-width").pfValue,_=r.pstyle("text-border-width").pfValue,k=_/2,T=r.pstyle("text-background-padding").pfValue,P=2,M=f,A=c,L=A/2,R=M/2,N,F,$,V;if(b)N=d-L,F=d+L,$=p-R,V=p+R;else{switch(l.value){case"left":N=d-A,F=d;break;case"center":N=d-L,F=d+L;break;case"right":N=d,F=d+A;break}switch(u.value){case"top":$=p-M,V=p;break;case"center":$=p-R,V=p+R;break;case"bottom":$=p,V=p+M;break}}var X=g-Math.max(w,k)-T-P,K=g+Math.max(w,k)+T+P,W=y-Math.max(w,k)-T-P,H=y+Math.max(w,k)+T+P;N+=X,F+=K,$+=W,V+=H;var ee=n||"main",re=a.labelBounds,G=re[ee]=re[ee]||{};G.x1=N,G.y1=$,G.x2=F,G.y2=V,G.w=F-N,G.h=V-$,G.leftPad=X,G.rightPad=K,G.topPad=W,G.botPad=H;var Z=b&&x.strValue==="autorotate",ue=x.pfValue!=null&&x.pfValue!==0;if(Z||ue){var pe=Z?Eu(a.rstyle,"labelAngle",n):x.pfValue,ge=Math.cos(pe),fe=Math.sin(pe),Se=(N+F)/2,Te=($+V)/2;if(!b){switch(l.value){case"left":Se=F;break;case"right":Se=N;break}switch(u.value){case"top":Te=V;break;case"bottom":Te=$;break}}var ve=function(Et,Be){return Et=Et-Se,Be=Be-Te,{x:Et*ge-Be*fe+Se,y:Et*fe+Be*ge+Te}},se=ve(N,$),ye=ve(N,V),we=ve(F,$),Re=ve(F,V);N=Math.min(se.x,ye.x,we.x,Re.x),F=Math.max(se.x,ye.x,we.x,Re.x),$=Math.min(se.y,ye.y,we.y,Re.y),V=Math.max(se.y,ye.y,we.y,Re.y)}var Ve=ee+"Rot",st=re[Ve]=re[Ve]||{};st.x1=N,st.y1=$,st.x2=F,st.y2=V,st.w=F-N,st.h=V-$,mi(e,N,$,F,V),mi(a.labelBounds.all,N,$,F,V)}return e}},jV=function(e,r){if(!r.cy().headless()){var n=r.pstyle("outline-opacity").value,i=r.pstyle("outline-width").value;if(n>0&&i>0){var a=r.pstyle("outline-offset").value,s=r.pstyle("shape").value,o=i+a,l=(e.w+o*2)/e.w,u=(e.h+o*2)/e.h,c=0,f=0;["diamond","pentagon","round-triangle"].includes(s)?(l=(e.w+o*2.4)/e.w,f=-o/3.6):["concave-hexagon","rhomboid","right-rhomboid"].includes(s)?l=(e.w+o*2.4)/e.w:s==="star"?(l=(e.w+o*2.8)/e.w,u=(e.h+o*2.6)/e.h,f=-o/3.8):s==="triangle"?(l=(e.w+o*2.8)/e.w,u=(e.h+o*2.4)/e.h,f=-o/1.4):s==="vee"&&(l=(e.w+o*4.4)/e.w,u=(e.h+o*3.8)/e.h,f=-o*.5);var d=e.h*u-e.h,p=e.w*l-e.w;if(nd(e,[Math.ceil(d/2),Math.ceil(p/2)]),c!=0||f!==0){var g=Eq(e,c,f);wk(e,g)}}}},qV=function(e,r){var n=e._private.cy,i=n.styleEnabled(),a=n.headless(),s=Rn(),o=e._private,l=e.isNode(),u=e.isEdge(),c,f,d,p,g,y,b=o.rstyle,x=l&&i?e.pstyle("bounds-expansion").pfValue:[0],w=function(Lt){return Lt.pstyle("display").value!=="none"},_=!i||w(e)&&(!u||w(e.source())&&w(e.target()));if(_){var k=0,T=0;i&&r.includeOverlays&&(k=e.pstyle("overlay-opacity").value,k!==0&&(T=e.pstyle("overlay-padding").value));var P=0,M=0;i&&r.includeUnderlays&&(P=e.pstyle("underlay-opacity").value,P!==0&&(M=e.pstyle("underlay-padding").value));var A=Math.max(T,M),L=0,R=0;if(i&&(L=e.pstyle("width").pfValue,R=L/2),l&&r.includeNodes){var N=e.position();g=N.x,y=N.y;var F=e.outerWidth(),$=F/2,V=e.outerHeight(),X=V/2;c=g-$,f=g+$,d=y-X,p=y+X,mi(s,c,d,f,p),i&&r.includeOutlines&&jV(s,e)}else if(u&&r.includeEdges)if(i&&!a){var K=e.pstyle("curve-style").strValue;if(c=Math.min(b.srcX,b.midX,b.tgtX),f=Math.max(b.srcX,b.midX,b.tgtX),d=Math.min(b.srcY,b.midY,b.tgtY),p=Math.max(b.srcY,b.midY,b.tgtY),c-=R,f+=R,d-=R,p+=R,mi(s,c,d,f,p),K==="haystack"){var W=b.haystackPts;if(W&&W.length===2){if(c=W[0].x,d=W[0].y,f=W[1].x,p=W[1].y,c>f){var H=c;c=f,f=H}if(d>p){var ee=d;d=p,p=ee}mi(s,c-R,d-R,f+R,p+R)}}else if(K==="bezier"||K==="unbundled-bezier"||K.endsWith("segments")||K.endsWith("taxi")){var re;switch(K){case"bezier":case"unbundled-bezier":re=b.bezierPts;break;case"segments":case"taxi":case"round-segments":case"round-taxi":re=b.linePts;break}if(re!=null)for(var G=0;G<re.length;G++){var Z=re[G];c=Z.x-R,f=Z.x+R,d=Z.y-R,p=Z.y+R,mi(s,c,d,f,p)}}}else{var ue=e.source(),pe=ue.position(),ge=e.target(),fe=ge.position();if(c=pe.x,f=fe.x,d=pe.y,p=fe.y,c>f){var Se=c;c=f,f=Se}if(d>p){var Te=d;d=p,p=Te}c-=R,f+=R,d-=R,p+=R,mi(s,c,d,f,p)}if(i&&r.includeEdges&&u&&(Tf(s,e,"mid-source"),Tf(s,e,"mid-target"),Tf(s,e,"source"),Tf(s,e,"target")),i){var ve=e.pstyle("ghost").value==="yes";if(ve){var se=e.pstyle("ghost-offset-x").pfValue,ye=e.pstyle("ghost-offset-y").pfValue;mi(s,s.x1+se,s.y1+ye,s.x2+se,s.y2+ye)}}var we=o.bodyBounds=o.bodyBounds||{};dw(we,s),nd(we,x),rd(we,1),i&&(c=s.x1,f=s.x2,d=s.y1,p=s.y2,mi(s,c-A,d-A,f+A,p+A));var Re=o.overlayBounds=o.overlayBounds||{};dw(Re,s),nd(Re,x),rd(Re,1);var Ve=o.labelBounds=o.labelBounds||{};Ve.all!=null?Tq(Ve.all):Ve.all=Rn(),i&&r.includeLabels&&(r.includeMainLabels&&rv(s,e,null),u&&(r.includeSourceLabels&&rv(s,e,"source"),r.includeTargetLabels&&rv(s,e,"target")))}return s.x1=ai(s.x1),s.y1=ai(s.y1),s.x2=ai(s.x2),s.y2=ai(s.y2),s.w=ai(s.x2-s.x1),s.h=ai(s.y2-s.y1),s.w>0&&s.h>0&&_&&(nd(s,x),rd(s,1)),s},Gk=function(e){var r=0,n=function(s){return(s?1:0)<<r++},i=0;return i+=n(e.incudeNodes),i+=n(e.includeEdges),i+=n(e.includeLabels),i+=n(e.includeMainLabels),i+=n(e.includeSourceLabels),i+=n(e.includeTargetLabels),i+=n(e.includeOverlays),i+=n(e.includeOutlines),i},Yk=function(e){var r=function(o){return Math.round(o)};if(e.isEdge()){var n=e.source().position(),i=e.target().position();return sw([r(n.x),r(n.y),r(i.x),r(i.y)])}else{var a=e.position();return sw([r(a.x),r(a.y)])}},E6=function(e,r){var n=e._private,i,a=e.isEdge(),s=r==null?C6:Gk(r),o=s===C6;if(n.bbCache==null?(i=qV(e,Hc),n.bbCache=i,n.bbCachePosKey=Yk(e)):i=n.bbCache,!o){var l=e.isNode();i=Rn(),(r.includeNodes&&l||r.includeEdges&&!l)&&(r.includeOverlays?js(i,n.overlayBounds):js(i,n.bodyBounds)),r.includeLabels&&(r.includeMainLabels&&(!a||r.includeSourceLabels&&r.includeTargetLabels)?js(i,n.labelBounds.all):(r.includeMainLabels&&js(i,n.labelBounds.mainRot),r.includeSourceLabels&&js(i,n.labelBounds.sourceRot),r.includeTargetLabels&&js(i,n.labelBounds.targetRot))),i.w=i.x2-i.x1,i.h=i.y2-i.y1}return i},Hc={includeNodes:!0,includeEdges:!0,includeLabels:!0,includeMainLabels:!0,includeSourceLabels:!0,includeTargetLabels:!0,includeOverlays:!0,includeUnderlays:!0,includeOutlines:!0,useCache:!0},C6=Gk(Hc),M6=Or(Hc);ks.boundingBox=function(t){var e,r=t===void 0||t.useCache===void 0||t.useCache===!0,n=Fl(function(c){var f=c._private;return f.bbCache==null||f.styleDirty||f.bbCachePosKey!==Yk(c)},function(c){return c.id()});if(r&&this.length===1&&!n(this[0]))t===void 0?t=Hc:t=M6(t),e=E6(this[0],t);else{e=Rn(),t=t||Hc;var i=M6(t),a=this,s=a.cy(),o=s.styleEnabled();this.edges().forEach(n),this.nodes().forEach(n),o&&this.recalculateRenderedStyle(r),this.updateCompoundBounds(!r);for(var l=0;l<a.length;l++){var u=a[l];n(u)&&u.dirtyBoundingBoxCache(),js(e,E6(u,i))}}return e.x1=ai(e.x1),e.y1=ai(e.y1),e.x2=ai(e.x2),e.y2=ai(e.y2),e.w=ai(e.x2-e.x1),e.h=ai(e.y2-e.y1),e};ks.dirtyBoundingBoxCache=function(){for(var t=0;t<this.length;t++){var e=this[t]._private;e.bbCache=null,e.bbCachePosKey=null,e.bodyBounds=null,e.overlayBounds=null,e.labelBounds.all=null,e.labelBounds.source=null,e.labelBounds.target=null,e.labelBounds.main=null,e.labelBounds.sourceRot=null,e.labelBounds.targetRot=null,e.labelBounds.mainRot=null,e.arrowBounds.source=null,e.arrowBounds.target=null,e.arrowBounds["mid-source"]=null,e.arrowBounds["mid-target"]=null}return this.emitAndNotify("bounds"),this};ks.boundingBoxAt=function(t){var e=this.nodes(),r=this.cy(),n=r.hasCompoundNodes(),i=r.collection();if(n&&(i=e.filter(function(u){return u.isParent()}),e=e.not(i)),Tt(t)){var a=t;t=function(){return a}}var s=function(c,f){return c._private.bbAtOldPos=t(c,f)},o=function(c){return c._private.bbAtOldPos};r.startBatch(),e.forEach(s).silentPositions(t),n&&(i.dirtyCompoundBoundsCache(),i.dirtyBoundingBoxCache(),i.updateCompoundBounds(!0));var l=kq(this.boundingBox({useCache:!1}));return e.silentPositions(o),n&&(i.dirtyCompoundBoundsCache(),i.dirtyBoundingBoxCache(),i.updateCompoundBounds(!0)),r.endBatch(),l};_l.boundingbox=_l.bb=_l.boundingBox;_l.renderedBoundingbox=_l.renderedBoundingBox;var HV=ks,ju,g0;ju=g0={};var Xk=function(e){e.uppercaseName=Ub(e.name),e.autoName="auto"+e.uppercaseName,e.labelName="label"+e.uppercaseName,e.outerName="outer"+e.uppercaseName,e.uppercaseOuterName=Ub(e.outerName),ju[e.name]=function(){var n=this[0],i=n._private,a=i.cy,s=a._private.styleEnabled;if(n)if(s){if(n.isParent())return n.updateCompoundBounds(),i[e.autoName]||0;var o=n.pstyle(e.name);switch(o.strValue){case"label":return n.recalculateRenderedStyle(),i.rstyle[e.labelName]||0;default:return o.pfValue}}else return 1},ju["outer"+e.uppercaseName]=function(){var n=this[0],i=n._private,a=i.cy,s=a._private.styleEnabled;if(n)if(s){var o=n[e.name](),l=n.pstyle("border-width").pfValue,u=2*n.padding();return o+l+u}else return 1},ju["rendered"+e.uppercaseName]=function(){var n=this[0];if(n){var i=n[e.name]();return i*this.cy().zoom()}},ju["rendered"+e.uppercaseOuterName]=function(){var n=this[0];if(n){var i=n[e.outerName]();return i*this.cy().zoom()}}};Xk({name:"width"});Xk({name:"height"});g0.padding=function(){var t=this[0],e=t._private;return t.isParent()?(t.updateCompoundBounds(),e.autoPadding!==void 0?e.autoPadding:t.pstyle("padding").pfValue):t.pstyle("padding").pfValue};g0.paddedHeight=function(){var t=this[0];return t.height()+2*t.padding()};g0.paddedWidth=function(){var t=this[0];return t.width()+2*t.padding()};var VV=g0,UV=function(e,r){if(e.isEdge()&&e.takesUpSpace())return r(e)},WV=function(e,r){if(e.isEdge()&&e.takesUpSpace()){var n=e.cy();return rp(r(e),n.zoom(),n.pan())}},GV=function(e,r){if(e.isEdge()&&e.takesUpSpace()){var n=e.cy(),i=n.pan(),a=n.zoom();return r(e).map(function(s){return rp(s,a,i)})}},YV=function(e){return e.renderer().getControlPoints(e)},XV=function(e){return e.renderer().getSegmentPoints(e)},KV=function(e){return e.renderer().getSourceEndpoint(e)},ZV=function(e){return e.renderer().getTargetEndpoint(e)},QV=function(e){return e.renderer().getEdgeMidpoint(e)},P6={controlPoints:{get:YV,mult:!0},segmentPoints:{get:XV,mult:!0},sourceEndpoint:{get:KV},targetEndpoint:{get:ZV},midpoint:{get:QV}},JV=function(e){return"rendered"+e[0].toUpperCase()+e.substr(1)},eU=Object.keys(P6).reduce(function(t,e){var r=P6[e],n=JV(e);return t[e]=function(){return UV(this,r.get)},r.mult?t[n]=function(){return GV(this,r.get)}:t[n]=function(){return WV(this,r.get)},t},{}),tU=et({},$V,HV,VV,eU);/*!
Event object based on jQuery events, MIT license

https://jquery.org/license/
https://tldrlegal.com/license/mit-license
https://github.com/jquery/jquery/blob/master/src/event.js
*/var Kk=function(e,r){this.recycle(e,r)};function Cu(){return!1}function Ef(){return!0}Kk.prototype={instanceString:function(){return"event"},recycle:function(e,r){if(this.isImmediatePropagationStopped=this.isPropagationStopped=this.isDefaultPrevented=Cu,e!=null&&e.preventDefault?(this.type=e.type,this.isDefaultPrevented=e.defaultPrevented?Ef:Cu):e!=null&&e.type?r=e:this.type=e,r!=null&&(this.originalEvent=r.originalEvent,this.type=r.type!=null?r.type:this.type,this.cy=r.cy,this.target=r.target,this.position=r.position,this.renderedPosition=r.renderedPosition,this.namespace=r.namespace,this.layout=r.layout),this.cy!=null&&this.position!=null&&this.renderedPosition==null){var n=this.position,i=this.cy.zoom(),a=this.cy.pan();this.renderedPosition={x:n.x*i+a.x,y:n.y*i+a.y}}this.timeStamp=e&&e.timeStamp||Date.now()},preventDefault:function(){this.isDefaultPrevented=Ef;var e=this.originalEvent;e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){this.isPropagationStopped=Ef;var e=this.originalEvent;e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=Ef,this.stopPropagation()},isDefaultPrevented:Cu,isPropagationStopped:Cu,isImmediatePropagationStopped:Cu};var Zk=/^([^.]+)(\.(?:[^.]+))?$/,rU=".*",Qk={qualifierCompare:function(e,r){return e===r},eventMatches:function(){return!0},addEventFields:function(){},callbackContext:function(e){return e},beforeEmit:function(){},afterEmit:function(){},bubble:function(){return!1},parent:function(){return null},context:null},D6=Object.keys(Qk),nU={};function up(){for(var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:nU,e=arguments.length>1?arguments[1]:void 0,r=0;r<D6.length;r++){var n=D6[r];this[n]=t[n]||Qk[n]}this.context=e||this.context,this.listeners=[],this.emitting=0}var ms=up.prototype,Jk=function(e,r,n,i,a,s,o){cr(i)&&(a=i,i=null),o&&(s==null?s=o:s=et({},s,o));for(var l=Ht(n)?n:n.split(/\s+/),u=0;u<l.length;u++){var c=l[u];if(!fs(c)){var f=c.match(Zk);if(f){var d=f[1],p=f[2]?f[2]:null,g=r(e,c,d,p,i,a,s);if(g===!1)break}}}},A6=function(e,r){return e.addEventFields(e.context,r),new Kk(r.type,r)},iU=function(e,r,n){if(gj(n)){r(e,n);return}else if(Tt(n)){r(e,A6(e,n));return}for(var i=Ht(n)?n:n.split(/\s+/),a=0;a<i.length;a++){var s=i[a];if(!fs(s)){var o=s.match(Zk);if(o){var l=o[1],u=o[2]?o[2]:null,c=A6(e,{type:l,namespace:u,target:e.context});r(e,c)}}}};ms.on=ms.addListener=function(t,e,r,n,i){return Jk(this,function(a,s,o,l,u,c,f){cr(c)&&a.listeners.push({event:s,callback:c,type:o,namespace:l,qualifier:u,conf:f})},t,e,r,n,i),this};ms.one=function(t,e,r,n){return this.on(t,e,r,n,{one:!0})};ms.removeListener=ms.off=function(t,e,r,n){var i=this;this.emitting!==0&&(this.listeners=Yj(this.listeners));for(var a=this.listeners,s=function(u){var c=a[u];Jk(i,function(f,d,p,g,y,b){if((c.type===p||t==="*")&&(!g&&c.namespace!==".*"||c.namespace===g)&&(!y||f.qualifierCompare(c.qualifier,y))&&(!b||c.callback===b))return a.splice(u,1),!1},t,e,r,n)},o=a.length-1;o>=0;o--)s(o);return this};ms.removeAllListeners=function(){return this.removeListener("*")};ms.emit=ms.trigger=function(t,e,r){var n=this.listeners,i=n.length;return this.emitting++,Ht(e)||(e=[e]),iU(this,function(a,s){r!=null&&(n=[{event:s.event,type:s.type,namespace:s.namespace,callback:r}],i=n.length);for(var o=function(){var c=n[l];if(c.type===s.type&&(!c.namespace||c.namespace===s.namespace||c.namespace===rU)&&a.eventMatches(a.context,c,s)){var f=[s];e!=null&&Kj(f,e),a.beforeEmit(a.context,c,s),c.conf&&c.conf.one&&(a.listeners=a.listeners.filter(function(g){return g!==c}));var d=a.callbackContext(a.context,c,s),p=c.callback.apply(d,f);a.afterEmit(a.context,c,s),p===!1&&(s.stopPropagation(),s.preventDefault())}},l=0;l<i;l++)o();a.bubble(a.context)&&!s.isPropagationStopped()&&a.parent(a.context).emit(s,e)},t),this.emitting--,this};var aU={qualifierCompare:function(e,r){return e==null||r==null?e==null&&r==null:e.sameText(r)},eventMatches:function(e,r,n){var i=r.qualifier;return i!=null?e!==n.target&&u0(n.target)&&i.matches(n.target):!0},addEventFields:function(e,r){r.cy=e.cy(),r.target=e},callbackContext:function(e,r,n){return r.qualifier!=null?n.target:e},beforeEmit:function(e,r){r.conf&&r.conf.once&&r.conf.onceCollection.removeListener(r.event,r.qualifier,r.callback)},bubble:function(){return!0},parent:function(e){return e.isChild()?e.parent():e.cy()}},Cf=function(e){return Ke(e)?new ps(e):e},eT={createEmitter:function(){for(var e=0;e<this.length;e++){var r=this[e],n=r._private;n.emitter||(n.emitter=new up(aU,r))}return this},emitter:function(){return this._private.emitter},on:function(e,r,n){for(var i=Cf(r),a=0;a<this.length;a++){var s=this[a];s.emitter().on(e,i,n)}return this},removeListener:function(e,r,n){for(var i=Cf(r),a=0;a<this.length;a++){var s=this[a];s.emitter().removeListener(e,i,n)}return this},removeAllListeners:function(){for(var e=0;e<this.length;e++){var r=this[e];r.emitter().removeAllListeners()}return this},one:function(e,r,n){for(var i=Cf(r),a=0;a<this.length;a++){var s=this[a];s.emitter().one(e,i,n)}return this},once:function(e,r,n){for(var i=Cf(r),a=0;a<this.length;a++){var s=this[a];s.emitter().on(e,i,n,{once:!0,onceCollection:this})}},emit:function(e,r){for(var n=0;n<this.length;n++){var i=this[n];i.emitter().emit(e,r)}return this},emitAndNotify:function(e,r){if(this.length!==0)return this.cy().notify(e,this),this.emit(e,r),this}};At.eventAliasesOn(eT);var tT={nodes:function(e){return this.filter(function(r){return r.isNode()}).filter(e)},edges:function(e){return this.filter(function(r){return r.isEdge()}).filter(e)},byGroup:function(){for(var e=this.spawn(),r=this.spawn(),n=0;n<this.length;n++){var i=this[n];i.isNode()?e.push(i):r.push(i)}return{nodes:e,edges:r}},filter:function(e,r){if(e===void 0)return this;if(Ke(e)||Vn(e))return new ps(e).filter(this);if(cr(e)){for(var n=this.spawn(),i=this,a=0;a<i.length;a++){var s=i[a],o=r?e.apply(r,[s,a,i]):e(s,a,i);o&&n.push(s)}return n}return this.spawn()},not:function(e){if(e){Ke(e)&&(e=this.filter(e));for(var r=this.spawn(),n=0;n<this.length;n++){var i=this[n],a=e.has(i);a||r.push(i)}return r}else return this},absoluteComplement:function(){var e=this.cy();return e.mutableElements().not(this)},intersect:function(e){if(Ke(e)){var r=e;return this.filter(r)}for(var n=this.spawn(),i=this,a=e,s=this.length<e.length,o=s?i:a,l=s?a:i,u=0;u<o.length;u++){var c=o[u];l.has(c)&&n.push(c)}return n},xor:function(e){var r=this._private.cy;Ke(e)&&(e=r.$(e));var n=this.spawn(),i=this,a=e,s=function(l,u){for(var c=0;c<l.length;c++){var f=l[c],d=f._private.data.id,p=u.hasElementWithId(d);p||n.push(f)}};return s(i,a),s(a,i),n},diff:function(e){var r=this._private.cy;Ke(e)&&(e=r.$(e));var n=this.spawn(),i=this.spawn(),a=this.spawn(),s=this,o=e,l=function(c,f,d){for(var p=0;p<c.length;p++){var g=c[p],y=g._private.data.id,b=f.hasElementWithId(y);b?a.merge(g):d.push(g)}};return l(s,o,n),l(o,s,i),{left:n,right:i,both:a}},add:function(e){var r=this._private.cy;if(!e)return this;if(Ke(e)){var n=e;e=r.mutableElements().filter(n)}for(var i=this.spawnSelf(),a=0;a<e.length;a++){var s=e[a],o=!this.has(s);o&&i.push(s)}return i},merge:function(e){var r=this._private,n=r.cy;if(!e)return this;if(e&&Ke(e)){var i=e;e=n.mutableElements().filter(i)}for(var a=r.map,s=0;s<e.length;s++){var o=e[s],l=o._private.data.id,u=!a.has(l);if(u){var c=this.length++;this[c]=o,a.set(l,{ele:o,index:c})}}return this},unmergeAt:function(e){var r=this[e],n=r.id(),i=this._private,a=i.map;this[e]=void 0,a.delete(n);var s=e===this.length-1;if(this.length>1&&!s){var o=this.length-1,l=this[o],u=l._private.data.id;this[o]=void 0,this[e]=l,a.set(u,{ele:l,index:e})}return this.length--,this},unmergeOne:function(e){e=e[0];var r=this._private,n=e._private.data.id,i=r.map,a=i.get(n);if(!a)return this;var s=a.index;return this.unmergeAt(s),this},unmerge:function(e){var r=this._private.cy;if(!e)return this;if(e&&Ke(e)){var n=e;e=r.mutableElements().filter(n)}for(var i=0;i<e.length;i++)this.unmergeOne(e[i]);return this},unmergeBy:function(e){for(var r=this.length-1;r>=0;r--){var n=this[r];e(n)&&this.unmergeAt(r)}return this},map:function(e,r){for(var n=[],i=this,a=0;a<i.length;a++){var s=i[a],o=r?e.apply(r,[s,a,i]):e(s,a,i);n.push(o)}return n},reduce:function(e,r){for(var n=r,i=this,a=0;a<i.length;a++)n=e(n,i[a],a,i);return n},max:function(e,r){for(var n=-1/0,i,a=this,s=0;s<a.length;s++){var o=a[s],l=r?e.apply(r,[o,s,a]):e(o,s,a);l>n&&(n=l,i=o)}return{value:n,ele:i}},min:function(e,r){for(var n=1/0,i,a=this,s=0;s<a.length;s++){var o=a[s],l=r?e.apply(r,[o,s,a]):e(o,s,a);l<n&&(n=l,i=o)}return{value:n,ele:i}}},Ct=tT;Ct.u=Ct["|"]=Ct["+"]=Ct.union=Ct.or=Ct.add;Ct["\\"]=Ct["!"]=Ct["-"]=Ct.difference=Ct.relativeComplement=Ct.subtract=Ct.not;Ct.n=Ct["&"]=Ct["."]=Ct.and=Ct.intersection=Ct.intersect;Ct["^"]=Ct["(+)"]=Ct["(-)"]=Ct.symmetricDifference=Ct.symdiff=Ct.xor;Ct.fnFilter=Ct.filterFn=Ct.stdFilter=Ct.filter;Ct.complement=Ct.abscomp=Ct.absoluteComplement;var sU={isNode:function(){return this.group()==="nodes"},isEdge:function(){return this.group()==="edges"},isLoop:function(){return this.isEdge()&&this.source()[0]===this.target()[0]},isSimple:function(){return this.isEdge()&&this.source()[0]!==this.target()[0]},group:function(){var e=this[0];if(e)return e._private.group}},rT=function(e,r){var n=e.cy(),i=n.hasCompoundNodes();function a(c){var f=c.pstyle("z-compound-depth");return f.value==="auto"?i?c.zDepth():0:f.value==="bottom"?-1:f.value==="top"?j2:0}var s=a(e)-a(r);if(s!==0)return s;function o(c){var f=c.pstyle("z-index-compare");return f.value==="auto"&&c.isNode()?1:0}var l=o(e)-o(r);if(l!==0)return l;var u=e.pstyle("z-index").value-r.pstyle("z-index").value;return u!==0?u:e.poolIndex()-r.poolIndex()},ch={forEach:function(e,r){if(cr(e))for(var n=this.length,i=0;i<n;i++){var a=this[i],s=r?e.apply(r,[a,i,this]):e(a,i,this);if(s===!1)break}return this},toArray:function(){for(var e=[],r=0;r<this.length;r++)e.push(this[r]);return e},slice:function(e,r){var n=[],i=this.length;r==null&&(r=i),e==null&&(e=0),e<0&&(e=i+e),r<0&&(r=i+r);for(var a=e;a>=0&&a<r&&a<i;a++)n.push(this[a]);return this.spawn(n)},size:function(){return this.length},eq:function(e){return this[e]||this.spawn()},first:function(){return this[0]||this.spawn()},last:function(){return this[this.length-1]||this.spawn()},empty:function(){return this.length===0},nonempty:function(){return!this.empty()},sort:function(e){if(!cr(e))return this;var r=this.toArray().sort(e);return this.spawn(r)},sortByZIndex:function(){return this.sort(rT)},zDepth:function(){var e=this[0];if(e){var r=e._private,n=r.group;if(n==="nodes"){var i=r.data.parent?e.parents().size():0;return e.isParent()?i:j2-1}else{var a=r.source,s=r.target,o=a.zDepth(),l=s.zDepth();return Math.max(o,l,0)}}}};ch.each=ch.forEach;var oU=function(){var e="undefined",r=(typeof Symbol>"u"?"undefined":Rr(Symbol))!=e&&Rr(Symbol.iterator)!=e;r&&(ch[Symbol.iterator]=function(){var n=this,i={value:void 0,done:!1},a=0,s=this.length;return JS({next:function(){return a<s?i.value=n[a++]:(i.value=void 0,i.done=!0),i}},Symbol.iterator,function(){return this})})};oU();var lU=Or({nodeDimensionsIncludeLabels:!1}),ad={layoutDimensions:function(e){e=lU(e);var r;if(!this.takesUpSpace())r={w:0,h:0};else if(e.nodeDimensionsIncludeLabels){var n=this.boundingBox();r={w:n.w,h:n.h}}else r={w:this.outerWidth(),h:this.outerHeight()};return(r.w===0||r.h===0)&&(r.w=r.h=1),r},layoutPositions:function(e,r,n){var i=this.nodes().filter(function(T){return!T.isParent()}),a=this.cy(),s=r.eles,o=function(P){return P.id()},l=Fl(n,o);e.emit({type:"layoutstart",layout:e}),e.animations=[];var u=function(P,M,A){var L={x:M.x1+M.w/2,y:M.y1+M.h/2},R={x:(A.x-L.x)*P,y:(A.y-L.y)*P};return{x:L.x+R.x,y:L.y+R.y}},c=r.spacingFactor&&r.spacingFactor!==1,f=function(){if(!c)return null;for(var P=Rn(),M=0;M<i.length;M++){var A=i[M],L=l(A,M);Cq(P,L.x,L.y)}return P},d=f(),p=Fl(function(T,P){var M=l(T,P);if(c){var A=Math.abs(r.spacingFactor);M=u(A,d,M)}return r.transform!=null&&(M=r.transform(T,M)),M},o);if(r.animate){for(var g=0;g<i.length;g++){var y=i[g],b=p(y,g),x=r.animateFilter==null||r.animateFilter(y,g);if(x){var w=y.animation({position:b,duration:r.animationDuration,easing:r.animationEasing});e.animations.push(w)}else y.position(b)}if(r.fit){var _=a.animation({fit:{boundingBox:s.boundingBoxAt(p),padding:r.padding},duration:r.animationDuration,easing:r.animationEasing});e.animations.push(_)}else if(r.zoom!==void 0&&r.pan!==void 0){var k=a.animation({zoom:r.zoom,pan:r.pan,duration:r.animationDuration,easing:r.animationEasing});e.animations.push(k)}e.animations.forEach(function(T){return T.play()}),e.one("layoutready",r.ready),e.emit({type:"layoutready",layout:e}),Zl.all(e.animations.map(function(T){return T.promise()})).then(function(){e.one("layoutstop",r.stop),e.emit({type:"layoutstop",layout:e})})}else i.positions(p),r.fit&&a.fit(r.eles,r.padding),r.zoom!=null&&a.zoom(r.zoom),r.pan&&a.pan(r.pan),e.one("layoutready",r.ready),e.emit({type:"layoutready",layout:e}),e.one("layoutstop",r.stop),e.emit({type:"layoutstop",layout:e});return this},layout:function(e){var r=this.cy();return r.makeLayout(et({},e,{eles:this}))}};ad.createLayout=ad.makeLayout=ad.layout;function nT(t,e,r){var n=r._private,i=n.styleCache=n.styleCache||[],a;return(a=i[t])!=null||(a=i[t]=e(r)),a}function cp(t,e){return t=ds(t),function(n){return nT(t,e,n)}}function fp(t,e){t=ds(t);var r=function(i){return e.call(i)};return function(){var i=this[0];if(i)return nT(t,r,i)}}var Qr={recalculateRenderedStyle:function(e){var r=this.cy(),n=r.renderer(),i=r.styleEnabled();return n&&i&&n.recalculateRenderedStyle(this,e),this},dirtyStyleCache:function(){var e=this.cy(),r=function(a){return a._private.styleCache=null};if(e.hasCompoundNodes()){var n;n=this.spawnSelf().merge(this.descendants()).merge(this.parents()),n.merge(n.connectedEdges()),n.forEach(r)}else this.forEach(function(i){r(i),i.connectedEdges().forEach(r)});return this},updateStyle:function(e){var r=this._private.cy;if(!r.styleEnabled())return this;if(r.batching()){var n=r._private.batchStyleEles;return n.merge(this),this}var i=r.hasCompoundNodes(),a=this;e=!!(e||e===void 0),i&&(a=this.spawnSelf().merge(this.descendants()).merge(this.parents()));var s=a;return e?s.emitAndNotify("style"):s.emit("style"),a.forEach(function(o){return o._private.styleDirty=!0}),this},cleanStyle:function(){var e=this.cy();if(e.styleEnabled())for(var r=0;r<this.length;r++){var n=this[r];n._private.styleDirty&&(n._private.styleDirty=!1,e.style().apply(n))}},parsedStyle:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n=this[0],i=n.cy();if(i.styleEnabled()&&n){n._private.styleDirty&&(n._private.styleDirty=!1,i.style().apply(n));var a=n._private.style[e];return a??(r?i.style().getDefaultProperty(e):null)}},numericStyle:function(e){var r=this[0];if(r.cy().styleEnabled()&&r){var n=r.pstyle(e);return n.pfValue!==void 0?n.pfValue:n.value}},numericStyleUnits:function(e){var r=this[0];if(r.cy().styleEnabled()&&r)return r.pstyle(e).units},renderedStyle:function(e){var r=this.cy();if(!r.styleEnabled())return this;var n=this[0];if(n)return r.style().getRenderedStyle(n,e)},style:function(e,r){var n=this.cy();if(!n.styleEnabled())return this;var i=!1,a=n.style();if(Tt(e)){var s=e;a.applyBypass(this,s,i),this.emitAndNotify("style")}else if(Ke(e))if(r===void 0){var o=this[0];return o?a.getStylePropertyValue(o,e):void 0}else a.applyBypass(this,e,r,i),this.emitAndNotify("style");else if(e===void 0){var l=this[0];return l?a.getRawStyle(l):void 0}return this},removeStyle:function(e){var r=this.cy();if(!r.styleEnabled())return this;var n=!1,i=r.style(),a=this;if(e===void 0)for(var s=0;s<a.length;s++){var o=a[s];i.removeAllBypasses(o,n)}else{e=e.split(/\s+/);for(var l=0;l<a.length;l++){var u=a[l];i.removeBypasses(u,e,n)}}return this.emitAndNotify("style"),this},show:function(){return this.css("display","element"),this},hide:function(){return this.css("display","none"),this},effectiveOpacity:function(){var e=this.cy();if(!e.styleEnabled())return 1;var r=e.hasCompoundNodes(),n=this[0];if(n){var i=n._private,a=n.pstyle("opacity").value;if(!r)return a;var s=i.data.parent?n.parents():null;if(s)for(var o=0;o<s.length;o++){var l=s[o],u=l.pstyle("opacity").value;a=u*a}return a}},transparent:function(){var e=this.cy();if(!e.styleEnabled())return!1;var r=this[0],n=r.cy().hasCompoundNodes();if(r)return n?r.effectiveOpacity()===0:r.pstyle("opacity").value===0},backgrounding:function(){var e=this.cy();if(!e.styleEnabled())return!1;var r=this[0];return!!r._private.backgrounding}};function nv(t,e){var r=t._private,n=r.data.parent?t.parents():null;if(n)for(var i=0;i<n.length;i++){var a=n[i];if(!e(a))return!1}return!0}function Q2(t){var e=t.ok,r=t.edgeOkViaNode||t.ok,n=t.parentOk||t.ok;return function(){var i=this.cy();if(!i.styleEnabled())return!0;var a=this[0],s=i.hasCompoundNodes();if(a){var o=a._private;if(!e(a))return!1;if(a.isNode())return!s||nv(a,n);var l=o.source,u=o.target;return r(l)&&(!s||nv(l,r))&&(l===u||r(u)&&(!s||nv(u,r)))}}}var Ql=cp("eleTakesUpSpace",function(t){return t.pstyle("display").value==="element"&&t.width()!==0&&(t.isNode()?t.height()!==0:!0)});Qr.takesUpSpace=fp("takesUpSpace",Q2({ok:Ql}));var uU=cp("eleInteractive",function(t){return t.pstyle("events").value==="yes"&&t.pstyle("visibility").value==="visible"&&Ql(t)}),cU=cp("parentInteractive",function(t){return t.pstyle("visibility").value==="visible"&&Ql(t)});Qr.interactive=fp("interactive",Q2({ok:uU,parentOk:cU,edgeOkViaNode:Ql}));Qr.noninteractive=function(){var t=this[0];if(t)return!t.interactive()};var fU=cp("eleVisible",function(t){return t.pstyle("visibility").value==="visible"&&t.pstyle("opacity").pfValue!==0&&Ql(t)}),dU=Ql;Qr.visible=fp("visible",Q2({ok:fU,edgeOkViaNode:dU}));Qr.hidden=function(){var t=this[0];if(t)return!t.visible()};Qr.isBundledBezier=fp("isBundledBezier",function(){return this.cy().styleEnabled()?!this.removed()&&this.pstyle("curve-style").value==="bezier"&&this.takesUpSpace():!1});Qr.bypass=Qr.css=Qr.style;Qr.renderedCss=Qr.renderedStyle;Qr.removeBypass=Qr.removeCss=Qr.removeStyle;Qr.pstyle=Qr.parsedStyle;var as={};function I6(t){return function(){var e=arguments,r=[];if(e.length===2){var n=e[0],i=e[1];this.on(t.event,n,i)}else if(e.length===1&&cr(e[0])){var a=e[0];this.on(t.event,a)}else if(e.length===0||e.length===1&&Ht(e[0])){for(var s=e.length===1?e[0]:null,o=0;o<this.length;o++){var l=this[o],u=!t.ableField||l._private[t.ableField],c=l._private[t.field]!=t.value;if(t.overrideAble){var f=t.overrideAble(l);if(f!==void 0&&(u=f,!f))return this}u&&(l._private[t.field]=t.value,c&&r.push(l))}var d=this.spawn(r);d.updateStyle(),d.emit(t.event),s&&d.emit(s)}return this}}function Jl(t){as[t.field]=function(){var e=this[0];if(e){if(t.overrideField){var r=t.overrideField(e);if(r!==void 0)return r}return e._private[t.field]}},as[t.on]=I6({event:t.on,field:t.field,ableField:t.ableField,overrideAble:t.overrideAble,value:!0}),as[t.off]=I6({event:t.off,field:t.field,ableField:t.ableField,overrideAble:t.overrideAble,value:!1})}Jl({field:"locked",overrideField:function(e){return e.cy().autolock()?!0:void 0},on:"lock",off:"unlock"});Jl({field:"grabbable",overrideField:function(e){return e.cy().autoungrabify()||e.pannable()?!1:void 0},on:"grabify",off:"ungrabify"});Jl({field:"selected",ableField:"selectable",overrideAble:function(e){return e.cy().autounselectify()?!1:void 0},on:"select",off:"unselect"});Jl({field:"selectable",overrideField:function(e){return e.cy().autounselectify()?!1:void 0},on:"selectify",off:"unselectify"});as.deselect=as.unselect;as.grabbed=function(){var t=this[0];if(t)return t._private.grabbed};Jl({field:"active",on:"activate",off:"unactivate"});Jl({field:"pannable",on:"panify",off:"unpanify"});as.inactive=function(){var t=this[0];if(t)return!t._private.active};var ln={},L6=function(e){return function(n){for(var i=this,a=[],s=0;s<i.length;s++){var o=i[s];if(o.isNode()){for(var l=!1,u=o.connectedEdges(),c=0;c<u.length;c++){var f=u[c],d=f.source(),p=f.target();if(e.noIncomingEdges&&p===o&&d!==o||e.noOutgoingEdges&&d===o&&p!==o){l=!0;break}}l||a.push(o)}}return this.spawn(a,!0).filter(n)}},R6=function(e){return function(r){for(var n=this,i=[],a=0;a<n.length;a++){var s=n[a];if(s.isNode())for(var o=s.connectedEdges(),l=0;l<o.length;l++){var u=o[l],c=u.source(),f=u.target();e.outgoing&&c===s?(i.push(u),i.push(f)):e.incoming&&f===s&&(i.push(u),i.push(c))}}return this.spawn(i,!0).filter(r)}},O6=function(e){return function(r){for(var n=this,i=[],a={};;){var s=e.outgoing?n.outgoers():n.incomers();if(s.length===0)break;for(var o=!1,l=0;l<s.length;l++){var u=s[l],c=u.id();a[c]||(a[c]=!0,i.push(u),o=!0)}if(!o)break;n=s}return this.spawn(i,!0).filter(r)}};ln.clearTraversalCache=function(){for(var t=0;t<this.length;t++)this[t]._private.traversalCache=null};et(ln,{roots:L6({noIncomingEdges:!0}),leaves:L6({noOutgoingEdges:!0}),outgoers:oi(R6({outgoing:!0}),"outgoers"),successors:O6({outgoing:!0}),incomers:oi(R6({incoming:!0}),"incomers"),predecessors:O6({})});et(ln,{neighborhood:oi(function(t){for(var e=[],r=this.nodes(),n=0;n<r.length;n++)for(var i=r[n],a=i.connectedEdges(),s=0;s<a.length;s++){var o=a[s],l=o.source(),u=o.target(),c=i===l?u:l;c.length>0&&e.push(c[0]),e.push(o[0])}return this.spawn(e,!0).filter(t)},"neighborhood"),closedNeighborhood:function(e){return this.neighborhood().add(this).filter(e)},openNeighborhood:function(e){return this.neighborhood(e)}});ln.neighbourhood=ln.neighborhood;ln.closedNeighbourhood=ln.closedNeighborhood;ln.openNeighbourhood=ln.openNeighborhood;et(ln,{source:oi(function(e){var r=this[0],n;return r&&(n=r._private.source||r.cy().collection()),n&&e?n.filter(e):n},"source"),target:oi(function(e){var r=this[0],n;return r&&(n=r._private.target||r.cy().collection()),n&&e?n.filter(e):n},"target"),sources:N6({attr:"source"}),targets:N6({attr:"target"})});function N6(t){return function(r){for(var n=[],i=0;i<this.length;i++){var a=this[i],s=a._private[t.attr];s&&n.push(s)}return this.spawn(n,!0).filter(r)}}et(ln,{edgesWith:oi(z6(),"edgesWith"),edgesTo:oi(z6({thisIsSrc:!0}),"edgesTo")});function z6(t){return function(r){var n=[],i=this._private.cy,a=t||{};Ke(r)&&(r=i.$(r));for(var s=0;s<r.length;s++)for(var o=r[s]._private.edges,l=0;l<o.length;l++){var u=o[l],c=u._private.data,f=this.hasElementWithId(c.source)&&r.hasElementWithId(c.target),d=r.hasElementWithId(c.source)&&this.hasElementWithId(c.target),p=f||d;p&&((a.thisIsSrc||a.thisIsTgt)&&(a.thisIsSrc&&!f||a.thisIsTgt&&!d)||n.push(u))}return this.spawn(n,!0)}}et(ln,{connectedEdges:oi(function(t){for(var e=[],r=this,n=0;n<r.length;n++){var i=r[n];if(i.isNode())for(var a=i._private.edges,s=0;s<a.length;s++){var o=a[s];e.push(o)}}return this.spawn(e,!0).filter(t)},"connectedEdges"),connectedNodes:oi(function(t){for(var e=[],r=this,n=0;n<r.length;n++){var i=r[n];i.isEdge()&&(e.push(i.source()[0]),e.push(i.target()[0]))}return this.spawn(e,!0).filter(t)},"connectedNodes"),parallelEdges:oi(B6(),"parallelEdges"),codirectedEdges:oi(B6({codirected:!0}),"codirectedEdges")});function B6(t){var e={codirected:!1};return t=et({},e,t),function(n){for(var i=[],a=this.edges(),s=t,o=0;o<a.length;o++)for(var l=a[o],u=l._private,c=u.source,f=c._private.data.id,d=u.data.target,p=c._private.edges,g=0;g<p.length;g++){var y=p[g],b=y._private.data,x=b.target,w=b.source,_=x===d&&w===f,k=f===x&&d===w;(s.codirected&&_||!s.codirected&&(_||k))&&i.push(y)}return this.spawn(i,!0).filter(n)}}et(ln,{components:function(e){var r=this,n=r.cy(),i=n.collection(),a=e==null?r.nodes():e.nodes(),s=[];e!=null&&a.empty()&&(a=e.sources());var o=function(c,f){i.merge(c),a.unmerge(c),f.merge(c)};if(a.empty())return r.spawn();var l=function(){var c=n.collection();s.push(c);var f=a[0];o(f,c),r.bfs({directed:!1,roots:f,visit:function(p){return o(p,c)}}),c.forEach(function(d){d.connectedEdges().forEach(function(p){r.has(p)&&c.has(p.source())&&c.has(p.target())&&c.merge(p)})})};do l();while(a.length>0);return s},component:function(){var e=this[0];return e.cy().mutableElements().components(e)[0]}});ln.componentsOf=ln.components;var Jr=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(e===void 0){or("A collection must have a reference to the core");return}var a=new ca,s=!1;if(!r)r=[];else if(r.length>0&&Tt(r[0])&&!u0(r[0])){s=!0;for(var o=[],l=new Kl,u=0,c=r.length;u<c;u++){var f=r[u];f.data==null&&(f.data={});var d=f.data;if(d.id==null)d.id=vk();else if(e.hasElementWithId(d.id)||l.has(d.id))continue;var p=new tp(e,f,!1);o.push(p),l.add(d.id)}r=o}this.length=0;for(var g=0,y=r.length;g<y;g++){var b=r[g][0];if(b!=null){var x=b._private.data.id;(!n||!a.has(x))&&(n&&a.set(x,{index:this.length,ele:b}),this[this.length]=b,this.length++)}}this._private={eles:this,cy:e,get map(){return this.lazyMap==null&&this.rebuildMap(),this.lazyMap},set map(w){this.lazyMap=w},rebuildMap:function(){for(var _=this.lazyMap=new ca,k=this.eles,T=0;T<k.length;T++){var P=k[T];_.set(P.id(),{index:T,ele:P})}}},n&&(this._private.map=a),s&&!i&&this.restore()},Yt=tp.prototype=Jr.prototype=Object.create(Array.prototype);Yt.instanceString=function(){return"collection"};Yt.spawn=function(t,e){return new Jr(this.cy(),t,e)};Yt.spawnSelf=function(){return this.spawn(this)};Yt.cy=function(){return this._private.cy};Yt.renderer=function(){return this._private.cy.renderer()};Yt.element=function(){return this[0]};Yt.collection=function(){return nk(this)?this:new Jr(this._private.cy,[this])};Yt.unique=function(){return new Jr(this._private.cy,this,!0)};Yt.hasElementWithId=function(t){return t=""+t,this._private.map.has(t)};Yt.getElementById=function(t){t=""+t;var e=this._private.cy,r=this._private.map.get(t);return r?r.ele:new Jr(e)};Yt.$id=Yt.getElementById;Yt.poolIndex=function(){var t=this._private.cy,e=t._private.elements,r=this[0]._private.data.id;return e._private.map.get(r).index};Yt.indexOf=function(t){var e=t[0]._private.data.id;return this._private.map.get(e).index};Yt.indexOfId=function(t){return t=""+t,this._private.map.get(t).index};Yt.json=function(t){var e=this.element(),r=this.cy();if(e==null&&t)return this;if(e!=null){var n=e._private;if(Tt(t)){if(r.startBatch(),t.data){e.data(t.data);var i=n.data;if(e.isEdge()){var a=!1,s={},o=t.data.source,l=t.data.target;o!=null&&o!=i.source&&(s.source=""+o,a=!0),l!=null&&l!=i.target&&(s.target=""+l,a=!0),a&&(e=e.move(s))}else{var u="parent"in t.data,c=t.data.parent;u&&(c!=null||i.parent!=null)&&c!=i.parent&&(c===void 0&&(c=null),c!=null&&(c=""+c),e=e.move({parent:c}))}}t.position&&e.position(t.position);var f=function(y,b,x){var w=t[y];w!=null&&w!==n[y]&&(w?e[b]():e[x]())};return f("removed","remove","restore"),f("selected","select","unselect"),f("selectable","selectify","unselectify"),f("locked","lock","unlock"),f("grabbable","grabify","ungrabify"),f("pannable","panify","unpanify"),t.classes!=null&&e.classes(t.classes),r.endBatch(),this}else if(t===void 0){var d={data:Fi(n.data),position:Fi(n.position),group:n.group,removed:n.removed,selected:n.selected,selectable:n.selectable,locked:n.locked,grabbable:n.grabbable,pannable:n.pannable,classes:null};d.classes="";var p=0;return n.classes.forEach(function(g){return d.classes+=p++===0?g:" "+g}),d}}};Yt.jsons=function(){for(var t=[],e=0;e<this.length;e++){var r=this[e],n=r.json();t.push(n)}return t};Yt.clone=function(){for(var t=this.cy(),e=[],r=0;r<this.length;r++){var n=this[r],i=n.json(),a=new tp(t,i,!1);e.push(a)}return new Jr(t,e)};Yt.copy=Yt.clone;Yt.restore=function(){for(var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=this,n=r.cy(),i=n._private,a=[],s=[],o,l=0,u=r.length;l<u;l++){var c=r[l];e&&!c.removed()||(c.isNode()?a.push(c):s.push(c))}o=a.concat(s);var f,d=function(){o.splice(f,1),f--};for(f=0;f<o.length;f++){var p=o[f],g=p._private,y=g.data;if(p.clearTraversalCache(),!(!e&&!g.removed)){if(y.id===void 0)y.id=vk();else if(Ne(y.id))y.id=""+y.id;else if(fs(y.id)||!Ke(y.id)){or("Can not create element with invalid string ID `"+y.id+"`"),d();continue}else if(n.hasElementWithId(y.id)){or("Can not create second element with ID `"+y.id+"`"),d();continue}}var b=y.id;if(p.isNode()){var x=g.position;x.x==null&&(x.x=0),x.y==null&&(x.y=0)}if(p.isEdge()){for(var w=p,_=["source","target"],k=_.length,T=!1,P=0;P<k;P++){var M=_[P],A=y[M];Ne(A)&&(A=y[M]=""+y[M]),A==null||A===""?(or("Can not create edge `"+b+"` with unspecified "+M),T=!0):n.hasElementWithId(A)||(or("Can not create edge `"+b+"` with nonexistant "+M+" `"+A+"`"),T=!0)}if(T){d();continue}var L=n.getElementById(y.source),R=n.getElementById(y.target);L.same(R)?L._private.edges.push(w):(L._private.edges.push(w),R._private.edges.push(w)),w._private.source=L,w._private.target=R}g.map=new ca,g.map.set(b,{ele:p,index:0}),g.removed=!1,e&&n.addToPool(p)}for(var N=0;N<a.length;N++){var F=a[N],$=F._private.data;Ne($.parent)&&($.parent=""+$.parent);var V=$.parent,X=V!=null;if(X||F._private.parent){var K=F._private.parent?n.collection().merge(F._private.parent):n.getElementById(V);if(K.empty())$.parent=void 0;else if(K[0].removed())It("Node added with missing parent, reference to parent removed"),$.parent=void 0,F._private.parent=null;else{for(var W=!1,H=K;!H.empty();){if(F.same(H)){W=!0,$.parent=void 0;break}H=H.parent()}W||(K[0]._private.children.push(F),F._private.parent=K[0],i.hasCompoundNodes=!0)}}}if(o.length>0){for(var ee=o.length===r.length?r:new Jr(n,o),re=0;re<ee.length;re++){var G=ee[re];G.isNode()||(G.parallelEdges().clearTraversalCache(),G.source().clearTraversalCache(),G.target().clearTraversalCache())}var Z;i.hasCompoundNodes?Z=n.collection().merge(ee).merge(ee.connectedNodes()).merge(ee.parent()):Z=ee,Z.dirtyCompoundBoundsCache().dirtyBoundingBoxCache().updateStyle(t),t?ee.emitAndNotify("add"):e&&ee.emit("add")}return r};Yt.removed=function(){var t=this[0];return t&&t._private.removed};Yt.inside=function(){var t=this[0];return t&&!t._private.removed};Yt.remove=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=this,n=[],i={},a=r._private.cy;function s(V){for(var X=V._private.edges,K=0;K<X.length;K++)l(X[K])}function o(V){for(var X=V._private.children,K=0;K<X.length;K++)l(X[K])}function l(V){var X=i[V.id()];e&&V.removed()||X||(i[V.id()]=!0,V.isNode()?(n.push(V),s(V),o(V)):n.unshift(V))}for(var u=0,c=r.length;u<c;u++){var f=r[u];l(f)}function d(V,X){var K=V._private.edges;hs(K,X),V.clearTraversalCache()}function p(V){V.clearTraversalCache()}var g=[];g.ids={};function y(V,X){X=X[0],V=V[0];var K=V._private.children,W=V.id();hs(K,X),X._private.parent=null,g.ids[W]||(g.ids[W]=!0,g.push(V))}r.dirtyCompoundBoundsCache(),e&&a.removeFromPool(n);for(var b=0;b<n.length;b++){var x=n[b];if(x.isEdge()){var w=x.source()[0],_=x.target()[0];d(w,x),d(_,x);for(var k=x.parallelEdges(),T=0;T<k.length;T++){var P=k[T];p(P),P.isBundledBezier()&&P.dirtyBoundingBoxCache()}}else{var M=x.parent();M.length!==0&&y(M,x)}e&&(x._private.removed=!0)}var A=a._private.elements;a._private.hasCompoundNodes=!1;for(var L=0;L<A.length;L++){var R=A[L];if(R.isParent()){a._private.hasCompoundNodes=!0;break}}var N=new Jr(this.cy(),n);N.size()>0&&(t?N.emitAndNotify("remove"):e&&N.emit("remove"));for(var F=0;F<g.length;F++){var $=g[F];(!e||!$.removed())&&$.updateStyle()}return N};Yt.move=function(t){var e=this._private.cy,r=this,n=!1,i=!1,a=function(g){return g==null?g:""+g};if(t.source!==void 0||t.target!==void 0){var s=a(t.source),o=a(t.target),l=s!=null&&e.hasElementWithId(s),u=o!=null&&e.hasElementWithId(o);(l||u)&&(e.batch(function(){r.remove(n,i),r.emitAndNotify("moveout");for(var p=0;p<r.length;p++){var g=r[p],y=g._private.data;g.isEdge()&&(l&&(y.source=s),u&&(y.target=o))}r.restore(n,i)}),r.emitAndNotify("move"))}else if(t.parent!==void 0){var c=a(t.parent),f=c===null||e.hasElementWithId(c);if(f){var d=c===null?void 0:c;e.batch(function(){var p=r.remove(n,i);p.emitAndNotify("moveout");for(var g=0;g<r.length;g++){var y=r[g],b=y._private.data;y.isNode()&&(b.parent=d)}p.restore(n,i)}),r.emitAndNotify("move")}}return this};[Dk,SV,id,is,ql,FV,lp,tU,eT,tT,sU,ch,ad,Qr,as,ln].forEach(function(t){et(Yt,t)});var hU={add:function(e){var r,n=this;if(Vn(e)){var i=e;if(i._private.cy===n)r=i.restore();else{for(var a=[],s=0;s<i.length;s++){var o=i[s];a.push(o.json())}r=new Jr(n,a)}}else if(Ht(e)){var l=e;r=new Jr(n,l)}else if(Tt(e)&&(Ht(e.nodes)||Ht(e.edges))){for(var u=e,c=[],f=["nodes","edges"],d=0,p=f.length;d<p;d++){var g=f[d],y=u[g];if(Ht(y))for(var b=0,x=y.length;b<x;b++){var w=et({group:g},y[b]);c.push(w)}}r=new Jr(n,c)}else{var _=e;r=new tp(n,_).collection()}return r},remove:function(e){if(!Vn(e)){if(Ke(e)){var r=e;e=this.$(r)}}return e.remove()}};/*! Bezier curve function generator. Copyright Gaetan Renaudeau. MIT License: http://en.wikipedia.org/wiki/MIT_License */function pU(t,e,r,n){var i=4,a=.001,s=1e-7,o=10,l=11,u=1/(l-1),c=typeof Float32Array<"u";if(arguments.length!==4)return!1;for(var f=0;f<4;++f)if(typeof arguments[f]!="number"||isNaN(arguments[f])||!isFinite(arguments[f]))return!1;t=Math.min(t,1),r=Math.min(r,1),t=Math.max(t,0),r=Math.max(r,0);var d=c?new Float32Array(l):new Array(l);function p(R,N){return 1-3*N+3*R}function g(R,N){return 3*N-6*R}function y(R){return 3*R}function b(R,N,F){return((p(N,F)*R+g(N,F))*R+y(N))*R}function x(R,N,F){return 3*p(N,F)*R*R+2*g(N,F)*R+y(N)}function w(R,N){for(var F=0;F<i;++F){var $=x(N,t,r);if($===0)return N;var V=b(N,t,r)-R;N-=V/$}return N}function _(){for(var R=0;R<l;++R)d[R]=b(R*u,t,r)}function k(R,N,F){var $,V,X=0;do V=N+(F-N)/2,$=b(V,t,r)-R,$>0?F=V:N=V;while(Math.abs($)>s&&++X<o);return V}function T(R){for(var N=0,F=1,$=l-1;F!==$&&d[F]<=R;++F)N+=u;--F;var V=(R-d[F])/(d[F+1]-d[F]),X=N+V*u,K=x(X,t,r);return K>=a?w(R,X):K===0?X:k(R,N,N+u)}var P=!1;function M(){P=!0,(t!==e||r!==n)&&_()}var A=function(N){return P||M(),t===e&&r===n?N:N===0?0:N===1?1:b(T(N),e,n)};A.getControlPoints=function(){return[{x:t,y:e},{x:r,y:n}]};var L="generateBezier("+[t,e,r,n]+")";return A.toString=function(){return L},A}/*! Runge-Kutta spring physics function generator. Adapted from Framer.js, copyright Koen Bok. MIT License: http://en.wikipedia.org/wiki/MIT_License */var gU=function(){function t(n){return-n.tension*n.x-n.friction*n.v}function e(n,i,a){var s={x:n.x+a.dx*i,v:n.v+a.dv*i,tension:n.tension,friction:n.friction};return{dx:s.v,dv:t(s)}}function r(n,i){var a={dx:n.v,dv:t(n)},s=e(n,i*.5,a),o=e(n,i*.5,s),l=e(n,i,o),u=1/6*(a.dx+2*(s.dx+o.dx)+l.dx),c=1/6*(a.dv+2*(s.dv+o.dv)+l.dv);return n.x=n.x+u*i,n.v=n.v+c*i,n}return function n(i,a,s){var o={x:-1,v:0,tension:null,friction:null},l=[0],u=0,c=1/1e4,f=16/1e3,d,p,g;for(i=parseFloat(i)||500,a=parseFloat(a)||20,s=s||null,o.tension=i,o.friction=a,d=s!==null,d?(u=n(i,a),p=u/s*f):p=f;g=r(g||o,p),l.push(1+g.x),u+=16,Math.abs(g.x)>c&&Math.abs(g.v)>c;);return d?function(y){return l[y*(l.length-1)|0]}:u}}(),Wt=function(e,r,n,i){var a=pU(e,r,n,i);return function(s,o,l){return s+(o-s)*a(l)}},sd={linear:function(e,r,n){return e+(r-e)*n},ease:Wt(.25,.1,.25,1),"ease-in":Wt(.42,0,1,1),"ease-out":Wt(0,0,.58,1),"ease-in-out":Wt(.42,0,.58,1),"ease-in-sine":Wt(.47,0,.745,.715),"ease-out-sine":Wt(.39,.575,.565,1),"ease-in-out-sine":Wt(.445,.05,.55,.95),"ease-in-quad":Wt(.55,.085,.68,.53),"ease-out-quad":Wt(.25,.46,.45,.94),"ease-in-out-quad":Wt(.455,.03,.515,.955),"ease-in-cubic":Wt(.55,.055,.675,.19),"ease-out-cubic":Wt(.215,.61,.355,1),"ease-in-out-cubic":Wt(.645,.045,.355,1),"ease-in-quart":Wt(.895,.03,.685,.22),"ease-out-quart":Wt(.165,.84,.44,1),"ease-in-out-quart":Wt(.77,0,.175,1),"ease-in-quint":Wt(.755,.05,.855,.06),"ease-out-quint":Wt(.23,1,.32,1),"ease-in-out-quint":Wt(.86,0,.07,1),"ease-in-expo":Wt(.95,.05,.795,.035),"ease-out-expo":Wt(.19,1,.22,1),"ease-in-out-expo":Wt(1,0,0,1),"ease-in-circ":Wt(.6,.04,.98,.335),"ease-out-circ":Wt(.075,.82,.165,1),"ease-in-out-circ":Wt(.785,.135,.15,.86),spring:function(e,r,n){if(n===0)return sd.linear;var i=gU(e,r,n);return function(a,s,o){return a+(s-a)*i(o)}},"cubic-bezier":Wt};function F6(t,e,r,n,i){if(n===1||e===r)return r;var a=i(e,r,n);return t==null||((t.roundValue||t.color)&&(a=Math.round(a)),t.min!==void 0&&(a=Math.max(a,t.min)),t.max!==void 0&&(a=Math.min(a,t.max))),a}function $6(t,e){return t.pfValue!=null||t.value!=null?t.pfValue!=null&&(e==null||e.type.units!=="%")?t.pfValue:t.value:t}function zo(t,e,r,n,i){var a=i!=null?i.type:null;r<0?r=0:r>1&&(r=1);var s=$6(t,i),o=$6(e,i);if(Ne(s)&&Ne(o))return F6(a,s,o,r,n);if(Ht(s)&&Ht(o)){for(var l=[],u=0;u<o.length;u++){var c=s[u],f=o[u];if(c!=null&&f!=null){var d=F6(a,c,f,r,n);l.push(d)}else l.push(f)}return l}}function mU(t,e,r,n){var i=!n,a=t._private,s=e._private,o=s.easing,l=s.startTime,u=n?t:t.cy(),c=u.style();if(!s.easingImpl)if(o==null)s.easingImpl=sd.linear;else{var f;if(Ke(o)){var d=c.parse("transition-timing-function",o);f=d.value}else f=o;var p,g;Ke(f)?(p=f,g=[]):(p=f[1],g=f.slice(2).map(function(ee){return+ee})),g.length>0?(p==="spring"&&g.push(s.duration),s.easingImpl=sd[p].apply(null,g)):s.easingImpl=sd[p]}var y=s.easingImpl,b;if(s.duration===0?b=1:b=(r-l)/s.duration,s.applying&&(b=s.progress),b<0?b=0:b>1&&(b=1),s.delay==null){var x=s.startPosition,w=s.position;if(w&&i&&!t.locked()){var _={};Mu(x.x,w.x)&&(_.x=zo(x.x,w.x,b,y)),Mu(x.y,w.y)&&(_.y=zo(x.y,w.y,b,y)),t.position(_)}var k=s.startPan,T=s.pan,P=a.pan,M=T!=null&&n;M&&(Mu(k.x,T.x)&&(P.x=zo(k.x,T.x,b,y)),Mu(k.y,T.y)&&(P.y=zo(k.y,T.y,b,y)),t.emit("pan"));var A=s.startZoom,L=s.zoom,R=L!=null&&n;R&&(Mu(A,L)&&(a.zoom=$c(a.minZoom,zo(A,L,b,y),a.maxZoom)),t.emit("zoom")),(M||R)&&t.emit("viewport");var N=s.style;if(N&&N.length>0&&i){for(var F=0;F<N.length;F++){var $=N[F],V=$.name,X=$,K=s.startStyle[V],W=c.properties[K.name],H=zo(K,X,b,y,W);c.overrideBypass(t,V,H)}t.emit("style")}}return s.progress=b,b}function Mu(t,e){return t==null||e==null?!1:Ne(t)&&Ne(e)?!0:!!(t&&e)}function vU(t,e,r,n){var i=e._private;i.started=!0,i.startTime=r-i.progress*i.duration}function j6(t,e){var r=e._private.aniEles,n=[];function i(c,f){var d=c._private,p=d.animation.current,g=d.animation.queue,y=!1;if(p.length===0){var b=g.shift();b&&p.push(b)}for(var x=function(P){for(var M=P.length-1;M>=0;M--){var A=P[M];A()}P.splice(0,P.length)},w=p.length-1;w>=0;w--){var _=p[w],k=_._private;if(k.stopped){p.splice(w,1),k.hooked=!1,k.playing=!1,k.started=!1,x(k.frames);continue}!k.playing&&!k.applying||(k.playing&&k.applying&&(k.applying=!1),k.started||vU(c,_,t),mU(c,_,t,f),k.applying&&(k.applying=!1),x(k.frames),k.step!=null&&k.step(t),_.completed()&&(p.splice(w,1),k.hooked=!1,k.playing=!1,k.started=!1,x(k.completes)),y=!0)}return!f&&p.length===0&&g.length===0&&n.push(c),y}for(var a=!1,s=0;s<r.length;s++){var o=r[s],l=i(o);a=a||l}var u=i(e,!0);(a||u)&&(r.length>0?e.notify("draw",r):e.notify("draw")),r.unmerge(n),e.emit("step")}var yU={animate:At.animate(),animation:At.animation(),animated:At.animated(),clearQueue:At.clearQueue(),delay:At.delay(),delayAnimation:At.delayAnimation(),stop:At.stop(),addToAnimationPool:function(e){var r=this;r.styleEnabled()&&r._private.aniEles.merge(e)},stopAnimationLoop:function(){this._private.animationsRunning=!1},startAnimationLoop:function(){var e=this;if(e._private.animationsRunning=!0,!e.styleEnabled())return;function r(){e._private.animationsRunning&&ah(function(a){j6(a,e),r()})}var n=e.renderer();n&&n.beforeRender?n.beforeRender(function(a,s){j6(s,e)},n.beforeRenderPriorities.animations):r()}},xU={qualifierCompare:function(e,r){return e==null||r==null?e==null&&r==null:e.sameText(r)},eventMatches:function(e,r,n){var i=r.qualifier;return i!=null?e!==n.target&&u0(n.target)&&i.matches(n.target):!0},addEventFields:function(e,r){r.cy=e,r.target=e},callbackContext:function(e,r,n){return r.qualifier!=null?n.target:e}},Mf=function(e){return Ke(e)?new ps(e):e},iT={createEmitter:function(){var e=this._private;return e.emitter||(e.emitter=new up(xU,this)),this},emitter:function(){return this._private.emitter},on:function(e,r,n){return this.emitter().on(e,Mf(r),n),this},removeListener:function(e,r,n){return this.emitter().removeListener(e,Mf(r),n),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},one:function(e,r,n){return this.emitter().one(e,Mf(r),n),this},once:function(e,r,n){return this.emitter().one(e,Mf(r),n),this},emit:function(e,r){return this.emitter().emit(e,r),this},emitAndNotify:function(e,r){return this.emit(e),this.notify(e,r),this}};At.eventAliasesOn(iT);var X1={png:function(e){var r=this._private.renderer;return e=e||{},r.png(e)},jpg:function(e){var r=this._private.renderer;return e=e||{},e.bg=e.bg||"#fff",r.jpg(e)}};X1.jpeg=X1.jpg;var od={layout:function(e){var r=this;if(e==null){or("Layout options must be specified to make a layout");return}if(e.name==null){or("A `name` must be specified to make a layout");return}var n=e.name,i=r.extension("layout",n);if(i==null){or("No such layout `"+n+"` found.  Did you forget to import it and `cytoscape.use()` it?");return}var a;Ke(e.eles)?a=r.$(e.eles):a=e.eles!=null?e.eles:r.$();var s=new i(et({},e,{cy:r,eles:a}));return s}};od.createLayout=od.makeLayout=od.layout;var bU={notify:function(e,r){var n=this._private;if(this.batching()){n.batchNotifications=n.batchNotifications||{};var i=n.batchNotifications[e]=n.batchNotifications[e]||this.collection();r!=null&&i.merge(r);return}if(n.notificationsEnabled){var a=this.renderer();this.destroyed()||!a||a.notify(e,r)}},notifications:function(e){var r=this._private;return e===void 0?r.notificationsEnabled:(r.notificationsEnabled=!!e,this)},noNotifications:function(e){this.notifications(!1),e(),this.notifications(!0)},batching:function(){return this._private.batchCount>0},startBatch:function(){var e=this._private;return e.batchCount==null&&(e.batchCount=0),e.batchCount===0&&(e.batchStyleEles=this.collection(),e.batchNotifications={}),e.batchCount++,this},endBatch:function(){var e=this._private;if(e.batchCount===0)return this;if(e.batchCount--,e.batchCount===0){e.batchStyleEles.updateStyle();var r=this.renderer();Object.keys(e.batchNotifications).forEach(function(n){var i=e.batchNotifications[n];i.empty()?r.notify(n):r.notify(n,i)})}return this},batch:function(e){return this.startBatch(),e(),this.endBatch(),this},batchData:function(e){var r=this;return this.batch(function(){for(var n=Object.keys(e),i=0;i<n.length;i++){var a=n[i],s=e[a],o=r.getElementById(a);o.data(s)}})}},wU=Or({hideEdgesOnViewport:!1,textureOnViewport:!1,motionBlur:!1,motionBlurOpacity:.05,pixelRatio:void 0,desktopTapThreshold:4,touchTapThreshold:8,wheelSensitivity:1,debug:!1,showFps:!1,webgl:!1,webglDebug:!1,webglDebugShowAtlases:!1,webglTexSize:2048,webglTexRows:36,webglTexRowsNodes:18,webglBatchSize:2048,webglTexPerBatch:14,webglBgColor:[255,255,255]}),K1={renderTo:function(e,r,n,i){var a=this._private.renderer;return a.renderTo(e,r,n,i),this},renderer:function(){return this._private.renderer},forceRender:function(){return this.notify("draw"),this},resize:function(){return this.invalidateSize(),this.emitAndNotify("resize"),this},initRenderer:function(e){var r=this,n=r.extension("renderer",e.name);if(n==null){or("Can not initialise: No such renderer `".concat(e.name,"` found. Did you forget to import it and `cytoscape.use()` it?"));return}e.wheelSensitivity!==void 0&&It("You have set a custom wheel sensitivity.  This will make your app zoom unnaturally when using mainstream mice.  You should change this value from the default only if you can guarantee that all your users will use the same hardware and OS configuration as your current machine.");var i=wU(e);i.cy=r,r._private.renderer=new n(i),this.notify("init")},destroyRenderer:function(){var e=this;e.notify("destroy");var r=e.container();if(r)for(r._cyreg=null;r.childNodes.length>0;)r.removeChild(r.childNodes[0]);e._private.renderer=null,e.mutableElements().forEach(function(n){var i=n._private;i.rscratch={},i.rstyle={},i.animation.current=[],i.animation.queue=[]})},onRender:function(e){return this.on("render",e)},offRender:function(e){return this.off("render",e)}};K1.invalidateDimensions=K1.resize;var ld={collection:function(e,r){return Ke(e)?this.$(e):Vn(e)?e.collection():Ht(e)?(r||(r={}),new Jr(this,e,r.unique,r.removed)):new Jr(this)},nodes:function(e){var r=this.$(function(n){return n.isNode()});return e?r.filter(e):r},edges:function(e){var r=this.$(function(n){return n.isEdge()});return e?r.filter(e):r},$:function(e){var r=this._private.elements;return e?r.filter(e):r.spawnSelf()},mutableElements:function(){return this._private.elements}};ld.elements=ld.filter=ld.$;var Wr={},sc="t",_U="f";Wr.apply=function(t){for(var e=this,r=e._private,n=r.cy,i=n.collection(),a=0;a<t.length;a++){var s=t[a],o=e.getContextMeta(s);if(!o.empty){var l=e.getContextStyle(o),u=e.applyContextStyle(o,l,s);s._private.appliedInitStyle?e.updateTransitions(s,u.diffProps):s._private.appliedInitStyle=!0;var c=e.updateStyleHints(s);c&&i.push(s)}}return i};Wr.getPropertiesDiff=function(t,e){var r=this,n=r._private.propDiffs=r._private.propDiffs||{},i=t+"-"+e,a=n[i];if(a)return a;for(var s=[],o={},l=0;l<r.length;l++){var u=r[l],c=t[l]===sc,f=e[l]===sc,d=c!==f,p=u.mappedProperties.length>0;if(d||f&&p){var g=void 0;d&&p||d?g=u.properties:p&&(g=u.mappedProperties);for(var y=0;y<g.length;y++){for(var b=g[y],x=b.name,w=!1,_=l+1;_<r.length;_++){var k=r[_],T=e[_]===sc;if(T&&(w=k.properties[b.name]!=null,w))break}!o[x]&&!w&&(o[x]=!0,s.push(x))}}}return n[i]=s,s};Wr.getContextMeta=function(t){for(var e=this,r="",n,i=t._private.styleCxtKey||"",a=0;a<e.length;a++){var s=e[a],o=s.selector&&s.selector.matches(t);o?r+=sc:r+=_U}return n=e.getPropertiesDiff(i,r),t._private.styleCxtKey=r,{key:r,diffPropNames:n,empty:n.length===0}};Wr.getContextStyle=function(t){var e=t.key,r=this,n=this._private.contextStyles=this._private.contextStyles||{};if(n[e])return n[e];for(var i={_private:{key:e}},a=0;a<r.length;a++){var s=r[a],o=e[a]===sc;if(o)for(var l=0;l<s.properties.length;l++){var u=s.properties[l];i[u.name]=u}}return n[e]=i,i};Wr.applyContextStyle=function(t,e,r){for(var n=this,i=t.diffPropNames,a={},s=n.types,o=0;o<i.length;o++){var l=i[o],u=e[l],c=r.pstyle(l);if(!u)if(c)c.bypass?u={name:l,deleteBypassed:!0}:u={name:l,delete:!0};else continue;if(c!==u){if(u.mapped===s.fn&&c!=null&&c.mapping!=null&&c.mapping.value===u.value){var f=c.mapping,d=f.fnValue=u.value(r);if(d===f.prevFnValue)continue}var p=a[l]={prev:c};n.applyParsedProperty(r,u),p.next=r.pstyle(l),p.next&&p.next.bypass&&(p.next=p.next.bypassed)}}return{diffProps:a}};Wr.updateStyleHints=function(t){var e=t._private,r=this,n=r.propertyGroupNames,i=r.propertyGroupKeys,a=function(ye,we,Re){return r.getPropertiesHash(ye,we,Re)},s=e.styleKey;if(t.removed())return!1;var o=e.group==="nodes",l=t._private.style;n=Object.keys(l);for(var u=0;u<i.length;u++){var c=i[u];e.styleKeys[c]=[al,Fu]}for(var f=function(ye,we){return e.styleKeys[we][0]=zc(ye,e.styleKeys[we][0])},d=function(ye,we){return e.styleKeys[we][1]=Bc(ye,e.styleKeys[we][1])},p=function(ye,we){f(ye,we),d(ye,we)},g=function(ye,we){for(var Re=0;Re<ye.length;Re++){var Ve=ye.charCodeAt(Re);f(Ve,we),d(Ve,we)}},y=2e9,b=function(ye){return-128<ye&&ye<128&&Math.floor(ye)!==ye?y-(ye*1024|0):ye},x=0;x<n.length;x++){var w=n[x],_=l[w];if(_!=null){var k=this.properties[w],T=k.type,P=k.groupKey,M=void 0;k.hashOverride!=null?M=k.hashOverride(t,_):_.pfValue!=null&&(M=_.pfValue);var A=k.enums==null?_.value:null,L=M!=null,R=A!=null,N=L||R,F=_.units;if(T.number&&N&&!T.multiple){var $=L?M:A;p(b($),P),!L&&F!=null&&g(F,P)}else g(_.strValue,P)}}for(var V=[al,Fu],X=0;X<i.length;X++){var K=i[X],W=e.styleKeys[K];V[0]=zc(W[0],V[0]),V[1]=Bc(W[1],V[1])}e.styleKey=Hj(V[0],V[1]);var H=e.styleKeys;e.labelDimsKey=Ia(H.labelDimensions);var ee=a(t,["label"],H.labelDimensions);if(e.labelKey=Ia(ee),e.labelStyleKey=Ia(bf(H.commonLabel,ee)),!o){var re=a(t,["source-label"],H.labelDimensions);e.sourceLabelKey=Ia(re),e.sourceLabelStyleKey=Ia(bf(H.commonLabel,re));var G=a(t,["target-label"],H.labelDimensions);e.targetLabelKey=Ia(G),e.targetLabelStyleKey=Ia(bf(H.commonLabel,G))}if(o){var Z=e.styleKeys,ue=Z.nodeBody,pe=Z.nodeBorder,ge=Z.nodeOutline,fe=Z.backgroundImage,Se=Z.compound,Te=Z.pie,ve=[ue,pe,ge,fe,Se,Te].filter(function(se){return se!=null}).reduce(bf,[al,Fu]);e.nodeKey=Ia(ve),e.hasPie=Te!=null&&Te[0]!==al&&Te[1]!==Fu}return s!==e.styleKey};Wr.clearStyleHints=function(t){var e=t._private;e.styleCxtKey="",e.styleKeys={},e.styleKey=null,e.labelKey=null,e.labelStyleKey=null,e.sourceLabelKey=null,e.sourceLabelStyleKey=null,e.targetLabelKey=null,e.targetLabelStyleKey=null,e.nodeKey=null,e.hasPie=null};Wr.applyParsedProperty=function(t,e){var r=this,n=e,i=t._private.style,a,s=r.types,o=r.properties[n.name].type,l=n.bypass,u=i[n.name],c=u&&u.bypass,f=t._private,d="mapping",p=function(ue){return ue==null?null:ue.pfValue!=null?ue.pfValue:ue.value},g=function(){var ue=p(u),pe=p(n);r.checkTriggers(t,n.name,ue,pe)};if(e.name==="curve-style"&&t.isEdge()&&(e.value!=="bezier"&&t.isLoop()||e.value==="haystack"&&(t.source().isParent()||t.target().isParent()))&&(n=e=this.parse(e.name,"bezier",l)),n.delete)return i[n.name]=void 0,g(),!0;if(n.deleteBypassed)return u?u.bypass?(u.bypassed=void 0,g(),!0):!1:(g(),!0);if(n.deleteBypass)return u?u.bypass?(i[n.name]=u.bypassed,g(),!0):!1:(g(),!0);var y=function(){It("Do not assign mappings to elements without corresponding data (i.e. ele `"+t.id()+"` has no mapping for property `"+n.name+"` with data field `"+n.field+"`); try a `["+n.field+"]` selector to limit scope to elements with `"+n.field+"` defined")};switch(n.mapped){case s.mapData:{for(var b=n.field.split("."),x=f.data,w=0;w<b.length&&x;w++){var _=b[w];x=x[_]}if(x==null)return y(),!1;var k;if(Ne(x)){var T=n.fieldMax-n.fieldMin;T===0?k=0:k=(x-n.fieldMin)/T}else return It("Do not use continuous mappers without specifying numeric data (i.e. `"+n.field+": "+x+"` for `"+t.id()+"` is non-numeric)"),!1;if(k<0?k=0:k>1&&(k=1),o.color){var P=n.valueMin[0],M=n.valueMax[0],A=n.valueMin[1],L=n.valueMax[1],R=n.valueMin[2],N=n.valueMax[2],F=n.valueMin[3]==null?1:n.valueMin[3],$=n.valueMax[3]==null?1:n.valueMax[3],V=[Math.round(P+(M-P)*k),Math.round(A+(L-A)*k),Math.round(R+(N-R)*k),Math.round(F+($-F)*k)];a={bypass:n.bypass,name:n.name,value:V,strValue:"rgb("+V[0]+", "+V[1]+", "+V[2]+")"}}else if(o.number){var X=n.valueMin+(n.valueMax-n.valueMin)*k;a=this.parse(n.name,X,n.bypass,d)}else return!1;if(!a)return y(),!1;a.mapping=n,n=a;break}case s.data:{for(var K=n.field.split("."),W=f.data,H=0;H<K.length&&W;H++){var ee=K[H];W=W[ee]}if(W!=null&&(a=this.parse(n.name,W,n.bypass,d)),!a)return y(),!1;a.mapping=n,n=a;break}case s.fn:{var re=n.value,G=n.fnValue!=null?n.fnValue:re(t);if(n.prevFnValue=G,G==null)return It("Custom function mappers may not return null (i.e. `"+n.name+"` for ele `"+t.id()+"` is null)"),!1;if(a=this.parse(n.name,G,n.bypass,d),!a)return It("Custom function mappers may not return invalid values for the property type (i.e. `"+n.name+"` for ele `"+t.id()+"` is invalid)"),!1;a.mapping=Fi(n),n=a;break}case void 0:break;default:return!1}return l?(c?n.bypassed=u.bypassed:n.bypassed=u,i[n.name]=n):c?u.bypassed=n:i[n.name]=n,g(),!0};Wr.cleanElements=function(t,e){for(var r=0;r<t.length;r++){var n=t[r];if(this.clearStyleHints(n),n.dirtyCompoundBoundsCache(),n.dirtyBoundingBoxCache(),!e)n._private.style={};else for(var i=n._private.style,a=Object.keys(i),s=0;s<a.length;s++){var o=a[s],l=i[o];l!=null&&(l.bypass?l.bypassed=null:i[o]=null)}}};Wr.update=function(){var t=this._private.cy,e=t.mutableElements();e.updateStyle()};Wr.updateTransitions=function(t,e){var r=this,n=t._private,i=t.pstyle("transition-property").value,a=t.pstyle("transition-duration").pfValue,s=t.pstyle("transition-delay").pfValue;if(i.length>0&&a>0){for(var o={},l=!1,u=0;u<i.length;u++){var c=i[u],f=t.pstyle(c),d=e[c];if(d){var p=d.prev,g=p,y=d.next!=null?d.next:f,b=!1,x=void 0,w=1e-6;g&&(Ne(g.pfValue)&&Ne(y.pfValue)?(b=y.pfValue-g.pfValue,x=g.pfValue+w*b):Ne(g.value)&&Ne(y.value)?(b=y.value-g.value,x=g.value+w*b):Ht(g.value)&&Ht(y.value)&&(b=g.value[0]!==y.value[0]||g.value[1]!==y.value[1]||g.value[2]!==y.value[2],x=g.strValue),b&&(o[c]=y.strValue,this.applyBypass(t,c,x),l=!0))}}if(!l)return;n.transitioning=!0,new Zl(function(_){s>0?t.delayAnimation(s).play().promise().then(_):_()}).then(function(){return t.animation({style:o,duration:a,easing:t.pstyle("transition-timing-function").value,queue:!1}).play().promise()}).then(function(){r.removeBypasses(t,i),t.emitAndNotify("style"),n.transitioning=!1})}else n.transitioning&&(this.removeBypasses(t,i),t.emitAndNotify("style"),n.transitioning=!1)};Wr.checkTrigger=function(t,e,r,n,i,a){var s=this.properties[e],o=i(s);t.removed()||o!=null&&o(r,n,t)&&a(s)};Wr.checkZOrderTrigger=function(t,e,r,n){var i=this;this.checkTrigger(t,e,r,n,function(a){return a.triggersZOrder},function(){i._private.cy.notify("zorder",t)})};Wr.checkBoundsTrigger=function(t,e,r,n){this.checkTrigger(t,e,r,n,function(i){return i.triggersBounds},function(i){t.dirtyCompoundBoundsCache(),t.dirtyBoundingBoxCache()})};Wr.checkConnectedEdgesBoundsTrigger=function(t,e,r,n){this.checkTrigger(t,e,r,n,function(i){return i.triggersBoundsOfConnectedEdges},function(i){t.connectedEdges().forEach(function(a){a.dirtyBoundingBoxCache()})})};Wr.checkParallelEdgesBoundsTrigger=function(t,e,r,n){this.checkTrigger(t,e,r,n,function(i){return i.triggersBoundsOfParallelEdges},function(i){t.parallelEdges().forEach(function(a){a.dirtyBoundingBoxCache()})})};Wr.checkTriggers=function(t,e,r,n){t.dirtyStyleCache(),this.checkZOrderTrigger(t,e,r,n),this.checkBoundsTrigger(t,e,r,n),this.checkConnectedEdgesBoundsTrigger(t,e,r,n),this.checkParallelEdgesBoundsTrigger(t,e,r,n)};var m0={};m0.applyBypass=function(t,e,r,n){var i=this,a=[],s=!0;if(e==="*"||e==="**"){if(r!==void 0)for(var o=0;o<i.properties.length;o++){var l=i.properties[o],u=l.name,c=this.parse(u,r,!0);c&&a.push(c)}}else if(Ke(e)){var f=this.parse(e,r,!0);f&&a.push(f)}else if(Tt(e)){var d=e;n=r;for(var p=Object.keys(d),g=0;g<p.length;g++){var y=p[g],b=d[y];if(b===void 0&&(b=d[Jh(y)]),b!==void 0){var x=this.parse(y,b,!0);x&&a.push(x)}}}else return!1;if(a.length===0)return!1;for(var w=!1,_=0;_<t.length;_++){for(var k=t[_],T={},P=void 0,M=0;M<a.length;M++){var A=a[M];if(n){var L=k.pstyle(A.name);P=T[A.name]={prev:L}}w=this.applyParsedProperty(k,Fi(A))||w,n&&(P.next=k.pstyle(A.name))}w&&this.updateStyleHints(k),n&&this.updateTransitions(k,T,s)}return w};m0.overrideBypass=function(t,e,r){e=F2(e);for(var n=0;n<t.length;n++){var i=t[n],a=i._private.style[e],s=this.properties[e].type,o=s.color,l=s.mutiple,u=a?a.pfValue!=null?a.pfValue:a.value:null;!a||!a.bypass?this.applyBypass(i,e,r):(a.value=r,a.pfValue!=null&&(a.pfValue=r),o?a.strValue="rgb("+r.join(",")+")":l?a.strValue=r.join(" "):a.strValue=""+r,this.updateStyleHints(i)),this.checkTriggers(i,e,u,r)}};m0.removeAllBypasses=function(t,e){return this.removeBypasses(t,this.propertyNames,e)};m0.removeBypasses=function(t,e,r){for(var n=!0,i=0;i<t.length;i++){for(var a=t[i],s={},o=0;o<e.length;o++){var l=e[o],u=this.properties[l],c=a.pstyle(u.name);if(!(!c||!c.bypass)){var f="",d=this.parse(l,f,!0),p=s[u.name]={prev:c};this.applyParsedProperty(a,d),p.next=a.pstyle(u.name)}}this.updateStyleHints(a),r&&this.updateTransitions(a,s,n)}};var J2={};J2.getEmSizeInPixels=function(){var t=this.containerCss("font-size");return t!=null?parseFloat(t):1};J2.containerCss=function(t){var e=this._private.cy,r=e.container(),n=e.window();if(n&&r&&n.getComputedStyle)return n.getComputedStyle(r).getPropertyValue(t)};var Hi={};Hi.getRenderedStyle=function(t,e){return e?this.getStylePropertyValue(t,e,!0):this.getRawStyle(t,!0)};Hi.getRawStyle=function(t,e){var r=this;if(t=t[0],t){for(var n={},i=0;i<r.properties.length;i++){var a=r.properties[i],s=r.getStylePropertyValue(t,a.name,e);s!=null&&(n[a.name]=s,n[Jh(a.name)]=s)}return n}};Hi.getIndexedStyle=function(t,e,r,n){var i=t.pstyle(e)[r][n];return i??t.cy().style().getDefaultProperty(e)[r][0]};Hi.getStylePropertyValue=function(t,e,r){var n=this;if(t=t[0],t){var i=n.properties[e];i.alias&&(i=i.pointsTo);var a=i.type,s=t.pstyle(i.name);if(s){var o=s.value,l=s.units,u=s.strValue;if(r&&a.number&&o!=null&&Ne(o)){var c=t.cy().zoom(),f=function(b){return b*c},d=function(b,x){return f(b)+x},p=Ht(o),g=p?l.every(function(y){return y!=null}):l!=null;return g?p?o.map(function(y,b){return d(y,l[b])}).join(" "):d(o,l):p?o.map(function(y){return Ke(y)?y:""+f(y)}).join(" "):""+f(o)}else if(u!=null)return u}return null}};Hi.getAnimationStartStyle=function(t,e){for(var r={},n=0;n<e.length;n++){var i=e[n],a=i.name,s=t.pstyle(a);s!==void 0&&(Tt(s)?s=this.parse(a,s.strValue):s=this.parse(a,s)),s&&(r[a]=s)}return r};Hi.getPropsList=function(t){var e=this,r=[],n=t,i=e.properties;if(n)for(var a=Object.keys(n),s=0;s<a.length;s++){var o=a[s],l=n[o],u=i[o]||i[F2(o)],c=this.parse(u.name,l);c&&r.push(c)}return r};Hi.getNonDefaultPropertiesHash=function(t,e,r){var n=r.slice(),i,a,s,o,l,u;for(l=0;l<e.length;l++)if(i=e[l],a=t.pstyle(i,!1),a!=null)if(a.pfValue!=null)n[0]=zc(o,n[0]),n[1]=Bc(o,n[1]);else for(s=a.strValue,u=0;u<s.length;u++)o=s.charCodeAt(u),n[0]=zc(o,n[0]),n[1]=Bc(o,n[1]);return n};Hi.getPropertiesHash=Hi.getNonDefaultPropertiesHash;var dp={};dp.appendFromJson=function(t){for(var e=this,r=0;r<t.length;r++){var n=t[r],i=n.selector,a=n.style||n.css,s=Object.keys(a);e.selector(i);for(var o=0;o<s.length;o++){var l=s[o],u=a[l];e.css(l,u)}}return e};dp.fromJson=function(t){var e=this;return e.resetToDefault(),e.appendFromJson(t),e};dp.json=function(){for(var t=[],e=this.defaultLength;e<this.length;e++){for(var r=this[e],n=r.selector,i=r.properties,a={},s=0;s<i.length;s++){var o=i[s];a[o.name]=o.strValue}t.push({selector:n?n.toString():"core",style:a})}return t};var e4={};e4.appendFromString=function(t){var e=this,r=this,n=""+t,i,a,s;n=n.replace(/[/][*](\s|.)+?[*][/]/g,"");function o(){n.length>i.length?n=n.substr(i.length):n=""}function l(){a.length>s.length?a=a.substr(s.length):a=""}for(;;){var u=n.match(/^\s*$/);if(u)break;var c=n.match(/^\s*((?:.|\s)+?)\s*\{((?:.|\s)+?)\}/);if(!c){It("Halting stylesheet parsing: String stylesheet contains more to parse but no selector and block found in: "+n);break}i=c[0];var f=c[1];if(f!=="core"){var d=new ps(f);if(d.invalid){It("Skipping parsing of block: Invalid selector found in string stylesheet: "+f),o();continue}}var p=c[2],g=!1;a=p;for(var y=[];;){var b=a.match(/^\s*$/);if(b)break;var x=a.match(/^\s*(.+?)\s*:\s*(.+?)(?:\s*;|\s*$)/);if(!x){It("Skipping parsing of block: Invalid formatting of style property and value definitions found in:"+p),g=!0;break}s=x[0];var w=x[1],_=x[2],k=e.properties[w];if(!k){It("Skipping property: Invalid property name in: "+s),l();continue}var T=r.parse(w,_);if(!T){It("Skipping property: Invalid property definition in: "+s),l();continue}y.push({name:w,val:_}),l()}if(g){o();break}r.selector(f);for(var P=0;P<y.length;P++){var M=y[P];r.css(M.name,M.val)}o()}return r};e4.fromString=function(t){var e=this;return e.resetToDefault(),e.appendFromString(t),e};var Kr={};(function(){var t=Lr,e=wj,r=Sj,n=kj,i=Tj,a=function(ve){return"^"+ve+"\\s*\\(\\s*([\\w\\.]+)\\s*\\)$"},s=function(ve){var se=t+"|\\w+|"+e+"|"+r+"|"+n+"|"+i;return"^"+ve+"\\s*\\(([\\w\\.]+)\\s*\\,\\s*("+t+")\\s*\\,\\s*("+t+")\\s*,\\s*("+se+")\\s*\\,\\s*("+se+")\\)$"},o=[`^url\\s*\\(\\s*['"]?(.+?)['"]?\\s*\\)$`,"^(none)$","^(.+)$"];Kr.types={time:{number:!0,min:0,units:"s|ms",implicitUnits:"ms"},percent:{number:!0,min:0,max:100,units:"%",implicitUnits:"%"},percentages:{number:!0,min:0,max:100,units:"%",implicitUnits:"%",multiple:!0},zeroOneNumber:{number:!0,min:0,max:1,unitless:!0},zeroOneNumbers:{number:!0,min:0,max:1,unitless:!0,multiple:!0},nOneOneNumber:{number:!0,min:-1,max:1,unitless:!0},nonNegativeInt:{number:!0,min:0,integer:!0,unitless:!0},nonNegativeNumber:{number:!0,min:0,unitless:!0},position:{enums:["parent","origin"]},nodeSize:{number:!0,min:0,enums:["label"]},number:{number:!0,unitless:!0},numbers:{number:!0,unitless:!0,multiple:!0},positiveNumber:{number:!0,unitless:!0,min:0,strictMin:!0},size:{number:!0,min:0},bidirectionalSize:{number:!0},bidirectionalSizeMaybePercent:{number:!0,allowPercent:!0},bidirectionalSizes:{number:!0,multiple:!0},sizeMaybePercent:{number:!0,min:0,allowPercent:!0},axisDirection:{enums:["horizontal","leftward","rightward","vertical","upward","downward","auto"]},paddingRelativeTo:{enums:["width","height","average","min","max"]},bgWH:{number:!0,min:0,allowPercent:!0,enums:["auto"],multiple:!0},bgPos:{number:!0,allowPercent:!0,multiple:!0},bgRelativeTo:{enums:["inner","include-padding"],multiple:!0},bgRepeat:{enums:["repeat","repeat-x","repeat-y","no-repeat"],multiple:!0},bgFit:{enums:["none","contain","cover"],multiple:!0},bgCrossOrigin:{enums:["anonymous","use-credentials","null"],multiple:!0},bgClip:{enums:["none","node"],multiple:!0},bgContainment:{enums:["inside","over"],multiple:!0},color:{color:!0},colors:{color:!0,multiple:!0},fill:{enums:["solid","linear-gradient","radial-gradient"]},bool:{enums:["yes","no"]},bools:{enums:["yes","no"],multiple:!0},lineStyle:{enums:["solid","dotted","dashed"]},lineCap:{enums:["butt","round","square"]},linePosition:{enums:["center","inside","outside"]},lineJoin:{enums:["round","bevel","miter"]},borderStyle:{enums:["solid","dotted","dashed","double"]},curveStyle:{enums:["bezier","unbundled-bezier","haystack","segments","straight","straight-triangle","taxi","round-segments","round-taxi"]},radiusType:{enums:["arc-radius","influence-radius"],multiple:!0},fontFamily:{regex:'^([\\w- \\"]+(?:\\s*,\\s*[\\w- \\"]+)*)$'},fontStyle:{enums:["italic","normal","oblique"]},fontWeight:{enums:["normal","bold","bolder","lighter","100","200","300","400","500","600","800","900",100,200,300,400,500,600,700,800,900]},textDecoration:{enums:["none","underline","overline","line-through"]},textTransform:{enums:["none","uppercase","lowercase"]},textWrap:{enums:["none","wrap","ellipsis"]},textOverflowWrap:{enums:["whitespace","anywhere"]},textBackgroundShape:{enums:["rectangle","roundrectangle","round-rectangle"]},nodeShape:{enums:["rectangle","roundrectangle","round-rectangle","cutrectangle","cut-rectangle","bottomroundrectangle","bottom-round-rectangle","barrel","ellipse","triangle","round-triangle","square","pentagon","round-pentagon","hexagon","round-hexagon","concavehexagon","concave-hexagon","heptagon","round-heptagon","octagon","round-octagon","tag","round-tag","star","diamond","round-diamond","vee","rhomboid","right-rhomboid","polygon"]},overlayShape:{enums:["roundrectangle","round-rectangle","ellipse"]},cornerRadius:{number:!0,min:0,units:"px|em",implicitUnits:"px",enums:["auto"]},compoundIncludeLabels:{enums:["include","exclude"]},arrowShape:{enums:["tee","triangle","triangle-tee","circle-triangle","triangle-cross","triangle-backcurve","vee","square","circle","diamond","chevron","none"]},arrowFill:{enums:["filled","hollow"]},arrowWidth:{number:!0,units:"%|px|em",implicitUnits:"px",enums:["match-line"]},display:{enums:["element","none"]},visibility:{enums:["hidden","visible"]},zCompoundDepth:{enums:["bottom","orphan","auto","top"]},zIndexCompare:{enums:["auto","manual"]},valign:{enums:["top","center","bottom"]},halign:{enums:["left","center","right"]},justification:{enums:["left","center","right","auto"]},text:{string:!0},data:{mapping:!0,regex:a("data")},layoutData:{mapping:!0,regex:a("layoutData")},scratch:{mapping:!0,regex:a("scratch")},mapData:{mapping:!0,regex:s("mapData")},mapLayoutData:{mapping:!0,regex:s("mapLayoutData")},mapScratch:{mapping:!0,regex:s("mapScratch")},fn:{mapping:!0,fn:!0},url:{regexes:o,singleRegexMatchValue:!0},urls:{regexes:o,singleRegexMatchValue:!0,multiple:!0},propList:{propList:!0},angle:{number:!0,units:"deg|rad",implicitUnits:"rad"},textRotation:{number:!0,units:"deg|rad",implicitUnits:"rad",enums:["none","autorotate"]},polygonPointList:{number:!0,multiple:!0,evenMultiple:!0,min:-1,max:1,unitless:!0},edgeDistances:{enums:["intersection","node-position","endpoints"]},edgeEndpoint:{number:!0,multiple:!0,units:"%|px|em|deg|rad",implicitUnits:"px",enums:["inside-to-node","outside-to-node","outside-to-node-or-label","outside-to-line","outside-to-line-or-label"],singleEnum:!0,validate:function(ve,se){switch(ve.length){case 2:return se[0]!=="deg"&&se[0]!=="rad"&&se[1]!=="deg"&&se[1]!=="rad";case 1:return Ke(ve[0])||se[0]==="deg"||se[0]==="rad";default:return!1}}},easing:{regexes:["^(spring)\\s*\\(\\s*("+t+")\\s*,\\s*("+t+")\\s*\\)$","^(cubic-bezier)\\s*\\(\\s*("+t+")\\s*,\\s*("+t+")\\s*,\\s*("+t+")\\s*,\\s*("+t+")\\s*\\)$"],enums:["linear","ease","ease-in","ease-out","ease-in-out","ease-in-sine","ease-out-sine","ease-in-out-sine","ease-in-quad","ease-out-quad","ease-in-out-quad","ease-in-cubic","ease-out-cubic","ease-in-out-cubic","ease-in-quart","ease-out-quart","ease-in-out-quart","ease-in-quint","ease-out-quint","ease-in-out-quint","ease-in-expo","ease-out-expo","ease-in-out-expo","ease-in-circ","ease-out-circ","ease-in-out-circ"]},gradientDirection:{enums:["to-bottom","to-top","to-left","to-right","to-bottom-right","to-bottom-left","to-top-right","to-top-left","to-right-bottom","to-left-bottom","to-right-top","to-left-top"]},boundsExpansion:{number:!0,multiple:!0,min:0,validate:function(ve){var se=ve.length;return se===1||se===2||se===4}}};var l={zeroNonZero:function(ve,se){return(ve==null||se==null)&&ve!==se||ve==0&&se!=0?!0:ve!=0&&se==0},any:function(ve,se){return ve!=se},emptyNonEmpty:function(ve,se){var ye=fs(ve),we=fs(se);return ye&&!we||!ye&&we}},u=Kr.types,c=[{name:"label",type:u.text,triggersBounds:l.any,triggersZOrder:l.emptyNonEmpty},{name:"text-rotation",type:u.textRotation,triggersBounds:l.any},{name:"text-margin-x",type:u.bidirectionalSize,triggersBounds:l.any},{name:"text-margin-y",type:u.bidirectionalSize,triggersBounds:l.any}],f=[{name:"source-label",type:u.text,triggersBounds:l.any},{name:"source-text-rotation",type:u.textRotation,triggersBounds:l.any},{name:"source-text-margin-x",type:u.bidirectionalSize,triggersBounds:l.any},{name:"source-text-margin-y",type:u.bidirectionalSize,triggersBounds:l.any},{name:"source-text-offset",type:u.size,triggersBounds:l.any}],d=[{name:"target-label",type:u.text,triggersBounds:l.any},{name:"target-text-rotation",type:u.textRotation,triggersBounds:l.any},{name:"target-text-margin-x",type:u.bidirectionalSize,triggersBounds:l.any},{name:"target-text-margin-y",type:u.bidirectionalSize,triggersBounds:l.any},{name:"target-text-offset",type:u.size,triggersBounds:l.any}],p=[{name:"font-family",type:u.fontFamily,triggersBounds:l.any},{name:"font-style",type:u.fontStyle,triggersBounds:l.any},{name:"font-weight",type:u.fontWeight,triggersBounds:l.any},{name:"font-size",type:u.size,triggersBounds:l.any},{name:"text-transform",type:u.textTransform,triggersBounds:l.any},{name:"text-wrap",type:u.textWrap,triggersBounds:l.any},{name:"text-overflow-wrap",type:u.textOverflowWrap,triggersBounds:l.any},{name:"text-max-width",type:u.size,triggersBounds:l.any},{name:"text-outline-width",type:u.size,triggersBounds:l.any},{name:"line-height",type:u.positiveNumber,triggersBounds:l.any}],g=[{name:"text-valign",type:u.valign,triggersBounds:l.any},{name:"text-halign",type:u.halign,triggersBounds:l.any},{name:"color",type:u.color},{name:"text-outline-color",type:u.color},{name:"text-outline-opacity",type:u.zeroOneNumber},{name:"text-background-color",type:u.color},{name:"text-background-opacity",type:u.zeroOneNumber},{name:"text-background-padding",type:u.size,triggersBounds:l.any},{name:"text-border-opacity",type:u.zeroOneNumber},{name:"text-border-color",type:u.color},{name:"text-border-width",type:u.size,triggersBounds:l.any},{name:"text-border-style",type:u.borderStyle,triggersBounds:l.any},{name:"text-background-shape",type:u.textBackgroundShape,triggersBounds:l.any},{name:"text-justification",type:u.justification}],y=[{name:"events",type:u.bool,triggersZOrder:l.any},{name:"text-events",type:u.bool,triggersZOrder:l.any}],b=[{name:"display",type:u.display,triggersZOrder:l.any,triggersBounds:l.any,triggersBoundsOfConnectedEdges:l.any,triggersBoundsOfParallelEdges:function(ve,se,ye){return ve===se?!1:ye.pstyle("curve-style").value==="bezier"}},{name:"visibility",type:u.visibility,triggersZOrder:l.any},{name:"opacity",type:u.zeroOneNumber,triggersZOrder:l.zeroNonZero},{name:"text-opacity",type:u.zeroOneNumber},{name:"min-zoomed-font-size",type:u.size},{name:"z-compound-depth",type:u.zCompoundDepth,triggersZOrder:l.any},{name:"z-index-compare",type:u.zIndexCompare,triggersZOrder:l.any},{name:"z-index",type:u.number,triggersZOrder:l.any}],x=[{name:"overlay-padding",type:u.size,triggersBounds:l.any},{name:"overlay-color",type:u.color},{name:"overlay-opacity",type:u.zeroOneNumber,triggersBounds:l.zeroNonZero},{name:"overlay-shape",type:u.overlayShape,triggersBounds:l.any},{name:"overlay-corner-radius",type:u.cornerRadius}],w=[{name:"underlay-padding",type:u.size,triggersBounds:l.any},{name:"underlay-color",type:u.color},{name:"underlay-opacity",type:u.zeroOneNumber,triggersBounds:l.zeroNonZero},{name:"underlay-shape",type:u.overlayShape,triggersBounds:l.any},{name:"underlay-corner-radius",type:u.cornerRadius}],_=[{name:"transition-property",type:u.propList},{name:"transition-duration",type:u.time},{name:"transition-delay",type:u.time},{name:"transition-timing-function",type:u.easing}],k=function(ve,se){return se.value==="label"?-ve.poolIndex():se.pfValue},T=[{name:"height",type:u.nodeSize,triggersBounds:l.any,hashOverride:k},{name:"width",type:u.nodeSize,triggersBounds:l.any,hashOverride:k},{name:"shape",type:u.nodeShape,triggersBounds:l.any},{name:"shape-polygon-points",type:u.polygonPointList,triggersBounds:l.any},{name:"corner-radius",type:u.cornerRadius},{name:"background-color",type:u.color},{name:"background-fill",type:u.fill},{name:"background-opacity",type:u.zeroOneNumber},{name:"background-blacken",type:u.nOneOneNumber},{name:"background-gradient-stop-colors",type:u.colors},{name:"background-gradient-stop-positions",type:u.percentages},{name:"background-gradient-direction",type:u.gradientDirection},{name:"padding",type:u.sizeMaybePercent,triggersBounds:l.any},{name:"padding-relative-to",type:u.paddingRelativeTo,triggersBounds:l.any},{name:"bounds-expansion",type:u.boundsExpansion,triggersBounds:l.any}],P=[{name:"border-color",type:u.color},{name:"border-opacity",type:u.zeroOneNumber},{name:"border-width",type:u.size,triggersBounds:l.any},{name:"border-style",type:u.borderStyle},{name:"border-cap",type:u.lineCap},{name:"border-join",type:u.lineJoin},{name:"border-dash-pattern",type:u.numbers},{name:"border-dash-offset",type:u.number},{name:"border-position",type:u.linePosition}],M=[{name:"outline-color",type:u.color},{name:"outline-opacity",type:u.zeroOneNumber},{name:"outline-width",type:u.size,triggersBounds:l.any},{name:"outline-style",type:u.borderStyle},{name:"outline-offset",type:u.size,triggersBounds:l.any}],A=[{name:"background-image",type:u.urls},{name:"background-image-crossorigin",type:u.bgCrossOrigin},{name:"background-image-opacity",type:u.zeroOneNumbers},{name:"background-image-containment",type:u.bgContainment},{name:"background-image-smoothing",type:u.bools},{name:"background-position-x",type:u.bgPos},{name:"background-position-y",type:u.bgPos},{name:"background-width-relative-to",type:u.bgRelativeTo},{name:"background-height-relative-to",type:u.bgRelativeTo},{name:"background-repeat",type:u.bgRepeat},{name:"background-fit",type:u.bgFit},{name:"background-clip",type:u.bgClip},{name:"background-width",type:u.bgWH},{name:"background-height",type:u.bgWH},{name:"background-offset-x",type:u.bgPos},{name:"background-offset-y",type:u.bgPos}],L=[{name:"position",type:u.position,triggersBounds:l.any},{name:"compound-sizing-wrt-labels",type:u.compoundIncludeLabels,triggersBounds:l.any},{name:"min-width",type:u.size,triggersBounds:l.any},{name:"min-width-bias-left",type:u.sizeMaybePercent,triggersBounds:l.any},{name:"min-width-bias-right",type:u.sizeMaybePercent,triggersBounds:l.any},{name:"min-height",type:u.size,triggersBounds:l.any},{name:"min-height-bias-top",type:u.sizeMaybePercent,triggersBounds:l.any},{name:"min-height-bias-bottom",type:u.sizeMaybePercent,triggersBounds:l.any}],R=[{name:"line-style",type:u.lineStyle},{name:"line-color",type:u.color},{name:"line-fill",type:u.fill},{name:"line-cap",type:u.lineCap},{name:"line-opacity",type:u.zeroOneNumber},{name:"line-dash-pattern",type:u.numbers},{name:"line-dash-offset",type:u.number},{name:"line-outline-width",type:u.size},{name:"line-outline-color",type:u.color},{name:"line-gradient-stop-colors",type:u.colors},{name:"line-gradient-stop-positions",type:u.percentages},{name:"curve-style",type:u.curveStyle,triggersBounds:l.any,triggersBoundsOfParallelEdges:function(ve,se){return ve===se?!1:ve==="bezier"||se==="bezier"}},{name:"haystack-radius",type:u.zeroOneNumber,triggersBounds:l.any},{name:"source-endpoint",type:u.edgeEndpoint,triggersBounds:l.any},{name:"target-endpoint",type:u.edgeEndpoint,triggersBounds:l.any},{name:"control-point-step-size",type:u.size,triggersBounds:l.any},{name:"control-point-distances",type:u.bidirectionalSizes,triggersBounds:l.any},{name:"control-point-weights",type:u.numbers,triggersBounds:l.any},{name:"segment-distances",type:u.bidirectionalSizes,triggersBounds:l.any},{name:"segment-weights",type:u.numbers,triggersBounds:l.any},{name:"segment-radii",type:u.numbers,triggersBounds:l.any},{name:"radius-type",type:u.radiusType,triggersBounds:l.any},{name:"taxi-turn",type:u.bidirectionalSizeMaybePercent,triggersBounds:l.any},{name:"taxi-turn-min-distance",type:u.size,triggersBounds:l.any},{name:"taxi-direction",type:u.axisDirection,triggersBounds:l.any},{name:"taxi-radius",type:u.number,triggersBounds:l.any},{name:"edge-distances",type:u.edgeDistances,triggersBounds:l.any},{name:"arrow-scale",type:u.positiveNumber,triggersBounds:l.any},{name:"loop-direction",type:u.angle,triggersBounds:l.any},{name:"loop-sweep",type:u.angle,triggersBounds:l.any},{name:"source-distance-from-node",type:u.size,triggersBounds:l.any},{name:"target-distance-from-node",type:u.size,triggersBounds:l.any}],N=[{name:"ghost",type:u.bool,triggersBounds:l.any},{name:"ghost-offset-x",type:u.bidirectionalSize,triggersBounds:l.any},{name:"ghost-offset-y",type:u.bidirectionalSize,triggersBounds:l.any},{name:"ghost-opacity",type:u.zeroOneNumber}],F=[{name:"selection-box-color",type:u.color},{name:"selection-box-opacity",type:u.zeroOneNumber},{name:"selection-box-border-color",type:u.color},{name:"selection-box-border-width",type:u.size},{name:"active-bg-color",type:u.color},{name:"active-bg-opacity",type:u.zeroOneNumber},{name:"active-bg-size",type:u.size},{name:"outside-texture-bg-color",type:u.color},{name:"outside-texture-bg-opacity",type:u.zeroOneNumber}],$=[];Kr.pieBackgroundN=16,$.push({name:"pie-size",type:u.sizeMaybePercent});for(var V=1;V<=Kr.pieBackgroundN;V++)$.push({name:"pie-"+V+"-background-color",type:u.color}),$.push({name:"pie-"+V+"-background-size",type:u.percent}),$.push({name:"pie-"+V+"-background-opacity",type:u.zeroOneNumber});var X=[],K=Kr.arrowPrefixes=["source","mid-source","target","mid-target"];[{name:"arrow-shape",type:u.arrowShape,triggersBounds:l.any},{name:"arrow-color",type:u.color},{name:"arrow-fill",type:u.arrowFill},{name:"arrow-width",type:u.arrowWidth}].forEach(function(Te){K.forEach(function(ve){var se=ve+"-"+Te.name,ye=Te.type,we=Te.triggersBounds;X.push({name:se,type:ye,triggersBounds:we})})},{});var W=Kr.properties=[].concat(y,_,b,x,w,N,g,p,c,f,d,T,P,M,A,$,L,R,X,F),H=Kr.propertyGroups={behavior:y,transition:_,visibility:b,overlay:x,underlay:w,ghost:N,commonLabel:g,labelDimensions:p,mainLabel:c,sourceLabel:f,targetLabel:d,nodeBody:T,nodeBorder:P,nodeOutline:M,backgroundImage:A,pie:$,compound:L,edgeLine:R,edgeArrow:X,core:F},ee=Kr.propertyGroupNames={},re=Kr.propertyGroupKeys=Object.keys(H);re.forEach(function(Te){ee[Te]=H[Te].map(function(ve){return ve.name}),H[Te].forEach(function(ve){return ve.groupKey=Te})});var G=Kr.aliases=[{name:"content",pointsTo:"label"},{name:"control-point-distance",pointsTo:"control-point-distances"},{name:"control-point-weight",pointsTo:"control-point-weights"},{name:"segment-distance",pointsTo:"segment-distances"},{name:"segment-weight",pointsTo:"segment-weights"},{name:"segment-radius",pointsTo:"segment-radii"},{name:"edge-text-rotation",pointsTo:"text-rotation"},{name:"padding-left",pointsTo:"padding"},{name:"padding-right",pointsTo:"padding"},{name:"padding-top",pointsTo:"padding"},{name:"padding-bottom",pointsTo:"padding"}];Kr.propertyNames=W.map(function(Te){return Te.name});for(var Z=0;Z<W.length;Z++){var ue=W[Z];W[ue.name]=ue}for(var pe=0;pe<G.length;pe++){var ge=G[pe],fe=W[ge.pointsTo],Se={name:ge.name,alias:!0,pointsTo:fe};W.push(Se),W[ge.name]=Se}})();Kr.getDefaultProperty=function(t){return this.getDefaultProperties()[t]};Kr.getDefaultProperties=function(){var t=this._private;if(t.defaultProperties!=null)return t.defaultProperties;for(var e=et({"selection-box-color":"#ddd","selection-box-opacity":.65,"selection-box-border-color":"#aaa","selection-box-border-width":1,"active-bg-color":"black","active-bg-opacity":.15,"active-bg-size":30,"outside-texture-bg-color":"#000","outside-texture-bg-opacity":.125,events:"yes","text-events":"no","text-valign":"top","text-halign":"center","text-justification":"auto","line-height":1,color:"#000","text-outline-color":"#000","text-outline-width":0,"text-outline-opacity":1,"text-opacity":1,"text-decoration":"none","text-transform":"none","text-wrap":"none","text-overflow-wrap":"whitespace","text-max-width":9999,"text-background-color":"#000","text-background-opacity":0,"text-background-shape":"rectangle","text-background-padding":0,"text-border-opacity":0,"text-border-width":0,"text-border-style":"solid","text-border-color":"#000","font-family":"Helvetica Neue, Helvetica, sans-serif","font-style":"normal","font-weight":"normal","font-size":16,"min-zoomed-font-size":0,"text-rotation":"none","source-text-rotation":"none","target-text-rotation":"none",visibility:"visible",display:"element",opacity:1,"z-compound-depth":"auto","z-index-compare":"auto","z-index":0,label:"","text-margin-x":0,"text-margin-y":0,"source-label":"","source-text-offset":0,"source-text-margin-x":0,"source-text-margin-y":0,"target-label":"","target-text-offset":0,"target-text-margin-x":0,"target-text-margin-y":0,"overlay-opacity":0,"overlay-color":"#000","overlay-padding":10,"overlay-shape":"round-rectangle","overlay-corner-radius":"auto","underlay-opacity":0,"underlay-color":"#000","underlay-padding":10,"underlay-shape":"round-rectangle","underlay-corner-radius":"auto","transition-property":"none","transition-duration":0,"transition-delay":0,"transition-timing-function":"linear","background-blacken":0,"background-color":"#999","background-fill":"solid","background-opacity":1,"background-image":"none","background-image-crossorigin":"anonymous","background-image-opacity":1,"background-image-containment":"inside","background-image-smoothing":"yes","background-position-x":"50%","background-position-y":"50%","background-offset-x":0,"background-offset-y":0,"background-width-relative-to":"include-padding","background-height-relative-to":"include-padding","background-repeat":"no-repeat","background-fit":"none","background-clip":"node","background-width":"auto","background-height":"auto","border-color":"#000","border-opacity":1,"border-width":0,"border-style":"solid","border-dash-pattern":[4,2],"border-dash-offset":0,"border-cap":"butt","border-join":"miter","border-position":"center","outline-color":"#999","outline-opacity":1,"outline-width":0,"outline-offset":0,"outline-style":"solid",height:30,width:30,shape:"ellipse","shape-polygon-points":"-1, -1,   1, -1,   1, 1,   -1, 1","corner-radius":"auto","bounds-expansion":0,"background-gradient-direction":"to-bottom","background-gradient-stop-colors":"#999","background-gradient-stop-positions":"0%",ghost:"no","ghost-offset-y":0,"ghost-offset-x":0,"ghost-opacity":0,padding:0,"padding-relative-to":"width",position:"origin","compound-sizing-wrt-labels":"include","min-width":0,"min-width-bias-left":0,"min-width-bias-right":0,"min-height":0,"min-height-bias-top":0,"min-height-bias-bottom":0},{"pie-size":"100%"},[{name:"pie-{{i}}-background-color",value:"black"},{name:"pie-{{i}}-background-size",value:"0%"},{name:"pie-{{i}}-background-opacity",value:1}].reduce(function(l,u){for(var c=1;c<=Kr.pieBackgroundN;c++){var f=u.name.replace("{{i}}",c),d=u.value;l[f]=d}return l},{}),{"line-style":"solid","line-color":"#999","line-fill":"solid","line-cap":"butt","line-opacity":1,"line-outline-width":0,"line-outline-color":"#000","line-gradient-stop-colors":"#999","line-gradient-stop-positions":"0%","control-point-step-size":40,"control-point-weights":.5,"segment-weights":.5,"segment-distances":20,"segment-radii":15,"radius-type":"arc-radius","taxi-turn":"50%","taxi-radius":15,"taxi-turn-min-distance":10,"taxi-direction":"auto","edge-distances":"intersection","curve-style":"haystack","haystack-radius":0,"arrow-scale":1,"loop-direction":"-45deg","loop-sweep":"-90deg","source-distance-from-node":0,"target-distance-from-node":0,"source-endpoint":"outside-to-node","target-endpoint":"outside-to-node","line-dash-pattern":[6,3],"line-dash-offset":0},[{name:"arrow-shape",value:"none"},{name:"arrow-color",value:"#999"},{name:"arrow-fill",value:"filled"},{name:"arrow-width",value:1}].reduce(function(l,u){return Kr.arrowPrefixes.forEach(function(c){var f=c+"-"+u.name,d=u.value;l[f]=d}),l},{})),r={},n=0;n<this.properties.length;n++){var i=this.properties[n];if(!i.pointsTo){var a=i.name,s=e[a],o=this.parse(a,s);r[a]=o}}return t.defaultProperties=r,t.defaultProperties};Kr.addDefaultStylesheet=function(){this.selector(":parent").css({shape:"rectangle",padding:10,"background-color":"#eee","border-color":"#ccc","border-width":1}).selector("edge").css({width:3}).selector(":loop").css({"curve-style":"bezier"}).selector("edge:compound").css({"curve-style":"bezier","source-endpoint":"outside-to-line","target-endpoint":"outside-to-line"}).selector(":selected").css({"background-color":"#0169D9","line-color":"#0169D9","source-arrow-color":"#0169D9","target-arrow-color":"#0169D9","mid-source-arrow-color":"#0169D9","mid-target-arrow-color":"#0169D9"}).selector(":parent:selected").css({"background-color":"#CCE1F9","border-color":"#aec8e5"}).selector(":active").css({"overlay-color":"black","overlay-padding":10,"overlay-opacity":.25}),this.defaultLength=this.length};var hp={};hp.parse=function(t,e,r,n){var i=this;if(cr(e))return i.parseImplWarn(t,e,r,n);var a=n==="mapping"||n===!0||n===!1||n==null?"dontcare":n,s=r?"t":"f",o=""+e,l=pk(t,o,s,a),u=i.propCache=i.propCache||[],c;return(c=u[l])||(c=u[l]=i.parseImplWarn(t,e,r,n)),(r||n==="mapping")&&(c=Fi(c),c&&(c.value=Fi(c.value))),c};hp.parseImplWarn=function(t,e,r,n){var i=this.parseImpl(t,e,r,n);return!i&&e!=null&&It("The style property `".concat(t,": ").concat(e,"` is invalid")),i&&(i.name==="width"||i.name==="height")&&e==="label"&&It("The style value of `label` is deprecated for `"+i.name+"`"),i};hp.parseImpl=function(t,e,r,n){var i=this;t=F2(t);var a=i.properties[t],s=e,o=i.types;if(!a||e===void 0)return null;a.alias&&(a=a.pointsTo,t=a.name);var l=Ke(e);l&&(e=e.trim());var u=a.type;if(!u)return null;if(r&&(e===""||e===null))return{name:t,value:e,bypass:!0,deleteBypass:!0};if(cr(e))return{name:t,value:e,strValue:"fn",mapped:o.fn,bypass:r};var c,f;if(!(!l||n||e.length<7||e[1]!=="a")){if(e.length>=7&&e[0]==="d"&&(c=new RegExp(o.data.regex).exec(e))){if(r)return!1;var d=o.data;return{name:t,value:c,strValue:""+e,mapped:d,field:c[1],bypass:r}}else if(e.length>=10&&e[0]==="m"&&(f=new RegExp(o.mapData.regex).exec(e))){if(r||u.multiple)return!1;var p=o.mapData;if(!(u.color||u.number))return!1;var g=this.parse(t,f[4]);if(!g||g.mapped)return!1;var y=this.parse(t,f[5]);if(!y||y.mapped)return!1;if(g.pfValue===y.pfValue||g.strValue===y.strValue)return It("`"+t+": "+e+"` is not a valid mapper because the output range is zero; converting to `"+t+": "+g.strValue+"`"),this.parse(t,g.strValue);if(u.color){var b=g.value,x=y.value,w=b[0]===x[0]&&b[1]===x[1]&&b[2]===x[2]&&(b[3]===x[3]||(b[3]==null||b[3]===1)&&(x[3]==null||x[3]===1));if(w)return!1}return{name:t,value:f,strValue:""+e,mapped:p,field:f[1],fieldMin:parseFloat(f[2]),fieldMax:parseFloat(f[3]),valueMin:g.value,valueMax:y.value,bypass:r}}}if(u.multiple&&n!=="multiple"){var _;if(l?_=e.split(/\s+/):Ht(e)?_=e:_=[e],u.evenMultiple&&_.length%2!==0)return null;for(var k=[],T=[],P=[],M="",A=!1,L=0;L<_.length;L++){var R=i.parse(t,_[L],r,"multiple");A=A||Ke(R.value),k.push(R.value),P.push(R.pfValue!=null?R.pfValue:R.value),T.push(R.units),M+=(L>0?" ":"")+R.strValue}return u.validate&&!u.validate(k,T)?null:u.singleEnum&&A?k.length===1&&Ke(k[0])?{name:t,value:k[0],strValue:k[0],bypass:r}:null:{name:t,value:k,pfValue:P,strValue:M,bypass:r,units:T}}var N=function(){for(var ve=0;ve<u.enums.length;ve++){var se=u.enums[ve];if(se===e)return{name:t,value:e,strValue:""+e,bypass:r}}return null};if(u.number){var F,$="px";if(u.units&&(F=u.units),u.implicitUnits&&($=u.implicitUnits),!u.unitless)if(l){var V="px|em"+(u.allowPercent?"|\\%":"");F&&(V=F);var X=e.match("^("+Lr+")("+V+")?$");X&&(e=X[1],F=X[2]||$)}else(!F||u.implicitUnits)&&(F=$);if(e=parseFloat(e),isNaN(e)&&u.enums===void 0)return null;if(isNaN(e)&&u.enums!==void 0)return e=s,N();if(u.integer&&!pj(e)||u.min!==void 0&&(e<u.min||u.strictMin&&e===u.min)||u.max!==void 0&&(e>u.max||u.strictMax&&e===u.max))return null;var K={name:t,value:e,strValue:""+e+(F||""),units:F,bypass:r};return u.unitless||F!=="px"&&F!=="em"?K.pfValue=e:K.pfValue=F==="px"||!F?e:this.getEmSizeInPixels()*e,(F==="ms"||F==="s")&&(K.pfValue=F==="ms"?e:1e3*e),(F==="deg"||F==="rad")&&(K.pfValue=F==="rad"?e:wq(e)),F==="%"&&(K.pfValue=e/100),K}else if(u.propList){var W=[],H=""+e;if(H!=="none"){for(var ee=H.split(/\s*,\s*|\s+/),re=0;re<ee.length;re++){var G=ee[re].trim();i.properties[G]?W.push(G):It("`"+G+"` is not a valid property name")}if(W.length===0)return null}return{name:t,value:W,strValue:W.length===0?"none":W.join(" "),bypass:r}}else if(u.color){var Z=ok(e);return Z?{name:t,value:Z,pfValue:Z,strValue:"rgb("+Z[0]+","+Z[1]+","+Z[2]+")",bypass:r}:null}else if(u.regex||u.regexes){if(u.enums){var ue=N();if(ue)return ue}for(var pe=u.regexes?u.regexes:[u.regex],ge=0;ge<pe.length;ge++){var fe=new RegExp(pe[ge]),Se=fe.exec(e);if(Se)return{name:t,value:u.singleRegexMatchValue?Se[1]:Se,strValue:""+e,bypass:r}}return null}else return u.string?{name:t,value:""+e,strValue:""+e,bypass:r}:u.enums?N():null};var Ur=function(e){if(!(this instanceof Ur))return new Ur(e);if(!B2(e)){or("A style must have a core reference");return}this._private={cy:e,coreStyle:{}},this.length=0,this.resetToDefault()},un=Ur.prototype;un.instanceString=function(){return"style"};un.clear=function(){for(var t=this._private,e=t.cy,r=e.elements(),n=0;n<this.length;n++)this[n]=void 0;return this.length=0,t.contextStyles={},t.propDiffs={},this.cleanElements(r,!0),r.forEach(function(i){var a=i[0]._private;a.styleDirty=!0,a.appliedInitStyle=!1}),this};un.resetToDefault=function(){return this.clear(),this.addDefaultStylesheet(),this};un.core=function(t){return this._private.coreStyle[t]||this.getDefaultProperty(t)};un.selector=function(t){var e=t==="core"?null:new ps(t),r=this.length++;return this[r]={selector:e,properties:[],mappedProperties:[],index:r},this};un.css=function(){var t=this,e=arguments;if(e.length===1)for(var r=e[0],n=0;n<t.properties.length;n++){var i=t.properties[n],a=r[i.name];a===void 0&&(a=r[Jh(i.name)]),a!==void 0&&this.cssRule(i.name,a)}else e.length===2&&this.cssRule(e[0],e[1]);return this};un.style=un.css;un.cssRule=function(t,e){var r=this.parse(t,e);if(r){var n=this.length-1;this[n].properties.push(r),this[n].properties[r.name]=r,r.name.match(/pie-(\d+)-background-size/)&&r.value&&(this._private.hasPie=!0),r.mapped&&this[n].mappedProperties.push(r);var i=!this[n].selector;i&&(this._private.coreStyle[r.name]=r)}return this};un.append=function(t){return ik(t)?t.appendToStyle(this):Ht(t)?this.appendFromJson(t):Ke(t)&&this.appendFromString(t),this};Ur.fromJson=function(t,e){var r=new Ur(t);return r.fromJson(e),r};Ur.fromString=function(t,e){return new Ur(t).fromString(e)};[Wr,m0,J2,Hi,dp,e4,Kr,hp].forEach(function(t){et(un,t)});Ur.types=un.types;Ur.properties=un.properties;Ur.propertyGroups=un.propertyGroups;Ur.propertyGroupNames=un.propertyGroupNames;Ur.propertyGroupKeys=un.propertyGroupKeys;var SU={style:function(e){if(e){var r=this.setStyle(e);r.update()}return this._private.style},setStyle:function(e){var r=this._private;return ik(e)?r.style=e.generateStyle(this):Ht(e)?r.style=Ur.fromJson(this,e):Ke(e)?r.style=Ur.fromString(this,e):r.style=Ur(this),r.style},updateStyle:function(){this.mutableElements().updateStyle()}},kU="single",po={autolock:function(e){if(e!==void 0)this._private.autolock=!!e;else return this._private.autolock;return this},autoungrabify:function(e){if(e!==void 0)this._private.autoungrabify=!!e;else return this._private.autoungrabify;return this},autounselectify:function(e){if(e!==void 0)this._private.autounselectify=!!e;else return this._private.autounselectify;return this},selectionType:function(e){var r=this._private;if(r.selectionType==null&&(r.selectionType=kU),e!==void 0)(e==="additive"||e==="single")&&(r.selectionType=e);else return r.selectionType;return this},panningEnabled:function(e){if(e!==void 0)this._private.panningEnabled=!!e;else return this._private.panningEnabled;return this},userPanningEnabled:function(e){if(e!==void 0)this._private.userPanningEnabled=!!e;else return this._private.userPanningEnabled;return this},zoomingEnabled:function(e){if(e!==void 0)this._private.zoomingEnabled=!!e;else return this._private.zoomingEnabled;return this},userZoomingEnabled:function(e){if(e!==void 0)this._private.userZoomingEnabled=!!e;else return this._private.userZoomingEnabled;return this},boxSelectionEnabled:function(e){if(e!==void 0)this._private.boxSelectionEnabled=!!e;else return this._private.boxSelectionEnabled;return this},pan:function(){var e=arguments,r=this._private.pan,n,i,a,s,o;switch(e.length){case 0:return r;case 1:if(Ke(e[0]))return n=e[0],r[n];if(Tt(e[0])){if(!this._private.panningEnabled)return this;a=e[0],s=a.x,o=a.y,Ne(s)&&(r.x=s),Ne(o)&&(r.y=o),this.emit("pan viewport")}break;case 2:if(!this._private.panningEnabled)return this;n=e[0],i=e[1],(n==="x"||n==="y")&&Ne(i)&&(r[n]=i),this.emit("pan viewport");break}return this.notify("viewport"),this},panBy:function(e,r){var n=arguments,i=this._private.pan,a,s,o,l,u;if(!this._private.panningEnabled)return this;switch(n.length){case 1:Tt(e)&&(o=n[0],l=o.x,u=o.y,Ne(l)&&(i.x+=l),Ne(u)&&(i.y+=u),this.emit("pan viewport"));break;case 2:a=e,s=r,(a==="x"||a==="y")&&Ne(s)&&(i[a]+=s),this.emit("pan viewport");break}return this.notify("viewport"),this},gc:function(){this.notify("gc")},fit:function(e,r){var n=this.getFitViewport(e,r);if(n){var i=this._private;i.zoom=n.zoom,i.pan=n.pan,this.emit("pan zoom viewport"),this.notify("viewport")}return this},getFitViewport:function(e,r){if(Ne(e)&&r===void 0&&(r=e,e=void 0),!(!this._private.panningEnabled||!this._private.zoomingEnabled)){var n;if(Ke(e)){var i=e;e=this.$(i)}else if(vj(e)){var a=e;n={x1:a.x1,y1:a.y1,x2:a.x2,y2:a.y2},n.w=n.x2-n.x1,n.h=n.y2-n.y1}else Vn(e)||(e=this.mutableElements());if(!(Vn(e)&&e.empty())){n=n||e.boundingBox();var s=this.width(),o=this.height(),l;if(r=Ne(r)?r:0,!isNaN(s)&&!isNaN(o)&&s>0&&o>0&&!isNaN(n.w)&&!isNaN(n.h)&&n.w>0&&n.h>0){l=Math.min((s-2*r)/n.w,(o-2*r)/n.h),l=l>this._private.maxZoom?this._private.maxZoom:l,l=l<this._private.minZoom?this._private.minZoom:l;var u={x:(s-l*(n.x1+n.x2))/2,y:(o-l*(n.y1+n.y2))/2};return{zoom:l,pan:u}}}}},zoomRange:function(e,r){var n=this._private;if(r==null){var i=e;e=i.min,r=i.max}return Ne(e)&&Ne(r)&&e<=r?(n.minZoom=e,n.maxZoom=r):Ne(e)&&r===void 0&&e<=n.maxZoom?n.minZoom=e:Ne(r)&&e===void 0&&r>=n.minZoom&&(n.maxZoom=r),this},minZoom:function(e){return e===void 0?this._private.minZoom:this.zoomRange({min:e})},maxZoom:function(e){return e===void 0?this._private.maxZoom:this.zoomRange({max:e})},getZoomedViewport:function(e){var r=this._private,n=r.pan,i=r.zoom,a,s,o=!1;if(r.zoomingEnabled||(o=!0),Ne(e)?s=e:Tt(e)&&(s=e.level,e.position!=null?a=rp(e.position,i,n):e.renderedPosition!=null&&(a=e.renderedPosition),a!=null&&!r.panningEnabled&&(o=!0)),s=s>r.maxZoom?r.maxZoom:s,s=s<r.minZoom?r.minZoom:s,o||!Ne(s)||s===i||a!=null&&(!Ne(a.x)||!Ne(a.y)))return null;if(a!=null){var l=n,u=i,c=s,f={x:-c/u*(a.x-l.x)+a.x,y:-c/u*(a.y-l.y)+a.y};return{zoomed:!0,panned:!0,zoom:c,pan:f}}else return{zoomed:!0,panned:!1,zoom:s,pan:n}},zoom:function(e){if(e===void 0)return this._private.zoom;var r=this.getZoomedViewport(e),n=this._private;return r==null||!r.zoomed?this:(n.zoom=r.zoom,r.panned&&(n.pan.x=r.pan.x,n.pan.y=r.pan.y),this.emit("zoom"+(r.panned?" pan":"")+" viewport"),this.notify("viewport"),this)},viewport:function(e){var r=this._private,n=!0,i=!0,a=[],s=!1,o=!1;if(!e)return this;if(Ne(e.zoom)||(n=!1),Tt(e.pan)||(i=!1),!n&&!i)return this;if(n){var l=e.zoom;l<r.minZoom||l>r.maxZoom||!r.zoomingEnabled?s=!0:(r.zoom=l,a.push("zoom"))}if(i&&(!s||!e.cancelOnFailedZoom)&&r.panningEnabled){var u=e.pan;Ne(u.x)&&(r.pan.x=u.x,o=!1),Ne(u.y)&&(r.pan.y=u.y,o=!1),o||a.push("pan")}return a.length>0&&(a.push("viewport"),this.emit(a.join(" ")),this.notify("viewport")),this},center:function(e){var r=this.getCenterPan(e);return r&&(this._private.pan=r,this.emit("pan viewport"),this.notify("viewport")),this},getCenterPan:function(e,r){if(this._private.panningEnabled){if(Ke(e)){var n=e;e=this.mutableElements().filter(n)}else Vn(e)||(e=this.mutableElements());if(e.length!==0){var i=e.boundingBox(),a=this.width(),s=this.height();r=r===void 0?this._private.zoom:r;var o={x:(a-r*(i.x1+i.x2))/2,y:(s-r*(i.y1+i.y2))/2};return o}}},reset:function(){return!this._private.panningEnabled||!this._private.zoomingEnabled?this:(this.viewport({pan:{x:0,y:0},zoom:1}),this)},invalidateSize:function(){this._private.sizeCache=null},size:function(){var e=this._private,r=e.container,n=this;return e.sizeCache=e.sizeCache||(r?function(){var i=n.window().getComputedStyle(r),a=function(o){return parseFloat(i.getPropertyValue(o))};return{width:r.clientWidth-a("padding-left")-a("padding-right"),height:r.clientHeight-a("padding-top")-a("padding-bottom")}}():{width:1,height:1})},width:function(){return this.size().width},height:function(){return this.size().height},extent:function(){var e=this._private.pan,r=this._private.zoom,n=this.renderedExtent(),i={x1:(n.x1-e.x)/r,x2:(n.x2-e.x)/r,y1:(n.y1-e.y)/r,y2:(n.y2-e.y)/r};return i.w=i.x2-i.x1,i.h=i.y2-i.y1,i},renderedExtent:function(){var e=this.width(),r=this.height();return{x1:0,y1:0,x2:e,y2:r,w:e,h:r}},multiClickDebounceTime:function(e){if(e)this._private.multiClickDebounceTime=e;else return this._private.multiClickDebounceTime;return this}};po.centre=po.center;po.autolockNodes=po.autolock;po.autoungrabifyNodes=po.autoungrabify;var Vc={data:At.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeData:At.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),scratch:At.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:At.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0})};Vc.attr=Vc.data;Vc.removeAttr=Vc.removeData;var Uc=function(e){var r=this;e=et({},e);var n=e.container;n&&!ih(n)&&ih(n[0])&&(n=n[0]);var i=n?n._cyreg:null;i=i||{},i&&i.cy&&(i.cy.destroy(),i={});var a=i.readies=i.readies||[];n&&(n._cyreg=i),i.cy=r;var s=Dr!==void 0&&n!==void 0&&!e.headless,o=e;o.layout=et({name:s?"grid":"null"},o.layout),o.renderer=et({name:s?"canvas":"null"},o.renderer);var l=function(g,y,b){return y!==void 0?y:b!==void 0?b:g},u=this._private={container:n,ready:!1,options:o,elements:new Jr(this),listeners:[],aniEles:new Jr(this),data:o.data||{},scratch:{},layout:null,renderer:null,destroyed:!1,notificationsEnabled:!0,minZoom:1e-50,maxZoom:1e50,zoomingEnabled:l(!0,o.zoomingEnabled),userZoomingEnabled:l(!0,o.userZoomingEnabled),panningEnabled:l(!0,o.panningEnabled),userPanningEnabled:l(!0,o.userPanningEnabled),boxSelectionEnabled:l(!0,o.boxSelectionEnabled),autolock:l(!1,o.autolock,o.autolockNodes),autoungrabify:l(!1,o.autoungrabify,o.autoungrabifyNodes),autounselectify:l(!1,o.autounselectify),styleEnabled:o.styleEnabled===void 0?s:o.styleEnabled,zoom:Ne(o.zoom)?o.zoom:1,pan:{x:Tt(o.pan)&&Ne(o.pan.x)?o.pan.x:0,y:Tt(o.pan)&&Ne(o.pan.y)?o.pan.y:0},animation:{current:[],queue:[]},hasCompoundNodes:!1,multiClickDebounceTime:l(250,o.multiClickDebounceTime)};this.createEmitter(),this.selectionType(o.selectionType),this.zoomRange({min:o.minZoom,max:o.maxZoom});var c=function(g,y){var b=g.some(yj);if(b)return Zl.all(g).then(y);y(g)};u.styleEnabled&&r.setStyle([]);var f=et({},o,o.renderer);r.initRenderer(f);var d=function(g,y,b){r.notifications(!1);var x=r.mutableElements();x.length>0&&x.remove(),g!=null&&(Tt(g)||Ht(g))&&r.add(g),r.one("layoutready",function(_){r.notifications(!0),r.emit(_),r.one("load",y),r.emitAndNotify("load")}).one("layoutstop",function(){r.one("done",b),r.emit("done")});var w=et({},r._private.options.layout);w.eles=r.elements(),r.layout(w).run()};c([o.style,o.elements],function(p){var g=p[0],y=p[1];u.styleEnabled&&r.style().append(g),d(y,function(){r.startAnimationLoop(),u.ready=!0,cr(o.ready)&&r.on("ready",o.ready);for(var b=0;b<a.length;b++){var x=a[b];r.on("ready",x)}i&&(i.readies=[]),r.emit("ready")},o.done)})},fh=Uc.prototype;et(fh,{instanceString:function(){return"core"},isReady:function(){return this._private.ready},destroyed:function(){return this._private.destroyed},ready:function(e){return this.isReady()?this.emitter().emit("ready",[],e):this.on("ready",e),this},destroy:function(){var e=this;if(!e.destroyed())return e.stopAnimationLoop(),e.destroyRenderer(),this.emit("destroy"),e._private.destroyed=!0,e},hasElementWithId:function(e){return this._private.elements.hasElementWithId(e)},getElementById:function(e){return this._private.elements.getElementById(e)},hasCompoundNodes:function(){return this._private.hasCompoundNodes},headless:function(){return this._private.renderer.isHeadless()},styleEnabled:function(){return this._private.styleEnabled},addToPool:function(e){return this._private.elements.merge(e),this},removeFromPool:function(e){return this._private.elements.unmerge(e),this},container:function(){return this._private.container||null},window:function(){var e=this._private.container;if(e==null)return Dr;var r=this._private.container.ownerDocument;return r===void 0||r==null?Dr:r.defaultView||Dr},mount:function(e){if(e!=null){var r=this,n=r._private,i=n.options;return!ih(e)&&ih(e[0])&&(e=e[0]),r.stopAnimationLoop(),r.destroyRenderer(),n.container=e,n.styleEnabled=!0,r.invalidateSize(),r.initRenderer(et({},i,i.renderer,{name:i.renderer.name==="null"?"canvas":i.renderer.name})),r.startAnimationLoop(),r.style(i.style),r.emit("mount"),r}},unmount:function(){var e=this;return e.stopAnimationLoop(),e.destroyRenderer(),e.initRenderer({name:"null"}),e.emit("unmount"),e},options:function(){return Fi(this._private.options)},json:function(e){var r=this,n=r._private,i=r.mutableElements(),a=function(k){return r.getElementById(k.id())};if(Tt(e)){if(r.startBatch(),e.elements){var s={},o=function(k,T){for(var P=[],M=[],A=0;A<k.length;A++){var L=k[A];if(!L.data.id){It("cy.json() cannot handle elements without an ID attribute");continue}var R=""+L.data.id,N=r.getElementById(R);s[R]=!0,N.length!==0?M.push({ele:N,json:L}):(T&&(L.group=T),P.push(L))}r.add(P);for(var F=0;F<M.length;F++){var $=M[F],V=$.ele,X=$.json;V.json(X)}};if(Ht(e.elements))o(e.elements);else for(var l=["nodes","edges"],u=0;u<l.length;u++){var c=l[u],f=e.elements[c];Ht(f)&&o(f,c)}var d=r.collection();i.filter(function(_){return!s[_.id()]}).forEach(function(_){_.isParent()?d.merge(_):_.remove()}),d.forEach(function(_){return _.children().move({parent:null})}),d.forEach(function(_){return a(_).remove()})}e.style&&r.style(e.style),e.zoom!=null&&e.zoom!==n.zoom&&r.zoom(e.zoom),e.pan&&(e.pan.x!==n.pan.x||e.pan.y!==n.pan.y)&&r.pan(e.pan),e.data&&r.data(e.data);for(var p=["minZoom","maxZoom","zoomingEnabled","userZoomingEnabled","panningEnabled","userPanningEnabled","boxSelectionEnabled","autolock","autoungrabify","autounselectify","multiClickDebounceTime"],g=0;g<p.length;g++){var y=p[g];e[y]!=null&&r[y](e[y])}return r.endBatch(),this}else{var b=!!e,x={};b?x.elements=this.elements().map(function(_){return _.json()}):(x.elements={},i.forEach(function(_){var k=_.group();x.elements[k]||(x.elements[k]=[]),x.elements[k].push(_.json())})),this._private.styleEnabled&&(x.style=r.style().json()),x.data=Fi(r.data());var w=n.options;return x.zoomingEnabled=n.zoomingEnabled,x.userZoomingEnabled=n.userZoomingEnabled,x.zoom=n.zoom,x.minZoom=n.minZoom,x.maxZoom=n.maxZoom,x.panningEnabled=n.panningEnabled,x.userPanningEnabled=n.userPanningEnabled,x.pan=Fi(n.pan),x.boxSelectionEnabled=n.boxSelectionEnabled,x.renderer=Fi(w.renderer),x.hideEdgesOnViewport=w.hideEdgesOnViewport,x.textureOnViewport=w.textureOnViewport,x.wheelSensitivity=w.wheelSensitivity,x.motionBlur=w.motionBlur,x.multiClickDebounceTime=w.multiClickDebounceTime,x}}});fh.$id=fh.getElementById;[hU,yU,iT,X1,od,bU,K1,ld,SU,po,Vc].forEach(function(t){et(fh,t)});var TU={fit:!0,directed:!1,padding:30,circle:!1,grid:!1,spacingFactor:1.75,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,roots:void 0,depthSort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}},EU={maximal:!1,acyclic:!1},Bo=function(e){return e.scratch("breadthfirst")},q6=function(e,r){return e.scratch("breadthfirst",r)};function aT(t){this.options=et({},TU,EU,t)}aT.prototype.run=function(){var t=this.options,e=t.cy,r=t.eles,n=r.nodes().filter(function(Be){return Be.isChildless()}),i=r,a=t.directed,s=t.acyclic||t.maximal||t.maximalAdjustments>0,o=!!t.boundingBox,l=e.extent(),u=Rn(o?t.boundingBox:{x1:l.x1,y1:l.y1,w:l.w,h:l.h}),c;if(Vn(t.roots))c=t.roots;else if(Ht(t.roots)){for(var f=[],d=0;d<t.roots.length;d++){var p=t.roots[d],g=e.getElementById(p);f.push(g)}c=e.collection(f)}else if(Ke(t.roots))c=e.$(t.roots);else if(a)c=n.roots();else{var y=r.components();c=e.collection();for(var b=function(){var ze=y[x],Ye=ze.maxDegree(!1),rt=ze.filter(function(Ze){return Ze.degree(!1)===Ye});c=c.add(rt)},x=0;x<y.length;x++)b()}var w=[],_={},k=function(ze,Ye){w[Ye]==null&&(w[Ye]=[]);var rt=w[Ye].length;w[Ye].push(ze),q6(ze,{index:rt,depth:Ye})},T=function(ze,Ye){var rt=Bo(ze),Ze=rt.depth,tt=rt.index;w[Ze][tt]=null,ze.isChildless()&&k(ze,Ye)};i.bfs({roots:c,directed:t.directed,visit:function(ze,Ye,rt,Ze,tt){var at=ze[0],ut=at.id();at.isChildless()&&k(at,tt),_[ut]=!0}});for(var P=[],M=0;M<n.length;M++){var A=n[M];_[A.id()]||P.push(A)}var L=function(ze){for(var Ye=w[ze],rt=0;rt<Ye.length;rt++){var Ze=Ye[rt];if(Ze==null){Ye.splice(rt,1),rt--;continue}q6(Ze,{depth:ze,index:rt})}},R=function(ze,Ye){for(var rt=Bo(ze),Ze=ze.incomers().filter(function(xe){return xe.isNode()&&r.has(xe)}),tt=-1,at=ze.id(),ut=0;ut<Ze.length;ut++){var Me=Ze[ut],U=Bo(Me);tt=Math.max(tt,U.depth)}if(rt.depth<=tt){if(!t.acyclic&&Ye[at])return null;var le=tt+1;return T(ze,le),Ye[at]=le,!0}return!1};if(a&&s){var N=[],F={},$=function(ze){return N.push(ze)},V=function(){return N.shift()};for(n.forEach(function(Be){return N.push(Be)});N.length>0;){var X=V(),K=R(X,F);if(K)X.outgoers().filter(function(Be){return Be.isNode()&&r.has(Be)}).forEach($);else if(K===null){It("Detected double maximal shift for node `"+X.id()+"`.  Bailing maximal adjustment due to cycle.  Use `options.maximal: true` only on DAGs.");break}}}var W=0;if(t.avoidOverlap)for(var H=0;H<n.length;H++){var ee=n[H],re=ee.layoutDimensions(t),G=re.w,Z=re.h;W=Math.max(W,G,Z)}var ue={},pe=function(ze){if(ue[ze.id()])return ue[ze.id()];for(var Ye=Bo(ze).depth,rt=ze.neighborhood(),Ze=0,tt=0,at=0;at<rt.length;at++){var ut=rt[at];if(!(ut.isEdge()||ut.isParent()||!n.has(ut))){var Me=Bo(ut);if(Me!=null){var U=Me.index,le=Me.depth;if(!(U==null||le==null)){var xe=w[le].length;le<Ye&&(Ze+=U/xe,tt++)}}}}return tt=Math.max(1,tt),Ze=Ze/tt,tt===0&&(Ze=0),ue[ze.id()]=Ze,Ze},ge=function(ze,Ye){var rt=pe(ze),Ze=pe(Ye),tt=rt-Ze;return tt===0?sk(ze.id(),Ye.id()):tt};t.depthSort!==void 0&&(ge=t.depthSort);for(var fe=w.length,Se=0;Se<fe;Se++)w[Se].sort(ge),L(Se);for(var Te=[],ve=0;ve<P.length;ve++)Te.push(P[ve]);var se=function(){for(var ze=0;ze<fe;ze++)L(ze)};Te.length&&(w.unshift(Te),fe=w.length,se());for(var ye=0,we=0;we<fe;we++)ye=Math.max(w[we].length,ye);var Re={x:u.x1+u.w/2,y:u.y1+u.h/2},Ve=n.reduce(function(Be,ze){return function(Ye){return{w:Be.w===-1?Ye.w:(Be.w+Ye.w)/2,h:Be.h===-1?Ye.h:(Be.h+Ye.h)/2}}(ze.boundingBox({includeLabels:t.nodeDimensionsIncludeLabels}))},{w:-1,h:-1}),st=Math.max(fe===1?0:o?(u.h-t.padding*2-Ve.h)/(fe-1):(u.h-t.padding*2-Ve.h)/(fe+1),W),Lt=w.reduce(function(Be,ze){return Math.max(Be,ze.length)},0),Et=function(ze){var Ye=Bo(ze),rt=Ye.depth,Ze=Ye.index;if(t.circle){var tt=Math.min(u.w/2/fe,u.h/2/fe);tt=Math.max(tt,W);var at=tt*rt+tt-(fe>0&&w[0].length<=3?tt/2:0),ut=2*Math.PI/w[rt].length*Ze;return rt===0&&w[0].length===1&&(at=1),{x:Re.x+at*Math.cos(ut),y:Re.y+at*Math.sin(ut)}}else{var Me=w[rt].length,U=Math.max(Me===1?0:o?(u.w-t.padding*2-Ve.w)/((t.grid?Lt:Me)-1):(u.w-t.padding*2-Ve.w)/((t.grid?Lt:Me)+1),W),le={x:Re.x+(Ze+1-(Me+1)/2)*U,y:Re.y+(rt+1-(fe+1)/2)*st};return le}};return r.nodes().layoutPositions(this,t,Et),this};var CU={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,radius:void 0,startAngle:3/2*Math.PI,sweep:void 0,clockwise:!0,sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}};function sT(t){this.options=et({},CU,t)}sT.prototype.run=function(){var t=this.options,e=t,r=t.cy,n=e.eles,i=e.counterclockwise!==void 0?!e.counterclockwise:e.clockwise,a=n.nodes().not(":parent");e.sort&&(a=a.sort(e.sort));for(var s=Rn(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()}),o={x:s.x1+s.w/2,y:s.y1+s.h/2},l=e.sweep===void 0?2*Math.PI-2*Math.PI/a.length:e.sweep,u=l/Math.max(1,a.length-1),c,f=0,d=0;d<a.length;d++){var p=a[d],g=p.layoutDimensions(e),y=g.w,b=g.h;f=Math.max(f,y,b)}if(Ne(e.radius)?c=e.radius:a.length<=1?c=0:c=Math.min(s.h,s.w)/2-f,a.length>1&&e.avoidOverlap){f*=1.75;var x=Math.cos(u)-Math.cos(0),w=Math.sin(u)-Math.sin(0),_=Math.sqrt(f*f/(x*x+w*w));c=Math.max(_,c)}var k=function(P,M){var A=e.startAngle+M*u*(i?1:-1),L=c*Math.cos(A),R=c*Math.sin(A),N={x:o.x+L,y:o.y+R};return N};return n.nodes().layoutPositions(this,e,k),this};var MU={fit:!0,padding:30,startAngle:3/2*Math.PI,sweep:void 0,clockwise:!0,equidistant:!1,minNodeSpacing:10,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,height:void 0,width:void 0,spacingFactor:void 0,concentric:function(e){return e.degree()},levelWidth:function(e){return e.maxDegree()/4},animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}};function oT(t){this.options=et({},MU,t)}oT.prototype.run=function(){for(var t=this.options,e=t,r=e.counterclockwise!==void 0?!e.counterclockwise:e.clockwise,n=t.cy,i=e.eles,a=i.nodes().not(":parent"),s=Rn(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:n.width(),h:n.height()}),o={x:s.x1+s.w/2,y:s.y1+s.h/2},l=[],u=0,c=0;c<a.length;c++){var f=a[c],d=void 0;d=e.concentric(f),l.push({value:d,node:f}),f._private.scratch.concentric=d}a.updateStyle();for(var p=0;p<a.length;p++){var g=a[p],y=g.layoutDimensions(e);u=Math.max(u,y.w,y.h)}l.sort(function(Ve,st){return st.value-Ve.value});for(var b=e.levelWidth(a),x=[[]],w=x[0],_=0;_<l.length;_++){var k=l[_];if(w.length>0){var T=Math.abs(w[0].value-k.value);T>=b&&(w=[],x.push(w))}w.push(k)}var P=u+e.minNodeSpacing;if(!e.avoidOverlap){var M=x.length>0&&x[0].length>1,A=Math.min(s.w,s.h)/2-P,L=A/(x.length+M?1:0);P=Math.min(P,L)}for(var R=0,N=0;N<x.length;N++){var F=x[N],$=e.sweep===void 0?2*Math.PI-2*Math.PI/F.length:e.sweep,V=F.dTheta=$/Math.max(1,F.length-1);if(F.length>1&&e.avoidOverlap){var X=Math.cos(V)-Math.cos(0),K=Math.sin(V)-Math.sin(0),W=Math.sqrt(P*P/(X*X+K*K));R=Math.max(W,R)}F.r=R,R+=P}if(e.equidistant){for(var H=0,ee=0,re=0;re<x.length;re++){var G=x[re],Z=G.r-ee;H=Math.max(H,Z)}ee=0;for(var ue=0;ue<x.length;ue++){var pe=x[ue];ue===0&&(ee=pe.r),pe.r=ee,ee+=H}}for(var ge={},fe=0;fe<x.length;fe++)for(var Se=x[fe],Te=Se.dTheta,ve=Se.r,se=0;se<Se.length;se++){var ye=Se[se],we=e.startAngle+(r?1:-1)*Te*se,Re={x:o.x+ve*Math.cos(we),y:o.y+ve*Math.sin(we)};ge[ye.node.id()]=Re}return i.nodes().layoutPositions(this,e,function(Ve){var st=Ve.id();return ge[st]}),this};var iv,PU={ready:function(){},stop:function(){},animate:!0,animationEasing:void 0,animationDuration:void 0,animateFilter:function(e,r){return!0},animationThreshold:250,refresh:20,fit:!0,padding:30,boundingBox:void 0,nodeDimensionsIncludeLabels:!1,randomize:!1,componentSpacing:40,nodeRepulsion:function(e){return 2048},nodeOverlap:4,idealEdgeLength:function(e){return 32},edgeElasticity:function(e){return 32},nestingFactor:1.2,gravity:1,numIter:1e3,initialTemp:1e3,coolingFactor:.99,minTemp:1};function pp(t){this.options=et({},PU,t),this.options.layout=this;var e=this.options.eles.nodes(),r=this.options.eles.edges(),n=r.filter(function(i){var a=i.source().data("id"),s=i.target().data("id"),o=e.some(function(u){return u.data("id")===a}),l=e.some(function(u){return u.data("id")===s});return!o||!l});this.options.eles=this.options.eles.not(n)}pp.prototype.run=function(){var t=this.options,e=t.cy,r=this;r.stopped=!1,(t.animate===!0||t.animate===!1)&&r.emit({type:"layoutstart",layout:r}),t.debug===!0?iv=!0:iv=!1;var n=DU(e,r,t);iv&&IU(n),t.randomize&&LU(n);var i=ba(),a=function(){RU(n,e,t),t.fit===!0&&e.fit(t.padding)},s=function(d){return!(r.stopped||d>=t.numIter||(OU(n,t),n.temperature=n.temperature*t.coolingFactor,n.temperature<t.minTemp))},o=function(){if(t.animate===!0||t.animate===!1)a(),r.one("layoutstop",t.stop),r.emit({type:"layoutstop",layout:r});else{var d=t.eles.nodes(),p=uT(n,t,d);d.layoutPositions(r,t,p)}},l=0,u=!0;if(t.animate===!0){var c=function(){for(var d=0;u&&d<t.refresh;)u=s(l),l++,d++;if(!u)V6(n,t),o();else{var p=ba();p-i>=t.animationThreshold&&a(),ah(c)}};c()}else{for(;u;)u=s(l),l++;V6(n,t),o()}return this};pp.prototype.stop=function(){return this.stopped=!0,this.thread&&this.thread.stop(),this.emit("layoutstop"),this};pp.prototype.destroy=function(){return this.thread&&this.thread.stop(),this};var DU=function(e,r,n){for(var i=n.eles.edges(),a=n.eles.nodes(),s=Rn(n.boundingBox?n.boundingBox:{x1:0,y1:0,w:e.width(),h:e.height()}),o={isCompound:e.hasCompoundNodes(),layoutNodes:[],idToIndex:{},nodeSize:a.size(),graphSet:[],indexToGraph:[],layoutEdges:[],edgeSize:i.size(),temperature:n.initialTemp,clientWidth:s.w,clientHeight:s.h,boundingBox:s},l=n.eles.components(),u={},c=0;c<l.length;c++)for(var f=l[c],d=0;d<f.length;d++){var p=f[d];u[p.id()]=c}for(var c=0;c<o.nodeSize;c++){var g=a[c],y=g.layoutDimensions(n),b={};b.isLocked=g.locked(),b.id=g.data("id"),b.parentId=g.data("parent"),b.cmptId=u[g.id()],b.children=[],b.positionX=g.position("x"),b.positionY=g.position("y"),b.offsetX=0,b.offsetY=0,b.height=y.w,b.width=y.h,b.maxX=b.positionX+b.width/2,b.minX=b.positionX-b.width/2,b.maxY=b.positionY+b.height/2,b.minY=b.positionY-b.height/2,b.padLeft=parseFloat(g.style("padding")),b.padRight=parseFloat(g.style("padding")),b.padTop=parseFloat(g.style("padding")),b.padBottom=parseFloat(g.style("padding")),b.nodeRepulsion=cr(n.nodeRepulsion)?n.nodeRepulsion(g):n.nodeRepulsion,o.layoutNodes.push(b),o.idToIndex[b.id]=c}for(var x=[],w=0,_=-1,k=[],c=0;c<o.nodeSize;c++){var g=o.layoutNodes[c],T=g.parentId;T!=null?o.layoutNodes[o.idToIndex[T]].children.push(g.id):(x[++_]=g.id,k.push(g.id))}for(o.graphSet.push(k);w<=_;){var P=x[w++],M=o.idToIndex[P],p=o.layoutNodes[M],A=p.children;if(A.length>0){o.graphSet.push(A);for(var c=0;c<A.length;c++)x[++_]=A[c]}}for(var c=0;c<o.graphSet.length;c++)for(var L=o.graphSet[c],d=0;d<L.length;d++){var R=o.idToIndex[L[d]];o.indexToGraph[R]=c}for(var c=0;c<o.edgeSize;c++){var N=i[c],F={};F.id=N.data("id"),F.sourceId=N.data("source"),F.targetId=N.data("target");var $=cr(n.idealEdgeLength)?n.idealEdgeLength(N):n.idealEdgeLength,V=cr(n.edgeElasticity)?n.edgeElasticity(N):n.edgeElasticity,X=o.idToIndex[F.sourceId],K=o.idToIndex[F.targetId],W=o.indexToGraph[X],H=o.indexToGraph[K];if(W!=H){for(var ee=AU(F.sourceId,F.targetId,o),re=o.graphSet[ee],G=0,b=o.layoutNodes[X];re.indexOf(b.id)===-1;)b=o.layoutNodes[o.idToIndex[b.parentId]],G++;for(b=o.layoutNodes[K];re.indexOf(b.id)===-1;)b=o.layoutNodes[o.idToIndex[b.parentId]],G++;$*=G*n.nestingFactor}F.idealLength=$,F.elasticity=V,o.layoutEdges.push(F)}return o},AU=function(e,r,n){var i=lT(e,r,0,n);return 2>i.count?0:i.graph},lT=function(e,r,n,i){var a=i.graphSet[n];if(-1<a.indexOf(e)&&-1<a.indexOf(r))return{count:2,graph:n};for(var s=0,o=0;o<a.length;o++){var l=a[o],u=i.idToIndex[l],c=i.layoutNodes[u].children;if(c.length!==0){var f=i.indexToGraph[i.idToIndex[c[0]]],d=lT(e,r,f,i);if(d.count!==0)if(d.count===1){if(s++,s===2)break}else return d}}return{count:s,graph:n}},IU,LU=function(e,r){for(var n=e.clientWidth,i=e.clientHeight,a=0;a<e.nodeSize;a++){var s=e.layoutNodes[a];s.children.length===0&&!s.isLocked&&(s.positionX=Math.random()*n,s.positionY=Math.random()*i)}},uT=function(e,r,n){var i=e.boundingBox,a={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0};return r.boundingBox&&(n.forEach(function(s){var o=e.layoutNodes[e.idToIndex[s.data("id")]];a.x1=Math.min(a.x1,o.positionX),a.x2=Math.max(a.x2,o.positionX),a.y1=Math.min(a.y1,o.positionY),a.y2=Math.max(a.y2,o.positionY)}),a.w=a.x2-a.x1,a.h=a.y2-a.y1),function(s,o){var l=e.layoutNodes[e.idToIndex[s.data("id")]];if(r.boundingBox){var u=(l.positionX-a.x1)/a.w,c=(l.positionY-a.y1)/a.h;return{x:i.x1+u*i.w,y:i.y1+c*i.h}}else return{x:l.positionX,y:l.positionY}}},RU=function(e,r,n){var i=n.layout,a=n.eles.nodes(),s=uT(e,n,a);a.positions(s),e.ready!==!0&&(e.ready=!0,i.one("layoutready",n.ready),i.emit({type:"layoutready",layout:this}))},OU=function(e,r,n){NU(e,r),FU(e),$U(e,r),jU(e),qU(e)},NU=function(e,r){for(var n=0;n<e.graphSet.length;n++)for(var i=e.graphSet[n],a=i.length,s=0;s<a;s++)for(var o=e.layoutNodes[e.idToIndex[i[s]]],l=s+1;l<a;l++){var u=e.layoutNodes[e.idToIndex[i[l]]];zU(o,u,e,r)}},H6=function(e){return-1+2*e*Math.random()},zU=function(e,r,n,i){var a=e.cmptId,s=r.cmptId;if(!(a!==s&&!n.isCompound)){var o=r.positionX-e.positionX,l=r.positionY-e.positionY,u=1;o===0&&l===0&&(o=H6(u),l=H6(u));var c=BU(e,r,o,l);if(c>0)var f=i.nodeOverlap*c,d=Math.sqrt(o*o+l*l),p=f*o/d,g=f*l/d;else var y=dh(e,o,l),b=dh(r,-1*o,-1*l),x=b.x-y.x,w=b.y-y.y,_=x*x+w*w,d=Math.sqrt(_),f=(e.nodeRepulsion+r.nodeRepulsion)/_,p=f*x/d,g=f*w/d;e.isLocked||(e.offsetX-=p,e.offsetY-=g),r.isLocked||(r.offsetX+=p,r.offsetY+=g)}},BU=function(e,r,n,i){if(n>0)var a=e.maxX-r.minX;else var a=r.maxX-e.minX;if(i>0)var s=e.maxY-r.minY;else var s=r.maxY-e.minY;return a>=0&&s>=0?Math.sqrt(a*a+s*s):0},dh=function(e,r,n){var i=e.positionX,a=e.positionY,s=e.height||1,o=e.width||1,l=n/r,u=s/o,c={};return r===0&&0<n||r===0&&0>n?(c.x=i,c.y=a+s/2,c):0<r&&-1*u<=l&&l<=u?(c.x=i+o/2,c.y=a+o*n/2/r,c):0>r&&-1*u<=l&&l<=u?(c.x=i-o/2,c.y=a-o*n/2/r,c):0<n&&(l<=-1*u||l>=u)?(c.x=i+s*r/2/n,c.y=a+s/2,c):(0>n&&(l<=-1*u||l>=u)&&(c.x=i-s*r/2/n,c.y=a-s/2),c)},FU=function(e,r){for(var n=0;n<e.edgeSize;n++){var i=e.layoutEdges[n],a=e.idToIndex[i.sourceId],s=e.layoutNodes[a],o=e.idToIndex[i.targetId],l=e.layoutNodes[o],u=l.positionX-s.positionX,c=l.positionY-s.positionY;if(!(u===0&&c===0)){var f=dh(s,u,c),d=dh(l,-1*u,-1*c),p=d.x-f.x,g=d.y-f.y,y=Math.sqrt(p*p+g*g),b=Math.pow(i.idealLength-y,2)/i.elasticity;if(y!==0)var x=b*p/y,w=b*g/y;else var x=0,w=0;s.isLocked||(s.offsetX+=x,s.offsetY+=w),l.isLocked||(l.offsetX-=x,l.offsetY-=w)}}},$U=function(e,r){if(r.gravity!==0)for(var n=1,i=0;i<e.graphSet.length;i++){var a=e.graphSet[i],s=a.length;if(i===0)var o=e.clientHeight/2,l=e.clientWidth/2;else var u=e.layoutNodes[e.idToIndex[a[0]]],c=e.layoutNodes[e.idToIndex[u.parentId]],o=c.positionX,l=c.positionY;for(var f=0;f<s;f++){var d=e.layoutNodes[e.idToIndex[a[f]]];if(!d.isLocked){var p=o-d.positionX,g=l-d.positionY,y=Math.sqrt(p*p+g*g);if(y>n){var b=r.gravity*p/y,x=r.gravity*g/y;d.offsetX+=b,d.offsetY+=x}}}}},jU=function(e,r){var n=[],i=0,a=-1;for(n.push.apply(n,e.graphSet[0]),a+=e.graphSet[0].length;i<=a;){var s=n[i++],o=e.idToIndex[s],l=e.layoutNodes[o],u=l.children;if(0<u.length&&!l.isLocked){for(var c=l.offsetX,f=l.offsetY,d=0;d<u.length;d++){var p=e.layoutNodes[e.idToIndex[u[d]]];p.offsetX+=c,p.offsetY+=f,n[++a]=u[d]}l.offsetX=0,l.offsetY=0}}},qU=function(e,r){for(var n=0;n<e.nodeSize;n++){var i=e.layoutNodes[n];0<i.children.length&&(i.maxX=void 0,i.minX=void 0,i.maxY=void 0,i.minY=void 0)}for(var n=0;n<e.nodeSize;n++){var i=e.layoutNodes[n];if(!(0<i.children.length||i.isLocked)){var a=HU(i.offsetX,i.offsetY,e.temperature);i.positionX+=a.x,i.positionY+=a.y,i.offsetX=0,i.offsetY=0,i.minX=i.positionX-i.width,i.maxX=i.positionX+i.width,i.minY=i.positionY-i.height,i.maxY=i.positionY+i.height,cT(i,e)}}for(var n=0;n<e.nodeSize;n++){var i=e.layoutNodes[n];0<i.children.length&&!i.isLocked&&(i.positionX=(i.maxX+i.minX)/2,i.positionY=(i.maxY+i.minY)/2,i.width=i.maxX-i.minX,i.height=i.maxY-i.minY)}},HU=function(e,r,n){var i=Math.sqrt(e*e+r*r);if(i>n)var a={x:n*e/i,y:n*r/i};else var a={x:e,y:r};return a},cT=function(e,r){var n=e.parentId;if(n!=null){var i=r.layoutNodes[r.idToIndex[n]],a=!1;if((i.maxX==null||e.maxX+i.padRight>i.maxX)&&(i.maxX=e.maxX+i.padRight,a=!0),(i.minX==null||e.minX-i.padLeft<i.minX)&&(i.minX=e.minX-i.padLeft,a=!0),(i.maxY==null||e.maxY+i.padBottom>i.maxY)&&(i.maxY=e.maxY+i.padBottom,a=!0),(i.minY==null||e.minY-i.padTop<i.minY)&&(i.minY=e.minY-i.padTop,a=!0),a)return cT(i,r)}},V6=function(e,r){for(var n=e.layoutNodes,i=[],a=0;a<n.length;a++){var s=n[a],o=s.cmptId,l=i[o]=i[o]||[];l.push(s)}for(var u=0,a=0;a<i.length;a++){var c=i[a];if(c){c.x1=1/0,c.x2=-1/0,c.y1=1/0,c.y2=-1/0;for(var f=0;f<c.length;f++){var d=c[f];c.x1=Math.min(c.x1,d.positionX-d.width/2),c.x2=Math.max(c.x2,d.positionX+d.width/2),c.y1=Math.min(c.y1,d.positionY-d.height/2),c.y2=Math.max(c.y2,d.positionY+d.height/2)}c.w=c.x2-c.x1,c.h=c.y2-c.y1,u+=c.w*c.h}}i.sort(function(w,_){return _.w*_.h-w.w*w.h});for(var p=0,g=0,y=0,b=0,x=Math.sqrt(u)*e.clientWidth/e.clientHeight,a=0;a<i.length;a++){var c=i[a];if(c){for(var f=0;f<c.length;f++){var d=c[f];d.isLocked||(d.positionX+=p-c.x1,d.positionY+=g-c.y1)}p+=c.w+r.componentSpacing,y+=c.w+r.componentSpacing,b=Math.max(b,c.h),y>x&&(g+=b+r.componentSpacing,p=0,y=0,b=0)}}},VU={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,avoidOverlapPadding:10,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,condense:!1,rows:void 0,cols:void 0,position:function(e){},sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}};function fT(t){this.options=et({},VU,t)}fT.prototype.run=function(){var t=this.options,e=t,r=t.cy,n=e.eles,i=n.nodes().not(":parent");e.sort&&(i=i.sort(e.sort));var a=Rn(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()});if(a.h===0||a.w===0)n.nodes().layoutPositions(this,e,function(ue){return{x:a.x1,y:a.y1}});else{var s=i.size(),o=Math.sqrt(s*a.h/a.w),l=Math.round(o),u=Math.round(a.w/a.h*o),c=function(pe){if(pe==null)return Math.min(l,u);var ge=Math.min(l,u);ge==l?l=pe:u=pe},f=function(pe){if(pe==null)return Math.max(l,u);var ge=Math.max(l,u);ge==l?l=pe:u=pe},d=e.rows,p=e.cols!=null?e.cols:e.columns;if(d!=null&&p!=null)l=d,u=p;else if(d!=null&&p==null)l=d,u=Math.ceil(s/l);else if(d==null&&p!=null)u=p,l=Math.ceil(s/u);else if(u*l>s){var g=c(),y=f();(g-1)*y>=s?c(g-1):(y-1)*g>=s&&f(y-1)}else for(;u*l<s;){var b=c(),x=f();(x+1)*b>=s?f(x+1):c(b+1)}var w=a.w/u,_=a.h/l;if(e.condense&&(w=0,_=0),e.avoidOverlap)for(var k=0;k<i.length;k++){var T=i[k],P=T._private.position;(P.x==null||P.y==null)&&(P.x=0,P.y=0);var M=T.layoutDimensions(e),A=e.avoidOverlapPadding,L=M.w+A,R=M.h+A;w=Math.max(w,L),_=Math.max(_,R)}for(var N={},F=function(pe,ge){return!!N["c-"+pe+"-"+ge]},$=function(pe,ge){N["c-"+pe+"-"+ge]=!0},V=0,X=0,K=function(){X++,X>=u&&(X=0,V++)},W={},H=0;H<i.length;H++){var ee=i[H],re=e.position(ee);if(re&&(re.row!==void 0||re.col!==void 0)){var G={row:re.row,col:re.col};if(G.col===void 0)for(G.col=0;F(G.row,G.col);)G.col++;else if(G.row===void 0)for(G.row=0;F(G.row,G.col);)G.row++;W[ee.id()]=G,$(G.row,G.col)}}var Z=function(pe,ge){var fe,Se;if(pe.locked()||pe.isParent())return!1;var Te=W[pe.id()];if(Te)fe=Te.col*w+w/2+a.x1,Se=Te.row*_+_/2+a.y1;else{for(;F(V,X);)K();fe=X*w+w/2+a.x1,Se=V*_+_/2+a.y1,$(V,X),K()}return{x:fe,y:Se}};i.layoutPositions(this,e,Z)}return this};var UU={ready:function(){},stop:function(){}};function t4(t){this.options=et({},UU,t)}t4.prototype.run=function(){var t=this.options,e=t.eles,r=this;return t.cy,r.emit("layoutstart"),e.nodes().positions(function(){return{x:0,y:0}}),r.one("layoutready",t.ready),r.emit("layoutready"),r.one("layoutstop",t.stop),r.emit("layoutstop"),this};t4.prototype.stop=function(){return this};var WU={positions:void 0,zoom:void 0,pan:void 0,fit:!0,padding:30,spacingFactor:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}};function dT(t){this.options=et({},WU,t)}dT.prototype.run=function(){var t=this.options,e=t.eles,r=e.nodes(),n=cr(t.positions);function i(a){if(t.positions==null)return mq(a.position());if(n)return t.positions(a);var s=t.positions[a._private.data.id];return s??null}return r.layoutPositions(this,t,function(a,s){var o=i(a);return a.locked()||o==null?!1:o}),this};var GU={fit:!0,padding:30,boundingBox:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}};function hT(t){this.options=et({},GU,t)}hT.prototype.run=function(){var t=this.options,e=t.cy,r=t.eles,n=Rn(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:e.width(),h:e.height()}),i=function(s,o){return{x:n.x1+Math.round(Math.random()*n.w),y:n.y1+Math.round(Math.random()*n.h)}};return r.nodes().layoutPositions(this,t,i),this};var YU=[{name:"breadthfirst",impl:aT},{name:"circle",impl:sT},{name:"concentric",impl:oT},{name:"cose",impl:pp},{name:"grid",impl:fT},{name:"null",impl:t4},{name:"preset",impl:dT},{name:"random",impl:hT}];function pT(t){this.options=t,this.notifications=0}var U6=function(){},W6=function(){throw new Error("A headless instance can not render images")};pT.prototype={recalculateRenderedStyle:U6,notify:function(){this.notifications++},init:U6,isHeadless:function(){return!0},png:W6,jpg:W6};var r4={};r4.arrowShapeWidth=.3;r4.registerArrowShapes=function(){var t=this.arrowShapes={},e=this,r=function(u,c,f,d,p,g,y){var b=p.x-f/2-y,x=p.x+f/2+y,w=p.y-f/2-y,_=p.y+f/2+y,k=b<=u&&u<=x&&w<=c&&c<=_;return k},n=function(u,c,f,d,p){var g=u*Math.cos(d)-c*Math.sin(d),y=u*Math.sin(d)+c*Math.cos(d),b=g*f,x=y*f,w=b+p.x,_=x+p.y;return{x:w,y:_}},i=function(u,c,f,d){for(var p=[],g=0;g<u.length;g+=2){var y=u[g],b=u[g+1];p.push(n(y,b,c,f,d))}return p},a=function(u){for(var c=[],f=0;f<u.length;f++){var d=u[f];c.push(d.x,d.y)}return c},s=function(u){return u.pstyle("width").pfValue*u.pstyle("arrow-scale").pfValue*2},o=function(u,c){Ke(c)&&(c=t[c]),t[u]=et({name:u,points:[-.15,-.3,.15,-.3,.15,.3,-.15,.3],collide:function(d,p,g,y,b,x){var w=a(i(this.points,g+2*x,y,b)),_=Mn(d,p,w);return _},roughCollide:r,draw:function(d,p,g,y){var b=i(this.points,p,g,y);e.arrowShapeImpl("polygon")(d,b)},spacing:function(d){return 0},gap:s},c)};o("none",{collide:sh,roughCollide:sh,draw:q2,spacing:lw,gap:lw}),o("triangle",{points:[-.15,-.3,0,0,.15,-.3]}),o("arrow","triangle"),o("triangle-backcurve",{points:t.triangle.points,controlPoint:[0,-.15],roughCollide:r,draw:function(u,c,f,d,p){var g=i(this.points,c,f,d),y=this.controlPoint,b=n(y[0],y[1],c,f,d);e.arrowShapeImpl(this.name)(u,g,b)},gap:function(u){return s(u)*.8}}),o("triangle-tee",{points:[0,0,.15,-.3,-.15,-.3,0,0],pointsTee:[-.15,-.4,-.15,-.5,.15,-.5,.15,-.4],collide:function(u,c,f,d,p,g,y){var b=a(i(this.points,f+2*y,d,p)),x=a(i(this.pointsTee,f+2*y,d,p)),w=Mn(u,c,b)||Mn(u,c,x);return w},draw:function(u,c,f,d,p){var g=i(this.points,c,f,d),y=i(this.pointsTee,c,f,d);e.arrowShapeImpl(this.name)(u,g,y)}}),o("circle-triangle",{radius:.15,pointsTr:[0,-.15,.15,-.45,-.15,-.45,0,-.15],collide:function(u,c,f,d,p,g,y){var b=p,x=Math.pow(b.x-u,2)+Math.pow(b.y-c,2)<=Math.pow((f+2*y)*this.radius,2),w=a(i(this.points,f+2*y,d,p));return Mn(u,c,w)||x},draw:function(u,c,f,d,p){var g=i(this.pointsTr,c,f,d);e.arrowShapeImpl(this.name)(u,g,d.x,d.y,this.radius*c)},spacing:function(u){return e.getArrowWidth(u.pstyle("width").pfValue,u.pstyle("arrow-scale").value)*this.radius}}),o("triangle-cross",{points:[0,0,.15,-.3,-.15,-.3,0,0],baseCrossLinePts:[-.15,-.4,-.15,-.4,.15,-.4,.15,-.4],crossLinePts:function(u,c){var f=this.baseCrossLinePts.slice(),d=c/u,p=3,g=5;return f[p]=f[p]-d,f[g]=f[g]-d,f},collide:function(u,c,f,d,p,g,y){var b=a(i(this.points,f+2*y,d,p)),x=a(i(this.crossLinePts(f,g),f+2*y,d,p)),w=Mn(u,c,b)||Mn(u,c,x);return w},draw:function(u,c,f,d,p){var g=i(this.points,c,f,d),y=i(this.crossLinePts(c,p),c,f,d);e.arrowShapeImpl(this.name)(u,g,y)}}),o("vee",{points:[-.15,-.3,0,0,.15,-.3,0,-.15],gap:function(u){return s(u)*.525}}),o("circle",{radius:.15,collide:function(u,c,f,d,p,g,y){var b=p,x=Math.pow(b.x-u,2)+Math.pow(b.y-c,2)<=Math.pow((f+2*y)*this.radius,2);return x},draw:function(u,c,f,d,p){e.arrowShapeImpl(this.name)(u,d.x,d.y,this.radius*c)},spacing:function(u){return e.getArrowWidth(u.pstyle("width").pfValue,u.pstyle("arrow-scale").value)*this.radius}}),o("tee",{points:[-.15,0,-.15,-.1,.15,-.1,.15,0],spacing:function(u){return 1},gap:function(u){return 1}}),o("square",{points:[-.15,0,.15,0,.15,-.3,-.15,-.3]}),o("diamond",{points:[-.15,-.15,0,-.3,.15,-.15,0,0],gap:function(u){return u.pstyle("width").pfValue*u.pstyle("arrow-scale").value}}),o("chevron",{points:[0,0,-.15,-.15,-.1,-.2,0,-.1,.1,-.2,.15,-.15],gap:function(u){return .95*u.pstyle("width").pfValue*u.pstyle("arrow-scale").value}})};var _o={};_o.projectIntoViewport=function(t,e){var r=this.cy,n=this.findContainerClientCoords(),i=n[0],a=n[1],s=n[4],o=r.pan(),l=r.zoom(),u=((t-i)/s-o.x)/l,c=((e-a)/s-o.y)/l;return[u,c]};_o.findContainerClientCoords=function(){if(this.containerBB)return this.containerBB;var t=this.container,e=t.getBoundingClientRect(),r=this.cy.window().getComputedStyle(t),n=function(x){return parseFloat(r.getPropertyValue(x))},i={left:n("padding-left"),right:n("padding-right"),top:n("padding-top"),bottom:n("padding-bottom")},a={left:n("border-left-width"),right:n("border-right-width"),top:n("border-top-width"),bottom:n("border-bottom-width")},s=t.clientWidth,o=t.clientHeight,l=i.left+i.right,u=i.top+i.bottom,c=a.left+a.right,f=e.width/(s+c),d=s-l,p=o-u,g=e.left+i.left+a.left,y=e.top+i.top+a.top;return this.containerBB=[g,y,d,p,f]};_o.invalidateContainerClientCoordsCache=function(){this.containerBB=null};_o.findNearestElement=function(t,e,r,n){return this.findNearestElements(t,e,r,n)[0]};_o.findNearestElements=function(t,e,r,n){var i=this,a=this,s=a.getCachedZSortedEles(),o=[],l=a.cy.zoom(),u=a.cy.hasCompoundNodes(),c=(n?24:8)/l,f=(n?8:2)/l,d=(n?8:2)/l,p=1/0,g,y;r&&(s=s.interactive);function b(M,A){if(M.isNode()){if(y)return;y=M,o.push(M)}if(M.isEdge()&&(A==null||A<p))if(g){if(g.pstyle("z-compound-depth").value===M.pstyle("z-compound-depth").value&&g.pstyle("z-compound-depth").value===M.pstyle("z-compound-depth").value){for(var L=0;L<o.length;L++)if(o[L].isEdge()){o[L]=M,g=M,p=A??p;break}}}else o.push(M),g=M,p=A??p}function x(M){var A=M.outerWidth()+2*f,L=M.outerHeight()+2*f,R=A/2,N=L/2,F=M.position(),$=M.pstyle("corner-radius").value==="auto"?"auto":M.pstyle("corner-radius").pfValue,V=M._private.rscratch;if(F.x-R<=t&&t<=F.x+R&&F.y-N<=e&&e<=F.y+N){var X=a.nodeShapes[i.getNodeShape(M)];if(X.checkPoint(t,e,0,A,L,F.x,F.y,$,V))return b(M,0),!0}}function w(M){var A=M._private,L=A.rscratch,R=M.pstyle("width").pfValue,N=M.pstyle("arrow-scale").value,F=R/2+c,$=F*F,V=F*2,H=A.source,ee=A.target,X;if(L.edgeType==="segments"||L.edgeType==="straight"||L.edgeType==="haystack"){for(var K=L.allpts,W=0;W+3<K.length;W+=2)if(Pq(t,e,K[W],K[W+1],K[W+2],K[W+3],V)&&$>(X=Rq(t,e,K[W],K[W+1],K[W+2],K[W+3])))return b(M,X),!0}else if(L.edgeType==="bezier"||L.edgeType==="multibezier"||L.edgeType==="self"||L.edgeType==="compound"){for(var K=L.allpts,W=0;W+5<L.allpts.length;W+=4)if(Dq(t,e,K[W],K[W+1],K[W+2],K[W+3],K[W+4],K[W+5],V)&&$>(X=Lq(t,e,K[W],K[W+1],K[W+2],K[W+3],K[W+4],K[W+5])))return b(M,X),!0}for(var H=H||A.source,ee=ee||A.target,re=i.getArrowWidth(R,N),G=[{name:"source",x:L.arrowStartX,y:L.arrowStartY,angle:L.srcArrowAngle},{name:"target",x:L.arrowEndX,y:L.arrowEndY,angle:L.tgtArrowAngle},{name:"mid-source",x:L.midX,y:L.midY,angle:L.midsrcArrowAngle},{name:"mid-target",x:L.midX,y:L.midY,angle:L.midtgtArrowAngle}],W=0;W<G.length;W++){var Z=G[W],ue=a.arrowShapes[M.pstyle(Z.name+"-arrow-shape").value],pe=M.pstyle("width").pfValue;if(ue.roughCollide(t,e,re,Z.angle,{x:Z.x,y:Z.y},pe,c)&&ue.collide(t,e,re,Z.angle,{x:Z.x,y:Z.y},pe,c))return b(M),!0}u&&o.length>0&&(x(H),x(ee))}function _(M,A,L){return ii(M,A,L)}function k(M,A){var L=M._private,R=d,N;A?N=A+"-":N="",M.boundingBox();var F=L.labelBounds[A||"main"],$=M.pstyle(N+"label").value,V=M.pstyle("text-events").strValue==="yes";if(!(!V||!$)){var X=_(L.rscratch,"labelX",A),K=_(L.rscratch,"labelY",A),W=_(L.rscratch,"labelAngle",A),H=M.pstyle(N+"text-margin-x").pfValue,ee=M.pstyle(N+"text-margin-y").pfValue,re=F.x1-R-H,G=F.x2+R-H,Z=F.y1-R-ee,ue=F.y2+R-ee;if(W){var pe=Math.cos(W),ge=Math.sin(W),fe=function(Re,Ve){return Re=Re-X,Ve=Ve-K,{x:Re*pe-Ve*ge+X,y:Re*ge+Ve*pe+K}},Se=fe(re,Z),Te=fe(re,ue),ve=fe(G,Z),se=fe(G,ue),ye=[Se.x+H,Se.y+ee,ve.x+H,ve.y+ee,se.x+H,se.y+ee,Te.x+H,Te.y+ee];if(Mn(t,e,ye))return b(M),!0}else if($l(F,t,e))return b(M),!0}}for(var T=s.length-1;T>=0;T--){var P=s[T];P.isNode()?x(P)||k(P):w(P)||k(P)||k(P,"source")||k(P,"target")}return o};_o.getAllInBox=function(t,e,r,n){var i=this.getCachedZSortedEles().interactive,a=[],s=Math.min(t,r),o=Math.max(t,r),l=Math.min(e,n),u=Math.max(e,n);t=s,r=o,e=l,n=u;for(var c=Rn({x1:t,y1:e,x2:r,y2:n}),f=0;f<i.length;f++){var d=i[f];if(d.isNode()){var p=d,g=p.boundingBox({includeNodes:!0,includeEdges:!1,includeLabels:!1});U2(c,g)&&!_k(g,c)&&a.push(p)}else{var y=d,b=y._private,x=b.rscratch;if(x.startX!=null&&x.startY!=null&&!$l(c,x.startX,x.startY)||x.endX!=null&&x.endY!=null&&!$l(c,x.endX,x.endY))continue;if(x.edgeType==="bezier"||x.edgeType==="multibezier"||x.edgeType==="self"||x.edgeType==="compound"||x.edgeType==="segments"||x.edgeType==="haystack"){for(var w=b.rstyle.bezierPts||b.rstyle.linePts||b.rstyle.haystackPts,_=!0,k=0;k<w.length;k++)if(!Mq(c,w[k])){_=!1;break}_&&a.push(y)}else(x.edgeType==="haystack"||x.edgeType==="straight")&&a.push(y)}}return a};var hh={};hh.calculateArrowAngles=function(t){var e=t._private.rscratch,r=e.edgeType==="haystack",n=e.edgeType==="bezier",i=e.edgeType==="multibezier",a=e.edgeType==="segments",s=e.edgeType==="compound",o=e.edgeType==="self",l,u,c,f,d,p,x,w;if(r?(c=e.haystackPts[0],f=e.haystackPts[1],d=e.haystackPts[2],p=e.haystackPts[3]):(c=e.arrowStartX,f=e.arrowStartY,d=e.arrowEndX,p=e.arrowEndY),x=e.midX,w=e.midY,a)l=c-e.segpts[0],u=f-e.segpts[1];else if(i||s||o||n){var g=e.allpts,y=Br(g[0],g[2],g[4],.1),b=Br(g[1],g[3],g[5],.1);l=c-y,u=f-b}else l=c-x,u=f-w;e.srcArrowAngle=wf(l,u);var x=e.midX,w=e.midY;if(r&&(x=(c+d)/2,w=(f+p)/2),l=d-c,u=p-f,a){var g=e.allpts;if(g.length/2%2===0){var _=g.length/2,k=_-2;l=g[_]-g[k],u=g[_+1]-g[k+1]}else if(e.isRound)l=e.midVector[1],u=-e.midVector[0];else{var _=g.length/2-1,k=_-2;l=g[_]-g[k],u=g[_+1]-g[k+1]}}else if(i||s||o){var g=e.allpts,T=e.ctrlpts,P,M,A,L;if(T.length/2%2===0){var R=g.length/2-1,N=R+2,F=N+2;P=Br(g[R],g[N],g[F],0),M=Br(g[R+1],g[N+1],g[F+1],0),A=Br(g[R],g[N],g[F],1e-4),L=Br(g[R+1],g[N+1],g[F+1],1e-4)}else{var N=g.length/2-1,R=N-2,F=N+2;P=Br(g[R],g[N],g[F],.4999),M=Br(g[R+1],g[N+1],g[F+1],.4999),A=Br(g[R],g[N],g[F],.5),L=Br(g[R+1],g[N+1],g[F+1],.5)}l=A-P,u=L-M}if(e.midtgtArrowAngle=wf(l,u),e.midDispX=l,e.midDispY=u,l*=-1,u*=-1,a){var g=e.allpts;if(g.length/2%2!==0){if(!e.isRound){var _=g.length/2-1,$=_+2;l=-(g[$]-g[_]),u=-(g[$+1]-g[_+1])}}}if(e.midsrcArrowAngle=wf(l,u),a)l=d-e.segpts[e.segpts.length-2],u=p-e.segpts[e.segpts.length-1];else if(i||s||o||n){var g=e.allpts,V=g.length,y=Br(g[V-6],g[V-4],g[V-2],.9),b=Br(g[V-5],g[V-3],g[V-1],.9);l=d-y,u=p-b}else l=d-x,u=p-w;e.tgtArrowAngle=wf(l,u)};hh.getArrowWidth=hh.getArrowHeight=function(t,e){var r=this.arrowWidthCache=this.arrowWidthCache||{},n=r[t+", "+e];return n||(n=Math.max(Math.pow(t*13.37,.9),29)*e,r[t+", "+e]=n,n)};var Z1,Q1,Ii={},ti={},G6,Y6,Hs,ud,Zi,Os,qs,Di,Fo,Pf,gT,mT,J1,ey,X6,K6=function(e,r,n){n.x=r.x-e.x,n.y=r.y-e.y,n.len=Math.sqrt(n.x*n.x+n.y*n.y),n.nx=n.x/n.len,n.ny=n.y/n.len,n.ang=Math.atan2(n.ny,n.nx)},XU=function(e,r){r.x=e.x*-1,r.y=e.y*-1,r.nx=e.nx*-1,r.ny=e.ny*-1,r.ang=e.ang>0?-(Math.PI-e.ang):Math.PI+e.ang},KU=function(e,r,n,i,a){if(e!==X6?K6(r,e,Ii):XU(ti,Ii),K6(r,n,ti),G6=Ii.nx*ti.ny-Ii.ny*ti.nx,Y6=Ii.nx*ti.nx-Ii.ny*-ti.ny,Zi=Math.asin(Math.max(-1,Math.min(1,G6))),Math.abs(Zi)<1e-6){Z1=r.x,Q1=r.y,qs=Fo=0;return}Hs=1,ud=!1,Y6<0?Zi<0?Zi=Math.PI+Zi:(Zi=Math.PI-Zi,Hs=-1,ud=!0):Zi>0&&(Hs=-1,ud=!0),r.radius!==void 0?Fo=r.radius:Fo=i,Os=Zi/2,Pf=Math.min(Ii.len/2,ti.len/2),a?(Di=Math.abs(Math.cos(Os)*Fo/Math.sin(Os)),Di>Pf?(Di=Pf,qs=Math.abs(Di*Math.sin(Os)/Math.cos(Os))):qs=Fo):(Di=Math.min(Pf,Fo),qs=Math.abs(Di*Math.sin(Os)/Math.cos(Os))),J1=r.x+ti.nx*Di,ey=r.y+ti.ny*Di,Z1=J1-ti.ny*qs*Hs,Q1=ey+ti.nx*qs*Hs,gT=r.x+Ii.nx*Di,mT=r.y+Ii.ny*Di,X6=r};function vT(t,e){e.radius===0?t.lineTo(e.cx,e.cy):t.arc(e.cx,e.cy,e.radius,e.startAngle,e.endAngle,e.counterClockwise)}function n4(t,e,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0;return n===0||e.radius===0?{cx:e.x,cy:e.y,radius:0,startX:e.x,startY:e.y,stopX:e.x,stopY:e.y,startAngle:void 0,endAngle:void 0,counterClockwise:void 0}:(KU(t,e,r,n,i),{cx:Z1,cy:Q1,radius:qs,startX:gT,startY:mT,stopX:J1,stopY:ey,startAngle:Ii.ang+Math.PI/2*Hs,endAngle:ti.ang-Math.PI/2*Hs,counterClockwise:ud})}var Wc=.01,ZU=Math.sqrt(2*Wc),fn={};fn.findMidptPtsEtc=function(t,e){var r=e.posPts,n=e.intersectionPts,i=e.vectorNormInverse,a,s=t.pstyle("source-endpoint"),o=t.pstyle("target-endpoint"),l=s.units!=null&&o.units!=null,u=function(T,P,M,A){var L=A-P,R=M-T,N=Math.sqrt(R*R+L*L);return{x:-L/N,y:R/N}},c=t.pstyle("edge-distances").value;switch(c){case"node-position":a=r;break;case"intersection":a=n;break;case"endpoints":{if(l){var f=this.manualEndptToPx(t.source()[0],s),d=jr(f,2),p=d[0],g=d[1],y=this.manualEndptToPx(t.target()[0],o),b=jr(y,2),x=b[0],w=b[1],_={x1:p,y1:g,x2:x,y2:w};i=u(p,g,x,w),a=_}else It("Edge ".concat(t.id()," has edge-distances:endpoints specified without manual endpoints specified via source-endpoint and target-endpoint.  Falling back on edge-distances:intersection (default).")),a=n;break}}return{midptPts:a,vectorNormInverse:i}};fn.findHaystackPoints=function(t){for(var e=0;e<t.length;e++){var r=t[e],n=r._private,i=n.rscratch;if(!i.haystack){var a=Math.random()*2*Math.PI;i.source={x:Math.cos(a),y:Math.sin(a)},a=Math.random()*2*Math.PI,i.target={x:Math.cos(a),y:Math.sin(a)}}var s=n.source,o=n.target,l=s.position(),u=o.position(),c=s.width(),f=o.width(),d=s.height(),p=o.height(),g=r.pstyle("haystack-radius").value,y=g/2;i.haystackPts=i.allpts=[i.source.x*c*y+l.x,i.source.y*d*y+l.y,i.target.x*f*y+u.x,i.target.y*p*y+u.y],i.midX=(i.allpts[0]+i.allpts[2])/2,i.midY=(i.allpts[1]+i.allpts[3])/2,i.edgeType="haystack",i.haystack=!0,this.storeEdgeProjections(r),this.calculateArrowAngles(r),this.recalculateEdgeLabelProjections(r),this.calculateLabelAngles(r)}};fn.findSegmentsPoints=function(t,e){var r=t._private.rscratch,n=t.pstyle("segment-weights"),i=t.pstyle("segment-distances"),a=t.pstyle("segment-radii"),s=t.pstyle("radius-type"),o=Math.min(n.pfValue.length,i.pfValue.length),l=a.pfValue[a.pfValue.length-1],u=s.pfValue[s.pfValue.length-1];r.edgeType="segments",r.segpts=[],r.radii=[],r.isArcRadius=[];for(var c=0;c<o;c++){var f=n.pfValue[c],d=i.pfValue[c],p=1-f,g=f,y=this.findMidptPtsEtc(t,e),b=y.midptPts,x=y.vectorNormInverse,w={x:b.x1*p+b.x2*g,y:b.y1*p+b.y2*g};r.segpts.push(w.x+x.x*d,w.y+x.y*d),r.radii.push(a.pfValue[c]!==void 0?a.pfValue[c]:l),r.isArcRadius.push((s.pfValue[c]!==void 0?s.pfValue[c]:u)==="arc-radius")}};fn.findLoopPoints=function(t,e,r,n){var i=t._private.rscratch,a=e.dirCounts,s=e.srcPos,o=t.pstyle("control-point-distances"),l=o?o.pfValue[0]:void 0,u=t.pstyle("loop-direction").pfValue,c=t.pstyle("loop-sweep").pfValue,f=t.pstyle("control-point-step-size").pfValue;i.edgeType="self";var d=r,p=f;n&&(d=0,p=l);var g=u-Math.PI/2,y=g-c/2,b=g+c/2,x=u+"_"+c;d=a[x]===void 0?a[x]=0:++a[x],i.ctrlpts=[s.x+Math.cos(y)*1.4*p*(d/3+1),s.y+Math.sin(y)*1.4*p*(d/3+1),s.x+Math.cos(b)*1.4*p*(d/3+1),s.y+Math.sin(b)*1.4*p*(d/3+1)]};fn.findCompoundLoopPoints=function(t,e,r,n){var i=t._private.rscratch;i.edgeType="compound";var a=e.srcPos,s=e.tgtPos,o=e.srcW,l=e.srcH,u=e.tgtW,c=e.tgtH,f=t.pstyle("control-point-step-size").pfValue,d=t.pstyle("control-point-distances"),p=d?d.pfValue[0]:void 0,g=r,y=f;n&&(g=0,y=p);var b=50,x={x:a.x-o/2,y:a.y-l/2},w={x:s.x-u/2,y:s.y-c/2},_={x:Math.min(x.x,w.x),y:Math.min(x.y,w.y)},k=.5,T=Math.max(k,Math.log(o*Wc)),P=Math.max(k,Math.log(u*Wc));i.ctrlpts=[_.x,_.y-(1+Math.pow(b,1.12)/100)*y*(g/3+1)*T,_.x-(1+Math.pow(b,1.12)/100)*y*(g/3+1)*P,_.y]};fn.findStraightEdgePoints=function(t){t._private.rscratch.edgeType="straight"};fn.findBezierPoints=function(t,e,r,n,i){var a=t._private.rscratch,s=t.pstyle("control-point-step-size").pfValue,o=t.pstyle("control-point-distances"),l=t.pstyle("control-point-weights"),u=o&&l?Math.min(o.value.length,l.value.length):1,c=o?o.pfValue[0]:void 0,f=l.value[0],d=n;a.edgeType=d?"multibezier":"bezier",a.ctrlpts=[];for(var p=0;p<u;p++){var g=(.5-e.eles.length/2+r)*s*(i?-1:1),y=void 0,b=bk(g);d&&(c=o?o.pfValue[p]:s,f=l.value[p]),n?y=c:y=c!==void 0?b*c:void 0;var x=y!==void 0?y:g,w=1-f,_=f,k=this.findMidptPtsEtc(t,e),T=k.midptPts,P=k.vectorNormInverse,M={x:T.x1*w+T.x2*_,y:T.y1*w+T.y2*_};a.ctrlpts.push(M.x+P.x*x,M.y+P.y*x)}};fn.findTaxiPoints=function(t,e){var r=t._private.rscratch;r.edgeType="segments";var n="vertical",i="horizontal",a="leftward",s="rightward",o="downward",l="upward",u="auto",c=e.posPts,f=e.srcW,d=e.srcH,p=e.tgtW,g=e.tgtH,y=t.pstyle("edge-distances").value,b=y!=="node-position",x=t.pstyle("taxi-direction").value,w=x,_=t.pstyle("taxi-turn"),k=_.units==="%",T=_.pfValue,P=T<0,M=t.pstyle("taxi-turn-min-distance").pfValue,A=b?(f+p)/2:0,L=b?(d+g)/2:0,R=c.x2-c.x1,N=c.y2-c.y1,F=function(ke,Pe){return ke>0?Math.max(ke-Pe,0):Math.min(ke+Pe,0)},$=F(R,A),V=F(N,L),X=!1;w===u?x=Math.abs($)>Math.abs(V)?i:n:w===l||w===o?(x=n,X=!0):(w===a||w===s)&&(x=i,X=!0);var K=x===n,W=K?V:$,H=K?N:R,ee=bk(H),re=!1;!(X&&(k||P))&&(w===o&&H<0||w===l&&H>0||w===a&&H>0||w===s&&H<0)&&(ee*=-1,W=ee*Math.abs(W),re=!0);var G;if(k){var Z=T<0?1+T:T;G=Z*W}else{var ue=T<0?W:0;G=ue+T*ee}var pe=function(ke){return Math.abs(ke)<M||Math.abs(ke)>=Math.abs(W)},ge=pe(G),fe=pe(Math.abs(W)-Math.abs(G)),Se=ge||fe;if(Se&&!re)if(K){var Te=Math.abs(H)<=d/2,ve=Math.abs(R)<=p/2;if(Te){var se=(c.x1+c.x2)/2,ye=c.y1,we=c.y2;r.segpts=[se,ye,se,we]}else if(ve){var Re=(c.y1+c.y2)/2,Ve=c.x1,st=c.x2;r.segpts=[Ve,Re,st,Re]}else r.segpts=[c.x1,c.y2]}else{var Lt=Math.abs(H)<=f/2,Et=Math.abs(N)<=g/2;if(Lt){var Be=(c.y1+c.y2)/2,ze=c.x1,Ye=c.x2;r.segpts=[ze,Be,Ye,Be]}else if(Et){var rt=(c.x1+c.x2)/2,Ze=c.y1,tt=c.y2;r.segpts=[rt,Ze,rt,tt]}else r.segpts=[c.x2,c.y1]}else if(K){var at=c.y1+G+(b?d/2*ee:0),ut=c.x1,Me=c.x2;r.segpts=[ut,at,Me,at]}else{var U=c.x1+G+(b?f/2*ee:0),le=c.y1,xe=c.y2;r.segpts=[U,le,U,xe]}if(r.isRound){var oe=t.pstyle("taxi-radius").value,he=t.pstyle("radius-type").value[0]==="arc-radius";r.radii=new Array(r.segpts.length/2).fill(oe),r.isArcRadius=new Array(r.segpts.length/2).fill(he)}};fn.tryToCorrectInvalidPoints=function(t,e){var r=t._private.rscratch;if(r.edgeType==="bezier"){var n=e.srcPos,i=e.tgtPos,a=e.srcW,s=e.srcH,o=e.tgtW,l=e.tgtH,u=e.srcShape,c=e.tgtShape,f=e.srcCornerRadius,d=e.tgtCornerRadius,p=e.srcRs,g=e.tgtRs,y=!Ne(r.startX)||!Ne(r.startY),b=!Ne(r.arrowStartX)||!Ne(r.arrowStartY),x=!Ne(r.endX)||!Ne(r.endY),w=!Ne(r.arrowEndX)||!Ne(r.arrowEndY),_=3,k=this.getArrowWidth(t.pstyle("width").pfValue,t.pstyle("arrow-scale").value)*this.arrowShapeWidth,T=_*k,P=co({x:r.ctrlpts[0],y:r.ctrlpts[1]},{x:r.startX,y:r.startY}),M=P<T,A=co({x:r.ctrlpts[0],y:r.ctrlpts[1]},{x:r.endX,y:r.endY}),L=A<T,R=!1;if(y||b||M){R=!0;var N={x:r.ctrlpts[0]-n.x,y:r.ctrlpts[1]-n.y},F=Math.sqrt(N.x*N.x+N.y*N.y),$={x:N.x/F,y:N.y/F},V=Math.max(a,s),X={x:r.ctrlpts[0]+$.x*2*V,y:r.ctrlpts[1]+$.y*2*V},K=u.intersectLine(n.x,n.y,a,s,X.x,X.y,0,f,p);M?(r.ctrlpts[0]=r.ctrlpts[0]+$.x*(T-P),r.ctrlpts[1]=r.ctrlpts[1]+$.y*(T-P)):(r.ctrlpts[0]=K[0]+$.x*T,r.ctrlpts[1]=K[1]+$.y*T)}if(x||w||L){R=!0;var W={x:r.ctrlpts[0]-i.x,y:r.ctrlpts[1]-i.y},H=Math.sqrt(W.x*W.x+W.y*W.y),ee={x:W.x/H,y:W.y/H},re=Math.max(a,s),G={x:r.ctrlpts[0]+ee.x*2*re,y:r.ctrlpts[1]+ee.y*2*re},Z=c.intersectLine(i.x,i.y,o,l,G.x,G.y,0,d,g);L?(r.ctrlpts[0]=r.ctrlpts[0]+ee.x*(T-A),r.ctrlpts[1]=r.ctrlpts[1]+ee.y*(T-A)):(r.ctrlpts[0]=Z[0]+ee.x*T,r.ctrlpts[1]=Z[1]+ee.y*T)}R&&this.findEndpoints(t)}};fn.storeAllpts=function(t){var e=t._private.rscratch;if(e.edgeType==="multibezier"||e.edgeType==="bezier"||e.edgeType==="self"||e.edgeType==="compound"){e.allpts=[],e.allpts.push(e.startX,e.startY);for(var r=0;r+1<e.ctrlpts.length;r+=2)e.allpts.push(e.ctrlpts[r],e.ctrlpts[r+1]),r+3<e.ctrlpts.length&&e.allpts.push((e.ctrlpts[r]+e.ctrlpts[r+2])/2,(e.ctrlpts[r+1]+e.ctrlpts[r+3])/2);e.allpts.push(e.endX,e.endY);var n,i;e.ctrlpts.length/2%2===0?(n=e.allpts.length/2-1,e.midX=e.allpts[n],e.midY=e.allpts[n+1]):(n=e.allpts.length/2-3,i=.5,e.midX=Br(e.allpts[n],e.allpts[n+2],e.allpts[n+4],i),e.midY=Br(e.allpts[n+1],e.allpts[n+3],e.allpts[n+5],i))}else if(e.edgeType==="straight")e.allpts=[e.startX,e.startY,e.endX,e.endY],e.midX=(e.startX+e.endX+e.arrowStartX+e.arrowEndX)/4,e.midY=(e.startY+e.endY+e.arrowStartY+e.arrowEndY)/4;else if(e.edgeType==="segments"){if(e.allpts=[],e.allpts.push(e.startX,e.startY),e.allpts.push.apply(e.allpts,e.segpts),e.allpts.push(e.endX,e.endY),e.isRound){e.roundCorners=[];for(var a=2;a+3<e.allpts.length;a+=2){var s=e.radii[a/2-1],o=e.isArcRadius[a/2-1];e.roundCorners.push(n4({x:e.allpts[a-2],y:e.allpts[a-1]},{x:e.allpts[a],y:e.allpts[a+1],radius:s},{x:e.allpts[a+2],y:e.allpts[a+3]},s,o))}}if(e.segpts.length%4===0){var l=e.segpts.length/2,u=l-2;e.midX=(e.segpts[u]+e.segpts[l])/2,e.midY=(e.segpts[u+1]+e.segpts[l+1])/2}else{var c=e.segpts.length/2-1;if(!e.isRound)e.midX=e.segpts[c],e.midY=e.segpts[c+1];else{var f={x:e.segpts[c],y:e.segpts[c+1]},d=e.roundCorners[c/2];if(d.radius===0){var p={x:e.segpts[c+2],y:e.segpts[c+3]};e.midX=f.x,e.midY=f.y,e.midVector=[f.y-p.y,p.x-f.x]}else{var g=[f.x-d.cx,f.y-d.cy],y=d.radius/Math.sqrt(Math.pow(g[0],2)+Math.pow(g[1],2));g=g.map(function(b){return b*y}),e.midX=d.cx+g[0],e.midY=d.cy+g[1],e.midVector=g}}}}};fn.checkForInvalidEdgeWarning=function(t){var e=t[0]._private.rscratch;e.nodesOverlap||Ne(e.startX)&&Ne(e.startY)&&Ne(e.endX)&&Ne(e.endY)?e.loggedErr=!1:e.loggedErr||(e.loggedErr=!0,It("Edge `"+t.id()+"` has invalid endpoints and so it is impossible to draw.  Adjust your edge style (e.g. control points) accordingly or use an alternative edge type.  This is expected behaviour when the source node and the target node overlap."))};fn.findEdgeControlPoints=function(t){var e=this;if(!(!t||t.length===0)){for(var r=this,n=r.cy,i=n.hasCompoundNodes(),a=new ca,s=function(L,R){return[].concat(ek(L),[R?1:0]).join("-")},o=[],l=[],u=0;u<t.length;u++){var c=t[u],f=c._private,d=c.pstyle("curve-style").value;if(!(c.removed()||!c.takesUpSpace())){if(d==="haystack"){l.push(c);continue}var p=d==="unbundled-bezier"||d.endsWith("segments")||d==="straight"||d==="straight-triangle"||d.endsWith("taxi"),g=d==="unbundled-bezier"||d==="bezier",y=f.source,b=f.target,x=y.poolIndex(),w=b.poolIndex(),_=[x,w].sort(),k=s(_,p),T=a.get(k);T==null&&(T={eles:[]},o.push({pairId:_,edgeIsUnbundled:p}),a.set(k,T)),T.eles.push(c),p&&(T.hasUnbundled=!0),g&&(T.hasBezier=!0)}}for(var P=function(){var L=o[M],R=L.pairId,N=L.edgeIsUnbundled,F=s(R,N),$=a.get(F),V;if(!$.hasUnbundled){var X=$.eles[0].parallelEdges().filter(function(he){return he.isBundledBezier()});H2($.eles),X.forEach(function(he){return $.eles.push(he)}),$.eles.sort(function(he,Oe){return he.poolIndex()-Oe.poolIndex()})}var K=$.eles[0],W=K.source(),H=K.target();if(W.poolIndex()>H.poolIndex()){var ee=W;W=H,H=ee}var re=$.srcPos=W.position(),G=$.tgtPos=H.position(),Z=$.srcW=W.outerWidth(),ue=$.srcH=W.outerHeight(),pe=$.tgtW=H.outerWidth(),ge=$.tgtH=H.outerHeight(),fe=$.srcShape=r.nodeShapes[e.getNodeShape(W)],Se=$.tgtShape=r.nodeShapes[e.getNodeShape(H)],Te=$.srcCornerRadius=W.pstyle("corner-radius").value==="auto"?"auto":W.pstyle("corner-radius").pfValue,ve=$.tgtCornerRadius=H.pstyle("corner-radius").value==="auto"?"auto":H.pstyle("corner-radius").pfValue,se=$.tgtRs=H._private.rscratch,ye=$.srcRs=W._private.rscratch;$.dirCounts={north:0,west:0,south:0,east:0,northwest:0,southwest:0,northeast:0,southeast:0};for(var we=0;we<$.eles.length;we++){var Re=$.eles[we],Ve=Re[0]._private.rscratch,st=Re.pstyle("curve-style").value,Lt=st==="unbundled-bezier"||st.endsWith("segments")||st.endsWith("taxi"),Et=!W.same(Re.source());if(!$.calculatedIntersection&&W!==H&&($.hasBezier||$.hasUnbundled)){$.calculatedIntersection=!0;var Be=fe.intersectLine(re.x,re.y,Z,ue,G.x,G.y,0,Te,ye),ze=$.srcIntn=Be,Ye=Se.intersectLine(G.x,G.y,pe,ge,re.x,re.y,0,ve,se),rt=$.tgtIntn=Ye,Ze=$.intersectionPts={x1:Be[0],x2:Ye[0],y1:Be[1],y2:Ye[1]},tt=$.posPts={x1:re.x,x2:G.x,y1:re.y,y2:G.y},at=Math.abs(Ye[1]-Be[1]),ut=Math.abs(Ye[0]-Be[0]),Me=Math.sqrt(ut*ut+at*at);Ne(Me)&&Me>=ZU||(Me=Math.sqrt(Math.max(ut*ut,Wc)+Math.max(at*at,Wc)));var U=$.vector={x:ut,y:at},le=$.vectorNorm={x:U.x/Me,y:U.y/Me},xe={x:-le.y,y:le.x};$.nodesOverlap=!Ne(Me)||Se.checkPoint(Be[0],Be[1],0,pe,ge,G.x,G.y,ve,se)||fe.checkPoint(Ye[0],Ye[1],0,Z,ue,re.x,re.y,Te,ye),$.vectorNormInverse=xe,V={nodesOverlap:$.nodesOverlap,dirCounts:$.dirCounts,calculatedIntersection:!0,hasBezier:$.hasBezier,hasUnbundled:$.hasUnbundled,eles:$.eles,srcPos:G,srcRs:se,tgtPos:re,tgtRs:ye,srcW:pe,srcH:ge,tgtW:Z,tgtH:ue,srcIntn:rt,tgtIntn:ze,srcShape:Se,tgtShape:fe,posPts:{x1:tt.x2,y1:tt.y2,x2:tt.x1,y2:tt.y1},intersectionPts:{x1:Ze.x2,y1:Ze.y2,x2:Ze.x1,y2:Ze.y1},vector:{x:-U.x,y:-U.y},vectorNorm:{x:-le.x,y:-le.y},vectorNormInverse:{x:-xe.x,y:-xe.y}}}var oe=Et?V:$;Ve.nodesOverlap=oe.nodesOverlap,Ve.srcIntn=oe.srcIntn,Ve.tgtIntn=oe.tgtIntn,Ve.isRound=st.startsWith("round"),i&&(W.isParent()||W.isChild()||H.isParent()||H.isChild())&&(W.parents().anySame(H)||H.parents().anySame(W)||W.same(H)&&W.isParent())?e.findCompoundLoopPoints(Re,oe,we,Lt):W===H?e.findLoopPoints(Re,oe,we,Lt):st.endsWith("segments")?e.findSegmentsPoints(Re,oe):st.endsWith("taxi")?e.findTaxiPoints(Re,oe):st==="straight"||!Lt&&$.eles.length%2===1&&we===Math.floor($.eles.length/2)?e.findStraightEdgePoints(Re):e.findBezierPoints(Re,oe,we,Lt,Et),e.findEndpoints(Re),e.tryToCorrectInvalidPoints(Re,oe),e.checkForInvalidEdgeWarning(Re),e.storeAllpts(Re),e.storeEdgeProjections(Re),e.calculateArrowAngles(Re),e.recalculateEdgeLabelProjections(Re),e.calculateLabelAngles(Re)}},M=0;M<o.length;M++)P();this.findHaystackPoints(l)}};function yT(t){var e=[];if(t!=null){for(var r=0;r<t.length;r+=2){var n=t[r],i=t[r+1];e.push({x:n,y:i})}return e}}fn.getSegmentPoints=function(t){var e=t[0]._private.rscratch;this.recalculateRenderedStyle(t);var r=e.edgeType;if(r==="segments")return yT(e.segpts)};fn.getControlPoints=function(t){var e=t[0]._private.rscratch;this.recalculateRenderedStyle(t);var r=e.edgeType;if(r==="bezier"||r==="multibezier"||r==="self"||r==="compound")return yT(e.ctrlpts)};fn.getEdgeMidpoint=function(t){var e=t[0]._private.rscratch;return this.recalculateRenderedStyle(t),{x:e.midX,y:e.midY}};var v0={};v0.manualEndptToPx=function(t,e){var r=this,n=t.position(),i=t.outerWidth(),a=t.outerHeight(),s=t._private.rscratch;if(e.value.length===2){var o=[e.pfValue[0],e.pfValue[1]];return e.units[0]==="%"&&(o[0]=o[0]*i),e.units[1]==="%"&&(o[1]=o[1]*a),o[0]+=n.x,o[1]+=n.y,o}else{var l=e.pfValue[0];l=-Math.PI/2+l;var u=2*Math.max(i,a),c=[n.x+Math.cos(l)*u,n.y+Math.sin(l)*u];return r.nodeShapes[this.getNodeShape(t)].intersectLine(n.x,n.y,i,a,c[0],c[1],0,t.pstyle("corner-radius").value==="auto"?"auto":t.pstyle("corner-radius").pfValue,s)}};v0.findEndpoints=function(t){var e=this,r,n=t.source()[0],i=t.target()[0],a=n.position(),s=i.position(),o=t.pstyle("target-arrow-shape").value,l=t.pstyle("source-arrow-shape").value,u=t.pstyle("target-distance-from-node").pfValue,c=t.pstyle("source-distance-from-node").pfValue,f=n._private.rscratch,d=i._private.rscratch,p=t.pstyle("curve-style").value,g=t._private.rscratch,y=g.edgeType,b=p==="taxi",x=y==="self"||y==="compound",w=y==="bezier"||y==="multibezier"||x,_=y!=="bezier",k=y==="straight"||y==="segments",T=y==="segments",P=w||_||k,M=x||b,A=t.pstyle("source-endpoint"),L=M?"outside-to-node":A.value,R=n.pstyle("corner-radius").value==="auto"?"auto":n.pstyle("corner-radius").pfValue,N=t.pstyle("target-endpoint"),F=M?"outside-to-node":N.value,$=i.pstyle("corner-radius").value==="auto"?"auto":i.pstyle("corner-radius").pfValue;g.srcManEndpt=A,g.tgtManEndpt=N;var V,X,K,W;if(w){var H=[g.ctrlpts[0],g.ctrlpts[1]],ee=_?[g.ctrlpts[g.ctrlpts.length-2],g.ctrlpts[g.ctrlpts.length-1]]:H;V=ee,X=H}else if(k){var re=T?g.segpts.slice(0,2):[s.x,s.y],G=T?g.segpts.slice(g.segpts.length-2):[a.x,a.y];V=G,X=re}if(F==="inside-to-node")r=[s.x,s.y];else if(N.units)r=this.manualEndptToPx(i,N);else if(F==="outside-to-line")r=g.tgtIntn;else if(F==="outside-to-node"||F==="outside-to-node-or-label"?K=V:(F==="outside-to-line"||F==="outside-to-line-or-label")&&(K=[a.x,a.y]),r=e.nodeShapes[this.getNodeShape(i)].intersectLine(s.x,s.y,i.outerWidth(),i.outerHeight(),K[0],K[1],0,$,d),F==="outside-to-node-or-label"||F==="outside-to-line-or-label"){var Z=i._private.rscratch,ue=Z.labelWidth,pe=Z.labelHeight,ge=Z.labelX,fe=Z.labelY,Se=ue/2,Te=pe/2,ve=i.pstyle("text-valign").value;ve==="top"?fe-=Te:ve==="bottom"&&(fe+=Te);var se=i.pstyle("text-halign").value;se==="left"?ge-=Se:se==="right"&&(ge+=Se);var ye=jc(K[0],K[1],[ge-Se,fe-Te,ge+Se,fe-Te,ge+Se,fe+Te,ge-Se,fe+Te],s.x,s.y);if(ye.length>0){var we=a,Re=$s(we,sl(r)),Ve=$s(we,sl(ye)),st=Re;if(Ve<Re&&(r=ye,st=Ve),ye.length>2){var Lt=$s(we,{x:ye[2],y:ye[3]});Lt<st&&(r=[ye[2],ye[3]])}}}var Et=_f(r,V,e.arrowShapes[o].spacing(t)+u),Be=_f(r,V,e.arrowShapes[o].gap(t)+u);if(g.endX=Be[0],g.endY=Be[1],g.arrowEndX=Et[0],g.arrowEndY=Et[1],L==="inside-to-node")r=[a.x,a.y];else if(A.units)r=this.manualEndptToPx(n,A);else if(L==="outside-to-line")r=g.srcIntn;else if(L==="outside-to-node"||L==="outside-to-node-or-label"?W=X:(L==="outside-to-line"||L==="outside-to-line-or-label")&&(W=[s.x,s.y]),r=e.nodeShapes[this.getNodeShape(n)].intersectLine(a.x,a.y,n.outerWidth(),n.outerHeight(),W[0],W[1],0,R,f),L==="outside-to-node-or-label"||L==="outside-to-line-or-label"){var ze=n._private.rscratch,Ye=ze.labelWidth,rt=ze.labelHeight,Ze=ze.labelX,tt=ze.labelY,at=Ye/2,ut=rt/2,Me=n.pstyle("text-valign").value;Me==="top"?tt-=ut:Me==="bottom"&&(tt+=ut);var U=n.pstyle("text-halign").value;U==="left"?Ze-=at:U==="right"&&(Ze+=at);var le=jc(W[0],W[1],[Ze-at,tt-ut,Ze+at,tt-ut,Ze+at,tt+ut,Ze-at,tt+ut],a.x,a.y);if(le.length>0){var xe=s,oe=$s(xe,sl(r)),he=$s(xe,sl(le)),Oe=oe;if(he<oe&&(r=[le[0],le[1]],Oe=he),le.length>2){var ke=$s(xe,{x:le[2],y:le[3]});ke<Oe&&(r=[le[2],le[3]])}}}var Pe=_f(r,X,e.arrowShapes[l].spacing(t)+c),be=_f(r,X,e.arrowShapes[l].gap(t)+c);g.startX=be[0],g.startY=be[1],g.arrowStartX=Pe[0],g.arrowStartY=Pe[1],P&&(!Ne(g.startX)||!Ne(g.startY)||!Ne(g.endX)||!Ne(g.endY)?g.badLine=!0:g.badLine=!1)};v0.getSourceEndpoint=function(t){var e=t[0]._private.rscratch;switch(this.recalculateRenderedStyle(t),e.edgeType){case"haystack":return{x:e.haystackPts[0],y:e.haystackPts[1]};default:return{x:e.arrowStartX,y:e.arrowStartY}}};v0.getTargetEndpoint=function(t){var e=t[0]._private.rscratch;switch(this.recalculateRenderedStyle(t),e.edgeType){case"haystack":return{x:e.haystackPts[2],y:e.haystackPts[3]};default:return{x:e.arrowEndX,y:e.arrowEndY}}};var i4={};function QU(t,e,r){for(var n=function(u,c,f,d){return Br(u,c,f,d)},i=e._private,a=i.rstyle.bezierPts,s=0;s<t.bezierProjPcts.length;s++){var o=t.bezierProjPcts[s];a.push({x:n(r[0],r[2],r[4],o),y:n(r[1],r[3],r[5],o)})}}i4.storeEdgeProjections=function(t){var e=t._private,r=e.rscratch,n=r.edgeType;if(e.rstyle.bezierPts=null,e.rstyle.linePts=null,e.rstyle.haystackPts=null,n==="multibezier"||n==="bezier"||n==="self"||n==="compound"){e.rstyle.bezierPts=[];for(var i=0;i+5<r.allpts.length;i+=4)QU(this,t,r.allpts.slice(i,i+6))}else if(n==="segments")for(var a=e.rstyle.linePts=[],i=0;i+1<r.allpts.length;i+=2)a.push({x:r.allpts[i],y:r.allpts[i+1]});else if(n==="haystack"){var s=r.haystackPts;e.rstyle.haystackPts=[{x:s[0],y:s[1]},{x:s[2],y:s[3]}]}e.rstyle.arrowWidth=this.getArrowWidth(t.pstyle("width").pfValue,t.pstyle("arrow-scale").value)*this.arrowShapeWidth};i4.recalculateEdgeProjections=function(t){this.findEdgeControlPoints(t)};var Ui={};Ui.recalculateNodeLabelProjection=function(t){var e=t.pstyle("label").strValue;if(!fs(e)){var r,n,i=t._private,a=t.width(),s=t.height(),o=t.padding(),l=t.position(),u=t.pstyle("text-halign").strValue,c=t.pstyle("text-valign").strValue,f=i.rscratch,d=i.rstyle;switch(u){case"left":r=l.x-a/2-o;break;case"right":r=l.x+a/2+o;break;default:r=l.x}switch(c){case"top":n=l.y-s/2-o;break;case"bottom":n=l.y+s/2+o;break;default:n=l.y}f.labelX=r,f.labelY=n,d.labelX=r,d.labelY=n,this.calculateLabelAngles(t),this.applyLabelDimensions(t)}};var xT=function(e,r){var n=Math.atan(r/e);return e===0&&n<0&&(n=n*-1),n},bT=function(e,r){var n=r.x-e.x,i=r.y-e.y;return xT(n,i)},JU=function(e,r,n,i){var a=$c(0,i-.001,1),s=$c(0,i+.001,1),o=xl(e,r,n,a),l=xl(e,r,n,s);return bT(o,l)};Ui.recalculateEdgeLabelProjections=function(t){var e,r=t._private,n=r.rscratch,i=this,a={mid:t.pstyle("label").strValue,source:t.pstyle("source-label").strValue,target:t.pstyle("target-label").strValue};if(a.mid||a.source||a.target){e={x:n.midX,y:n.midY};var s=function(f,d,p){na(r.rscratch,f,d,p),na(r.rstyle,f,d,p)};s("labelX",null,e.x),s("labelY",null,e.y);var o=xT(n.midDispX,n.midDispY);s("labelAutoAngle",null,o);var l=function(){if(l.cache)return l.cache;for(var f=[],d=0;d+5<n.allpts.length;d+=4){var p={x:n.allpts[d],y:n.allpts[d+1]},g={x:n.allpts[d+2],y:n.allpts[d+3]},y={x:n.allpts[d+4],y:n.allpts[d+5]};f.push({p0:p,p1:g,p2:y,startDist:0,length:0,segments:[]})}var b=r.rstyle.bezierPts,x=i.bezierProjPcts.length;function w(M,A,L,R,N){var F=co(A,L),$=M.segments[M.segments.length-1],V={p0:A,p1:L,t0:R,t1:N,startDist:$?$.startDist+$.length:0,length:F};M.segments.push(V),M.length+=F}for(var _=0;_<f.length;_++){var k=f[_],T=f[_-1];T&&(k.startDist=T.startDist+T.length),w(k,k.p0,b[_*x],0,i.bezierProjPcts[0]);for(var P=0;P<x-1;P++)w(k,b[_*x+P],b[_*x+P+1],i.bezierProjPcts[P],i.bezierProjPcts[P+1]);w(k,b[_*x+x-1],k.p2,i.bezierProjPcts[x-1],1)}return l.cache=f},u=function(f){var d,p=f==="source";if(a[f]){var g=t.pstyle(f+"-text-offset").pfValue;switch(n.edgeType){case"self":case"compound":case"bezier":case"multibezier":{for(var y=l(),b,x=0,w=0,_=0;_<y.length;_++){for(var k=y[p?_:y.length-1-_],T=0;T<k.segments.length;T++){var P=k.segments[p?T:k.segments.length-1-T],M=_===y.length-1&&T===k.segments.length-1;if(x=w,w+=P.length,w>=g||M){b={cp:k,segment:P};break}}if(b)break}var A=b.cp,L=b.segment,R=(g-x)/L.length,N=L.t1-L.t0,F=p?L.t0+N*R:L.t1-N*R;F=$c(0,F,1),e=xl(A.p0,A.p1,A.p2,F),d=JU(A.p0,A.p1,A.p2,F);break}case"straight":case"segments":case"haystack":{for(var $=0,V,X,K,W,H=n.allpts.length,ee=0;ee+3<H&&(p?(K={x:n.allpts[ee],y:n.allpts[ee+1]},W={x:n.allpts[ee+2],y:n.allpts[ee+3]}):(K={x:n.allpts[H-2-ee],y:n.allpts[H-1-ee]},W={x:n.allpts[H-4-ee],y:n.allpts[H-3-ee]}),V=co(K,W),X=$,$+=V,!($>=g));ee+=2);var re=g-X,G=re/V;G=$c(0,G,1),e=Sq(K,W,G),d=bT(K,W);break}}s("labelX",f,e.x),s("labelY",f,e.y),s("labelAutoAngle",f,d)}};u("source"),u("target"),this.applyLabelDimensions(t)}};Ui.applyLabelDimensions=function(t){this.applyPrefixedLabelDimensions(t),t.isEdge()&&(this.applyPrefixedLabelDimensions(t,"source"),this.applyPrefixedLabelDimensions(t,"target"))};Ui.applyPrefixedLabelDimensions=function(t,e){var r=t._private,n=this.getLabelText(t,e),i=ds(n,t._private.labelDimsKey);if(ii(r.rscratch,"prefixedLabelDimsKey",e)!==i){na(r.rscratch,"prefixedLabelDimsKey",e,i);var a=this.calculateLabelDimensions(t,n),s=t.pstyle("line-height").pfValue,o=t.pstyle("text-wrap").strValue,l=ii(r.rscratch,"labelWrapCachedLines",e)||[],u=o!=="wrap"?1:Math.max(l.length,1),c=a.height/u,f=c*s,d=a.width,p=a.height+(u-1)*(s-1)*c;na(r.rstyle,"labelWidth",e,d),na(r.rscratch,"labelWidth",e,d),na(r.rstyle,"labelHeight",e,p),na(r.rscratch,"labelHeight",e,p),na(r.rscratch,"labelLineHeight",e,f)}};Ui.getLabelText=function(t,e){var r=t._private,n=e?e+"-":"",i=t.pstyle(n+"label").strValue,a=t.pstyle("text-transform").value,s=function(ue,pe){return pe?(na(r.rscratch,ue,e,pe),pe):ii(r.rscratch,ue,e)};if(!i)return"";a=="none"||(a=="uppercase"?i=i.toUpperCase():a=="lowercase"&&(i=i.toLowerCase()));var o=t.pstyle("text-wrap").value;if(o==="wrap"){var l=s("labelKey");if(l!=null&&s("labelWrapKey")===l)return s("labelWrapCachedText");for(var u="",c=i.split(`
`),f=t.pstyle("text-max-width").pfValue,d=t.pstyle("text-overflow-wrap").value,p=d==="anywhere",g=[],y=/[\s\u200b]+|$/g,b=0;b<c.length;b++){var x=c[b],w=this.calculateLabelDimensions(t,x),_=w.width;if(p){var k=x.split("").join(u);x=k}if(_>f){var T=x.matchAll(y),P="",M=0,A=yi(T),L;try{for(A.s();!(L=A.n()).done;){var R=L.value,N=R[0],F=x.substring(M,R.index);M=R.index+N.length;var $=P.length===0?F:P+F+N,V=this.calculateLabelDimensions(t,$),X=V.width;X<=f?P+=F+N:(P&&g.push(P),P=F+N)}}catch(Z){A.e(Z)}finally{A.f()}P.match(/^[\s\u200b]+$/)||g.push(P)}else g.push(x)}s("labelWrapCachedLines",g),i=s("labelWrapCachedText",g.join(`
`)),s("labelWrapKey",l)}else if(o==="ellipsis"){var K=t.pstyle("text-max-width").pfValue,W="",H="",ee=!1;if(this.calculateLabelDimensions(t,i).width<K)return i;for(var re=0;re<i.length;re++){var G=this.calculateLabelDimensions(t,W+i[re]+H).width;if(G>K)break;W+=i[re],re===i.length-1&&(ee=!0)}return ee||(W+=H),W}return i};Ui.getLabelJustification=function(t){var e=t.pstyle("text-justification").strValue,r=t.pstyle("text-halign").strValue;if(e==="auto")if(t.isNode())switch(r){case"left":return"right";case"right":return"left";default:return"center"}else return"center";else return e};Ui.calculateLabelDimensions=function(t,e){var r=this,n=r.cy.window(),i=n.document,a=0,s=t.pstyle("font-style").strValue,o=t.pstyle("font-size").pfValue,l=t.pstyle("font-family").strValue,u=t.pstyle("font-weight").strValue,c=this.labelCalcCanvas,f=this.labelCalcCanvasContext;if(!c){c=this.labelCalcCanvas=i.createElement("canvas"),f=this.labelCalcCanvasContext=c.getContext("2d");var d=c.style;d.position="absolute",d.left="-9999px",d.top="-9999px",d.zIndex="-1",d.visibility="hidden",d.pointerEvents="none"}f.font="".concat(s," ").concat(u," ").concat(o,"px ").concat(l);for(var p=0,g=0,y=e.split(`
`),b=0;b<y.length;b++){var x=y[b],w=f.measureText(x),_=Math.ceil(w.width),k=o;p=Math.max(_,p),g+=k}return p+=a,g+=a,{width:p,height:g}};Ui.calculateLabelAngle=function(t,e){var r=t._private,n=r.rscratch,i=t.isEdge(),a=e?e+"-":"",s=t.pstyle(a+"text-rotation"),o=s.strValue;return o==="none"?0:i&&o==="autorotate"?n.labelAutoAngle:o==="autorotate"?0:s.pfValue};Ui.calculateLabelAngles=function(t){var e=this,r=t.isEdge(),n=t._private,i=n.rscratch;i.labelAngle=e.calculateLabelAngle(t),r&&(i.sourceLabelAngle=e.calculateLabelAngle(t,"source"),i.targetLabelAngle=e.calculateLabelAngle(t,"target"))};var wT={},Z6=28,Q6=!1;wT.getNodeShape=function(t){var e=this,r=t.pstyle("shape").value;if(r==="cutrectangle"&&(t.width()<Z6||t.height()<Z6))return Q6||(It("The `cutrectangle` node shape can not be used at small sizes so `rectangle` is used instead"),Q6=!0),"rectangle";if(t.isParent())return r==="rectangle"||r==="roundrectangle"||r==="round-rectangle"||r==="cutrectangle"||r==="cut-rectangle"||r==="barrel"?r:"rectangle";if(r==="polygon"){var n=t.pstyle("shape-polygon-points").value;return e.nodeShapes.makePolygon(n).name}return r};var gp={};gp.registerCalculationListeners=function(){var t=this.cy,e=t.collection(),r=this,n=function(s){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e.merge(s),o)for(var l=0;l<s.length;l++){var u=s[l],c=u._private,f=c.rstyle;f.clean=!1,f.cleanConnected=!1}};r.binder(t).on("bounds.* dirty.*",function(s){var o=s.target;n(o)}).on("style.* background.*",function(s){var o=s.target;n(o,!1)});var i=function(s){if(s){var o=r.onUpdateEleCalcsFns;e.cleanStyle();for(var l=0;l<e.length;l++){var u=e[l],c=u._private.rstyle;u.isNode()&&!c.cleanConnected&&(n(u.connectedEdges()),c.cleanConnected=!0)}if(o)for(var f=0;f<o.length;f++){var d=o[f];d(s,e)}r.recalculateRenderedStyle(e),e=t.collection()}};r.flushRenderedStyleQueue=function(){i(!0)},r.beforeRender(i,r.beforeRenderPriorities.eleCalcs)};gp.onUpdateEleCalcs=function(t){var e=this.onUpdateEleCalcsFns=this.onUpdateEleCalcsFns||[];e.push(t)};gp.recalculateRenderedStyle=function(t,e){var r=function(k){return k._private.rstyle.cleanConnected};if(t.length!==0){var n=[],i=[];if(!this.destroyed){e===void 0&&(e=!0);for(var a=0;a<t.length;a++){var s=t[a],o=s._private,l=o.rstyle;s.isEdge()&&(!r(s.source())||!r(s.target()))&&(l.clean=!1),s.isEdge()&&s.isBundledBezier()&&s.parallelEdges().some(function(_){return!_._private.rstyle.clean&&_.isBundledBezier()})&&(l.clean=!1),!(e&&l.clean||s.removed())&&s.pstyle("display").value!=="none"&&(o.group==="nodes"?i.push(s):n.push(s),l.clean=!0)}for(var u=0;u<i.length;u++){var c=i[u],f=c._private,d=f.rstyle,p=c.position();this.recalculateNodeLabelProjection(c),d.nodeX=p.x,d.nodeY=p.y,d.nodeW=c.pstyle("width").pfValue,d.nodeH=c.pstyle("height").pfValue}this.recalculateEdgeProjections(n);for(var g=0;g<n.length;g++){var y=n[g],b=y._private,x=b.rstyle,w=b.rscratch;x.srcX=w.arrowStartX,x.srcY=w.arrowStartY,x.tgtX=w.arrowEndX,x.tgtY=w.arrowEndY,x.midX=w.midX,x.midY=w.midY,x.labelAngle=w.labelAngle,x.sourceLabelAngle=w.sourceLabelAngle,x.targetLabelAngle=w.targetLabelAngle}}}};var mp={};mp.updateCachedGrabbedEles=function(){var t=this.cachedZSortedEles;if(t){t.drag=[],t.nondrag=[];for(var e=[],r=0;r<t.length;r++){var n=t[r],i=n._private.rscratch;n.grabbed()&&!n.isParent()?e.push(n):i.inDragLayer?t.drag.push(n):t.nondrag.push(n)}for(var r=0;r<e.length;r++){var n=e[r];t.drag.push(n)}}};mp.invalidateCachedZSortedEles=function(){this.cachedZSortedEles=null};mp.getCachedZSortedEles=function(t){if(t||!this.cachedZSortedEles){var e=this.cy.mutableElements().toArray();e.sort(rT),e.interactive=e.filter(function(r){return r.interactive()}),this.cachedZSortedEles=e,this.updateCachedGrabbedEles()}else e=this.cachedZSortedEles;return e};var _T={};[_o,hh,fn,v0,i4,Ui,wT,gp,mp].forEach(function(t){et(_T,t)});var ST={};ST.getCachedImage=function(t,e,r){var n=this,i=n.imageCache=n.imageCache||{},a=i[t];if(a)return a.image.complete||a.image.addEventListener("load",r),a.image;a=i[t]=i[t]||{};var s=a.image=new Image;s.addEventListener("load",r),s.addEventListener("error",function(){s.error=!0});var o="data:",l=t.substring(0,o.length).toLowerCase()===o;return l||(e=e==="null"?null:e,s.crossOrigin=e),s.src=t,s};var eu={};eu.registerBinding=function(t,e,r,n){var i=Array.prototype.slice.apply(arguments,[1]);if(Array.isArray(t)){for(var a=[],s=0;s<t.length;s++){var o=t[s];if(o!==void 0){var l=this.binder(o);a.push(l.on.apply(l,i))}}return a}var l=this.binder(t);return l.on.apply(l,i)};eu.binder=function(t){var e=this,r=e.cy.window(),n=t===r||t===r.document||t===r.document.body||mj(t);if(e.supportsPassiveEvents==null){var i=!1;try{var a=Object.defineProperty({},"passive",{get:function(){return i=!0,!0}});r.addEventListener("test",null,a)}catch{}e.supportsPassiveEvents=i}var s=function(l,u,c){var f=Array.prototype.slice.call(arguments);return n&&e.supportsPassiveEvents&&(f[2]={capture:c??!1,passive:!1,once:!1}),e.bindings.push({target:t,args:f}),(t.addEventListener||t.on).apply(t,f),this};return{on:s,addEventListener:s,addListener:s,bind:s}};eu.nodeIsDraggable=function(t){return t&&t.isNode()&&!t.locked()&&t.grabbable()};eu.nodeIsGrabbable=function(t){return this.nodeIsDraggable(t)&&t.interactive()};eu.load=function(){var t=this,e=t.cy.window(),r=function(U){return U.selected()},n=function(U){var le=U.getRootNode();if(le&&le.nodeType===11&&le.host!==void 0)return le},i=function(U,le,xe,oe){U==null&&(U=t.cy);for(var he=0;he<le.length;he++){var Oe=le[he];U.emit({originalEvent:xe,type:Oe,position:oe})}},a=function(U){return U.shiftKey||U.metaKey||U.ctrlKey},s=function(U,le){var xe=!0;if(t.cy.hasCompoundNodes()&&U&&U.pannable())for(var oe=0;le&&oe<le.length;oe++){var U=le[oe];if(U.isNode()&&U.isParent()&&!U.pannable()){xe=!1;break}}else xe=!0;return xe},o=function(U){U[0]._private.grabbed=!0},l=function(U){U[0]._private.grabbed=!1},u=function(U){U[0]._private.rscratch.inDragLayer=!0},c=function(U){U[0]._private.rscratch.inDragLayer=!1},f=function(U){U[0]._private.rscratch.isGrabTarget=!0},d=function(U){U[0]._private.rscratch.isGrabTarget=!1},p=function(U,le){var xe=le.addToList,oe=xe.has(U);!oe&&U.grabbable()&&!U.locked()&&(xe.merge(U),o(U))},g=function(U,le){if(U.cy().hasCompoundNodes()&&!(le.inDragLayer==null&&le.addToList==null)){var xe=U.descendants();le.inDragLayer&&(xe.forEach(u),xe.connectedEdges().forEach(u)),le.addToList&&p(xe,le)}},y=function(U,le){le=le||{};var xe=U.cy().hasCompoundNodes();le.inDragLayer&&(U.forEach(u),U.neighborhood().stdFilter(function(oe){return!xe||oe.isEdge()}).forEach(u)),le.addToList&&U.forEach(function(oe){p(oe,le)}),g(U,le),w(U,{inDragLayer:le.inDragLayer}),t.updateCachedGrabbedEles()},b=y,x=function(U){U&&(t.getCachedZSortedEles().forEach(function(le){l(le),c(le),d(le)}),t.updateCachedGrabbedEles())},w=function(U,le){if(!(le.inDragLayer==null&&le.addToList==null)&&U.cy().hasCompoundNodes()){var xe=U.ancestors().orphans();if(!xe.same(U)){var oe=xe.descendants().spawnSelf().merge(xe).unmerge(U).unmerge(U.descendants()),he=oe.connectedEdges();le.inDragLayer&&(he.forEach(u),oe.forEach(u)),le.addToList&&oe.forEach(function(Oe){p(Oe,le)})}}},_=function(){document.activeElement!=null&&document.activeElement.blur!=null&&document.activeElement.blur()},k=typeof MutationObserver<"u",T=typeof ResizeObserver<"u";k?(t.removeObserver=new MutationObserver(function(Me){for(var U=0;U<Me.length;U++){var le=Me[U],xe=le.removedNodes;if(xe)for(var oe=0;oe<xe.length;oe++){var he=xe[oe];if(he===t.container){t.destroy();break}}}}),t.container.parentNode&&t.removeObserver.observe(t.container.parentNode,{childList:!0})):t.registerBinding(t.container,"DOMNodeRemoved",function(Me){t.destroy()});var P=h0(function(){t.cy.resize()},100);k&&(t.styleObserver=new MutationObserver(P),t.styleObserver.observe(t.container,{attributes:!0})),t.registerBinding(e,"resize",P),T&&(t.resizeObserver=new ResizeObserver(P),t.resizeObserver.observe(t.container));var M=function(U,le){for(;U!=null;)le(U),U=U.parentNode},A=function(){t.invalidateContainerClientCoordsCache()};M(t.container,function(Me){t.registerBinding(Me,"transitionend",A),t.registerBinding(Me,"animationend",A),t.registerBinding(Me,"scroll",A)}),t.registerBinding(t.container,"contextmenu",function(Me){Me.preventDefault()});var L=function(){return t.selection[4]!==0},R=function(U){for(var le=t.findContainerClientCoords(),xe=le[0],oe=le[1],he=le[2],Oe=le[3],ke=U.touches?U.touches:[U],Pe=!1,be=0;be<ke.length;be++){var Je=ke[be];if(xe<=Je.clientX&&Je.clientX<=xe+he&&oe<=Je.clientY&&Je.clientY<=oe+Oe){Pe=!0;break}}if(!Pe)return!1;for(var Ue=t.container,nt=U.target,it=nt.parentNode,Xe=!1;it;){if(it===Ue){Xe=!0;break}it=it.parentNode}return!!Xe};t.registerBinding(t.container,"mousedown",function(U){if(R(U)&&!(t.hoverData.which===1&&U.which!==1)){U.preventDefault(),_(),t.hoverData.capture=!0,t.hoverData.which=U.which;var le=t.cy,xe=[U.clientX,U.clientY],oe=t.projectIntoViewport(xe[0],xe[1]),he=t.selection,Oe=t.findNearestElements(oe[0],oe[1],!0,!1),ke=Oe[0],Pe=t.dragData.possibleDragElements;t.hoverData.mdownPos=oe,t.hoverData.mdownGPos=xe;var be=function(){t.hoverData.tapholdCancelled=!1,clearTimeout(t.hoverData.tapholdTimeout),t.hoverData.tapholdTimeout=setTimeout(function(){if(!t.hoverData.tapholdCancelled){var Pt=t.hoverData.down;Pt?Pt.emit({originalEvent:U,type:"taphold",position:{x:oe[0],y:oe[1]}}):le.emit({originalEvent:U,type:"taphold",position:{x:oe[0],y:oe[1]}})}},t.tapholdDuration)};if(U.which==3){t.hoverData.cxtStarted=!0;var Je={originalEvent:U,type:"cxttapstart",position:{x:oe[0],y:oe[1]}};ke?(ke.activate(),ke.emit(Je),t.hoverData.down=ke):le.emit(Je),t.hoverData.downTime=new Date().getTime(),t.hoverData.cxtDragged=!1}else if(U.which==1){ke&&ke.activate();{if(ke!=null&&t.nodeIsGrabbable(ke)){var Ue=function(Pt){return{originalEvent:U,type:Pt,position:{x:oe[0],y:oe[1]}}},nt=function(Pt){Pt.emit(Ue("grab"))};if(f(ke),!ke.selected())Pe=t.dragData.possibleDragElements=le.collection(),b(ke,{addToList:Pe}),ke.emit(Ue("grabon")).emit(Ue("grab"));else{Pe=t.dragData.possibleDragElements=le.collection();var it=le.$(function(Xe){return Xe.isNode()&&Xe.selected()&&t.nodeIsGrabbable(Xe)});y(it,{addToList:Pe}),ke.emit(Ue("grabon")),it.forEach(nt)}t.redrawHint("eles",!0),t.redrawHint("drag",!0)}t.hoverData.down=ke,t.hoverData.downs=Oe,t.hoverData.downTime=new Date().getTime()}i(ke,["mousedown","tapstart","vmousedown"],U,{x:oe[0],y:oe[1]}),ke==null?(he[4]=1,t.data.bgActivePosistion={x:oe[0],y:oe[1]},t.redrawHint("select",!0),t.redraw()):ke.pannable()&&(he[4]=1),be()}he[0]=he[2]=oe[0],he[1]=he[3]=oe[1]}},!1);var N=n(t.container);t.registerBinding([e,N],"mousemove",function(U){var le=t.hoverData.capture;if(!(!le&&!R(U))){var xe=!1,oe=t.cy,he=oe.zoom(),Oe=[U.clientX,U.clientY],ke=t.projectIntoViewport(Oe[0],Oe[1]),Pe=t.hoverData.mdownPos,be=t.hoverData.mdownGPos,Je=t.selection,Ue=null;!t.hoverData.draggingEles&&!t.hoverData.dragging&&!t.hoverData.selecting&&(Ue=t.findNearestElement(ke[0],ke[1],!0,!1));var nt=t.hoverData.last,it=t.hoverData.down,Xe=[ke[0]-Je[2],ke[1]-Je[3]],Pt=t.dragData.possibleDragElements,Kt;if(be){var dn=Oe[0]-be[0],Vt=dn*dn,Rt=Oe[1]-be[1],$t=Rt*Rt,dr=Vt+$t;t.hoverData.isOverThresholdDrag=Kt=dr>=t.desktopTapThreshold2}var zr=a(U);Kt&&(t.hoverData.tapholdCancelled=!0);var Gr=function(){var gt=t.hoverData.dragDelta=t.hoverData.dragDelta||[];gt.length===0?(gt.push(Xe[0]),gt.push(Xe[1])):(gt[0]+=Xe[0],gt[1]+=Xe[1])};xe=!0,i(Ue,["mousemove","vmousemove","tapdrag"],U,{x:ke[0],y:ke[1]});var Yn=function(){t.data.bgActivePosistion=void 0,t.hoverData.selecting||oe.emit({originalEvent:U,type:"boxstart",position:{x:ke[0],y:ke[1]}}),Je[4]=1,t.hoverData.selecting=!0,t.redrawHint("select",!0),t.redraw()};if(t.hoverData.which===3){if(Kt){var kn={originalEvent:U,type:"cxtdrag",position:{x:ke[0],y:ke[1]}};it?it.emit(kn):oe.emit(kn),t.hoverData.cxtDragged=!0,(!t.hoverData.cxtOver||Ue!==t.hoverData.cxtOver)&&(t.hoverData.cxtOver&&t.hoverData.cxtOver.emit({originalEvent:U,type:"cxtdragout",position:{x:ke[0],y:ke[1]}}),t.hoverData.cxtOver=Ue,Ue&&Ue.emit({originalEvent:U,type:"cxtdragover",position:{x:ke[0],y:ke[1]}}))}}else if(t.hoverData.dragging){if(xe=!0,oe.panningEnabled()&&oe.userPanningEnabled()){var hn;if(t.hoverData.justStartedPan){var yt=t.hoverData.mdownPos;hn={x:(ke[0]-yt[0])*he,y:(ke[1]-yt[1])*he},t.hoverData.justStartedPan=!1}else hn={x:Xe[0]*he,y:Xe[1]*he};oe.panBy(hn),oe.emit("dragpan"),t.hoverData.dragged=!0}ke=t.projectIntoViewport(U.clientX,U.clientY)}else if(Je[4]==1&&(it==null||it.pannable())){if(Kt){if(!t.hoverData.dragging&&oe.boxSelectionEnabled()&&(zr||!oe.panningEnabled()||!oe.userPanningEnabled()))Yn();else if(!t.hoverData.selecting&&oe.panningEnabled()&&oe.userPanningEnabled()){var C=s(it,t.hoverData.downs);C&&(t.hoverData.dragging=!0,t.hoverData.justStartedPan=!0,Je[4]=0,t.data.bgActivePosistion=sl(Pe),t.redrawHint("select",!0),t.redraw())}it&&it.pannable()&&it.active()&&it.unactivate()}}else{if(it&&it.pannable()&&it.active()&&it.unactivate(),(!it||!it.grabbed())&&Ue!=nt&&(nt&&i(nt,["mouseout","tapdragout"],U,{x:ke[0],y:ke[1]}),Ue&&i(Ue,["mouseover","tapdragover"],U,{x:ke[0],y:ke[1]}),t.hoverData.last=Ue),it)if(Kt){if(oe.boxSelectionEnabled()&&zr)it&&it.grabbed()&&(x(Pt),it.emit("freeon"),Pt.emit("free"),t.dragData.didDrag&&(it.emit("dragfreeon"),Pt.emit("dragfree"))),Yn();else if(it&&it.grabbed()&&t.nodeIsDraggable(it)){var D=!t.dragData.didDrag;D&&t.redrawHint("eles",!0),t.dragData.didDrag=!0,t.hoverData.draggingEles||y(Pt,{inDragLayer:!0});var _e={x:0,y:0};if(Ne(Xe[0])&&Ne(Xe[1])&&(_e.x+=Xe[0],_e.y+=Xe[1],D)){var B=t.hoverData.dragDelta;B&&Ne(B[0])&&Ne(B[1])&&(_e.x+=B[0],_e.y+=B[1])}t.hoverData.draggingEles=!0,Pt.silentShift(_e).emit("position drag"),t.redrawHint("drag",!0),t.redraw()}}else Gr();xe=!0}if(Je[2]=ke[0],Je[3]=ke[1],xe)return U.stopPropagation&&U.stopPropagation(),U.preventDefault&&U.preventDefault(),!1}},!1);var F,$,V;t.registerBinding(e,"mouseup",function(U){if(!(t.hoverData.which===1&&U.which!==1&&t.hoverData.capture)){var le=t.hoverData.capture;if(le){t.hoverData.capture=!1;var xe=t.cy,oe=t.projectIntoViewport(U.clientX,U.clientY),he=t.selection,Oe=t.findNearestElement(oe[0],oe[1],!0,!1),ke=t.dragData.possibleDragElements,Pe=t.hoverData.down,be=a(U);if(t.data.bgActivePosistion&&(t.redrawHint("select",!0),t.redraw()),t.hoverData.tapholdCancelled=!0,t.data.bgActivePosistion=void 0,Pe&&Pe.unactivate(),t.hoverData.which===3){var Je={originalEvent:U,type:"cxttapend",position:{x:oe[0],y:oe[1]}};if(Pe?Pe.emit(Je):xe.emit(Je),!t.hoverData.cxtDragged){var Ue={originalEvent:U,type:"cxttap",position:{x:oe[0],y:oe[1]}};Pe?Pe.emit(Ue):xe.emit(Ue)}t.hoverData.cxtDragged=!1,t.hoverData.which=null}else if(t.hoverData.which===1){if(i(Oe,["mouseup","tapend","vmouseup"],U,{x:oe[0],y:oe[1]}),!t.dragData.didDrag&&!t.hoverData.dragged&&!t.hoverData.selecting&&!t.hoverData.isOverThresholdDrag&&(i(Pe,["click","tap","vclick"],U,{x:oe[0],y:oe[1]}),$=!1,U.timeStamp-V<=xe.multiClickDebounceTime()?(F&&clearTimeout(F),$=!0,V=null,i(Pe,["dblclick","dbltap","vdblclick"],U,{x:oe[0],y:oe[1]})):(F=setTimeout(function(){$||i(Pe,["oneclick","onetap","voneclick"],U,{x:oe[0],y:oe[1]})},xe.multiClickDebounceTime()),V=U.timeStamp)),Pe==null&&!t.dragData.didDrag&&!t.hoverData.selecting&&!t.hoverData.dragged&&!a(U)&&(xe.$(r).unselect(["tapunselect"]),ke.length>0&&t.redrawHint("eles",!0),t.dragData.possibleDragElements=ke=xe.collection()),Oe==Pe&&!t.dragData.didDrag&&!t.hoverData.selecting&&Oe!=null&&Oe._private.selectable&&(t.hoverData.dragging||(xe.selectionType()==="additive"||be?Oe.selected()?Oe.unselect(["tapunselect"]):Oe.select(["tapselect"]):be||(xe.$(r).unmerge(Oe).unselect(["tapunselect"]),Oe.select(["tapselect"]))),t.redrawHint("eles",!0)),t.hoverData.selecting){var nt=xe.collection(t.getAllInBox(he[0],he[1],he[2],he[3]));t.redrawHint("select",!0),nt.length>0&&t.redrawHint("eles",!0),xe.emit({type:"boxend",originalEvent:U,position:{x:oe[0],y:oe[1]}});var it=function(Kt){return Kt.selectable()&&!Kt.selected()};xe.selectionType()==="additive"||be||xe.$(r).unmerge(nt).unselect(),nt.emit("box").stdFilter(it).select().emit("boxselect"),t.redraw()}if(t.hoverData.dragging&&(t.hoverData.dragging=!1,t.redrawHint("select",!0),t.redrawHint("eles",!0),t.redraw()),!he[4]){t.redrawHint("drag",!0),t.redrawHint("eles",!0);var Xe=Pe&&Pe.grabbed();x(ke),Xe&&(Pe.emit("freeon"),ke.emit("free"),t.dragData.didDrag&&(Pe.emit("dragfreeon"),ke.emit("dragfree")))}}he[4]=0,t.hoverData.down=null,t.hoverData.cxtStarted=!1,t.hoverData.draggingEles=!1,t.hoverData.selecting=!1,t.hoverData.isOverThresholdDrag=!1,t.dragData.didDrag=!1,t.hoverData.dragged=!1,t.hoverData.dragDelta=[],t.hoverData.mdownPos=null,t.hoverData.mdownGPos=null,t.hoverData.which=null}}},!1);var X=function(U){if(!t.scrollingPage){var le=t.cy,xe=le.zoom(),oe=le.pan(),he=t.projectIntoViewport(U.clientX,U.clientY),Oe=[he[0]*xe+oe.x,he[1]*xe+oe.y];if(t.hoverData.draggingEles||t.hoverData.dragging||t.hoverData.cxtStarted||L()){U.preventDefault();return}if(le.panningEnabled()&&le.userPanningEnabled()&&le.zoomingEnabled()&&le.userZoomingEnabled()){U.preventDefault(),t.data.wheelZooming=!0,clearTimeout(t.data.wheelTimeout),t.data.wheelTimeout=setTimeout(function(){t.data.wheelZooming=!1,t.redrawHint("eles",!0),t.redraw()},150);var ke;U.deltaY!=null?ke=U.deltaY/-250:U.wheelDeltaY!=null?ke=U.wheelDeltaY/1e3:ke=U.wheelDelta/1e3,ke=ke*t.wheelSensitivity;var Pe=U.deltaMode===1;Pe&&(ke*=33);var be=le.zoom()*Math.pow(10,ke);U.type==="gesturechange"&&(be=t.gestureStartZoom*U.scale),le.zoom({level:be,renderedPosition:{x:Oe[0],y:Oe[1]}}),le.emit(U.type==="gesturechange"?"pinchzoom":"scrollzoom")}}};t.registerBinding(t.container,"wheel",X,!0),t.registerBinding(e,"scroll",function(U){t.scrollingPage=!0,clearTimeout(t.scrollingPageTimeout),t.scrollingPageTimeout=setTimeout(function(){t.scrollingPage=!1},250)},!0),t.registerBinding(t.container,"gesturestart",function(U){t.gestureStartZoom=t.cy.zoom(),t.hasTouchStarted||U.preventDefault()},!0),t.registerBinding(t.container,"gesturechange",function(Me){t.hasTouchStarted||X(Me)},!0),t.registerBinding(t.container,"mouseout",function(U){var le=t.projectIntoViewport(U.clientX,U.clientY);t.cy.emit({originalEvent:U,type:"mouseout",position:{x:le[0],y:le[1]}})},!1),t.registerBinding(t.container,"mouseover",function(U){var le=t.projectIntoViewport(U.clientX,U.clientY);t.cy.emit({originalEvent:U,type:"mouseover",position:{x:le[0],y:le[1]}})},!1);var K,W,H,ee,re,G,Z,ue,pe,ge,fe,Se,Te,ve=function(U,le,xe,oe){return Math.sqrt((xe-U)*(xe-U)+(oe-le)*(oe-le))},se=function(U,le,xe,oe){return(xe-U)*(xe-U)+(oe-le)*(oe-le)},ye;t.registerBinding(t.container,"touchstart",ye=function(U){if(t.hasTouchStarted=!0,!!R(U)){_(),t.touchData.capture=!0,t.data.bgActivePosistion=void 0;var le=t.cy,xe=t.touchData.now,oe=t.touchData.earlier;if(U.touches[0]){var he=t.projectIntoViewport(U.touches[0].clientX,U.touches[0].clientY);xe[0]=he[0],xe[1]=he[1]}if(U.touches[1]){var he=t.projectIntoViewport(U.touches[1].clientX,U.touches[1].clientY);xe[2]=he[0],xe[3]=he[1]}if(U.touches[2]){var he=t.projectIntoViewport(U.touches[2].clientX,U.touches[2].clientY);xe[4]=he[0],xe[5]=he[1]}if(U.touches[1]){t.touchData.singleTouchMoved=!0,x(t.dragData.touchDragEles);var Oe=t.findContainerClientCoords();pe=Oe[0],ge=Oe[1],fe=Oe[2],Se=Oe[3],K=U.touches[0].clientX-pe,W=U.touches[0].clientY-ge,H=U.touches[1].clientX-pe,ee=U.touches[1].clientY-ge,Te=0<=K&&K<=fe&&0<=H&&H<=fe&&0<=W&&W<=Se&&0<=ee&&ee<=Se;var ke=le.pan(),Pe=le.zoom();re=ve(K,W,H,ee),G=se(K,W,H,ee),Z=[(K+H)/2,(W+ee)/2],ue=[(Z[0]-ke.x)/Pe,(Z[1]-ke.y)/Pe];var be=200,Je=be*be;if(G<Je&&!U.touches[2]){var Ue=t.findNearestElement(xe[0],xe[1],!0,!0),nt=t.findNearestElement(xe[2],xe[3],!0,!0);Ue&&Ue.isNode()?(Ue.activate().emit({originalEvent:U,type:"cxttapstart",position:{x:xe[0],y:xe[1]}}),t.touchData.start=Ue):nt&&nt.isNode()?(nt.activate().emit({originalEvent:U,type:"cxttapstart",position:{x:xe[0],y:xe[1]}}),t.touchData.start=nt):le.emit({originalEvent:U,type:"cxttapstart",position:{x:xe[0],y:xe[1]}}),t.touchData.start&&(t.touchData.start._private.grabbed=!1),t.touchData.cxt=!0,t.touchData.cxtDragged=!1,t.data.bgActivePosistion=void 0,t.redraw();return}}if(U.touches[2])le.boxSelectionEnabled()&&U.preventDefault();else if(!U.touches[1]){if(U.touches[0]){var it=t.findNearestElements(xe[0],xe[1],!0,!0),Xe=it[0];if(Xe!=null&&(Xe.activate(),t.touchData.start=Xe,t.touchData.starts=it,t.nodeIsGrabbable(Xe))){var Pt=t.dragData.touchDragEles=le.collection(),Kt=null;t.redrawHint("eles",!0),t.redrawHint("drag",!0),Xe.selected()?(Kt=le.$(function(dr){return dr.selected()&&t.nodeIsGrabbable(dr)}),y(Kt,{addToList:Pt})):b(Xe,{addToList:Pt}),f(Xe);var dn=function(zr){return{originalEvent:U,type:zr,position:{x:xe[0],y:xe[1]}}};Xe.emit(dn("grabon")),Kt?Kt.forEach(function(dr){dr.emit(dn("grab"))}):Xe.emit(dn("grab"))}i(Xe,["touchstart","tapstart","vmousedown"],U,{x:xe[0],y:xe[1]}),Xe==null&&(t.data.bgActivePosistion={x:he[0],y:he[1]},t.redrawHint("select",!0),t.redraw()),t.touchData.singleTouchMoved=!1,t.touchData.singleTouchStartTime=+new Date,clearTimeout(t.touchData.tapholdTimeout),t.touchData.tapholdTimeout=setTimeout(function(){t.touchData.singleTouchMoved===!1&&!t.pinching&&!t.touchData.selecting&&i(t.touchData.start,["taphold"],U,{x:xe[0],y:xe[1]})},t.tapholdDuration)}}if(U.touches.length>=1){for(var Vt=t.touchData.startPosition=[null,null,null,null,null,null],Rt=0;Rt<xe.length;Rt++)Vt[Rt]=oe[Rt]=xe[Rt];var $t=U.touches[0];t.touchData.startGPosition=[$t.clientX,$t.clientY]}}},!1);var we;t.registerBinding(e,"touchmove",we=function(U){var le=t.touchData.capture;if(!(!le&&!R(U))){var xe=t.selection,oe=t.cy,he=t.touchData.now,Oe=t.touchData.earlier,ke=oe.zoom();if(U.touches[0]){var Pe=t.projectIntoViewport(U.touches[0].clientX,U.touches[0].clientY);he[0]=Pe[0],he[1]=Pe[1]}if(U.touches[1]){var Pe=t.projectIntoViewport(U.touches[1].clientX,U.touches[1].clientY);he[2]=Pe[0],he[3]=Pe[1]}if(U.touches[2]){var Pe=t.projectIntoViewport(U.touches[2].clientX,U.touches[2].clientY);he[4]=Pe[0],he[5]=Pe[1]}var be=t.touchData.startGPosition,Je;if(le&&U.touches[0]&&be){for(var Ue=[],nt=0;nt<he.length;nt++)Ue[nt]=he[nt]-Oe[nt];var it=U.touches[0].clientX-be[0],Xe=it*it,Pt=U.touches[0].clientY-be[1],Kt=Pt*Pt,dn=Xe+Kt;Je=dn>=t.touchTapThreshold2}if(le&&t.touchData.cxt){U.preventDefault();var Vt=U.touches[0].clientX-pe,Rt=U.touches[0].clientY-ge,$t=U.touches[1].clientX-pe,dr=U.touches[1].clientY-ge,zr=se(Vt,Rt,$t,dr),Gr=zr/G,Yn=150,kn=Yn*Yn,hn=1.5,yt=hn*hn;if(Gr>=yt||zr>=kn){t.touchData.cxt=!1,t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);var C={originalEvent:U,type:"cxttapend",position:{x:he[0],y:he[1]}};t.touchData.start?(t.touchData.start.unactivate().emit(C),t.touchData.start=null):oe.emit(C)}}if(le&&t.touchData.cxt){var C={originalEvent:U,type:"cxtdrag",position:{x:he[0],y:he[1]}};t.data.bgActivePosistion=void 0,t.redrawHint("select",!0),t.touchData.start?t.touchData.start.emit(C):oe.emit(C),t.touchData.start&&(t.touchData.start._private.grabbed=!1),t.touchData.cxtDragged=!0;var D=t.findNearestElement(he[0],he[1],!0,!0);(!t.touchData.cxtOver||D!==t.touchData.cxtOver)&&(t.touchData.cxtOver&&t.touchData.cxtOver.emit({originalEvent:U,type:"cxtdragout",position:{x:he[0],y:he[1]}}),t.touchData.cxtOver=D,D&&D.emit({originalEvent:U,type:"cxtdragover",position:{x:he[0],y:he[1]}}))}else if(le&&U.touches[2]&&oe.boxSelectionEnabled())U.preventDefault(),t.data.bgActivePosistion=void 0,this.lastThreeTouch=+new Date,t.touchData.selecting||oe.emit({originalEvent:U,type:"boxstart",position:{x:he[0],y:he[1]}}),t.touchData.selecting=!0,t.touchData.didSelect=!0,xe[4]=1,!xe||xe.length===0||xe[0]===void 0?(xe[0]=(he[0]+he[2]+he[4])/3,xe[1]=(he[1]+he[3]+he[5])/3,xe[2]=(he[0]+he[2]+he[4])/3+1,xe[3]=(he[1]+he[3]+he[5])/3+1):(xe[2]=(he[0]+he[2]+he[4])/3,xe[3]=(he[1]+he[3]+he[5])/3),t.redrawHint("select",!0),t.redraw();else if(le&&U.touches[1]&&!t.touchData.didSelect&&oe.zoomingEnabled()&&oe.panningEnabled()&&oe.userZoomingEnabled()&&oe.userPanningEnabled()){U.preventDefault(),t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);var _e=t.dragData.touchDragEles;if(_e){t.redrawHint("drag",!0);for(var B=0;B<_e.length;B++){var J=_e[B]._private;J.grabbed=!1,J.rscratch.inDragLayer=!1}}var gt=t.touchData.start,Vt=U.touches[0].clientX-pe,Rt=U.touches[0].clientY-ge,$t=U.touches[1].clientX-pe,dr=U.touches[1].clientY-ge,$e=ve(Vt,Rt,$t,dr),Yr=$e/re;if(Te){var Ea=Vt-K,Qe=Rt-W,hr=$t-H,pn=dr-ee,ko=(Ea+hr)/2,te=(Qe+pn)/2,gn=oe.zoom(),ie=gn*Yr,Es=oe.pan(),nu=ue[0]*gn+Es.x,iu=ue[1]*gn+Es.y,To={x:-ie/gn*(nu-Es.x-ko)+nu,y:-ie/gn*(iu-Es.y-te)+iu};if(gt&&gt.active()){var _e=t.dragData.touchDragEles;x(_e),t.redrawHint("drag",!0),t.redrawHint("eles",!0),gt.unactivate().emit("freeon"),_e.emit("free"),t.dragData.didDrag&&(gt.emit("dragfreeon"),_e.emit("dragfree"))}oe.viewport({zoom:ie,pan:To,cancelOnFailedZoom:!0}),oe.emit("pinchzoom"),re=$e,K=Vt,W=Rt,H=$t,ee=dr,t.pinching=!0}if(U.touches[0]){var Pe=t.projectIntoViewport(U.touches[0].clientX,U.touches[0].clientY);he[0]=Pe[0],he[1]=Pe[1]}if(U.touches[1]){var Pe=t.projectIntoViewport(U.touches[1].clientX,U.touches[1].clientY);he[2]=Pe[0],he[3]=Pe[1]}if(U.touches[2]){var Pe=t.projectIntoViewport(U.touches[2].clientX,U.touches[2].clientY);he[4]=Pe[0],he[5]=Pe[1]}}else if(U.touches[0]&&!t.touchData.didSelect){var We=t.touchData.start,Cs=t.touchData.last,D;if(!t.hoverData.draggingEles&&!t.swipePanning&&(D=t.findNearestElement(he[0],he[1],!0,!0)),le&&We!=null&&U.preventDefault(),le&&We!=null&&t.nodeIsDraggable(We))if(Je){var _e=t.dragData.touchDragEles,Ms=!t.dragData.didDrag;Ms&&y(_e,{inDragLayer:!0}),t.dragData.didDrag=!0;var Ca={x:0,y:0};if(Ne(Ue[0])&&Ne(Ue[1])&&(Ca.x+=Ue[0],Ca.y+=Ue[1],Ms)){t.redrawHint("eles",!0);var On=t.touchData.dragDelta;On&&Ne(On[0])&&Ne(On[1])&&(Ca.x+=On[0],Ca.y+=On[1])}t.hoverData.draggingEles=!0,_e.silentShift(Ca).emit("position drag"),t.redrawHint("drag",!0),t.touchData.startPosition[0]==Oe[0]&&t.touchData.startPosition[1]==Oe[1]&&t.redrawHint("eles",!0),t.redraw()}else{var On=t.touchData.dragDelta=t.touchData.dragDelta||[];On.length===0?(On.push(Ue[0]),On.push(Ue[1])):(On[0]+=Ue[0],On[1]+=Ue[1])}if(i(We||D,["touchmove","tapdrag","vmousemove"],U,{x:he[0],y:he[1]}),(!We||!We.grabbed())&&D!=Cs&&(Cs&&Cs.emit({originalEvent:U,type:"tapdragout",position:{x:he[0],y:he[1]}}),D&&D.emit({originalEvent:U,type:"tapdragover",position:{x:he[0],y:he[1]}})),t.touchData.last=D,le)for(var B=0;B<he.length;B++)he[B]&&t.touchData.startPosition[B]&&Je&&(t.touchData.singleTouchMoved=!0);if(le&&(We==null||We.pannable())&&oe.panningEnabled()&&oe.userPanningEnabled()){var Eo=s(We,t.touchData.starts);Eo&&(U.preventDefault(),t.data.bgActivePosistion||(t.data.bgActivePosistion=sl(t.touchData.startPosition)),t.swipePanning?(oe.panBy({x:Ue[0]*ke,y:Ue[1]*ke}),oe.emit("dragpan")):Je&&(t.swipePanning=!0,oe.panBy({x:it*ke,y:Pt*ke}),oe.emit("dragpan"),We&&(We.unactivate(),t.redrawHint("select",!0),t.touchData.start=null)));var Pe=t.projectIntoViewport(U.touches[0].clientX,U.touches[0].clientY);he[0]=Pe[0],he[1]=Pe[1]}}for(var nt=0;nt<he.length;nt++)Oe[nt]=he[nt];le&&U.touches.length>0&&!t.hoverData.draggingEles&&!t.swipePanning&&t.data.bgActivePosistion!=null&&(t.data.bgActivePosistion=void 0,t.redrawHint("select",!0),t.redraw())}},!1);var Re;t.registerBinding(e,"touchcancel",Re=function(U){var le=t.touchData.start;t.touchData.capture=!1,le&&le.unactivate()});var Ve,st,Lt,Et;if(t.registerBinding(e,"touchend",Ve=function(U){var le=t.touchData.start,xe=t.touchData.capture;if(xe)U.touches.length===0&&(t.touchData.capture=!1),U.preventDefault();else return;var oe=t.selection;t.swipePanning=!1,t.hoverData.draggingEles=!1;var he=t.cy,Oe=he.zoom(),ke=t.touchData.now,Pe=t.touchData.earlier;if(U.touches[0]){var be=t.projectIntoViewport(U.touches[0].clientX,U.touches[0].clientY);ke[0]=be[0],ke[1]=be[1]}if(U.touches[1]){var be=t.projectIntoViewport(U.touches[1].clientX,U.touches[1].clientY);ke[2]=be[0],ke[3]=be[1]}if(U.touches[2]){var be=t.projectIntoViewport(U.touches[2].clientX,U.touches[2].clientY);ke[4]=be[0],ke[5]=be[1]}le&&le.unactivate();var Je;if(t.touchData.cxt){if(Je={originalEvent:U,type:"cxttapend",position:{x:ke[0],y:ke[1]}},le?le.emit(Je):he.emit(Je),!t.touchData.cxtDragged){var Ue={originalEvent:U,type:"cxttap",position:{x:ke[0],y:ke[1]}};le?le.emit(Ue):he.emit(Ue)}t.touchData.start&&(t.touchData.start._private.grabbed=!1),t.touchData.cxt=!1,t.touchData.start=null,t.redraw();return}if(!U.touches[2]&&he.boxSelectionEnabled()&&t.touchData.selecting){t.touchData.selecting=!1;var nt=he.collection(t.getAllInBox(oe[0],oe[1],oe[2],oe[3]));oe[0]=void 0,oe[1]=void 0,oe[2]=void 0,oe[3]=void 0,oe[4]=0,t.redrawHint("select",!0),he.emit({type:"boxend",originalEvent:U,position:{x:ke[0],y:ke[1]}});var it=function(kn){return kn.selectable()&&!kn.selected()};nt.emit("box").stdFilter(it).select().emit("boxselect"),nt.nonempty()&&t.redrawHint("eles",!0),t.redraw()}if(le!=null&&le.unactivate(),U.touches[2])t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);else if(!U.touches[1]){if(!U.touches[0]){if(!U.touches[0]){t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);var Xe=t.dragData.touchDragEles;if(le!=null){var Pt=le._private.grabbed;x(Xe),t.redrawHint("drag",!0),t.redrawHint("eles",!0),Pt&&(le.emit("freeon"),Xe.emit("free"),t.dragData.didDrag&&(le.emit("dragfreeon"),Xe.emit("dragfree"))),i(le,["touchend","tapend","vmouseup","tapdragout"],U,{x:ke[0],y:ke[1]}),le.unactivate(),t.touchData.start=null}else{var Kt=t.findNearestElement(ke[0],ke[1],!0,!0);i(Kt,["touchend","tapend","vmouseup","tapdragout"],U,{x:ke[0],y:ke[1]})}var dn=t.touchData.startPosition[0]-ke[0],Vt=dn*dn,Rt=t.touchData.startPosition[1]-ke[1],$t=Rt*Rt,dr=Vt+$t,zr=dr*Oe*Oe;t.touchData.singleTouchMoved||(le||he.$(":selected").unselect(["tapunselect"]),i(le,["tap","vclick"],U,{x:ke[0],y:ke[1]}),st=!1,U.timeStamp-Et<=he.multiClickDebounceTime()?(Lt&&clearTimeout(Lt),st=!0,Et=null,i(le,["dbltap","vdblclick"],U,{x:ke[0],y:ke[1]})):(Lt=setTimeout(function(){st||i(le,["onetap","voneclick"],U,{x:ke[0],y:ke[1]})},he.multiClickDebounceTime()),Et=U.timeStamp)),le!=null&&!t.dragData.didDrag&&le._private.selectable&&zr<t.touchTapThreshold2&&!t.pinching&&(he.selectionType()==="single"?(he.$(r).unmerge(le).unselect(["tapunselect"]),le.select(["tapselect"])):le.selected()?le.unselect(["tapunselect"]):le.select(["tapselect"]),t.redrawHint("eles",!0)),t.touchData.singleTouchMoved=!0}}}for(var Gr=0;Gr<ke.length;Gr++)Pe[Gr]=ke[Gr];t.dragData.didDrag=!1,U.touches.length===0&&(t.touchData.dragDelta=[],t.touchData.startPosition=[null,null,null,null,null,null],t.touchData.startGPosition=null,t.touchData.didSelect=!1),U.touches.length<2&&(U.touches.length===1&&(t.touchData.startGPosition=[U.touches[0].clientX,U.touches[0].clientY]),t.pinching=!1,t.redrawHint("eles",!0),t.redraw())},!1),typeof TouchEvent>"u"){var Be=[],ze=function(U){return{clientX:U.clientX,clientY:U.clientY,force:1,identifier:U.pointerId,pageX:U.pageX,pageY:U.pageY,radiusX:U.width/2,radiusY:U.height/2,screenX:U.screenX,screenY:U.screenY,target:U.target}},Ye=function(U){return{event:U,touch:ze(U)}},rt=function(U){Be.push(Ye(U))},Ze=function(U){for(var le=0;le<Be.length;le++){var xe=Be[le];if(xe.event.pointerId===U.pointerId){Be.splice(le,1);return}}},tt=function(U){var le=Be.filter(function(xe){return xe.event.pointerId===U.pointerId})[0];le.event=U,le.touch=ze(U)},at=function(U){U.touches=Be.map(function(le){return le.touch})},ut=function(U){return U.pointerType==="mouse"||U.pointerType===4};t.registerBinding(t.container,"pointerdown",function(Me){ut(Me)||(Me.preventDefault(),rt(Me),at(Me),ye(Me))}),t.registerBinding(t.container,"pointerup",function(Me){ut(Me)||(Ze(Me),at(Me),Ve(Me))}),t.registerBinding(t.container,"pointercancel",function(Me){ut(Me)||(Ze(Me),at(Me),Re(Me))}),t.registerBinding(t.container,"pointermove",function(Me){ut(Me)||(Me.preventDefault(),tt(Me),at(Me),we(Me))})}};var ka={};ka.generatePolygon=function(t,e){return this.nodeShapes[t]={renderer:this,name:t,points:e,draw:function(n,i,a,s,o,l){this.renderer.nodeShapeImpl("polygon",n,i,a,s,o,this.points)},intersectLine:function(n,i,a,s,o,l,u,c){return jc(o,l,this.points,n,i,a/2,s/2,u)},checkPoint:function(n,i,a,s,o,l,u,c){return wa(n,i,this.points,l,u,s,o,[0,-1],a)}}};ka.generateEllipse=function(){return this.nodeShapes.ellipse={renderer:this,name:"ellipse",draw:function(e,r,n,i,a,s){this.renderer.nodeShapeImpl(this.name,e,r,n,i,a)},intersectLine:function(e,r,n,i,a,s,o,l){return Nq(a,s,e,r,n/2+o,i/2+o)},checkPoint:function(e,r,n,i,a,s,o,l){return Xs(e,r,i,a,s,o,n)}}};ka.generateRoundPolygon=function(t,e){return this.nodeShapes[t]={renderer:this,name:t,points:e,getOrCreateCorners:function(n,i,a,s,o,l,u){if(l[u]!==void 0&&l[u+"-cx"]===n&&l[u+"-cy"]===i)return l[u];l[u]=new Array(e.length/2),l[u+"-cx"]=n,l[u+"-cy"]=i;var c=a/2,f=s/2;o=o==="auto"?Tk(a,s):o;for(var d=new Array(e.length/2),p=0;p<e.length/2;p++)d[p]={x:n+c*e[p*2],y:i+f*e[p*2+1]};var g,y,b,x,w=d.length;for(y=d[w-1],g=0;g<w;g++)b=d[g%w],x=d[(g+1)%w],l[u][g]=n4(y,b,x,o),y=b,b=x;return l[u]},draw:function(n,i,a,s,o,l,u){this.renderer.nodeShapeImpl("round-polygon",n,i,a,s,o,this.points,this.getOrCreateCorners(i,a,s,o,l,u,"drawCorners"))},intersectLine:function(n,i,a,s,o,l,u,c,f){return zq(o,l,this.points,n,i,a,s,u,this.getOrCreateCorners(n,i,a,s,c,f,"corners"))},checkPoint:function(n,i,a,s,o,l,u,c,f){return Oq(n,i,this.points,l,u,s,o,this.getOrCreateCorners(l,u,s,o,c,f,"corners"))}}};ka.generateRoundRectangle=function(){return this.nodeShapes["round-rectangle"]=this.nodeShapes.roundrectangle={renderer:this,name:"round-rectangle",points:vn(4,0),draw:function(e,r,n,i,a,s){this.renderer.nodeShapeImpl(this.name,e,r,n,i,a,this.points,s)},intersectLine:function(e,r,n,i,a,s,o,l){return Sk(a,s,e,r,n,i,o,l)},checkPoint:function(e,r,n,i,a,s,o,l){var u=i/2,c=a/2;l=l==="auto"?fo(i,a):l,l=Math.min(u,c,l);var f=l*2;return!!(wa(e,r,this.points,s,o,i,a-f,[0,-1],n)||wa(e,r,this.points,s,o,i-f,a,[0,-1],n)||Xs(e,r,f,f,s-u+l,o-c+l,n)||Xs(e,r,f,f,s+u-l,o-c+l,n)||Xs(e,r,f,f,s+u-l,o+c-l,n)||Xs(e,r,f,f,s-u+l,o+c-l,n))}}};ka.generateCutRectangle=function(){return this.nodeShapes["cut-rectangle"]=this.nodeShapes.cutrectangle={renderer:this,name:"cut-rectangle",cornerLength:W2(),points:vn(4,0),draw:function(e,r,n,i,a,s){this.renderer.nodeShapeImpl(this.name,e,r,n,i,a,null,s)},generateCutTrianglePts:function(e,r,n,i,a){var s=a==="auto"?this.cornerLength:a,o=r/2,l=e/2,u=n-l,c=n+l,f=i-o,d=i+o;return{topLeft:[u,f+s,u+s,f,u+s,f+s],topRight:[c-s,f,c,f+s,c-s,f+s],bottomRight:[c,d-s,c-s,d,c-s,d-s],bottomLeft:[u+s,d,u,d-s,u+s,d-s]}},intersectLine:function(e,r,n,i,a,s,o,l){var u=this.generateCutTrianglePts(n+2*o,i+2*o,e,r,l),c=[].concat.apply([],[u.topLeft.splice(0,4),u.topRight.splice(0,4),u.bottomRight.splice(0,4),u.bottomLeft.splice(0,4)]);return jc(a,s,c,e,r)},checkPoint:function(e,r,n,i,a,s,o,l){var u=l==="auto"?this.cornerLength:l;if(wa(e,r,this.points,s,o,i,a-2*u,[0,-1],n)||wa(e,r,this.points,s,o,i-2*u,a,[0,-1],n))return!0;var c=this.generateCutTrianglePts(i,a,s,o);return Mn(e,r,c.topLeft)||Mn(e,r,c.topRight)||Mn(e,r,c.bottomRight)||Mn(e,r,c.bottomLeft)}}};ka.generateBarrel=function(){return this.nodeShapes.barrel={renderer:this,name:"barrel",points:vn(4,0),draw:function(e,r,n,i,a,s){this.renderer.nodeShapeImpl(this.name,e,r,n,i,a)},intersectLine:function(e,r,n,i,a,s,o,l){var u=.15,c=.5,f=.85,d=this.generateBarrelBezierPts(n+2*o,i+2*o,e,r),p=function(b){var x=xl({x:b[0],y:b[1]},{x:b[2],y:b[3]},{x:b[4],y:b[5]},u),w=xl({x:b[0],y:b[1]},{x:b[2],y:b[3]},{x:b[4],y:b[5]},c),_=xl({x:b[0],y:b[1]},{x:b[2],y:b[3]},{x:b[4],y:b[5]},f);return[b[0],b[1],x.x,x.y,w.x,w.y,_.x,_.y,b[4],b[5]]},g=[].concat(p(d.topLeft),p(d.topRight),p(d.bottomRight),p(d.bottomLeft));return jc(a,s,g,e,r)},generateBarrelBezierPts:function(e,r,n,i){var a=r/2,s=e/2,o=n-s,l=n+s,u=i-a,c=i+a,f=q1(e,r),d=f.heightOffset,p=f.widthOffset,g=f.ctrlPtOffsetPct*e,y={topLeft:[o,u+d,o+g,u,o+p,u],topRight:[l-p,u,l-g,u,l,u+d],bottomRight:[l,c-d,l-g,c,l-p,c],bottomLeft:[o+p,c,o+g,c,o,c-d]};return y.topLeft.isTop=!0,y.topRight.isTop=!0,y.bottomLeft.isBottom=!0,y.bottomRight.isBottom=!0,y},checkPoint:function(e,r,n,i,a,s,o,l){var u=q1(i,a),c=u.heightOffset,f=u.widthOffset;if(wa(e,r,this.points,s,o,i,a-2*c,[0,-1],n)||wa(e,r,this.points,s,o,i-2*f,a,[0,-1],n))return!0;for(var d=this.generateBarrelBezierPts(i,a,s,o),p=function(A,L,R){var N=R[4],F=R[2],$=R[0],V=R[5],X=R[1],K=Math.min(N,$),W=Math.max(N,$),H=Math.min(V,X),ee=Math.max(V,X);if(K<=A&&A<=W&&H<=L&&L<=ee){var re=Bq(N,F,$),G=Aq(re[0],re[1],re[2],A),Z=G.filter(function(ue){return 0<=ue&&ue<=1});if(Z.length>0)return Z[0]}return null},g=Object.keys(d),y=0;y<g.length;y++){var b=g[y],x=d[b],w=p(e,r,x);if(w!=null){var _=x[5],k=x[3],T=x[1],P=Br(_,k,T,w);if(x.isTop&&P<=r||x.isBottom&&r<=P)return!0}}return!1}}};ka.generateBottomRoundrectangle=function(){return this.nodeShapes["bottom-round-rectangle"]=this.nodeShapes.bottomroundrectangle={renderer:this,name:"bottom-round-rectangle",points:vn(4,0),draw:function(e,r,n,i,a,s){this.renderer.nodeShapeImpl(this.name,e,r,n,i,a,this.points,s)},intersectLine:function(e,r,n,i,a,s,o,l){var u=e-(n/2+o),c=r-(i/2+o),f=c,d=e+(n/2+o),p=Wa(a,s,e,r,u,c,d,f,!1);return p.length>0?p:Sk(a,s,e,r,n,i,o,l)},checkPoint:function(e,r,n,i,a,s,o,l){l=l==="auto"?fo(i,a):l;var u=2*l;if(wa(e,r,this.points,s,o,i,a-u,[0,-1],n)||wa(e,r,this.points,s,o,i-u,a,[0,-1],n))return!0;var c=i/2+2*n,f=a/2+2*n,d=[s-c,o-f,s-c,o,s+c,o,s+c,o-f];return!!(Mn(e,r,d)||Xs(e,r,u,u,s+i/2-l,o+a/2-l,n)||Xs(e,r,u,u,s-i/2+l,o+a/2-l,n))}}};ka.registerNodeShapes=function(){var t=this.nodeShapes={},e=this;this.generateEllipse(),this.generatePolygon("triangle",vn(3,0)),this.generateRoundPolygon("round-triangle",vn(3,0)),this.generatePolygon("rectangle",vn(4,0)),t.square=t.rectangle,this.generateRoundRectangle(),this.generateCutRectangle(),this.generateBarrel(),this.generateBottomRoundrectangle();{var r=[0,1,1,0,0,-1,-1,0];this.generatePolygon("diamond",r),this.generateRoundPolygon("round-diamond",r)}this.generatePolygon("pentagon",vn(5,0)),this.generateRoundPolygon("round-pentagon",vn(5,0)),this.generatePolygon("hexagon",vn(6,0)),this.generateRoundPolygon("round-hexagon",vn(6,0)),this.generatePolygon("heptagon",vn(7,0)),this.generateRoundPolygon("round-heptagon",vn(7,0)),this.generatePolygon("octagon",vn(8,0)),this.generateRoundPolygon("round-octagon",vn(8,0));var n=new Array(20);{var i=j1(5,0),a=j1(5,Math.PI/5),s=.5*(3-Math.sqrt(5));s*=1.57;for(var o=0;o<a.length/2;o++)a[o*2]*=s,a[o*2+1]*=s;for(var o=0;o<20/4;o++)n[o*4]=i[o*2],n[o*4+1]=i[o*2+1],n[o*4+2]=a[o*2],n[o*4+3]=a[o*2+1]}n=kk(n),this.generatePolygon("star",n),this.generatePolygon("vee",[-1,-1,0,-.333,1,-1,0,1]),this.generatePolygon("rhomboid",[-1,-1,.333,-1,1,1,-.333,1]),this.generatePolygon("right-rhomboid",[-.333,-1,1,-1,.333,1,-1,1]),this.nodeShapes.concavehexagon=this.generatePolygon("concave-hexagon",[-1,-.95,-.75,0,-1,.95,1,.95,.75,0,1,-.95]);{var l=[-1,-1,.25,-1,1,0,.25,1,-1,1];this.generatePolygon("tag",l),this.generateRoundPolygon("round-tag",l)}t.makePolygon=function(u){var c=u.join("$"),f="polygon-"+c,d;return(d=this[f])?d:e.generatePolygon(f,u)}};var y0={};y0.timeToRender=function(){return this.redrawTotalTime/this.redrawCount};y0.redraw=function(t){t=t||yk();var e=this;e.averageRedrawTime===void 0&&(e.averageRedrawTime=0),e.lastRedrawTime===void 0&&(e.lastRedrawTime=0),e.lastDrawTime===void 0&&(e.lastDrawTime=0),e.requestedFrame=!0,e.renderOptions=t};y0.beforeRender=function(t,e){if(!this.destroyed){e==null&&or("Priority is not optional for beforeRender");var r=this.beforeRenderCallbacks;r.push({fn:t,priority:e}),r.sort(function(n,i){return i.priority-n.priority})}};var J6=function(e,r,n){for(var i=e.beforeRenderCallbacks,a=0;a<i.length;a++)i[a].fn(r,n)};y0.startRenderLoop=function(){var t=this,e=t.cy;if(!t.renderLoopStarted){t.renderLoopStarted=!0;var r=function(i){if(!t.destroyed){if(!e.batching())if(t.requestedFrame&&!t.skipFrame){J6(t,!0,i);var a=ba();t.render(t.renderOptions);var s=t.lastDrawTime=ba();t.averageRedrawTime===void 0&&(t.averageRedrawTime=s-a),t.redrawCount===void 0&&(t.redrawCount=0),t.redrawCount++,t.redrawTotalTime===void 0&&(t.redrawTotalTime=0);var o=s-a;t.redrawTotalTime+=o,t.lastRedrawTime=o,t.averageRedrawTime=t.averageRedrawTime/2+o/2,t.requestedFrame=!1}else J6(t,!1,i);t.skipFrame=!1,ah(r)}};ah(r)}};var eW=function(e){this.init(e)},kT=eW,tu=kT.prototype;tu.clientFunctions=["redrawHint","render","renderTo","matchCanvasSize","nodeShapeImpl","arrowShapeImpl"];tu.init=function(t){var e=this;e.options=t,e.cy=t.cy;var r=e.container=t.cy.container(),n=e.cy.window();if(n){var i=n.document,a=i.head,s="__________cytoscape_stylesheet",o="__________cytoscape_container",l=i.getElementById(s)!=null;if(r.className.indexOf(o)<0&&(r.className=(r.className||"")+" "+o),!l){var u=i.createElement("style");u.id=s,u.textContent="."+o+" { position: relative; }",a.insertBefore(u,a.children[0])}var c=n.getComputedStyle(r),f=c.getPropertyValue("position");f==="static"&&It("A Cytoscape container has style position:static and so can not use UI extensions properly")}e.selection=[void 0,void 0,void 0,void 0,0],e.bezierProjPcts=[.05,.225,.4,.5,.6,.775,.95],e.hoverData={down:null,last:null,downTime:null,triggerMode:null,dragging:!1,initialPan:[null,null],capture:!1},e.dragData={possibleDragElements:[]},e.touchData={start:null,capture:!1,startPosition:[null,null,null,null,null,null],singleTouchStartTime:null,singleTouchMoved:!0,now:[null,null,null,null,null,null],earlier:[null,null,null,null,null,null]},e.redraws=0,e.showFps=t.showFps,e.debug=t.debug,e.webgl=t.webgl,e.hideEdgesOnViewport=t.hideEdgesOnViewport,e.textureOnViewport=t.textureOnViewport,e.wheelSensitivity=t.wheelSensitivity,e.motionBlurEnabled=t.motionBlur,e.forcedPixelRatio=Ne(t.pixelRatio)?t.pixelRatio:null,e.motionBlur=t.motionBlur,e.motionBlurOpacity=t.motionBlurOpacity,e.motionBlurTransparency=1-e.motionBlurOpacity,e.motionBlurPxRatio=1,e.mbPxRBlurry=1,e.minMbLowQualFrames=4,e.fullQualityMb=!1,e.clearedForMotionBlur=[],e.desktopTapThreshold=t.desktopTapThreshold,e.desktopTapThreshold2=t.desktopTapThreshold*t.desktopTapThreshold,e.touchTapThreshold=t.touchTapThreshold,e.touchTapThreshold2=t.touchTapThreshold*t.touchTapThreshold,e.tapholdDuration=500,e.bindings=[],e.beforeRenderCallbacks=[],e.beforeRenderPriorities={animations:400,eleCalcs:300,eleTxrDeq:200,lyrTxrDeq:150,lyrTxrSkip:100},e.registerNodeShapes(),e.registerArrowShapes(),e.registerCalculationListeners()};tu.notify=function(t,e){var r=this,n=r.cy;if(!this.destroyed){if(t==="init"){r.load();return}if(t==="destroy"){r.destroy();return}(t==="add"||t==="remove"||t==="move"&&n.hasCompoundNodes()||t==="load"||t==="zorder"||t==="mount")&&r.invalidateCachedZSortedEles(),t==="viewport"&&r.redrawHint("select",!0),t==="gc"&&r.redrawHint("gc",!0),(t==="load"||t==="resize"||t==="mount")&&(r.invalidateContainerClientCoordsCache(),r.matchCanvasSize(r.container)),r.redrawHint("eles",!0),r.redrawHint("drag",!0),this.startRenderLoop(),this.redraw()}};tu.destroy=function(){var t=this;t.destroyed=!0,t.cy.stopAnimationLoop();for(var e=0;e<t.bindings.length;e++){var r=t.bindings[e],n=r,i=n.target;(i.off||i.removeEventListener).apply(i,n.args)}if(t.bindings=[],t.beforeRenderCallbacks=[],t.onUpdateEleCalcsFns=[],t.removeObserver&&t.removeObserver.disconnect(),t.styleObserver&&t.styleObserver.disconnect(),t.resizeObserver&&t.resizeObserver.disconnect(),t.labelCalcDiv)try{document.body.removeChild(t.labelCalcDiv)}catch{}};tu.isHeadless=function(){return!1};[r4,_T,ST,eu,ka,y0].forEach(function(t){et(tu,t)});var av=1e3/60,TT={setupDequeueing:function(e){return function(){var n=this,i=this.renderer;if(!n.dequeueingSetup){n.dequeueingSetup=!0;var a=h0(function(){i.redrawHint("eles",!0),i.redrawHint("drag",!0),i.redraw()},e.deqRedrawThreshold),s=function(u,c){var f=ba(),d=i.averageRedrawTime,p=i.lastRedrawTime,g=[],y=i.cy.extent(),b=i.getPixelRatio();for(u||i.flushRenderedStyleQueue();;){var x=ba(),w=x-f,_=x-c;if(p<av){var k=av-(u?d:0);if(_>=e.deqFastCost*k)break}else if(u){if(w>=e.deqCost*p||w>=e.deqAvgCost*d)break}else if(_>=e.deqNoDrawCost*av)break;var T=e.deq(n,b,y);if(T.length>0)for(var P=0;P<T.length;P++)g.push(T[P]);else break}g.length>0&&(e.onDeqd(n,g),!u&&e.shouldRedraw(n,g,b,y)&&a())},o=e.priority||q2;i.beforeRender(s,o(n))}}}},tW=function(){function t(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:sh;_s(this,t),this.idsByKey=new ca,this.keyForId=new ca,this.cachesByLvl=new ca,this.lvls=[],this.getKey=e,this.doesEleInvalidateKey=r}return Ss(t,[{key:"getIdsFor",value:function(r){r==null&&or("Can not get id list for null key");var n=this.idsByKey,i=this.idsByKey.get(r);return i||(i=new Kl,n.set(r,i)),i}},{key:"addIdForKey",value:function(r,n){r!=null&&this.getIdsFor(r).add(n)}},{key:"deleteIdForKey",value:function(r,n){r!=null&&this.getIdsFor(r).delete(n)}},{key:"getNumberOfIdsForKey",value:function(r){return r==null?0:this.getIdsFor(r).size}},{key:"updateKeyMappingFor",value:function(r){var n=r.id(),i=this.keyForId.get(n),a=this.getKey(r);this.deleteIdForKey(i,n),this.addIdForKey(a,n),this.keyForId.set(n,a)}},{key:"deleteKeyMappingFor",value:function(r){var n=r.id(),i=this.keyForId.get(n);this.deleteIdForKey(i,n),this.keyForId.delete(n)}},{key:"keyHasChangedFor",value:function(r){var n=r.id(),i=this.keyForId.get(n),a=this.getKey(r);return i!==a}},{key:"isInvalid",value:function(r){return this.keyHasChangedFor(r)||this.doesEleInvalidateKey(r)}},{key:"getCachesAt",value:function(r){var n=this.cachesByLvl,i=this.lvls,a=n.get(r);return a||(a=new ca,n.set(r,a),i.push(r)),a}},{key:"getCache",value:function(r,n){return this.getCachesAt(n).get(r)}},{key:"get",value:function(r,n){var i=this.getKey(r),a=this.getCache(i,n);return a!=null&&this.updateKeyMappingFor(r),a}},{key:"getForCachedKey",value:function(r,n){var i=this.keyForId.get(r.id()),a=this.getCache(i,n);return a}},{key:"hasCache",value:function(r,n){return this.getCachesAt(n).has(r)}},{key:"has",value:function(r,n){var i=this.getKey(r);return this.hasCache(i,n)}},{key:"setCache",value:function(r,n,i){i.key=r,this.getCachesAt(n).set(r,i)}},{key:"set",value:function(r,n,i){var a=this.getKey(r);this.setCache(a,n,i),this.updateKeyMappingFor(r)}},{key:"deleteCache",value:function(r,n){this.getCachesAt(n).delete(r)}},{key:"delete",value:function(r,n){var i=this.getKey(r);this.deleteCache(i,n)}},{key:"invalidateKey",value:function(r){var n=this;this.lvls.forEach(function(i){return n.deleteCache(r,i)})}},{key:"invalidate",value:function(r){var n=r.id(),i=this.keyForId.get(n);this.deleteKeyMappingFor(r);var a=this.doesEleInvalidateKey(r);return a&&this.invalidateKey(i),a||this.getNumberOfIdsForKey(i)===0}}])}(),e7=25,Df=50,cd=-4,ty=3,ET=7.99,rW=8,nW=1024,iW=1024,aW=1024,sW=.2,oW=.8,lW=10,uW=.15,cW=.1,fW=.9,dW=.9,hW=100,pW=1,ll={dequeue:"dequeue",downscale:"downscale",highQuality:"highQuality"},gW=Or({getKey:null,doesEleInvalidateKey:sh,drawElement:null,getBoundingBox:null,getRotationPoint:null,getRotationOffset:null,isVisible:gk,allowEdgeTxrCaching:!0,allowParentTxrCaching:!0}),qu=function(e,r){var n=this;n.renderer=e,n.onDequeues=[];var i=gW(r);et(n,i),n.lookup=new tW(i.getKey,i.doesEleInvalidateKey),n.setupDequeueing()},Nr=qu.prototype;Nr.reasons=ll;Nr.getTextureQueue=function(t){var e=this;return e.eleImgCaches=e.eleImgCaches||{},e.eleImgCaches[t]=e.eleImgCaches[t]||[]};Nr.getRetiredTextureQueue=function(t){var e=this,r=e.eleImgCaches.retired=e.eleImgCaches.retired||{},n=r[t]=r[t]||[];return n};Nr.getElementQueue=function(){var t=this,e=t.eleCacheQueue=t.eleCacheQueue||new p0(function(r,n){return n.reqs-r.reqs});return e};Nr.getElementKeyToQueue=function(){var t=this,e=t.eleKeyToCacheQueue=t.eleKeyToCacheQueue||{};return e};Nr.getElement=function(t,e,r,n,i){var a=this,s=this.renderer,o=s.cy.zoom(),l=this.lookup;if(!e||e.w===0||e.h===0||isNaN(e.w)||isNaN(e.h)||!t.visible()||t.removed()||!a.allowEdgeTxrCaching&&t.isEdge()||!a.allowParentTxrCaching&&t.isParent())return null;if(n==null&&(n=Math.ceil(V2(o*r))),n<cd)n=cd;else if(o>=ET||n>ty)return null;var u=Math.pow(2,n),c=e.h*u,f=e.w*u,d=s.eleTextBiggerThanMin(t,u);if(!this.isVisible(t,d))return null;var p=l.get(t,n);if(p&&p.invalidated&&(p.invalidated=!1,p.texture.invalidatedWidth-=p.width),p)return p;var g;if(c<=e7?g=e7:c<=Df?g=Df:g=Math.ceil(c/Df)*Df,c>aW||f>iW)return null;var y=a.getTextureQueue(g),b=y[y.length-2],x=function(){return a.recycleTexture(g,f)||a.addTexture(g,f)};b||(b=y[y.length-1]),b||(b=x()),b.width-b.usedWidth<f&&(b=x());for(var w=function(K){return K&&K.scaledLabelShown===d},_=i&&i===ll.dequeue,k=i&&i===ll.highQuality,T=i&&i===ll.downscale,P,M=n+1;M<=ty;M++){var A=l.get(t,M);if(A){P=A;break}}var L=P&&P.level===n+1?P:null,R=function(){b.context.drawImage(L.texture.canvas,L.x,0,L.width,L.height,b.usedWidth,0,f,c)};if(b.context.setTransform(1,0,0,1,0,0),b.context.clearRect(b.usedWidth,0,f,g),w(L))R();else if(w(P))if(k){for(var N=P.level;N>n;N--)L=a.getElement(t,e,r,N,ll.downscale);R()}else return a.queueElement(t,P.level-1),P;else{var F;if(!_&&!k&&!T)for(var $=n-1;$>=cd;$--){var V=l.get(t,$);if(V){F=V;break}}if(w(F))return a.queueElement(t,n),F;b.context.translate(b.usedWidth,0),b.context.scale(u,u),this.drawElement(b.context,t,e,d,!1),b.context.scale(1/u,1/u),b.context.translate(-b.usedWidth,0)}return p={x:b.usedWidth,texture:b,level:n,scale:u,width:f,height:c,scaledLabelShown:d},b.usedWidth+=Math.ceil(f+rW),b.eleCaches.push(p),l.set(t,n,p),a.checkTextureFullness(b),p};Nr.invalidateElements=function(t){for(var e=0;e<t.length;e++)this.invalidateElement(t[e])};Nr.invalidateElement=function(t){var e=this,r=e.lookup,n=[],i=r.isInvalid(t);if(i){for(var a=cd;a<=ty;a++){var s=r.getForCachedKey(t,a);s&&n.push(s)}var o=r.invalidate(t);if(o)for(var l=0;l<n.length;l++){var u=n[l],c=u.texture;c.invalidatedWidth+=u.width,u.invalidated=!0,e.checkTextureUtility(c)}e.removeFromQueue(t)}};Nr.checkTextureUtility=function(t){t.invalidatedWidth>=sW*t.width&&this.retireTexture(t)};Nr.checkTextureFullness=function(t){var e=this,r=e.getTextureQueue(t.height);t.usedWidth/t.width>oW&&t.fullnessChecks>=lW?hs(r,t):t.fullnessChecks++};Nr.retireTexture=function(t){var e=this,r=t.height,n=e.getTextureQueue(r),i=this.lookup;hs(n,t),t.retired=!0;for(var a=t.eleCaches,s=0;s<a.length;s++){var o=a[s];i.deleteCache(o.key,o.level)}H2(a);var l=e.getRetiredTextureQueue(r);l.push(t)};Nr.addTexture=function(t,e){var r=this,n=r.getTextureQueue(t),i={};return n.push(i),i.eleCaches=[],i.height=t,i.width=Math.max(nW,e),i.usedWidth=0,i.invalidatedWidth=0,i.fullnessChecks=0,i.canvas=r.renderer.makeOffscreenCanvas(i.width,i.height),i.context=i.canvas.getContext("2d"),i};Nr.recycleTexture=function(t,e){for(var r=this,n=r.getTextureQueue(t),i=r.getRetiredTextureQueue(t),a=0;a<i.length;a++){var s=i[a];if(s.width>=e)return s.retired=!1,s.usedWidth=0,s.invalidatedWidth=0,s.fullnessChecks=0,H2(s.eleCaches),s.context.setTransform(1,0,0,1,0,0),s.context.clearRect(0,0,s.width,s.height),hs(i,s),n.push(s),s}};Nr.queueElement=function(t,e){var r=this,n=r.getElementQueue(),i=r.getElementKeyToQueue(),a=this.getKey(t),s=i[a];if(s)s.level=Math.max(s.level,e),s.eles.merge(t),s.reqs++,n.updateItem(s);else{var o={eles:t.spawn().merge(t),level:e,reqs:1,key:a};n.push(o),i[a]=o}};Nr.dequeue=function(t){for(var e=this,r=e.getElementQueue(),n=e.getElementKeyToQueue(),i=[],a=e.lookup,s=0;s<pW&&r.size()>0;s++){var o=r.pop(),l=o.key,u=o.eles[0],c=a.hasCache(u,o.level);if(n[l]=null,c)continue;i.push(o);var f=e.getBoundingBox(u);e.getElement(u,f,t,o.level,ll.dequeue)}return i};Nr.removeFromQueue=function(t){var e=this,r=e.getElementQueue(),n=e.getElementKeyToQueue(),i=this.getKey(t),a=n[i];a!=null&&(a.eles.length===1?(a.reqs=j2,r.updateItem(a),r.pop(),n[i]=null):a.eles.unmerge(t))};Nr.onDequeue=function(t){this.onDequeues.push(t)};Nr.offDequeue=function(t){hs(this.onDequeues,t)};Nr.setupDequeueing=TT.setupDequeueing({deqRedrawThreshold:hW,deqCost:uW,deqAvgCost:cW,deqNoDrawCost:fW,deqFastCost:dW,deq:function(e,r,n){return e.dequeue(r,n)},onDeqd:function(e,r){for(var n=0;n<e.onDequeues.length;n++){var i=e.onDequeues[n];i(r)}},shouldRedraw:function(e,r,n,i){for(var a=0;a<r.length;a++)for(var s=r[a].eles,o=0;o<s.length;o++){var l=s[o].boundingBox();if(U2(l,i))return!0}return!1},priority:function(e){return e.renderer.beforeRenderPriorities.eleTxrDeq}});var mW=1,oc=-4,ph=2,vW=3.99,yW=50,xW=50,bW=.15,wW=.1,_W=.9,SW=.9,kW=1,t7=250,TW=4e3*4e3,r7=32767,EW=!0,CT=function(e){var r=this,n=r.renderer=e,i=n.cy;r.layersByLevel={},r.firstGet=!0,r.lastInvalidationTime=ba()-2*t7,r.skipping=!1,r.eleTxrDeqs=i.collection(),r.scheduleElementRefinement=h0(function(){r.refineElementTextures(r.eleTxrDeqs),r.eleTxrDeqs.unmerge(r.eleTxrDeqs)},xW),n.beforeRender(function(s,o){o-r.lastInvalidationTime<=t7?r.skipping=!0:r.skipping=!1},n.beforeRenderPriorities.lyrTxrSkip);var a=function(o,l){return l.reqs-o.reqs};r.layersQueue=new p0(a),r.setupDequeueing()},tn=CT.prototype,n7=0,CW=Math.pow(2,53)-1;tn.makeLayer=function(t,e){var r=Math.pow(2,e),n=Math.ceil(t.w*r),i=Math.ceil(t.h*r),a=this.renderer.makeOffscreenCanvas(n,i),s={id:n7=++n7%CW,bb:t,level:e,width:n,height:i,canvas:a,context:a.getContext("2d"),eles:[],elesQueue:[],reqs:0},o=s.context,l=-s.bb.x1,u=-s.bb.y1;return o.scale(r,r),o.translate(l,u),s};tn.getLayers=function(t,e,r){var n=this,i=n.renderer,a=i.cy,s=a.zoom(),o=n.firstGet;if(n.firstGet=!1,r==null){if(r=Math.ceil(V2(s*e)),r<oc)r=oc;else if(s>=vW||r>ph)return null}n.validateLayersElesOrdering(r,t);var l=n.layersByLevel,u=Math.pow(2,r),c=l[r]=l[r]||[],f,d=n.levelIsComplete(r,t),p,g=function(){var R=function(X){if(n.validateLayersElesOrdering(X,t),n.levelIsComplete(X,t))return p=l[X],!0},N=function(X){if(!p)for(var K=r+X;oc<=K&&K<=ph&&!R(K);K+=X);};N(1),N(-1);for(var F=c.length-1;F>=0;F--){var $=c[F];$.invalid&&hs(c,$)}};if(!d)g();else return c;var y=function(){if(!f){f=Rn();for(var R=0;R<t.length;R++)wk(f,t[R].boundingBox())}return f},b=function(R){R=R||{};var N=R.after;y();var F=Math.ceil(f.w*u),$=Math.ceil(f.h*u);if(F>r7||$>r7)return null;var V=F*$;if(V>TW)return null;var X=n.makeLayer(f,r);if(N!=null){var K=c.indexOf(N)+1;c.splice(K,0,X)}else(R.insert===void 0||R.insert)&&c.unshift(X);return X};if(n.skipping&&!o)return null;for(var x=null,w=t.length/mW,_=!o,k=0;k<t.length;k++){var T=t[k],P=T._private.rscratch,M=P.imgLayerCaches=P.imgLayerCaches||{},A=M[r];if(A){x=A;continue}if((!x||x.eles.length>=w||!_k(x.bb,T.boundingBox()))&&(x=b({insert:!0,after:x}),!x))return null;p||_?n.queueLayer(x,T):n.drawEleInLayer(x,T,r,e),x.eles.push(T),M[r]=x}return p||(_?null:c)};tn.getEleLevelForLayerLevel=function(t,e){return t};tn.drawEleInLayer=function(t,e,r,n){var i=this,a=this.renderer,s=t.context,o=e.boundingBox();o.w===0||o.h===0||!e.visible()||(r=i.getEleLevelForLayerLevel(r,n),a.setImgSmoothing(s,!1),a.drawCachedElement(s,e,null,null,r,EW),a.setImgSmoothing(s,!0))};tn.levelIsComplete=function(t,e){var r=this,n=r.layersByLevel[t];if(!n||n.length===0)return!1;for(var i=0,a=0;a<n.length;a++){var s=n[a];if(s.reqs>0||s.invalid)return!1;i+=s.eles.length}return i===e.length};tn.validateLayersElesOrdering=function(t,e){var r=this.layersByLevel[t];if(r)for(var n=0;n<r.length;n++){for(var i=r[n],a=-1,s=0;s<e.length;s++)if(i.eles[0]===e[s]){a=s;break}if(a<0){this.invalidateLayer(i);continue}for(var o=a,s=0;s<i.eles.length;s++)if(i.eles[s]!==e[o+s]){this.invalidateLayer(i);break}}};tn.updateElementsInLayers=function(t,e){for(var r=this,n=u0(t[0]),i=0;i<t.length;i++)for(var a=n?null:t[i],s=n?t[i]:t[i].ele,o=s._private.rscratch,l=o.imgLayerCaches=o.imgLayerCaches||{},u=oc;u<=ph;u++){var c=l[u];c&&(a&&r.getEleLevelForLayerLevel(c.level)!==a.level||e(c,s,a))}};tn.haveLayers=function(){for(var t=this,e=!1,r=oc;r<=ph;r++){var n=t.layersByLevel[r];if(n&&n.length>0){e=!0;break}}return e};tn.invalidateElements=function(t){var e=this;t.length!==0&&(e.lastInvalidationTime=ba(),!(t.length===0||!e.haveLayers())&&e.updateElementsInLayers(t,function(n,i,a){e.invalidateLayer(n)}))};tn.invalidateLayer=function(t){if(this.lastInvalidationTime=ba(),!t.invalid){var e=t.level,r=t.eles,n=this.layersByLevel[e];hs(n,t),t.elesQueue=[],t.invalid=!0,t.replacement&&(t.replacement.invalid=!0);for(var i=0;i<r.length;i++){var a=r[i]._private.rscratch.imgLayerCaches;a&&(a[e]=null)}}};tn.refineElementTextures=function(t){var e=this;e.updateElementsInLayers(t,function(n,i,a){var s=n.replacement;if(s||(s=n.replacement=e.makeLayer(n.bb,n.level),s.replaces=n,s.eles=n.eles),!s.reqs)for(var o=0;o<s.eles.length;o++)e.queueLayer(s,s.eles[o])})};tn.enqueueElementRefinement=function(t){this.eleTxrDeqs.merge(t),this.scheduleElementRefinement()};tn.queueLayer=function(t,e){var r=this,n=r.layersQueue,i=t.elesQueue,a=i.hasId=i.hasId||{};if(!t.replacement){if(e){if(a[e.id()])return;i.push(e),a[e.id()]=!0}t.reqs?(t.reqs++,n.updateItem(t)):(t.reqs=1,n.push(t))}};tn.dequeue=function(t){for(var e=this,r=e.layersQueue,n=[],i=0;i<kW&&r.size()!==0;){var a=r.peek();if(a.replacement){r.pop();continue}if(a.replaces&&a!==a.replaces.replacement){r.pop();continue}if(a.invalid){r.pop();continue}var s=a.elesQueue.shift();s&&(e.drawEleInLayer(a,s,a.level,t),i++),n.length===0&&n.push(!0),a.elesQueue.length===0&&(r.pop(),a.reqs=0,a.replaces&&e.applyLayerReplacement(a),e.requestRedraw())}return n};tn.applyLayerReplacement=function(t){var e=this,r=e.layersByLevel[t.level],n=t.replaces,i=r.indexOf(n);if(!(i<0||n.invalid)){r[i]=t;for(var a=0;a<t.eles.length;a++){var s=t.eles[a]._private,o=s.imgLayerCaches=s.imgLayerCaches||{};o&&(o[t.level]=t)}e.requestRedraw()}};tn.requestRedraw=h0(function(){var t=this.renderer;t.redrawHint("eles",!0),t.redrawHint("drag",!0),t.redraw()},100);tn.setupDequeueing=TT.setupDequeueing({deqRedrawThreshold:yW,deqCost:bW,deqAvgCost:wW,deqNoDrawCost:_W,deqFastCost:SW,deq:function(e,r){return e.dequeue(r)},onDeqd:q2,shouldRedraw:gk,priority:function(e){return e.renderer.beforeRenderPriorities.lyrTxrDeq}});var MT={},i7;function MW(t,e){for(var r=0;r<e.length;r++){var n=e[r];t.lineTo(n.x,n.y)}}function PW(t,e,r){for(var n,i=0;i<e.length;i++){var a=e[i];i===0&&(n=a),t.lineTo(a.x,a.y)}t.quadraticCurveTo(r.x,r.y,n.x,n.y)}function a7(t,e,r){t.beginPath&&t.beginPath();for(var n=e,i=0;i<n.length;i++){var a=n[i];t.lineTo(a.x,a.y)}var s=r,o=r[0];t.moveTo(o.x,o.y);for(var i=1;i<s.length;i++){var a=s[i];t.lineTo(a.x,a.y)}t.closePath&&t.closePath()}function DW(t,e,r,n,i){t.beginPath&&t.beginPath(),t.arc(r,n,i,0,Math.PI*2,!1);var a=e,s=a[0];t.moveTo(s.x,s.y);for(var o=0;o<a.length;o++){var l=a[o];t.lineTo(l.x,l.y)}t.closePath&&t.closePath()}function AW(t,e,r,n){t.arc(e,r,n,0,Math.PI*2,!1)}MT.arrowShapeImpl=function(t){return(i7||(i7={polygon:MW,"triangle-backcurve":PW,"triangle-tee":a7,"circle-triangle":DW,"triangle-cross":a7,circle:AW}))[t]};var Wi={};Wi.drawElement=function(t,e,r,n,i,a){var s=this;e.isNode()?s.drawNode(t,e,r,n,i,a):s.drawEdge(t,e,r,n,i,a)};Wi.drawElementOverlay=function(t,e){var r=this;e.isNode()?r.drawNodeOverlay(t,e):r.drawEdgeOverlay(t,e)};Wi.drawElementUnderlay=function(t,e){var r=this;e.isNode()?r.drawNodeUnderlay(t,e):r.drawEdgeUnderlay(t,e)};Wi.drawCachedElementPortion=function(t,e,r,n,i,a,s,o){var l=this,u=r.getBoundingBox(e);if(!(u.w===0||u.h===0)){var c=r.getElement(e,u,n,i,a);if(c!=null){var f=o(l,e);if(f===0)return;var d=s(l,e),p=u.x1,g=u.y1,y=u.w,b=u.h,x,w,_,k,T;if(d!==0){var P=r.getRotationPoint(e);_=P.x,k=P.y,t.translate(_,k),t.rotate(d),T=l.getImgSmoothing(t),T||l.setImgSmoothing(t,!0);var M=r.getRotationOffset(e);x=M.x,w=M.y}else x=p,w=g;var A;f!==1&&(A=t.globalAlpha,t.globalAlpha=A*f),t.drawImage(c.texture.canvas,c.x,0,c.width,c.height,x,w,y,b),f!==1&&(t.globalAlpha=A),d!==0&&(t.rotate(-d),t.translate(-_,-k),T||l.setImgSmoothing(t,!1))}else r.drawElement(t,e)}};var IW=function(){return 0},LW=function(e,r){return e.getTextAngle(r,null)},RW=function(e,r){return e.getTextAngle(r,"source")},OW=function(e,r){return e.getTextAngle(r,"target")},NW=function(e,r){return r.effectiveOpacity()},sv=function(e,r){return r.pstyle("text-opacity").pfValue*r.effectiveOpacity()};Wi.drawCachedElement=function(t,e,r,n,i,a){var s=this,o=s.data,l=o.eleTxrCache,u=o.lblTxrCache,c=o.slbTxrCache,f=o.tlbTxrCache,d=e.boundingBox(),p=a===!0?l.reasons.highQuality:null;if(!(d.w===0||d.h===0||!e.visible())&&(!n||U2(d,n))){var g=e.isEdge(),y=e.element()._private.rscratch.badLine;s.drawElementUnderlay(t,e),s.drawCachedElementPortion(t,e,l,r,i,p,IW,NW),(!g||!y)&&s.drawCachedElementPortion(t,e,u,r,i,p,LW,sv),g&&!y&&(s.drawCachedElementPortion(t,e,c,r,i,p,RW,sv),s.drawCachedElementPortion(t,e,f,r,i,p,OW,sv)),s.drawElementOverlay(t,e)}};Wi.drawElements=function(t,e){for(var r=this,n=0;n<e.length;n++){var i=e[n];r.drawElement(t,i)}};Wi.drawCachedElements=function(t,e,r,n){for(var i=this,a=0;a<e.length;a++){var s=e[a];i.drawCachedElement(t,s,r,n)}};Wi.drawCachedNodes=function(t,e,r,n){for(var i=this,a=0;a<e.length;a++){var s=e[a];s.isNode()&&i.drawCachedElement(t,s,r,n)}};Wi.drawLayeredElements=function(t,e,r,n){var i=this,a=i.data.lyrTxrCache.getLayers(e,r);if(a)for(var s=0;s<a.length;s++){var o=a[s],l=o.bb;l.w===0||l.h===0||t.drawImage(o.canvas,l.x1,l.y1,l.w,l.h)}else i.drawCachedElements(t,e,r,n)};var Ta={};Ta.drawEdge=function(t,e,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,s=this,o=e._private.rscratch;if(!(a&&!e.visible())&&!(o.badLine||o.allpts==null||isNaN(o.allpts[0]))){var l;r&&(l=r,t.translate(-l.x1,-l.y1));var u=a?e.pstyle("opacity").value:1,c=a?e.pstyle("line-opacity").value:1,f=e.pstyle("curve-style").value,d=e.pstyle("line-style").value,p=e.pstyle("width").pfValue,g=e.pstyle("line-cap").value,y=e.pstyle("line-outline-width").value,b=e.pstyle("line-outline-color").value,x=u*c,w=u*c,_=function(){var X=arguments.length>0&&arguments[0]!==void 0?arguments[0]:x;f==="straight-triangle"?(s.eleStrokeStyle(t,e,X),s.drawEdgeTrianglePath(e,t,o.allpts)):(t.lineWidth=p,t.lineCap=g,s.eleStrokeStyle(t,e,X),s.drawEdgePath(e,t,o.allpts,d),t.lineCap="butt")},k=function(){var X=arguments.length>0&&arguments[0]!==void 0?arguments[0]:x;if(t.lineWidth=p+y,t.lineCap=g,y>0)s.colorStrokeStyle(t,b[0],b[1],b[2],X);else{t.lineCap="butt";return}f==="straight-triangle"?s.drawEdgeTrianglePath(e,t,o.allpts):(s.drawEdgePath(e,t,o.allpts,d),t.lineCap="butt")},T=function(){i&&s.drawEdgeOverlay(t,e)},P=function(){i&&s.drawEdgeUnderlay(t,e)},M=function(){var X=arguments.length>0&&arguments[0]!==void 0?arguments[0]:w;s.drawArrowheads(t,e,X)},A=function(){s.drawElementText(t,e,null,n)};t.lineJoin="round";var L=e.pstyle("ghost").value==="yes";if(L){var R=e.pstyle("ghost-offset-x").pfValue,N=e.pstyle("ghost-offset-y").pfValue,F=e.pstyle("ghost-opacity").value,$=x*F;t.translate(R,N),_($),M($),t.translate(-R,-N)}else k();P(),_(),M(),T(),A(),r&&t.translate(l.x1,l.y1)}};var PT=function(e){if(!["overlay","underlay"].includes(e))throw new Error("Invalid state");return function(r,n){if(n.visible()){var i=n.pstyle("".concat(e,"-opacity")).value;if(i!==0){var a=this,s=a.usePaths(),o=n._private.rscratch,l=n.pstyle("".concat(e,"-padding")).pfValue,u=2*l,c=n.pstyle("".concat(e,"-color")).value;r.lineWidth=u,o.edgeType==="self"&&!s?r.lineCap="butt":r.lineCap="round",a.colorStrokeStyle(r,c[0],c[1],c[2],i),a.drawEdgePath(n,r,o.allpts,"solid")}}}};Ta.drawEdgeOverlay=PT("overlay");Ta.drawEdgeUnderlay=PT("underlay");Ta.drawEdgePath=function(t,e,r,n){var i=t._private.rscratch,a=e,s,o=!1,l=this.usePaths(),u=t.pstyle("line-dash-pattern").pfValue,c=t.pstyle("line-dash-offset").pfValue;if(l){var f=r.join("$"),d=i.pathCacheKey&&i.pathCacheKey===f;d?(s=e=i.pathCache,o=!0):(s=e=new Path2D,i.pathCacheKey=f,i.pathCache=s)}if(a.setLineDash)switch(n){case"dotted":a.setLineDash([1,1]);break;case"dashed":a.setLineDash(u),a.lineDashOffset=c;break;case"solid":a.setLineDash([]);break}if(!o&&!i.badLine)switch(e.beginPath&&e.beginPath(),e.moveTo(r[0],r[1]),i.edgeType){case"bezier":case"self":case"compound":case"multibezier":for(var p=2;p+3<r.length;p+=4)e.quadraticCurveTo(r[p],r[p+1],r[p+2],r[p+3]);break;case"straight":case"haystack":for(var g=2;g+1<r.length;g+=2)e.lineTo(r[g],r[g+1]);break;case"segments":if(i.isRound){var y=yi(i.roundCorners),b;try{for(y.s();!(b=y.n()).done;){var x=b.value;vT(e,x)}}catch(_){y.e(_)}finally{y.f()}e.lineTo(r[r.length-2],r[r.length-1])}else for(var w=2;w+1<r.length;w+=2)e.lineTo(r[w],r[w+1]);break}e=a,l?e.stroke(s):e.stroke(),e.setLineDash&&e.setLineDash([])};Ta.drawEdgeTrianglePath=function(t,e,r){e.fillStyle=e.strokeStyle;for(var n=t.pstyle("width").pfValue,i=0;i+1<r.length;i+=2){var a=[r[i+2]-r[i],r[i+3]-r[i+1]],s=Math.sqrt(a[0]*a[0]+a[1]*a[1]),o=[a[1]/s,-a[0]/s],l=[o[0]*n/2,o[1]*n/2];e.beginPath(),e.moveTo(r[i]-l[0],r[i+1]-l[1]),e.lineTo(r[i]+l[0],r[i+1]+l[1]),e.lineTo(r[i+2],r[i+3]),e.closePath(),e.fill()}};Ta.drawArrowheads=function(t,e,r){var n=e._private.rscratch,i=n.edgeType==="haystack";i||this.drawArrowhead(t,e,"source",n.arrowStartX,n.arrowStartY,n.srcArrowAngle,r),this.drawArrowhead(t,e,"mid-target",n.midX,n.midY,n.midtgtArrowAngle,r),this.drawArrowhead(t,e,"mid-source",n.midX,n.midY,n.midsrcArrowAngle,r),i||this.drawArrowhead(t,e,"target",n.arrowEndX,n.arrowEndY,n.tgtArrowAngle,r)};Ta.drawArrowhead=function(t,e,r,n,i,a,s){if(!(isNaN(n)||n==null||isNaN(i)||i==null||isNaN(a)||a==null)){var o=this,l=e.pstyle(r+"-arrow-shape").value;if(l!=="none"){var u=e.pstyle(r+"-arrow-fill").value==="hollow"?"both":"filled",c=e.pstyle(r+"-arrow-fill").value,f=e.pstyle("width").pfValue,d=e.pstyle(r+"-arrow-width"),p=d.value==="match-line"?f:d.pfValue;d.units==="%"&&(p*=f);var g=e.pstyle("opacity").value;s===void 0&&(s=g);var y=t.globalCompositeOperation;(s!==1||c==="hollow")&&(t.globalCompositeOperation="destination-out",o.colorFillStyle(t,255,255,255,1),o.colorStrokeStyle(t,255,255,255,1),o.drawArrowShape(e,t,u,f,l,p,n,i,a),t.globalCompositeOperation=y);var b=e.pstyle(r+"-arrow-color").value;o.colorFillStyle(t,b[0],b[1],b[2],s),o.colorStrokeStyle(t,b[0],b[1],b[2],s),o.drawArrowShape(e,t,c,f,l,p,n,i,a)}}};Ta.drawArrowShape=function(t,e,r,n,i,a,s,o,l){var u=this,c=this.usePaths()&&i!=="triangle-cross",f=!1,d,p=e,g={x:s,y:o},y=t.pstyle("arrow-scale").value,b=this.getArrowWidth(n,y),x=u.arrowShapes[i];if(c){var w=u.arrowPathCache=u.arrowPathCache||[],_=ds(i),k=w[_];k!=null?(d=e=k,f=!0):(d=e=new Path2D,w[_]=d)}f||(e.beginPath&&e.beginPath(),c?x.draw(e,1,0,{x:0,y:0},1):x.draw(e,b,l,g,n),e.closePath&&e.closePath()),e=p,c&&(e.translate(s,o),e.rotate(l),e.scale(b,b)),(r==="filled"||r==="both")&&(c?e.fill(d):e.fill()),(r==="hollow"||r==="both")&&(e.lineWidth=a/(c?b:1),e.lineJoin="miter",c?e.stroke(d):e.stroke()),c&&(e.scale(1/b,1/b),e.rotate(-l),e.translate(-s,-o))};var a4={};a4.safeDrawImage=function(t,e,r,n,i,a,s,o,l,u){if(!(i<=0||a<=0||l<=0||u<=0))try{t.drawImage(e,r,n,i,a,s,o,l,u)}catch(c){It(c)}};a4.drawInscribedImage=function(t,e,r,n,i){var a=this,s=r.position(),o=s.x,l=s.y,u=r.cy().style(),c=u.getIndexedStyle.bind(u),f=c(r,"background-fit","value",n),d=c(r,"background-repeat","value",n),p=r.width(),g=r.height(),y=r.padding()*2,b=p+(c(r,"background-width-relative-to","value",n)==="inner"?0:y),x=g+(c(r,"background-height-relative-to","value",n)==="inner"?0:y),w=r._private.rscratch,_=c(r,"background-clip","value",n),k=_==="node",T=c(r,"background-image-opacity","value",n)*i,P=c(r,"background-image-smoothing","value",n),M=r.pstyle("corner-radius").value;M!=="auto"&&(M=r.pstyle("corner-radius").pfValue);var A=e.width||e.cachedW,L=e.height||e.cachedH;(A==null||L==null)&&(document.body.appendChild(e),A=e.cachedW=e.width||e.offsetWidth,L=e.cachedH=e.height||e.offsetHeight,document.body.removeChild(e));var R=A,N=L;if(c(r,"background-width","value",n)!=="auto"&&(c(r,"background-width","units",n)==="%"?R=c(r,"background-width","pfValue",n)*b:R=c(r,"background-width","pfValue",n)),c(r,"background-height","value",n)!=="auto"&&(c(r,"background-height","units",n)==="%"?N=c(r,"background-height","pfValue",n)*x:N=c(r,"background-height","pfValue",n)),!(R===0||N===0)){if(f==="contain"){var F=Math.min(b/R,x/N);R*=F,N*=F}else if(f==="cover"){var F=Math.max(b/R,x/N);R*=F,N*=F}var $=o-b/2,V=c(r,"background-position-x","units",n),X=c(r,"background-position-x","pfValue",n);V==="%"?$+=(b-R)*X:$+=X;var K=c(r,"background-offset-x","units",n),W=c(r,"background-offset-x","pfValue",n);K==="%"?$+=(b-R)*W:$+=W;var H=l-x/2,ee=c(r,"background-position-y","units",n),re=c(r,"background-position-y","pfValue",n);ee==="%"?H+=(x-N)*re:H+=re;var G=c(r,"background-offset-y","units",n),Z=c(r,"background-offset-y","pfValue",n);G==="%"?H+=(x-N)*Z:H+=Z,w.pathCache&&($-=o,H-=l,o=0,l=0);var ue=t.globalAlpha;t.globalAlpha=T;var pe=a.getImgSmoothing(t),ge=!1;if(P==="no"&&pe?(a.setImgSmoothing(t,!1),ge=!0):P==="yes"&&!pe&&(a.setImgSmoothing(t,!0),ge=!0),d==="no-repeat")k&&(t.save(),w.pathCache?t.clip(w.pathCache):(a.nodeShapes[a.getNodeShape(r)].draw(t,o,l,b,x,M,w),t.clip())),a.safeDrawImage(t,e,0,0,A,L,$,H,R,N),k&&t.restore();else{var fe=t.createPattern(e,d);t.fillStyle=fe,a.nodeShapes[a.getNodeShape(r)].draw(t,o,l,b,x,M,w),t.translate($,H),t.fill(),t.translate(-$,-H)}t.globalAlpha=ue,ge&&a.setImgSmoothing(t,pe)}};var So={};So.eleTextBiggerThanMin=function(t,e){if(!e){var r=t.cy().zoom(),n=this.getPixelRatio(),i=Math.ceil(V2(r*n));e=Math.pow(2,i)}var a=t.pstyle("font-size").pfValue*e,s=t.pstyle("min-zoomed-font-size").pfValue;return!(a<s)};So.drawElementText=function(t,e,r,n,i){var a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,s=this;if(n==null){if(a&&!s.eleTextBiggerThanMin(e))return}else if(n===!1)return;if(e.isNode()){var o=e.pstyle("label");if(!o||!o.value)return;var l=s.getLabelJustification(e);t.textAlign=l,t.textBaseline="bottom"}else{var u=e.element()._private.rscratch.badLine,c=e.pstyle("label"),f=e.pstyle("source-label"),d=e.pstyle("target-label");if(u||(!c||!c.value)&&(!f||!f.value)&&(!d||!d.value))return;t.textAlign="center",t.textBaseline="bottom"}var p=!r,g;r&&(g=r,t.translate(-g.x1,-g.y1)),i==null?(s.drawText(t,e,null,p,a),e.isEdge()&&(s.drawText(t,e,"source",p,a),s.drawText(t,e,"target",p,a))):s.drawText(t,e,i,p,a),r&&t.translate(g.x1,g.y1)};So.getFontCache=function(t){var e;this.fontCaches=this.fontCaches||[];for(var r=0;r<this.fontCaches.length;r++)if(e=this.fontCaches[r],e.context===t)return e;return e={context:t},this.fontCaches.push(e),e};So.setupTextStyle=function(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,n=e.pstyle("font-style").strValue,i=e.pstyle("font-size").pfValue+"px",a=e.pstyle("font-family").strValue,s=e.pstyle("font-weight").strValue,o=r?e.effectiveOpacity()*e.pstyle("text-opacity").value:1,l=e.pstyle("text-outline-opacity").value*o,u=e.pstyle("color").value,c=e.pstyle("text-outline-color").value;t.font=n+" "+s+" "+i+" "+a,t.lineJoin="round",this.colorFillStyle(t,u[0],u[1],u[2],o),this.colorStrokeStyle(t,c[0],c[1],c[2],l)};function ov(t,e,r,n,i){var a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:5,s=arguments.length>6?arguments[6]:void 0;t.beginPath(),t.moveTo(e+a,r),t.lineTo(e+n-a,r),t.quadraticCurveTo(e+n,r,e+n,r+a),t.lineTo(e+n,r+i-a),t.quadraticCurveTo(e+n,r+i,e+n-a,r+i),t.lineTo(e+a,r+i),t.quadraticCurveTo(e,r+i,e,r+i-a),t.lineTo(e,r+a),t.quadraticCurveTo(e,r,e+a,r),t.closePath(),s?t.stroke():t.fill()}So.getTextAngle=function(t,e){var r,n=t._private,i=n.rscratch,a=e?e+"-":"",s=t.pstyle(a+"text-rotation");if(s.strValue==="autorotate"){var o=ii(i,"labelAngle",e);r=t.isEdge()?o:0}else s.strValue==="none"?r=0:r=s.pfValue;return r};So.drawText=function(t,e,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,a=e._private,s=a.rscratch,o=i?e.effectiveOpacity():1;if(!(i&&(o===0||e.pstyle("text-opacity").value===0))){r==="main"&&(r=null);var l=ii(s,"labelX",r),u=ii(s,"labelY",r),c,f,d=this.getLabelText(e,r);if(d!=null&&d!==""&&!isNaN(l)&&!isNaN(u)){this.setupTextStyle(t,e,i);var p=r?r+"-":"",g=ii(s,"labelWidth",r),y=ii(s,"labelHeight",r),b=e.pstyle(p+"text-margin-x").pfValue,x=e.pstyle(p+"text-margin-y").pfValue,w=e.isEdge(),_=e.pstyle("text-halign").value,k=e.pstyle("text-valign").value;w&&(_="center",k="center"),l+=b,u+=x;var T;switch(n?T=this.getTextAngle(e,r):T=0,T!==0&&(c=l,f=u,t.translate(c,f),t.rotate(T),l=0,u=0),k){case"top":break;case"center":u+=y/2;break;case"bottom":u+=y;break}var P=e.pstyle("text-background-opacity").value,M=e.pstyle("text-border-opacity").value,A=e.pstyle("text-border-width").pfValue,L=e.pstyle("text-background-padding").pfValue,R=e.pstyle("text-background-shape").strValue,N=R.indexOf("round")===0,F=2;if(P>0||A>0&&M>0){var $=l-L;switch(_){case"left":$-=g;break;case"center":$-=g/2;break}var V=u-y-L,X=g+2*L,K=y+2*L;if(P>0){var W=t.fillStyle,H=e.pstyle("text-background-color").value;t.fillStyle="rgba("+H[0]+","+H[1]+","+H[2]+","+P*o+")",N?ov(t,$,V,X,K,F):t.fillRect($,V,X,K),t.fillStyle=W}if(A>0&&M>0){var ee=t.strokeStyle,re=t.lineWidth,G=e.pstyle("text-border-color").value,Z=e.pstyle("text-border-style").value;if(t.strokeStyle="rgba("+G[0]+","+G[1]+","+G[2]+","+M*o+")",t.lineWidth=A,t.setLineDash)switch(Z){case"dotted":t.setLineDash([1,1]);break;case"dashed":t.setLineDash([4,2]);break;case"double":t.lineWidth=A/4,t.setLineDash([]);break;case"solid":t.setLineDash([]);break}if(N?ov(t,$,V,X,K,F,"stroke"):t.strokeRect($,V,X,K),Z==="double"){var ue=A/2;N?ov(t,$+ue,V+ue,X-ue*2,K-ue*2,F,"stroke"):t.strokeRect($+ue,V+ue,X-ue*2,K-ue*2)}t.setLineDash&&t.setLineDash([]),t.lineWidth=re,t.strokeStyle=ee}}var pe=2*e.pstyle("text-outline-width").pfValue;if(pe>0&&(t.lineWidth=pe),e.pstyle("text-wrap").value==="wrap"){var ge=ii(s,"labelWrapCachedLines",r),fe=ii(s,"labelLineHeight",r),Se=g/2,Te=this.getLabelJustification(e);switch(Te==="auto"||(_==="left"?Te==="left"?l+=-g:Te==="center"&&(l+=-Se):_==="center"?Te==="left"?l+=-Se:Te==="right"&&(l+=Se):_==="right"&&(Te==="center"?l+=Se:Te==="right"&&(l+=g))),k){case"top":u-=(ge.length-1)*fe;break;case"center":case"bottom":u-=(ge.length-1)*fe;break}for(var ve=0;ve<ge.length;ve++)pe>0&&t.strokeText(ge[ve],l,u),t.fillText(ge[ve],l,u),u+=fe}else pe>0&&t.strokeText(d,l,u),t.fillText(d,l,u);T!==0&&(t.rotate(-T),t.translate(-c,-f))}}};var ru={};ru.drawNode=function(t,e,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,s=this,o,l,u=e._private,c=u.rscratch,f=e.position();if(!(!Ne(f.x)||!Ne(f.y))&&!(a&&!e.visible())){var d=a?e.effectiveOpacity():1,p=s.usePaths(),g,y=!1,b=e.padding();o=e.width()+2*b,l=e.height()+2*b;var x;r&&(x=r,t.translate(-x.x1,-x.y1));for(var w=e.pstyle("background-image"),_=w.value,k=new Array(_.length),T=new Array(_.length),P=0,M=0;M<_.length;M++){var A=_[M],L=k[M]=A!=null&&A!=="none";if(L){var R=e.cy().style().getIndexedStyle(e,"background-image-crossorigin","value",M);P++,T[M]=s.getCachedImage(A,R,function(){u.backgroundTimestamp=Date.now(),e.emitAndNotify("background")})}}var N=e.pstyle("background-blacken").value,F=e.pstyle("border-width").pfValue,$=e.pstyle("background-opacity").value*d,V=e.pstyle("border-color").value,X=e.pstyle("border-style").value,K=e.pstyle("border-join").value,W=e.pstyle("border-cap").value,H=e.pstyle("border-position").value,ee=e.pstyle("border-dash-pattern").pfValue,re=e.pstyle("border-dash-offset").pfValue,G=e.pstyle("border-opacity").value*d,Z=e.pstyle("outline-width").pfValue,ue=e.pstyle("outline-color").value,pe=e.pstyle("outline-style").value,ge=e.pstyle("outline-opacity").value*d,fe=e.pstyle("outline-offset").value,Se=e.pstyle("corner-radius").value;Se!=="auto"&&(Se=e.pstyle("corner-radius").pfValue);var Te=function(){var oe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:$;s.eleFillStyle(t,e,oe)},ve=function(){var oe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:G;s.colorStrokeStyle(t,V[0],V[1],V[2],oe)},se=function(){var oe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:ge;s.colorStrokeStyle(t,ue[0],ue[1],ue[2],oe)},ye=function(oe,he,Oe,ke){var Pe=s.nodePathCache=s.nodePathCache||[],be=pk(Oe==="polygon"?Oe+","+ke.join(","):Oe,""+he,""+oe,""+Se),Je=Pe[be],Ue,nt=!1;return Je!=null?(Ue=Je,nt=!0,c.pathCache=Ue):(Ue=new Path2D,Pe[be]=c.pathCache=Ue),{path:Ue,cacheHit:nt}},we=e.pstyle("shape").strValue,Re=e.pstyle("shape-polygon-points").pfValue;if(p){t.translate(f.x,f.y);var Ve=ye(o,l,we,Re);g=Ve.path,y=Ve.cacheHit}var st=function(){if(!y){var oe=f;p&&(oe={x:0,y:0}),s.nodeShapes[s.getNodeShape(e)].draw(g||t,oe.x,oe.y,o,l,Se,c)}p?t.fill(g):t.fill()},Lt=function(){for(var oe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:d,he=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,Oe=u.backgrounding,ke=0,Pe=0;Pe<T.length;Pe++){var be=e.cy().style().getIndexedStyle(e,"background-image-containment","value",Pe);if(he&&be==="over"||!he&&be==="inside"){ke++;continue}k[Pe]&&T[Pe].complete&&!T[Pe].error&&(ke++,s.drawInscribedImage(t,T[Pe],e,Pe,oe))}u.backgrounding=ke!==P,Oe!==u.backgrounding&&e.updateStyle(!1)},Et=function(){var oe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,he=arguments.length>1&&arguments[1]!==void 0?arguments[1]:d;s.hasPie(e)&&(s.drawPie(t,e,he),oe&&(p||s.nodeShapes[s.getNodeShape(e)].draw(t,f.x,f.y,o,l,Se,c)))},Be=function(){var oe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:d,he=(N>0?N:-N)*oe,Oe=N>0?0:255;N!==0&&(s.colorFillStyle(t,Oe,Oe,Oe,he),p?t.fill(g):t.fill())},ze=function(){if(F>0){if(t.lineWidth=F,t.lineCap=W,t.lineJoin=K,t.setLineDash)switch(X){case"dotted":t.setLineDash([1,1]);break;case"dashed":t.setLineDash(ee),t.lineDashOffset=re;break;case"solid":case"double":t.setLineDash([]);break}if(H!=="center"){if(t.save(),t.lineWidth*=2,H==="inside")p?t.clip(g):t.clip();else{var oe=new Path2D;oe.rect(-o/2-F,-l/2-F,o+2*F,l+2*F),oe.addPath(g),t.clip(oe,"evenodd")}p?t.stroke(g):t.stroke(),t.restore()}else p?t.stroke(g):t.stroke();if(X==="double"){t.lineWidth=F/3;var he=t.globalCompositeOperation;t.globalCompositeOperation="destination-out",p?t.stroke(g):t.stroke(),t.globalCompositeOperation=he}t.setLineDash&&t.setLineDash([])}},Ye=function(){if(Z>0){if(t.lineWidth=Z,t.lineCap="butt",t.setLineDash)switch(pe){case"dotted":t.setLineDash([1,1]);break;case"dashed":t.setLineDash([4,2]);break;case"solid":case"double":t.setLineDash([]);break}var oe=f;p&&(oe={x:0,y:0});var he=s.getNodeShape(e),Oe=F;H==="inside"&&(Oe=0),H==="outside"&&(Oe*=2);var ke=(o+Oe+(Z+fe))/o,Pe=(l+Oe+(Z+fe))/l,be=o*ke,Je=l*Pe,Ue=s.nodeShapes[he].points,nt;if(p){var it=ye(be,Je,he,Ue);nt=it.path}if(he==="ellipse")s.drawEllipsePath(nt||t,oe.x,oe.y,be,Je);else if(["round-diamond","round-heptagon","round-hexagon","round-octagon","round-pentagon","round-polygon","round-triangle","round-tag"].includes(he)){var Xe=0,Pt=0,Kt=0;he==="round-diamond"?Xe=(Oe+fe+Z)*1.4:he==="round-heptagon"?(Xe=(Oe+fe+Z)*1.075,Kt=-(Oe/2+fe+Z)/35):he==="round-hexagon"?Xe=(Oe+fe+Z)*1.12:he==="round-pentagon"?(Xe=(Oe+fe+Z)*1.13,Kt=-(Oe/2+fe+Z)/15):he==="round-tag"?(Xe=(Oe+fe+Z)*1.12,Pt=(Oe/2+Z+fe)*.07):he==="round-triangle"&&(Xe=(Oe+fe+Z)*(Math.PI/2),Kt=-(Oe+fe/2+Z)/Math.PI),Xe!==0&&(ke=(o+Xe)/o,be=o*ke,["round-hexagon","round-tag"].includes(he)||(Pe=(l+Xe)/l,Je=l*Pe)),Se=Se==="auto"?Tk(be,Je):Se;for(var dn=be/2,Vt=Je/2,Rt=Se+(Oe+Z+fe)/2,$t=new Array(Ue.length/2),dr=new Array(Ue.length/2),zr=0;zr<Ue.length/2;zr++)$t[zr]={x:oe.x+Pt+dn*Ue[zr*2],y:oe.y+Kt+Vt*Ue[zr*2+1]};var Gr,Yn,kn,hn,yt=$t.length;for(Yn=$t[yt-1],Gr=0;Gr<yt;Gr++)kn=$t[Gr%yt],hn=$t[(Gr+1)%yt],dr[Gr]=n4(Yn,kn,hn,Rt),Yn=kn,kn=hn;s.drawRoundPolygonPath(nt||t,oe.x+Pt,oe.y+Kt,o*ke,l*Pe,Ue,dr)}else if(["roundrectangle","round-rectangle"].includes(he))Se=Se==="auto"?fo(be,Je):Se,s.drawRoundRectanglePath(nt||t,oe.x,oe.y,be,Je,Se+(Oe+Z+fe)/2);else if(["cutrectangle","cut-rectangle"].includes(he))Se=Se==="auto"?W2():Se,s.drawCutRectanglePath(nt||t,oe.x,oe.y,be,Je,null,Se+(Oe+Z+fe)/4);else if(["bottomroundrectangle","bottom-round-rectangle"].includes(he))Se=Se==="auto"?fo(be,Je):Se,s.drawBottomRoundRectanglePath(nt||t,oe.x,oe.y,be,Je,Se+(Oe+Z+fe)/2);else if(he==="barrel")s.drawBarrelPath(nt||t,oe.x,oe.y,be,Je);else if(he.startsWith("polygon")||["rhomboid","right-rhomboid","round-tag","tag","vee"].includes(he)){var C=(Oe+Z+fe)/o;Ue=oh(lh(Ue,C)),s.drawPolygonPath(nt||t,oe.x,oe.y,o,l,Ue)}else{var D=(Oe+Z+fe)/o;Ue=oh(lh(Ue,-D)),s.drawPolygonPath(nt||t,oe.x,oe.y,o,l,Ue)}if(p?t.stroke(nt):t.stroke(),pe==="double"){t.lineWidth=Oe/3;var _e=t.globalCompositeOperation;t.globalCompositeOperation="destination-out",p?t.stroke(nt):t.stroke(),t.globalCompositeOperation=_e}t.setLineDash&&t.setLineDash([])}},rt=function(){i&&s.drawNodeOverlay(t,e,f,o,l)},Ze=function(){i&&s.drawNodeUnderlay(t,e,f,o,l)},tt=function(){s.drawElementText(t,e,null,n)},at=e.pstyle("ghost").value==="yes";if(at){var ut=e.pstyle("ghost-offset-x").pfValue,Me=e.pstyle("ghost-offset-y").pfValue,U=e.pstyle("ghost-opacity").value,le=U*d;t.translate(ut,Me),se(),Ye(),Te(U*$),st(),Lt(le,!0),ve(U*G),ze(),Et(N!==0||F!==0),Lt(le,!1),Be(le),t.translate(-ut,-Me)}p&&t.translate(-f.x,-f.y),Ze(),p&&t.translate(f.x,f.y),se(),Ye(),Te(),st(),Lt(d,!0),ve(),ze(),Et(N!==0||F!==0),Lt(d,!1),Be(),p&&t.translate(-f.x,-f.y),tt(),rt(),r&&t.translate(x.x1,x.y1)}};var DT=function(e){if(!["overlay","underlay"].includes(e))throw new Error("Invalid state");return function(r,n,i,a,s){var o=this;if(n.visible()){var l=n.pstyle("".concat(e,"-padding")).pfValue,u=n.pstyle("".concat(e,"-opacity")).value,c=n.pstyle("".concat(e,"-color")).value,f=n.pstyle("".concat(e,"-shape")).value,d=n.pstyle("".concat(e,"-corner-radius")).value;if(u>0){if(i=i||n.position(),a==null||s==null){var p=n.padding();a=n.width()+2*p,s=n.height()+2*p}o.colorFillStyle(r,c[0],c[1],c[2],u),o.nodeShapes[f].draw(r,i.x,i.y,a+l*2,s+l*2,d),r.fill()}}}};ru.drawNodeOverlay=DT("overlay");ru.drawNodeUnderlay=DT("underlay");ru.hasPie=function(t){return t=t[0],t._private.hasPie};ru.drawPie=function(t,e,r,n){e=e[0],n=n||e.position();var i=e.cy().style(),a=e.pstyle("pie-size"),s=n.x,o=n.y,l=e.width(),u=e.height(),c=Math.min(l,u)/2,f=0,d=this.usePaths();d&&(s=0,o=0),a.units==="%"?c=c*a.pfValue:a.pfValue!==void 0&&(c=a.pfValue/2);for(var p=1;p<=i.pieBackgroundN;p++){var g=e.pstyle("pie-"+p+"-background-size").value,y=e.pstyle("pie-"+p+"-background-color").value,b=e.pstyle("pie-"+p+"-background-opacity").value*r,x=g/100;x+f>1&&(x=1-f);var w=1.5*Math.PI+2*Math.PI*f,_=2*Math.PI*x,k=w+_;g===0||f>=1||f+x>1||(t.beginPath(),t.moveTo(s,o),t.arc(s,o,c,w,k),t.closePath(),this.colorFillStyle(t,y[0],y[1],y[2],b),t.fill(),f+=x)}};var Sn={},zW=100;Sn.getPixelRatio=function(){var t=this.data.contexts[0];if(this.forcedPixelRatio!=null)return this.forcedPixelRatio;var e=this.cy.window(),r=t.backingStorePixelRatio||t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1;return(e.devicePixelRatio||1)/r};Sn.paintCache=function(t){for(var e=this.paintCaches=this.paintCaches||[],r=!0,n,i=0;i<e.length;i++)if(n=e[i],n.context===t){r=!1;break}return r&&(n={context:t},e.push(n)),n};Sn.createGradientStyleFor=function(t,e,r,n,i){var a,s=this.usePaths(),o=r.pstyle(e+"-gradient-stop-colors").value,l=r.pstyle(e+"-gradient-stop-positions").pfValue;if(n==="radial-gradient")if(r.isEdge()){var u=r.sourceEndpoint(),c=r.targetEndpoint(),f=r.midpoint(),d=co(u,f),p=co(c,f);a=t.createRadialGradient(f.x,f.y,0,f.x,f.y,Math.max(d,p))}else{var g=s?{x:0,y:0}:r.position(),y=r.paddedWidth(),b=r.paddedHeight();a=t.createRadialGradient(g.x,g.y,0,g.x,g.y,Math.max(y,b))}else if(r.isEdge()){var x=r.sourceEndpoint(),w=r.targetEndpoint();a=t.createLinearGradient(x.x,x.y,w.x,w.y)}else{var _=s?{x:0,y:0}:r.position(),k=r.paddedWidth(),T=r.paddedHeight(),P=k/2,M=T/2,A=r.pstyle("background-gradient-direction").value;switch(A){case"to-bottom":a=t.createLinearGradient(_.x,_.y-M,_.x,_.y+M);break;case"to-top":a=t.createLinearGradient(_.x,_.y+M,_.x,_.y-M);break;case"to-left":a=t.createLinearGradient(_.x+P,_.y,_.x-P,_.y);break;case"to-right":a=t.createLinearGradient(_.x-P,_.y,_.x+P,_.y);break;case"to-bottom-right":case"to-right-bottom":a=t.createLinearGradient(_.x-P,_.y-M,_.x+P,_.y+M);break;case"to-top-right":case"to-right-top":a=t.createLinearGradient(_.x-P,_.y+M,_.x+P,_.y-M);break;case"to-bottom-left":case"to-left-bottom":a=t.createLinearGradient(_.x+P,_.y-M,_.x-P,_.y+M);break;case"to-top-left":case"to-left-top":a=t.createLinearGradient(_.x+P,_.y+M,_.x-P,_.y-M);break}}if(!a)return null;for(var L=l.length===o.length,R=o.length,N=0;N<R;N++)a.addColorStop(L?l[N]:N/(R-1),"rgba("+o[N][0]+","+o[N][1]+","+o[N][2]+","+i+")");return a};Sn.gradientFillStyle=function(t,e,r,n){var i=this.createGradientStyleFor(t,"background",e,r,n);if(!i)return null;t.fillStyle=i};Sn.colorFillStyle=function(t,e,r,n,i){t.fillStyle="rgba("+e+","+r+","+n+","+i+")"};Sn.eleFillStyle=function(t,e,r){var n=e.pstyle("background-fill").value;if(n==="linear-gradient"||n==="radial-gradient")this.gradientFillStyle(t,e,n,r);else{var i=e.pstyle("background-color").value;this.colorFillStyle(t,i[0],i[1],i[2],r)}};Sn.gradientStrokeStyle=function(t,e,r,n){var i=this.createGradientStyleFor(t,"line",e,r,n);if(!i)return null;t.strokeStyle=i};Sn.colorStrokeStyle=function(t,e,r,n,i){t.strokeStyle="rgba("+e+","+r+","+n+","+i+")"};Sn.eleStrokeStyle=function(t,e,r){var n=e.pstyle("line-fill").value;if(n==="linear-gradient"||n==="radial-gradient")this.gradientStrokeStyle(t,e,n,r);else{var i=e.pstyle("line-color").value;this.colorStrokeStyle(t,i[0],i[1],i[2],r)}};Sn.matchCanvasSize=function(t){var e=this,r=e.data,n=e.findContainerClientCoords(),i=n[2],a=n[3],s=e.getPixelRatio(),o=e.motionBlurPxRatio;(t===e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_NODE]||t===e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_DRAG])&&(s=o);var l=i*s,u=a*s,c;if(!(l===e.canvasWidth&&u===e.canvasHeight)){e.fontCaches=null;var f=r.canvasContainer;f.style.width=i+"px",f.style.height=a+"px";for(var d=0;d<e.CANVAS_LAYERS;d++)c=r.canvases[d],c.width=l,c.height=u,c.style.width=i+"px",c.style.height=a+"px";for(var d=0;d<e.BUFFER_COUNT;d++)c=r.bufferCanvases[d],c.width=l,c.height=u,c.style.width=i+"px",c.style.height=a+"px";e.textureMult=1,s<=1&&(c=r.bufferCanvases[e.TEXTURE_BUFFER],e.textureMult=2,c.width=l*e.textureMult,c.height=u*e.textureMult),e.canvasWidth=l,e.canvasHeight=u,e.pixelRatio=s}};Sn.renderTo=function(t,e,r,n){this.render({forcedContext:t,forcedZoom:e,forcedPan:r,drawAllLayers:!0,forcedPxRatio:n})};Sn.clearCanvas=function(){var t=this,e=t.data;function r(n){n.clearRect(0,0,t.canvasWidth,t.canvasHeight)}r(e.contexts[t.NODE]),r(e.contexts[t.DRAG])};Sn.render=function(t){var e=this;t=t||yk();var r=e.cy,n=t.forcedContext,i=t.drawAllLayers,a=t.drawOnlyNodeLayer,s=t.forcedZoom,o=t.forcedPan,l=t.forcedPxRatio===void 0?this.getPixelRatio():t.forcedPxRatio,u=e.data,c=u.canvasNeedsRedraw,f=e.textureOnViewport&&!n&&(e.pinching||e.hoverData.dragging||e.swipePanning||e.data.wheelZooming),d=t.motionBlur!==void 0?t.motionBlur:e.motionBlur,p=e.motionBlurPxRatio,g=r.hasCompoundNodes(),y=e.hoverData.draggingEles,b=!!(e.hoverData.selecting||e.touchData.selecting);d=d&&!n&&e.motionBlurEnabled&&!b;var x=d;n||(e.prevPxRatio!==l&&(e.invalidateContainerClientCoordsCache(),e.matchCanvasSize(e.container),e.redrawHint("eles",!0),e.redrawHint("drag",!0)),e.prevPxRatio=l),!n&&e.motionBlurTimeout&&clearTimeout(e.motionBlurTimeout),d&&(e.mbFrames==null&&(e.mbFrames=0),e.mbFrames++,e.mbFrames<3&&(x=!1),e.mbFrames>e.minMbLowQualFrames&&(e.motionBlurPxRatio=e.mbPxRBlurry)),e.clearingMotionBlur&&(e.motionBlurPxRatio=1),e.textureDrawLastFrame&&!f&&(c[e.NODE]=!0,c[e.SELECT_BOX]=!0);var w=r.style(),_=r.zoom(),k=s!==void 0?s:_,T=r.pan(),P={x:T.x,y:T.y},M={zoom:_,pan:{x:T.x,y:T.y}},A=e.prevViewport,L=A===void 0||M.zoom!==A.zoom||M.pan.x!==A.pan.x||M.pan.y!==A.pan.y;!L&&!(y&&!g)&&(e.motionBlurPxRatio=1),o&&(P=o),k*=l,P.x*=l,P.y*=l;var R=e.getCachedZSortedEles();function N(ve,se,ye,we,Re){var Ve=ve.globalCompositeOperation;ve.globalCompositeOperation="destination-out",e.colorFillStyle(ve,255,255,255,e.motionBlurTransparency),ve.fillRect(se,ye,we,Re),ve.globalCompositeOperation=Ve}function F(ve,se){var ye,we,Re,Ve;!e.clearingMotionBlur&&(ve===u.bufferContexts[e.MOTIONBLUR_BUFFER_NODE]||ve===u.bufferContexts[e.MOTIONBLUR_BUFFER_DRAG])?(ye={x:T.x*p,y:T.y*p},we=_*p,Re=e.canvasWidth*p,Ve=e.canvasHeight*p):(ye=P,we=k,Re=e.canvasWidth,Ve=e.canvasHeight),ve.setTransform(1,0,0,1,0,0),se==="motionBlur"?N(ve,0,0,Re,Ve):!n&&(se===void 0||se)&&ve.clearRect(0,0,Re,Ve),i||(ve.translate(ye.x,ye.y),ve.scale(we,we)),o&&ve.translate(o.x,o.y),s&&ve.scale(s,s)}if(f||(e.textureDrawLastFrame=!1),f){if(e.textureDrawLastFrame=!0,!e.textureCache){e.textureCache={},e.textureCache.bb=r.mutableElements().boundingBox(),e.textureCache.texture=e.data.bufferCanvases[e.TEXTURE_BUFFER];var $=e.data.bufferContexts[e.TEXTURE_BUFFER];$.setTransform(1,0,0,1,0,0),$.clearRect(0,0,e.canvasWidth*e.textureMult,e.canvasHeight*e.textureMult),e.render({forcedContext:$,drawOnlyNodeLayer:!0,forcedPxRatio:l*e.textureMult});var M=e.textureCache.viewport={zoom:r.zoom(),pan:r.pan(),width:e.canvasWidth,height:e.canvasHeight};M.mpan={x:(0-M.pan.x)/M.zoom,y:(0-M.pan.y)/M.zoom}}c[e.DRAG]=!1,c[e.NODE]=!1;var V=u.contexts[e.NODE],X=e.textureCache.texture,M=e.textureCache.viewport;V.setTransform(1,0,0,1,0,0),d?N(V,0,0,M.width,M.height):V.clearRect(0,0,M.width,M.height);var K=w.core("outside-texture-bg-color").value,W=w.core("outside-texture-bg-opacity").value;e.colorFillStyle(V,K[0],K[1],K[2],W),V.fillRect(0,0,M.width,M.height);var _=r.zoom();F(V,!1),V.clearRect(M.mpan.x,M.mpan.y,M.width/M.zoom/l,M.height/M.zoom/l),V.drawImage(X,M.mpan.x,M.mpan.y,M.width/M.zoom/l,M.height/M.zoom/l)}else e.textureOnViewport&&!n&&(e.textureCache=null);var H=r.extent(),ee=e.pinching||e.hoverData.dragging||e.swipePanning||e.data.wheelZooming||e.hoverData.draggingEles||e.cy.animated(),re=e.hideEdgesOnViewport&&ee,G=[];if(G[e.NODE]=!c[e.NODE]&&d&&!e.clearedForMotionBlur[e.NODE]||e.clearingMotionBlur,G[e.NODE]&&(e.clearedForMotionBlur[e.NODE]=!0),G[e.DRAG]=!c[e.DRAG]&&d&&!e.clearedForMotionBlur[e.DRAG]||e.clearingMotionBlur,G[e.DRAG]&&(e.clearedForMotionBlur[e.DRAG]=!0),c[e.NODE]||i||a||G[e.NODE]){var Z=d&&!G[e.NODE]&&p!==1,V=n||(Z?e.data.bufferContexts[e.MOTIONBLUR_BUFFER_NODE]:u.contexts[e.NODE]),ue=d&&!Z?"motionBlur":void 0;F(V,ue),re?e.drawCachedNodes(V,R.nondrag,l,H):e.drawLayeredElements(V,R.nondrag,l,H),e.debug&&e.drawDebugPoints(V,R.nondrag),!i&&!d&&(c[e.NODE]=!1)}if(!a&&(c[e.DRAG]||i||G[e.DRAG])){var Z=d&&!G[e.DRAG]&&p!==1,V=n||(Z?e.data.bufferContexts[e.MOTIONBLUR_BUFFER_DRAG]:u.contexts[e.DRAG]);F(V,d&&!Z?"motionBlur":void 0),re?e.drawCachedNodes(V,R.drag,l,H):e.drawCachedElements(V,R.drag,l,H),e.debug&&e.drawDebugPoints(V,R.drag),!i&&!d&&(c[e.DRAG]=!1)}if(this.drawSelectionRectangle(t,F),d&&p!==1){var pe=u.contexts[e.NODE],ge=e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_NODE],fe=u.contexts[e.DRAG],Se=e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_DRAG],Te=function(se,ye,we){se.setTransform(1,0,0,1,0,0),we||!x?se.clearRect(0,0,e.canvasWidth,e.canvasHeight):N(se,0,0,e.canvasWidth,e.canvasHeight);var Re=p;se.drawImage(ye,0,0,e.canvasWidth*Re,e.canvasHeight*Re,0,0,e.canvasWidth,e.canvasHeight)};(c[e.NODE]||G[e.NODE])&&(Te(pe,ge,G[e.NODE]),c[e.NODE]=!1),(c[e.DRAG]||G[e.DRAG])&&(Te(fe,Se,G[e.DRAG]),c[e.DRAG]=!1)}e.prevViewport=M,e.clearingMotionBlur&&(e.clearingMotionBlur=!1,e.motionBlurCleared=!0,e.motionBlur=!0),d&&(e.motionBlurTimeout=setTimeout(function(){e.motionBlurTimeout=null,e.clearedForMotionBlur[e.NODE]=!1,e.clearedForMotionBlur[e.DRAG]=!1,e.motionBlur=!1,e.clearingMotionBlur=!f,e.mbFrames=0,c[e.NODE]=!0,c[e.DRAG]=!0,e.redraw()},zW)),n||r.emit("render")};var Pu;Sn.drawSelectionRectangle=function(t,e){var r=this,n=r.cy,i=r.data,a=n.style(),s=t.drawOnlyNodeLayer,o=t.drawAllLayers,l=i.canvasNeedsRedraw,u=t.forcedContext;if(r.showFps||!s&&l[r.SELECT_BOX]&&!o){var c=u||i.contexts[r.SELECT_BOX];if(e(c),r.selection[4]==1&&(r.hoverData.selecting||r.touchData.selecting)){var f=r.cy.zoom(),d=a.core("selection-box-border-width").value/f;c.lineWidth=d,c.fillStyle="rgba("+a.core("selection-box-color").value[0]+","+a.core("selection-box-color").value[1]+","+a.core("selection-box-color").value[2]+","+a.core("selection-box-opacity").value+")",c.fillRect(r.selection[0],r.selection[1],r.selection[2]-r.selection[0],r.selection[3]-r.selection[1]),d>0&&(c.strokeStyle="rgba("+a.core("selection-box-border-color").value[0]+","+a.core("selection-box-border-color").value[1]+","+a.core("selection-box-border-color").value[2]+","+a.core("selection-box-opacity").value+")",c.strokeRect(r.selection[0],r.selection[1],r.selection[2]-r.selection[0],r.selection[3]-r.selection[1]))}if(i.bgActivePosistion&&!r.hoverData.selecting){var f=r.cy.zoom(),p=i.bgActivePosistion;c.fillStyle="rgba("+a.core("active-bg-color").value[0]+","+a.core("active-bg-color").value[1]+","+a.core("active-bg-color").value[2]+","+a.core("active-bg-opacity").value+")",c.beginPath(),c.arc(p.x,p.y,a.core("active-bg-size").pfValue/f,0,2*Math.PI),c.fill()}var g=r.lastRedrawTime;if(r.showFps&&g){g=Math.round(g);var y=Math.round(1e3/g),b="1 frame = "+g+" ms = "+y+" fps";if(c.setTransform(1,0,0,1,0,0),c.fillStyle="rgba(255, 0, 0, 0.75)",c.strokeStyle="rgba(255, 0, 0, 0.75)",c.font="30px Arial",!Pu){var x=c.measureText(b);Pu=x.actualBoundingBoxAscent}c.fillText(b,0,Pu);var w=60;c.strokeRect(0,Pu+10,250,20),c.fillRect(0,Pu+10,250*Math.min(y/w,1),20)}o||(l[r.SELECT_BOX]=!1)}};function s7(t,e,r){var n=t.createShader(e);if(t.shaderSource(n,r),t.compileShader(n),!t.getShaderParameter(n,t.COMPILE_STATUS))throw new Error(t.getShaderInfoLog(n));return n}function BW(t,e,r){var n=s7(t,t.VERTEX_SHADER,e),i=s7(t,t.FRAGMENT_SHADER,r),a=t.createProgram();if(t.attachShader(a,n),t.attachShader(a,i),t.linkProgram(a),!t.getProgramParameter(a,t.LINK_STATUS))throw new Error("Could not initialize shaders");return a}function FW(t,e,r){r===void 0&&(r=e);var n=t.makeOffscreenCanvas(e,r),i=n.context=n.getContext("2d");return n.clear=function(){return i.clearRect(0,0,n.width,n.height)},n.clear(),n}function s4(t){var e=t.pixelRatio,r=t.cy.zoom(),n=t.cy.pan();return{zoom:r*e,pan:{x:n.x*e,y:n.y*e}}}function $W(t,e,r,n,i){var a=n*r+e.x,s=i*r+e.y;return s=Math.round(t.canvasHeight-s),[a,s]}function Du(t,e,r){var n=t[0]/255,i=t[1]/255,a=t[2]/255,s=e,o=r||new Array(4);return o[0]=n*s,o[1]=i*s,o[2]=a*s,o[3]=s,o}function $o(t,e){var r=e||new Array(4);return r[0]=(t>>0&255)/255,r[1]=(t>>8&255)/255,r[2]=(t>>16&255)/255,r[3]=(t>>24&255)/255,r}function jW(t){return t[0]+(t[1]<<8)+(t[2]<<16)+(t[3]<<24)}function qW(t,e){var r=t.createTexture();return r.buffer=function(n){t.bindTexture(t.TEXTURE_2D,r),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR_MIPMAP_NEAREST),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,n),t.generateMipmap(t.TEXTURE_2D),t.bindTexture(t.TEXTURE_2D,null)},r.deleteTexture=function(){t.deleteTexture(r)},r}function AT(t,e){switch(e){case"float":return[1,t.FLOAT,4];case"vec2":return[2,t.FLOAT,4];case"vec3":return[3,t.FLOAT,4];case"vec4":return[4,t.FLOAT,4];case"int":return[1,t.INT,4];case"ivec2":return[2,t.INT,4]}}function IT(t,e,r){switch(e){case t.FLOAT:return new Float32Array(r);case t.INT:return new Int32Array(r)}}function HW(t,e,r,n,i,a){switch(e){case t.FLOAT:return new Float32Array(r.buffer,a*n,i);case t.INT:return new Int32Array(r.buffer,a*n,i)}}function VW(t,e,r,n){var i=AT(t,e),a=jr(i,2),s=a[0],o=a[1],l=IT(t,o,n),u=t.createBuffer();return t.bindBuffer(t.ARRAY_BUFFER,u),t.bufferData(t.ARRAY_BUFFER,l,t.STATIC_DRAW),o===t.FLOAT?t.vertexAttribPointer(r,s,o,!1,0,0):o===t.INT&&t.vertexAttribIPointer(r,s,o,0,0),t.enableVertexAttribArray(r),t.bindBuffer(t.ARRAY_BUFFER,null),u}function Ra(t,e,r,n){var i=AT(t,r),a=jr(i,3),s=a[0],o=a[1],l=a[2],u=IT(t,o,e*s),c=s*l,f=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,f),t.bufferData(t.ARRAY_BUFFER,e*c,t.DYNAMIC_DRAW),t.enableVertexAttribArray(n),o===t.FLOAT?t.vertexAttribPointer(n,s,o,!1,c,0):o===t.INT&&t.vertexAttribIPointer(n,s,o,c,0),t.vertexAttribDivisor(n,1),t.bindBuffer(t.ARRAY_BUFFER,null);for(var d=new Array(e),p=0;p<e;p++)d[p]=HW(t,o,u,c,s,p);return f.dataArray=u,f.stride=c,f.size=s,f.getView=function(g){return d[g]},f.setPoint=function(g,y,b){var x=d[g];x[0]=y,x[1]=b},f.bufferSubData=function(g){t.bindBuffer(t.ARRAY_BUFFER,f),g?t.bufferSubData(t.ARRAY_BUFFER,0,u,0,g*s):t.bufferSubData(t.ARRAY_BUFFER,0,u)},f}function UW(t,e,r){for(var n=9,i=new Float32Array(e*n),a=new Array(e),s=0;s<e;s++){var o=s*n*4;a[s]=new Float32Array(i.buffer,o,n)}var l=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,l),t.bufferData(t.ARRAY_BUFFER,i.byteLength,t.DYNAMIC_DRAW);for(var u=0;u<3;u++){var c=r+u;t.enableVertexAttribArray(c),t.vertexAttribPointer(c,3,t.FLOAT,!1,3*12,u*12),t.vertexAttribDivisor(c,1)}return t.bindBuffer(t.ARRAY_BUFFER,null),l.getMatrixView=function(f){return a[f]},l.setData=function(f,d){a[d].set(f,0)},l.bufferSubData=function(){t.bindBuffer(t.ARRAY_BUFFER,l),t.bufferSubData(t.ARRAY_BUFFER,0,i)},l}function WW(t){var e=t.createFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,e);var r=t.createTexture();return t.bindTexture(t.TEXTURE_2D,r),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,r,0),t.bindFramebuffer(t.FRAMEBUFFER,null),e.setFramebufferAttachmentSizes=function(n,i){t.bindTexture(t.TEXTURE_2D,r),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,n,i,0,t.RGBA,t.UNSIGNED_BYTE,null)},e}var o7=typeof Float32Array<"u"?Float32Array:Array;Math.hypot||(Math.hypot=function(){for(var t=0,e=arguments.length;e--;)t+=arguments[e]*arguments[e];return Math.sqrt(t)});function fd(){var t=new o7(9);return o7!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t}function LT(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function GW(t,e,r){var n=e[0],i=e[1],a=e[2],s=e[3],o=e[4],l=e[5],u=e[6],c=e[7],f=e[8],d=r[0],p=r[1],g=r[2],y=r[3],b=r[4],x=r[5],w=r[6],_=r[7],k=r[8];return t[0]=d*n+p*s+g*u,t[1]=d*i+p*o+g*c,t[2]=d*a+p*l+g*f,t[3]=y*n+b*s+x*u,t[4]=y*i+b*o+x*c,t[5]=y*a+b*l+x*f,t[6]=w*n+_*s+k*u,t[7]=w*i+_*o+k*c,t[8]=w*a+_*l+k*f,t}function gh(t,e,r){var n=e[0],i=e[1],a=e[2],s=e[3],o=e[4],l=e[5],u=e[6],c=e[7],f=e[8],d=r[0],p=r[1];return t[0]=n,t[1]=i,t[2]=a,t[3]=s,t[4]=o,t[5]=l,t[6]=d*n+p*s+u,t[7]=d*i+p*o+c,t[8]=d*a+p*l+f,t}function RT(t,e,r){var n=e[0],i=e[1],a=e[2],s=e[3],o=e[4],l=e[5],u=e[6],c=e[7],f=e[8],d=Math.sin(r),p=Math.cos(r);return t[0]=p*n+d*s,t[1]=p*i+d*o,t[2]=p*a+d*l,t[3]=p*s-d*n,t[4]=p*o-d*i,t[5]=p*l-d*a,t[6]=u,t[7]=c,t[8]=f,t}function o4(t,e,r){var n=r[0],i=r[1];return t[0]=n*e[0],t[1]=n*e[1],t[2]=n*e[2],t[3]=i*e[3],t[4]=i*e[4],t[5]=i*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function YW(t,e,r){return t[0]=2/e,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/r,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t}var lc={SCREEN:{name:"screen",screen:!0},PICKING:{name:"picking",picking:!0}},l7=Or({texRows:24}),jo=Or({collection:"default",getKey:null,drawElement:null,getBoundingBox:null,getRotation:null,getRotationPoint:null,getRotationOffset:null,isVisible:function(){return!0},getPadding:0}),XW=function(){function t(e,r,n,i){_s(this,t),this.debugID=Math.floor(Math.random()*1e4),this.r=e,this.texSize=r,this.texRows=n,this.texHeight=Math.floor(r/n),this.enableWrapping=!0,this.locked=!1,this.texture=null,this.needsBuffer=!0,this.freePointer={x:0,row:0},this.keyToLocation=new Map,this.canvas=i(e,r,r),this.scratch=i(e,r,this.texHeight,"scratch")}return Ss(t,[{key:"lock",value:function(){this.locked=!0}},{key:"getKeys",value:function(){return new Set(this.keyToLocation.keys())}},{key:"getScale",value:function(r){var n=r.w,i=r.h,a=this.texHeight,s=this.texSize,o=a/i,l=n*o,u=i*o;return l>s&&(o=s/n,l=n*o,u=i*o),{scale:o,texW:l,texH:u}}},{key:"draw",value:function(r,n,i){var a=this;if(this.locked)throw new Error("can't draw, atlas is locked");var s=this.texSize,o=this.texRows,l=this.texHeight,u=this.getScale(n),c=u.scale,f=u.texW,d=u.texH,p=[null,null],g=function(_,k){if(i&&k){var T=k.context,P=_.x,M=_.row,A=P,L=l*M;T.save(),T.translate(A,L),T.scale(c,c),i(T,n),T.restore()}},y=function(){g(a.freePointer,a.canvas),p[0]={x:a.freePointer.x,y:a.freePointer.row*l,w:f,h:d},p[1]={x:a.freePointer.x+f,y:a.freePointer.row*l,w:0,h:d},a.freePointer.x+=f,a.freePointer.x==s&&(a.freePointer.x=0,a.freePointer.row++)},b=function(){var _=a.scratch,k=a.canvas;_.clear(),g({x:0,row:0},_);var T=s-a.freePointer.x,P=f-T,M=l;{var A=a.freePointer.x,L=a.freePointer.row*l,R=T;k.context.drawImage(_,0,0,R,M,A,L,R,M),p[0]={x:A,y:L,w:R,h:d}}{var N=T,F=(a.freePointer.row+1)*l,$=P;k&&k.context.drawImage(_,N,0,$,M,0,F,$,M),p[1]={x:0,y:F,w:$,h:d}}a.freePointer.x=P,a.freePointer.row++},x=function(){a.freePointer.x=0,a.freePointer.row++};if(this.freePointer.x+f<=s)y();else{if(this.freePointer.row>=o-1)return!1;this.freePointer.x===s?(x(),y()):this.enableWrapping?b():(x(),y())}return this.keyToLocation.set(r,p),this.needsBuffer=!0,p}},{key:"getOffsets",value:function(r){return this.keyToLocation.get(r)}},{key:"isEmpty",value:function(){return this.freePointer.x===0&&this.freePointer.row===0}},{key:"canFit",value:function(r){if(this.locked)return!1;var n=this.texSize,i=this.texRows,a=this.getScale(r),s=a.texW;return this.freePointer.x+s>n?this.freePointer.row<i-1:!0}},{key:"bufferIfNeeded",value:function(r){this.texture||(this.texture=qW(r,this.debugID)),this.needsBuffer&&(this.texture.buffer(this.canvas),this.needsBuffer=!1,this.locked&&(this.canvas=null,this.scratch=null))}},{key:"dispose",value:function(){this.texture&&(this.texture.deleteTexture(),this.texture=null),this.canvas=null,this.scratch=null,this.locked=!0}}])}(),KW=function(){function t(e,r,n,i){_s(this,t),this.r=e,this.texSize=r,this.texRows=n,this.createTextureCanvas=i,this.atlases=[],this.styleKeyToAtlas=new Map,this.markedKeys=new Set}return Ss(t,[{key:"getKeys",value:function(){return new Set(this.styleKeyToAtlas.keys())}},{key:"_createAtlas",value:function(){var r=this.r,n=this.texSize,i=this.texRows,a=this.createTextureCanvas;return new XW(r,n,i,a)}},{key:"_getScratchCanvas",value:function(){if(!this.scratch){var r=this.r,n=this.texSize,i=this.texRows,a=this.createTextureCanvas,s=Math.floor(n/i);this.scratch=a(r,n,s,"scratch")}return this.scratch}},{key:"draw",value:function(r,n,i){var a=this.styleKeyToAtlas.get(r);return a||(a=this.atlases[this.atlases.length-1],(!a||!a.canFit(n))&&(a&&a.lock(),a=this._createAtlas(),this.atlases.push(a)),a.draw(r,n,i),this.styleKeyToAtlas.set(r,a)),a}},{key:"getAtlas",value:function(r){return this.styleKeyToAtlas.get(r)}},{key:"hasAtlas",value:function(r){return this.styleKeyToAtlas.has(r)}},{key:"markKeyForGC",value:function(r){this.markedKeys.add(r)}},{key:"gc",value:function(){var r=this,n=this.markedKeys;if(n.size===0){console.log("nothing to garbage collect");return}var i=[],a=new Map,s=null,o=yi(this.atlases),l;try{var u=function(){var f=l.value,d=f.getKeys(),p=ZW(n,d);if(p.size===0)return i.push(f),d.forEach(function(T){return a.set(T,f)}),1;s||(s=r._createAtlas(),i.push(s));var g=yi(d),y;try{for(g.s();!(y=g.n()).done;){var b=y.value;if(!p.has(b)){var x=f.getOffsets(b),w=jr(x,2),_=w[0],k=w[1];s.canFit({w:_.w+k.w,h:_.h})||(s.lock(),s=r._createAtlas(),i.push(s)),r._copyTextureToNewAtlas(b,f,s),a.set(b,s)}}}catch(T){g.e(T)}finally{g.f()}f.dispose()};for(o.s();!(l=o.n()).done;)u()}catch(c){o.e(c)}finally{o.f()}this.atlases=i,this.styleKeyToAtlas=a,this.markedKeys=new Set}},{key:"_copyTextureToNewAtlas",value:function(r,n,i){var a=n.getOffsets(r),s=jr(a,2),o=s[0],l=s[1];if(l.w===0)i.draw(r,o,function(d){d.drawImage(n.canvas,o.x,o.y,o.w,o.h,0,0,o.w,o.h)});else{var u=this._getScratchCanvas();u.clear(),u.context.drawImage(n.canvas,o.x,o.y,o.w,o.h,0,0,o.w,o.h),u.context.drawImage(n.canvas,l.x,l.y,l.w,l.h,o.w,0,l.w,l.h);var c=o.w+l.w,f=o.h;i.draw(r,{w:c,h:f},function(d){d.drawImage(u,0,0,c,f,0,0,c,f)})}}},{key:"getCounts",value:function(){return{keyCount:this.styleKeyToAtlas.size,atlasCount:new Set(this.styleKeyToAtlas.values()).size}}}])}();function ZW(t,e){return t.intersection?t.intersection(e):new Set(ek(t).filter(function(r){return e.has(r)}))}var QW=function(){function t(e,r){_s(this,t),this.r=e,this.globalOptions=r,this.atlasSize=r.webglTexSize,this.maxAtlasesPerBatch=r.webglTexPerBatch,this.renderTypes=new Map,this.collections=new Map,this.typeAndIdToKey=new Map,this.batchAtlases=[]}return Ss(t,[{key:"getAtlasSize",value:function(){return this.atlasSize}},{key:"getMaxAtlasesPerBatch",value:function(){return this.maxAtlasesPerBatch}},{key:"addAtlasCollection",value:function(r,n){var i=this.globalOptions,a=i.webglTexSize,s=i.createTextureCanvas,o=n.texRows,l=this._cacheScratchCanvas(s),u=new KW(this.r,a,o,l);this.collections.set(r,u)}},{key:"addRenderType",value:function(r,n){var i=n.collection;if(!this.collections.has(i))throw new Error("invalid atlas collection name '".concat(i,"'"));var a=this.collections.get(i),s=et({type:r,atlasCollection:a},n);this.renderTypes.set(r,s)}},{key:"getRenderTypeOpts",value:function(r){return this.renderTypes.get(r)}},{key:"getAtlasCollection",value:function(r){return this.collections.get(r)}},{key:"_cacheScratchCanvas",value:function(r){var n=-1,i=-1,a=null;return function(s,o,l,u){return u?((!a||o!=n||l!=i)&&(n=o,i=l,a=r(s,o,l)),a):r(s,o,l)}}},{key:"_key",value:function(r,n){return"".concat(r,"-").concat(n)}},{key:"invalidate",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.forceRedraw,a=i===void 0?!1:i,s=n.filterEle,o=s===void 0?function(){return!0}:s,l=n.filterType,u=l===void 0?function(){return!0}:l,c=!1,f=!1,d=yi(r),p;try{for(d.s();!(p=d.n()).done;){var g=p.value;if(o(g)){var y=yi(this.renderTypes.values()),b;try{for(y.s();!(b=y.n()).done;){var x=b.value,w=x.type;if(u(w)){var _=x.getKey(g),k=this.collections.get(x.collection);if(a)k.markKeyForGC(_),f=!0;else{var T=x.getID?x.getID(g):g.id(),P=this._key(w,T),M=this.typeAndIdToKey.get(P);M!==void 0&&M!==_&&(this.typeAndIdToKey.delete(P),k.markKeyForGC(M),c=!0)}}}}catch(A){y.e(A)}finally{y.f()}}}}catch(A){d.e(A)}finally{d.f()}return f&&(this.gc(),c=!1),c}},{key:"gc",value:function(){var r=yi(this.collections.values()),n;try{for(r.s();!(n=r.n()).done;){var i=n.value;i.gc()}}catch(a){r.e(a)}finally{r.f()}}},{key:"getOrCreateAtlas",value:function(r,n,i){var a=this.renderTypes.get(n),s=a.getKey(r);i||(i=a.getBoundingBox(r));var o=this.collections.get(a.collection),l=!1,u=o.draw(s,i,function(d){a.drawElement(d,r,i,!0,!0),l=!0});if(l){var c=a.getID?a.getID(r):r.id(),f=this._key(n,c);this.typeAndIdToKey.set(f,s)}return u}},{key:"startBatch",value:function(){this.batchAtlases=[]}},{key:"getAtlasCount",value:function(){return this.batchAtlases.length}},{key:"getAtlases",value:function(){return this.batchAtlases}},{key:"canAddToCurrentBatch",value:function(r,n){if(this.batchAtlases.length===this.maxAtlasesPerBatch){var i=this.renderTypes.get(n),a=i.getKey(r),s=this.collections.get(i.collection),o=s.getAtlas(a);return!!o&&this.batchAtlases.includes(o)}return!0}},{key:"getAtlasIndexForBatch",value:function(r){var n=this.batchAtlases.indexOf(r);if(n<0){if(this.batchAtlases.length===this.maxAtlasesPerBatch)return;this.batchAtlases.push(r),n=this.batchAtlases.length-1}return n}},{key:"getIndexArray",value:function(){return Array.from({length:this.maxAtlasesPerBatch},function(r,n){return n})}},{key:"getAtlasInfo",value:function(r,n){var i=this.renderTypes.get(n),a=i.getBoundingBox(r),s=this.getOrCreateAtlas(r,n,a),o=this.getAtlasIndexForBatch(s);if(o!==void 0){var l=i.getKey(r),u=s.getOffsets(l),c=jr(u,2),f=c[0],d=c[1];return{index:o,tex1:f,tex2:d,bb:a}}}},{key:"setTransformMatrix",value:function(r,n,i,a){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,o=this.getRenderTypeOpts(i),l=o.getPadding?o.getPadding(r):0;if(a){var u=a.bb,c=a.tex1,f=a.tex2,d=c.w/(c.w+f.w);s||(d=1-d);var p=this.getAdjustedBB(u,l,s,d);this._applyTransformMatrix(n,p,o,r)}else{var g=o.getBoundingBox(r),y=this.getAdjustedBB(g,l,!0,1);this._applyTransformMatrix(n,y,o,r)}}},{key:"_applyTransformMatrix",value:function(r,n,i,a){var s,o;LT(r);var l=i.getRotation?i.getRotation(a):0;if(l!==0){var u=i.getRotationPoint(a),c=u.x,f=u.y;gh(r,r,[c,f]),RT(r,r,l);var d=i.getRotationOffset(a);s=d.x+n.xOffset,o=d.y}else s=n.x1,o=n.y1;gh(r,r,[s,o]),o4(r,r,[n.w,n.h])}},{key:"getAdjustedBB",value:function(r,n,i,a){var s=r.x1,o=r.y1,l=r.w,u=r.h;n&&(s-=n,o-=n,l+=2*n,u+=2*n);var c=0,f=l*a;return i&&a<1?l=f:!i&&a<1&&(c=l-f,s+=c,l=f),{x1:s,y1:o,w:l,h:u,xOffset:c}}},{key:"getDebugInfo",value:function(){var r=[],n=yi(this.collections),i;try{for(n.s();!(i=n.n()).done;){var a=jr(i.value,2),s=a[0],o=a[1],l=o.getCounts(),u=l.keyCount,c=l.atlasCount;r.push({type:s,keyCount:u,atlasCount:c})}}catch(f){n.e(f)}finally{n.f()}return r}}])}(),Af=0,u7=1,c7=2,lv=3,f7=4,JW=function(){function t(e,r,n){_s(this,t),this.r=e,this.gl=r,this.maxInstances=n.webglBatchSize,this.atlasSize=n.webglTexSize,this.bgColor=n.bgColor,this.debug=n.webglDebug,this.batchDebugInfo=[],n.enableWrapping=!0,n.createTextureCanvas=FW,this.atlasManager=new QW(e,n),this.program=this.createShaderProgram(lc.SCREEN),this.pickingProgram=this.createShaderProgram(lc.PICKING),this.vao=this.createVAO()}return Ss(t,[{key:"addAtlasCollection",value:function(r,n){this.atlasManager.addAtlasCollection(r,n)}},{key:"addAtlasRenderType",value:function(r,n){this.atlasManager.addRenderType(r,n)}},{key:"invalidate",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.type,a=this.atlasManager;return i?a.invalidate(r,{filterType:function(o){return o===i},forceRedraw:!0}):a.invalidate(r)}},{key:"gc",value:function(){this.atlasManager.gc()}},{key:"createShaderProgram",value:function(r){var n=this.gl,i=`#version 300 es
      precision highp float;

      uniform mat3 uPanZoomMatrix;
      uniform int  uAtlasSize;
      
      // instanced
      in vec2 aPosition; 

      in mat3 aTransform;

      // what are we rendering?
      in int aVertType;

      // for picking
      in vec4 aIndex;
      
      // For textures
      in int aAtlasId; // which shader unit/atlas to use
      in vec4 aTex; // x/y/w/h of texture in atlas

      // for edges
      in vec4 aPointAPointB;
      in vec4 aPointCPointD;
      in float aLineWidth;
      in vec4 aColor;

      out vec2 vTexCoord;
      out vec4 vColor;
      flat out int vAtlasId;
      flat out vec4 vIndex;
      flat out int vVertType;

      void main(void) {
        int vid = gl_VertexID;
        vec2 position = aPosition;

        if(aVertType == `.concat(Af,`) {
          float texX = aTex.x;
          float texY = aTex.y;
          float texW = aTex.z;
          float texH = aTex.w;

          int vid = gl_VertexID;

          if(vid == 1 || vid == 2 || vid == 4) {
            texX += texW;
          }
          if(vid == 2 || vid == 4 || vid == 5) {
            texY += texH;
          }

          float d = float(uAtlasSize);
          vTexCoord = vec2(texX / d, texY / d); // tex coords must be between 0 and 1

          gl_Position = vec4(uPanZoomMatrix * aTransform * vec3(position, 1.0), 1.0);
        }
        else if(aVertType == `).concat(f7,`) {
          gl_Position = vec4(uPanZoomMatrix * aTransform * vec3(position, 1.0), 1.0);
          vColor = aColor;
        }
        else if(aVertType == `).concat(u7,`) {
          vec2 source = aPointAPointB.xy;
          vec2 target = aPointAPointB.zw;

          // adjust the geometry so that the line is centered on the edge
          position.y = position.y - 0.5;

          vec2 xBasis = target - source;
          vec2 yBasis = normalize(vec2(-xBasis.y, xBasis.x));
          vec2 point = source + xBasis * position.x + yBasis * aLineWidth * position.y;

          gl_Position = vec4(uPanZoomMatrix * vec3(point, 1.0), 1.0);
          vColor = aColor;
        } 
        else if(aVertType == `).concat(c7,`) {
          vec2 pointA = aPointAPointB.xy;
          vec2 pointB = aPointAPointB.zw;
          vec2 pointC = aPointCPointD.xy;
          vec2 pointD = aPointCPointD.zw;

          // adjust the geometry so that the line is centered on the edge
          position.y = position.y - 0.5;

          vec2 p0 = pointA;
          vec2 p1 = pointB;
          vec2 p2 = pointC;
          vec2 pos = position;
          if(position.x == 1.0) {
            p0 = pointD;
            p1 = pointC;
            p2 = pointB;
            pos = vec2(0.0, -position.y);
          }

          vec2 p01 = p1 - p0;
          vec2 p12 = p2 - p1;
          vec2 p21 = p1 - p2;

          // Find the normal vector.
          vec2 tangent = normalize(normalize(p12) + normalize(p01));
          vec2 normal = vec2(-tangent.y, tangent.x);

          // Find the vector perpendicular to p0 -> p1.
          vec2 p01Norm = normalize(vec2(-p01.y, p01.x));

          // Determine the bend direction.
          float sigma = sign(dot(p01 + p21, normal));
          float width = aLineWidth;

          if(sign(pos.y) == -sigma) {
            // This is an intersecting vertex. Adjust the position so that there's no overlap.
            vec2 point = 0.5 * width * normal * -sigma / dot(normal, p01Norm);
            gl_Position = vec4(uPanZoomMatrix * vec3(p1 + point, 1.0), 1.0);
          } else {
            // This is a non-intersecting vertex. Treat it like a mitre join.
            vec2 point = 0.5 * width * normal * sigma * dot(normal, p01Norm);
            gl_Position = vec4(uPanZoomMatrix * vec3(p1 + point, 1.0), 1.0);
          }

          vColor = aColor;
        } 
        else if(aVertType == `).concat(lv,` && vid < 3) {
          // massage the first triangle into an edge arrow
          if(vid == 0)
            position = vec2(-0.15, -0.3);
          if(vid == 1)
            position = vec2( 0.0,   0.0);
          if(vid == 2)
            position = vec2( 0.15, -0.3);

          gl_Position = vec4(uPanZoomMatrix * aTransform * vec3(position, 1.0), 1.0);
          vColor = aColor;
        }
        else {
          gl_Position = vec4(2.0, 0.0, 0.0, 1.0); // discard vertex by putting it outside webgl clip space
        }

        vAtlasId = aAtlasId;
        vIndex = aIndex;
        vVertType = aVertType;
      }
    `),a=this.atlasManager.getIndexArray(),s=`#version 300 es
      precision highp float;

      // define texture unit for each node in the batch
      `.concat(a.map(function(u){return"uniform sampler2D uTexture".concat(u,";")}).join(`
	`),`

      uniform vec4 uBGColor;

      in vec2 vTexCoord;
      in vec4 vColor;
      flat in int vAtlasId;
      flat in vec4 vIndex;
      flat in int vVertType;

      out vec4 outColor;

      void main(void) {
        if(vVertType == `).concat(Af,`) {
          `).concat(a.map(function(u){return"if(vAtlasId == ".concat(u,") outColor = texture(uTexture").concat(u,", vTexCoord);")}).join(`
	else `),`
        } else if(vVertType == `).concat(lv,`) {
          // blend arrow color with background (using premultiplied alpha)
          outColor.rgb = vColor.rgb + (uBGColor.rgb * (1.0 - vColor.a)); 
          outColor.a = 1.0; // make opaque, masks out line under arrow
        } else {
          outColor = vColor;
        }

        `).concat(r.picking?`if(outColor.a == 0.0) discard;
             else outColor = vIndex;`:"",`
      }
    `),o=BW(n,i,s);o.aPosition=n.getAttribLocation(o,"aPosition"),o.aIndex=n.getAttribLocation(o,"aIndex"),o.aVertType=n.getAttribLocation(o,"aVertType"),o.aTransform=n.getAttribLocation(o,"aTransform"),o.aAtlasId=n.getAttribLocation(o,"aAtlasId"),o.aTex=n.getAttribLocation(o,"aTex"),o.aPointAPointB=n.getAttribLocation(o,"aPointAPointB"),o.aPointCPointD=n.getAttribLocation(o,"aPointCPointD"),o.aLineWidth=n.getAttribLocation(o,"aLineWidth"),o.aColor=n.getAttribLocation(o,"aColor"),o.uPanZoomMatrix=n.getUniformLocation(o,"uPanZoomMatrix"),o.uAtlasSize=n.getUniformLocation(o,"uAtlasSize"),o.uBGColor=n.getUniformLocation(o,"uBGColor"),o.uTextures=[];for(var l=0;l<this.atlasManager.getMaxAtlasesPerBatch();l++)o.uTextures.push(n.getUniformLocation(o,"uTexture".concat(l)));return o}},{key:"createVAO",value:function(){var r=[0,0,1,0,1,1,0,0,1,1,0,1];this.vertexCount=r.length/2;var n=this.maxInstances,i=this.gl,a=this.program,s=i.createVertexArray();return i.bindVertexArray(s),VW(i,"vec2",a.aPosition,r),this.transformBuffer=UW(i,n,a.aTransform),this.indexBuffer=Ra(i,n,"vec4",a.aIndex),this.vertTypeBuffer=Ra(i,n,"int",a.aVertType),this.atlasIdBuffer=Ra(i,n,"int",a.aAtlasId),this.texBuffer=Ra(i,n,"vec4",a.aTex),this.pointAPointBBuffer=Ra(i,n,"vec4",a.aPointAPointB),this.pointCPointDBuffer=Ra(i,n,"vec4",a.aPointCPointD),this.lineWidthBuffer=Ra(i,n,"float",a.aLineWidth),this.colorBuffer=Ra(i,n,"vec4",a.aColor),i.bindVertexArray(null),s}},{key:"buffers",get:function(){var r=this;return this._buffers||(this._buffers=Object.keys(this).filter(function(n){return n.endsWith("Buffer")}).map(function(n){return r[n]})),this._buffers}},{key:"startFrame",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:lc.SCREEN;this.panZoomMatrix=r,this.renderTarget=n,this.batchDebugInfo=[],this.wrappedCount=0,this.rectangleCount=0,this.startBatch()}},{key:"startBatch",value:function(){this.instanceCount=0,this.atlasManager.startBatch()}},{key:"endFrame",value:function(){this.endBatch()}},{key:"getTempMatrix",value:function(){return this.tempMatrix=this.tempMatrix||fd()}},{key:"drawTexture",value:function(r,n,i){var a=this.atlasManager;if(r.visible()&&a.getRenderTypeOpts(i).isVisible(r)){a.canAddToCurrentBatch(r,i)||this.endBatch(),this.instanceCount+1>=this.maxInstances&&this.endBatch();var s=this.instanceCount;this.vertTypeBuffer.getView(s)[0]=Af;var o=this.indexBuffer.getView(s);$o(n,o);var l=a.getAtlasInfo(r,i),u=l.index,c=l.tex1,f=l.tex2;f.w>0&&this.wrappedCount++;for(var d=!0,p=0,g=[c,f];p<g.length;p++){var y=g[p];if(y.w!=0){var b=this.instanceCount;this.vertTypeBuffer.getView(b)[0]=Af;var x=this.indexBuffer.getView(b);$o(n,x);var w=this.atlasIdBuffer.getView(b);w[0]=u;var _=this.texBuffer.getView(b);_[0]=y.x,_[1]=y.y,_[2]=y.w,_[3]=y.h;var k=this.transformBuffer.getMatrixView(b);a.setTransformMatrix(r,k,i,l,d),this.instanceCount++}d=!1}this.instanceCount>=this.maxInstances&&this.endBatch()}}},{key:"drawSimpleRectangle",value:function(r,n,i){if(r.visible()){var a=this.atlasManager,s=this.instanceCount;this.vertTypeBuffer.getView(s)[0]=f7;var o=this.indexBuffer.getView(s);$o(n,o);var l=r.pstyle("background-color").value,u=r.pstyle("background-opacity").value,c=this.colorBuffer.getView(s);Du(l,u,c);var f=this.transformBuffer.getMatrixView(s);a.setTransformMatrix(r,f,i),this.rectangleCount++,this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}},{key:"drawEdgeArrow",value:function(r,n,i){if(r.visible()){var a=r._private.rscratch,s,o,l;if(i==="source"?(s=a.arrowStartX,o=a.arrowStartY,l=a.srcArrowAngle):(s=a.arrowEndX,o=a.arrowEndY,l=a.tgtArrowAngle),!(isNaN(s)||s==null||isNaN(o)||o==null||isNaN(l)||l==null)){var u=r.pstyle(i+"-arrow-shape").value;if(u!=="none"){var c=r.pstyle(i+"-arrow-color").value,f=r.pstyle("opacity").value,d=r.pstyle("line-opacity").value,p=f*d,g=r.pstyle("width").pfValue,y=r.pstyle("arrow-scale").value,b=this.r.getArrowWidth(g,y),x=this.instanceCount,w=this.transformBuffer.getMatrixView(x);LT(w),gh(w,w,[s,o]),o4(w,w,[b,b]),RT(w,w,l),this.vertTypeBuffer.getView(x)[0]=lv;var _=this.indexBuffer.getView(x);$o(n,_);var k=this.colorBuffer.getView(x);Du(c,p,k),this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}}}},{key:"drawEdgeLine",value:function(r,n){if(r.visible()){var i=this.getEdgePoints(r);if(i){var a=r.pstyle("opacity").value,s=r.pstyle("line-opacity").value,o=r.pstyle("width").pfValue,l=r.pstyle("line-color").value,u=a*s;if(i.length/2+this.instanceCount>this.maxInstances&&this.endBatch(),i.length==4){var c=this.instanceCount;this.vertTypeBuffer.getView(c)[0]=u7;var f=this.indexBuffer.getView(c);$o(n,f);var d=this.colorBuffer.getView(c);Du(l,u,d);var p=this.lineWidthBuffer.getView(c);p[0]=o;var g=this.pointAPointBBuffer.getView(c);g[0]=i[0],g[1]=i[1],g[2]=i[2],g[3]=i[3],this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}else for(var y=0;y<i.length-2;y+=2){var b=this.instanceCount;this.vertTypeBuffer.getView(b)[0]=c7;var x=this.indexBuffer.getView(b);$o(n,x);var w=this.colorBuffer.getView(b);Du(l,u,w);var _=this.lineWidthBuffer.getView(b);_[0]=o;var k=i[y-2],T=i[y-1],P=i[y],M=i[y+1],A=i[y+2],L=i[y+3],R=i[y+4],N=i[y+5];y==0&&(k=2*P-A+.001,T=2*M-L+.001),y==i.length-4&&(R=2*A-P+.001,N=2*L-M+.001);var F=this.pointAPointBBuffer.getView(b);F[0]=k,F[1]=T,F[2]=P,F[3]=M;var $=this.pointCPointDBuffer.getView(b);$[0]=A,$[1]=L,$[2]=R,$[3]=N,this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}}}},{key:"getEdgePoints",value:function(r){var n=r._private.rscratch;if(!(n.badLine||n.allpts==null||isNaN(n.allpts[0]))){var i=n.allpts;if(i.length==4)return i;var a=this.getNumSegments(r);return this.getCurveSegmentPoints(i,a)}}},{key:"getNumSegments",value:function(r){var n=15;return Math.min(Math.max(n,5),this.maxInstances)}},{key:"getCurveSegmentPoints",value:function(r,n){if(r.length==4)return r;for(var i=Array((n+1)*2),a=0;a<=n;a++)if(a==0)i[0]=r[0],i[1]=r[1];else if(a==n)i[a*2]=r[r.length-2],i[a*2+1]=r[r.length-1];else{var s=a/n;this.setCurvePoint(r,s,i,a*2)}return i}},{key:"setCurvePoint",value:function(r,n,i,a){if(r.length<=2)i[a]=r[0],i[a+1]=r[1];else{for(var s=Array(r.length-2),o=0;o<s.length;o+=2){var l=(1-n)*r[o]+n*r[o+2],u=(1-n)*r[o+1]+n*r[o+3];s[o]=l,s[o+1]=u}return this.setCurvePoint(s,n,i,a)}}},{key:"endBatch",value:function(){var r=this.gl,n=this.vao,i=this.vertexCount,a=this.instanceCount;if(a!==0){var s=this.renderTarget.picking?this.pickingProgram:this.program;r.useProgram(s),r.bindVertexArray(n);var o=yi(this.buffers),l;try{for(o.s();!(l=o.n()).done;){var u=l.value;u.bufferSubData(a)}}catch(g){o.e(g)}finally{o.f()}for(var c=this.atlasManager.getAtlases(),f=0;f<c.length;f++)c[f].bufferIfNeeded(r);for(var d=0;d<c.length;d++)r.activeTexture(r.TEXTURE0+d),r.bindTexture(r.TEXTURE_2D,c[d].texture),r.uniform1i(s.uTextures[d],d);r.uniformMatrix3fv(s.uPanZoomMatrix,!1,this.panZoomMatrix),r.uniform1i(s.uAtlasSize,this.atlasManager.getAtlasSize());var p=Du(this.bgColor,1);r.uniform4fv(s.uBGColor,p),r.drawArraysInstanced(r.TRIANGLES,0,i,a),r.bindVertexArray(null),r.bindTexture(r.TEXTURE_2D,null),this.debug&&this.batchDebugInfo.push({count:a,atlasCount:c.length}),this.startBatch()}}},{key:"getDebugInfo",value:function(){var r=this.atlasManager.getDebugInfo(),n=r.reduce(function(s,o){return s+o.atlasCount},0),i=this.batchDebugInfo,a=i.reduce(function(s,o){return s+o.count},0);return{atlasInfo:r,totalAtlases:n,wrappedCount:this.wrappedCount,rectangleCount:this.rectangleCount,batchCount:i.length,batchInfo:i,totalInstances:a}}}])}();function d7(t,e){return"rgba(".concat(t[0],", ").concat(t[1],", ").concat(t[2],", ").concat(e,")")}var eG=function(){function t(e){_s(this,t),this.r=e}return Ss(t,[{key:"getStyleKey",value:function(r,n){var i=this.getStyle(r,n),a=i.shape,s=i.opacity,o=i.color;if(!a)return null;var l=n.width(),u=n.height(),c=d7(o,s);return ds("".concat(a,"-").concat(l,"-").concat(u,"-").concat(c))}},{key:"isVisible",value:function(r,n){var i=n.pstyle("".concat(r,"-opacity")).value;return i>0}},{key:"getStyle",value:function(r,n){var i=n.pstyle("".concat(r,"-opacity")).value,a=n.pstyle("".concat(r,"-color")).value,s=n.pstyle("".concat(r,"-shape")).value;return{opacity:i,color:a,shape:s}}},{key:"getPadding",value:function(r,n){return n.pstyle("".concat(r,"-padding")).pfValue}},{key:"draw",value:function(r,n,i,a){if(this.isVisible(r,i)){var s=this.r,o=a.w,l=a.h,u=o/2,c=l/2,f=this.getStyle(r,i),d=f.shape,p=f.color,g=f.opacity;n.save(),n.fillStyle=d7(p,g),d==="round-rectangle"||d==="roundrectangle"?s.drawRoundRectanglePath(n,u,c,o,l,"auto"):d==="ellipse"&&s.drawEllipsePath(n,u,c,o,l),n.fill(),n.restore()}}}])}(),OT={};OT.initWebgl=function(t,e){var r=this,n=r.data.contexts[r.WEBGL];t.bgColor=tG(r),t.webglTexSize=Math.min(t.webglTexSize,n.getParameter(n.MAX_TEXTURE_SIZE)),t.webglTexRows=Math.min(t.webglTexRows,54),t.webglTexRowsNodes=Math.min(t.webglTexRowsNodes,54),t.webglBatchSize=Math.min(t.webglBatchSize,16384),t.webglTexPerBatch=Math.min(t.webglTexPerBatch,n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS)),r.webglDebug=t.webglDebug,r.webglDebugShowAtlases=t.webglDebugShowAtlases,r.pickingFrameBuffer=WW(n),r.pickingFrameBuffer.needsDraw=!0;var i=function(u){return function(c){return r.getTextAngle(c,u)}},a=function(u){return function(c){var f=c.pstyle(u);return f&&f.value}};r.drawing=new JW(r,n,t);var s=new eG(r);r.drawing.addAtlasCollection("node",l7({texRows:t.webglTexRowsNodes})),r.drawing.addAtlasCollection("label",l7({texRows:t.webglTexRows})),r.drawing.addAtlasRenderType("node-body",jo({collection:"node",getKey:e.getStyleKey,getBoundingBox:e.getElementBox,drawElement:e.drawElement})),r.drawing.addAtlasRenderType("label",jo({collection:"label",getKey:e.getLabelKey,getBoundingBox:e.getLabelBox,drawElement:e.drawLabel,getRotation:i(null),getRotationPoint:e.getLabelRotationPoint,getRotationOffset:e.getLabelRotationOffset,isVisible:a("label")})),r.drawing.addAtlasRenderType("node-overlay",jo({collection:"node",getBoundingBox:e.getElementBox,getKey:function(u){return s.getStyleKey("overlay",u)},drawElement:function(u,c,f){return s.draw("overlay",u,c,f)},isVisible:function(u){return s.isVisible("overlay",u)},getPadding:function(u){return s.getPadding("overlay",u)}})),r.drawing.addAtlasRenderType("node-underlay",jo({collection:"node",getBoundingBox:e.getElementBox,getKey:function(u){return s.getStyleKey("underlay",u)},drawElement:function(u,c,f){return s.draw("underlay",u,c,f)},isVisible:function(u){return s.isVisible("underlay",u)},getPadding:function(u){return s.getPadding("underlay",u)}})),r.drawing.addAtlasRenderType("edge-source-label",jo({collection:"label",getKey:e.getSourceLabelKey,getBoundingBox:e.getSourceLabelBox,drawElement:e.drawSourceLabel,getRotation:i("source"),getRotationPoint:e.getSourceLabelRotationPoint,getRotationOffset:e.getSourceLabelRotationOffset,isVisible:a("source-label")})),r.drawing.addAtlasRenderType("edge-target-label",jo({collection:"label",getKey:e.getTargetLabelKey,getBoundingBox:e.getTargetLabelBox,drawElement:e.drawTargetLabel,getRotation:i("target"),getRotationPoint:e.getTargetLabelRotationPoint,getRotationOffset:e.getTargetLabelRotationOffset,isVisible:a("target-label")}));var o=h0(function(){console.log("garbage collect flag set"),r.data.gc=!0},1e4);r.onUpdateEleCalcs(function(l,u){var c=!1;u&&u.length>0&&(c|=r.drawing.invalidate(u)),c&&o()}),rG(r)};function tG(t){var e=t.cy.container(),r=e&&e.style&&e.style.backgroundColor||"white";return ok(r)}function rG(t){{var e=t.render;t.render=function(a){a=a||{};var s=t.cy;t.webgl&&(s.zoom()>ET?(nG(t),e.call(t,a)):(iG(t),zT(t,a,lc.SCREEN)))}}{var r=t.matchCanvasSize;t.matchCanvasSize=function(a){r.call(t,a),t.pickingFrameBuffer.setFramebufferAttachmentSizes(t.canvasWidth,t.canvasHeight),t.pickingFrameBuffer.needsDraw=!0}}t.findNearestElements=function(a,s,o,l){return cG(t,a,s)};{var n=t.invalidateCachedZSortedEles;t.invalidateCachedZSortedEles=function(){n.call(t),t.pickingFrameBuffer.needsDraw=!0}}{var i=t.notify;t.notify=function(a,s){i.call(t,a,s),a==="viewport"||a==="bounds"?t.pickingFrameBuffer.needsDraw=!0:a==="background"&&t.drawing.invalidate(s,{type:"node-body"})}}}function nG(t){var e=t.data.contexts[t.WEBGL];e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT)}function iG(t){var e=function(n){n.save(),n.setTransform(1,0,0,1,0,0),n.clearRect(0,0,t.canvasWidth,t.canvasHeight),n.restore()};e(t.data.contexts[t.NODE]),e(t.data.contexts[t.DRAG])}function aG(t){var e=t.canvasWidth,r=t.canvasHeight,n=s4(t),i=n.pan,a=n.zoom,s=fd();gh(s,s,[i.x,i.y]),o4(s,s,[a,a]);var o=fd();YW(o,e,r);var l=fd();return GW(l,o,s),l}function NT(t,e){var r=t.canvasWidth,n=t.canvasHeight,i=s4(t),a=i.pan,s=i.zoom;e.setTransform(1,0,0,1,0,0),e.clearRect(0,0,r,n),e.translate(a.x,a.y),e.scale(s,s)}function sG(t,e){t.drawSelectionRectangle(e,function(r){return NT(t,r)})}function oG(t){var e=t.data.contexts[t.NODE];e.save(),NT(t,e),e.strokeStyle="rgba(0, 0, 0, 0.3)",e.beginPath(),e.moveTo(-1e3,0),e.lineTo(1e3,0),e.stroke(),e.beginPath(),e.moveTo(0,-1e3),e.lineTo(0,1e3),e.stroke(),e.restore()}function lG(t){var e=function(i,a,s){for(var o=i.atlasManager.getAtlasCollection(a),l=t.data.contexts[t.NODE],u=.125,c=o.atlases,f=0;f<c.length;f++){var d=c[f],p=d.canvas;if(p){var g=p.width,y=p.height,b=g*f,x=p.height*s;l.save(),l.scale(u,u),l.drawImage(p,b,x),l.strokeStyle="black",l.rect(b,x,g,y),l.stroke(),l.restore()}}},r=0;e(t.drawing,"node",r++),e(t.drawing,"label",r++)}function uG(t,e,r,n,i){var a,s,o,l,u=s4(t),c=u.pan,f=u.zoom;{var d=$W(t,c,f,e,r),p=jr(d,2),g=p[0],y=p[1],b=6;a=g-b/2,s=y-b/2,o=b,l=b}if(o===0||l===0)return[];var x=t.data.contexts[t.WEBGL];x.bindFramebuffer(x.FRAMEBUFFER,t.pickingFrameBuffer),t.pickingFrameBuffer.needsDraw&&(x.viewport(0,0,x.canvas.width,x.canvas.height),zT(t,null,lc.PICKING),t.pickingFrameBuffer.needsDraw=!1);var w=o*l,_=new Uint8Array(w*4);x.readPixels(a,s,o,l,x.RGBA,x.UNSIGNED_BYTE,_),x.bindFramebuffer(x.FRAMEBUFFER,null);for(var k=new Set,T=0;T<w;T++){var P=_.slice(T*4,T*4+4),M=jW(P)-1;M>=0&&k.add(M)}return k}function cG(t,e,r){var n=uG(t,e,r),i=t.getCachedZSortedEles(),a,s,o=yi(n),l;try{for(o.s();!(l=o.n()).done;){var u=l.value,c=i[u];if(!a&&c.isNode()&&(a=c),!s&&c.isEdge()&&(s=c),a&&s)break}}catch(f){o.e(f)}finally{o.f()}return[a,s].filter(Boolean)}function fG(t){return t.pstyle("shape").value==="rectangle"&&t.pstyle("background-fill").value==="solid"&&t.pstyle("border-width").pfValue===0&&t.pstyle("background-image").strValue==="none"}function uv(t,e,r){var n=t.drawing;e+=1,r.isNode()?(n.drawTexture(r,e,"node-underlay"),fG(r)?n.drawSimpleRectangle(r,e,"node-body"):n.drawTexture(r,e,"node-body"),n.drawTexture(r,e,"label"),n.drawTexture(r,e,"node-overlay")):(n.drawEdgeLine(r,e),n.drawEdgeArrow(r,e,"source"),n.drawEdgeArrow(r,e,"target"),n.drawTexture(r,e,"label"),n.drawTexture(r,e,"edge-source-label"),n.drawTexture(r,e,"edge-target-label"))}function zT(t,e,r){var n;t.webglDebug&&(n=performance.now());var i=t.drawing,a=0;if(r.screen&&t.data.canvasNeedsRedraw[t.SELECT_BOX]&&sG(t,e),t.data.canvasNeedsRedraw[t.NODE]||r.picking){var s=t.data.contexts[t.WEBGL];r.screen?(s.clearColor(0,0,0,0),s.enable(s.BLEND),s.blendFunc(s.ONE,s.ONE_MINUS_SRC_ALPHA)):s.disable(s.BLEND),s.clear(s.COLOR_BUFFER_BIT|s.DEPTH_BUFFER_BIT),s.viewport(0,0,s.canvas.width,s.canvas.height);var o=aG(t),l=t.getCachedZSortedEles();if(a=l.length,i.startFrame(o,r),r.screen){for(var u=0;u<l.nondrag.length;u++)uv(t,u,l.nondrag[u]);for(var c=0;c<l.drag.length;c++)uv(t,c,l.drag[c])}else if(r.picking)for(var f=0;f<l.length;f++)uv(t,f,l[f]);i.endFrame(),r.screen&&t.webglDebugShowAtlases&&(oG(t),lG(t)),t.data.canvasNeedsRedraw[t.NODE]=!1,t.data.canvasNeedsRedraw[t.DRAG]=!1}if(t.webglDebug){var d=performance.now(),p=!1,g=Math.ceil(d-n),y=i.getDebugInfo(),b=["".concat(a," elements"),"".concat(y.totalInstances," instances"),"".concat(y.batchCount," batches"),"".concat(y.totalAtlases," atlases"),"".concat(y.wrappedCount," wrapped textures"),"".concat(y.rectangleCount," simple rectangles")].join(", ");if(p)console.log("WebGL (".concat(r.name,") - time ").concat(g,"ms, ").concat(b));else{console.log("WebGL (".concat(r.name,") - frame time ").concat(g,"ms")),console.log("Totals:"),console.log("  ".concat(b)),console.log("Texture Atlases Used:");var x=y.atlasInfo,w=yi(x),_;try{for(w.s();!(_=w.n()).done;){var k=_.value;console.log("  ".concat(k.type,": ").concat(k.keyCount," keys, ").concat(k.atlasCount," atlases"))}}catch(T){w.e(T)}finally{w.f()}console.log("")}}t.data.gc&&(console.log("Garbage Collect!"),t.data.gc=!1,i.gc())}var Ts={};Ts.drawPolygonPath=function(t,e,r,n,i,a){var s=n/2,o=i/2;t.beginPath&&t.beginPath(),t.moveTo(e+s*a[0],r+o*a[1]);for(var l=1;l<a.length/2;l++)t.lineTo(e+s*a[l*2],r+o*a[l*2+1]);t.closePath()};Ts.drawRoundPolygonPath=function(t,e,r,n,i,a,s){s.forEach(function(o){return vT(t,o)}),t.closePath()};Ts.drawRoundRectanglePath=function(t,e,r,n,i,a){var s=n/2,o=i/2,l=a==="auto"?fo(n,i):Math.min(a,o,s);t.beginPath&&t.beginPath(),t.moveTo(e,r-o),t.arcTo(e+s,r-o,e+s,r,l),t.arcTo(e+s,r+o,e,r+o,l),t.arcTo(e-s,r+o,e-s,r,l),t.arcTo(e-s,r-o,e,r-o,l),t.lineTo(e,r-o),t.closePath()};Ts.drawBottomRoundRectanglePath=function(t,e,r,n,i,a){var s=n/2,o=i/2,l=a==="auto"?fo(n,i):a;t.beginPath&&t.beginPath(),t.moveTo(e,r-o),t.lineTo(e+s,r-o),t.lineTo(e+s,r),t.arcTo(e+s,r+o,e,r+o,l),t.arcTo(e-s,r+o,e-s,r,l),t.lineTo(e-s,r-o),t.lineTo(e,r-o),t.closePath()};Ts.drawCutRectanglePath=function(t,e,r,n,i,a,s){var o=n/2,l=i/2,u=s==="auto"?W2():s;t.beginPath&&t.beginPath(),t.moveTo(e-o+u,r-l),t.lineTo(e+o-u,r-l),t.lineTo(e+o,r-l+u),t.lineTo(e+o,r+l-u),t.lineTo(e+o-u,r+l),t.lineTo(e-o+u,r+l),t.lineTo(e-o,r+l-u),t.lineTo(e-o,r-l+u),t.closePath()};Ts.drawBarrelPath=function(t,e,r,n,i){var a=n/2,s=i/2,o=e-a,l=e+a,u=r-s,c=r+s,f=q1(n,i),d=f.widthOffset,p=f.heightOffset,g=f.ctrlPtOffsetPct*d;t.beginPath&&t.beginPath(),t.moveTo(o,u+p),t.lineTo(o,c-p),t.quadraticCurveTo(o+g,c,o+d,c),t.lineTo(l-d,c),t.quadraticCurveTo(l-g,c,l,c-p),t.lineTo(l,u+p),t.quadraticCurveTo(l-g,u,l-d,u),t.lineTo(o+d,u),t.quadraticCurveTo(o+g,u,o,u+p),t.closePath()};var h7=Math.sin(0),p7=Math.cos(0),ry={},ny={},BT=Math.PI/40;for(var qo=0*Math.PI;qo<2*Math.PI;qo+=BT)ry[qo]=Math.sin(qo),ny[qo]=Math.cos(qo);Ts.drawEllipsePath=function(t,e,r,n,i){if(t.beginPath&&t.beginPath(),t.ellipse)t.ellipse(e,r,n/2,i/2,0,0,2*Math.PI);else for(var a,s,o=n/2,l=i/2,u=0*Math.PI;u<2*Math.PI;u+=BT)a=e-o*ry[u]*h7+o*ny[u]*p7,s=r+l*ny[u]*h7+l*ry[u]*p7,u===0?t.moveTo(a,s):t.lineTo(a,s);t.closePath()};var x0={};x0.createBuffer=function(t,e){var r=document.createElement("canvas");return r.width=t,r.height=e,[r,r.getContext("2d")]};x0.bufferCanvasImage=function(t){var e=this.cy,r=e.mutableElements(),n=r.boundingBox(),i=this.findContainerClientCoords(),a=t.full?Math.ceil(n.w):i[2],s=t.full?Math.ceil(n.h):i[3],o=Ne(t.maxWidth)||Ne(t.maxHeight),l=this.getPixelRatio(),u=1;if(t.scale!==void 0)a*=t.scale,s*=t.scale,u=t.scale;else if(o){var c=1/0,f=1/0;Ne(t.maxWidth)&&(c=u*t.maxWidth/a),Ne(t.maxHeight)&&(f=u*t.maxHeight/s),u=Math.min(c,f),a*=u,s*=u}o||(a*=l,s*=l,u*=l);var d=document.createElement("canvas");d.width=a,d.height=s,d.style.width=a+"px",d.style.height=s+"px";var p=d.getContext("2d");if(a>0&&s>0){p.clearRect(0,0,a,s),p.globalCompositeOperation="source-over";var g=this.getCachedZSortedEles();if(t.full)p.translate(-n.x1*u,-n.y1*u),p.scale(u,u),this.drawElements(p,g),p.scale(1/u,1/u),p.translate(n.x1*u,n.y1*u);else{var y=e.pan(),b={x:y.x*u,y:y.y*u};u*=e.zoom(),p.translate(b.x,b.y),p.scale(u,u),this.drawElements(p,g),p.scale(1/u,1/u),p.translate(-b.x,-b.y)}t.bg&&(p.globalCompositeOperation="destination-over",p.fillStyle=t.bg,p.rect(0,0,a,s),p.fill())}return d};function dG(t,e){for(var r=atob(t),n=new ArrayBuffer(r.length),i=new Uint8Array(n),a=0;a<r.length;a++)i[a]=r.charCodeAt(a);return new Blob([n],{type:e})}function g7(t){var e=t.indexOf(",");return t.substr(e+1)}function FT(t,e,r){var n=function(){return e.toDataURL(r,t.quality)};switch(t.output){case"blob-promise":return new Zl(function(i,a){try{e.toBlob(function(s){s!=null?i(s):a(new Error("`canvas.toBlob()` sent a null value in its callback"))},r,t.quality)}catch(s){a(s)}});case"blob":return dG(g7(n()),r);case"base64":return g7(n());case"base64uri":default:return n()}}x0.png=function(t){return FT(t,this.bufferCanvasImage(t),"image/png")};x0.jpg=function(t){return FT(t,this.bufferCanvasImage(t),"image/jpeg")};var $T={};$T.nodeShapeImpl=function(t,e,r,n,i,a,s,o){switch(t){case"ellipse":return this.drawEllipsePath(e,r,n,i,a);case"polygon":return this.drawPolygonPath(e,r,n,i,a,s);case"round-polygon":return this.drawRoundPolygonPath(e,r,n,i,a,s,o);case"roundrectangle":case"round-rectangle":return this.drawRoundRectanglePath(e,r,n,i,a,o);case"cutrectangle":case"cut-rectangle":return this.drawCutRectanglePath(e,r,n,i,a,s,o);case"bottomroundrectangle":case"bottom-round-rectangle":return this.drawBottomRoundRectanglePath(e,r,n,i,a,o);case"barrel":return this.drawBarrelPath(e,r,n,i,a)}};var hG=jT,ft=jT.prototype;ft.CANVAS_LAYERS=3;ft.SELECT_BOX=0;ft.DRAG=1;ft.NODE=2;ft.WEBGL=3;ft.CANVAS_TYPES=["2d","2d","2d","webgl2"];ft.BUFFER_COUNT=3;ft.TEXTURE_BUFFER=0;ft.MOTIONBLUR_BUFFER_NODE=1;ft.MOTIONBLUR_BUFFER_DRAG=2;function jT(t){var e=this,r=e.cy.window(),n=r.document;t.webgl&&(ft.CANVAS_LAYERS=e.CANVAS_LAYERS=4,console.log("webgl rendering enabled")),e.data={canvases:new Array(ft.CANVAS_LAYERS),contexts:new Array(ft.CANVAS_LAYERS),canvasNeedsRedraw:new Array(ft.CANVAS_LAYERS),bufferCanvases:new Array(ft.BUFFER_COUNT),bufferContexts:new Array(ft.CANVAS_LAYERS)};var i="-webkit-tap-highlight-color",a="rgba(0,0,0,0)";e.data.canvasContainer=n.createElement("div");var s=e.data.canvasContainer.style;e.data.canvasContainer.style[i]=a,s.position="relative",s.zIndex="0",s.overflow="hidden";var o=t.cy.container();o.appendChild(e.data.canvasContainer),o.style[i]=a;var l={"-webkit-user-select":"none","-moz-user-select":"-moz-none","user-select":"none","-webkit-tap-highlight-color":"rgba(0,0,0,0)","outline-style":"none"};xj()&&(l["-ms-touch-action"]="none",l["touch-action"]="none");for(var u=0;u<ft.CANVAS_LAYERS;u++){var c=e.data.canvases[u]=n.createElement("canvas"),f=ft.CANVAS_TYPES[u];e.data.contexts[u]=c.getContext(f),e.data.contexts[u]||or("Could not create canvas of type "+f),Object.keys(l).forEach(function(ve){c.style[ve]=l[ve]}),c.style.position="absolute",c.setAttribute("data-id","layer"+u),c.style.zIndex=String(ft.CANVAS_LAYERS-u),e.data.canvasContainer.appendChild(c),e.data.canvasNeedsRedraw[u]=!1}e.data.topCanvas=e.data.canvases[0],e.data.canvases[ft.NODE].setAttribute("data-id","layer"+ft.NODE+"-node"),e.data.canvases[ft.SELECT_BOX].setAttribute("data-id","layer"+ft.SELECT_BOX+"-selectbox"),e.data.canvases[ft.DRAG].setAttribute("data-id","layer"+ft.DRAG+"-drag"),e.data.canvases[ft.WEBGL]&&e.data.canvases[ft.WEBGL].setAttribute("data-id","layer"+ft.WEBGL+"-webgl");for(var u=0;u<ft.BUFFER_COUNT;u++)e.data.bufferCanvases[u]=n.createElement("canvas"),e.data.bufferContexts[u]=e.data.bufferCanvases[u].getContext("2d"),e.data.bufferCanvases[u].style.position="absolute",e.data.bufferCanvases[u].setAttribute("data-id","buffer"+u),e.data.bufferCanvases[u].style.zIndex=String(-u-1),e.data.bufferCanvases[u].style.visibility="hidden";e.pathsEnabled=!0;var d=Rn(),p=function(se){return{x:(se.x1+se.x2)/2,y:(se.y1+se.y2)/2}},g=function(se){return{x:-se.w/2,y:-se.h/2}},y=function(se){var ye=se[0]._private,we=ye.oldBackgroundTimestamp===ye.backgroundTimestamp;return!we},b=function(se){return se[0]._private.nodeKey},x=function(se){return se[0]._private.labelStyleKey},w=function(se){return se[0]._private.sourceLabelStyleKey},_=function(se){return se[0]._private.targetLabelStyleKey},k=function(se,ye,we,Re,Ve){return e.drawElement(se,ye,we,!1,!1,Ve)},T=function(se,ye,we,Re,Ve){return e.drawElementText(se,ye,we,Re,"main",Ve)},P=function(se,ye,we,Re,Ve){return e.drawElementText(se,ye,we,Re,"source",Ve)},M=function(se,ye,we,Re,Ve){return e.drawElementText(se,ye,we,Re,"target",Ve)},A=function(se){return se.boundingBox(),se[0]._private.bodyBounds},L=function(se){return se.boundingBox(),se[0]._private.labelBounds.main||d},R=function(se){return se.boundingBox(),se[0]._private.labelBounds.source||d},N=function(se){return se.boundingBox(),se[0]._private.labelBounds.target||d},F=function(se,ye){return ye},$=function(se){return p(A(se))},V=function(se,ye,we){var Re=se?se+"-":"";return{x:ye.x+we.pstyle(Re+"text-margin-x").pfValue,y:ye.y+we.pstyle(Re+"text-margin-y").pfValue}},X=function(se,ye,we){var Re=se[0]._private.rscratch;return{x:Re[ye],y:Re[we]}},K=function(se){return V("",X(se,"labelX","labelY"),se)},W=function(se){return V("source",X(se,"sourceLabelX","sourceLabelY"),se)},H=function(se){return V("target",X(se,"targetLabelX","targetLabelY"),se)},ee=function(se){return g(A(se))},re=function(se){return g(R(se))},G=function(se){return g(N(se))},Z=function(se){var ye=L(se),we=g(L(se));if(se.isNode()){switch(se.pstyle("text-halign").value){case"left":we.x=-ye.w-(ye.leftPad||0);break;case"right":we.x=-(ye.rightPad||0);break}switch(se.pstyle("text-valign").value){case"top":we.y=-ye.h-(ye.topPad||0);break;case"bottom":we.y=-(ye.botPad||0);break}}return we},ue=e.data.eleTxrCache=new qu(e,{getKey:b,doesEleInvalidateKey:y,drawElement:k,getBoundingBox:A,getRotationPoint:$,getRotationOffset:ee,allowEdgeTxrCaching:!1,allowParentTxrCaching:!1}),pe=e.data.lblTxrCache=new qu(e,{getKey:x,drawElement:T,getBoundingBox:L,getRotationPoint:K,getRotationOffset:Z,isVisible:F}),ge=e.data.slbTxrCache=new qu(e,{getKey:w,drawElement:P,getBoundingBox:R,getRotationPoint:W,getRotationOffset:re,isVisible:F}),fe=e.data.tlbTxrCache=new qu(e,{getKey:_,drawElement:M,getBoundingBox:N,getRotationPoint:H,getRotationOffset:G,isVisible:F}),Se=e.data.lyrTxrCache=new CT(e);e.onUpdateEleCalcs(function(se,ye){ue.invalidateElements(ye),pe.invalidateElements(ye),ge.invalidateElements(ye),fe.invalidateElements(ye),Se.invalidateElements(ye);for(var we=0;we<ye.length;we++){var Re=ye[we]._private;Re.oldBackgroundTimestamp=Re.backgroundTimestamp}});var Te=function(se){for(var ye=0;ye<se.length;ye++)Se.enqueueElementRefinement(se[ye].ele)};ue.onDequeue(Te),pe.onDequeue(Te),ge.onDequeue(Te),fe.onDequeue(Te),t.webgl&&e.initWebgl(t,{getStyleKey:b,getLabelKey:x,getSourceLabelKey:w,getTargetLabelKey:_,drawElement:k,drawLabel:T,drawSourceLabel:P,drawTargetLabel:M,getElementBox:A,getLabelBox:L,getSourceLabelBox:R,getTargetLabelBox:N,getElementRotationPoint:$,getElementRotationOffset:ee,getLabelRotationPoint:K,getSourceLabelRotationPoint:W,getTargetLabelRotationPoint:H,getLabelRotationOffset:Z,getSourceLabelRotationOffset:re,getTargetLabelRotationOffset:G})}ft.redrawHint=function(t,e){var r=this;switch(t){case"eles":r.data.canvasNeedsRedraw[ft.NODE]=e;break;case"drag":r.data.canvasNeedsRedraw[ft.DRAG]=e;break;case"select":r.data.canvasNeedsRedraw[ft.SELECT_BOX]=e;break;case"gc":r.data.gc=!0;break}};var pG=typeof Path2D<"u";ft.path2dEnabled=function(t){if(t===void 0)return this.pathsEnabled;this.pathsEnabled=!!t};ft.usePaths=function(){return pG&&this.pathsEnabled};ft.setImgSmoothing=function(t,e){t.imageSmoothingEnabled!=null?t.imageSmoothingEnabled=e:(t.webkitImageSmoothingEnabled=e,t.mozImageSmoothingEnabled=e,t.msImageSmoothingEnabled=e)};ft.getImgSmoothing=function(t){return t.imageSmoothingEnabled!=null?t.imageSmoothingEnabled:t.webkitImageSmoothingEnabled||t.mozImageSmoothingEnabled||t.msImageSmoothingEnabled};ft.makeOffscreenCanvas=function(t,e){var r;if((typeof OffscreenCanvas>"u"?"undefined":Rr(OffscreenCanvas))!=="undefined")r=new OffscreenCanvas(t,e);else{var n=this.cy.window(),i=n.document;r=i.createElement("canvas"),r.width=t,r.height=e}return r};[MT,Wi,Ta,a4,So,ru,Sn,OT,Ts,x0,$T].forEach(function(t){et(ft,t)});var gG=[{name:"null",impl:pT},{name:"base",impl:kT},{name:"canvas",impl:hG}],mG=[{type:"layout",extensions:YU},{type:"renderer",extensions:gG}],qT={},HT={};function VT(t,e,r){var n=r,i=function(A){It("Can not register `"+e+"` for `"+t+"` since `"+A+"` already exists in the prototype and can not be overridden")};if(t==="core"){if(Uc.prototype[e])return i(e);Uc.prototype[e]=r}else if(t==="collection"){if(Jr.prototype[e])return i(e);Jr.prototype[e]=r}else if(t==="layout"){for(var a=function(A){this.options=A,r.call(this,A),Tt(this._private)||(this._private={}),this._private.cy=A.cy,this._private.listeners=[],this.createEmitter()},s=a.prototype=Object.create(r.prototype),o=[],l=0;l<o.length;l++){var u=o[l];s[u]=s[u]||function(){return this}}s.start&&!s.run?s.run=function(){return this.start(),this}:!s.start&&s.run&&(s.start=function(){return this.run(),this});var c=r.prototype.stop;s.stop=function(){var M=this.options;if(M&&M.animate){var A=this.animations;if(A)for(var L=0;L<A.length;L++)A[L].stop()}return c?c.call(this):this.emit("layoutstop"),this},s.destroy||(s.destroy=function(){return this}),s.cy=function(){return this._private.cy};var f=function(A){return A._private.cy},d={addEventFields:function(A,L){L.layout=A,L.cy=f(A),L.target=A},bubble:function(){return!0},parent:function(A){return f(A)}};et(s,{createEmitter:function(){return this._private.emitter=new up(d,this),this},emitter:function(){return this._private.emitter},on:function(A,L){return this.emitter().on(A,L),this},one:function(A,L){return this.emitter().one(A,L),this},once:function(A,L){return this.emitter().one(A,L),this},removeListener:function(A,L){return this.emitter().removeListener(A,L),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},emit:function(A,L){return this.emitter().emit(A,L),this}}),At.eventAliasesOn(s),n=a}else if(t==="renderer"&&e!=="null"&&e!=="base"){var p=UT("renderer","base"),g=p.prototype,y=r,b=r.prototype,x=function(){p.apply(this,arguments),y.apply(this,arguments)},w=x.prototype;for(var _ in g){var k=g[_],T=b[_]!=null;if(T)return i(_);w[_]=k}for(var P in b)w[P]=b[P];g.clientFunctions.forEach(function(M){w[M]=w[M]||function(){or("Renderer does not implement `renderer."+M+"()` on its prototype")}}),n=x}else if(t==="__proto__"||t==="constructor"||t==="prototype")return or(t+" is an illegal type to be registered, possibly lead to prototype pollutions");return lk({map:qT,keys:[t,e],value:n})}function UT(t,e){return uk({map:qT,keys:[t,e]})}function vG(t,e,r,n,i){return lk({map:HT,keys:[t,e,r,n],value:i})}function yG(t,e,r,n){return uk({map:HT,keys:[t,e,r,n]})}var iy=function(){if(arguments.length===2)return UT.apply(null,arguments);if(arguments.length===3)return VT.apply(null,arguments);if(arguments.length===4)return yG.apply(null,arguments);if(arguments.length===5)return vG.apply(null,arguments);or("Invalid extension access syntax")};Uc.prototype.extension=iy;mG.forEach(function(t){t.extensions.forEach(function(e){VT(t.type,e.name,e.impl)})});var mh=function(){if(!(this instanceof mh))return new mh;this.length=0},go=mh.prototype;go.instanceString=function(){return"stylesheet"};go.selector=function(t){var e=this.length++;return this[e]={selector:t,properties:[]},this};go.css=function(t,e){var r=this.length-1;if(Ke(t))this[r].properties.push({name:t,value:e});else if(Tt(t))for(var n=t,i=Object.keys(n),a=0;a<i.length;a++){var s=i[a],o=n[s];if(o!=null){var l=Ur.properties[s]||Ur.properties[Jh(s)];if(l!=null){var u=l.name,c=o;this[r].properties.push({name:u,value:c})}}}return this};go.style=go.css;go.generateStyle=function(t){var e=new Ur(t);return this.appendToStyle(e)};go.appendToStyle=function(t){for(var e=0;e<this.length;e++){var r=this[e],n=r.selector,i=r.properties;t.selector(n);for(var a=0;a<i.length;a++){var s=i[a];t.css(s.name,s.value)}}return t};var xG="3.31.2",vs=function(e){if(e===void 0&&(e={}),Tt(e))return new Uc(e);if(Ke(e))return iy.apply(iy,arguments)};vs.use=function(t){var e=Array.prototype.slice.call(arguments,1);return e.unshift(vs),t.apply(null,e),this};vs.warnings=function(t){return mk(t)};vs.version=xG;vs.stylesheet=vs.Stylesheet=mh;var WT={exports:{}},cv={exports:{}},fv={exports:{}},m7;function bG(){return m7||(m7=1,function(t,e){(function(n,i){t.exports=i()})(oy,function(){return function(r){var n={};function i(a){if(n[a])return n[a].exports;var s=n[a]={i:a,l:!1,exports:{}};return r[a].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=r,i.c=n,i.i=function(a){return a},i.d=function(a,s,o){i.o(a,s)||Object.defineProperty(a,s,{configurable:!1,enumerable:!0,get:o})},i.n=function(a){var s=a&&a.__esModule?function(){return a.default}:function(){return a};return i.d(s,"a",s),s},i.o=function(a,s){return Object.prototype.hasOwnProperty.call(a,s)},i.p="",i(i.s=26)}([function(r,n,i){function a(){}a.QUALITY=1,a.DEFAULT_CREATE_BENDS_AS_NEEDED=!1,a.DEFAULT_INCREMENTAL=!1,a.DEFAULT_ANIMATION_ON_LAYOUT=!0,a.DEFAULT_ANIMATION_DURING_LAYOUT=!1,a.DEFAULT_ANIMATION_PERIOD=50,a.DEFAULT_UNIFORM_LEAF_NODE_SIZES=!1,a.DEFAULT_GRAPH_MARGIN=15,a.NODE_DIMENSIONS_INCLUDE_LABELS=!1,a.SIMPLE_NODE_SIZE=40,a.SIMPLE_NODE_HALF_SIZE=a.SIMPLE_NODE_SIZE/2,a.EMPTY_COMPOUND_NODE_SIZE=40,a.MIN_EDGE_LENGTH=1,a.WORLD_BOUNDARY=1e6,a.INITIAL_WORLD_BOUNDARY=a.WORLD_BOUNDARY/1e3,a.WORLD_CENTER_X=1200,a.WORLD_CENTER_Y=900,r.exports=a},function(r,n,i){var a=i(2),s=i(8),o=i(9);function l(c,f,d){a.call(this,d),this.isOverlapingSourceAndTarget=!1,this.vGraphObject=d,this.bendpoints=[],this.source=c,this.target=f}l.prototype=Object.create(a.prototype);for(var u in a)l[u]=a[u];l.prototype.getSource=function(){return this.source},l.prototype.getTarget=function(){return this.target},l.prototype.isInterGraph=function(){return this.isInterGraph},l.prototype.getLength=function(){return this.length},l.prototype.isOverlapingSourceAndTarget=function(){return this.isOverlapingSourceAndTarget},l.prototype.getBendpoints=function(){return this.bendpoints},l.prototype.getLca=function(){return this.lca},l.prototype.getSourceInLca=function(){return this.sourceInLca},l.prototype.getTargetInLca=function(){return this.targetInLca},l.prototype.getOtherEnd=function(c){if(this.source===c)return this.target;if(this.target===c)return this.source;throw"Node is not incident with this edge"},l.prototype.getOtherEndInGraph=function(c,f){for(var d=this.getOtherEnd(c),p=f.getGraphManager().getRoot();;){if(d.getOwner()==f)return d;if(d.getOwner()==p)break;d=d.getOwner().getParent()}return null},l.prototype.updateLength=function(){var c=new Array(4);this.isOverlapingSourceAndTarget=s.getIntersection(this.target.getRect(),this.source.getRect(),c),this.isOverlapingSourceAndTarget||(this.lengthX=c[0]-c[2],this.lengthY=c[1]-c[3],Math.abs(this.lengthX)<1&&(this.lengthX=o.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=o.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY))},l.prototype.updateLengthSimple=function(){this.lengthX=this.target.getCenterX()-this.source.getCenterX(),this.lengthY=this.target.getCenterY()-this.source.getCenterY(),Math.abs(this.lengthX)<1&&(this.lengthX=o.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=o.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY)},r.exports=l},function(r,n,i){function a(s){this.vGraphObject=s}r.exports=a},function(r,n,i){var a=i(2),s=i(10),o=i(13),l=i(0),u=i(16),c=i(4);function f(p,g,y,b){y==null&&b==null&&(b=g),a.call(this,b),p.graphManager!=null&&(p=p.graphManager),this.estimatedSize=s.MIN_VALUE,this.inclusionTreeDepth=s.MAX_VALUE,this.vGraphObject=b,this.edges=[],this.graphManager=p,y!=null&&g!=null?this.rect=new o(g.x,g.y,y.width,y.height):this.rect=new o}f.prototype=Object.create(a.prototype);for(var d in a)f[d]=a[d];f.prototype.getEdges=function(){return this.edges},f.prototype.getChild=function(){return this.child},f.prototype.getOwner=function(){return this.owner},f.prototype.getWidth=function(){return this.rect.width},f.prototype.setWidth=function(p){this.rect.width=p},f.prototype.getHeight=function(){return this.rect.height},f.prototype.setHeight=function(p){this.rect.height=p},f.prototype.getCenterX=function(){return this.rect.x+this.rect.width/2},f.prototype.getCenterY=function(){return this.rect.y+this.rect.height/2},f.prototype.getCenter=function(){return new c(this.rect.x+this.rect.width/2,this.rect.y+this.rect.height/2)},f.prototype.getLocation=function(){return new c(this.rect.x,this.rect.y)},f.prototype.getRect=function(){return this.rect},f.prototype.getDiagonal=function(){return Math.sqrt(this.rect.width*this.rect.width+this.rect.height*this.rect.height)},f.prototype.getHalfTheDiagonal=function(){return Math.sqrt(this.rect.height*this.rect.height+this.rect.width*this.rect.width)/2},f.prototype.setRect=function(p,g){this.rect.x=p.x,this.rect.y=p.y,this.rect.width=g.width,this.rect.height=g.height},f.prototype.setCenter=function(p,g){this.rect.x=p-this.rect.width/2,this.rect.y=g-this.rect.height/2},f.prototype.setLocation=function(p,g){this.rect.x=p,this.rect.y=g},f.prototype.moveBy=function(p,g){this.rect.x+=p,this.rect.y+=g},f.prototype.getEdgeListToNode=function(p){var g=[],y=this;return y.edges.forEach(function(b){if(b.target==p){if(b.source!=y)throw"Incorrect edge source!";g.push(b)}}),g},f.prototype.getEdgesBetween=function(p){var g=[],y=this;return y.edges.forEach(function(b){if(!(b.source==y||b.target==y))throw"Incorrect edge source and/or target";(b.target==p||b.source==p)&&g.push(b)}),g},f.prototype.getNeighborsList=function(){var p=new Set,g=this;return g.edges.forEach(function(y){if(y.source==g)p.add(y.target);else{if(y.target!=g)throw"Incorrect incidency!";p.add(y.source)}}),p},f.prototype.withChildren=function(){var p=new Set,g,y;if(p.add(this),this.child!=null)for(var b=this.child.getNodes(),x=0;x<b.length;x++)g=b[x],y=g.withChildren(),y.forEach(function(w){p.add(w)});return p},f.prototype.getNoOfChildren=function(){var p=0,g;if(this.child==null)p=1;else for(var y=this.child.getNodes(),b=0;b<y.length;b++)g=y[b],p+=g.getNoOfChildren();return p==0&&(p=1),p},f.prototype.getEstimatedSize=function(){if(this.estimatedSize==s.MIN_VALUE)throw"assert failed";return this.estimatedSize},f.prototype.calcEstimatedSize=function(){return this.child==null?this.estimatedSize=(this.rect.width+this.rect.height)/2:(this.estimatedSize=this.child.calcEstimatedSize(),this.rect.width=this.estimatedSize,this.rect.height=this.estimatedSize,this.estimatedSize)},f.prototype.scatter=function(){var p,g,y=-l.INITIAL_WORLD_BOUNDARY,b=l.INITIAL_WORLD_BOUNDARY;p=l.WORLD_CENTER_X+u.nextDouble()*(b-y)+y;var x=-l.INITIAL_WORLD_BOUNDARY,w=l.INITIAL_WORLD_BOUNDARY;g=l.WORLD_CENTER_Y+u.nextDouble()*(w-x)+x,this.rect.x=p,this.rect.y=g},f.prototype.updateBounds=function(){if(this.getChild()==null)throw"assert failed";if(this.getChild().getNodes().length!=0){var p=this.getChild();if(p.updateBounds(!0),this.rect.x=p.getLeft(),this.rect.y=p.getTop(),this.setWidth(p.getRight()-p.getLeft()),this.setHeight(p.getBottom()-p.getTop()),l.NODE_DIMENSIONS_INCLUDE_LABELS){var g=p.getRight()-p.getLeft(),y=p.getBottom()-p.getTop();this.labelWidth>g&&(this.rect.x-=(this.labelWidth-g)/2,this.setWidth(this.labelWidth)),this.labelHeight>y&&(this.labelPos=="center"?this.rect.y-=(this.labelHeight-y)/2:this.labelPos=="top"&&(this.rect.y-=this.labelHeight-y),this.setHeight(this.labelHeight))}}},f.prototype.getInclusionTreeDepth=function(){if(this.inclusionTreeDepth==s.MAX_VALUE)throw"assert failed";return this.inclusionTreeDepth},f.prototype.transform=function(p){var g=this.rect.x;g>l.WORLD_BOUNDARY?g=l.WORLD_BOUNDARY:g<-l.WORLD_BOUNDARY&&(g=-l.WORLD_BOUNDARY);var y=this.rect.y;y>l.WORLD_BOUNDARY?y=l.WORLD_BOUNDARY:y<-l.WORLD_BOUNDARY&&(y=-l.WORLD_BOUNDARY);var b=new c(g,y),x=p.inverseTransformPoint(b);this.setLocation(x.x,x.y)},f.prototype.getLeft=function(){return this.rect.x},f.prototype.getRight=function(){return this.rect.x+this.rect.width},f.prototype.getTop=function(){return this.rect.y},f.prototype.getBottom=function(){return this.rect.y+this.rect.height},f.prototype.getParent=function(){return this.owner==null?null:this.owner.getParent()},r.exports=f},function(r,n,i){function a(s,o){s==null&&o==null?(this.x=0,this.y=0):(this.x=s,this.y=o)}a.prototype.getX=function(){return this.x},a.prototype.getY=function(){return this.y},a.prototype.setX=function(s){this.x=s},a.prototype.setY=function(s){this.y=s},a.prototype.getDifference=function(s){return new DimensionD(this.x-s.x,this.y-s.y)},a.prototype.getCopy=function(){return new a(this.x,this.y)},a.prototype.translate=function(s){return this.x+=s.width,this.y+=s.height,this},r.exports=a},function(r,n,i){var a=i(2),s=i(10),o=i(0),l=i(6),u=i(3),c=i(1),f=i(13),d=i(12),p=i(11);function g(b,x,w){a.call(this,w),this.estimatedSize=s.MIN_VALUE,this.margin=o.DEFAULT_GRAPH_MARGIN,this.edges=[],this.nodes=[],this.isConnected=!1,this.parent=b,x!=null&&x instanceof l?this.graphManager=x:x!=null&&x instanceof Layout&&(this.graphManager=x.graphManager)}g.prototype=Object.create(a.prototype);for(var y in a)g[y]=a[y];g.prototype.getNodes=function(){return this.nodes},g.prototype.getEdges=function(){return this.edges},g.prototype.getGraphManager=function(){return this.graphManager},g.prototype.getParent=function(){return this.parent},g.prototype.getLeft=function(){return this.left},g.prototype.getRight=function(){return this.right},g.prototype.getTop=function(){return this.top},g.prototype.getBottom=function(){return this.bottom},g.prototype.isConnected=function(){return this.isConnected},g.prototype.add=function(b,x,w){if(x==null&&w==null){var _=b;if(this.graphManager==null)throw"Graph has no graph mgr!";if(this.getNodes().indexOf(_)>-1)throw"Node already in graph!";return _.owner=this,this.getNodes().push(_),_}else{var k=b;if(!(this.getNodes().indexOf(x)>-1&&this.getNodes().indexOf(w)>-1))throw"Source or target not in graph!";if(!(x.owner==w.owner&&x.owner==this))throw"Both owners must be this graph!";return x.owner!=w.owner?null:(k.source=x,k.target=w,k.isInterGraph=!1,this.getEdges().push(k),x.edges.push(k),w!=x&&w.edges.push(k),k)}},g.prototype.remove=function(b){var x=b;if(b instanceof u){if(x==null)throw"Node is null!";if(!(x.owner!=null&&x.owner==this))throw"Owner graph is invalid!";if(this.graphManager==null)throw"Owner graph manager is invalid!";for(var w=x.edges.slice(),_,k=w.length,T=0;T<k;T++)_=w[T],_.isInterGraph?this.graphManager.remove(_):_.source.owner.remove(_);var P=this.nodes.indexOf(x);if(P==-1)throw"Node not in owner node list!";this.nodes.splice(P,1)}else if(b instanceof c){var _=b;if(_==null)throw"Edge is null!";if(!(_.source!=null&&_.target!=null))throw"Source and/or target is null!";if(!(_.source.owner!=null&&_.target.owner!=null&&_.source.owner==this&&_.target.owner==this))throw"Source and/or target owner is invalid!";var M=_.source.edges.indexOf(_),A=_.target.edges.indexOf(_);if(!(M>-1&&A>-1))throw"Source and/or target doesn't know this edge!";_.source.edges.splice(M,1),_.target!=_.source&&_.target.edges.splice(A,1);var P=_.source.owner.getEdges().indexOf(_);if(P==-1)throw"Not in owner's edge list!";_.source.owner.getEdges().splice(P,1)}},g.prototype.updateLeftTop=function(){for(var b=s.MAX_VALUE,x=s.MAX_VALUE,w,_,k,T=this.getNodes(),P=T.length,M=0;M<P;M++){var A=T[M];w=A.getTop(),_=A.getLeft(),b>w&&(b=w),x>_&&(x=_)}return b==s.MAX_VALUE?null:(T[0].getParent().paddingLeft!=null?k=T[0].getParent().paddingLeft:k=this.margin,this.left=x-k,this.top=b-k,new d(this.left,this.top))},g.prototype.updateBounds=function(b){for(var x=s.MAX_VALUE,w=-s.MAX_VALUE,_=s.MAX_VALUE,k=-s.MAX_VALUE,T,P,M,A,L,R=this.nodes,N=R.length,F=0;F<N;F++){var $=R[F];b&&$.child!=null&&$.updateBounds(),T=$.getLeft(),P=$.getRight(),M=$.getTop(),A=$.getBottom(),x>T&&(x=T),w<P&&(w=P),_>M&&(_=M),k<A&&(k=A)}var V=new f(x,_,w-x,k-_);x==s.MAX_VALUE&&(this.left=this.parent.getLeft(),this.right=this.parent.getRight(),this.top=this.parent.getTop(),this.bottom=this.parent.getBottom()),R[0].getParent().paddingLeft!=null?L=R[0].getParent().paddingLeft:L=this.margin,this.left=V.x-L,this.right=V.x+V.width+L,this.top=V.y-L,this.bottom=V.y+V.height+L},g.calculateBounds=function(b){for(var x=s.MAX_VALUE,w=-s.MAX_VALUE,_=s.MAX_VALUE,k=-s.MAX_VALUE,T,P,M,A,L=b.length,R=0;R<L;R++){var N=b[R];T=N.getLeft(),P=N.getRight(),M=N.getTop(),A=N.getBottom(),x>T&&(x=T),w<P&&(w=P),_>M&&(_=M),k<A&&(k=A)}var F=new f(x,_,w-x,k-_);return F},g.prototype.getInclusionTreeDepth=function(){return this==this.graphManager.getRoot()?1:this.parent.getInclusionTreeDepth()},g.prototype.getEstimatedSize=function(){if(this.estimatedSize==s.MIN_VALUE)throw"assert failed";return this.estimatedSize},g.prototype.calcEstimatedSize=function(){for(var b=0,x=this.nodes,w=x.length,_=0;_<w;_++){var k=x[_];b+=k.calcEstimatedSize()}return b==0?this.estimatedSize=o.EMPTY_COMPOUND_NODE_SIZE:this.estimatedSize=b/Math.sqrt(this.nodes.length),this.estimatedSize},g.prototype.updateConnected=function(){var b=this;if(this.nodes.length==0){this.isConnected=!0;return}var x=new p,w=new Set,_=this.nodes[0],k,T,P=_.withChildren();for(P.forEach(function(F){x.push(F),w.add(F)});x.length!==0;){_=x.shift(),k=_.getEdges();for(var M=k.length,A=0;A<M;A++){var L=k[A];if(T=L.getOtherEndInGraph(_,this),T!=null&&!w.has(T)){var R=T.withChildren();R.forEach(function(F){x.push(F),w.add(F)})}}}if(this.isConnected=!1,w.size>=this.nodes.length){var N=0;w.forEach(function(F){F.owner==b&&N++}),N==this.nodes.length&&(this.isConnected=!0)}},r.exports=g},function(r,n,i){var a,s=i(1);function o(l){a=i(5),this.layout=l,this.graphs=[],this.edges=[]}o.prototype.addRoot=function(){var l=this.layout.newGraph(),u=this.layout.newNode(null),c=this.add(l,u);return this.setRootGraph(c),this.rootGraph},o.prototype.add=function(l,u,c,f,d){if(c==null&&f==null&&d==null){if(l==null)throw"Graph is null!";if(u==null)throw"Parent node is null!";if(this.graphs.indexOf(l)>-1)throw"Graph already in this graph mgr!";if(this.graphs.push(l),l.parent!=null)throw"Already has a parent!";if(u.child!=null)throw"Already has a child!";return l.parent=u,u.child=l,l}else{d=c,f=u,c=l;var p=f.getOwner(),g=d.getOwner();if(!(p!=null&&p.getGraphManager()==this))throw"Source not in this graph mgr!";if(!(g!=null&&g.getGraphManager()==this))throw"Target not in this graph mgr!";if(p==g)return c.isInterGraph=!1,p.add(c,f,d);if(c.isInterGraph=!0,c.source=f,c.target=d,this.edges.indexOf(c)>-1)throw"Edge already in inter-graph edge list!";if(this.edges.push(c),!(c.source!=null&&c.target!=null))throw"Edge source and/or target is null!";if(!(c.source.edges.indexOf(c)==-1&&c.target.edges.indexOf(c)==-1))throw"Edge already in source and/or target incidency list!";return c.source.edges.push(c),c.target.edges.push(c),c}},o.prototype.remove=function(l){if(l instanceof a){var u=l;if(u.getGraphManager()!=this)throw"Graph not in this graph mgr";if(!(u==this.rootGraph||u.parent!=null&&u.parent.graphManager==this))throw"Invalid parent node!";var c=[];c=c.concat(u.getEdges());for(var f,d=c.length,p=0;p<d;p++)f=c[p],u.remove(f);var g=[];g=g.concat(u.getNodes());var y;d=g.length;for(var p=0;p<d;p++)y=g[p],u.remove(y);u==this.rootGraph&&this.setRootGraph(null);var b=this.graphs.indexOf(u);this.graphs.splice(b,1),u.parent=null}else if(l instanceof s){if(f=l,f==null)throw"Edge is null!";if(!f.isInterGraph)throw"Not an inter-graph edge!";if(!(f.source!=null&&f.target!=null))throw"Source and/or target is null!";if(!(f.source.edges.indexOf(f)!=-1&&f.target.edges.indexOf(f)!=-1))throw"Source and/or target doesn't know this edge!";var b=f.source.edges.indexOf(f);if(f.source.edges.splice(b,1),b=f.target.edges.indexOf(f),f.target.edges.splice(b,1),!(f.source.owner!=null&&f.source.owner.getGraphManager()!=null))throw"Edge owner graph or owner graph manager is null!";if(f.source.owner.getGraphManager().edges.indexOf(f)==-1)throw"Not in owner graph manager's edge list!";var b=f.source.owner.getGraphManager().edges.indexOf(f);f.source.owner.getGraphManager().edges.splice(b,1)}},o.prototype.updateBounds=function(){this.rootGraph.updateBounds(!0)},o.prototype.getGraphs=function(){return this.graphs},o.prototype.getAllNodes=function(){if(this.allNodes==null){for(var l=[],u=this.getGraphs(),c=u.length,f=0;f<c;f++)l=l.concat(u[f].getNodes());this.allNodes=l}return this.allNodes},o.prototype.resetAllNodes=function(){this.allNodes=null},o.prototype.resetAllEdges=function(){this.allEdges=null},o.prototype.resetAllNodesToApplyGravitation=function(){this.allNodesToApplyGravitation=null},o.prototype.getAllEdges=function(){if(this.allEdges==null){var l=[],u=this.getGraphs();u.length;for(var c=0;c<u.length;c++)l=l.concat(u[c].getEdges());l=l.concat(this.edges),this.allEdges=l}return this.allEdges},o.prototype.getAllNodesToApplyGravitation=function(){return this.allNodesToApplyGravitation},o.prototype.setAllNodesToApplyGravitation=function(l){if(this.allNodesToApplyGravitation!=null)throw"assert failed";this.allNodesToApplyGravitation=l},o.prototype.getRoot=function(){return this.rootGraph},o.prototype.setRootGraph=function(l){if(l.getGraphManager()!=this)throw"Root not in this graph mgr!";this.rootGraph=l,l.parent==null&&(l.parent=this.layout.newNode("Root node"))},o.prototype.getLayout=function(){return this.layout},o.prototype.isOneAncestorOfOther=function(l,u){if(!(l!=null&&u!=null))throw"assert failed";if(l==u)return!0;var c=l.getOwner(),f;do{if(f=c.getParent(),f==null)break;if(f==u)return!0;if(c=f.getOwner(),c==null)break}while(!0);c=u.getOwner();do{if(f=c.getParent(),f==null)break;if(f==l)return!0;if(c=f.getOwner(),c==null)break}while(!0);return!1},o.prototype.calcLowestCommonAncestors=function(){for(var l,u,c,f,d,p=this.getAllEdges(),g=p.length,y=0;y<g;y++){if(l=p[y],u=l.source,c=l.target,l.lca=null,l.sourceInLca=u,l.targetInLca=c,u==c){l.lca=u.getOwner();continue}for(f=u.getOwner();l.lca==null;){for(l.targetInLca=c,d=c.getOwner();l.lca==null;){if(d==f){l.lca=d;break}if(d==this.rootGraph)break;if(l.lca!=null)throw"assert failed";l.targetInLca=d.getParent(),d=l.targetInLca.getOwner()}if(f==this.rootGraph)break;l.lca==null&&(l.sourceInLca=f.getParent(),f=l.sourceInLca.getOwner())}if(l.lca==null)throw"assert failed"}},o.prototype.calcLowestCommonAncestor=function(l,u){if(l==u)return l.getOwner();var c=l.getOwner();do{if(c==null)break;var f=u.getOwner();do{if(f==null)break;if(f==c)return f;f=f.getParent().getOwner()}while(!0);c=c.getParent().getOwner()}while(!0);return c},o.prototype.calcInclusionTreeDepths=function(l,u){l==null&&u==null&&(l=this.rootGraph,u=1);for(var c,f=l.getNodes(),d=f.length,p=0;p<d;p++)c=f[p],c.inclusionTreeDepth=u,c.child!=null&&this.calcInclusionTreeDepths(c.child,u+1)},o.prototype.includesInvalidEdge=function(){for(var l,u=this.edges.length,c=0;c<u;c++)if(l=this.edges[c],this.isOneAncestorOfOther(l.source,l.target))return!0;return!1},r.exports=o},function(r,n,i){var a=i(0);function s(){}for(var o in a)s[o]=a[o];s.MAX_ITERATIONS=2500,s.DEFAULT_EDGE_LENGTH=50,s.DEFAULT_SPRING_STRENGTH=.45,s.DEFAULT_REPULSION_STRENGTH=4500,s.DEFAULT_GRAVITY_STRENGTH=.4,s.DEFAULT_COMPOUND_GRAVITY_STRENGTH=1,s.DEFAULT_GRAVITY_RANGE_FACTOR=3.8,s.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=1.5,s.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION=!0,s.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION=!0,s.DEFAULT_COOLING_FACTOR_INCREMENTAL=.3,s.COOLING_ADAPTATION_FACTOR=.33,s.ADAPTATION_LOWER_NODE_LIMIT=1e3,s.ADAPTATION_UPPER_NODE_LIMIT=5e3,s.MAX_NODE_DISPLACEMENT_INCREMENTAL=100,s.MAX_NODE_DISPLACEMENT=s.MAX_NODE_DISPLACEMENT_INCREMENTAL*3,s.MIN_REPULSION_DIST=s.DEFAULT_EDGE_LENGTH/10,s.CONVERGENCE_CHECK_PERIOD=100,s.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=.1,s.MIN_EDGE_LENGTH=1,s.GRID_CALCULATION_CHECK_PERIOD=10,r.exports=s},function(r,n,i){var a=i(12);function s(){}s.calcSeparationAmount=function(o,l,u,c){if(!o.intersects(l))throw"assert failed";var f=new Array(2);this.decideDirectionsForOverlappingNodes(o,l,f),u[0]=Math.min(o.getRight(),l.getRight())-Math.max(o.x,l.x),u[1]=Math.min(o.getBottom(),l.getBottom())-Math.max(o.y,l.y),o.getX()<=l.getX()&&o.getRight()>=l.getRight()?u[0]+=Math.min(l.getX()-o.getX(),o.getRight()-l.getRight()):l.getX()<=o.getX()&&l.getRight()>=o.getRight()&&(u[0]+=Math.min(o.getX()-l.getX(),l.getRight()-o.getRight())),o.getY()<=l.getY()&&o.getBottom()>=l.getBottom()?u[1]+=Math.min(l.getY()-o.getY(),o.getBottom()-l.getBottom()):l.getY()<=o.getY()&&l.getBottom()>=o.getBottom()&&(u[1]+=Math.min(o.getY()-l.getY(),l.getBottom()-o.getBottom()));var d=Math.abs((l.getCenterY()-o.getCenterY())/(l.getCenterX()-o.getCenterX()));l.getCenterY()===o.getCenterY()&&l.getCenterX()===o.getCenterX()&&(d=1);var p=d*u[0],g=u[1]/d;u[0]<g?g=u[0]:p=u[1],u[0]=-1*f[0]*(g/2+c),u[1]=-1*f[1]*(p/2+c)},s.decideDirectionsForOverlappingNodes=function(o,l,u){o.getCenterX()<l.getCenterX()?u[0]=-1:u[0]=1,o.getCenterY()<l.getCenterY()?u[1]=-1:u[1]=1},s.getIntersection2=function(o,l,u){var c=o.getCenterX(),f=o.getCenterY(),d=l.getCenterX(),p=l.getCenterY();if(o.intersects(l))return u[0]=c,u[1]=f,u[2]=d,u[3]=p,!0;var g=o.getX(),y=o.getY(),b=o.getRight(),x=o.getX(),w=o.getBottom(),_=o.getRight(),k=o.getWidthHalf(),T=o.getHeightHalf(),P=l.getX(),M=l.getY(),A=l.getRight(),L=l.getX(),R=l.getBottom(),N=l.getRight(),F=l.getWidthHalf(),$=l.getHeightHalf(),V=!1,X=!1;if(c===d){if(f>p)return u[0]=c,u[1]=y,u[2]=d,u[3]=R,!1;if(f<p)return u[0]=c,u[1]=w,u[2]=d,u[3]=M,!1}else if(f===p){if(c>d)return u[0]=g,u[1]=f,u[2]=A,u[3]=p,!1;if(c<d)return u[0]=b,u[1]=f,u[2]=P,u[3]=p,!1}else{var K=o.height/o.width,W=l.height/l.width,H=(p-f)/(d-c),ee=void 0,re=void 0,G=void 0,Z=void 0,ue=void 0,pe=void 0;if(-K===H?c>d?(u[0]=x,u[1]=w,V=!0):(u[0]=b,u[1]=y,V=!0):K===H&&(c>d?(u[0]=g,u[1]=y,V=!0):(u[0]=_,u[1]=w,V=!0)),-W===H?d>c?(u[2]=L,u[3]=R,X=!0):(u[2]=A,u[3]=M,X=!0):W===H&&(d>c?(u[2]=P,u[3]=M,X=!0):(u[2]=N,u[3]=R,X=!0)),V&&X)return!1;if(c>d?f>p?(ee=this.getCardinalDirection(K,H,4),re=this.getCardinalDirection(W,H,2)):(ee=this.getCardinalDirection(-K,H,3),re=this.getCardinalDirection(-W,H,1)):f>p?(ee=this.getCardinalDirection(-K,H,1),re=this.getCardinalDirection(-W,H,3)):(ee=this.getCardinalDirection(K,H,2),re=this.getCardinalDirection(W,H,4)),!V)switch(ee){case 1:Z=y,G=c+-T/H,u[0]=G,u[1]=Z;break;case 2:G=_,Z=f+k*H,u[0]=G,u[1]=Z;break;case 3:Z=w,G=c+T/H,u[0]=G,u[1]=Z;break;case 4:G=x,Z=f+-k*H,u[0]=G,u[1]=Z;break}if(!X)switch(re){case 1:pe=M,ue=d+-$/H,u[2]=ue,u[3]=pe;break;case 2:ue=N,pe=p+F*H,u[2]=ue,u[3]=pe;break;case 3:pe=R,ue=d+$/H,u[2]=ue,u[3]=pe;break;case 4:ue=L,pe=p+-F*H,u[2]=ue,u[3]=pe;break}}return!1},s.getCardinalDirection=function(o,l,u){return o>l?u:1+u%4},s.getIntersection=function(o,l,u,c){if(c==null)return this.getIntersection2(o,l,u);var f=o.x,d=o.y,p=l.x,g=l.y,y=u.x,b=u.y,x=c.x,w=c.y,_=void 0,k=void 0,T=void 0,P=void 0,M=void 0,A=void 0,L=void 0,R=void 0,N=void 0;return T=g-d,M=f-p,L=p*d-f*g,P=w-b,A=y-x,R=x*b-y*w,N=T*A-P*M,N===0?null:(_=(M*R-A*L)/N,k=(P*L-T*R)/N,new a(_,k))},s.angleOfVector=function(o,l,u,c){var f=void 0;return o!==u?(f=Math.atan((c-l)/(u-o)),u<o?f+=Math.PI:c<l&&(f+=this.TWO_PI)):c<l?f=this.ONE_AND_HALF_PI:f=this.HALF_PI,f},s.doIntersect=function(o,l,u,c){var f=o.x,d=o.y,p=l.x,g=l.y,y=u.x,b=u.y,x=c.x,w=c.y,_=(p-f)*(w-b)-(x-y)*(g-d);if(_===0)return!1;var k=((w-b)*(x-f)+(y-x)*(w-d))/_,T=((d-g)*(x-f)+(p-f)*(w-d))/_;return 0<k&&k<1&&0<T&&T<1},s.HALF_PI=.5*Math.PI,s.ONE_AND_HALF_PI=1.5*Math.PI,s.TWO_PI=2*Math.PI,s.THREE_PI=3*Math.PI,r.exports=s},function(r,n,i){function a(){}a.sign=function(s){return s>0?1:s<0?-1:0},a.floor=function(s){return s<0?Math.ceil(s):Math.floor(s)},a.ceil=function(s){return s<0?Math.floor(s):Math.ceil(s)},r.exports=a},function(r,n,i){function a(){}a.MAX_VALUE=2147483647,a.MIN_VALUE=-2147483648,r.exports=a},function(r,n,i){var a=function(){function f(d,p){for(var g=0;g<p.length;g++){var y=p[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(d,y.key,y)}}return function(d,p,g){return p&&f(d.prototype,p),g&&f(d,g),d}}();function s(f,d){if(!(f instanceof d))throw new TypeError("Cannot call a class as a function")}var o=function(d){return{value:d,next:null,prev:null}},l=function(d,p,g,y){return d!==null?d.next=p:y.head=p,g!==null?g.prev=p:y.tail=p,p.prev=d,p.next=g,y.length++,p},u=function(d,p){var g=d.prev,y=d.next;return g!==null?g.next=y:p.head=y,y!==null?y.prev=g:p.tail=g,d.prev=d.next=null,p.length--,d},c=function(){function f(d){var p=this;s(this,f),this.length=0,this.head=null,this.tail=null,d!=null&&d.forEach(function(g){return p.push(g)})}return a(f,[{key:"size",value:function(){return this.length}},{key:"insertBefore",value:function(p,g){return l(g.prev,o(p),g,this)}},{key:"insertAfter",value:function(p,g){return l(g,o(p),g.next,this)}},{key:"insertNodeBefore",value:function(p,g){return l(g.prev,p,g,this)}},{key:"insertNodeAfter",value:function(p,g){return l(g,p,g.next,this)}},{key:"push",value:function(p){return l(this.tail,o(p),null,this)}},{key:"unshift",value:function(p){return l(null,o(p),this.head,this)}},{key:"remove",value:function(p){return u(p,this)}},{key:"pop",value:function(){return u(this.tail,this).value}},{key:"popNode",value:function(){return u(this.tail,this)}},{key:"shift",value:function(){return u(this.head,this).value}},{key:"shiftNode",value:function(){return u(this.head,this)}},{key:"get_object_at",value:function(p){if(p<=this.length()){for(var g=1,y=this.head;g<p;)y=y.next,g++;return y.value}}},{key:"set_object_at",value:function(p,g){if(p<=this.length()){for(var y=1,b=this.head;y<p;)b=b.next,y++;b.value=g}}}]),f}();r.exports=c},function(r,n,i){function a(s,o,l){this.x=null,this.y=null,s==null&&o==null&&l==null?(this.x=0,this.y=0):typeof s=="number"&&typeof o=="number"&&l==null?(this.x=s,this.y=o):s.constructor.name=="Point"&&o==null&&l==null&&(l=s,this.x=l.x,this.y=l.y)}a.prototype.getX=function(){return this.x},a.prototype.getY=function(){return this.y},a.prototype.getLocation=function(){return new a(this.x,this.y)},a.prototype.setLocation=function(s,o,l){s.constructor.name=="Point"&&o==null&&l==null?(l=s,this.setLocation(l.x,l.y)):typeof s=="number"&&typeof o=="number"&&l==null&&(parseInt(s)==s&&parseInt(o)==o?this.move(s,o):(this.x=Math.floor(s+.5),this.y=Math.floor(o+.5)))},a.prototype.move=function(s,o){this.x=s,this.y=o},a.prototype.translate=function(s,o){this.x+=s,this.y+=o},a.prototype.equals=function(s){if(s.constructor.name=="Point"){var o=s;return this.x==o.x&&this.y==o.y}return this==s},a.prototype.toString=function(){return new a().constructor.name+"[x="+this.x+",y="+this.y+"]"},r.exports=a},function(r,n,i){function a(s,o,l,u){this.x=0,this.y=0,this.width=0,this.height=0,s!=null&&o!=null&&l!=null&&u!=null&&(this.x=s,this.y=o,this.width=l,this.height=u)}a.prototype.getX=function(){return this.x},a.prototype.setX=function(s){this.x=s},a.prototype.getY=function(){return this.y},a.prototype.setY=function(s){this.y=s},a.prototype.getWidth=function(){return this.width},a.prototype.setWidth=function(s){this.width=s},a.prototype.getHeight=function(){return this.height},a.prototype.setHeight=function(s){this.height=s},a.prototype.getRight=function(){return this.x+this.width},a.prototype.getBottom=function(){return this.y+this.height},a.prototype.intersects=function(s){return!(this.getRight()<s.x||this.getBottom()<s.y||s.getRight()<this.x||s.getBottom()<this.y)},a.prototype.getCenterX=function(){return this.x+this.width/2},a.prototype.getMinX=function(){return this.getX()},a.prototype.getMaxX=function(){return this.getX()+this.width},a.prototype.getCenterY=function(){return this.y+this.height/2},a.prototype.getMinY=function(){return this.getY()},a.prototype.getMaxY=function(){return this.getY()+this.height},a.prototype.getWidthHalf=function(){return this.width/2},a.prototype.getHeightHalf=function(){return this.height/2},r.exports=a},function(r,n,i){var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o};function s(){}s.lastID=0,s.createID=function(o){return s.isPrimitive(o)?o:(o.uniqueID!=null||(o.uniqueID=s.getString(),s.lastID++),o.uniqueID)},s.getString=function(o){return o==null&&(o=s.lastID),"Object#"+o},s.isPrimitive=function(o){var l=typeof o>"u"?"undefined":a(o);return o==null||l!="object"&&l!="function"},r.exports=s},function(r,n,i){function a(y){if(Array.isArray(y)){for(var b=0,x=Array(y.length);b<y.length;b++)x[b]=y[b];return x}else return Array.from(y)}var s=i(0),o=i(6),l=i(3),u=i(1),c=i(5),f=i(4),d=i(17),p=i(27);function g(y){p.call(this),this.layoutQuality=s.QUALITY,this.createBendsAsNeeded=s.DEFAULT_CREATE_BENDS_AS_NEEDED,this.incremental=s.DEFAULT_INCREMENTAL,this.animationOnLayout=s.DEFAULT_ANIMATION_ON_LAYOUT,this.animationDuringLayout=s.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=s.DEFAULT_ANIMATION_PERIOD,this.uniformLeafNodeSizes=s.DEFAULT_UNIFORM_LEAF_NODE_SIZES,this.edgeToDummyNodes=new Map,this.graphManager=new o(this),this.isLayoutFinished=!1,this.isSubLayout=!1,this.isRemoteUse=!1,y!=null&&(this.isRemoteUse=y)}g.RANDOM_SEED=1,g.prototype=Object.create(p.prototype),g.prototype.getGraphManager=function(){return this.graphManager},g.prototype.getAllNodes=function(){return this.graphManager.getAllNodes()},g.prototype.getAllEdges=function(){return this.graphManager.getAllEdges()},g.prototype.getAllNodesToApplyGravitation=function(){return this.graphManager.getAllNodesToApplyGravitation()},g.prototype.newGraphManager=function(){var y=new o(this);return this.graphManager=y,y},g.prototype.newGraph=function(y){return new c(null,this.graphManager,y)},g.prototype.newNode=function(y){return new l(this.graphManager,y)},g.prototype.newEdge=function(y){return new u(null,null,y)},g.prototype.checkLayoutSuccess=function(){return this.graphManager.getRoot()==null||this.graphManager.getRoot().getNodes().length==0||this.graphManager.includesInvalidEdge()},g.prototype.runLayout=function(){this.isLayoutFinished=!1,this.tilingPreLayout&&this.tilingPreLayout(),this.initParameters();var y;return this.checkLayoutSuccess()?y=!1:y=this.layout(),s.ANIMATE==="during"?!1:(y&&(this.isSubLayout||this.doPostLayout()),this.tilingPostLayout&&this.tilingPostLayout(),this.isLayoutFinished=!0,y)},g.prototype.doPostLayout=function(){this.incremental||this.transform(),this.update()},g.prototype.update2=function(){if(this.createBendsAsNeeded&&(this.createBendpointsFromDummyNodes(),this.graphManager.resetAllEdges()),!this.isRemoteUse){for(var y=this.graphManager.getAllEdges(),b=0;b<y.length;b++)y[b];for(var x=this.graphManager.getRoot().getNodes(),b=0;b<x.length;b++)x[b];this.update(this.graphManager.getRoot())}},g.prototype.update=function(y){if(y==null)this.update2();else if(y instanceof l){var b=y;if(b.getChild()!=null)for(var x=b.getChild().getNodes(),w=0;w<x.length;w++)update(x[w]);if(b.vGraphObject!=null){var _=b.vGraphObject;_.update(b)}}else if(y instanceof u){var k=y;if(k.vGraphObject!=null){var T=k.vGraphObject;T.update(k)}}else if(y instanceof c){var P=y;if(P.vGraphObject!=null){var M=P.vGraphObject;M.update(P)}}},g.prototype.initParameters=function(){this.isSubLayout||(this.layoutQuality=s.QUALITY,this.animationDuringLayout=s.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=s.DEFAULT_ANIMATION_PERIOD,this.animationOnLayout=s.DEFAULT_ANIMATION_ON_LAYOUT,this.incremental=s.DEFAULT_INCREMENTAL,this.createBendsAsNeeded=s.DEFAULT_CREATE_BENDS_AS_NEEDED,this.uniformLeafNodeSizes=s.DEFAULT_UNIFORM_LEAF_NODE_SIZES),this.animationDuringLayout&&(this.animationOnLayout=!1)},g.prototype.transform=function(y){if(y==null)this.transform(new f(0,0));else{var b=new d,x=this.graphManager.getRoot().updateLeftTop();if(x!=null){b.setWorldOrgX(y.x),b.setWorldOrgY(y.y),b.setDeviceOrgX(x.x),b.setDeviceOrgY(x.y);for(var w=this.getAllNodes(),_,k=0;k<w.length;k++)_=w[k],_.transform(b)}}},g.prototype.positionNodesRandomly=function(y){if(y==null)this.positionNodesRandomly(this.getGraphManager().getRoot()),this.getGraphManager().getRoot().updateBounds(!0);else for(var b,x,w=y.getNodes(),_=0;_<w.length;_++)b=w[_],x=b.getChild(),x==null||x.getNodes().length==0?b.scatter():(this.positionNodesRandomly(x),b.updateBounds())},g.prototype.getFlatForest=function(){for(var y=[],b=!0,x=this.graphManager.getRoot().getNodes(),w=!0,_=0;_<x.length;_++)x[_].getChild()!=null&&(w=!1);if(!w)return y;var k=new Set,T=[],P=new Map,M=[];for(M=M.concat(x);M.length>0&&b;){for(T.push(M[0]);T.length>0&&b;){var A=T[0];T.splice(0,1),k.add(A);for(var L=A.getEdges(),_=0;_<L.length;_++){var R=L[_].getOtherEnd(A);if(P.get(A)!=R)if(!k.has(R))T.push(R),P.set(R,A);else{b=!1;break}}}if(!b)y=[];else{var N=[].concat(a(k));y.push(N);for(var _=0;_<N.length;_++){var F=N[_],$=M.indexOf(F);$>-1&&M.splice($,1)}k=new Set,P=new Map}}return y},g.prototype.createDummyNodesForBendpoints=function(y){for(var b=[],x=y.source,w=this.graphManager.calcLowestCommonAncestor(y.source,y.target),_=0;_<y.bendpoints.length;_++){var k=this.newNode(null);k.setRect(new Point(0,0),new Dimension(1,1)),w.add(k);var T=this.newEdge(null);this.graphManager.add(T,x,k),b.add(k),x=k}var T=this.newEdge(null);return this.graphManager.add(T,x,y.target),this.edgeToDummyNodes.set(y,b),y.isInterGraph()?this.graphManager.remove(y):w.remove(y),b},g.prototype.createBendpointsFromDummyNodes=function(){var y=[];y=y.concat(this.graphManager.getAllEdges()),y=[].concat(a(this.edgeToDummyNodes.keys())).concat(y);for(var b=0;b<y.length;b++){var x=y[b];if(x.bendpoints.length>0){for(var w=this.edgeToDummyNodes.get(x),_=0;_<w.length;_++){var k=w[_],T=new f(k.getCenterX(),k.getCenterY()),P=x.bendpoints.get(_);P.x=T.x,P.y=T.y,k.getOwner().remove(k)}this.graphManager.add(x,x.source,x.target)}}},g.transform=function(y,b,x,w){if(x!=null&&w!=null){var _=b;if(y<=50){var k=b/x;_-=(b-k)/50*(50-y)}else{var T=b*w;_+=(T-b)/50*(y-50)}return _}else{var P,M;return y<=50?(P=9*b/500,M=b/10):(P=9*b/50,M=-8*b),P*y+M}},g.findCenterOfTree=function(y){var b=[];b=b.concat(y);var x=[],w=new Map,_=!1,k=null;(b.length==1||b.length==2)&&(_=!0,k=b[0]);for(var T=0;T<b.length;T++){var P=b[T],M=P.getNeighborsList().size;w.set(P,P.getNeighborsList().size),M==1&&x.push(P)}var A=[];for(A=A.concat(x);!_;){var L=[];L=L.concat(A),A=[];for(var T=0;T<b.length;T++){var P=b[T],R=b.indexOf(P);R>=0&&b.splice(R,1);var N=P.getNeighborsList();N.forEach(function(V){if(x.indexOf(V)<0){var X=w.get(V),K=X-1;K==1&&A.push(V),w.set(V,K)}})}x=x.concat(A),(b.length==1||b.length==2)&&(_=!0,k=b[0])}return k},g.prototype.setGraphManager=function(y){this.graphManager=y},r.exports=g},function(r,n,i){function a(){}a.seed=1,a.x=0,a.nextDouble=function(){return a.x=Math.sin(a.seed++)*1e4,a.x-Math.floor(a.x)},r.exports=a},function(r,n,i){var a=i(4);function s(o,l){this.lworldOrgX=0,this.lworldOrgY=0,this.ldeviceOrgX=0,this.ldeviceOrgY=0,this.lworldExtX=1,this.lworldExtY=1,this.ldeviceExtX=1,this.ldeviceExtY=1}s.prototype.getWorldOrgX=function(){return this.lworldOrgX},s.prototype.setWorldOrgX=function(o){this.lworldOrgX=o},s.prototype.getWorldOrgY=function(){return this.lworldOrgY},s.prototype.setWorldOrgY=function(o){this.lworldOrgY=o},s.prototype.getWorldExtX=function(){return this.lworldExtX},s.prototype.setWorldExtX=function(o){this.lworldExtX=o},s.prototype.getWorldExtY=function(){return this.lworldExtY},s.prototype.setWorldExtY=function(o){this.lworldExtY=o},s.prototype.getDeviceOrgX=function(){return this.ldeviceOrgX},s.prototype.setDeviceOrgX=function(o){this.ldeviceOrgX=o},s.prototype.getDeviceOrgY=function(){return this.ldeviceOrgY},s.prototype.setDeviceOrgY=function(o){this.ldeviceOrgY=o},s.prototype.getDeviceExtX=function(){return this.ldeviceExtX},s.prototype.setDeviceExtX=function(o){this.ldeviceExtX=o},s.prototype.getDeviceExtY=function(){return this.ldeviceExtY},s.prototype.setDeviceExtY=function(o){this.ldeviceExtY=o},s.prototype.transformX=function(o){var l=0,u=this.lworldExtX;return u!=0&&(l=this.ldeviceOrgX+(o-this.lworldOrgX)*this.ldeviceExtX/u),l},s.prototype.transformY=function(o){var l=0,u=this.lworldExtY;return u!=0&&(l=this.ldeviceOrgY+(o-this.lworldOrgY)*this.ldeviceExtY/u),l},s.prototype.inverseTransformX=function(o){var l=0,u=this.ldeviceExtX;return u!=0&&(l=this.lworldOrgX+(o-this.ldeviceOrgX)*this.lworldExtX/u),l},s.prototype.inverseTransformY=function(o){var l=0,u=this.ldeviceExtY;return u!=0&&(l=this.lworldOrgY+(o-this.ldeviceOrgY)*this.lworldExtY/u),l},s.prototype.inverseTransformPoint=function(o){var l=new a(this.inverseTransformX(o.x),this.inverseTransformY(o.y));return l},r.exports=s},function(r,n,i){function a(p){if(Array.isArray(p)){for(var g=0,y=Array(p.length);g<p.length;g++)y[g]=p[g];return y}else return Array.from(p)}var s=i(15),o=i(7),l=i(0),u=i(8),c=i(9);function f(){s.call(this),this.useSmartIdealEdgeLengthCalculation=o.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.idealEdgeLength=o.DEFAULT_EDGE_LENGTH,this.springConstant=o.DEFAULT_SPRING_STRENGTH,this.repulsionConstant=o.DEFAULT_REPULSION_STRENGTH,this.gravityConstant=o.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=o.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=o.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=o.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.displacementThresholdPerNode=3*o.DEFAULT_EDGE_LENGTH/100,this.coolingFactor=o.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.initialCoolingFactor=o.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.totalDisplacement=0,this.oldTotalDisplacement=0,this.maxIterations=o.MAX_ITERATIONS}f.prototype=Object.create(s.prototype);for(var d in s)f[d]=s[d];f.prototype.initParameters=function(){s.prototype.initParameters.call(this,arguments),this.totalIterations=0,this.notAnimatedIterations=0,this.useFRGridVariant=o.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION,this.grid=[]},f.prototype.calcIdealEdgeLengths=function(){for(var p,g,y,b,x,w,_=this.getGraphManager().getAllEdges(),k=0;k<_.length;k++)p=_[k],p.idealLength=this.idealEdgeLength,p.isInterGraph&&(y=p.getSource(),b=p.getTarget(),x=p.getSourceInLca().getEstimatedSize(),w=p.getTargetInLca().getEstimatedSize(),this.useSmartIdealEdgeLengthCalculation&&(p.idealLength+=x+w-2*l.SIMPLE_NODE_SIZE),g=p.getLca().getInclusionTreeDepth(),p.idealLength+=o.DEFAULT_EDGE_LENGTH*o.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR*(y.getInclusionTreeDepth()+b.getInclusionTreeDepth()-2*g))},f.prototype.initSpringEmbedder=function(){var p=this.getAllNodes().length;this.incremental?(p>o.ADAPTATION_LOWER_NODE_LIMIT&&(this.coolingFactor=Math.max(this.coolingFactor*o.COOLING_ADAPTATION_FACTOR,this.coolingFactor-(p-o.ADAPTATION_LOWER_NODE_LIMIT)/(o.ADAPTATION_UPPER_NODE_LIMIT-o.ADAPTATION_LOWER_NODE_LIMIT)*this.coolingFactor*(1-o.COOLING_ADAPTATION_FACTOR))),this.maxNodeDisplacement=o.MAX_NODE_DISPLACEMENT_INCREMENTAL):(p>o.ADAPTATION_LOWER_NODE_LIMIT?this.coolingFactor=Math.max(o.COOLING_ADAPTATION_FACTOR,1-(p-o.ADAPTATION_LOWER_NODE_LIMIT)/(o.ADAPTATION_UPPER_NODE_LIMIT-o.ADAPTATION_LOWER_NODE_LIMIT)*(1-o.COOLING_ADAPTATION_FACTOR)):this.coolingFactor=1,this.initialCoolingFactor=this.coolingFactor,this.maxNodeDisplacement=o.MAX_NODE_DISPLACEMENT),this.maxIterations=Math.max(this.getAllNodes().length*5,this.maxIterations),this.totalDisplacementThreshold=this.displacementThresholdPerNode*this.getAllNodes().length,this.repulsionRange=this.calcRepulsionRange()},f.prototype.calcSpringForces=function(){for(var p=this.getAllEdges(),g,y=0;y<p.length;y++)g=p[y],this.calcSpringForce(g,g.idealLength)},f.prototype.calcRepulsionForces=function(){var p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,y,b,x,w,_=this.getAllNodes(),k;if(this.useFRGridVariant)for(this.totalIterations%o.GRID_CALCULATION_CHECK_PERIOD==1&&p&&this.updateGrid(),k=new Set,y=0;y<_.length;y++)x=_[y],this.calculateRepulsionForceOfANode(x,k,p,g),k.add(x);else for(y=0;y<_.length;y++)for(x=_[y],b=y+1;b<_.length;b++)w=_[b],x.getOwner()==w.getOwner()&&this.calcRepulsionForce(x,w)},f.prototype.calcGravitationalForces=function(){for(var p,g=this.getAllNodesToApplyGravitation(),y=0;y<g.length;y++)p=g[y],this.calcGravitationalForce(p)},f.prototype.moveNodes=function(){for(var p=this.getAllNodes(),g,y=0;y<p.length;y++)g=p[y],g.move()},f.prototype.calcSpringForce=function(p,g){var y=p.getSource(),b=p.getTarget(),x,w,_,k;if(this.uniformLeafNodeSizes&&y.getChild()==null&&b.getChild()==null)p.updateLengthSimple();else if(p.updateLength(),p.isOverlapingSourceAndTarget)return;x=p.getLength(),x!=0&&(w=this.springConstant*(x-g),_=w*(p.lengthX/x),k=w*(p.lengthY/x),y.springForceX+=_,y.springForceY+=k,b.springForceX-=_,b.springForceY-=k)},f.prototype.calcRepulsionForce=function(p,g){var y=p.getRect(),b=g.getRect(),x=new Array(2),w=new Array(4),_,k,T,P,M,A,L;if(y.intersects(b)){u.calcSeparationAmount(y,b,x,o.DEFAULT_EDGE_LENGTH/2),A=2*x[0],L=2*x[1];var R=p.noOfChildren*g.noOfChildren/(p.noOfChildren+g.noOfChildren);p.repulsionForceX-=R*A,p.repulsionForceY-=R*L,g.repulsionForceX+=R*A,g.repulsionForceY+=R*L}else this.uniformLeafNodeSizes&&p.getChild()==null&&g.getChild()==null?(_=b.getCenterX()-y.getCenterX(),k=b.getCenterY()-y.getCenterY()):(u.getIntersection(y,b,w),_=w[2]-w[0],k=w[3]-w[1]),Math.abs(_)<o.MIN_REPULSION_DIST&&(_=c.sign(_)*o.MIN_REPULSION_DIST),Math.abs(k)<o.MIN_REPULSION_DIST&&(k=c.sign(k)*o.MIN_REPULSION_DIST),T=_*_+k*k,P=Math.sqrt(T),M=this.repulsionConstant*p.noOfChildren*g.noOfChildren/T,A=M*_/P,L=M*k/P,p.repulsionForceX-=A,p.repulsionForceY-=L,g.repulsionForceX+=A,g.repulsionForceY+=L},f.prototype.calcGravitationalForce=function(p){var g,y,b,x,w,_,k,T;g=p.getOwner(),y=(g.getRight()+g.getLeft())/2,b=(g.getTop()+g.getBottom())/2,x=p.getCenterX()-y,w=p.getCenterY()-b,_=Math.abs(x)+p.getWidth()/2,k=Math.abs(w)+p.getHeight()/2,p.getOwner()==this.graphManager.getRoot()?(T=g.getEstimatedSize()*this.gravityRangeFactor,(_>T||k>T)&&(p.gravitationForceX=-this.gravityConstant*x,p.gravitationForceY=-this.gravityConstant*w)):(T=g.getEstimatedSize()*this.compoundGravityRangeFactor,(_>T||k>T)&&(p.gravitationForceX=-this.gravityConstant*x*this.compoundGravityConstant,p.gravitationForceY=-this.gravityConstant*w*this.compoundGravityConstant))},f.prototype.isConverged=function(){var p,g=!1;return this.totalIterations>this.maxIterations/3&&(g=Math.abs(this.totalDisplacement-this.oldTotalDisplacement)<2),p=this.totalDisplacement<this.totalDisplacementThreshold,this.oldTotalDisplacement=this.totalDisplacement,p||g},f.prototype.animate=function(){this.animationDuringLayout&&!this.isSubLayout&&(this.notAnimatedIterations==this.animationPeriod?(this.update(),this.notAnimatedIterations=0):this.notAnimatedIterations++)},f.prototype.calcNoOfChildrenForAllNodes=function(){for(var p,g=this.graphManager.getAllNodes(),y=0;y<g.length;y++)p=g[y],p.noOfChildren=p.getNoOfChildren()},f.prototype.calcGrid=function(p){var g=0,y=0;g=parseInt(Math.ceil((p.getRight()-p.getLeft())/this.repulsionRange)),y=parseInt(Math.ceil((p.getBottom()-p.getTop())/this.repulsionRange));for(var b=new Array(g),x=0;x<g;x++)b[x]=new Array(y);for(var x=0;x<g;x++)for(var w=0;w<y;w++)b[x][w]=new Array;return b},f.prototype.addNodeToGrid=function(p,g,y){var b=0,x=0,w=0,_=0;b=parseInt(Math.floor((p.getRect().x-g)/this.repulsionRange)),x=parseInt(Math.floor((p.getRect().width+p.getRect().x-g)/this.repulsionRange)),w=parseInt(Math.floor((p.getRect().y-y)/this.repulsionRange)),_=parseInt(Math.floor((p.getRect().height+p.getRect().y-y)/this.repulsionRange));for(var k=b;k<=x;k++)for(var T=w;T<=_;T++)this.grid[k][T].push(p),p.setGridCoordinates(b,x,w,_)},f.prototype.updateGrid=function(){var p,g,y=this.getAllNodes();for(this.grid=this.calcGrid(this.graphManager.getRoot()),p=0;p<y.length;p++)g=y[p],this.addNodeToGrid(g,this.graphManager.getRoot().getLeft(),this.graphManager.getRoot().getTop())},f.prototype.calculateRepulsionForceOfANode=function(p,g,y,b){if(this.totalIterations%o.GRID_CALCULATION_CHECK_PERIOD==1&&y||b){var x=new Set;p.surrounding=new Array;for(var w,_=this.grid,k=p.startX-1;k<p.finishX+2;k++)for(var T=p.startY-1;T<p.finishY+2;T++)if(!(k<0||T<0||k>=_.length||T>=_[0].length)){for(var P=0;P<_[k][T].length;P++)if(w=_[k][T][P],!(p.getOwner()!=w.getOwner()||p==w)&&!g.has(w)&&!x.has(w)){var M=Math.abs(p.getCenterX()-w.getCenterX())-(p.getWidth()/2+w.getWidth()/2),A=Math.abs(p.getCenterY()-w.getCenterY())-(p.getHeight()/2+w.getHeight()/2);M<=this.repulsionRange&&A<=this.repulsionRange&&x.add(w)}}p.surrounding=[].concat(a(x))}for(k=0;k<p.surrounding.length;k++)this.calcRepulsionForce(p,p.surrounding[k])},f.prototype.calcRepulsionRange=function(){return 0},r.exports=f},function(r,n,i){var a=i(1),s=i(7);function o(u,c,f){a.call(this,u,c,f),this.idealLength=s.DEFAULT_EDGE_LENGTH}o.prototype=Object.create(a.prototype);for(var l in a)o[l]=a[l];r.exports=o},function(r,n,i){var a=i(3);function s(l,u,c,f){a.call(this,l,u,c,f),this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0,this.startX=0,this.finishX=0,this.startY=0,this.finishY=0,this.surrounding=[]}s.prototype=Object.create(a.prototype);for(var o in a)s[o]=a[o];s.prototype.setGridCoordinates=function(l,u,c,f){this.startX=l,this.finishX=u,this.startY=c,this.finishY=f},r.exports=s},function(r,n,i){function a(s,o){this.width=0,this.height=0,s!==null&&o!==null&&(this.height=o,this.width=s)}a.prototype.getWidth=function(){return this.width},a.prototype.setWidth=function(s){this.width=s},a.prototype.getHeight=function(){return this.height},a.prototype.setHeight=function(s){this.height=s},r.exports=a},function(r,n,i){var a=i(14);function s(){this.map={},this.keys=[]}s.prototype.put=function(o,l){var u=a.createID(o);this.contains(u)||(this.map[u]=l,this.keys.push(o))},s.prototype.contains=function(o){return a.createID(o),this.map[o]!=null},s.prototype.get=function(o){var l=a.createID(o);return this.map[l]},s.prototype.keySet=function(){return this.keys},r.exports=s},function(r,n,i){var a=i(14);function s(){this.set={}}s.prototype.add=function(o){var l=a.createID(o);this.contains(l)||(this.set[l]=o)},s.prototype.remove=function(o){delete this.set[a.createID(o)]},s.prototype.clear=function(){this.set={}},s.prototype.contains=function(o){return this.set[a.createID(o)]==o},s.prototype.isEmpty=function(){return this.size()===0},s.prototype.size=function(){return Object.keys(this.set).length},s.prototype.addAllTo=function(o){for(var l=Object.keys(this.set),u=l.length,c=0;c<u;c++)o.push(this.set[l[c]])},s.prototype.size=function(){return Object.keys(this.set).length},s.prototype.addAll=function(o){for(var l=o.length,u=0;u<l;u++){var c=o[u];this.add(c)}},r.exports=s},function(r,n,i){var a=function(){function u(c,f){for(var d=0;d<f.length;d++){var p=f[d];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(c,p.key,p)}}return function(c,f,d){return f&&u(c.prototype,f),d&&u(c,d),c}}();function s(u,c){if(!(u instanceof c))throw new TypeError("Cannot call a class as a function")}var o=i(11),l=function(){function u(c,f){s(this,u),(f!==null||f!==void 0)&&(this.compareFunction=this._defaultCompareFunction);var d=void 0;c instanceof o?d=c.size():d=c.length,this._quicksort(c,0,d-1)}return a(u,[{key:"_quicksort",value:function(f,d,p){if(d<p){var g=this._partition(f,d,p);this._quicksort(f,d,g),this._quicksort(f,g+1,p)}}},{key:"_partition",value:function(f,d,p){for(var g=this._get(f,d),y=d,b=p;;){for(;this.compareFunction(g,this._get(f,b));)b--;for(;this.compareFunction(this._get(f,y),g);)y++;if(y<b)this._swap(f,y,b),y++,b--;else return b}}},{key:"_get",value:function(f,d){return f instanceof o?f.get_object_at(d):f[d]}},{key:"_set",value:function(f,d,p){f instanceof o?f.set_object_at(d,p):f[d]=p}},{key:"_swap",value:function(f,d,p){var g=this._get(f,d);this._set(f,d,this._get(f,p)),this._set(f,p,g)}},{key:"_defaultCompareFunction",value:function(f,d){return d>f}}]),u}();r.exports=l},function(r,n,i){var a=function(){function l(u,c){for(var f=0;f<c.length;f++){var d=c[f];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(u,d.key,d)}}return function(u,c,f){return c&&l(u.prototype,c),f&&l(u,f),u}}();function s(l,u){if(!(l instanceof u))throw new TypeError("Cannot call a class as a function")}var o=function(){function l(u,c){var f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,d=arguments.length>3&&arguments[3]!==void 0?arguments[3]:-1,p=arguments.length>4&&arguments[4]!==void 0?arguments[4]:-1;s(this,l),this.sequence1=u,this.sequence2=c,this.match_score=f,this.mismatch_penalty=d,this.gap_penalty=p,this.iMax=u.length+1,this.jMax=c.length+1,this.grid=new Array(this.iMax);for(var g=0;g<this.iMax;g++){this.grid[g]=new Array(this.jMax);for(var y=0;y<this.jMax;y++)this.grid[g][y]=0}this.tracebackGrid=new Array(this.iMax);for(var b=0;b<this.iMax;b++){this.tracebackGrid[b]=new Array(this.jMax);for(var x=0;x<this.jMax;x++)this.tracebackGrid[b][x]=[null,null,null]}this.alignments=[],this.score=-1,this.computeGrids()}return a(l,[{key:"getScore",value:function(){return this.score}},{key:"getAlignments",value:function(){return this.alignments}},{key:"computeGrids",value:function(){for(var c=1;c<this.jMax;c++)this.grid[0][c]=this.grid[0][c-1]+this.gap_penalty,this.tracebackGrid[0][c]=[!1,!1,!0];for(var f=1;f<this.iMax;f++)this.grid[f][0]=this.grid[f-1][0]+this.gap_penalty,this.tracebackGrid[f][0]=[!1,!0,!1];for(var d=1;d<this.iMax;d++)for(var p=1;p<this.jMax;p++){var g=void 0;this.sequence1[d-1]===this.sequence2[p-1]?g=this.grid[d-1][p-1]+this.match_score:g=this.grid[d-1][p-1]+this.mismatch_penalty;var y=this.grid[d-1][p]+this.gap_penalty,b=this.grid[d][p-1]+this.gap_penalty,x=[g,y,b],w=this.arrayAllMaxIndexes(x);this.grid[d][p]=x[w[0]],this.tracebackGrid[d][p]=[w.includes(0),w.includes(1),w.includes(2)]}this.score=this.grid[this.iMax-1][this.jMax-1]}},{key:"alignmentTraceback",value:function(){var c=[];for(c.push({pos:[this.sequence1.length,this.sequence2.length],seq1:"",seq2:""});c[0];){var f=c[0],d=this.tracebackGrid[f.pos[0]][f.pos[1]];d[0]&&c.push({pos:[f.pos[0]-1,f.pos[1]-1],seq1:this.sequence1[f.pos[0]-1]+f.seq1,seq2:this.sequence2[f.pos[1]-1]+f.seq2}),d[1]&&c.push({pos:[f.pos[0]-1,f.pos[1]],seq1:this.sequence1[f.pos[0]-1]+f.seq1,seq2:"-"+f.seq2}),d[2]&&c.push({pos:[f.pos[0],f.pos[1]-1],seq1:"-"+f.seq1,seq2:this.sequence2[f.pos[1]-1]+f.seq2}),f.pos[0]===0&&f.pos[1]===0&&this.alignments.push({sequence1:f.seq1,sequence2:f.seq2}),c.shift()}return this.alignments}},{key:"getAllIndexes",value:function(c,f){for(var d=[],p=-1;(p=c.indexOf(f,p+1))!==-1;)d.push(p);return d}},{key:"arrayAllMaxIndexes",value:function(c){return this.getAllIndexes(c,Math.max.apply(null,c))}}]),l}();r.exports=o},function(r,n,i){var a=function(){};a.FDLayout=i(18),a.FDLayoutConstants=i(7),a.FDLayoutEdge=i(19),a.FDLayoutNode=i(20),a.DimensionD=i(21),a.HashMap=i(22),a.HashSet=i(23),a.IGeometry=i(8),a.IMath=i(9),a.Integer=i(10),a.Point=i(12),a.PointD=i(4),a.RandomSeed=i(16),a.RectangleD=i(13),a.Transform=i(17),a.UniqueIDGeneretor=i(14),a.Quicksort=i(24),a.LinkedList=i(11),a.LGraphObject=i(2),a.LGraph=i(5),a.LEdge=i(1),a.LGraphManager=i(6),a.LNode=i(3),a.Layout=i(15),a.LayoutConstants=i(0),a.NeedlemanWunsch=i(25),r.exports=a},function(r,n,i){function a(){this.listeners=[]}var s=a.prototype;s.addListener=function(o,l){this.listeners.push({event:o,callback:l})},s.removeListener=function(o,l){for(var u=this.listeners.length;u>=0;u--){var c=this.listeners[u];c.event===o&&c.callback===l&&this.listeners.splice(u,1)}},s.emit=function(o,l){for(var u=0;u<this.listeners.length;u++){var c=this.listeners[u];o===c.event&&c.callback(l)}},r.exports=a}])})}(fv)),fv.exports}var v7;function wG(){return v7||(v7=1,function(t,e){(function(n,i){t.exports=i(bG())})(oy,function(r){return function(n){var i={};function a(s){if(i[s])return i[s].exports;var o=i[s]={i:s,l:!1,exports:{}};return n[s].call(o.exports,o,o.exports,a),o.l=!0,o.exports}return a.m=n,a.c=i,a.i=function(s){return s},a.d=function(s,o,l){a.o(s,o)||Object.defineProperty(s,o,{configurable:!1,enumerable:!0,get:l})},a.n=function(s){var o=s&&s.__esModule?function(){return s.default}:function(){return s};return a.d(o,"a",o),o},a.o=function(s,o){return Object.prototype.hasOwnProperty.call(s,o)},a.p="",a(a.s=6)}([function(n,i){n.exports=r},function(n,i,a){var s=a(0).LGraph;function o(u,c,f){s.call(this,u,c,f),this.inOrder=void 0,this.currentIndex=0,this.nodeSeparation=void 0,this.stack=[],this.perimeter=0,this.centerX=0,this.centerY=0,this.radius=0}o.prototype=Object.create(s.prototype);for(var l in s)o[l]=s[l];o.prototype.initOrdering=function(){this.inOrder=[]},o.prototype.getOrder=function(){return this.inOrder},o.prototype.getCenterX=function(){return this.centerX},o.prototype.getCenterY=function(){return this.centerY},o.prototype.getRadius=function(){return this.radius},o.prototype.getSize=function(){return this.getNodes().length},o.prototype.getTotalCrossingOfCircle=function(){var u=this,c=0;for(var f in u.inOrder){var d=f.getTotalCrossingOfEdges();if(d===-1)return-1;c+=d}return c/4},o.prototype.hasFinishedOrdering=function(){return this.currentIndex===this.getNodes().length},o.prototype.getNodeSeparation=function(){return this.nodeSeparation},o.prototype.setNodeSeparation=function(u){this.nodeSeparation=u},o.prototype.correctAngles=function(){var u=this;u.currentIndex=0,u.inOrder.forEach(function(c){return u.putInOrder(c)})},o.prototype.putInOrder=function(u){for(var c=this,f=c.getNodes(),d=!1,p=0;p<f.length;p++)if(f[p].id==u.id){d=!0;break}if(!d)throw"The node must be a member of LGraph";c.inOrder[c.currentIndex]=u,u.setIndex(c.currentIndex),c.currentIndex===0?u.setAngle(0):u.setAngle(c.inOrder[c.currentIndex-1].getAngle()+2*Math.PI*(u.getDiagonal()/2+c.nodeSeparation+c.inOrder[c.currentIndex-1].getDiagonal()/2)/c.perimeter),c.currentIndex++},o.prototype.findNodeToPlace=function(){var u=this,c=void 0;if(u.stack.length===0)c=u.findUnorderedSmallestDegreeNode();else{for(var f=!1;!f&&u.stack.length!==0;)c=u.stack.pop(),f=!c.isOrdered();f||(c=void 0)}if(c===void 0&&(c=u.findUnorderedSmallestDegreeNode()),c!==void 0)for(var d=c.getNeighborsSortedByDegree(),p=d.length-1;p>=0;p--){var g=d[p];g.isOrdered()||u.stack.push(g)}return c},o.prototype.calculateRadius=function(){var u=this,c=0;u.getNodes().forEach(function(d){return c+=Math.sqrt(d.getWidth()*d.getWidth()+d.getHeight()*d.getHeight())}),u.perimeter=c+u.getNodes().length*u.nodeSeparation;var f=u.perimeter/(2*Math.PI);u.getParent().setWidth(2*f),u.getParent().setHeight(2*f),u.getParent().setCenter(u.getParent().getWidth(),u.getParent().getHeight()),u.centerX=u.getParent().getCenterX(),u.centerY=u.getParent().getCenterY(),u.radius=u.getParent().getHeight()/2},o.prototype.calculateEdgeCrossingsOfNodes=function(){this.getNodes().forEach(function(u){return u.calculateTotalCrossing()})},o.prototype.loadOldIndicesOfNodes=function(){for(var u=this,c=0;c<this.inOrder.length;c++)u.inOrder[c].setIndex(c)},o.prototype.reOrderVertices=function(){var u=this;this.getNodes().forEach(function(c){return u.inOrder[c.getIndex()]=c})},o.prototype.findUnorderedSmallestDegreeNode=function(){var u=Number.MAX_SAFE_INTEGER,c=void 0;return this.getNodes().forEach(function(f){f.getDegree()<u&&!f.isOrdered()&&(u=f.getDegree(),c=f)}),c},n.exports=o},function(n,i,a){var s=a(0).LayoutConstants;function o(){}for(var l in s)o[l]=s[l];o.DEFAULT_NODE_SEPARATION=60,n.exports=o},function(n,i,a){var s=a(0).LEdge;function o(u,c,f){s.call(this,u,c,f)}o.prototype=Object.create(s.prototype);for(var l in s)o[l]=s[l];o.prototype.getOtherEnd=function(u){return s.prototype.getOtherEnd(u)},o.prototype.crossesWithEdge=function(u){var c=this,f=c.getSource().getIndex(),d=c.getTarget().getIndex(),p=u.getSource().getIndex(),g=u.getTarget().getIndex();if(f===-1||d===-1||p===-1||g===-1)return!1;var y=u.getSource().getCircDistWithTheNode(c.getSource()),b=u.getTarget().getCircDistWithTheNode(c.getSource()),x=c.getTarget().getCircDistWithTheNode(c.getSource());return x<Math.max(y,b)&&x>Math.min(y,b)&&b!==0&&y!==0},o.prototype.crossingWithEdge=function(u){var c=this,f=c.crossesWithEdge(u);return f?1:0},o.prototype.calculateTotalCrossingWithList=function(u){var c=this,f=0;return u.forEach(function(d){return f+=c.crossingWithEdge(d)}),f},n.exports=o},function(n,i,a){var s=a(0).LNode;a(0).Quicksort;function o(u,c,f,d){f!==void 0&&d!==void 0?s.call(this,u,c,f,d):s.call(this,u,c),this.angle=0,this.circleIndex=-1,this.totalCrossingOfEdges=-1,this.isCrossingNumberValid=!1}o.prototype=Object.create(s.prototype);for(var l in s)o[l]=s[l];o.prototype.getCircle=function(){return this.getOwner()},o.prototype.setIndex=function(u){this.circleIndex=u,this.isCrossingNumberValid=!1},o.prototype.getIndex=function(){return this.circleIndex},o.prototype.getNeighborsSortedByDegree=function(){var u=this,c=Array.from(u.getNeighborsList());return c=c.filter(function(f){return f.getIndex()===-1}),c.sort(function(f,d){return f.getDegree()-d.getDegree()}),c},o.prototype.getDegree=function(){return this.getEdges().length},o.prototype.isOrdered=function(){return this.getIndex()>-1},o.prototype.setAngle=function(u){this.angle=u},o.prototype.getAngle=function(){return this.angle},o.prototype.getCircDistWithTheNode=function(u){var c=this,f=u.getIndex();if(f===-1||c.getIndex()===-1)return-1;var d=c.getIndex()-f;return d<0&&(d+=c.getCircle().getSize()),d},o.prototype.getCrossingNumberWithNode=function(u){var c=this,f=0;return c.getEdges().forEach(function(d){u.getEdges().forEach(function(p){f+=d.crossingWithEdge(p)})}),f},o.prototype.getTotalCrossingOfEdges=function(){var u=this;return u.isCrossingNumberValid||(u.calculateTotalCrossing(),u.isCrossingNumberValid=!0),u.totalCrossingOfEdges},o.prototype.calculateTotalCrossing=function(){var u=this,c=0,f=[];f.push.apply(f,u.getCircle().getEdges()),f=f.filter(function(d){return u.getEdges().indexOf(d)<0}),u.getEdges().forEach(function(d){return c+=d.calculateTotalCrossingWithList(f)}),u.totalCrossingOfEdges=c},n.exports=o},function(n,i,a){var s=a(0).Layout,o=a(2),l=a(1),u=a(4),c=a(3);function f(){s.call(this),this.nodeSeparation=o.DEFAULT_NODE_SEPARATION}f.prototype=Object.create(s.prototype);for(var d in s)f[d]=s[d];f.prototype.newGraph=function(p){return this.avsdfCircle=new l(null,this.graphManager,p),this.avsdfCircle},f.prototype.newNode=function(p){return new u(this.graphManager,p)},f.prototype.newEdge=function(p){return new c(null,null,p)},f.prototype.getPositionsData=function(){for(var p=this.graphManager.getAllNodes(),g={},y=0;y<p.length;y++){var b=p[y].rect,x=p[y].id;g[x]={id:x,x:b.getCenterX(),y:b.getCenterY(),w:b.width,h:b.height}}return g},f.prototype.layout=function(){var p=this;if(p.graphManager.getGraphs().length>1)return!1;var g=this.avsdfCircle;for(g.setNodeSeparation(this.nodeSeparation),g.calculateRadius(),g.initOrdering();!g.hasFinishedOrdering();){var y=g.findNodeToPlace();g.putInOrder(y)}return!0},f.prototype.updateNodeAngles=function(){this.graphManager.getRoot().correctAngles()},f.prototype.updateNodeCoordinates=function(){var p=this.graphManager.getRoot();p.getNodes().forEach(function(g){g.setCenter(p.getCenterX()+p.getRadius()*Math.cos(g.getAngle()),p.getCenterY()+p.getRadius()*Math.sin(g.getAngle()))})},f.prototype.initPostProcess=function(){this.avsdfCircle.calculateEdgeCrossingsOfNodes();var p=this.avsdfCircle.getNodes();return p.sort(function(g,y){return y.getTotalCrossingOfEdges()-g.getTotalCrossingOfEdges()}),p},f.prototype.oneStepPostProcess=function(p){for(var g=this,y=p.getTotalCrossingOfEdges(),b=void 0,x=Array.from(p.getNeighborsList()),w=0;w<x.length;w++){var _=x[w],k=p.getIndex(),T=(_.getIndex()+1)%g.avsdfCircle.getSize();if(k!==T){p.setIndex(T),k<p.getIndex()&&(k+=g.avsdfCircle.getSize());for(var P=p.getIndex();P<k;){var M=g.avsdfCircle.getOrder()[P%g.avsdfCircle.getSize()];M.setIndex((M.getIndex()+1)%g.avsdfCircle.getSize()),P+=1}p.calculateTotalCrossing(),b=p.getTotalCrossingOfEdges(),b>=y?g.avsdfCircle.loadOldIndicesOfNodes():(g.avsdfCircle.reOrderVertices(),y=b)}}},n.exports=f},function(n,i,a){var s={};s.layoutBase=a(0),s.AVSDFConstants=a(2),s.AVSDFEdge=a(3),s.AVSDFCircle=a(1),s.AVSDFLayout=a(5),s.AVSDFNode=a(4),n.exports=s}])})}(cv)),cv.exports}(function(t,e){(function(n,i){t.exports=i(wG())})(oy,function(r){return function(n){var i={};function a(s){if(i[s])return i[s].exports;var o=i[s]={i:s,l:!1,exports:{}};return n[s].call(o.exports,o,o.exports,a),o.l=!0,o.exports}return a.m=n,a.c=i,a.i=function(s){return s},a.d=function(s,o,l){a.o(s,o)||Object.defineProperty(s,o,{configurable:!1,enumerable:!0,get:l})},a.n=function(s){var o=s&&s.__esModule?function(){return s.default}:function(){return s};return a.d(o,"a",o),o},a.o=function(s,o){return Object.prototype.hasOwnProperty.call(s,o)},a.p="",a(a.s=3)}([function(n,i){n.exports=r},function(n,i,a){n.exports=Object.assign!=null?Object.assign.bind(Object):function(s){for(var o=arguments.length,l=Array(o>1?o-1:0),u=1;u<o;u++)l[u-1]=arguments[u];return l.forEach(function(c){Object.keys(c).forEach(function(f){return s[f]=c[f]})}),s}},function(n,i,a){n.exports=a(4)},function(n,i,a){var s=a(2),o=function(u){u&&u("layout","avsdf",s)};typeof cytoscape<"u"&&o(cytoscape),n.exports=o},function(n,i,a){var s=function(){function k(T,P){for(var M=0;M<P.length;M++){var A=P[M];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(T,A.key,A)}}return function(T,P,M){return P&&k(T.prototype,P),M&&k(T,M),T}}(),o=function k(T,P,M){T===null&&(T=Function.prototype);var A=Object.getOwnPropertyDescriptor(T,P);if(A===void 0){var L=Object.getPrototypeOf(T);return L===null?void 0:k(L,P,M)}else{if("value"in A)return A.value;var R=A.get;return R===void 0?void 0:R.call(M)}};function l(k,T){if(!(k instanceof T))throw new TypeError("Cannot call a class as a function")}function u(k,T){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:k}function c(k,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);k.prototype=Object.create(T&&T.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(k,T):k.__proto__=T)}var f=a(0).AVSDFLayout,d=a(0).AVSDFNode,p=a(0).AVSDFConstants,g=a(0).layoutBase.PointD,y=a(0).layoutBase.DimensionD,b=a(1),x=a(6),w={ready:function(){},stop:function(){},refresh:30,fit:!0,padding:10,randomize:!1,animate:"end",animationDuration:500,nodeSeparation:60},_=function(k){c(T,k);function T(P){l(this,T);var M=u(this,(T.__proto__||Object.getPrototypeOf(T)).call(this,b({},w,P)));return P.nodeSeparation!=null?p.DEFAULT_NODE_SEPARATION=P.nodeSeparation:p.DEFAULT_NODE_SEPARATION=w.nodeSeparation,M}return s(T,[{key:"prerun",value:function(){var M=this.state,A=this.avsdfLayout=new f,L=this.graphManager=A.newGraphManager(),R=this.root=L.addRoot(),N=M.nodes,F=M.edges;this.idToLNode={},this.processChildrenList(R,N,A);for(var $=0;$<F.length;$++){var V=F[$],X=this.idToLNode[V.data("source")],K=this.idToLNode[V.data("target")];if(X!==K&&X.getEdgesBetween(K).length===0){var W=L.add(A.newEdge(),X,K);W.id=V.id()}}A.layout(),A.updateNodeCoordinates(),this.sortedByDegreeList=A.initPostProcess()}},{key:"tick",value:function(){var M=this,A=this.state,L=this.avsdfLayout.getPositionsData();if(A.nodes.forEach(function(R){var N=M.getScratch(R);N.x=L[R.data("id")].x,N.y=L[R.data("id")].y}),A.tickIndex>=A.nodes.size())return!0;this.avsdfLayout.oneStepPostProcess(this.sortedByDegreeList[A.tickIndex]),this.avsdfLayout.updateNodeAngles(),this.avsdfLayout.updateNodeCoordinates()}},{key:"postrun",value:function(){}},{key:"destroy",value:function(){return o(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"destroy",this).call(this),this}},{key:"processChildrenList",value:function(M,A,L){for(var R=A.length,N=0;N<R;N++){var F=A[N],$=void 0,V=F.layoutDimensions({nodeDimensionsIncludeLabels:!1});F.outerWidth()!=null&&F.outerHeight()!=null?$=M.add(new d(L.graphManager,null,new g(F.position("x")-V.w/2,F.position("y")-V.h/2),new y(parseFloat(V.w),parseFloat(V.h)))):$=M.add(new d(this.graphManager)),$.id=F.data("id"),$.paddingLeft=parseInt(F.css("padding")),$.paddingTop=parseInt(F.css("padding")),$.paddingRight=parseInt(F.css("padding")),$.paddingBottom=parseInt(F.css("padding")),this.idToLNode[F.data("id")]=$,isNaN($.rect.x)&&($.rect.x=0),isNaN($.rect.y)&&($.rect.y=0)}}}]),T}(x);n.exports=_},function(n,i,a){n.exports=Object.freeze({animate:!0,refresh:10,maxIterations:1e3,ungrabifyWhileSimulating:!1,fit:!0,padding:30,boundingBox:void 0,ready:function(){},stop:function(){},randomize:!1,infinite:!1})},function(n,i,a){var s=function(){function w(_,k){for(var T=0;T<k.length;T++){var P=k[T];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(_,P.key,P)}}return function(_,k,T){return k&&w(_.prototype,k),T&&w(_,T),_}}();function o(w,_){if(!(w instanceof _))throw new TypeError("Cannot call a class as a function")}var l=a(1),u=a(5),c=a(7),f=a(8),d=f.setInitialPositionState,p=f.refreshPositions,g=f.getNodePositionData,y=a(9),b=y.multitick,x=function(){function w(_){o(this,w);var k=this.options=l({},u,_),T=this.state=l({},k,{layout:this,nodes:k.eles.nodes(),edges:k.eles.edges(),tickIndex:0,firstUpdate:!0});T.animateEnd=k.animate&&k.animate==="end",T.animateContinuously=k.animate&&!T.animateEnd}return s(w,[{key:"getScratch",value:function(k){var T=this.state.name,P=k.scratch(T);return P||(P={},k.scratch(T,P)),P}},{key:"run",value:function(){var k=this,T=this.state;if(T.tickIndex=0,T.firstUpdate=!0,T.startTime=Date.now(),T.running=!0,T.currentBoundingBox=c(T.boundingBox,T.cy),T.ready&&k.one("ready",T.ready),T.stop&&k.one("stop",T.stop),T.nodes.forEach(function(G){return d(G,T)}),k.prerun(T),T.animateContinuously){var P=function(Z){if(T.ungrabifyWhileSimulating){var ue=g(Z,T).grabbable=Z.grabbable();ue&&Z.ungrabify()}},M=function(Z){if(T.ungrabifyWhileSimulating){var ue=g(Z,T).grabbable;ue&&Z.grabify()}},A=function(Z){return g(Z,T).grabbed=Z.grabbed()},L=function(Z){var ue=Z.target;A(ue)},R=L,N=function(Z){var ue=Z.target,pe=g(ue,T),ge=ue.position();pe.x=ge.x,pe.y=ge.y},F=function(Z){Z.on("grab",L),Z.on("free",R),Z.on("drag",N)},$=function(Z){Z.removeListener("grab",L),Z.removeListener("free",R),Z.removeListener("drag",N)},V=function(){T.fit&&T.animateContinuously&&T.cy.fit(T.padding)},X=function(){p(T.nodes,T),V(),requestAnimationFrame(K)},K=function(){b(T,X,W)},W=function(){p(T.nodes,T),V(),T.nodes.forEach(function(Z){M(Z),$(Z)}),T.running=!1,k.emit("layoutstop")};k.emit("layoutstart"),T.nodes.forEach(function(G){P(G),F(G)}),K()}else{for(var H=!1,ee=function(){},re=function(){return H=!0};!H;)b(T,ee,re);T.eles.layoutPositions(this,T,function(G){var Z=g(G,T);return{x:Z.x,y:Z.y}})}return k.postrun(T),this}},{key:"prerun",value:function(){}},{key:"postrun",value:function(){}},{key:"tick",value:function(){}},{key:"stop",value:function(){return this.state.running=!1,this}},{key:"destroy",value:function(){return this}}]),w}();n.exports=x},function(n,i,a){n.exports=function(s,o){return s==null?s={x1:0,y1:0,w:o.width(),h:o.height()}:s={x1:s.x1,x2:s.x2,y1:s.y1,y2:s.y2,w:s.w,h:s.h},s.x2==null&&(s.x2=s.x1+s.w),s.w==null&&(s.w=s.x2-s.x1),s.y2==null&&(s.y2=s.y1+s.h),s.h==null&&(s.h=s.y2-s.y1),s}},function(n,i,a){var s=a(1),o=function(f,d){var p=f.position(),g=d.currentBoundingBox,y=f.scratch(d.name);y==null&&(y={},f.scratch(d.name,y)),s(y,d.randomize?{x:g.x1+Math.round(Math.random()*g.w),y:g.y1+Math.round(Math.random()*g.h)}:{x:p.x,y:p.y}),y.locked=f.locked()},l=function(f,d){return f.scratch(d.name)},u=function(f,d){f.positions(function(p){var g=p.scratch(d.name);return{x:g.x,y:g.y}})};n.exports={setInitialPositionState:o,getNodePositionData:l,refreshPositions:u}},function(n,i,a){var s=function(){},o=function(c){var f=c,d=c.layout,p=d.tick(f);return f.firstUpdate&&(f.animateContinuously&&f.layout.emit("layoutready"),f.firstUpdate=!1),f.tickIndex++,Date.now()-f.startTime,!f.infinite&&p},l=function(c){for(var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:s,d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:s,p=!1,g=c,y=0;y<g.refresh&&(p=!g.running||o(g),!p);y++);p?d():f()};n.exports={tick:o,multitick:l}}])})})(WT);var _G=WT.exports;const SG=A7(_G),kG=({qTable:t,rewardsTable:e,currentStateIx:r,currentActionIx:n,actionStatus:i,markovChainMode:a,epsilon:s})=>{const o=o2(),l=Q.useRef(null),u=Q.useMemo(()=>a==="rewards"?e:a==="qTable"?t:t.map((g,y)=>{const b=Math.max(...g.filter(w=>w!=null)),x=g.findIndex(w=>w===b);return g.map((w,_)=>{if(y!==_)return _==x?1-2*s/3:s/3})}),[a,t,e,s]);vs.use(SG);const c=Q.useMemo(()=>{const g=u.length,y=[];for(let b=0;b<g;b++)y.push({data:{id:`n${b}`,label:`State ${b}`,type:"ellipse",bgImage:`crawler/state_${b}.png`,active:b===r?"true":"false"},grabbable:!1});for(let b=0;b<g;b++)for(let x=0;x<g;x++){const w=u[b][x];console.log(w),w!==void 0&&(console.log("added"),y.push({data:{id:`e${b}-${x}`,source:`n${b}`,target:`n${x}`,weight:w!==null?w:b===r&&x===n?0:"?",label:a==="epsilon"?"":w!==null?w>0?`+${w}`:`${w}`:"?",active:b===r&&x===n?"true":"false"}}))}return y},[n,r,u,a]),f=[{selector:"node",style:{height:20,width:20,"background-color":"#fafafa","background-image":"data(bgImage)","background-fit":"cover","font-size":8,"border-width":.2,"border-color":"#080808","overlay-opacity":0}},{selector:'node[active = "true"]',style:{height:22,width:22,"background-color":"#ddd","transition-property":"width","transition-duration":.2}},{selector:"edge",style:{"curve-style":"bezier","control-point-step-size":10,"line-color":"#ddd",width:.5,"target-arrow-shape":"triangle","target-arrow-color":"#ddd","arrow-scale":.3,label:"data(label)","font-size":3,"font-weight":700,"font-family":"Lato",color:"#ddd","text-outline-width":.5,"text-outline-color":"#fff","overlay-opacity":0}},{selector:"edge[weight > 0]",style:{"line-color":o.green,"target-arrow-color":o.green,color:o.green}},{selector:"edge[weight < 0]",style:{"line-color":o.red,"target-arrow-color":o.red,color:o.red}},{selector:"edge[weight = 0]",style:{"line-color":o.darkGray,"target-arrow-color":o.darkGray,color:o.darkGray}},{selector:'edge[active = "true"]',style:{"line-style":"dashed","line-dash-pattern":[2,1],"line-dash-offset":0,width:.75,"arrow-scale":.5,"font-size":4,"text-outline-width":.75}},{selector:'edge[active = "true"][weight="?"]',style:{"line-color":o.black,"target-arrow-color":o.black,color:o.black}},{selector:'edge[active = "true"][weight=0]',style:{"line-color":o.black,"target-arrow-color":o.black,color:o.black}},{selector:'edge[active = "true"][weight>0]',style:{"line-color":o.darkGreen,"target-arrow-color":o.darkGreen,color:o.darkGreen}},{selector:'edge[active = "true"][weight<0]',style:{"line-color":o.darkRed,"target-arrow-color":o.darkRed,color:o.darkRed}}],d=Q.useRef(null),p=Q.useRef(null);return Q.useEffect(()=>{if(l.current)return d.current=vs({container:l.current,elements:c,style:f,layout:{name:"avsdf"},userZoomingEnabled:!1,userPanningEnabled:!1,zoom:1}),()=>{var g;(g=d.current)==null||g.destroy()}},[]),Q.useEffect(()=>{if(!d.current)return;const g=d.current;if(g.elements('[active="true"]').removeClass("active").data("active","false"),g.getElementById(`n${r}`).addClass("active").data("active","true"),n!==null){const y=g.getElementById(`e${r}-${n}`);if(y.addClass("active").data("active","true"),i==="started"){let b=0;p.current&&clearInterval(p.current),p.current=setInterval(()=>{b-=.3,y.style("line-dash-offset",b)},50)}}return()=>{p.current&&clearInterval(p.current)}},[r,n,i]),Q.useEffect(()=>{if(!d.current)return;const g=d.current;u.forEach((y,b)=>{y.forEach((x,w)=>{const _=g.getElementById(`e${b}-${w}`);_&&_.data({weight:x??"?",label:x!=null?x>0?`+${x}`:`${x}`:"?"})})})},[u]),z.jsx("div",{ref:l,style:{width:"100%",aspectRatio:"1/1"}})},TG=({waitBeforeNextMove:t,handleWaitBeforeNextMoveChange:e,explorationModes:r,currentExplorationMode:n,handleExplorationModeChange:i,handleContinue:a,handlePause:s,handleReset:o,actionType:l,thinkFuture:u,handleThinkFutureChange:c})=>{const{t:f}=Xt();return z.jsxs(CG,{children:[z.jsx(Ae.Text,{children:f("Crawler.controls")}),z.jsxs(EG,{children:[z.jsx(ua,{onClick:a,icon:z.jsx(b_,{})}),z.jsx(ua,{onClick:s,icon:z.jsx(oA,{})}),z.jsx(ua,{onClick:o,icon:z.jsx(iA,{})})]}),z.jsx(Oc,{text:f("Crawler.modeLabel"),value:t,handleChange:e}),z.jsx(Oc,{text:f("Crawler.thinkFutureLabel"),value:u,handleChange:c}),z.jsx(L2,{segments:r,currentId:n,handleSelectOption:i,label:f("Crawler.explorationLabel")}),z.jsx(Ae.Text,{children:f("Crawler.actionTypeLabel")}),z.jsxs(MG,{children:[z.jsxs(y7,{$active:l==="exploitation",children:[z.jsx(Ae.Text,{children:f("Crawler.actionType.exploitation")}),z.jsx(x7,{style:{backgroundImage:"url(crawler/exploitation.png)"}})]}),z.jsxs(y7,{$active:l==="exploration",children:[z.jsx(Ae.Text,{children:f("Crawler.actionType.exploration")}),z.jsx(x7,{style:{backgroundImage:"url(crawler/exploration.png)"}})]})]})]})},EG=Ee.div.withConfig({displayName:"CrawlerControls__ButtonRow",componentId:"sc-c4uqox-0"})(["display:grid;grid-template-columns:1fr 1fr 1fr;gap:10px;width:100%;"]),CG=Ee.div.withConfig({displayName:"CrawlerControls__Wrapper",componentId:"sc-c4uqox-1"})(["width:100%;padding:0 5px 30px 0;display:flex;flex-direction:column;justify-content:flex-start;align-items:flex-start;& > p{font-weight:600;}grid-area:c;"]),MG=Ee.div.withConfig({displayName:"CrawlerControls__ActionTypesWrapper",componentId:"sc-c4uqox-2"})(["display:flex;justify-content:center;gap:50px;width:100%;padding:10px 0;"]),y7=Ee.div.withConfig({displayName:"CrawlerControls__ActionTypeBlock",componentId:"sc-c4uqox-3"})(["display:flex;flex-direction:column;& > p{font-weight:700;text-align:center;font-size:16px;}transition:all 0.3s ease-in;& div{filter:",";}padding:0 10px 5px;border-radius:5px;",";"],({$active:t})=>t?"none":"grayscale(100%)",({$active:t})=>t?`
transform: scale(1.1);
border: 2px solid black;
  `:`
transform: scale(0.9);
border: 0px solid black;
  `),x7=Ee.div.withConfig({displayName:"CrawlerControls__ActionImageWrapper",componentId:"sc-c4uqox-4"})(["height:100px;width:100%;align-self:center;background-size:contain;background-position:center;background-repeat:no-repeat;"]),PG=({active:t,handleClose:e,crawlerSettings:r,setCrawlerSettings:n})=>{const{t:i}=Xt();return z.jsx(R2,{$active:t,handleClose:e,children:z.jsxs(z.Fragment,{children:[z.jsx(Ae.H3,{children:i("Settings.title")}),z.jsxs(Au,{children:[z.jsx(Ae.Text,{children:i("Settings.distanceSensorPort")}),z.jsx(qi,{options:ns.map(a=>({id:a,text:a})),currentOptionId:r.distanceSensorPort,handleOptionSelect:a=>n(s=>({...s,distanceSensorPort:a})),width:"100px"})]}),z.jsxs(Au,{children:[z.jsx(Ae.Text,{children:i("Settings.bigMotorPort")}),z.jsx(qi,{options:ns.map(a=>({id:a,text:a})),currentOptionId:r.bigMotorPort,handleOptionSelect:a=>n(s=>({...s,bigMotorPort:a})),width:"100px"})]}),z.jsxs(Au,{children:[z.jsx(Ae.Text,{children:i("Settings.smallMotorPort")}),z.jsx(qi,{options:ns.map(a=>({id:a,text:a})),currentOptionId:r.smallMotorPort,handleOptionSelect:a=>n(s=>({...s,smallMotorPort:a})),width:"100px"})]}),z.jsx(Au,{children:z.jsx(yl,{value:r.bigMotorSpeed,label:i("Settings.bigMotorSpeed"),minValue:5,maxValue:20,onChange:a=>n(s=>({...s,bigMotorSpeed:a})),writeValue:!0})}),z.jsx(Au,{children:z.jsx(yl,{value:r.smallMotorSpeed,label:i("Settings.smallMotorSpeed"),minValue:5,maxValue:20,onChange:a=>n(s=>({...s,smallMotorSpeed:a})),writeValue:!0})})]})})},Au=Ee.div.withConfig({displayName:"CrawlerSettingsPopup__Row",componentId:"sc-m3jj5e-0"})(["display:flex;column-gap:15px;align-items:center;margin:10px;"]),DG=()=>{const{t}=Xt();return z.jsxs(AG,{children:[z.jsx(Ae.Text,{children:t("CrawlerInstructions.intro")}),z.jsxs(Ae.Text,{children:[t("CrawlerInstructions.followVideo"),z.jsx(vr,{to:"https://www.youtube.com/watch/tuYZL71suyY",children:t("video")}),t("CrawlerInstructions.followVideoPart2")]}),z.jsx(Ae.H3,{children:t("CrawlerInstructions.assemblyTitle")}),z.jsxs(Ae.Text,{children:[t("CrawlerInstructions.assemblyText1Part1"),z.jsx(vr,{to:`/ml-with-bricks/materials/${br.language}/assembly/crawler.pdf`,children:t("these instructions")}),t("CrawlerInstructions.assemblyText1Part2")]}),z.jsxs(Ae.Text,{children:[t("CrawlerInstructions.assemblyText2Part1"),z.jsx(vr,{to:`/ml-with-bricks/materials/${br.language}/connection.pdf`,children:t("pdf")}),t("CrawlerInstructions.assemblyText2Part2"),z.jsx(vr,{to:"https://youtu.be/ZsviP40PnuA",children:t("video")}),t("CrawlerInstructions.assemblyText2Part3")]}),z.jsx(Ae.H3,{children:t("CrawlerInstructions.algorithmTitle")}),z.jsx(Ae.Text,{children:t("CrawlerInstructions.algorithmText1")}),z.jsx(Ae.Text,{children:t("CrawlerInstructions.algorithmText2")}),z.jsx(Ae.Text,{children:t("CrawlerInstructions.algorithmText3")}),z.jsx(Ae.Text,{children:t("CrawlerInstructions.algorithmText4")}),z.jsx(Ae.Text,{children:t("CrawlerInstructions.algorithmText5")}),z.jsx(O1,{children:t("CrawlerInstructions.warning1")}),z.jsx(O1,{children:t("CrawlerInstructions.warning2")}),z.jsx(Ae.H3,{children:t("CrawlerInstructions.thingsToTryTitle")}),z.jsx(Ae.Text,{children:t("CrawlerInstructions.thingsToTryText")})]})},AG=Ee.div.withConfig({displayName:"CrawlerInstructions__Wrapper",componentId:"sc-17kd59g-0"})([""]),IG={distanceSensorPort:"C",bigMotorPort:"D",smallMotorPort:"B",bigMotorSpeed:5,smallMotorSpeed:15},LG=()=>{var pe;const{t}=Xt(),{sendTunnelData:e,subscribe:r}=Wh(),n=4,i=[{id:"high",text:t("Crawler.explorations.high"),epsilon:.7},{id:"low",text:t("Crawler.explorations.low"),epsilon:.3},{id:"no",text:t("Crawler.explorations.no"),epsilon:0}],a=Array.from({length:n},(ge,fe)=>Array.from({length:n},(Se,Te)=>fe===Te?void 0:0)),s=Array.from({length:n},(ge,fe)=>Array.from({length:n},(Se,Te)=>fe===Te?void 0:null)),o="no",[l,u]=Q.useState(()=>Sr("crawler_epsilonMode",o)),[c,f]=Q.useState(()=>Sr("crawler_thinkFuture",!1)),[d,p]=Q.useState(()=>Sr("crawler_waitBeforeNextMove",!0)),[g,y]=Q.useState(()=>Sr("crawler_rewardsTable",s)),[b,x]=Q.useState(()=>Sr("crawler_currentStateIx",0)),[w,_]=Q.useState(null),[k,T]=Q.useState(!1),P="rewards",[M,A]=Q.useState("unpicked"),[L,R]=Q.useState(null),[N,F]=Q.useState(IG),[$,V]=Q.useState(()=>Sr("crawler_qTable",a)),X=()=>{const ge=d;p(fe=>!fe),e({action:"wait_before_next_move_update",payload:{wait_before_next_move:!ge}}).then(()=>{})},K=()=>{const ge=c;f(fe=>!fe),e({action:"think_future_update",payload:{think_future:!ge}}).then(()=>{})},W=ge=>{var fe;u(ge),e({action:"epsilon_update",payload:{epsilon:((fe=i.find(Se=>Se.id===ge))==null?void 0:fe.epsilon)||0}}).then(()=>{})},H=async()=>{var ge;r(Z),e({action:"code_start",payload:{epsilon:((ge=i.find(fe=>fe.id===l))==null?void 0:ge.epsilon)||0,wait_before_next_move:d,current_state:b,q_table:$,think_future:c}}).then(()=>St.success(t("Crawler.toasts.codeStarted"),{position:"bottom-left"}))},ee=()=>{e({action:"continue",payload:{}}).then(()=>{})},re=()=>{e({action:"pause",payload:{}}).then(()=>{})},G=()=>{V(a),y(s),A("unpicked"),R(null),_(null),x(0),p(!1),u(o),f(!1),e({action:"reset",payload:{}}).then(()=>{})},Z=ge=>{const fe=ge.payload;switch(ge.action){case"action_update":_(fe.action!==void 0?fe.action:null),fe.type&&R(fe.type),A(fe.status);break;case"state_update":x(fe.state);break;case"too_close":St.warning(t("Crawler.toasts.tooClose"),{position:"bottom-left"});break;case"too_far":St.warning(t("Crawler.toasts.tooFar"),{position:"bottom-left"});break;case"tables_update":const{action:Se,state:Te,reward:ve,q:se}=fe;y(ye=>{const we=[...ye];return we[Te]&&we[Te][Se]!==void 0&&(we[Te][Se]=ve),we}),V(ye=>{const we=[...ye];return we[Te]&&we[Te][Se]!==void 0&&(we[Te][Se]=se),we});break;default:return}},ue=Q.useMemo(()=>N2.crawler(N),[N]);return Q.useEffect(()=>{localStorage.setItem("crawler_epsilonMode",JSON.stringify(l))},[l]),Q.useEffect(()=>{localStorage.setItem("crawler_waitBeforeNextMove",JSON.stringify(d))},[d]),Q.useEffect(()=>{localStorage.setItem("crawler_rewardsTable",JSON.stringify(g.map(ge=>ge.map(fe=>fe===void 0?"__undefined__":fe))))},[g]),Q.useEffect(()=>{localStorage.setItem("crawler_currentStateIx",JSON.stringify(b))},[b]),Q.useEffect(()=>{localStorage.setItem("crawler_thinkFuture",JSON.stringify(c))},[c]),Q.useEffect(()=>{localStorage.setItem("crawler_qTable",JSON.stringify($.map(ge=>ge.map(fe=>fe===void 0?"__undefined__":fe))))},[$]),z.jsxs(RG,{children:[z.jsx(Ae.H1,{children:t("Crawler.title")}),z.jsx(DG,{}),z.jsx(O2,{code:ue,onStart:H}),z.jsxs(OG,{children:[z.jsxs(b7,{children:[z.jsx(Ae.Text,{children:t("Crawler.actionQualityTable")}),z.jsx(J$,{table:$,currentStateIx:b,currentActionIx:w})]}),z.jsxs(b7,{children:[z.jsx(Ae.Text,{children:t("Crawler.rewardDiagram")}),z.jsx(kG,{rewardsTable:g,qTable:$,currentStateIx:b,currentActionIx:w,actionStatus:M,markovChainMode:P,epsilon:((pe=i.find(ge=>ge.id===l))==null?void 0:pe.epsilon)||0})]}),z.jsx(TG,{waitBeforeNextMove:d,handleWaitBeforeNextMoveChange:X,explorationModes:i,currentExplorationMode:l,handleExplorationModeChange:W,handleContinue:ee,handlePause:re,handleReset:G,actionType:L,thinkFuture:c,handleThinkFutureChange:K})]}),z.jsx(PG,{active:k,handleClose:()=>T(!1),crawlerSettings:N,setCrawlerSettings:F})]})},RG=Ee.div.withConfig({displayName:"crawler__Wrapper",componentId:"sc-rfjkgp-0"})([""]),OG=Ee.div.withConfig({displayName:"crawler__DiagramRow",componentId:"sc-rfjkgp-1"})(['display:grid;grid-template-columns:1fr 1fr 1fr;column-gap:20px;align-items:start;grid-template-areas:"a b c";@media (max-width:900px){grid-template-columns:1fr 1fr;grid-template-areas:"a b" "c c";}@media (max-width:768px){grid-template-columns:1fr;grid-template-areas:"a" "b" "c";}']),b7=Ee.div.withConfig({displayName:"crawler__Box",componentId:"sc-rfjkgp-2"})(["width:100%;& > p{font-weight:600;}"]),GT=({expId:t})=>{const{t:e}=Xt();return z.jsx(r0,{to:`/experiments/${t}`,children:z.jsxs(NG,{children:[z.jsx(zG,{$expId:t}),z.jsxs(BG,{children:[z.jsx(Ae.H3,{children:e(`Experiments.Cards.${t}.title`)}),z.jsx(Ae.Text,{children:e(`Experiments.Cards.${t}.description`)})]})]})})},NG=Ee.div.withConfig({displayName:"ExperimentCard__Wrapper",componentId:"sc-1akgw1w-0"})(["width:100%;border-radius:10px;position:relative;overflow:hidden;border:1px solid black;cursor:pointer;transition:all 0.15s ease;box-shadow:0 2px 3px rgba(0,0,0,0.1);&:hover{transform:translateY(-5px);}height:100%;"]),zG=Ee.div.withConfig({displayName:"ExperimentCard__ImageDiv",componentId:"sc-1akgw1w-1"})(["width:100%;aspect-ratio:4/3;background-image:",";background-size:cover;background-position:center;margin:0;border-bottom:1px solid ",";"],({$expId:t})=>`url(experiments/${t}.webp)`,({theme:t})=>t.black),BG=Ee.div.withConfig({displayName:"ExperimentCard__InfoWrap",componentId:"sc-1akgw1w-2"})(["padding:0 15px 10px;"]),FG=["fruit-predictor","ping-ponger","crawler"],$G=()=>{const{t}=Xt();return z.jsxs(jG,{children:[z.jsx(Ae.H1,{children:t("Experiments.title")}),z.jsx(Ae.Text,{children:t("Experiments.text")}),z.jsx(qG,{children:FG.map(e=>z.jsx(GT,{expId:e},e))})]})},jG=Ee.div.withConfig({displayName:"experiments__Wrapper",componentId:"sc-118zeqn-0"})([""]),qG=Ee.div.withConfig({displayName:"experiments__CardGrid",componentId:"sc-118zeqn-1"})(["width:100%;display:grid;grid-template-columns:1fr 1fr 1fr;margin-top:30px;gap:20px;grid-auto-rows:1fr;@media (max-width:1024px){grid-template-columns:1fr 1fr;}"]),HG=["fruit-predictor","ping-ponger","crawler"],VG=()=>{const{t}=Xt();return z.jsxs("div",{children:[z.jsx(Ae.H1,{children:t("Home.title")}),z.jsxs(Ae.Text,{children:[t("Home.text.part1"),z.jsx(vr,{to:"https://www.lego.com/en-lu/product/lego-education-spike-prime-set-45678",children:t("Home.text.lego")}),t("Home.text.part2")]}),z.jsxs(Ae.H3,{children:[t("Experiments.title")," "]}),z.jsx(UG,{children:HG.map(e=>z.jsx(GT,{expId:e},e))}),z.jsxs(Ae.H3,{children:[t("Home.courseRecordingTitle")," "]}),z.jsx(Ae.Text,{children:t("Home.courseRecordingText")}),z.jsx("div",{style:{flex:1,aspectRatio:"16/9"},children:z.jsx("iframe",{style:{borderWidth:0,margin:"10px 0"},width:"100%",height:"100%",src:"https://www.youtube.com/embed/videoseries?si=o9tvPwSMyEbBw9rm&list=PLaA3pdUzmaV-oJ0QABOJssZ5MxFRIY_hu",title:t("Home.coursePlaylistTitle"),allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",referrerPolicy:"strict-origin-when-cross-origin",allowFullScreen:!0})}),z.jsxs(Ae.H3,{children:[t("Home.materialsTitle")," "]}),z.jsxs(Ae.Text,{children:[t("Home.materialsText.part1"),z.jsx(vr,{to:"./materials/de/presentation.pdf",children:t("Home.presentationsGerman")}),t("Home.materialsText.part2"),z.jsx(vr,{to:"./materials/en/presentation.pdf",children:t("Home.presentationsEnglish")}),"."]}),z.jsxs(Ae.H3,{children:[t("Home.developers")," "]}),z.jsxs(Ae.Text,{children:[t("Home.developersText.part1"),z.jsx(vr,{to:"https://github.com/slavasg-lab/ml-with-bricks",children:t("Home.developersText.github")}),t("Home.developersText.part2"),z.jsx(vr,{to:"https://github.com/slavasg-lab/ml-with-bricks",children:t("Home.developersText.boilerplate")})," ",t("Home.developersText.part3")]}),z.jsxs(Ae.H3,{children:[t("Home.troubleshooting")," "]}),z.jsxs(Ae.Text,{children:[t("Home.troubleshootingText.part1"),z.jsx(vr,{to:"/#/troubleshooting",children:t("Home.troubleshootingText.link")})," ",t("Home.troubleshootingText.part2"),z.jsx(vr,{to:"mailto:viacheslav.sydora@gmail.com",children:"viacheslav.sydora@gmail.com"}),"."]})]})},UG=Ee.div.withConfig({displayName:"home__CardGrid",componentId:"sc-on28uf-0"})(["width:100%;display:grid;grid-template-columns:1fr 1fr 1fr;margin:20px 0;gap:20px;grid-auto-rows:1fr;@media (max-width:1024px){grid-template-columns:1fr 1fr;}@media (max-width:1600px){grid-template-columns:1fr;}"]),WG=()=>{const{t}=Xt();return z.jsx("div",{children:z.jsx(Ae.H1,{children:t("Imprint.title")})})},GG=()=>{const{t}=Xt();return z.jsx("div",{children:z.jsx(Ae.H1,{children:t("PrivacyPolicy.title")})})},YG=()=>{const{t}=Xt();return z.jsxs(XG,{children:[z.jsx(Ae.H1,{children:t("Materials.title")}),z.jsx(Ae.Text,{children:t("Materials.text")}),z.jsxs(Ae.Text,{$bold:!0,children:[t("Materials.Presentations"),": "]}),z.jsxs(KG,{children:[z.jsx("li",{children:z.jsx(vr,{to:"./presentations/EN_Presentation.pdf",children:t("Materials.Presentations.english")})}),z.jsx("li",{children:z.jsx(vr,{to:"./presentations/DE_Presentation.pdf",children:t("Materials.Presentations.german")})})]}),z.jsxs(Ae.Text,{$bold:!0,children:[t("Materials.CoursePlaylist"),": "]}),z.jsx("div",{style:{flex:1,aspectRatio:"16/9"},children:z.jsx("iframe",{style:{borderWidth:0},width:"100%",height:"100%",src:"https://www.youtube.com/embed/videoseries?si=o9tvPwSMyEbBw9rm&list=PLaA3pdUzmaV-oJ0QABOJssZ5MxFRIY_hu",title:t("Materials.CoursePlaylistTitle"),allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",referrerPolicy:"strict-origin-when-cross-origin",allowFullScreen:!0})})]})},XG=Ee.div.withConfig({displayName:"materials__Wrapper",componentId:"sc-wusbkz-0"})(["flex:1;display:flex;flex-direction:column;"]),KG=Ee.ul.withConfig({displayName:"materials__BulletList",componentId:"sc-wusbkz-1"})(["& > li{margin-left:15px;}"]),ZG=()=>{const{t}=Xt();return z.jsxs("div",{children:[z.jsx(Ae.H1,{children:t("Troubleshooting.title")}),z.jsx(Ae.Text,{children:t("Troubleshooting.intro")}),z.jsx(Ae.Text,{$bold:!0,children:t("Troubleshooting.bluetoothQuestion")}),z.jsx(Ae.Text,{children:t("Troubleshooting.bluetoothAnswer")}),z.jsx(Ae.Text,{$bold:!0,children:t("Troubleshooting.chromiumQuestion")}),z.jsx(Ae.Text,{children:t("Troubleshooting.chromiumAnswer")})]})};function QG(){return z.jsx(RD,{theme:JL,children:z.jsx(CR,{children:z.jsxs(z.Fragment,{children:[z.jsx(eR,{}),z.jsx(ZL,{children:z.jsxs(wI,{children:[z.jsx(Ai,{path:"/experiments/fruit-predictor",element:z.jsx(d$,{})}),z.jsx(Ai,{path:"/experiments/ping-ponger",element:z.jsx(W$,{})}),z.jsx(Ai,{path:"/experiments/crawler",element:z.jsx(LG,{})}),z.jsx(Ai,{path:"/experiments",element:z.jsx($G,{})}),z.jsx(Ai,{path:"/imprint",element:z.jsx(WG,{})}),z.jsx(Ai,{path:"/privacy-policy",element:z.jsx(GG,{})}),z.jsx(Ai,{path:"/materials",element:z.jsx(YG,{})}),z.jsx(Ai,{path:"/troubleshooting",element:z.jsx(ZG,{})}),z.jsx(Ai,{path:"*",element:z.jsx(VG,{})})]})})]})})})}function ay(t){"@babel/helpers - typeof";return ay=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ay(t)}function YT(){return typeof XMLHttpRequest=="function"||(typeof XMLHttpRequest>"u"?"undefined":ay(XMLHttpRequest))==="object"}function JG(t){return!!t&&typeof t.then=="function"}function eY(t){return JG(t)?t:Promise.resolve(t)}function w7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function _7(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?w7(Object(r),!0).forEach(function(n){tY(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):w7(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function tY(t,e,r){return(e=rY(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function rY(t){var e=nY(t,"string");return mo(e)=="symbol"?e:e+""}function nY(t,e){if(mo(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(mo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mo(t){"@babel/helpers - typeof";return mo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mo(t)}var ys=typeof fetch=="function"?fetch:void 0;typeof global<"u"&&global.fetch?ys=global.fetch:typeof window<"u"&&window.fetch&&(ys=window.fetch);var Gc;YT()&&(typeof global<"u"&&global.XMLHttpRequest?Gc=global.XMLHttpRequest:typeof window<"u"&&window.XMLHttpRequest&&(Gc=window.XMLHttpRequest));var vh;typeof ActiveXObject=="function"&&(typeof global<"u"&&global.ActiveXObject?vh=global.ActiveXObject:typeof window<"u"&&window.ActiveXObject&&(vh=window.ActiveXObject));typeof ys!="function"&&(ys=void 0);if(!ys&&!Gc&&!vh)try{__(()=>import("./browser-ponyfill-8bd4721c.js").then(t=>t.b),[]).then(function(t){ys=t.default}).catch(function(){})}catch{}var sy=function(e,r){if(r&&mo(r)==="object"){var n="";for(var i in r)n+="&"+encodeURIComponent(i)+"="+encodeURIComponent(r[i]);if(!n)return e;e=e+(e.indexOf("?")!==-1?"&":"?")+n.slice(1)}return e},S7=function(e,r,n,i){var a=function(l){if(!l.ok)return n(l.statusText||"Error",{status:l.status});l.text().then(function(u){n(null,{status:l.status,data:u})}).catch(n)};if(i){var s=i(e,r);if(s instanceof Promise){s.then(a).catch(n);return}}typeof fetch=="function"?fetch(e,r).then(a).catch(n):ys(e,r).then(a).catch(n)},k7=!1,iY=function(e,r,n,i){e.queryStringParams&&(r=sy(r,e.queryStringParams));var a=_7({},typeof e.customHeaders=="function"?e.customHeaders():e.customHeaders);typeof window>"u"&&typeof global<"u"&&typeof global.process<"u"&&global.process.versions&&global.process.versions.node&&(a["User-Agent"]="i18next-http-backend (node/".concat(global.process.version,"; ").concat(global.process.platform," ").concat(global.process.arch,")")),n&&(a["Content-Type"]="application/json");var s=typeof e.requestOptions=="function"?e.requestOptions(n):e.requestOptions,o=_7({method:n?"POST":"GET",body:n?e.stringify(n):void 0,headers:a},k7?{}:s),l=typeof e.alternateFetch=="function"&&e.alternateFetch.length>=1?e.alternateFetch:void 0;try{S7(r,o,i,l)}catch(u){if(!s||Object.keys(s).length===0||!u.message||u.message.indexOf("not implemented")<0)return i(u);try{Object.keys(s).forEach(function(c){delete o[c]}),S7(r,o,i,l),k7=!0}catch(c){i(c)}}},aY=function(e,r,n,i){n&&mo(n)==="object"&&(n=sy("",n).slice(1)),e.queryStringParams&&(r=sy(r,e.queryStringParams));try{var a=Gc?new Gc:new vh("MSXML2.XMLHTTP.3.0");a.open(n?"POST":"GET",r,1),e.crossDomain||a.setRequestHeader("X-Requested-With","XMLHttpRequest"),a.withCredentials=!!e.withCredentials,n&&a.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),a.overrideMimeType&&a.overrideMimeType("application/json");var s=e.customHeaders;if(s=typeof s=="function"?s():s,s)for(var o in s)a.setRequestHeader(o,s[o]);a.onreadystatechange=function(){a.readyState>3&&i(a.status>=400?a.statusText:null,{status:a.status,data:a.responseText})},a.send(n)}catch(l){console&&console.log(l)}},sY=function(e,r,n,i){if(typeof n=="function"&&(i=n,n=void 0),i=i||function(){},ys&&r.indexOf("file:")!==0)return iY(e,r,n,i);if(YT()||typeof ActiveXObject=="function")return aY(e,r,n,i);i(new Error("No fetch and no xhr implementation found!"))};function Hl(t){"@babel/helpers - typeof";return Hl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hl(t)}function T7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function dv(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?T7(Object(r),!0).forEach(function(n){XT(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):T7(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function oY(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function E7(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,KT(n.key),n)}}function lY(t,e,r){return e&&E7(t.prototype,e),r&&E7(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function XT(t,e,r){return(e=KT(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function KT(t){var e=uY(t,"string");return Hl(e)=="symbol"?e:e+""}function uY(t,e){if(Hl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Hl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cY=function(){return{loadPath:"/locales/{{lng}}/{{ns}}.json",addPath:"/locales/add/{{lng}}/{{ns}}",parse:function(r){return JSON.parse(r)},stringify:JSON.stringify,parsePayload:function(r,n,i){return XT({},n,i||"")},parseLoadPayload:function(r,n){},request:sY,reloadInterval:typeof window<"u"?!1:60*60*1e3,customHeaders:{},queryStringParams:{},crossDomain:!1,withCredentials:!1,overrideMimeType:!1,requestOptions:{mode:"cors",credentials:"same-origin",cache:"default"}}},ZT=function(){function t(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};oY(this,t),this.services=e,this.options=r,this.allOptions=n,this.type="backend",this.init(e,r,n)}return lY(t,[{key:"init",value:function(r){var n=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(this.services=r,this.options=dv(dv(dv({},cY()),this.options||{}),i),this.allOptions=a,this.services&&this.options.reloadInterval){var s=setInterval(function(){return n.reload()},this.options.reloadInterval);Hl(s)==="object"&&typeof s.unref=="function"&&s.unref()}}},{key:"readMulti",value:function(r,n,i){this._readAny(r,r,n,n,i)}},{key:"read",value:function(r,n,i){this._readAny([r],r,[n],n,i)}},{key:"_readAny",value:function(r,n,i,a,s){var o=this,l=this.options.loadPath;typeof this.options.loadPath=="function"&&(l=this.options.loadPath(r,i)),l=eY(l),l.then(function(u){if(!u)return s(null,{});var c=o.services.interpolator.interpolate(u,{lng:r.join("+"),ns:i.join("+")});o.loadUrl(c,s,n,a)})}},{key:"loadUrl",value:function(r,n,i,a){var s=this,o=typeof i=="string"?[i]:i,l=typeof a=="string"?[a]:a,u=this.options.parseLoadPayload(o,l);this.options.request(this.options,r,u,function(c,f){if(f&&(f.status>=500&&f.status<600||!f.status))return n("failed loading "+r+"; status code: "+f.status,!0);if(f&&f.status>=400&&f.status<500)return n("failed loading "+r+"; status code: "+f.status,!1);if(!f&&c&&c.message){var d=c.message.toLowerCase(),p=["failed","fetch","network","load"].find(function(b){return d.indexOf(b)>-1});if(p)return n("failed loading "+r+": "+c.message,!0)}if(c)return n(c,!1);var g,y;try{typeof f.data=="string"?g=s.options.parse(f.data,i,a):g=f.data}catch{y="failed parsing "+r+" to json"}if(y)return n(y,!1);n(null,g)})}},{key:"create",value:function(r,n,i,a,s){var o=this;if(this.options.addPath){typeof r=="string"&&(r=[r]);var l=this.options.parsePayload(n,i,a),u=0,c=[],f=[];r.forEach(function(d){var p=o.options.addPath;typeof o.options.addPath=="function"&&(p=o.options.addPath(d,n));var g=o.services.interpolator.interpolate(p,{lng:d,ns:n});o.options.request(o.options,g,l,function(y,b){u+=1,c.push(y),f.push(b),u===r.length&&typeof s=="function"&&s(c,f)})})}}},{key:"reload",value:function(){var r=this,n=this.services,i=n.backendConnector,a=n.languageUtils,s=n.logger,o=i.language;if(!(o&&o.toLowerCase()==="cimode")){var l=[],u=function(f){var d=a.toResolveHierarchy(f);d.forEach(function(p){l.indexOf(p)<0&&l.push(p)})};u(o),this.allOptions.preload&&this.allOptions.preload.forEach(function(c){return u(c)}),l.forEach(function(c){r.allOptions.ns.forEach(function(f){i.read(c,f,"read",null,null,function(d,p){d&&s.warn("loading namespace ".concat(f," for language ").concat(c," failed"),d),!d&&p&&s.log("loaded namespace ".concat(f," for language ").concat(c),p),i.loaded("".concat(c,"|").concat(f),d,p)})})})}}}])}();ZT.type="backend";const{slice:fY,forEach:dY}=[];function hY(t){return dY.call(fY.call(arguments,1),e=>{if(e)for(const r in e)t[r]===void 0&&(t[r]=e[r])}),t}const C7=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,pY=function(t,e){const n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},i=encodeURIComponent(e);let a=`${t}=${i}`;if(n.maxAge>0){const s=n.maxAge-0;if(Number.isNaN(s))throw new Error("maxAge should be a Number");a+=`; Max-Age=${Math.floor(s)}`}if(n.domain){if(!C7.test(n.domain))throw new TypeError("option domain is invalid");a+=`; Domain=${n.domain}`}if(n.path){if(!C7.test(n.path))throw new TypeError("option path is invalid");a+=`; Path=${n.path}`}if(n.expires){if(typeof n.expires.toUTCString!="function")throw new TypeError("option expires is invalid");a+=`; Expires=${n.expires.toUTCString()}`}if(n.httpOnly&&(a+="; HttpOnly"),n.secure&&(a+="; Secure"),n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case!0:a+="; SameSite=Strict";break;case"lax":a+="; SameSite=Lax";break;case"strict":a+="; SameSite=Strict";break;case"none":a+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return a},M7={create(t,e,r,n){let i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};r&&(i.expires=new Date,i.expires.setTime(i.expires.getTime()+r*60*1e3)),n&&(i.domain=n),document.cookie=pY(t,encodeURIComponent(e),i)},read(t){const e=`${t}=`,r=document.cookie.split(";");for(let n=0;n<r.length;n++){let i=r[n];for(;i.charAt(0)===" ";)i=i.substring(1,i.length);if(i.indexOf(e)===0)return i.substring(e.length,i.length)}return null},remove(t){this.create(t,"",-1)}};var gY={name:"cookie",lookup(t){let{lookupCookie:e}=t;if(e&&typeof document<"u")return M7.read(e)||void 0},cacheUserLanguage(t,e){let{lookupCookie:r,cookieMinutes:n,cookieDomain:i,cookieOptions:a}=e;r&&typeof document<"u"&&M7.create(r,t,n,i,a)}},mY={name:"querystring",lookup(t){var n;let{lookupQuerystring:e}=t,r;if(typeof window<"u"){let{search:i}=window.location;!window.location.search&&((n=window.location.hash)==null?void 0:n.indexOf("?"))>-1&&(i=window.location.hash.substring(window.location.hash.indexOf("?")));const s=i.substring(1).split("&");for(let o=0;o<s.length;o++){const l=s[o].indexOf("=");l>0&&s[o].substring(0,l)===e&&(r=s[o].substring(l+1))}}return r}};let Ho=null;const P7=()=>{if(Ho!==null)return Ho;try{if(Ho=typeof window<"u"&&window.localStorage!==null,!Ho)return!1;const t="i18next.translate.boo";window.localStorage.setItem(t,"foo"),window.localStorage.removeItem(t)}catch{Ho=!1}return Ho};var vY={name:"localStorage",lookup(t){let{lookupLocalStorage:e}=t;if(e&&P7())return window.localStorage.getItem(e)||void 0},cacheUserLanguage(t,e){let{lookupLocalStorage:r}=e;r&&P7()&&window.localStorage.setItem(r,t)}};let Vo=null;const D7=()=>{if(Vo!==null)return Vo;try{if(Vo=typeof window<"u"&&window.sessionStorage!==null,!Vo)return!1;const t="i18next.translate.boo";window.sessionStorage.setItem(t,"foo"),window.sessionStorage.removeItem(t)}catch{Vo=!1}return Vo};var yY={name:"sessionStorage",lookup(t){let{lookupSessionStorage:e}=t;if(e&&D7())return window.sessionStorage.getItem(e)||void 0},cacheUserLanguage(t,e){let{lookupSessionStorage:r}=e;r&&D7()&&window.sessionStorage.setItem(r,t)}},xY={name:"navigator",lookup(t){const e=[];if(typeof navigator<"u"){const{languages:r,userLanguage:n,language:i}=navigator;if(r)for(let a=0;a<r.length;a++)e.push(r[a]);n&&e.push(n),i&&e.push(i)}return e.length>0?e:void 0}},bY={name:"htmlTag",lookup(t){let{htmlTag:e}=t,r;const n=e||(typeof document<"u"?document.documentElement:null);return n&&typeof n.getAttribute=="function"&&(r=n.getAttribute("lang")),r}},wY={name:"path",lookup(t){var i;let{lookupFromPathIndex:e}=t;if(typeof window>"u")return;const r=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(r)?(i=r[typeof e=="number"?e:0])==null?void 0:i.replace("/",""):void 0}},_Y={name:"subdomain",lookup(t){var i,a;let{lookupFromSubdomainIndex:e}=t;const r=typeof e=="number"?e+1:1,n=typeof window<"u"&&((a=(i=window.location)==null?void 0:i.hostname)==null?void 0:a.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i));if(n)return n[r]}};let QT=!1;try{document.cookie,QT=!0}catch{}const JT=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];QT||JT.splice(1,1);const SY=()=>({order:JT,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:t=>t});class eE{constructor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(e,r)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=e,this.options=hY(r,this.options||{},SY()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=i=>i.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=n,this.addDetector(gY),this.addDetector(mY),this.addDetector(vY),this.addDetector(yY),this.addDetector(xY),this.addDetector(bY),this.addDetector(wY),this.addDetector(_Y)}addDetector(e){return this.detectors[e.name]=e,this}detect(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,r=[];return e.forEach(n=>{if(this.detectors[n]){let i=this.detectors[n].lookup(this.options);i&&typeof i=="string"&&(i=[i]),i&&(r=r.concat(i))}}),r=r.map(n=>this.options.convertDetectedLanguage(n)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?r:r.length>0?r[0]:null}cacheUserLanguage(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;r&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||r.forEach(n=>{this.detectors[n]&&this.detectors[n].cacheUserLanguage(e,this.options)}))}}eE.type="languageDetector";const kY={loadPath:"/ml-with-bricks/locales/{{lng}}.json"};br.use(ZT).use(eE).use(KD).init({debug:!0,load:"languageOnly",fallbackLng:"en",backend:kY});hv.createRoot(document.getElementById("root")).render(z.jsx(dt.StrictMode,{children:z.jsx(UI,{children:z.jsx(QG,{})})}));export{oy as c,A7 as g};
