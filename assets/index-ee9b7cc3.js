var aT=Object.defineProperty;var iT=(t,e,r)=>e in t?aT(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var Ae=(t,e,r)=>(iT(t,typeof e!="symbol"?e+"":e,r),r);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var iy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function T7(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var M7={exports:{}},vh={},D7={exports:{}},ht={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gc=Symbol.for("react.element"),sT=Symbol.for("react.portal"),oT=Symbol.for("react.fragment"),lT=Symbol.for("react.strict_mode"),uT=Symbol.for("react.profiler"),cT=Symbol.for("react.provider"),fT=Symbol.for("react.context"),dT=Symbol.for("react.forward_ref"),hT=Symbol.for("react.suspense"),pT=Symbol.for("react.memo"),gT=Symbol.for("react.lazy"),y5=Symbol.iterator;function mT(t){return t===null||typeof t!="object"?null:(t=y5&&t[y5]||t["@@iterator"],typeof t=="function"?t:null)}var P7={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A7=Object.assign,L7={};function Hl(t,e,r){this.props=t,this.context=e,this.refs=L7,this.updater=r||P7}Hl.prototype.isReactComponent={};Hl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Hl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function R7(){}R7.prototype=Hl.prototype;function sy(t,e,r){this.props=t,this.context=e,this.refs=L7,this.updater=r||P7}var oy=sy.prototype=new R7;oy.constructor=sy;A7(oy,Hl.prototype);oy.isPureReactComponent=!0;var b5=Array.isArray,O7=Object.prototype.hasOwnProperty,ly={current:null},I7={key:!0,ref:!0,__self:!0,__source:!0};function N7(t,e,r){var n,a={},i=null,s=null;if(e!=null)for(n in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(i=""+e.key),e)O7.call(e,n)&&!I7.hasOwnProperty(n)&&(a[n]=e[n]);var o=arguments.length-2;if(o===1)a.children=r;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];a.children=l}if(t&&t.defaultProps)for(n in o=t.defaultProps,o)a[n]===void 0&&(a[n]=o[n]);return{$$typeof:Gc,type:t,key:i,ref:s,props:a,_owner:ly.current}}function vT(t,e){return{$$typeof:Gc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function uy(t){return typeof t=="object"&&t!==null&&t.$$typeof===Gc}function yT(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var x5=/\/+/g;function Yp(t,e){return typeof t=="object"&&t!==null&&t.key!=null?yT(""+t.key):e.toString(36)}function Lf(t,e,r,n,a){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case Gc:case sT:s=!0}}if(s)return s=t,a=a(s),t=n===""?"."+Yp(s,0):n,b5(a)?(r="",t!=null&&(r=t.replace(x5,"$&/")+"/"),Lf(a,e,r,"",function(u){return u})):a!=null&&(uy(a)&&(a=vT(a,r+(!a.key||s&&s.key===a.key?"":(""+a.key).replace(x5,"$&/")+"/")+t)),e.push(a)),1;if(s=0,n=n===""?".":n+":",b5(t))for(var o=0;o<t.length;o++){i=t[o];var l=n+Yp(i,o);s+=Lf(i,e,r,l,a)}else if(l=mT(t),typeof l=="function")for(t=l.call(t),o=0;!(i=t.next()).done;)i=i.value,l=n+Yp(i,o++),s+=Lf(i,e,r,l,a);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function R0(t,e,r){if(t==null)return t;var n=[],a=0;return Lf(t,n,"","",function(i){return e.call(r,i,a++)}),n}function bT(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var xn={current:null},Rf={transition:null},xT={ReactCurrentDispatcher:xn,ReactCurrentBatchConfig:Rf,ReactCurrentOwner:ly};ht.Children={map:R0,forEach:function(t,e,r){R0(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return R0(t,function(){e++}),e},toArray:function(t){return R0(t,function(e){return e})||[]},only:function(t){if(!uy(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ht.Component=Hl;ht.Fragment=oT;ht.Profiler=uT;ht.PureComponent=sy;ht.StrictMode=lT;ht.Suspense=hT;ht.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xT;ht.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=A7({},t.props),a=t.key,i=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,s=ly.current),e.key!==void 0&&(a=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)O7.call(e,l)&&!I7.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];n.children=o}return{$$typeof:Gc,type:t.type,key:a,ref:i,props:n,_owner:s}};ht.createContext=function(t){return t={$$typeof:fT,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:cT,_context:t},t.Consumer=t};ht.createElement=N7;ht.createFactory=function(t){var e=N7.bind(null,t);return e.type=t,e};ht.createRef=function(){return{current:null}};ht.forwardRef=function(t){return{$$typeof:dT,render:t}};ht.isValidElement=uy;ht.lazy=function(t){return{$$typeof:gT,_payload:{_status:-1,_result:t},_init:bT}};ht.memo=function(t,e){return{$$typeof:pT,type:t,compare:e===void 0?null:e}};ht.startTransition=function(t){var e=Rf.transition;Rf.transition={};try{t()}finally{Rf.transition=e}};ht.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};ht.useCallback=function(t,e){return xn.current.useCallback(t,e)};ht.useContext=function(t){return xn.current.useContext(t)};ht.useDebugValue=function(){};ht.useDeferredValue=function(t){return xn.current.useDeferredValue(t)};ht.useEffect=function(t,e){return xn.current.useEffect(t,e)};ht.useId=function(){return xn.current.useId()};ht.useImperativeHandle=function(t,e,r){return xn.current.useImperativeHandle(t,e,r)};ht.useInsertionEffect=function(t,e){return xn.current.useInsertionEffect(t,e)};ht.useLayoutEffect=function(t,e){return xn.current.useLayoutEffect(t,e)};ht.useMemo=function(t,e){return xn.current.useMemo(t,e)};ht.useReducer=function(t,e,r){return xn.current.useReducer(t,e,r)};ht.useRef=function(t){return xn.current.useRef(t)};ht.useState=function(t){return xn.current.useState(t)};ht.useSyncExternalStore=function(t,e,r){return xn.current.useSyncExternalStore(t,e,r)};ht.useTransition=function(){return xn.current.useTransition()};ht.version="18.2.0";D7.exports=ht;var Q=D7.exports;const ft=T7(Q);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wT=Q,_T=Symbol.for("react.element"),ST=Symbol.for("react.fragment"),kT=Object.prototype.hasOwnProperty,ET=wT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,CT={key:!0,ref:!0,__self:!0,__source:!0};function z7(t,e,r){var n,a={},i=null,s=null;r!==void 0&&(i=""+r),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(s=e.ref);for(n in e)kT.call(e,n)&&!CT.hasOwnProperty(n)&&(a[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)a[n]===void 0&&(a[n]=e[n]);return{$$typeof:_T,type:t,key:i,ref:s,props:a,_owner:ET.current}}vh.Fragment=ST;vh.jsx=z7;vh.jsxs=z7;M7.exports=vh;var Y=M7.exports,dv={},B7={exports:{}},Un={},F7={exports:{}},$7={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(H,ee){var re=H.length;H.push(ee);e:for(;0<re;){var W=re-1>>>1,Z=H[W];if(0<a(Z,ee))H[W]=ee,H[re]=Z,re=W;else break e}}function r(H){return H.length===0?null:H[0]}function n(H){if(H.length===0)return null;var ee=H[0],re=H.pop();if(re!==ee){H[0]=re;e:for(var W=0,Z=H.length,ue=Z>>>1;W<ue;){var pe=2*(W+1)-1,ge=H[pe],fe=pe+1,Se=H[fe];if(0>a(ge,re))fe<Z&&0>a(Se,ge)?(H[W]=Se,H[fe]=re,W=fe):(H[W]=ge,H[pe]=re,W=pe);else if(fe<Z&&0>a(Se,re))H[W]=Se,H[fe]=re,W=fe;else break e}}return ee}function a(H,ee){var re=H.sortIndex-ee.sortIndex;return re!==0?re:H.id-ee.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var s=Date,o=s.now();t.unstable_now=function(){return s.now()-o}}var l=[],u=[],c=1,f=null,d=3,p=!1,g=!1,y=!1,x=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(H){for(var ee=r(u);ee!==null;){if(ee.callback===null)n(u);else if(ee.startTime<=H)n(u),ee.sortIndex=ee.expirationTime,e(l,ee);else break;ee=r(u)}}function k(H){if(y=!1,_(H),!g)if(r(l)!==null)g=!0,K(E);else{var ee=r(u);ee!==null&&U(k,ee.startTime-H)}}function E(H,ee){g=!1,y&&(y=!1,b(A),A=-1),p=!0;var re=d;try{for(_(ee),f=r(l);f!==null&&(!(f.expirationTime>ee)||H&&!N());){var W=f.callback;if(typeof W=="function"){f.callback=null,d=f.priorityLevel;var Z=W(f.expirationTime<=ee);ee=t.unstable_now(),typeof Z=="function"?f.callback=Z:f===r(l)&&n(l),_(ee)}else n(l);f=r(l)}if(f!==null)var ue=!0;else{var pe=r(u);pe!==null&&U(k,pe.startTime-ee),ue=!1}return ue}finally{f=null,d=re,p=!1}}var D=!1,M=null,A=-1,R=5,O=-1;function N(){return!(t.unstable_now()-O<R)}function B(){if(M!==null){var H=t.unstable_now();O=H;var ee=!0;try{ee=M(!0,H)}finally{ee?F():(D=!1,M=null)}}else D=!1}var F;if(typeof w=="function")F=function(){w(B)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,X=V.port2;V.port1.onmessage=B,F=function(){X.postMessage(null)}}else F=function(){x(B,0)};function K(H){M=H,D||(D=!0,F())}function U(H,ee){A=x(function(){H(t.unstable_now())},ee)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(H){H.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,K(E))},t.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<H?Math.floor(1e3/H):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(H){switch(d){case 1:case 2:case 3:var ee=3;break;default:ee=d}var re=d;d=ee;try{return H()}finally{d=re}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(H,ee){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var re=d;d=H;try{return ee()}finally{d=re}},t.unstable_scheduleCallback=function(H,ee,re){var W=t.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?W+re:W):re=W,H){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=re+Z,H={id:c++,callback:ee,priorityLevel:H,startTime:re,expirationTime:Z,sortIndex:-1},re>W?(H.sortIndex=re,e(u,H),r(l)===null&&H===r(u)&&(y?(b(A),A=-1):y=!0,U(k,re-W))):(H.sortIndex=Z,e(l,H),g||p||(g=!0,K(E))),H},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(H){var ee=d;return function(){var re=d;d=ee;try{return H.apply(this,arguments)}finally{d=re}}}})($7);F7.exports=$7;var TT=F7.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q7=Q,jn=TT;function Pe(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var H7=new Set,lc={};function go(t,e){wl(t,e),wl(t+"Capture",e)}function wl(t,e){for(lc[t]=e,t=0;t<e.length;t++)H7.add(e[t])}var fi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),hv=Object.prototype.hasOwnProperty,MT=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,w5={},_5={};function DT(t){return hv.call(_5,t)?!0:hv.call(w5,t)?!1:MT.test(t)?_5[t]=!0:(w5[t]=!0,!1)}function PT(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function AT(t,e,r,n){if(e===null||typeof e>"u"||PT(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function wn(t,e,r,n,a,i,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=s}var Zr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Zr[t]=new wn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Zr[e]=new wn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Zr[t]=new wn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Zr[t]=new wn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Zr[t]=new wn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Zr[t]=new wn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Zr[t]=new wn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Zr[t]=new wn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Zr[t]=new wn(t,5,!1,t.toLowerCase(),null,!1,!1)});var cy=/[\-:]([a-z])/g;function fy(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(cy,fy);Zr[e]=new wn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(cy,fy);Zr[e]=new wn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(cy,fy);Zr[e]=new wn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Zr[t]=new wn(t,1,!1,t.toLowerCase(),null,!1,!1)});Zr.xlinkHref=new wn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Zr[t]=new wn(t,1,!1,t.toLowerCase(),null,!0,!0)});function dy(t,e,r,n){var a=Zr.hasOwnProperty(e)?Zr[e]:null;(a!==null?a.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(AT(e,r,a,n)&&(r=null),n||a===null?DT(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):a.mustUseProperty?t[a.propertyName]=r===null?a.type===3?!1:"":r:(e=a.attributeName,n=a.attributeNamespace,r===null?t.removeAttribute(e):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var xi=q7.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,O0=Symbol.for("react.element"),Vo=Symbol.for("react.portal"),jo=Symbol.for("react.fragment"),hy=Symbol.for("react.strict_mode"),pv=Symbol.for("react.profiler"),V7=Symbol.for("react.provider"),j7=Symbol.for("react.context"),py=Symbol.for("react.forward_ref"),gv=Symbol.for("react.suspense"),mv=Symbol.for("react.suspense_list"),gy=Symbol.for("react.memo"),Ii=Symbol.for("react.lazy"),U7=Symbol.for("react.offscreen"),S5=Symbol.iterator;function uu(t){return t===null||typeof t!="object"?null:(t=S5&&t[S5]||t["@@iterator"],typeof t=="function"?t:null)}var cr=Object.assign,Xp;function Au(t){if(Xp===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Xp=e&&e[1]||""}return`
`+Xp+t}var Kp=!1;function Zp(t,e){if(!t||Kp)return"";Kp=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),i=n.stack.split(`
`),s=a.length-1,o=i.length-1;1<=s&&0<=o&&a[s]!==i[o];)o--;for(;1<=s&&0<=o;s--,o--)if(a[s]!==i[o]){if(s!==1||o!==1)do if(s--,o--,0>o||a[s]!==i[o]){var l=`
`+a[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=o);break}}}finally{Kp=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Au(t):""}function LT(t){switch(t.tag){case 5:return Au(t.type);case 16:return Au("Lazy");case 13:return Au("Suspense");case 19:return Au("SuspenseList");case 0:case 2:case 15:return t=Zp(t.type,!1),t;case 11:return t=Zp(t.type.render,!1),t;case 1:return t=Zp(t.type,!0),t;default:return""}}function vv(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case jo:return"Fragment";case Vo:return"Portal";case pv:return"Profiler";case hy:return"StrictMode";case gv:return"Suspense";case mv:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case j7:return(t.displayName||"Context")+".Consumer";case V7:return(t._context.displayName||"Context")+".Provider";case py:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case gy:return e=t.displayName||null,e!==null?e:vv(t.type)||"Memo";case Ii:e=t._payload,t=t._init;try{return vv(t(e))}catch{}}return null}function RT(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return vv(e);case 8:return e===hy?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function as(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function W7(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function OT(t){var e=W7(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return a.call(this)},set:function(s){n=""+s,i.call(this,s)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function I0(t){t._valueTracker||(t._valueTracker=OT(t))}function G7(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=W7(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function fd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function yv(t,e){var r=e.checked;return cr({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function k5(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=as(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Y7(t,e){e=e.checked,e!=null&&dy(t,"checked",e,!1)}function bv(t,e){Y7(t,e);var r=as(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?xv(t,e.type,r):e.hasOwnProperty("defaultValue")&&xv(t,e.type,as(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function E5(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function xv(t,e,r){(e!=="number"||fd(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Lu=Array.isArray;function ol(t,e,r,n){if(t=t.options,e){e={};for(var a=0;a<r.length;a++)e["$"+r[a]]=!0;for(r=0;r<t.length;r++)a=e.hasOwnProperty("$"+t[r].value),t[r].selected!==a&&(t[r].selected=a),a&&n&&(t[r].defaultSelected=!0)}else{for(r=""+as(r),e=null,a=0;a<t.length;a++){if(t[a].value===r){t[a].selected=!0,n&&(t[a].defaultSelected=!0);return}e!==null||t[a].disabled||(e=t[a])}e!==null&&(e.selected=!0)}}function wv(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Pe(91));return cr({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function C5(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(Pe(92));if(Lu(r)){if(1<r.length)throw Error(Pe(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:as(r)}}function X7(t,e){var r=as(e.value),n=as(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function T5(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function K7(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function _v(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?K7(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var N0,Z7=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,a){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,a)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(N0=N0||document.createElement("div"),N0.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=N0.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function uc(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Hu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},IT=["Webkit","ms","Moz","O"];Object.keys(Hu).forEach(function(t){IT.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Hu[e]=Hu[t]})});function Q7(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Hu.hasOwnProperty(t)&&Hu[t]?(""+e).trim():e+"px"}function J7(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=Q7(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,a):t[r]=a}}var NT=cr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Sv(t,e){if(e){if(NT[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Pe(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Pe(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Pe(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Pe(62))}}function kv(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ev=null;function my(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Cv=null,ll=null,ul=null;function M5(t){if(t=Kc(t)){if(typeof Cv!="function")throw Error(Pe(280));var e=t.stateNode;e&&(e=_h(e),Cv(t.stateNode,t.type,e))}}function e8(t){ll?ul?ul.push(t):ul=[t]:ll=t}function t8(){if(ll){var t=ll,e=ul;if(ul=ll=null,M5(t),e)for(t=0;t<e.length;t++)M5(e[t])}}function r8(t,e){return t(e)}function n8(){}var Qp=!1;function a8(t,e,r){if(Qp)return t(e,r);Qp=!0;try{return r8(t,e,r)}finally{Qp=!1,(ll!==null||ul!==null)&&(n8(),t8())}}function cc(t,e){var r=t.stateNode;if(r===null)return null;var n=_h(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(Pe(231,e,typeof r));return r}var Tv=!1;if(fi)try{var cu={};Object.defineProperty(cu,"passive",{get:function(){Tv=!0}}),window.addEventListener("test",cu,cu),window.removeEventListener("test",cu,cu)}catch{Tv=!1}function zT(t,e,r,n,a,i,s,o,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(c){this.onError(c)}}var Vu=!1,dd=null,hd=!1,Mv=null,BT={onError:function(t){Vu=!0,dd=t}};function FT(t,e,r,n,a,i,s,o,l){Vu=!1,dd=null,zT.apply(BT,arguments)}function $T(t,e,r,n,a,i,s,o,l){if(FT.apply(this,arguments),Vu){if(Vu){var u=dd;Vu=!1,dd=null}else throw Error(Pe(198));hd||(hd=!0,Mv=u)}}function mo(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function i8(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function D5(t){if(mo(t)!==t)throw Error(Pe(188))}function qT(t){var e=t.alternate;if(!e){if(e=mo(t),e===null)throw Error(Pe(188));return e!==t?null:t}for(var r=t,n=e;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return D5(a),t;if(i===n)return D5(a),e;i=i.sibling}throw Error(Pe(188))}if(r.return!==n.return)r=a,n=i;else{for(var s=!1,o=a.child;o;){if(o===r){s=!0,r=a,n=i;break}if(o===n){s=!0,n=a,r=i;break}o=o.sibling}if(!s){for(o=i.child;o;){if(o===r){s=!0,r=i,n=a;break}if(o===n){s=!0,n=i,r=a;break}o=o.sibling}if(!s)throw Error(Pe(189))}}if(r.alternate!==n)throw Error(Pe(190))}if(r.tag!==3)throw Error(Pe(188));return r.stateNode.current===r?t:e}function s8(t){return t=qT(t),t!==null?o8(t):null}function o8(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=o8(t);if(e!==null)return e;t=t.sibling}return null}var l8=jn.unstable_scheduleCallback,P5=jn.unstable_cancelCallback,HT=jn.unstable_shouldYield,VT=jn.unstable_requestPaint,wr=jn.unstable_now,jT=jn.unstable_getCurrentPriorityLevel,vy=jn.unstable_ImmediatePriority,u8=jn.unstable_UserBlockingPriority,pd=jn.unstable_NormalPriority,UT=jn.unstable_LowPriority,c8=jn.unstable_IdlePriority,yh=null,za=null;function WT(t){if(za&&typeof za.onCommitFiberRoot=="function")try{za.onCommitFiberRoot(yh,t,void 0,(t.current.flags&128)===128)}catch{}}var ya=Math.clz32?Math.clz32:XT,GT=Math.log,YT=Math.LN2;function XT(t){return t>>>=0,t===0?32:31-(GT(t)/YT|0)|0}var z0=64,B0=4194304;function Ru(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function gd(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,a=t.suspendedLanes,i=t.pingedLanes,s=r&268435455;if(s!==0){var o=s&~a;o!==0?n=Ru(o):(i&=s,i!==0&&(n=Ru(i)))}else s=r&~a,s!==0?n=Ru(s):i!==0&&(n=Ru(i));if(n===0)return 0;if(e!==0&&e!==n&&!(e&a)&&(a=n&-n,i=e&-e,a>=i||a===16&&(i&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-ya(e),a=1<<r,n|=t[r],e&=~a;return n}function KT(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ZT(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,a=t.expirationTimes,i=t.pendingLanes;0<i;){var s=31-ya(i),o=1<<s,l=a[s];l===-1?(!(o&r)||o&n)&&(a[s]=KT(o,e)):l<=e&&(t.expiredLanes|=o),i&=~o}}function Dv(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function f8(){var t=z0;return z0<<=1,!(z0&4194240)&&(z0=64),t}function Jp(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Yc(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ya(e),t[e]=r}function QT(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var a=31-ya(r),i=1<<a;e[a]=0,n[a]=-1,t[a]=-1,r&=~i}}function yy(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-ya(r),a=1<<n;a&e|t[n]&e&&(t[n]|=e),r&=~a}}var Nt=0;function d8(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var h8,by,p8,g8,m8,Pv=!1,F0=[],Ui=null,Wi=null,Gi=null,fc=new Map,dc=new Map,zi=[],JT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function A5(t,e){switch(t){case"focusin":case"focusout":Ui=null;break;case"dragenter":case"dragleave":Wi=null;break;case"mouseover":case"mouseout":Gi=null;break;case"pointerover":case"pointerout":fc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":dc.delete(e.pointerId)}}function fu(t,e,r,n,a,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},e!==null&&(e=Kc(e),e!==null&&by(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,a!==null&&e.indexOf(a)===-1&&e.push(a),t)}function eM(t,e,r,n,a){switch(e){case"focusin":return Ui=fu(Ui,t,e,r,n,a),!0;case"dragenter":return Wi=fu(Wi,t,e,r,n,a),!0;case"mouseover":return Gi=fu(Gi,t,e,r,n,a),!0;case"pointerover":var i=a.pointerId;return fc.set(i,fu(fc.get(i)||null,t,e,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,dc.set(i,fu(dc.get(i)||null,t,e,r,n,a)),!0}return!1}function v8(t){var e=Hs(t.target);if(e!==null){var r=mo(e);if(r!==null){if(e=r.tag,e===13){if(e=i8(r),e!==null){t.blockedOn=e,m8(t.priority,function(){p8(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Of(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=Av(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);Ev=n,r.target.dispatchEvent(n),Ev=null}else return e=Kc(r),e!==null&&by(e),t.blockedOn=r,!1;e.shift()}return!0}function L5(t,e,r){Of(t)&&r.delete(e)}function tM(){Pv=!1,Ui!==null&&Of(Ui)&&(Ui=null),Wi!==null&&Of(Wi)&&(Wi=null),Gi!==null&&Of(Gi)&&(Gi=null),fc.forEach(L5),dc.forEach(L5)}function du(t,e){t.blockedOn===e&&(t.blockedOn=null,Pv||(Pv=!0,jn.unstable_scheduleCallback(jn.unstable_NormalPriority,tM)))}function hc(t){function e(a){return du(a,t)}if(0<F0.length){du(F0[0],t);for(var r=1;r<F0.length;r++){var n=F0[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Ui!==null&&du(Ui,t),Wi!==null&&du(Wi,t),Gi!==null&&du(Gi,t),fc.forEach(e),dc.forEach(e),r=0;r<zi.length;r++)n=zi[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<zi.length&&(r=zi[0],r.blockedOn===null);)v8(r),r.blockedOn===null&&zi.shift()}var cl=xi.ReactCurrentBatchConfig,md=!0;function rM(t,e,r,n){var a=Nt,i=cl.transition;cl.transition=null;try{Nt=1,xy(t,e,r,n)}finally{Nt=a,cl.transition=i}}function nM(t,e,r,n){var a=Nt,i=cl.transition;cl.transition=null;try{Nt=4,xy(t,e,r,n)}finally{Nt=a,cl.transition=i}}function xy(t,e,r,n){if(md){var a=Av(t,e,r,n);if(a===null)ug(t,e,n,vd,r),A5(t,n);else if(eM(a,t,e,r,n))n.stopPropagation();else if(A5(t,n),e&4&&-1<JT.indexOf(t)){for(;a!==null;){var i=Kc(a);if(i!==null&&h8(i),i=Av(t,e,r,n),i===null&&ug(t,e,n,vd,r),i===a)break;a=i}a!==null&&n.stopPropagation()}else ug(t,e,n,null,r)}}var vd=null;function Av(t,e,r,n){if(vd=null,t=my(n),t=Hs(t),t!==null)if(e=mo(t),e===null)t=null;else if(r=e.tag,r===13){if(t=i8(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return vd=t,null}function y8(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(jT()){case vy:return 1;case u8:return 4;case pd:case UT:return 16;case c8:return 536870912;default:return 16}default:return 16}}var Fi=null,wy=null,If=null;function b8(){if(If)return If;var t,e=wy,r=e.length,n,a="value"in Fi?Fi.value:Fi.textContent,i=a.length;for(t=0;t<r&&e[t]===a[t];t++);var s=r-t;for(n=1;n<=s&&e[r-n]===a[i-n];n++);return If=a.slice(t,1<n?1-n:void 0)}function Nf(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function $0(){return!0}function R5(){return!1}function Wn(t){function e(r,n,a,i,s){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(r=t[o],this[o]=r?r(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?$0:R5,this.isPropagationStopped=R5,this}return cr(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=$0)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=$0)},persist:function(){},isPersistent:$0}),e}var Vl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_y=Wn(Vl),Xc=cr({},Vl,{view:0,detail:0}),aM=Wn(Xc),eg,tg,hu,bh=cr({},Xc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sy,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==hu&&(hu&&t.type==="mousemove"?(eg=t.screenX-hu.screenX,tg=t.screenY-hu.screenY):tg=eg=0,hu=t),eg)},movementY:function(t){return"movementY"in t?t.movementY:tg}}),O5=Wn(bh),iM=cr({},bh,{dataTransfer:0}),sM=Wn(iM),oM=cr({},Xc,{relatedTarget:0}),rg=Wn(oM),lM=cr({},Vl,{animationName:0,elapsedTime:0,pseudoElement:0}),uM=Wn(lM),cM=cr({},Vl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),fM=Wn(cM),dM=cr({},Vl,{data:0}),I5=Wn(dM),hM={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pM={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gM={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mM(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=gM[t])?!!e[t]:!1}function Sy(){return mM}var vM=cr({},Xc,{key:function(t){if(t.key){var e=hM[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Nf(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?pM[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sy,charCode:function(t){return t.type==="keypress"?Nf(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Nf(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),yM=Wn(vM),bM=cr({},bh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),N5=Wn(bM),xM=cr({},Xc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sy}),wM=Wn(xM),_M=cr({},Vl,{propertyName:0,elapsedTime:0,pseudoElement:0}),SM=Wn(_M),kM=cr({},bh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),EM=Wn(kM),CM=[9,13,27,32],ky=fi&&"CompositionEvent"in window,ju=null;fi&&"documentMode"in document&&(ju=document.documentMode);var TM=fi&&"TextEvent"in window&&!ju,x8=fi&&(!ky||ju&&8<ju&&11>=ju),z5=String.fromCharCode(32),B5=!1;function w8(t,e){switch(t){case"keyup":return CM.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _8(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Uo=!1;function MM(t,e){switch(t){case"compositionend":return _8(e);case"keypress":return e.which!==32?null:(B5=!0,z5);case"textInput":return t=e.data,t===z5&&B5?null:t;default:return null}}function DM(t,e){if(Uo)return t==="compositionend"||!ky&&w8(t,e)?(t=b8(),If=wy=Fi=null,Uo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return x8&&e.locale!=="ko"?null:e.data;default:return null}}var PM={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function F5(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!PM[t.type]:e==="textarea"}function S8(t,e,r,n){e8(n),e=yd(e,"onChange"),0<e.length&&(r=new _y("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Uu=null,pc=null;function AM(t){O8(t,0)}function xh(t){var e=Yo(t);if(G7(e))return t}function LM(t,e){if(t==="change")return e}var k8=!1;if(fi){var ng;if(fi){var ag="oninput"in document;if(!ag){var $5=document.createElement("div");$5.setAttribute("oninput","return;"),ag=typeof $5.oninput=="function"}ng=ag}else ng=!1;k8=ng&&(!document.documentMode||9<document.documentMode)}function q5(){Uu&&(Uu.detachEvent("onpropertychange",E8),pc=Uu=null)}function E8(t){if(t.propertyName==="value"&&xh(pc)){var e=[];S8(e,pc,t,my(t)),a8(AM,e)}}function RM(t,e,r){t==="focusin"?(q5(),Uu=e,pc=r,Uu.attachEvent("onpropertychange",E8)):t==="focusout"&&q5()}function OM(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return xh(pc)}function IM(t,e){if(t==="click")return xh(e)}function NM(t,e){if(t==="input"||t==="change")return xh(e)}function zM(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var _a=typeof Object.is=="function"?Object.is:zM;function gc(t,e){if(_a(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!hv.call(e,a)||!_a(t[a],e[a]))return!1}return!0}function H5(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function V5(t,e){var r=H5(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=H5(r)}}function C8(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?C8(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function T8(){for(var t=window,e=fd();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=fd(t.document)}return e}function Ey(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function BM(t){var e=T8(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&C8(r.ownerDocument.documentElement,r)){if(n!==null&&Ey(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var a=r.textContent.length,i=Math.min(n.start,a);n=n.end===void 0?i:Math.min(n.end,a),!t.extend&&i>n&&(a=n,n=i,i=a),a=V5(r,i);var s=V5(r,n);a&&s&&(t.rangeCount!==1||t.anchorNode!==a.node||t.anchorOffset!==a.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(a.node,a.offset),t.removeAllRanges(),i>n?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var FM=fi&&"documentMode"in document&&11>=document.documentMode,Wo=null,Lv=null,Wu=null,Rv=!1;function j5(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Rv||Wo==null||Wo!==fd(n)||(n=Wo,"selectionStart"in n&&Ey(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Wu&&gc(Wu,n)||(Wu=n,n=yd(Lv,"onSelect"),0<n.length&&(e=new _y("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Wo)))}function q0(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Go={animationend:q0("Animation","AnimationEnd"),animationiteration:q0("Animation","AnimationIteration"),animationstart:q0("Animation","AnimationStart"),transitionend:q0("Transition","TransitionEnd")},ig={},M8={};fi&&(M8=document.createElement("div").style,"AnimationEvent"in window||(delete Go.animationend.animation,delete Go.animationiteration.animation,delete Go.animationstart.animation),"TransitionEvent"in window||delete Go.transitionend.transition);function wh(t){if(ig[t])return ig[t];if(!Go[t])return t;var e=Go[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in M8)return ig[t]=e[r];return t}var D8=wh("animationend"),P8=wh("animationiteration"),A8=wh("animationstart"),L8=wh("transitionend"),R8=new Map,U5="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function vs(t,e){R8.set(t,e),go(e,[t])}for(var sg=0;sg<U5.length;sg++){var og=U5[sg],$M=og.toLowerCase(),qM=og[0].toUpperCase()+og.slice(1);vs($M,"on"+qM)}vs(D8,"onAnimationEnd");vs(P8,"onAnimationIteration");vs(A8,"onAnimationStart");vs("dblclick","onDoubleClick");vs("focusin","onFocus");vs("focusout","onBlur");vs(L8,"onTransitionEnd");wl("onMouseEnter",["mouseout","mouseover"]);wl("onMouseLeave",["mouseout","mouseover"]);wl("onPointerEnter",["pointerout","pointerover"]);wl("onPointerLeave",["pointerout","pointerover"]);go("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));go("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));go("onBeforeInput",["compositionend","keypress","textInput","paste"]);go("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));go("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));go("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ou="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),HM=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ou));function W5(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,$T(n,e,void 0,t),t.currentTarget=null}function O8(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],a=n.event;n=n.listeners;e:{var i=void 0;if(e)for(var s=n.length-1;0<=s;s--){var o=n[s],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==i&&a.isPropagationStopped())break e;W5(a,o,u),i=l}else for(s=0;s<n.length;s++){if(o=n[s],l=o.instance,u=o.currentTarget,o=o.listener,l!==i&&a.isPropagationStopped())break e;W5(a,o,u),i=l}}}if(hd)throw t=Mv,hd=!1,Mv=null,t}function Zt(t,e){var r=e[Bv];r===void 0&&(r=e[Bv]=new Set);var n=t+"__bubble";r.has(n)||(I8(e,t,2,!1),r.add(n))}function lg(t,e,r){var n=0;e&&(n|=4),I8(r,t,n,e)}var H0="_reactListening"+Math.random().toString(36).slice(2);function mc(t){if(!t[H0]){t[H0]=!0,H7.forEach(function(r){r!=="selectionchange"&&(HM.has(r)||lg(r,!1,t),lg(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[H0]||(e[H0]=!0,lg("selectionchange",!1,e))}}function I8(t,e,r,n){switch(y8(e)){case 1:var a=rM;break;case 4:a=nM;break;default:a=xy}r=a.bind(null,e,r,t),a=void 0,!Tv||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(a=!0),n?a!==void 0?t.addEventListener(e,r,{capture:!0,passive:a}):t.addEventListener(e,r,!0):a!==void 0?t.addEventListener(e,r,{passive:a}):t.addEventListener(e,r,!1)}function ug(t,e,r,n,a){var i=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var o=n.stateNode.containerInfo;if(o===a||o.nodeType===8&&o.parentNode===a)break;if(s===4)for(s=n.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===a||l.nodeType===8&&l.parentNode===a))return;s=s.return}for(;o!==null;){if(s=Hs(o),s===null)return;if(l=s.tag,l===5||l===6){n=i=s;continue e}o=o.parentNode}}n=n.return}a8(function(){var u=i,c=my(r),f=[];e:{var d=R8.get(t);if(d!==void 0){var p=_y,g=t;switch(t){case"keypress":if(Nf(r)===0)break e;case"keydown":case"keyup":p=yM;break;case"focusin":g="focus",p=rg;break;case"focusout":g="blur",p=rg;break;case"beforeblur":case"afterblur":p=rg;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=O5;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=sM;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=wM;break;case D8:case P8:case A8:p=uM;break;case L8:p=SM;break;case"scroll":p=aM;break;case"wheel":p=EM;break;case"copy":case"cut":case"paste":p=fM;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=N5}var y=(e&4)!==0,x=!y&&t==="scroll",b=y?d!==null?d+"Capture":null:d;y=[];for(var w=u,_;w!==null;){_=w;var k=_.stateNode;if(_.tag===5&&k!==null&&(_=k,b!==null&&(k=cc(w,b),k!=null&&y.push(vc(w,k,_)))),x)break;w=w.return}0<y.length&&(d=new p(d,g,null,r,c),f.push({event:d,listeners:y}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",d&&r!==Ev&&(g=r.relatedTarget||r.fromElement)&&(Hs(g)||g[di]))break e;if((p||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,p?(g=r.relatedTarget||r.toElement,p=u,g=g?Hs(g):null,g!==null&&(x=mo(g),g!==x||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=u),p!==g)){if(y=O5,k="onMouseLeave",b="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(y=N5,k="onPointerLeave",b="onPointerEnter",w="pointer"),x=p==null?d:Yo(p),_=g==null?d:Yo(g),d=new y(k,w+"leave",p,r,c),d.target=x,d.relatedTarget=_,k=null,Hs(c)===u&&(y=new y(b,w+"enter",g,r,c),y.target=_,y.relatedTarget=x,k=y),x=k,p&&g)t:{for(y=p,b=g,w=0,_=y;_;_=Co(_))w++;for(_=0,k=b;k;k=Co(k))_++;for(;0<w-_;)y=Co(y),w--;for(;0<_-w;)b=Co(b),_--;for(;w--;){if(y===b||b!==null&&y===b.alternate)break t;y=Co(y),b=Co(b)}y=null}else y=null;p!==null&&G5(f,d,p,y,!1),g!==null&&x!==null&&G5(f,x,g,y,!0)}}e:{if(d=u?Yo(u):window,p=d.nodeName&&d.nodeName.toLowerCase(),p==="select"||p==="input"&&d.type==="file")var E=LM;else if(F5(d))if(k8)E=NM;else{E=OM;var D=RM}else(p=d.nodeName)&&p.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(E=IM);if(E&&(E=E(t,u))){S8(f,E,r,c);break e}D&&D(t,d,u),t==="focusout"&&(D=d._wrapperState)&&D.controlled&&d.type==="number"&&xv(d,"number",d.value)}switch(D=u?Yo(u):window,t){case"focusin":(F5(D)||D.contentEditable==="true")&&(Wo=D,Lv=u,Wu=null);break;case"focusout":Wu=Lv=Wo=null;break;case"mousedown":Rv=!0;break;case"contextmenu":case"mouseup":case"dragend":Rv=!1,j5(f,r,c);break;case"selectionchange":if(FM)break;case"keydown":case"keyup":j5(f,r,c)}var M;if(ky)e:{switch(t){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else Uo?w8(t,r)&&(A="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(A="onCompositionStart");A&&(x8&&r.locale!=="ko"&&(Uo||A!=="onCompositionStart"?A==="onCompositionEnd"&&Uo&&(M=b8()):(Fi=c,wy="value"in Fi?Fi.value:Fi.textContent,Uo=!0)),D=yd(u,A),0<D.length&&(A=new I5(A,t,null,r,c),f.push({event:A,listeners:D}),M?A.data=M:(M=_8(r),M!==null&&(A.data=M)))),(M=TM?MM(t,r):DM(t,r))&&(u=yd(u,"onBeforeInput"),0<u.length&&(c=new I5("onBeforeInput","beforeinput",null,r,c),f.push({event:c,listeners:u}),c.data=M))}O8(f,e)})}function vc(t,e,r){return{instance:t,listener:e,currentTarget:r}}function yd(t,e){for(var r=e+"Capture",n=[];t!==null;){var a=t,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=cc(t,r),i!=null&&n.unshift(vc(t,i,a)),i=cc(t,e),i!=null&&n.push(vc(t,i,a))),t=t.return}return n}function Co(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function G5(t,e,r,n,a){for(var i=e._reactName,s=[];r!==null&&r!==n;){var o=r,l=o.alternate,u=o.stateNode;if(l!==null&&l===n)break;o.tag===5&&u!==null&&(o=u,a?(l=cc(r,i),l!=null&&s.unshift(vc(r,l,o))):a||(l=cc(r,i),l!=null&&s.push(vc(r,l,o)))),r=r.return}s.length!==0&&t.push({event:e,listeners:s})}var VM=/\r\n?/g,jM=/\u0000|\uFFFD/g;function Y5(t){return(typeof t=="string"?t:""+t).replace(VM,`
`).replace(jM,"")}function V0(t,e,r){if(e=Y5(e),Y5(t)!==e&&r)throw Error(Pe(425))}function bd(){}var Ov=null,Iv=null;function Nv(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var zv=typeof setTimeout=="function"?setTimeout:void 0,UM=typeof clearTimeout=="function"?clearTimeout:void 0,X5=typeof Promise=="function"?Promise:void 0,WM=typeof queueMicrotask=="function"?queueMicrotask:typeof X5<"u"?function(t){return X5.resolve(null).then(t).catch(GM)}:zv;function GM(t){setTimeout(function(){throw t})}function cg(t,e){var r=e,n=0;do{var a=r.nextSibling;if(t.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){t.removeChild(a),hc(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);hc(e)}function Yi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function K5(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var jl=Math.random().toString(36).slice(2),Oa="__reactFiber$"+jl,yc="__reactProps$"+jl,di="__reactContainer$"+jl,Bv="__reactEvents$"+jl,YM="__reactListeners$"+jl,XM="__reactHandles$"+jl;function Hs(t){var e=t[Oa];if(e)return e;for(var r=t.parentNode;r;){if(e=r[di]||r[Oa]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=K5(t);t!==null;){if(r=t[Oa])return r;t=K5(t)}return e}t=r,r=t.parentNode}return null}function Kc(t){return t=t[Oa]||t[di],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Yo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Pe(33))}function _h(t){return t[yc]||null}var Fv=[],Xo=-1;function ys(t){return{current:t}}function Jt(t){0>Xo||(t.current=Fv[Xo],Fv[Xo]=null,Xo--)}function Gt(t,e){Xo++,Fv[Xo]=t.current,t.current=e}var is={},an=ys(is),Pn=ys(!1),eo=is;function _l(t,e){var r=t.type.contextTypes;if(!r)return is;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=e[i];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=a),a}function An(t){return t=t.childContextTypes,t!=null}function xd(){Jt(Pn),Jt(an)}function Z5(t,e,r){if(an.current!==is)throw Error(Pe(168));Gt(an,e),Gt(Pn,r)}function N8(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in e))throw Error(Pe(108,RT(t)||"Unknown",a));return cr({},r,n)}function wd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||is,eo=an.current,Gt(an,t),Gt(Pn,Pn.current),!0}function Q5(t,e,r){var n=t.stateNode;if(!n)throw Error(Pe(169));r?(t=N8(t,e,eo),n.__reactInternalMemoizedMergedChildContext=t,Jt(Pn),Jt(an),Gt(an,t)):Jt(Pn),Gt(Pn,r)}var Ja=null,Sh=!1,fg=!1;function z8(t){Ja===null?Ja=[t]:Ja.push(t)}function KM(t){Sh=!0,z8(t)}function bs(){if(!fg&&Ja!==null){fg=!0;var t=0,e=Nt;try{var r=Ja;for(Nt=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}Ja=null,Sh=!1}catch(a){throw Ja!==null&&(Ja=Ja.slice(t+1)),l8(vy,bs),a}finally{Nt=e,fg=!1}}return null}var Ko=[],Zo=0,_d=null,Sd=0,ta=[],ra=0,to=null,ri=1,ni="";function Os(t,e){Ko[Zo++]=Sd,Ko[Zo++]=_d,_d=t,Sd=e}function B8(t,e,r){ta[ra++]=ri,ta[ra++]=ni,ta[ra++]=to,to=t;var n=ri;t=ni;var a=32-ya(n)-1;n&=~(1<<a),r+=1;var i=32-ya(e)+a;if(30<i){var s=a-a%5;i=(n&(1<<s)-1).toString(32),n>>=s,a-=s,ri=1<<32-ya(e)+a|r<<a|n,ni=i+t}else ri=1<<i|r<<a|n,ni=t}function Cy(t){t.return!==null&&(Os(t,1),B8(t,1,0))}function Ty(t){for(;t===_d;)_d=Ko[--Zo],Ko[Zo]=null,Sd=Ko[--Zo],Ko[Zo]=null;for(;t===to;)to=ta[--ra],ta[ra]=null,ni=ta[--ra],ta[ra]=null,ri=ta[--ra],ta[ra]=null}var qn=null,Fn=null,rr=!1,ma=null;function F8(t,e){var r=ia(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function J5(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,qn=t,Fn=Yi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,qn=t,Fn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=to!==null?{id:ri,overflow:ni}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=ia(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,qn=t,Fn=null,!0):!1;default:return!1}}function $v(t){return(t.mode&1)!==0&&(t.flags&128)===0}function qv(t){if(rr){var e=Fn;if(e){var r=e;if(!J5(t,e)){if($v(t))throw Error(Pe(418));e=Yi(r.nextSibling);var n=qn;e&&J5(t,e)?F8(n,r):(t.flags=t.flags&-4097|2,rr=!1,qn=t)}}else{if($v(t))throw Error(Pe(418));t.flags=t.flags&-4097|2,rr=!1,qn=t}}}function e3(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;qn=t}function j0(t){if(t!==qn)return!1;if(!rr)return e3(t),rr=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Nv(t.type,t.memoizedProps)),e&&(e=Fn)){if($v(t))throw $8(),Error(Pe(418));for(;e;)F8(t,e),e=Yi(e.nextSibling)}if(e3(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Pe(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Fn=Yi(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Fn=null}}else Fn=qn?Yi(t.stateNode.nextSibling):null;return!0}function $8(){for(var t=Fn;t;)t=Yi(t.nextSibling)}function Sl(){Fn=qn=null,rr=!1}function My(t){ma===null?ma=[t]:ma.push(t)}var ZM=xi.ReactCurrentBatchConfig;function ha(t,e){if(t&&t.defaultProps){e=cr({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}var kd=ys(null),Ed=null,Qo=null,Dy=null;function Py(){Dy=Qo=Ed=null}function Ay(t){var e=kd.current;Jt(kd),t._currentValue=e}function Hv(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function fl(t,e){Ed=t,Dy=Qo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Dn=!0),t.firstContext=null)}function la(t){var e=t._currentValue;if(Dy!==t)if(t={context:t,memoizedValue:e,next:null},Qo===null){if(Ed===null)throw Error(Pe(308));Qo=t,Ed.dependencies={lanes:0,firstContext:t}}else Qo=Qo.next=t;return e}var Vs=null;function Ly(t){Vs===null?Vs=[t]:Vs.push(t)}function q8(t,e,r,n){var a=e.interleaved;return a===null?(r.next=r,Ly(e)):(r.next=a.next,a.next=r),e.interleaved=r,hi(t,n)}function hi(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Ni=!1;function Ry(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function H8(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ui(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Xi(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,wt&2){var a=n.pending;return a===null?e.next=e:(e.next=a.next,a.next=e),n.pending=e,hi(t,r)}return a=n.interleaved,a===null?(e.next=e,Ly(n)):(e.next=a.next,a.next=e),n.interleaved=e,hi(t,r)}function zf(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,yy(t,r)}}function t3(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=s:i=i.next=s,r=r.next}while(r!==null);i===null?a=i=e:i=i.next=e}else a=i=e;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Cd(t,e,r,n){var a=t.updateQueue;Ni=!1;var i=a.firstBaseUpdate,s=a.lastBaseUpdate,o=a.shared.pending;if(o!==null){a.shared.pending=null;var l=o,u=l.next;l.next=null,s===null?i=u:s.next=u,s=l;var c=t.alternate;c!==null&&(c=c.updateQueue,o=c.lastBaseUpdate,o!==s&&(o===null?c.firstBaseUpdate=u:o.next=u,c.lastBaseUpdate=l))}if(i!==null){var f=a.baseState;s=0,c=u=l=null,o=i;do{var d=o.lane,p=o.eventTime;if((n&d)===d){c!==null&&(c=c.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var g=t,y=o;switch(d=e,p=r,y.tag){case 1:if(g=y.payload,typeof g=="function"){f=g.call(p,f,d);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=y.payload,d=typeof g=="function"?g.call(p,f,d):g,d==null)break e;f=cr({},f,d);break e;case 2:Ni=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,d=a.effects,d===null?a.effects=[o]:d.push(o))}else p={eventTime:p,lane:d,tag:o.tag,payload:o.payload,callback:o.callback,next:null},c===null?(u=c=p,l=f):c=c.next=p,s|=d;if(o=o.next,o===null){if(o=a.shared.pending,o===null)break;d=o,o=d.next,d.next=null,a.lastBaseUpdate=d,a.shared.pending=null}}while(1);if(c===null&&(l=f),a.baseState=l,a.firstBaseUpdate=u,a.lastBaseUpdate=c,e=a.shared.interleaved,e!==null){a=e;do s|=a.lane,a=a.next;while(a!==e)}else i===null&&(a.shared.lanes=0);no|=s,t.lanes=s,t.memoizedState=f}}function r3(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(Pe(191,a));a.call(n)}}}var V8=new q7.Component().refs;function Vv(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:cr({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var kh={isMounted:function(t){return(t=t._reactInternals)?mo(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=bn(),a=Zi(t),i=ui(n,a);i.payload=e,r!=null&&(i.callback=r),e=Xi(t,i,a),e!==null&&(ba(e,t,a,n),zf(e,t,a))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=bn(),a=Zi(t),i=ui(n,a);i.tag=1,i.payload=e,r!=null&&(i.callback=r),e=Xi(t,i,a),e!==null&&(ba(e,t,a,n),zf(e,t,a))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=bn(),n=Zi(t),a=ui(r,n);a.tag=2,e!=null&&(a.callback=e),e=Xi(t,a,n),e!==null&&(ba(e,t,n,r),zf(e,t,n))}};function n3(t,e,r,n,a,i,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,i,s):e.prototype&&e.prototype.isPureReactComponent?!gc(r,n)||!gc(a,i):!0}function j8(t,e,r){var n=!1,a=is,i=e.contextType;return typeof i=="object"&&i!==null?i=la(i):(a=An(e)?eo:an.current,n=e.contextTypes,i=(n=n!=null)?_l(t,a):is),e=new e(r,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=kh,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=a,t.__reactInternalMemoizedMaskedChildContext=i),e}function a3(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&kh.enqueueReplaceState(e,e.state,null)}function jv(t,e,r,n){var a=t.stateNode;a.props=r,a.state=t.memoizedState,a.refs=V8,Ry(t);var i=e.contextType;typeof i=="object"&&i!==null?a.context=la(i):(i=An(e)?eo:an.current,a.context=_l(t,i)),a.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Vv(t,e,i,r),a.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(e=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),e!==a.state&&kh.enqueueReplaceState(a,a.state,null),Cd(t,r,a,n),a.state=t.memoizedState),typeof a.componentDidMount=="function"&&(t.flags|=4194308)}function pu(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Pe(309));var n=r.stateNode}if(!n)throw Error(Pe(147,t));var a=n,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(s){var o=a.refs;o===V8&&(o=a.refs={}),s===null?delete o[i]:o[i]=s},e._stringRef=i,e)}if(typeof t!="string")throw Error(Pe(284));if(!r._owner)throw Error(Pe(290,t))}return t}function U0(t,e){throw t=Object.prototype.toString.call(e),Error(Pe(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function i3(t){var e=t._init;return e(t._payload)}function U8(t){function e(b,w){if(t){var _=b.deletions;_===null?(b.deletions=[w],b.flags|=16):_.push(w)}}function r(b,w){if(!t)return null;for(;w!==null;)e(b,w),w=w.sibling;return null}function n(b,w){for(b=new Map;w!==null;)w.key!==null?b.set(w.key,w):b.set(w.index,w),w=w.sibling;return b}function a(b,w){return b=Qi(b,w),b.index=0,b.sibling=null,b}function i(b,w,_){return b.index=_,t?(_=b.alternate,_!==null?(_=_.index,_<w?(b.flags|=2,w):_):(b.flags|=2,w)):(b.flags|=1048576,w)}function s(b){return t&&b.alternate===null&&(b.flags|=2),b}function o(b,w,_,k){return w===null||w.tag!==6?(w=yg(_,b.mode,k),w.return=b,w):(w=a(w,_),w.return=b,w)}function l(b,w,_,k){var E=_.type;return E===jo?c(b,w,_.props.children,k,_.key):w!==null&&(w.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Ii&&i3(E)===w.type)?(k=a(w,_.props),k.ref=pu(b,w,_),k.return=b,k):(k=Vf(_.type,_.key,_.props,null,b.mode,k),k.ref=pu(b,w,_),k.return=b,k)}function u(b,w,_,k){return w===null||w.tag!==4||w.stateNode.containerInfo!==_.containerInfo||w.stateNode.implementation!==_.implementation?(w=bg(_,b.mode,k),w.return=b,w):(w=a(w,_.children||[]),w.return=b,w)}function c(b,w,_,k,E){return w===null||w.tag!==7?(w=Xs(_,b.mode,k,E),w.return=b,w):(w=a(w,_),w.return=b,w)}function f(b,w,_){if(typeof w=="string"&&w!==""||typeof w=="number")return w=yg(""+w,b.mode,_),w.return=b,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case O0:return _=Vf(w.type,w.key,w.props,null,b.mode,_),_.ref=pu(b,null,w),_.return=b,_;case Vo:return w=bg(w,b.mode,_),w.return=b,w;case Ii:var k=w._init;return f(b,k(w._payload),_)}if(Lu(w)||uu(w))return w=Xs(w,b.mode,_,null),w.return=b,w;U0(b,w)}return null}function d(b,w,_,k){var E=w!==null?w.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return E!==null?null:o(b,w,""+_,k);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case O0:return _.key===E?l(b,w,_,k):null;case Vo:return _.key===E?u(b,w,_,k):null;case Ii:return E=_._init,d(b,w,E(_._payload),k)}if(Lu(_)||uu(_))return E!==null?null:c(b,w,_,k,null);U0(b,_)}return null}function p(b,w,_,k,E){if(typeof k=="string"&&k!==""||typeof k=="number")return b=b.get(_)||null,o(w,b,""+k,E);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case O0:return b=b.get(k.key===null?_:k.key)||null,l(w,b,k,E);case Vo:return b=b.get(k.key===null?_:k.key)||null,u(w,b,k,E);case Ii:var D=k._init;return p(b,w,_,D(k._payload),E)}if(Lu(k)||uu(k))return b=b.get(_)||null,c(w,b,k,E,null);U0(w,k)}return null}function g(b,w,_,k){for(var E=null,D=null,M=w,A=w=0,R=null;M!==null&&A<_.length;A++){M.index>A?(R=M,M=null):R=M.sibling;var O=d(b,M,_[A],k);if(O===null){M===null&&(M=R);break}t&&M&&O.alternate===null&&e(b,M),w=i(O,w,A),D===null?E=O:D.sibling=O,D=O,M=R}if(A===_.length)return r(b,M),rr&&Os(b,A),E;if(M===null){for(;A<_.length;A++)M=f(b,_[A],k),M!==null&&(w=i(M,w,A),D===null?E=M:D.sibling=M,D=M);return rr&&Os(b,A),E}for(M=n(b,M);A<_.length;A++)R=p(M,b,A,_[A],k),R!==null&&(t&&R.alternate!==null&&M.delete(R.key===null?A:R.key),w=i(R,w,A),D===null?E=R:D.sibling=R,D=R);return t&&M.forEach(function(N){return e(b,N)}),rr&&Os(b,A),E}function y(b,w,_,k){var E=uu(_);if(typeof E!="function")throw Error(Pe(150));if(_=E.call(_),_==null)throw Error(Pe(151));for(var D=E=null,M=w,A=w=0,R=null,O=_.next();M!==null&&!O.done;A++,O=_.next()){M.index>A?(R=M,M=null):R=M.sibling;var N=d(b,M,O.value,k);if(N===null){M===null&&(M=R);break}t&&M&&N.alternate===null&&e(b,M),w=i(N,w,A),D===null?E=N:D.sibling=N,D=N,M=R}if(O.done)return r(b,M),rr&&Os(b,A),E;if(M===null){for(;!O.done;A++,O=_.next())O=f(b,O.value,k),O!==null&&(w=i(O,w,A),D===null?E=O:D.sibling=O,D=O);return rr&&Os(b,A),E}for(M=n(b,M);!O.done;A++,O=_.next())O=p(M,b,A,O.value,k),O!==null&&(t&&O.alternate!==null&&M.delete(O.key===null?A:O.key),w=i(O,w,A),D===null?E=O:D.sibling=O,D=O);return t&&M.forEach(function(B){return e(b,B)}),rr&&Os(b,A),E}function x(b,w,_,k){if(typeof _=="object"&&_!==null&&_.type===jo&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case O0:e:{for(var E=_.key,D=w;D!==null;){if(D.key===E){if(E=_.type,E===jo){if(D.tag===7){r(b,D.sibling),w=a(D,_.props.children),w.return=b,b=w;break e}}else if(D.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Ii&&i3(E)===D.type){r(b,D.sibling),w=a(D,_.props),w.ref=pu(b,D,_),w.return=b,b=w;break e}r(b,D);break}else e(b,D);D=D.sibling}_.type===jo?(w=Xs(_.props.children,b.mode,k,_.key),w.return=b,b=w):(k=Vf(_.type,_.key,_.props,null,b.mode,k),k.ref=pu(b,w,_),k.return=b,b=k)}return s(b);case Vo:e:{for(D=_.key;w!==null;){if(w.key===D)if(w.tag===4&&w.stateNode.containerInfo===_.containerInfo&&w.stateNode.implementation===_.implementation){r(b,w.sibling),w=a(w,_.children||[]),w.return=b,b=w;break e}else{r(b,w);break}else e(b,w);w=w.sibling}w=bg(_,b.mode,k),w.return=b,b=w}return s(b);case Ii:return D=_._init,x(b,w,D(_._payload),k)}if(Lu(_))return g(b,w,_,k);if(uu(_))return y(b,w,_,k);U0(b,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,w!==null&&w.tag===6?(r(b,w.sibling),w=a(w,_),w.return=b,b=w):(r(b,w),w=yg(_,b.mode,k),w.return=b,b=w),s(b)):r(b,w)}return x}var kl=U8(!0),W8=U8(!1),Zc={},Ba=ys(Zc),bc=ys(Zc),xc=ys(Zc);function js(t){if(t===Zc)throw Error(Pe(174));return t}function Oy(t,e){switch(Gt(xc,e),Gt(bc,t),Gt(Ba,Zc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:_v(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=_v(e,t)}Jt(Ba),Gt(Ba,e)}function El(){Jt(Ba),Jt(bc),Jt(xc)}function G8(t){js(xc.current);var e=js(Ba.current),r=_v(e,t.type);e!==r&&(Gt(bc,t),Gt(Ba,r))}function Iy(t){bc.current===t&&(Jt(Ba),Jt(bc))}var ir=ys(0);function Td(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var dg=[];function Ny(){for(var t=0;t<dg.length;t++)dg[t]._workInProgressVersionPrimary=null;dg.length=0}var Bf=xi.ReactCurrentDispatcher,hg=xi.ReactCurrentBatchConfig,ro=0,or=null,Mr=null,Nr=null,Md=!1,Gu=!1,wc=0,QM=0;function en(){throw Error(Pe(321))}function zy(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!_a(t[r],e[r]))return!1;return!0}function By(t,e,r,n,a,i){if(ro=i,or=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Bf.current=t===null||t.memoizedState===null?rD:nD,t=r(n,a),Gu){i=0;do{if(Gu=!1,wc=0,25<=i)throw Error(Pe(301));i+=1,Nr=Mr=null,e.updateQueue=null,Bf.current=aD,t=r(n,a)}while(Gu)}if(Bf.current=Dd,e=Mr!==null&&Mr.next!==null,ro=0,Nr=Mr=or=null,Md=!1,e)throw Error(Pe(300));return t}function Fy(){var t=wc!==0;return wc=0,t}function Pa(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nr===null?or.memoizedState=Nr=t:Nr=Nr.next=t,Nr}function ua(){if(Mr===null){var t=or.alternate;t=t!==null?t.memoizedState:null}else t=Mr.next;var e=Nr===null?or.memoizedState:Nr.next;if(e!==null)Nr=e,Mr=t;else{if(t===null)throw Error(Pe(310));Mr=t,t={memoizedState:Mr.memoizedState,baseState:Mr.baseState,baseQueue:Mr.baseQueue,queue:Mr.queue,next:null},Nr===null?or.memoizedState=Nr=t:Nr=Nr.next=t}return Nr}function _c(t,e){return typeof e=="function"?e(t):e}function pg(t){var e=ua(),r=e.queue;if(r===null)throw Error(Pe(311));r.lastRenderedReducer=t;var n=Mr,a=n.baseQueue,i=r.pending;if(i!==null){if(a!==null){var s=a.next;a.next=i.next,i.next=s}n.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,n=n.baseState;var o=s=null,l=null,u=i;do{var c=u.lane;if((ro&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(o=l=f,s=n):l=l.next=f,or.lanes|=c,no|=c}u=u.next}while(u!==null&&u!==i);l===null?s=n:l.next=o,_a(n,e.memoizedState)||(Dn=!0),e.memoizedState=n,e.baseState=s,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){a=t;do i=a.lane,or.lanes|=i,no|=i,a=a.next;while(a!==t)}else a===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function gg(t){var e=ua(),r=e.queue;if(r===null)throw Error(Pe(311));r.lastRenderedReducer=t;var n=r.dispatch,a=r.pending,i=e.memoizedState;if(a!==null){r.pending=null;var s=a=a.next;do i=t(i,s.action),s=s.next;while(s!==a);_a(i,e.memoizedState)||(Dn=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),r.lastRenderedState=i}return[i,n]}function Y8(){}function X8(t,e){var r=or,n=ua(),a=e(),i=!_a(n.memoizedState,a);if(i&&(n.memoizedState=a,Dn=!0),n=n.queue,$y(Q8.bind(null,r,n,t),[t]),n.getSnapshot!==e||i||Nr!==null&&Nr.memoizedState.tag&1){if(r.flags|=2048,Sc(9,Z8.bind(null,r,n,a,e),void 0,null),$r===null)throw Error(Pe(349));ro&30||K8(r,e,a)}return a}function K8(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=or.updateQueue,e===null?(e={lastEffect:null,stores:null},or.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function Z8(t,e,r,n){e.value=r,e.getSnapshot=n,J8(e)&&e9(t)}function Q8(t,e,r){return r(function(){J8(e)&&e9(t)})}function J8(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!_a(t,r)}catch{return!0}}function e9(t){var e=hi(t,1);e!==null&&ba(e,t,1,-1)}function s3(t){var e=Pa();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_c,lastRenderedState:t},e.queue=t,t=t.dispatch=tD.bind(null,or,t),[e.memoizedState,t]}function Sc(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=or.updateQueue,e===null?(e={lastEffect:null,stores:null},or.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function t9(){return ua().memoizedState}function Ff(t,e,r,n){var a=Pa();or.flags|=t,a.memoizedState=Sc(1|e,r,void 0,n===void 0?null:n)}function Eh(t,e,r,n){var a=ua();n=n===void 0?null:n;var i=void 0;if(Mr!==null){var s=Mr.memoizedState;if(i=s.destroy,n!==null&&zy(n,s.deps)){a.memoizedState=Sc(e,r,i,n);return}}or.flags|=t,a.memoizedState=Sc(1|e,r,i,n)}function o3(t,e){return Ff(8390656,8,t,e)}function $y(t,e){return Eh(2048,8,t,e)}function r9(t,e){return Eh(4,2,t,e)}function n9(t,e){return Eh(4,4,t,e)}function a9(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function i9(t,e,r){return r=r!=null?r.concat([t]):null,Eh(4,4,a9.bind(null,e,t),r)}function qy(){}function s9(t,e){var r=ua();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&zy(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function o9(t,e){var r=ua();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&zy(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function l9(t,e,r){return ro&21?(_a(r,e)||(r=f8(),or.lanes|=r,no|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Dn=!0),t.memoizedState=r)}function JM(t,e){var r=Nt;Nt=r!==0&&4>r?r:4,t(!0);var n=hg.transition;hg.transition={};try{t(!1),e()}finally{Nt=r,hg.transition=n}}function u9(){return ua().memoizedState}function eD(t,e,r){var n=Zi(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},c9(t))f9(e,r);else if(r=q8(t,e,r,n),r!==null){var a=bn();ba(r,t,n,a),d9(r,e,n)}}function tD(t,e,r){var n=Zi(t),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(c9(t))f9(e,a);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var s=e.lastRenderedState,o=i(s,r);if(a.hasEagerState=!0,a.eagerState=o,_a(o,s)){var l=e.interleaved;l===null?(a.next=a,Ly(e)):(a.next=l.next,l.next=a),e.interleaved=a;return}}catch{}finally{}r=q8(t,e,a,n),r!==null&&(a=bn(),ba(r,t,n,a),d9(r,e,n))}}function c9(t){var e=t.alternate;return t===or||e!==null&&e===or}function f9(t,e){Gu=Md=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function d9(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,yy(t,r)}}var Dd={readContext:la,useCallback:en,useContext:en,useEffect:en,useImperativeHandle:en,useInsertionEffect:en,useLayoutEffect:en,useMemo:en,useReducer:en,useRef:en,useState:en,useDebugValue:en,useDeferredValue:en,useTransition:en,useMutableSource:en,useSyncExternalStore:en,useId:en,unstable_isNewReconciler:!1},rD={readContext:la,useCallback:function(t,e){return Pa().memoizedState=[t,e===void 0?null:e],t},useContext:la,useEffect:o3,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Ff(4194308,4,a9.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Ff(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ff(4,2,t,e)},useMemo:function(t,e){var r=Pa();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Pa();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=eD.bind(null,or,t),[n.memoizedState,t]},useRef:function(t){var e=Pa();return t={current:t},e.memoizedState=t},useState:s3,useDebugValue:qy,useDeferredValue:function(t){return Pa().memoizedState=t},useTransition:function(){var t=s3(!1),e=t[0];return t=JM.bind(null,t[1]),Pa().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=or,a=Pa();if(rr){if(r===void 0)throw Error(Pe(407));r=r()}else{if(r=e(),$r===null)throw Error(Pe(349));ro&30||K8(n,e,r)}a.memoizedState=r;var i={value:r,getSnapshot:e};return a.queue=i,o3(Q8.bind(null,n,i,t),[t]),n.flags|=2048,Sc(9,Z8.bind(null,n,i,r,e),void 0,null),r},useId:function(){var t=Pa(),e=$r.identifierPrefix;if(rr){var r=ni,n=ri;r=(n&~(1<<32-ya(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=wc++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=QM++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},nD={readContext:la,useCallback:s9,useContext:la,useEffect:$y,useImperativeHandle:i9,useInsertionEffect:r9,useLayoutEffect:n9,useMemo:o9,useReducer:pg,useRef:t9,useState:function(){return pg(_c)},useDebugValue:qy,useDeferredValue:function(t){var e=ua();return l9(e,Mr.memoizedState,t)},useTransition:function(){var t=pg(_c)[0],e=ua().memoizedState;return[t,e]},useMutableSource:Y8,useSyncExternalStore:X8,useId:u9,unstable_isNewReconciler:!1},aD={readContext:la,useCallback:s9,useContext:la,useEffect:$y,useImperativeHandle:i9,useInsertionEffect:r9,useLayoutEffect:n9,useMemo:o9,useReducer:gg,useRef:t9,useState:function(){return gg(_c)},useDebugValue:qy,useDeferredValue:function(t){var e=ua();return Mr===null?e.memoizedState=t:l9(e,Mr.memoizedState,t)},useTransition:function(){var t=gg(_c)[0],e=ua().memoizedState;return[t,e]},useMutableSource:Y8,useSyncExternalStore:X8,useId:u9,unstable_isNewReconciler:!1};function Cl(t,e){try{var r="",n=e;do r+=LT(n),n=n.return;while(n);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:a,digest:null}}function mg(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function Uv(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var iD=typeof WeakMap=="function"?WeakMap:Map;function h9(t,e,r){r=ui(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Ad||(Ad=!0,t1=n),Uv(t,e)},r}function p9(t,e,r){r=ui(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var a=e.value;r.payload=function(){return n(a)},r.callback=function(){Uv(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Uv(t,e),typeof n!="function"&&(Ki===null?Ki=new Set([this]):Ki.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),r}function l3(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new iD;var a=new Set;n.set(e,a)}else a=n.get(e),a===void 0&&(a=new Set,n.set(e,a));a.has(r)||(a.add(r),t=bD.bind(null,t,e,r),e.then(t,t))}function u3(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function c3(t,e,r,n,a){return t.mode&1?(t.flags|=65536,t.lanes=a,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=ui(-1,1),e.tag=2,Xi(r,e,1))),r.lanes|=1),t)}var sD=xi.ReactCurrentOwner,Dn=!1;function vn(t,e,r,n){e.child=t===null?W8(e,null,r,n):kl(e,t.child,r,n)}function f3(t,e,r,n,a){r=r.render;var i=e.ref;return fl(e,a),n=By(t,e,r,n,i,a),r=Fy(),t!==null&&!Dn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~a,pi(t,e,a)):(rr&&r&&Cy(e),e.flags|=1,vn(t,e,n,a),e.child)}function d3(t,e,r,n,a){if(t===null){var i=r.type;return typeof i=="function"&&!Xy(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=i,g9(t,e,i,n,a)):(t=Vf(r.type,null,n,e,e.mode,a),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&a)){var s=i.memoizedProps;if(r=r.compare,r=r!==null?r:gc,r(s,n)&&t.ref===e.ref)return pi(t,e,a)}return e.flags|=1,t=Qi(i,n),t.ref=e.ref,t.return=e,e.child=t}function g9(t,e,r,n,a){if(t!==null){var i=t.memoizedProps;if(gc(i,n)&&t.ref===e.ref)if(Dn=!1,e.pendingProps=n=i,(t.lanes&a)!==0)t.flags&131072&&(Dn=!0);else return e.lanes=t.lanes,pi(t,e,a)}return Wv(t,e,r,n,a)}function m9(t,e,r){var n=e.pendingProps,a=n.children,i=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Gt(el,zn),zn|=r;else{if(!(r&1073741824))return t=i!==null?i.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Gt(el,zn),zn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,Gt(el,zn),zn|=n}else i!==null?(n=i.baseLanes|r,e.memoizedState=null):n=r,Gt(el,zn),zn|=n;return vn(t,e,a,r),e.child}function v9(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function Wv(t,e,r,n,a){var i=An(r)?eo:an.current;return i=_l(e,i),fl(e,a),r=By(t,e,r,n,i,a),n=Fy(),t!==null&&!Dn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~a,pi(t,e,a)):(rr&&n&&Cy(e),e.flags|=1,vn(t,e,r,a),e.child)}function h3(t,e,r,n,a){if(An(r)){var i=!0;wd(e)}else i=!1;if(fl(e,a),e.stateNode===null)$f(t,e),j8(e,r,n),jv(e,r,n,a),n=!0;else if(t===null){var s=e.stateNode,o=e.memoizedProps;s.props=o;var l=s.context,u=r.contextType;typeof u=="object"&&u!==null?u=la(u):(u=An(r)?eo:an.current,u=_l(e,u));var c=r.getDerivedStateFromProps,f=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==n||l!==u)&&a3(e,s,n,u),Ni=!1;var d=e.memoizedState;s.state=d,Cd(e,n,s,a),l=e.memoizedState,o!==n||d!==l||Pn.current||Ni?(typeof c=="function"&&(Vv(e,r,c,n),l=e.memoizedState),(o=Ni||n3(e,r,o,n,d,l,u))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),s.props=n,s.state=l,s.context=u,n=o):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{s=e.stateNode,H8(t,e),o=e.memoizedProps,u=e.type===e.elementType?o:ha(e.type,o),s.props=u,f=e.pendingProps,d=s.context,l=r.contextType,typeof l=="object"&&l!==null?l=la(l):(l=An(r)?eo:an.current,l=_l(e,l));var p=r.getDerivedStateFromProps;(c=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==f||d!==l)&&a3(e,s,n,l),Ni=!1,d=e.memoizedState,s.state=d,Cd(e,n,s,a);var g=e.memoizedState;o!==f||d!==g||Pn.current||Ni?(typeof p=="function"&&(Vv(e,r,p,n),g=e.memoizedState),(u=Ni||n3(e,r,u,n,d,g,l)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,g,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,g,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=g),s.props=n,s.state=g,s.context=l,n=u):(typeof s.componentDidUpdate!="function"||o===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),n=!1)}return Gv(t,e,r,n,i,a)}function Gv(t,e,r,n,a,i){v9(t,e);var s=(e.flags&128)!==0;if(!n&&!s)return a&&Q5(e,r,!1),pi(t,e,i);n=e.stateNode,sD.current=e;var o=s&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&s?(e.child=kl(e,t.child,null,i),e.child=kl(e,null,o,i)):vn(t,e,o,i),e.memoizedState=n.state,a&&Q5(e,r,!0),e.child}function y9(t){var e=t.stateNode;e.pendingContext?Z5(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Z5(t,e.context,!1),Oy(t,e.containerInfo)}function p3(t,e,r,n,a){return Sl(),My(a),e.flags|=256,vn(t,e,r,n),e.child}var Yv={dehydrated:null,treeContext:null,retryLane:0};function Xv(t){return{baseLanes:t,cachePool:null,transitions:null}}function b9(t,e,r){var n=e.pendingProps,a=ir.current,i=!1,s=(e.flags&128)!==0,o;if((o=s)||(o=t!==null&&t.memoizedState===null?!1:(a&2)!==0),o?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(a|=1),Gt(ir,a&1),t===null)return qv(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=n.children,t=n.fallback,i?(n=e.mode,i=e.child,s={mode:"hidden",children:s},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=s):i=Mh(s,n,0,null),t=Xs(t,n,r,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Xv(r),e.memoizedState=Yv,t):Hy(e,s));if(a=t.memoizedState,a!==null&&(o=a.dehydrated,o!==null))return oD(t,e,s,n,o,a,r);if(i){i=n.fallback,s=e.mode,a=t.child,o=a.sibling;var l={mode:"hidden",children:n.children};return!(s&1)&&e.child!==a?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=Qi(a,l),n.subtreeFlags=a.subtreeFlags&14680064),o!==null?i=Qi(o,i):(i=Xs(i,s,r,null),i.flags|=2),i.return=e,n.return=e,n.sibling=i,e.child=n,n=i,i=e.child,s=t.child.memoizedState,s=s===null?Xv(r):{baseLanes:s.baseLanes|r,cachePool:null,transitions:s.transitions},i.memoizedState=s,i.childLanes=t.childLanes&~r,e.memoizedState=Yv,n}return i=t.child,t=i.sibling,n=Qi(i,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function Hy(t,e){return e=Mh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function W0(t,e,r,n){return n!==null&&My(n),kl(e,t.child,null,r),t=Hy(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function oD(t,e,r,n,a,i,s){if(r)return e.flags&256?(e.flags&=-257,n=mg(Error(Pe(422))),W0(t,e,s,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=n.fallback,a=e.mode,n=Mh({mode:"visible",children:n.children},a,0,null),i=Xs(i,a,s,null),i.flags|=2,n.return=e,i.return=e,n.sibling=i,e.child=n,e.mode&1&&kl(e,t.child,null,s),e.child.memoizedState=Xv(s),e.memoizedState=Yv,i);if(!(e.mode&1))return W0(t,e,s,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var o=n.dgst;return n=o,i=Error(Pe(419)),n=mg(i,n,void 0),W0(t,e,s,n)}if(o=(s&t.childLanes)!==0,Dn||o){if(n=$r,n!==null){switch(s&-s){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|s)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,hi(t,a),ba(n,t,a,-1))}return Yy(),n=mg(Error(Pe(421))),W0(t,e,s,n)}return a.data==="$?"?(e.flags|=128,e.child=t.child,e=xD.bind(null,t),a._reactRetry=e,null):(t=i.treeContext,Fn=Yi(a.nextSibling),qn=e,rr=!0,ma=null,t!==null&&(ta[ra++]=ri,ta[ra++]=ni,ta[ra++]=to,ri=t.id,ni=t.overflow,to=e),e=Hy(e,n.children),e.flags|=4096,e)}function g3(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),Hv(t.return,e,r)}function vg(t,e,r,n,a){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a)}function x9(t,e,r){var n=e.pendingProps,a=n.revealOrder,i=n.tail;if(vn(t,e,n.children,r),n=ir.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&g3(t,r,e);else if(t.tag===19)g3(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Gt(ir,n),!(e.mode&1))e.memoizedState=null;else switch(a){case"forwards":for(r=e.child,a=null;r!==null;)t=r.alternate,t!==null&&Td(t)===null&&(a=r),r=r.sibling;r=a,r===null?(a=e.child,e.child=null):(a=r.sibling,r.sibling=null),vg(e,!1,a,r,i);break;case"backwards":for(r=null,a=e.child,e.child=null;a!==null;){if(t=a.alternate,t!==null&&Td(t)===null){e.child=a;break}t=a.sibling,a.sibling=r,r=a,a=t}vg(e,!0,r,null,i);break;case"together":vg(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function $f(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function pi(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),no|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Pe(153));if(e.child!==null){for(t=e.child,r=Qi(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Qi(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function lD(t,e,r){switch(e.tag){case 3:y9(e),Sl();break;case 5:G8(e);break;case 1:An(e.type)&&wd(e);break;case 4:Oy(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,a=e.memoizedProps.value;Gt(kd,n._currentValue),n._currentValue=a;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(Gt(ir,ir.current&1),e.flags|=128,null):r&e.child.childLanes?b9(t,e,r):(Gt(ir,ir.current&1),t=pi(t,e,r),t!==null?t.sibling:null);Gt(ir,ir.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return x9(t,e,r);e.flags|=128}if(a=e.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Gt(ir,ir.current),n)break;return null;case 22:case 23:return e.lanes=0,m9(t,e,r)}return pi(t,e,r)}var w9,Kv,_9,S9;w9=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Kv=function(){};_9=function(t,e,r,n){var a=t.memoizedProps;if(a!==n){t=e.stateNode,js(Ba.current);var i=null;switch(r){case"input":a=yv(t,a),n=yv(t,n),i=[];break;case"select":a=cr({},a,{value:void 0}),n=cr({},n,{value:void 0}),i=[];break;case"textarea":a=wv(t,a),n=wv(t,n),i=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=bd)}Sv(r,n);var s;r=null;for(u in a)if(!n.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var o=a[u];for(s in o)o.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(lc.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var l=n[u];if(o=a!=null?a[u]:void 0,n.hasOwnProperty(u)&&l!==o&&(l!=null||o!=null))if(u==="style")if(o){for(s in o)!o.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in l)l.hasOwnProperty(s)&&o[s]!==l[s]&&(r||(r={}),r[s]=l[s])}else r||(i||(i=[]),i.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(lc.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Zt("scroll",t),i||o===l||(i=[])):(i=i||[]).push(u,l))}r&&(i=i||[]).push("style",r);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};S9=function(t,e,r,n){r!==n&&(e.flags|=4)};function gu(t,e){if(!rr)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function tn(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var a=t.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=t,a=a.sibling;else for(a=t.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=t,a=a.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function uD(t,e,r){var n=e.pendingProps;switch(Ty(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tn(e),null;case 1:return An(e.type)&&xd(),tn(e),null;case 3:return n=e.stateNode,El(),Jt(Pn),Jt(an),Ny(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(j0(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ma!==null&&(a1(ma),ma=null))),Kv(t,e),tn(e),null;case 5:Iy(e);var a=js(xc.current);if(r=e.type,t!==null&&e.stateNode!=null)_9(t,e,r,n,a),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(Pe(166));return tn(e),null}if(t=js(Ba.current),j0(e)){n=e.stateNode,r=e.type;var i=e.memoizedProps;switch(n[Oa]=e,n[yc]=i,t=(e.mode&1)!==0,r){case"dialog":Zt("cancel",n),Zt("close",n);break;case"iframe":case"object":case"embed":Zt("load",n);break;case"video":case"audio":for(a=0;a<Ou.length;a++)Zt(Ou[a],n);break;case"source":Zt("error",n);break;case"img":case"image":case"link":Zt("error",n),Zt("load",n);break;case"details":Zt("toggle",n);break;case"input":k5(n,i),Zt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Zt("invalid",n);break;case"textarea":C5(n,i),Zt("invalid",n)}Sv(r,i),a=null;for(var s in i)if(i.hasOwnProperty(s)){var o=i[s];s==="children"?typeof o=="string"?n.textContent!==o&&(i.suppressHydrationWarning!==!0&&V0(n.textContent,o,t),a=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&V0(n.textContent,o,t),a=["children",""+o]):lc.hasOwnProperty(s)&&o!=null&&s==="onScroll"&&Zt("scroll",n)}switch(r){case"input":I0(n),E5(n,i,!0);break;case"textarea":I0(n),T5(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=bd)}n=a,e.updateQueue=n,n!==null&&(e.flags|=4)}else{s=a.nodeType===9?a:a.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=K7(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=s.createElement(r,{is:n.is}):(t=s.createElement(r),r==="select"&&(s=t,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):t=s.createElementNS(t,r),t[Oa]=e,t[yc]=n,w9(t,e,!1,!1),e.stateNode=t;e:{switch(s=kv(r,n),r){case"dialog":Zt("cancel",t),Zt("close",t),a=n;break;case"iframe":case"object":case"embed":Zt("load",t),a=n;break;case"video":case"audio":for(a=0;a<Ou.length;a++)Zt(Ou[a],t);a=n;break;case"source":Zt("error",t),a=n;break;case"img":case"image":case"link":Zt("error",t),Zt("load",t),a=n;break;case"details":Zt("toggle",t),a=n;break;case"input":k5(t,n),a=yv(t,n),Zt("invalid",t);break;case"option":a=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},a=cr({},n,{value:void 0}),Zt("invalid",t);break;case"textarea":C5(t,n),a=wv(t,n),Zt("invalid",t);break;default:a=n}Sv(r,a),o=a;for(i in o)if(o.hasOwnProperty(i)){var l=o[i];i==="style"?J7(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Z7(t,l)):i==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&uc(t,l):typeof l=="number"&&uc(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(lc.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Zt("scroll",t):l!=null&&dy(t,i,l,s))}switch(r){case"input":I0(t),E5(t,n,!1);break;case"textarea":I0(t),T5(t);break;case"option":n.value!=null&&t.setAttribute("value",""+as(n.value));break;case"select":t.multiple=!!n.multiple,i=n.value,i!=null?ol(t,!!n.multiple,i,!1):n.defaultValue!=null&&ol(t,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(t.onclick=bd)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return tn(e),null;case 6:if(t&&e.stateNode!=null)S9(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(Pe(166));if(r=js(xc.current),js(Ba.current),j0(e)){if(n=e.stateNode,r=e.memoizedProps,n[Oa]=e,(i=n.nodeValue!==r)&&(t=qn,t!==null))switch(t.tag){case 3:V0(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&V0(n.nodeValue,r,(t.mode&1)!==0)}i&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Oa]=e,e.stateNode=n}return tn(e),null;case 13:if(Jt(ir),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(rr&&Fn!==null&&e.mode&1&&!(e.flags&128))$8(),Sl(),e.flags|=98560,i=!1;else if(i=j0(e),n!==null&&n.dehydrated!==null){if(t===null){if(!i)throw Error(Pe(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Pe(317));i[Oa]=e}else Sl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;tn(e),i=!1}else ma!==null&&(a1(ma),ma=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||ir.current&1?Dr===0&&(Dr=3):Yy())),e.updateQueue!==null&&(e.flags|=4),tn(e),null);case 4:return El(),Kv(t,e),t===null&&mc(e.stateNode.containerInfo),tn(e),null;case 10:return Ay(e.type._context),tn(e),null;case 17:return An(e.type)&&xd(),tn(e),null;case 19:if(Jt(ir),i=e.memoizedState,i===null)return tn(e),null;if(n=(e.flags&128)!==0,s=i.rendering,s===null)if(n)gu(i,!1);else{if(Dr!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=Td(t),s!==null){for(e.flags|=128,gu(i,!1),n=s.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)i=r,t=n,i.flags&=14680066,s=i.alternate,s===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,i.type=s.type,t=s.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return Gt(ir,ir.current&1|2),e.child}t=t.sibling}i.tail!==null&&wr()>Tl&&(e.flags|=128,n=!0,gu(i,!1),e.lanes=4194304)}else{if(!n)if(t=Td(s),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),gu(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!rr)return tn(e),null}else 2*wr()-i.renderingStartTime>Tl&&r!==1073741824&&(e.flags|=128,n=!0,gu(i,!1),e.lanes=4194304);i.isBackwards?(s.sibling=e.child,e.child=s):(r=i.last,r!==null?r.sibling=s:e.child=s,i.last=s)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=wr(),e.sibling=null,r=ir.current,Gt(ir,n?r&1|2:r&1),e):(tn(e),null);case 22:case 23:return Gy(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?zn&1073741824&&(tn(e),e.subtreeFlags&6&&(e.flags|=8192)):tn(e),null;case 24:return null;case 25:return null}throw Error(Pe(156,e.tag))}function cD(t,e){switch(Ty(e),e.tag){case 1:return An(e.type)&&xd(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return El(),Jt(Pn),Jt(an),Ny(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Iy(e),null;case 13:if(Jt(ir),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Pe(340));Sl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Jt(ir),null;case 4:return El(),null;case 10:return Ay(e.type._context),null;case 22:case 23:return Gy(),null;case 24:return null;default:return null}}var G0=!1,nn=!1,fD=typeof WeakSet=="function"?WeakSet:Set,qe=null;function Jo(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){gr(t,e,n)}else r.current=null}function Zv(t,e,r){try{r()}catch(n){gr(t,e,n)}}var m3=!1;function dD(t,e){if(Ov=md,t=T8(),Ey(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var s=0,o=-1,l=-1,u=0,c=0,f=t,d=null;t:for(;;){for(var p;f!==r||a!==0&&f.nodeType!==3||(o=s+a),f!==i||n!==0&&f.nodeType!==3||(l=s+n),f.nodeType===3&&(s+=f.nodeValue.length),(p=f.firstChild)!==null;)d=f,f=p;for(;;){if(f===t)break t;if(d===r&&++u===a&&(o=s),d===i&&++c===n&&(l=s),(p=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=p}r=o===-1||l===-1?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(Iv={focusedElem:t,selectionRange:r},md=!1,qe=e;qe!==null;)if(e=qe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,qe=t;else for(;qe!==null;){e=qe;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var y=g.memoizedProps,x=g.memoizedState,b=e.stateNode,w=b.getSnapshotBeforeUpdate(e.elementType===e.type?y:ha(e.type,y),x);b.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Pe(163))}}catch(k){gr(e,e.return,k)}if(t=e.sibling,t!==null){t.return=e.return,qe=t;break}qe=e.return}return g=m3,m3=!1,g}function Yu(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&t)===t){var i=a.destroy;a.destroy=void 0,i!==void 0&&Zv(e,r,i)}a=a.next}while(a!==n)}}function Ch(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function Qv(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function k9(t){var e=t.alternate;e!==null&&(t.alternate=null,k9(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Oa],delete e[yc],delete e[Bv],delete e[YM],delete e[XM])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function E9(t){return t.tag===5||t.tag===3||t.tag===4}function v3(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||E9(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Jv(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=bd));else if(n!==4&&(t=t.child,t!==null))for(Jv(t,e,r),t=t.sibling;t!==null;)Jv(t,e,r),t=t.sibling}function e1(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(e1(t,e,r),t=t.sibling;t!==null;)e1(t,e,r),t=t.sibling}var Wr=null,pa=!1;function Di(t,e,r){for(r=r.child;r!==null;)C9(t,e,r),r=r.sibling}function C9(t,e,r){if(za&&typeof za.onCommitFiberUnmount=="function")try{za.onCommitFiberUnmount(yh,r)}catch{}switch(r.tag){case 5:nn||Jo(r,e);case 6:var n=Wr,a=pa;Wr=null,Di(t,e,r),Wr=n,pa=a,Wr!==null&&(pa?(t=Wr,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Wr.removeChild(r.stateNode));break;case 18:Wr!==null&&(pa?(t=Wr,r=r.stateNode,t.nodeType===8?cg(t.parentNode,r):t.nodeType===1&&cg(t,r),hc(t)):cg(Wr,r.stateNode));break;case 4:n=Wr,a=pa,Wr=r.stateNode.containerInfo,pa=!0,Di(t,e,r),Wr=n,pa=a;break;case 0:case 11:case 14:case 15:if(!nn&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var i=a,s=i.destroy;i=i.tag,s!==void 0&&(i&2||i&4)&&Zv(r,e,s),a=a.next}while(a!==n)}Di(t,e,r);break;case 1:if(!nn&&(Jo(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){gr(r,e,o)}Di(t,e,r);break;case 21:Di(t,e,r);break;case 22:r.mode&1?(nn=(n=nn)||r.memoizedState!==null,Di(t,e,r),nn=n):Di(t,e,r);break;default:Di(t,e,r)}}function y3(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new fD),e.forEach(function(n){var a=wD.bind(null,t,n);r.has(n)||(r.add(n),n.then(a,a))})}}function da(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var i=t,s=e,o=s;e:for(;o!==null;){switch(o.tag){case 5:Wr=o.stateNode,pa=!1;break e;case 3:Wr=o.stateNode.containerInfo,pa=!0;break e;case 4:Wr=o.stateNode.containerInfo,pa=!0;break e}o=o.return}if(Wr===null)throw Error(Pe(160));C9(i,s,a),Wr=null,pa=!1;var l=a.alternate;l!==null&&(l.return=null),a.return=null}catch(u){gr(a,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)T9(e,t),e=e.sibling}function T9(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(da(e,t),Ta(t),n&4){try{Yu(3,t,t.return),Ch(3,t)}catch(y){gr(t,t.return,y)}try{Yu(5,t,t.return)}catch(y){gr(t,t.return,y)}}break;case 1:da(e,t),Ta(t),n&512&&r!==null&&Jo(r,r.return);break;case 5:if(da(e,t),Ta(t),n&512&&r!==null&&Jo(r,r.return),t.flags&32){var a=t.stateNode;try{uc(a,"")}catch(y){gr(t,t.return,y)}}if(n&4&&(a=t.stateNode,a!=null)){var i=t.memoizedProps,s=r!==null?r.memoizedProps:i,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&Y7(a,i),kv(o,s);var u=kv(o,i);for(s=0;s<l.length;s+=2){var c=l[s],f=l[s+1];c==="style"?J7(a,f):c==="dangerouslySetInnerHTML"?Z7(a,f):c==="children"?uc(a,f):dy(a,c,f,u)}switch(o){case"input":bv(a,i);break;case"textarea":X7(a,i);break;case"select":var d=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?ol(a,!!i.multiple,p,!1):d!==!!i.multiple&&(i.defaultValue!=null?ol(a,!!i.multiple,i.defaultValue,!0):ol(a,!!i.multiple,i.multiple?[]:"",!1))}a[yc]=i}catch(y){gr(t,t.return,y)}}break;case 6:if(da(e,t),Ta(t),n&4){if(t.stateNode===null)throw Error(Pe(162));a=t.stateNode,i=t.memoizedProps;try{a.nodeValue=i}catch(y){gr(t,t.return,y)}}break;case 3:if(da(e,t),Ta(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{hc(e.containerInfo)}catch(y){gr(t,t.return,y)}break;case 4:da(e,t),Ta(t);break;case 13:da(e,t),Ta(t),a=t.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(Uy=wr())),n&4&&y3(t);break;case 22:if(c=r!==null&&r.memoizedState!==null,t.mode&1?(nn=(u=nn)||c,da(e,t),nn=u):da(e,t),Ta(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(qe=t,c=t.child;c!==null;){for(f=qe=c;qe!==null;){switch(d=qe,p=d.child,d.tag){case 0:case 11:case 14:case 15:Yu(4,d,d.return);break;case 1:Jo(d,d.return);var g=d.stateNode;if(typeof g.componentWillUnmount=="function"){n=d,r=d.return;try{e=n,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(y){gr(n,r,y)}}break;case 5:Jo(d,d.return);break;case 22:if(d.memoizedState!==null){x3(f);continue}}p!==null?(p.return=d,qe=p):x3(f)}c=c.sibling}e:for(c=null,f=t;;){if(f.tag===5){if(c===null){c=f;try{a=f.stateNode,u?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=Q7("display",s))}catch(y){gr(t,t.return,y)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(y){gr(t,t.return,y)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:da(e,t),Ta(t),n&4&&y3(t);break;case 21:break;default:da(e,t),Ta(t)}}function Ta(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(E9(r)){var n=r;break e}r=r.return}throw Error(Pe(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(uc(a,""),n.flags&=-33);var i=v3(t);e1(t,i,a);break;case 3:case 4:var s=n.stateNode.containerInfo,o=v3(t);Jv(t,o,s);break;default:throw Error(Pe(161))}}catch(l){gr(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function hD(t,e,r){qe=t,M9(t)}function M9(t,e,r){for(var n=(t.mode&1)!==0;qe!==null;){var a=qe,i=a.child;if(a.tag===22&&n){var s=a.memoizedState!==null||G0;if(!s){var o=a.alternate,l=o!==null&&o.memoizedState!==null||nn;o=G0;var u=nn;if(G0=s,(nn=l)&&!u)for(qe=a;qe!==null;)s=qe,l=s.child,s.tag===22&&s.memoizedState!==null?w3(a):l!==null?(l.return=s,qe=l):w3(a);for(;i!==null;)qe=i,M9(i),i=i.sibling;qe=a,G0=o,nn=u}b3(t)}else a.subtreeFlags&8772&&i!==null?(i.return=a,qe=i):b3(t)}}function b3(t){for(;qe!==null;){var e=qe;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:nn||Ch(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!nn)if(r===null)n.componentDidMount();else{var a=e.elementType===e.type?r.memoizedProps:ha(e.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&r3(e,i,n);break;case 3:var s=e.updateQueue;if(s!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}r3(e,s,r)}break;case 5:var o=e.stateNode;if(r===null&&e.flags&4){r=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&hc(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Pe(163))}nn||e.flags&512&&Qv(e)}catch(d){gr(e,e.return,d)}}if(e===t){qe=null;break}if(r=e.sibling,r!==null){r.return=e.return,qe=r;break}qe=e.return}}function x3(t){for(;qe!==null;){var e=qe;if(e===t){qe=null;break}var r=e.sibling;if(r!==null){r.return=e.return,qe=r;break}qe=e.return}}function w3(t){for(;qe!==null;){var e=qe;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Ch(4,e)}catch(l){gr(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var a=e.return;try{n.componentDidMount()}catch(l){gr(e,a,l)}}var i=e.return;try{Qv(e)}catch(l){gr(e,i,l)}break;case 5:var s=e.return;try{Qv(e)}catch(l){gr(e,s,l)}}}catch(l){gr(e,e.return,l)}if(e===t){qe=null;break}var o=e.sibling;if(o!==null){o.return=e.return,qe=o;break}qe=e.return}}var pD=Math.ceil,Pd=xi.ReactCurrentDispatcher,Vy=xi.ReactCurrentOwner,oa=xi.ReactCurrentBatchConfig,wt=0,$r=null,kr=null,Yr=0,zn=0,el=ys(0),Dr=0,kc=null,no=0,Th=0,jy=0,Xu=null,Cn=null,Uy=0,Tl=1/0,Za=null,Ad=!1,t1=null,Ki=null,Y0=!1,$i=null,Ld=0,Ku=0,r1=null,qf=-1,Hf=0;function bn(){return wt&6?wr():qf!==-1?qf:qf=wr()}function Zi(t){return t.mode&1?wt&2&&Yr!==0?Yr&-Yr:ZM.transition!==null?(Hf===0&&(Hf=f8()),Hf):(t=Nt,t!==0||(t=window.event,t=t===void 0?16:y8(t.type)),t):1}function ba(t,e,r,n){if(50<Ku)throw Ku=0,r1=null,Error(Pe(185));Yc(t,r,n),(!(wt&2)||t!==$r)&&(t===$r&&(!(wt&2)&&(Th|=r),Dr===4&&Bi(t,Yr)),Ln(t,n),r===1&&wt===0&&!(e.mode&1)&&(Tl=wr()+500,Sh&&bs()))}function Ln(t,e){var r=t.callbackNode;ZT(t,e);var n=gd(t,t===$r?Yr:0);if(n===0)r!==null&&P5(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&P5(r),e===1)t.tag===0?KM(_3.bind(null,t)):z8(_3.bind(null,t)),WM(function(){!(wt&6)&&bs()}),r=null;else{switch(d8(n)){case 1:r=vy;break;case 4:r=u8;break;case 16:r=pd;break;case 536870912:r=c8;break;default:r=pd}r=N9(r,D9.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function D9(t,e){if(qf=-1,Hf=0,wt&6)throw Error(Pe(327));var r=t.callbackNode;if(dl()&&t.callbackNode!==r)return null;var n=gd(t,t===$r?Yr:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Rd(t,n);else{e=n;var a=wt;wt|=2;var i=A9();($r!==t||Yr!==e)&&(Za=null,Tl=wr()+500,Ys(t,e));do try{vD();break}catch(o){P9(t,o)}while(1);Py(),Pd.current=i,wt=a,kr!==null?e=0:($r=null,Yr=0,e=Dr)}if(e!==0){if(e===2&&(a=Dv(t),a!==0&&(n=a,e=n1(t,a))),e===1)throw r=kc,Ys(t,0),Bi(t,n),Ln(t,wr()),r;if(e===6)Bi(t,n);else{if(a=t.current.alternate,!(n&30)&&!gD(a)&&(e=Rd(t,n),e===2&&(i=Dv(t),i!==0&&(n=i,e=n1(t,i))),e===1))throw r=kc,Ys(t,0),Bi(t,n),Ln(t,wr()),r;switch(t.finishedWork=a,t.finishedLanes=n,e){case 0:case 1:throw Error(Pe(345));case 2:Is(t,Cn,Za);break;case 3:if(Bi(t,n),(n&130023424)===n&&(e=Uy+500-wr(),10<e)){if(gd(t,0)!==0)break;if(a=t.suspendedLanes,(a&n)!==n){bn(),t.pingedLanes|=t.suspendedLanes&a;break}t.timeoutHandle=zv(Is.bind(null,t,Cn,Za),e);break}Is(t,Cn,Za);break;case 4:if(Bi(t,n),(n&4194240)===n)break;for(e=t.eventTimes,a=-1;0<n;){var s=31-ya(n);i=1<<s,s=e[s],s>a&&(a=s),n&=~i}if(n=a,n=wr()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*pD(n/1960))-n,10<n){t.timeoutHandle=zv(Is.bind(null,t,Cn,Za),n);break}Is(t,Cn,Za);break;case 5:Is(t,Cn,Za);break;default:throw Error(Pe(329))}}}return Ln(t,wr()),t.callbackNode===r?D9.bind(null,t):null}function n1(t,e){var r=Xu;return t.current.memoizedState.isDehydrated&&(Ys(t,e).flags|=256),t=Rd(t,e),t!==2&&(e=Cn,Cn=r,e!==null&&a1(e)),t}function a1(t){Cn===null?Cn=t:Cn.push.apply(Cn,t)}function gD(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!_a(i(),a))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Bi(t,e){for(e&=~jy,e&=~Th,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-ya(e),n=1<<r;t[r]=-1,e&=~n}}function _3(t){if(wt&6)throw Error(Pe(327));dl();var e=gd(t,0);if(!(e&1))return Ln(t,wr()),null;var r=Rd(t,e);if(t.tag!==0&&r===2){var n=Dv(t);n!==0&&(e=n,r=n1(t,n))}if(r===1)throw r=kc,Ys(t,0),Bi(t,e),Ln(t,wr()),r;if(r===6)throw Error(Pe(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Is(t,Cn,Za),Ln(t,wr()),null}function Wy(t,e){var r=wt;wt|=1;try{return t(e)}finally{wt=r,wt===0&&(Tl=wr()+500,Sh&&bs())}}function ao(t){$i!==null&&$i.tag===0&&!(wt&6)&&dl();var e=wt;wt|=1;var r=oa.transition,n=Nt;try{if(oa.transition=null,Nt=1,t)return t()}finally{Nt=n,oa.transition=r,wt=e,!(wt&6)&&bs()}}function Gy(){zn=el.current,Jt(el)}function Ys(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,UM(r)),kr!==null)for(r=kr.return;r!==null;){var n=r;switch(Ty(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&xd();break;case 3:El(),Jt(Pn),Jt(an),Ny();break;case 5:Iy(n);break;case 4:El();break;case 13:Jt(ir);break;case 19:Jt(ir);break;case 10:Ay(n.type._context);break;case 22:case 23:Gy()}r=r.return}if($r=t,kr=t=Qi(t.current,null),Yr=zn=e,Dr=0,kc=null,jy=Th=no=0,Cn=Xu=null,Vs!==null){for(e=0;e<Vs.length;e++)if(r=Vs[e],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,i=r.pending;if(i!==null){var s=i.next;i.next=a,n.next=s}r.pending=n}Vs=null}return t}function P9(t,e){do{var r=kr;try{if(Py(),Bf.current=Dd,Md){for(var n=or.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}Md=!1}if(ro=0,Nr=Mr=or=null,Gu=!1,wc=0,Vy.current=null,r===null||r.return===null){Dr=1,kc=e,kr=null;break}e:{var i=t,s=r.return,o=r,l=e;if(e=Yr,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=o,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=u3(s);if(p!==null){p.flags&=-257,c3(p,s,o,i,e),p.mode&1&&l3(i,u,e),e=p,l=u;var g=e.updateQueue;if(g===null){var y=new Set;y.add(l),e.updateQueue=y}else g.add(l);break e}else{if(!(e&1)){l3(i,u,e),Yy();break e}l=Error(Pe(426))}}else if(rr&&o.mode&1){var x=u3(s);if(x!==null){!(x.flags&65536)&&(x.flags|=256),c3(x,s,o,i,e),My(Cl(l,o));break e}}i=l=Cl(l,o),Dr!==4&&(Dr=2),Xu===null?Xu=[i]:Xu.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var b=h9(i,l,e);t3(i,b);break e;case 1:o=l;var w=i.type,_=i.stateNode;if(!(i.flags&128)&&(typeof w.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Ki===null||!Ki.has(_)))){i.flags|=65536,e&=-e,i.lanes|=e;var k=p9(i,o,e);t3(i,k);break e}}i=i.return}while(i!==null)}R9(r)}catch(E){e=E,kr===r&&r!==null&&(kr=r=r.return);continue}break}while(1)}function A9(){var t=Pd.current;return Pd.current=Dd,t===null?Dd:t}function Yy(){(Dr===0||Dr===3||Dr===2)&&(Dr=4),$r===null||!(no&268435455)&&!(Th&268435455)||Bi($r,Yr)}function Rd(t,e){var r=wt;wt|=2;var n=A9();($r!==t||Yr!==e)&&(Za=null,Ys(t,e));do try{mD();break}catch(a){P9(t,a)}while(1);if(Py(),wt=r,Pd.current=n,kr!==null)throw Error(Pe(261));return $r=null,Yr=0,Dr}function mD(){for(;kr!==null;)L9(kr)}function vD(){for(;kr!==null&&!HT();)L9(kr)}function L9(t){var e=I9(t.alternate,t,zn);t.memoizedProps=t.pendingProps,e===null?R9(t):kr=e,Vy.current=null}function R9(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=cD(r,e),r!==null){r.flags&=32767,kr=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Dr=6,kr=null;return}}else if(r=uD(r,e,zn),r!==null){kr=r;return}if(e=e.sibling,e!==null){kr=e;return}kr=e=t}while(e!==null);Dr===0&&(Dr=5)}function Is(t,e,r){var n=Nt,a=oa.transition;try{oa.transition=null,Nt=1,yD(t,e,r,n)}finally{oa.transition=a,Nt=n}return null}function yD(t,e,r,n){do dl();while($i!==null);if(wt&6)throw Error(Pe(327));r=t.finishedWork;var a=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(Pe(177));t.callbackNode=null,t.callbackPriority=0;var i=r.lanes|r.childLanes;if(QT(t,i),t===$r&&(kr=$r=null,Yr=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Y0||(Y0=!0,N9(pd,function(){return dl(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=oa.transition,oa.transition=null;var s=Nt;Nt=1;var o=wt;wt|=4,Vy.current=null,dD(t,r),T9(r,t),BM(Iv),md=!!Ov,Iv=Ov=null,t.current=r,hD(r),VT(),wt=o,Nt=s,oa.transition=i}else t.current=r;if(Y0&&(Y0=!1,$i=t,Ld=a),i=t.pendingLanes,i===0&&(Ki=null),WT(r.stateNode),Ln(t,wr()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)a=e[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(Ad)throw Ad=!1,t=t1,t1=null,t;return Ld&1&&t.tag!==0&&dl(),i=t.pendingLanes,i&1?t===r1?Ku++:(Ku=0,r1=t):Ku=0,bs(),null}function dl(){if($i!==null){var t=d8(Ld),e=oa.transition,r=Nt;try{if(oa.transition=null,Nt=16>t?16:t,$i===null)var n=!1;else{if(t=$i,$i=null,Ld=0,wt&6)throw Error(Pe(331));var a=wt;for(wt|=4,qe=t.current;qe!==null;){var i=qe,s=i.child;if(qe.flags&16){var o=i.deletions;if(o!==null){for(var l=0;l<o.length;l++){var u=o[l];for(qe=u;qe!==null;){var c=qe;switch(c.tag){case 0:case 11:case 15:Yu(8,c,i)}var f=c.child;if(f!==null)f.return=c,qe=f;else for(;qe!==null;){c=qe;var d=c.sibling,p=c.return;if(k9(c),c===u){qe=null;break}if(d!==null){d.return=p,qe=d;break}qe=p}}}var g=i.alternate;if(g!==null){var y=g.child;if(y!==null){g.child=null;do{var x=y.sibling;y.sibling=null,y=x}while(y!==null)}}qe=i}}if(i.subtreeFlags&2064&&s!==null)s.return=i,qe=s;else e:for(;qe!==null;){if(i=qe,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Yu(9,i,i.return)}var b=i.sibling;if(b!==null){b.return=i.return,qe=b;break e}qe=i.return}}var w=t.current;for(qe=w;qe!==null;){s=qe;var _=s.child;if(s.subtreeFlags&2064&&_!==null)_.return=s,qe=_;else e:for(s=w;qe!==null;){if(o=qe,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Ch(9,o)}}catch(E){gr(o,o.return,E)}if(o===s){qe=null;break e}var k=o.sibling;if(k!==null){k.return=o.return,qe=k;break e}qe=o.return}}if(wt=a,bs(),za&&typeof za.onPostCommitFiberRoot=="function")try{za.onPostCommitFiberRoot(yh,t)}catch{}n=!0}return n}finally{Nt=r,oa.transition=e}}return!1}function S3(t,e,r){e=Cl(r,e),e=h9(t,e,1),t=Xi(t,e,1),e=bn(),t!==null&&(Yc(t,1,e),Ln(t,e))}function gr(t,e,r){if(t.tag===3)S3(t,t,r);else for(;e!==null;){if(e.tag===3){S3(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ki===null||!Ki.has(n))){t=Cl(r,t),t=p9(e,t,1),e=Xi(e,t,1),t=bn(),e!==null&&(Yc(e,1,t),Ln(e,t));break}}e=e.return}}function bD(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=bn(),t.pingedLanes|=t.suspendedLanes&r,$r===t&&(Yr&r)===r&&(Dr===4||Dr===3&&(Yr&130023424)===Yr&&500>wr()-Uy?Ys(t,0):jy|=r),Ln(t,e)}function O9(t,e){e===0&&(t.mode&1?(e=B0,B0<<=1,!(B0&130023424)&&(B0=4194304)):e=1);var r=bn();t=hi(t,e),t!==null&&(Yc(t,e,r),Ln(t,r))}function xD(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),O9(t,r)}function wD(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,a=t.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(Pe(314))}n!==null&&n.delete(e),O9(t,r)}var I9;I9=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Pn.current)Dn=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Dn=!1,lD(t,e,r);Dn=!!(t.flags&131072)}else Dn=!1,rr&&e.flags&1048576&&B8(e,Sd,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;$f(t,e),t=e.pendingProps;var a=_l(e,an.current);fl(e,r),a=By(null,e,n,t,a,r);var i=Fy();return e.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,An(n)?(i=!0,wd(e)):i=!1,e.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Ry(e),a.updater=kh,e.stateNode=a,a._reactInternals=e,jv(e,n,t,r),e=Gv(null,e,n,!0,i,r)):(e.tag=0,rr&&i&&Cy(e),vn(null,e,a,r),e=e.child),e;case 16:n=e.elementType;e:{switch($f(t,e),t=e.pendingProps,a=n._init,n=a(n._payload),e.type=n,a=e.tag=SD(n),t=ha(n,t),a){case 0:e=Wv(null,e,n,t,r);break e;case 1:e=h3(null,e,n,t,r);break e;case 11:e=f3(null,e,n,t,r);break e;case 14:e=d3(null,e,n,ha(n.type,t),r);break e}throw Error(Pe(306,n,""))}return e;case 0:return n=e.type,a=e.pendingProps,a=e.elementType===n?a:ha(n,a),Wv(t,e,n,a,r);case 1:return n=e.type,a=e.pendingProps,a=e.elementType===n?a:ha(n,a),h3(t,e,n,a,r);case 3:e:{if(y9(e),t===null)throw Error(Pe(387));n=e.pendingProps,i=e.memoizedState,a=i.element,H8(t,e),Cd(e,n,null,r);var s=e.memoizedState;if(n=s.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){a=Cl(Error(Pe(423)),e),e=p3(t,e,n,r,a);break e}else if(n!==a){a=Cl(Error(Pe(424)),e),e=p3(t,e,n,r,a);break e}else for(Fn=Yi(e.stateNode.containerInfo.firstChild),qn=e,rr=!0,ma=null,r=W8(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Sl(),n===a){e=pi(t,e,r);break e}vn(t,e,n,r)}e=e.child}return e;case 5:return G8(e),t===null&&qv(e),n=e.type,a=e.pendingProps,i=t!==null?t.memoizedProps:null,s=a.children,Nv(n,a)?s=null:i!==null&&Nv(n,i)&&(e.flags|=32),v9(t,e),vn(t,e,s,r),e.child;case 6:return t===null&&qv(e),null;case 13:return b9(t,e,r);case 4:return Oy(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=kl(e,null,n,r):vn(t,e,n,r),e.child;case 11:return n=e.type,a=e.pendingProps,a=e.elementType===n?a:ha(n,a),f3(t,e,n,a,r);case 7:return vn(t,e,e.pendingProps,r),e.child;case 8:return vn(t,e,e.pendingProps.children,r),e.child;case 12:return vn(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,a=e.pendingProps,i=e.memoizedProps,s=a.value,Gt(kd,n._currentValue),n._currentValue=s,i!==null)if(_a(i.value,s)){if(i.children===a.children&&!Pn.current){e=pi(t,e,r);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var o=i.dependencies;if(o!==null){s=i.child;for(var l=o.firstContext;l!==null;){if(l.context===n){if(i.tag===1){l=ui(-1,r&-r),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),Hv(i.return,r,e),o.lanes|=r;break}l=l.next}}else if(i.tag===10)s=i.type===e.type?null:i.child;else if(i.tag===18){if(s=i.return,s===null)throw Error(Pe(341));s.lanes|=r,o=s.alternate,o!==null&&(o.lanes|=r),Hv(s,r,e),s=i.sibling}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===e){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}vn(t,e,a.children,r),e=e.child}return e;case 9:return a=e.type,n=e.pendingProps.children,fl(e,r),a=la(a),n=n(a),e.flags|=1,vn(t,e,n,r),e.child;case 14:return n=e.type,a=ha(n,e.pendingProps),a=ha(n.type,a),d3(t,e,n,a,r);case 15:return g9(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,a=e.pendingProps,a=e.elementType===n?a:ha(n,a),$f(t,e),e.tag=1,An(n)?(t=!0,wd(e)):t=!1,fl(e,r),j8(e,n,a),jv(e,n,a,r),Gv(null,e,n,!0,t,r);case 19:return x9(t,e,r);case 22:return m9(t,e,r)}throw Error(Pe(156,e.tag))};function N9(t,e){return l8(t,e)}function _D(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ia(t,e,r,n){return new _D(t,e,r,n)}function Xy(t){return t=t.prototype,!(!t||!t.isReactComponent)}function SD(t){if(typeof t=="function")return Xy(t)?1:0;if(t!=null){if(t=t.$$typeof,t===py)return 11;if(t===gy)return 14}return 2}function Qi(t,e){var r=t.alternate;return r===null?(r=ia(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Vf(t,e,r,n,a,i){var s=2;if(n=t,typeof t=="function")Xy(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case jo:return Xs(r.children,a,i,e);case hy:s=8,a|=8;break;case pv:return t=ia(12,r,e,a|2),t.elementType=pv,t.lanes=i,t;case gv:return t=ia(13,r,e,a),t.elementType=gv,t.lanes=i,t;case mv:return t=ia(19,r,e,a),t.elementType=mv,t.lanes=i,t;case U7:return Mh(r,a,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case V7:s=10;break e;case j7:s=9;break e;case py:s=11;break e;case gy:s=14;break e;case Ii:s=16,n=null;break e}throw Error(Pe(130,t==null?t:typeof t,""))}return e=ia(s,r,e,a),e.elementType=t,e.type=n,e.lanes=i,e}function Xs(t,e,r,n){return t=ia(7,t,n,e),t.lanes=r,t}function Mh(t,e,r,n){return t=ia(22,t,n,e),t.elementType=U7,t.lanes=r,t.stateNode={isHidden:!1},t}function yg(t,e,r){return t=ia(6,t,null,e),t.lanes=r,t}function bg(t,e,r){return e=ia(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function kD(t,e,r,n,a){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Jp(0),this.expirationTimes=Jp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Jp(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Ky(t,e,r,n,a,i,s,o,l){return t=new kD(t,e,r,o,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=ia(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ry(i),t}function ED(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Vo,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function z9(t){if(!t)return is;t=t._reactInternals;e:{if(mo(t)!==t||t.tag!==1)throw Error(Pe(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(An(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Pe(171))}if(t.tag===1){var r=t.type;if(An(r))return N8(t,r,e)}return e}function B9(t,e,r,n,a,i,s,o,l){return t=Ky(r,n,!0,t,a,i,s,o,l),t.context=z9(null),r=t.current,n=bn(),a=Zi(r),i=ui(n,a),i.callback=e??null,Xi(r,i,a),t.current.lanes=a,Yc(t,a,n),Ln(t,n),t}function Dh(t,e,r,n){var a=e.current,i=bn(),s=Zi(a);return r=z9(r),e.context===null?e.context=r:e.pendingContext=r,e=ui(i,s),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Xi(a,e,s),t!==null&&(ba(t,a,s,i),zf(t,a,s)),s}function Od(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function k3(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function Zy(t,e){k3(t,e),(t=t.alternate)&&k3(t,e)}function CD(){return null}var F9=typeof reportError=="function"?reportError:function(t){console.error(t)};function Qy(t){this._internalRoot=t}Ph.prototype.render=Qy.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Pe(409));Dh(t,e,null,null)};Ph.prototype.unmount=Qy.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ao(function(){Dh(null,t,null,null)}),e[di]=null}};function Ph(t){this._internalRoot=t}Ph.prototype.unstable_scheduleHydration=function(t){if(t){var e=g8();t={blockedOn:null,target:t,priority:e};for(var r=0;r<zi.length&&e!==0&&e<zi[r].priority;r++);zi.splice(r,0,t),r===0&&v8(t)}};function Jy(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ah(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function E3(){}function TD(t,e,r,n,a){if(a){if(typeof n=="function"){var i=n;n=function(){var u=Od(s);i.call(u)}}var s=B9(e,n,t,0,null,!1,!1,"",E3);return t._reactRootContainer=s,t[di]=s.current,mc(t.nodeType===8?t.parentNode:t),ao(),s}for(;a=t.lastChild;)t.removeChild(a);if(typeof n=="function"){var o=n;n=function(){var u=Od(l);o.call(u)}}var l=Ky(t,0,!1,null,null,!1,!1,"",E3);return t._reactRootContainer=l,t[di]=l.current,mc(t.nodeType===8?t.parentNode:t),ao(function(){Dh(e,l,r,n)}),l}function Lh(t,e,r,n,a){var i=r._reactRootContainer;if(i){var s=i;if(typeof a=="function"){var o=a;a=function(){var l=Od(s);o.call(l)}}Dh(e,s,t,a)}else s=TD(r,e,t,a,n);return Od(s)}h8=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Ru(e.pendingLanes);r!==0&&(yy(e,r|1),Ln(e,wr()),!(wt&6)&&(Tl=wr()+500,bs()))}break;case 13:ao(function(){var n=hi(t,1);if(n!==null){var a=bn();ba(n,t,1,a)}}),Zy(t,1)}};by=function(t){if(t.tag===13){var e=hi(t,134217728);if(e!==null){var r=bn();ba(e,t,134217728,r)}Zy(t,134217728)}};p8=function(t){if(t.tag===13){var e=Zi(t),r=hi(t,e);if(r!==null){var n=bn();ba(r,t,e,n)}Zy(t,e)}};g8=function(){return Nt};m8=function(t,e){var r=Nt;try{return Nt=t,e()}finally{Nt=r}};Cv=function(t,e,r){switch(e){case"input":if(bv(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var a=_h(n);if(!a)throw Error(Pe(90));G7(n),bv(n,a)}}}break;case"textarea":X7(t,r);break;case"select":e=r.value,e!=null&&ol(t,!!r.multiple,e,!1)}};r8=Wy;n8=ao;var MD={usingClientEntryPoint:!1,Events:[Kc,Yo,_h,e8,t8,Wy]},mu={findFiberByHostInstance:Hs,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},DD={bundleType:mu.bundleType,version:mu.version,rendererPackageName:mu.rendererPackageName,rendererConfig:mu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:xi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=s8(t),t===null?null:t.stateNode},findFiberByHostInstance:mu.findFiberByHostInstance||CD,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var X0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!X0.isDisabled&&X0.supportsFiber)try{yh=X0.inject(DD),za=X0}catch{}}Un.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=MD;Un.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Jy(e))throw Error(Pe(200));return ED(t,e,null,r)};Un.createRoot=function(t,e){if(!Jy(t))throw Error(Pe(299));var r=!1,n="",a=F9;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(a=e.onRecoverableError)),e=Ky(t,1,!1,null,null,r,!1,n,a),t[di]=e.current,mc(t.nodeType===8?t.parentNode:t),new Qy(e)};Un.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Pe(188)):(t=Object.keys(t).join(","),Error(Pe(268,t)));return t=s8(e),t=t===null?null:t.stateNode,t};Un.flushSync=function(t){return ao(t)};Un.hydrate=function(t,e,r){if(!Ah(e))throw Error(Pe(200));return Lh(null,t,e,!0,r)};Un.hydrateRoot=function(t,e,r){if(!Jy(t))throw Error(Pe(405));var n=r!=null&&r.hydratedSources||null,a=!1,i="",s=F9;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(s=r.onRecoverableError)),e=B9(e,null,t,1,r??null,a,!1,i,s),t[di]=e.current,mc(t),n)for(t=0;t<n.length;t++)r=n[t],a=r._getVersion,a=a(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,a]:e.mutableSourceEagerHydrationData.push(r,a);return new Ph(e)};Un.render=function(t,e,r){if(!Ah(e))throw Error(Pe(200));return Lh(null,t,e,!1,r)};Un.unmountComponentAtNode=function(t){if(!Ah(t))throw Error(Pe(40));return t._reactRootContainer?(ao(function(){Lh(null,null,t,!1,function(){t._reactRootContainer=null,t[di]=null})}),!0):!1};Un.unstable_batchedUpdates=Wy;Un.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Ah(r))throw Error(Pe(200));if(t==null||t._reactInternals===void 0)throw Error(Pe(38));return Lh(t,e,r,!1,n)};Un.version="18.2.0-next-9e3b772b8-20220608";function $9(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE($9)}catch(t){console.error(t)}}$9(),B7.exports=Un;var PD=B7.exports,C3=PD;dv.createRoot=C3.createRoot,dv.hydrateRoot=C3.hydrateRoot;var Fr=function(){return Fr=Object.assign||function(e){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},Fr.apply(this,arguments)};function Ec(t,e,r){if(r||arguments.length===2)for(var n=0,a=e.length,i;n<a;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return t.concat(i||Array.prototype.slice.call(e))}var Qt="-ms-",Zu="-moz-",Pt="-webkit-",q9="comm",Rh="rule",e2="decl",AD="@import",H9="@keyframes",LD="@layer",V9=Math.abs,t2=String.fromCharCode,i1=Object.assign;function RD(t,e){return zr(t,0)^45?(((e<<2^zr(t,0))<<2^zr(t,1))<<2^zr(t,2))<<2^zr(t,3):0}function j9(t){return t.trim()}function Qa(t,e){return(t=e.exec(t))?t[0]:t}function ut(t,e,r){return t.replace(e,r)}function jf(t,e,r){return t.indexOf(e,r)}function zr(t,e){return t.charCodeAt(e)|0}function Ml(t,e,r){return t.slice(e,r)}function Ra(t){return t.length}function U9(t){return t.length}function Iu(t,e){return e.push(t),t}function OD(t,e){return t.map(e).join("")}function T3(t,e){return t.filter(function(r){return!Qa(r,e)})}var Oh=1,Dl=1,W9=0,ca=0,Sr=0,Ul="";function Ih(t,e,r,n,a,i,s,o){return{value:t,root:e,parent:r,type:n,props:a,children:i,line:Oh,column:Dl,length:s,return:"",siblings:o}}function Oi(t,e){return i1(Ih("",null,null,"",null,null,0,t.siblings),t,{length:-t.length},e)}function To(t){for(;t.root;)t=Oi(t.root,{children:[t]});Iu(t,t.siblings)}function ID(){return Sr}function ND(){return Sr=ca>0?zr(Ul,--ca):0,Dl--,Sr===10&&(Dl=1,Oh--),Sr}function xa(){return Sr=ca<W9?zr(Ul,ca++):0,Dl++,Sr===10&&(Dl=1,Oh++),Sr}function Ks(){return zr(Ul,ca)}function Uf(){return ca}function Nh(t,e){return Ml(Ul,t,e)}function s1(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function zD(t){return Oh=Dl=1,W9=Ra(Ul=t),ca=0,[]}function BD(t){return Ul="",t}function xg(t){return j9(Nh(ca-1,o1(t===91?t+2:t===40?t+1:t)))}function FD(t){for(;(Sr=Ks())&&Sr<33;)xa();return s1(t)>2||s1(Sr)>3?"":" "}function $D(t,e){for(;--e&&xa()&&!(Sr<48||Sr>102||Sr>57&&Sr<65||Sr>70&&Sr<97););return Nh(t,Uf()+(e<6&&Ks()==32&&xa()==32))}function o1(t){for(;xa();)switch(Sr){case t:return ca;case 34:case 39:t!==34&&t!==39&&o1(Sr);break;case 40:t===41&&o1(t);break;case 92:xa();break}return ca}function qD(t,e){for(;xa()&&t+Sr!==47+10;)if(t+Sr===42+42&&Ks()===47)break;return"/*"+Nh(e,ca-1)+"*"+t2(t===47?t:xa())}function HD(t){for(;!s1(Ks());)xa();return Nh(t,ca)}function VD(t){return BD(Wf("",null,null,null,[""],t=zD(t),0,[0],t))}function Wf(t,e,r,n,a,i,s,o,l){for(var u=0,c=0,f=s,d=0,p=0,g=0,y=1,x=1,b=1,w=0,_="",k=a,E=i,D=n,M=_;x;)switch(g=w,w=xa()){case 40:if(g!=108&&zr(M,f-1)==58){jf(M+=ut(xg(w),"&","&\f"),"&\f",V9(u?o[u-1]:0))!=-1&&(b=-1);break}case 34:case 39:case 91:M+=xg(w);break;case 9:case 10:case 13:case 32:M+=FD(g);break;case 92:M+=$D(Uf()-1,7);continue;case 47:switch(Ks()){case 42:case 47:Iu(jD(qD(xa(),Uf()),e,r,l),l);break;default:M+="/"}break;case 123*y:o[u++]=Ra(M)*b;case 125*y:case 59:case 0:switch(w){case 0:case 125:x=0;case 59+c:b==-1&&(M=ut(M,/\f/g,"")),p>0&&Ra(M)-f&&Iu(p>32?D3(M+";",n,r,f-1,l):D3(ut(M," ","")+";",n,r,f-2,l),l);break;case 59:M+=";";default:if(Iu(D=M3(M,e,r,u,c,a,o,_,k=[],E=[],f,i),i),w===123)if(c===0)Wf(M,e,D,D,k,i,f,o,E);else switch(d===99&&zr(M,3)===110?100:d){case 100:case 108:case 109:case 115:Wf(t,D,D,n&&Iu(M3(t,D,D,0,0,a,o,_,a,k=[],f,E),E),a,E,f,o,n?k:E);break;default:Wf(M,D,D,D,[""],E,0,o,E)}}u=c=p=0,y=b=1,_=M="",f=s;break;case 58:f=1+Ra(M),p=g;default:if(y<1){if(w==123)--y;else if(w==125&&y++==0&&ND()==125)continue}switch(M+=t2(w),w*y){case 38:b=c>0?1:(M+="\f",-1);break;case 44:o[u++]=(Ra(M)-1)*b,b=1;break;case 64:Ks()===45&&(M+=xg(xa())),d=Ks(),c=f=Ra(_=M+=HD(Uf())),w++;break;case 45:g===45&&Ra(M)==2&&(y=0)}}return i}function M3(t,e,r,n,a,i,s,o,l,u,c,f){for(var d=a-1,p=a===0?i:[""],g=U9(p),y=0,x=0,b=0;y<n;++y)for(var w=0,_=Ml(t,d+1,d=V9(x=s[y])),k=t;w<g;++w)(k=j9(x>0?p[w]+" "+_:ut(_,/&\f/g,p[w])))&&(l[b++]=k);return Ih(t,e,r,a===0?Rh:o,l,u,c,f)}function jD(t,e,r,n){return Ih(t,e,r,q9,t2(ID()),Ml(t,2,-2),0,n)}function D3(t,e,r,n,a){return Ih(t,e,r,e2,Ml(t,0,n),Ml(t,n+1,-1),n,a)}function G9(t,e,r){switch(RD(t,e)){case 5103:return Pt+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Pt+t+t;case 4789:return Zu+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Pt+t+Zu+t+Qt+t+t;case 5936:switch(zr(t,e+11)){case 114:return Pt+t+Qt+ut(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Pt+t+Qt+ut(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Pt+t+Qt+ut(t,/[svh]\w+-[tblr]{2}/,"lr")+t}case 6828:case 4268:case 2903:return Pt+t+Qt+t+t;case 6165:return Pt+t+Qt+"flex-"+t+t;case 5187:return Pt+t+ut(t,/(\w+).+(:[^]+)/,Pt+"box-$1$2"+Qt+"flex-$1$2")+t;case 5443:return Pt+t+Qt+"flex-item-"+ut(t,/flex-|-self/g,"")+(Qa(t,/flex-|baseline/)?"":Qt+"grid-row-"+ut(t,/flex-|-self/g,""))+t;case 4675:return Pt+t+Qt+"flex-line-pack"+ut(t,/align-content|flex-|-self/g,"")+t;case 5548:return Pt+t+Qt+ut(t,"shrink","negative")+t;case 5292:return Pt+t+Qt+ut(t,"basis","preferred-size")+t;case 6060:return Pt+"box-"+ut(t,"-grow","")+Pt+t+Qt+ut(t,"grow","positive")+t;case 4554:return Pt+ut(t,/([^-])(transform)/g,"$1"+Pt+"$2")+t;case 6187:return ut(ut(ut(t,/(zoom-|grab)/,Pt+"$1"),/(image-set)/,Pt+"$1"),t,"")+t;case 5495:case 3959:return ut(t,/(image-set\([^]*)/,Pt+"$1$`$1");case 4968:return ut(ut(t,/(.+:)(flex-)?(.*)/,Pt+"box-pack:$3"+Qt+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Pt+t+t;case 4200:if(!Qa(t,/flex-|baseline/))return Qt+"grid-column-align"+Ml(t,e)+t;break;case 2592:case 3360:return Qt+ut(t,"template-","")+t;case 4384:case 3616:return r&&r.some(function(n,a){return e=a,Qa(n.props,/grid-\w+-end/)})?~jf(t+(r=r[e].value),"span",0)?t:Qt+ut(t,"-start","")+t+Qt+"grid-row-span:"+(~jf(r,"span",0)?Qa(r,/\d+/):+Qa(r,/\d+/)-+Qa(t,/\d+/))+";":Qt+ut(t,"-start","")+t;case 4896:case 4128:return r&&r.some(function(n){return Qa(n.props,/grid-\w+-start/)})?t:Qt+ut(ut(t,"-end","-span"),"span ","")+t;case 4095:case 3583:case 4068:case 2532:return ut(t,/(.+)-inline(.+)/,Pt+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Ra(t)-1-e>6)switch(zr(t,e+1)){case 109:if(zr(t,e+4)!==45)break;case 102:return ut(t,/(.+:)(.+)-([^]+)/,"$1"+Pt+"$2-$3$1"+Zu+(zr(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~jf(t,"stretch",0)?G9(ut(t,"stretch","fill-available"),e,r)+t:t}break;case 5152:case 5920:return ut(t,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(n,a,i,s,o,l,u){return Qt+a+":"+i+u+(s?Qt+a+"-span:"+(o?l:+l-+i)+u:"")+t});case 4949:if(zr(t,e+6)===121)return ut(t,":",":"+Pt)+t;break;case 6444:switch(zr(t,zr(t,14)===45?18:11)){case 120:return ut(t,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+Pt+(zr(t,14)===45?"inline-":"")+"box$3$1"+Pt+"$2$3$1"+Qt+"$2box$3")+t;case 100:return ut(t,":",":"+Qt)+t}break;case 5719:case 2647:case 2135:case 3927:case 2391:return ut(t,"scroll-","scroll-snap-")+t}return t}function Id(t,e){for(var r="",n=0;n<t.length;n++)r+=e(t[n],n,t,e)||"";return r}function UD(t,e,r,n){switch(t.type){case LD:if(t.children.length)break;case AD:case e2:return t.return=t.return||t.value;case q9:return"";case H9:return t.return=t.value+"{"+Id(t.children,n)+"}";case Rh:if(!Ra(t.value=t.props.join(",")))return""}return Ra(r=Id(t.children,n))?t.return=t.value+"{"+r+"}":""}function WD(t){var e=U9(t);return function(r,n,a,i){for(var s="",o=0;o<e;o++)s+=t[o](r,n,a,i)||"";return s}}function GD(t){return function(e){e.root||(e=e.return)&&t(e)}}function YD(t,e,r,n){if(t.length>-1&&!t.return)switch(t.type){case e2:t.return=G9(t.value,t.length,r);return;case H9:return Id([Oi(t,{value:ut(t.value,"@","@"+Pt)})],n);case Rh:if(t.length)return OD(r=t.props,function(a){switch(Qa(a,n=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":To(Oi(t,{props:[ut(a,/:(read-\w+)/,":"+Zu+"$1")]})),To(Oi(t,{props:[a]})),i1(t,{props:T3(r,n)});break;case"::placeholder":To(Oi(t,{props:[ut(a,/:(plac\w+)/,":"+Pt+"input-$1")]})),To(Oi(t,{props:[ut(a,/:(plac\w+)/,":"+Zu+"$1")]})),To(Oi(t,{props:[ut(a,/:(plac\w+)/,Qt+"input-$1")]})),To(Oi(t,{props:[a]})),i1(t,{props:T3(r,n)});break}return""})}}var XD={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Pl=typeof process<"u"&&process.env!==void 0&&({}.REACT_APP_SC_ATTR||{}.SC_ATTR)||"data-styled",Y9="active",X9="data-styled-version",zh="6.1.17",r2=`/*!sc*/
`,Nd=typeof window<"u"&&"HTMLElement"in window,KD=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&process.env!==void 0&&{}.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&{}.REACT_APP_SC_DISABLE_SPEEDY!==""?{}.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&{}.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&process.env!==void 0&&{}.SC_DISABLE_SPEEDY!==void 0&&{}.SC_DISABLE_SPEEDY!==""&&{}.SC_DISABLE_SPEEDY!=="false"&&{}.SC_DISABLE_SPEEDY),ZD={},Bh=Object.freeze([]),Al=Object.freeze({});function K9(t,e,r){return r===void 0&&(r=Al),t.theme!==r.theme&&t.theme||e||r.theme}var Z9=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),QD=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,JD=/(^-|-$)/g;function P3(t){return t.replace(QD,"-").replace(JD,"")}var eP=/(a)(d)/gi,K0=52,A3=function(t){return String.fromCharCode(t+(t>25?39:97))};function l1(t){var e,r="";for(e=Math.abs(t);e>K0;e=e/K0|0)r=A3(e%K0)+r;return(A3(e%K0)+r).replace(eP,"$1-$2")}var wg,Q9=5381,tl=function(t,e){for(var r=e.length;r;)t=33*t^e.charCodeAt(--r);return t},J9=function(t){return tl(Q9,t)};function e_(t){return l1(J9(t)>>>0)}function tP(t){return t.displayName||t.name||"Component"}function _g(t){return typeof t=="string"&&!0}var t_=typeof Symbol=="function"&&Symbol.for,r_=t_?Symbol.for("react.memo"):60115,rP=t_?Symbol.for("react.forward_ref"):60112,nP={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},aP={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},n_={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},iP=((wg={})[rP]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},wg[r_]=n_,wg);function L3(t){return("type"in(e=t)&&e.type.$$typeof)===r_?n_:"$$typeof"in t?iP[t.$$typeof]:nP;var e}var sP=Object.defineProperty,oP=Object.getOwnPropertyNames,R3=Object.getOwnPropertySymbols,lP=Object.getOwnPropertyDescriptor,uP=Object.getPrototypeOf,O3=Object.prototype;function a_(t,e,r){if(typeof e!="string"){if(O3){var n=uP(e);n&&n!==O3&&a_(t,n,r)}var a=oP(e);R3&&(a=a.concat(R3(e)));for(var i=L3(t),s=L3(e),o=0;o<a.length;++o){var l=a[o];if(!(l in aP||r&&r[l]||s&&l in s||i&&l in i)){var u=lP(e,l);try{sP(t,l,u)}catch{}}}}return t}function io(t){return typeof t=="function"}function n2(t){return typeof t=="object"&&"styledComponentId"in t}function Us(t,e){return t&&e?"".concat(t," ").concat(e):t||e||""}function u1(t,e){if(t.length===0)return"";for(var r=t[0],n=1;n<t.length;n++)r+=e?e+t[n]:t[n];return r}function Cc(t){return t!==null&&typeof t=="object"&&t.constructor.name===Object.name&&!("props"in t&&t.$$typeof)}function c1(t,e,r){if(r===void 0&&(r=!1),!r&&!Cc(t)&&!Array.isArray(t))return e;if(Array.isArray(e))for(var n=0;n<e.length;n++)t[n]=c1(t[n],e[n]);else if(Cc(e))for(var n in e)t[n]=c1(t[n],e[n]);return t}function a2(t,e){Object.defineProperty(t,"toString",{value:e})}function ss(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(t," for more information.").concat(e.length>0?" Args: ".concat(e.join(", ")):""))}var cP=function(){function t(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return t.prototype.indexOfGroup=function(e){for(var r=0,n=0;n<e;n++)r+=this.groupSizes[n];return r},t.prototype.insertRules=function(e,r){if(e>=this.groupSizes.length){for(var n=this.groupSizes,a=n.length,i=a;e>=i;)if((i<<=1)<0)throw ss(16,"".concat(e));this.groupSizes=new Uint32Array(i),this.groupSizes.set(n),this.length=i;for(var s=a;s<i;s++)this.groupSizes[s]=0}for(var o=this.indexOfGroup(e+1),l=(s=0,r.length);s<l;s++)this.tag.insertRule(o,r[s])&&(this.groupSizes[e]++,o++)},t.prototype.clearGroup=function(e){if(e<this.length){var r=this.groupSizes[e],n=this.indexOfGroup(e),a=n+r;this.groupSizes[e]=0;for(var i=n;i<a;i++)this.tag.deleteRule(n)}},t.prototype.getGroup=function(e){var r="";if(e>=this.length||this.groupSizes[e]===0)return r;for(var n=this.groupSizes[e],a=this.indexOfGroup(e),i=a+n,s=a;s<i;s++)r+="".concat(this.tag.getRule(s)).concat(r2);return r},t}(),Gf=new Map,zd=new Map,Yf=1,Z0=function(t){if(Gf.has(t))return Gf.get(t);for(;zd.has(Yf);)Yf++;var e=Yf++;return Gf.set(t,e),zd.set(e,t),e},fP=function(t,e){Yf=e+1,Gf.set(t,e),zd.set(e,t)},dP="style[".concat(Pl,"][").concat(X9,'="').concat(zh,'"]'),hP=new RegExp("^".concat(Pl,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),pP=function(t,e,r){for(var n,a=r.split(","),i=0,s=a.length;i<s;i++)(n=a[i])&&t.registerName(e,n)},gP=function(t,e){for(var r,n=((r=e.textContent)!==null&&r!==void 0?r:"").split(r2),a=[],i=0,s=n.length;i<s;i++){var o=n[i].trim();if(o){var l=o.match(hP);if(l){var u=0|parseInt(l[1],10),c=l[2];u!==0&&(fP(c,u),pP(t,c,l[3]),t.getTag().insertRules(u,a)),a.length=0}else a.push(o)}}},I3=function(t){for(var e=document.querySelectorAll(dP),r=0,n=e.length;r<n;r++){var a=e[r];a&&a.getAttribute(Pl)!==Y9&&(gP(t,a),a.parentNode&&a.parentNode.removeChild(a))}};function mP(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var i_=function(t){var e=document.head,r=t||e,n=document.createElement("style"),a=function(o){var l=Array.from(o.querySelectorAll("style[".concat(Pl,"]")));return l[l.length-1]}(r),i=a!==void 0?a.nextSibling:null;n.setAttribute(Pl,Y9),n.setAttribute(X9,zh);var s=mP();return s&&n.setAttribute("nonce",s),r.insertBefore(n,i),n},vP=function(){function t(e){this.element=i_(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(r){if(r.sheet)return r.sheet;for(var n=document.styleSheets,a=0,i=n.length;a<i;a++){var s=n[a];if(s.ownerNode===r)return s}throw ss(17)}(this.element),this.length=0}return t.prototype.insertRule=function(e,r){try{return this.sheet.insertRule(r,e),this.length++,!0}catch{return!1}},t.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.prototype.getRule=function(e){var r=this.sheet.cssRules[e];return r&&r.cssText?r.cssText:""},t}(),yP=function(){function t(e){this.element=i_(e),this.nodes=this.element.childNodes,this.length=0}return t.prototype.insertRule=function(e,r){if(e<=this.length&&e>=0){var n=document.createTextNode(r);return this.element.insertBefore(n,this.nodes[e]||null),this.length++,!0}return!1},t.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},t}(),bP=function(){function t(e){this.rules=[],this.length=0}return t.prototype.insertRule=function(e,r){return e<=this.length&&(this.rules.splice(e,0,r),this.length++,!0)},t.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},t}(),N3=Nd,xP={isServer:!Nd,useCSSOMInjection:!KD},Bd=function(){function t(e,r,n){e===void 0&&(e=Al),r===void 0&&(r={});var a=this;this.options=Fr(Fr({},xP),e),this.gs=r,this.names=new Map(n),this.server=!!e.isServer,!this.server&&Nd&&N3&&(N3=!1,I3(this)),a2(this,function(){return function(i){for(var s=i.getTag(),o=s.length,l="",u=function(f){var d=function(b){return zd.get(b)}(f);if(d===void 0)return"continue";var p=i.names.get(d),g=s.getGroup(f);if(p===void 0||!p.size||g.length===0)return"continue";var y="".concat(Pl,".g").concat(f,'[id="').concat(d,'"]'),x="";p!==void 0&&p.forEach(function(b){b.length>0&&(x+="".concat(b,","))}),l+="".concat(g).concat(y,'{content:"').concat(x,'"}').concat(r2)},c=0;c<o;c++)u(c);return l}(a)})}return t.registerId=function(e){return Z0(e)},t.prototype.rehydrate=function(){!this.server&&Nd&&I3(this)},t.prototype.reconstructWithOptions=function(e,r){return r===void 0&&(r=!0),new t(Fr(Fr({},this.options),e),this.gs,r&&this.names||void 0)},t.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.prototype.getTag=function(){return this.tag||(this.tag=(e=function(r){var n=r.useCSSOMInjection,a=r.target;return r.isServer?new bP(a):n?new vP(a):new yP(a)}(this.options),new cP(e)));var e},t.prototype.hasNameForId=function(e,r){return this.names.has(e)&&this.names.get(e).has(r)},t.prototype.registerName=function(e,r){if(Z0(e),this.names.has(e))this.names.get(e).add(r);else{var n=new Set;n.add(r),this.names.set(e,n)}},t.prototype.insertRules=function(e,r,n){this.registerName(e,r),this.getTag().insertRules(Z0(e),n)},t.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.prototype.clearRules=function(e){this.getTag().clearGroup(Z0(e)),this.clearNames(e)},t.prototype.clearTag=function(){this.tag=void 0},t}(),wP=/&/g,_P=/^\s*\/\/.*$/gm;function s_(t,e){return t.map(function(r){return r.type==="rule"&&(r.value="".concat(e," ").concat(r.value),r.value=r.value.replaceAll(",",",".concat(e," ")),r.props=r.props.map(function(n){return"".concat(e," ").concat(n)})),Array.isArray(r.children)&&r.type!=="@keyframes"&&(r.children=s_(r.children,e)),r})}function SP(t){var e,r,n,a=t===void 0?Al:t,i=a.options,s=i===void 0?Al:i,o=a.plugins,l=o===void 0?Bh:o,u=function(d,p,g){return g.startsWith(r)&&g.endsWith(r)&&g.replaceAll(r,"").length>0?".".concat(e):d},c=l.slice();c.push(function(d){d.type===Rh&&d.value.includes("&")&&(d.props[0]=d.props[0].replace(wP,r).replace(n,u))}),s.prefix&&c.push(YD),c.push(UD);var f=function(d,p,g,y){p===void 0&&(p=""),g===void 0&&(g=""),y===void 0&&(y="&"),e=y,r=p,n=new RegExp("\\".concat(r,"\\b"),"g");var x=d.replace(_P,""),b=VD(g||p?"".concat(g," ").concat(p," { ").concat(x," }"):x);s.namespace&&(b=s_(b,s.namespace));var w=[];return Id(b,WD(c.concat(GD(function(_){return w.push(_)})))),w};return f.hash=l.length?l.reduce(function(d,p){return p.name||ss(15),tl(d,p.name)},Q9).toString():"",f}var kP=new Bd,f1=SP(),o_=ft.createContext({shouldForwardProp:void 0,styleSheet:kP,stylis:f1});o_.Consumer;ft.createContext(void 0);function d1(){return Q.useContext(o_)}var EP=function(){function t(e,r){var n=this;this.inject=function(a,i){i===void 0&&(i=f1);var s=n.name+i.hash;a.hasNameForId(n.id,s)||a.insertRules(n.id,s,i(n.rules,s,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=r,a2(this,function(){throw ss(12,String(n.name))})}return t.prototype.getName=function(e){return e===void 0&&(e=f1),this.name+e.hash},t}(),CP=function(t){return t>="A"&&t<="Z"};function z3(t){for(var e="",r=0;r<t.length;r++){var n=t[r];if(r===1&&n==="-"&&t[0]==="-")return t;CP(n)?e+="-"+n.toLowerCase():e+=n}return e.startsWith("ms-")?"-"+e:e}var l_=function(t){return t==null||t===!1||t===""},u_=function(t){var e,r,n=[];for(var a in t){var i=t[a];t.hasOwnProperty(a)&&!l_(i)&&(Array.isArray(i)&&i.isCss||io(i)?n.push("".concat(z3(a),":"),i,";"):Cc(i)?n.push.apply(n,Ec(Ec(["".concat(a," {")],u_(i),!1),["}"],!1)):n.push("".concat(z3(a),": ").concat((e=a,(r=i)==null||typeof r=="boolean"||r===""?"":typeof r!="number"||r===0||e in XD||e.startsWith("--")?String(r).trim():"".concat(r,"px")),";")))}return n};function Ji(t,e,r,n){if(l_(t))return[];if(n2(t))return[".".concat(t.styledComponentId)];if(io(t)){if(!io(i=t)||i.prototype&&i.prototype.isReactComponent||!e)return[t];var a=t(e);return Ji(a,e,r,n)}var i;return t instanceof EP?r?(t.inject(r,n),[t.getName(n)]):[t]:Cc(t)?u_(t):Array.isArray(t)?Array.prototype.concat.apply(Bh,t.map(function(s){return Ji(s,e,r,n)})):[t.toString()]}function c_(t){for(var e=0;e<t.length;e+=1){var r=t[e];if(io(r)&&!n2(r))return!1}return!0}var TP=J9(zh),MP=function(){function t(e,r,n){this.rules=e,this.staticRulesId="",this.isStatic=(n===void 0||n.isStatic)&&c_(e),this.componentId=r,this.baseHash=tl(TP,r),this.baseStyle=n,Bd.registerId(r)}return t.prototype.generateAndInjectStyles=function(e,r,n){var a=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,r,n):"";if(this.isStatic&&!n.hash)if(this.staticRulesId&&r.hasNameForId(this.componentId,this.staticRulesId))a=Us(a,this.staticRulesId);else{var i=u1(Ji(this.rules,e,r,n)),s=l1(tl(this.baseHash,i)>>>0);if(!r.hasNameForId(this.componentId,s)){var o=n(i,".".concat(s),void 0,this.componentId);r.insertRules(this.componentId,s,o)}a=Us(a,s),this.staticRulesId=s}else{for(var l=tl(this.baseHash,n.hash),u="",c=0;c<this.rules.length;c++){var f=this.rules[c];if(typeof f=="string")u+=f;else if(f){var d=u1(Ji(f,e,r,n));l=tl(l,d+c),u+=d}}if(u){var p=l1(l>>>0);r.hasNameForId(this.componentId,p)||r.insertRules(this.componentId,p,n(u,".".concat(p),void 0,this.componentId)),a=Us(a,p)}}return a},t}(),Ll=ft.createContext(void 0);Ll.Consumer;function i2(){var t=Q.useContext(Ll);if(!t)throw ss(18);return t}function DP(t){var e=ft.useContext(Ll),r=Q.useMemo(function(){return function(n,a){if(!n)throw ss(14);if(io(n)){var i=n(a);return i}if(Array.isArray(n)||typeof n!="object")throw ss(8);return a?Fr(Fr({},a),n):n}(t.theme,e)},[t.theme,e]);return t.children?ft.createElement(Ll.Provider,{value:r},t.children):null}var Sg={};function PP(t,e,r){var n=n2(t),a=t,i=!_g(t),s=e.attrs,o=s===void 0?Bh:s,l=e.componentId,u=l===void 0?function(k,E){var D=typeof k!="string"?"sc":P3(k);Sg[D]=(Sg[D]||0)+1;var M="".concat(D,"-").concat(e_(zh+D+Sg[D]));return E?"".concat(E,"-").concat(M):M}(e.displayName,e.parentComponentId):l,c=e.displayName,f=c===void 0?function(k){return _g(k)?"styled.".concat(k):"Styled(".concat(tP(k),")")}(t):c,d=e.displayName&&e.componentId?"".concat(P3(e.displayName),"-").concat(e.componentId):e.componentId||u,p=n&&a.attrs?a.attrs.concat(o).filter(Boolean):o,g=e.shouldForwardProp;if(n&&a.shouldForwardProp){var y=a.shouldForwardProp;if(e.shouldForwardProp){var x=e.shouldForwardProp;g=function(k,E){return y(k,E)&&x(k,E)}}else g=y}var b=new MP(r,d,n?a.componentStyle:void 0);function w(k,E){return function(D,M,A){var R=D.attrs,O=D.componentStyle,N=D.defaultProps,B=D.foldedComponentIds,F=D.styledComponentId,V=D.target,X=ft.useContext(Ll),K=d1(),U=D.shouldForwardProp||K.shouldForwardProp,H=K9(M,X,N)||Al,ee=function(ge,fe,Se){for(var Ee,ve=Fr(Fr({},fe),{className:void 0,theme:Se}),se=0;se<ge.length;se+=1){var ye=io(Ee=ge[se])?Ee(ve):Ee;for(var we in ye)ve[we]=we==="className"?Us(ve[we],ye[we]):we==="style"?Fr(Fr({},ve[we]),ye[we]):ye[we]}return fe.className&&(ve.className=Us(ve.className,fe.className)),ve}(R,M,H),re=ee.as||V,W={};for(var Z in ee)ee[Z]===void 0||Z[0]==="$"||Z==="as"||Z==="theme"&&ee.theme===H||(Z==="forwardedAs"?W.as=ee.forwardedAs:U&&!U(Z,re)||(W[Z]=ee[Z]));var ue=function(ge,fe){var Se=d1(),Ee=ge.generateAndInjectStyles(fe,Se.styleSheet,Se.stylis);return Ee}(O,ee),pe=Us(B,F);return ue&&(pe+=" "+ue),ee.className&&(pe+=" "+ee.className),W[_g(re)&&!Z9.has(re)?"class":"className"]=pe,A&&(W.ref=A),Q.createElement(re,W)}(_,k,E)}w.displayName=f;var _=ft.forwardRef(w);return _.attrs=p,_.componentStyle=b,_.displayName=f,_.shouldForwardProp=g,_.foldedComponentIds=n?Us(a.foldedComponentIds,a.styledComponentId):"",_.styledComponentId=d,_.target=n?a.target:t,Object.defineProperty(_,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(k){this._foldedDefaultProps=n?function(E){for(var D=[],M=1;M<arguments.length;M++)D[M-1]=arguments[M];for(var A=0,R=D;A<R.length;A++)c1(E,R[A],!0);return E}({},a.defaultProps,k):k}}),a2(_,function(){return".".concat(_.styledComponentId)}),i&&a_(_,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),_}function B3(t,e){for(var r=[t[0]],n=0,a=e.length;n<a;n+=1)r.push(e[n],t[n+1]);return r}var F3=function(t){return Object.assign(t,{isCss:!0})};function f_(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(io(t)||Cc(t))return F3(Ji(B3(Bh,Ec([t],e,!0))));var n=t;return e.length===0&&n.length===1&&typeof n[0]=="string"?Ji(n):F3(Ji(B3(n,e)))}function h1(t,e,r){if(r===void 0&&(r=Al),!e)throw ss(1,e);var n=function(a){for(var i=[],s=1;s<arguments.length;s++)i[s-1]=arguments[s];return t(e,r,f_.apply(void 0,Ec([a],i,!1)))};return n.attrs=function(a){return h1(t,e,Fr(Fr({},r),{attrs:Array.prototype.concat(r.attrs,a).filter(Boolean)}))},n.withConfig=function(a){return h1(t,e,Fr(Fr({},r),a))},n}var d_=function(t){return h1(PP,t)},Re=d_;Z9.forEach(function(t){Re[t]=d_(t)});var AP=function(){function t(e,r){this.rules=e,this.componentId=r,this.isStatic=c_(e),Bd.registerId(this.componentId+1)}return t.prototype.createStyles=function(e,r,n,a){var i=a(u1(Ji(this.rules,r,n,a)),""),s=this.componentId+e;n.insertRules(s,s,i)},t.prototype.removeStyles=function(e,r){r.clearRules(this.componentId+e)},t.prototype.renderStyles=function(e,r,n,a){e>2&&Bd.registerId(this.componentId+e),this.removeStyles(e,n),this.createStyles(e,r,n,a)},t}();function LP(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];var n=f_.apply(void 0,Ec([t],e,!1)),a="sc-global-".concat(e_(JSON.stringify(n))),i=new AP(n,a),s=function(l){var u=d1(),c=ft.useContext(Ll),f=ft.useRef(u.styleSheet.allocateGSInstance(a)).current;return u.styleSheet.server&&o(f,l,u.styleSheet,c,u.stylis),ft.useLayoutEffect(function(){if(!u.styleSheet.server)return o(f,l,u.styleSheet,c,u.stylis),function(){return i.removeStyles(f,u.styleSheet)}},[f,l,u.styleSheet,c,u.stylis]),null};function o(l,u,c,f,d){if(i.isStatic)i.renderStyles(l,ZD,c,d);else{var p=Fr(Fr({},u),{theme:K9(u,f,s.defaultProps)});i.renderStyles(l,p,c,d)}}return ft.memo(s)}const h_=({children:t})=>Y.jsx(RP,{children:t}),RP=Re.div.withConfig({displayName:"Container__Wrapper",componentId:"sc-qct6p6-0"})(["width:1450px;max-width:90%;margin:0 auto;@media (max-width:1600px){width:1140px;}"]),OP=(t,e,r,n)=>{var i,s,o,l;const a=[r,{code:e,...n||{}}];if((s=(i=t==null?void 0:t.services)==null?void 0:i.logger)!=null&&s.forward)return t.services.logger.forward(a,"warn","react-i18next::",!0);Zs(a[0])&&(a[0]=`react-i18next:: ${a[0]}`),(l=(o=t==null?void 0:t.services)==null?void 0:o.logger)!=null&&l.warn?t.services.logger.warn(...a):console!=null&&console.warn&&console.warn(...a)},$3={},p1=(t,e,r,n)=>{Zs(r)&&$3[r]||(Zs(r)&&($3[r]=new Date),OP(t,e,r,n))},p_=(t,e)=>()=>{if(t.isInitialized)e();else{const r=()=>{setTimeout(()=>{t.off("initialized",r)},0),e()};t.on("initialized",r)}},g1=(t,e,r)=>{t.loadNamespaces(e,p_(t,r))},q3=(t,e,r,n)=>{if(Zs(r)&&(r=[r]),t.options.preload&&t.options.preload.indexOf(e)>-1)return g1(t,r,n);r.forEach(a=>{t.options.ns.indexOf(a)<0&&t.options.ns.push(a)}),t.loadLanguages(e,p_(t,n))},IP=(t,e,r={})=>!e.languages||!e.languages.length?(p1(e,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:e.languages}),!0):e.hasLoadedNamespace(t,{lng:r.lng,precheck:(n,a)=>{var i;if(((i=r.bindI18n)==null?void 0:i.indexOf("languageChanging"))>-1&&n.services.backendConnector.backend&&n.isLanguageChangingTo&&!a(n.isLanguageChangingTo,t))return!1}}),Zs=t=>typeof t=="string",NP=t=>typeof t=="object"&&t!==null,zP=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,BP={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},FP=t=>BP[t],$P=t=>t.replace(zP,FP);let m1={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:$P};const qP=(t={})=>{m1={...m1,...t}},HP=()=>m1;let g_;const VP=t=>{g_=t},jP=()=>g_,UP={type:"3rdParty",init(t){qP(t.options.react),VP(t)}},WP=Q.createContext();class GP{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(r=>{this.usedNamespaces[r]||(this.usedNamespaces[r]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const YP=(t,e)=>{const r=Q.useRef();return Q.useEffect(()=>{r.current=e?r.current:t},[t,e]),r.current},m_=(t,e,r,n)=>t.getFixedT(e,r,n),XP=(t,e,r,n)=>Q.useCallback(m_(t,e,r,n),[t,e,r,n]),Qr=(t,e={})=>{var k,E,D,M;const{i18n:r}=e,{i18n:n,defaultNS:a}=Q.useContext(WP)||{},i=r||n||jP();if(i&&!i.reportNamespaces&&(i.reportNamespaces=new GP),!i){p1(i,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const A=(O,N)=>Zs(N)?N:NP(N)&&Zs(N.defaultValue)?N.defaultValue:Array.isArray(O)?O[O.length-1]:O,R=[A,{},!1];return R.t=A,R.i18n={},R.ready=!1,R}(k=i.options.react)!=null&&k.wait&&p1(i,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const s={...HP(),...i.options.react,...e},{useSuspense:o,keyPrefix:l}=s;let u=t||a||((E=i.options)==null?void 0:E.defaultNS);u=Zs(u)?[u]:u||["translation"],(M=(D=i.reportNamespaces).addUsedNamespaces)==null||M.call(D,u);const c=(i.isInitialized||i.initializedStoreOnce)&&u.every(A=>IP(A,i,s)),f=XP(i,e.lng||null,s.nsMode==="fallback"?u:u[0],l),d=()=>f,p=()=>m_(i,e.lng||null,s.nsMode==="fallback"?u:u[0],l),[g,y]=Q.useState(d);let x=u.join();e.lng&&(x=`${e.lng}${x}`);const b=YP(x),w=Q.useRef(!0);Q.useEffect(()=>{const{bindI18n:A,bindI18nStore:R}=s;w.current=!0,!c&&!o&&(e.lng?q3(i,e.lng,u,()=>{w.current&&y(p)}):g1(i,u,()=>{w.current&&y(p)})),c&&b&&b!==x&&w.current&&y(p);const O=()=>{w.current&&y(p)};return A&&(i==null||i.on(A,O)),R&&(i==null||i.store.on(R,O)),()=>{w.current=!1,i&&(A==null||A.split(" ").forEach(N=>i.off(N,O))),R&&i&&R.split(" ").forEach(N=>i.store.off(N,O))}},[i,x]),Q.useEffect(()=>{w.current&&c&&y(d)},[i,l,c]);const _=[g,i,c];if(_.t=g,_.i18n=i,_.ready=c,c||!c&&!o)return _;throw new Promise(A=>{e.lng?q3(i,e.lng,u,()=>A()):g1(i,u,()=>A())})},KP="modulepreload",ZP=function(t){return"/ml-with-bricks/"+t},H3={},v_=function(e,r,n){if(!r||r.length===0)return e();const a=document.getElementsByTagName("link");return Promise.all(r.map(i=>{if(i=ZP(i),i in H3)return;H3[i]=!0;const s=i.endsWith(".css"),o=s?'[rel="stylesheet"]':"";if(!!n)for(let c=a.length-1;c>=0;c--){const f=a[c];if(f.href===i&&(!s||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${o}`))return;const u=document.createElement("link");if(u.rel=s?"stylesheet":KP,s||(u.as="script",u.crossOrigin=""),u.href=i,document.head.appendChild(u),s)return new Promise((c,f)=>{u.addEventListener("load",c),u.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>e()).catch(i=>{const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=i,window.dispatchEvent(s),!s.defaultPrevented)throw i})};var s2={};Object.defineProperty(s2,"__esModule",{value:!0});s2.parse=aA;s2.serialize=iA;const QP=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,JP=/^[\u0021-\u003A\u003C-\u007E]*$/,eA=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,tA=/^[\u0020-\u003A\u003D-\u007E]*$/,rA=Object.prototype.toString,nA=(()=>{const t=function(){};return t.prototype=Object.create(null),t})();function aA(t,e){const r=new nA,n=t.length;if(n<2)return r;const a=(e==null?void 0:e.decode)||sA;let i=0;do{const s=t.indexOf("=",i);if(s===-1)break;const o=t.indexOf(";",i),l=o===-1?n:o;if(s>l){i=t.lastIndexOf(";",s-1)+1;continue}const u=V3(t,i,s),c=j3(t,s,u),f=t.slice(u,c);if(r[f]===void 0){let d=V3(t,s+1,l),p=j3(t,l,d);const g=a(t.slice(d,p));r[f]=g}i=l+1}while(i<n);return r}function V3(t,e,r){do{const n=t.charCodeAt(e);if(n!==32&&n!==9)return e}while(++e<r);return r}function j3(t,e,r){for(;e>r;){const n=t.charCodeAt(--e);if(n!==32&&n!==9)return e+1}return r}function iA(t,e,r){const n=(r==null?void 0:r.encode)||encodeURIComponent;if(!QP.test(t))throw new TypeError(`argument name is invalid: ${t}`);const a=n(e);if(!JP.test(a))throw new TypeError(`argument val is invalid: ${e}`);let i=t+"="+a;if(!r)return i;if(r.maxAge!==void 0){if(!Number.isInteger(r.maxAge))throw new TypeError(`option maxAge is invalid: ${r.maxAge}`);i+="; Max-Age="+r.maxAge}if(r.domain){if(!eA.test(r.domain))throw new TypeError(`option domain is invalid: ${r.domain}`);i+="; Domain="+r.domain}if(r.path){if(!tA.test(r.path))throw new TypeError(`option path is invalid: ${r.path}`);i+="; Path="+r.path}if(r.expires){if(!oA(r.expires)||!Number.isFinite(r.expires.valueOf()))throw new TypeError(`option expires is invalid: ${r.expires}`);i+="; Expires="+r.expires.toUTCString()}if(r.httpOnly&&(i+="; HttpOnly"),r.secure&&(i+="; Secure"),r.partitioned&&(i+="; Partitioned"),r.priority)switch(typeof r.priority=="string"?r.priority.toLowerCase():void 0){case"low":i+="; Priority=Low";break;case"medium":i+="; Priority=Medium";break;case"high":i+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${r.priority}`)}if(r.sameSite)switch(typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite){case!0:case"strict":i+="; SameSite=Strict";break;case"lax":i+="; SameSite=Lax";break;case"none":i+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${r.sameSite}`)}return i}function sA(t){if(t.indexOf("%")===-1)return t;try{return decodeURIComponent(t)}catch{return t}}function oA(t){return rA.call(t)==="[object Date]"}var U3="popstate";function lA(t={}){function e(n,a){let{pathname:i,search:s,hash:o}=n.location;return v1("",{pathname:i,search:s,hash:o},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:Tc(a)}return cA(e,r,null,t)}function lr(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function $a(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function uA(){return Math.random().toString(36).substring(2,10)}function W3(t,e){return{usr:t.state,key:t.key,idx:e}}function v1(t,e,r=null,n){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Wl(e):e,state:r,key:e&&e.key||n||uA()}}function Tc({pathname:t="/",search:e="",hash:r=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Wl(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substring(r),t=t.substring(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substring(n),t=t.substring(0,n)),t&&(e.pathname=t)}return e}function cA(t,e,r,n={}){let{window:a=document.defaultView,v5Compat:i=!1}=n,s=a.history,o="POP",l=null,u=c();u==null&&(u=0,s.replaceState({...s.state,idx:u},""));function c(){return(s.state||{idx:null}).idx}function f(){o="POP";let x=c(),b=x==null?null:x-u;u=x,l&&l({action:o,location:y.location,delta:b})}function d(x,b){o="PUSH";let w=v1(y.location,x,b);r&&r(w,x),u=c()+1;let _=W3(w,u),k=y.createHref(w);try{s.pushState(_,"",k)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;a.location.assign(k)}i&&l&&l({action:o,location:y.location,delta:1})}function p(x,b){o="REPLACE";let w=v1(y.location,x,b);r&&r(w,x),u=c();let _=W3(w,u),k=y.createHref(w);s.replaceState(_,"",k),i&&l&&l({action:o,location:y.location,delta:0})}function g(x){let b=a.location.origin!=="null"?a.location.origin:a.location.href,w=typeof x=="string"?x:Tc(x);return w=w.replace(/ $/,"%20"),lr(b,`No window.location.(origin|href) available to create URL for href: ${w}`),new URL(w,b)}let y={get action(){return o},get location(){return t(a,s)},listen(x){if(l)throw new Error("A history only accepts one active listener");return a.addEventListener(U3,f),l=x,()=>{a.removeEventListener(U3,f),l=null}},createHref(x){return e(a,x)},createURL:g,encodeLocation(x){let b=g(x);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:d,replace:p,go(x){return s.go(x)}};return y}function y_(t,e,r="/"){return fA(t,e,r,!1)}function fA(t,e,r,n){let a=typeof e=="string"?Wl(e):e,i=gi(a.pathname||"/",r);if(i==null)return null;let s=b_(t);dA(s);let o=null;for(let l=0;o==null&&l<s.length;++l){let u=SA(i);o=wA(s[l],u,n)}return o}function b_(t,e=[],r=[],n=""){let a=(i,s,o)=>{let l={relativePath:o===void 0?i.path||"":o,caseSensitive:i.caseSensitive===!0,childrenIndex:s,route:i};l.relativePath.startsWith("/")&&(lr(l.relativePath.startsWith(n),`Absolute route path "${l.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),l.relativePath=l.relativePath.slice(n.length));let u=ci([n,l.relativePath]),c=r.concat(l);i.children&&i.children.length>0&&(lr(i.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${u}".`),b_(i.children,e,c,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:bA(u,i.index),routesMeta:c})};return t.forEach((i,s)=>{var o;if(i.path===""||!((o=i.path)!=null&&o.includes("?")))a(i,s);else for(let l of x_(i.path))a(i,s,l)}),e}function x_(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let s=x_(n.join("/")),o=[];return o.push(...s.map(l=>l===""?i:[i,l].join("/"))),a&&o.push(...s),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function dA(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:xA(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var hA=/^:[\w-]+$/,pA=3,gA=2,mA=1,vA=10,yA=-2,G3=t=>t==="*";function bA(t,e){let r=t.split("/"),n=r.length;return r.some(G3)&&(n+=yA),e&&(n+=gA),r.filter(a=>!G3(a)).reduce((a,i)=>a+(hA.test(i)?pA:i===""?mA:vA),n)}function xA(t,e){return t.length===e.length&&t.slice(0,-1).every((n,a)=>n===e[a])?t[t.length-1]-e[e.length-1]:0}function wA(t,e,r=!1){let{routesMeta:n}=t,a={},i="/",s=[];for(let o=0;o<n.length;++o){let l=n[o],u=o===n.length-1,c=i==="/"?e:e.slice(i.length)||"/",f=Fd({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),d=l.route;if(!f&&u&&r&&!n[n.length-1].route.index&&(f=Fd({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},c)),!f)return null;Object.assign(a,f.params),s.push({params:a,pathname:ci([i,f.pathname]),pathnameBase:TA(ci([i,f.pathnameBase])),route:d}),f.pathnameBase!=="/"&&(i=ci([i,f.pathnameBase]))}return s}function Fd(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=_A(t.path,t.caseSensitive,t.end),a=e.match(r);if(!a)return null;let i=a[0],s=i.replace(/(.)\/+$/,"$1"),o=a.slice(1);return{params:n.reduce((u,{paramName:c,isOptional:f},d)=>{if(c==="*"){let g=o[d]||"";s=i.slice(0,i.length-g.length).replace(/(.)\/+$/,"$1")}const p=o[d];return f&&!p?u[c]=void 0:u[c]=(p||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:s,pattern:t}}function _A(t,e=!1,r=!0){$a(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let n=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,o,l)=>(n.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),n]}function SA(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return $a(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function gi(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function kA(t,e="/"){let{pathname:r,search:n="",hash:a=""}=typeof t=="string"?Wl(t):t;return{pathname:r?r.startsWith("/")?r:EA(r,e):e,search:MA(n),hash:DA(a)}}function EA(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function kg(t,e,r,n){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function CA(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function w_(t){let e=CA(t);return e.map((r,n)=>n===e.length-1?r.pathname:r.pathnameBase)}function __(t,e,r,n=!1){let a;typeof t=="string"?a=Wl(t):(a={...t},lr(!a.pathname||!a.pathname.includes("?"),kg("?","pathname","search",a)),lr(!a.pathname||!a.pathname.includes("#"),kg("#","pathname","hash",a)),lr(!a.search||!a.search.includes("#"),kg("#","search","hash",a)));let i=t===""||a.pathname==="",s=i?"/":a.pathname,o;if(s==null)o=r;else{let f=e.length-1;if(!n&&s.startsWith("..")){let d=s.split("/");for(;d[0]==="..";)d.shift(),f-=1;a.pathname=d.join("/")}o=f>=0?e[f]:"/"}let l=kA(a,o),u=s&&s!=="/"&&s.endsWith("/"),c=(i||s===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}var ci=t=>t.join("/").replace(/\/\/+/g,"/"),TA=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),MA=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,DA=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function PA(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var S_=["POST","PUT","PATCH","DELETE"];new Set(S_);var AA=["GET",...S_];new Set(AA);var Gl=Q.createContext(null);Gl.displayName="DataRouter";var Fh=Q.createContext(null);Fh.displayName="DataRouterState";var k_=Q.createContext({isTransitioning:!1});k_.displayName="ViewTransition";var LA=Q.createContext(new Map);LA.displayName="Fetchers";var RA=Q.createContext(null);RA.displayName="Await";var Ha=Q.createContext(null);Ha.displayName="Navigation";var Qc=Q.createContext(null);Qc.displayName="Location";var wi=Q.createContext({outlet:null,matches:[],isDataRoute:!1});wi.displayName="Route";var o2=Q.createContext(null);o2.displayName="RouteError";function OA(t,{relative:e}={}){lr(Jc(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=Q.useContext(Ha),{hash:a,pathname:i,search:s}=e0(t,{relative:e}),o=i;return r!=="/"&&(o=i==="/"?r:ci([r,i])),n.createHref({pathname:o,search:s,hash:a})}function Jc(){return Q.useContext(Qc)!=null}function vo(){return lr(Jc(),"useLocation() may be used only in the context of a <Router> component."),Q.useContext(Qc).location}var E_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function C_(t){Q.useContext(Ha).static||Q.useLayoutEffect(t)}function IA(){let{isDataRoute:t}=Q.useContext(wi);return t?YA():NA()}function NA(){lr(Jc(),"useNavigate() may be used only in the context of a <Router> component.");let t=Q.useContext(Gl),{basename:e,navigator:r}=Q.useContext(Ha),{matches:n}=Q.useContext(wi),{pathname:a}=vo(),i=JSON.stringify(w_(n)),s=Q.useRef(!1);return C_(()=>{s.current=!0}),Q.useCallback((l,u={})=>{if($a(s.current,E_),!s.current)return;if(typeof l=="number"){r.go(l);return}let c=__(l,JSON.parse(i),a,u.relative==="path");t==null&&e!=="/"&&(c.pathname=c.pathname==="/"?e:ci([e,c.pathname])),(u.replace?r.replace:r.push)(c,u.state,u)},[e,r,i,a,t])}Q.createContext(null);function e0(t,{relative:e}={}){let{matches:r}=Q.useContext(wi),{pathname:n}=vo(),a=JSON.stringify(w_(r));return Q.useMemo(()=>__(t,JSON.parse(a),n,e==="path"),[t,a,n,e])}function zA(t,e){return T_(t,e)}function T_(t,e,r,n){var w;lr(Jc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a,static:i}=Q.useContext(Ha),{matches:s}=Q.useContext(wi),o=s[s.length-1],l=o?o.params:{},u=o?o.pathname:"/",c=o?o.pathnameBase:"/",f=o&&o.route;{let _=f&&f.path||"";M_(u,!f||_.endsWith("*")||_.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${_}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${_}"> to <Route path="${_==="/"?"*":`${_}/*`}">.`)}let d=vo(),p;if(e){let _=typeof e=="string"?Wl(e):e;lr(c==="/"||((w=_.pathname)==null?void 0:w.startsWith(c)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${c}" but pathname "${_.pathname}" was given in the \`location\` prop.`),p=_}else p=d;let g=p.pathname||"/",y=g;if(c!=="/"){let _=c.replace(/^\//,"").split("/");y="/"+g.replace(/^\//,"").split("/").slice(_.length).join("/")}let x=!i&&r&&r.matches&&r.matches.length>0?r.matches:y_(t,{pathname:y});$a(f||x!=null,`No routes matched location "${p.pathname}${p.search}${p.hash}" `),$a(x==null||x[x.length-1].route.element!==void 0||x[x.length-1].route.Component!==void 0||x[x.length-1].route.lazy!==void 0,`Matched leaf route at location "${p.pathname}${p.search}${p.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let b=HA(x&&x.map(_=>Object.assign({},_,{params:Object.assign({},l,_.params),pathname:ci([c,a.encodeLocation?a.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?c:ci([c,a.encodeLocation?a.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),s,r,n);return e&&b?Q.createElement(Qc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...p},navigationType:"POP"}},b):b}function BA(){let t=GA(),e=PA(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,n="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:n},i={padding:"2px 4px",backgroundColor:n},s=null;return console.error("Error handled by React Router default ErrorBoundary:",t),s=Q.createElement(Q.Fragment,null,Q.createElement("p",null," Hey developer "),Q.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",Q.createElement("code",{style:i},"ErrorBoundary")," or"," ",Q.createElement("code",{style:i},"errorElement")," prop on your route.")),Q.createElement(Q.Fragment,null,Q.createElement("h2",null,"Unexpected Application Error!"),Q.createElement("h3",{style:{fontStyle:"italic"}},e),r?Q.createElement("pre",{style:a},r):null,s)}var FA=Q.createElement(BA,null),$A=class extends Q.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?Q.createElement(wi.Provider,{value:this.props.routeContext},Q.createElement(o2.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function qA({routeContext:t,match:e,children:r}){let n=Q.useContext(Gl);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),Q.createElement(wi.Provider,{value:t},r)}function HA(t,e=[],r=null,n=null){if(t==null){if(!r)return null;if(r.errors)t=r.matches;else if(e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let a=t,i=r==null?void 0:r.errors;if(i!=null){let l=a.findIndex(u=>u.route.id&&(i==null?void 0:i[u.route.id])!==void 0);lr(l>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(i).join(",")}`),a=a.slice(0,Math.min(a.length,l+1))}let s=!1,o=-1;if(r)for(let l=0;l<a.length;l++){let u=a[l];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(o=l),u.route.id){let{loaderData:c,errors:f}=r,d=u.route.loader&&!c.hasOwnProperty(u.route.id)&&(!f||f[u.route.id]===void 0);if(u.route.lazy||d){s=!0,o>=0?a=a.slice(0,o+1):a=[a[0]];break}}}return a.reduceRight((l,u,c)=>{let f,d=!1,p=null,g=null;r&&(f=i&&u.route.id?i[u.route.id]:void 0,p=u.route.errorElement||FA,s&&(o<0&&c===0?(M_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),d=!0,g=null):o===c&&(d=!0,g=u.route.hydrateFallbackElement||null)));let y=e.concat(a.slice(0,c+1)),x=()=>{let b;return f?b=p:d?b=g:u.route.Component?b=Q.createElement(u.route.Component,null):u.route.element?b=u.route.element:b=l,Q.createElement(qA,{match:u,routeContext:{outlet:l,matches:y,isDataRoute:r!=null},children:b})};return r&&(u.route.ErrorBoundary||u.route.errorElement||c===0)?Q.createElement($A,{location:r.location,revalidation:r.revalidation,component:p,error:f,children:x(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):x()},null)}function l2(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function VA(t){let e=Q.useContext(Gl);return lr(e,l2(t)),e}function jA(t){let e=Q.useContext(Fh);return lr(e,l2(t)),e}function UA(t){let e=Q.useContext(wi);return lr(e,l2(t)),e}function u2(t){let e=UA(t),r=e.matches[e.matches.length-1];return lr(r.route.id,`${t} can only be used on routes that contain a unique "id"`),r.route.id}function WA(){return u2("useRouteId")}function GA(){var n;let t=Q.useContext(o2),e=jA("useRouteError"),r=u2("useRouteError");return t!==void 0?t:(n=e.errors)==null?void 0:n[r]}function YA(){let{router:t}=VA("useNavigate"),e=u2("useNavigate"),r=Q.useRef(!1);return C_(()=>{r.current=!0}),Q.useCallback(async(a,i={})=>{$a(r.current,E_),r.current&&(typeof a=="number"?t.navigate(a):await t.navigate(a,{fromRouteId:e,...i}))},[t,e])}var Y3={};function M_(t,e,r){!e&&!Y3[t]&&(Y3[t]=!0,$a(!1,r))}Q.memo(XA);function XA({routes:t,future:e,state:r}){return T_(t,void 0,r,e)}function Ho(t){lr(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function KA({basename:t="/",children:e=null,location:r,navigationType:n="POP",navigator:a,static:i=!1}){lr(!Jc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let s=t.replace(/^\/*/,"/"),o=Q.useMemo(()=>({basename:s,navigator:a,static:i,future:{}}),[s,a,i]);typeof r=="string"&&(r=Wl(r));let{pathname:l="/",search:u="",hash:c="",state:f=null,key:d="default"}=r,p=Q.useMemo(()=>{let g=gi(l,s);return g==null?null:{location:{pathname:g,search:u,hash:c,state:f,key:d},navigationType:n}},[s,l,u,c,f,d,n]);return $a(p!=null,`<Router basename="${s}"> is not able to match the URL "${l}${u}${c}" because it does not start with the basename, so the <Router> won't render anything.`),p==null?null:Q.createElement(Ha.Provider,{value:o},Q.createElement(Qc.Provider,{children:e,value:p}))}function ZA({children:t,location:e}){return zA(y1(t),e)}function y1(t,e=[]){let r=[];return Q.Children.forEach(t,(n,a)=>{if(!Q.isValidElement(n))return;let i=[...e,a];if(n.type===Q.Fragment){r.push.apply(r,y1(n.props.children,i));return}lr(n.type===Ho,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),lr(!n.props.index||!n.props.children,"An index route cannot have child routes.");let s={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(s.children=y1(n.props.children,i)),r.push(s)}),r}var Xf="get",Kf="application/x-www-form-urlencoded";function $h(t){return t!=null&&typeof t.tagName=="string"}function QA(t){return $h(t)&&t.tagName.toLowerCase()==="button"}function JA(t){return $h(t)&&t.tagName.toLowerCase()==="form"}function eL(t){return $h(t)&&t.tagName.toLowerCase()==="input"}function tL(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function rL(t,e){return t.button===0&&(!e||e==="_self")&&!tL(t)}var Q0=null;function nL(){if(Q0===null)try{new FormData(document.createElement("form"),0),Q0=!1}catch{Q0=!0}return Q0}var aL=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Eg(t){return t!=null&&!aL.has(t)?($a(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Kf}"`),null):t}function iL(t,e){let r,n,a,i,s;if(JA(t)){let o=t.getAttribute("action");n=o?gi(o,e):null,r=t.getAttribute("method")||Xf,a=Eg(t.getAttribute("enctype"))||Kf,i=new FormData(t)}else if(QA(t)||eL(t)&&(t.type==="submit"||t.type==="image")){let o=t.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=t.getAttribute("formaction")||o.getAttribute("action");if(n=l?gi(l,e):null,r=t.getAttribute("formmethod")||o.getAttribute("method")||Xf,a=Eg(t.getAttribute("formenctype"))||Eg(o.getAttribute("enctype"))||Kf,i=new FormData(o,t),!nL()){let{name:u,type:c,value:f}=t;if(c==="image"){let d=u?`${u}.`:"";i.append(`${d}x`,"0"),i.append(`${d}y`,"0")}else u&&i.append(u,f)}}else{if($h(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Xf,n=null,a=Kf,s=t}return i&&a==="text/plain"&&(s=i,i=void 0),{action:n,method:r.toLowerCase(),encType:a,formData:i,body:s}}function c2(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function sL(t,e){if(t.id in e)return e[t.id];try{let r=await v_(()=>import(t.module),[]);return e[t.id]=r,r}catch(r){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function oL(t){return t!=null&&typeof t.page=="string"}function lL(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function uL(t,e,r){let n=await Promise.all(t.map(async a=>{let i=e.routes[a.route.id];if(i){let s=await sL(i,r);return s.links?s.links():[]}return[]}));return hL(n.flat(1).filter(lL).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function X3(t,e,r,n,a,i){let s=(l,u)=>r[u]?l.route.id!==r[u].route.id:!0,o=(l,u)=>{var c;return r[u].pathname!==l.pathname||((c=r[u].route.path)==null?void 0:c.endsWith("*"))&&r[u].params["*"]!==l.params["*"]};return i==="assets"?e.filter((l,u)=>s(l,u)||o(l,u)):i==="data"?e.filter((l,u)=>{var f;let c=n.routes[l.route.id];if(!c||!c.hasLoader)return!1;if(s(l,u)||o(l,u))return!0;if(l.route.shouldRevalidate){let d=l.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((f=r[0])==null?void 0:f.params)||{},nextUrl:new URL(t,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof d=="boolean")return d}return!0}):[]}function cL(t,e,{includeHydrateFallback:r}={}){return fL(t.map(n=>{let a=e.routes[n.route.id];if(!a)return[];let i=[a.module];return a.clientActionModule&&(i=i.concat(a.clientActionModule)),a.clientLoaderModule&&(i=i.concat(a.clientLoaderModule)),r&&a.hydrateFallbackModule&&(i=i.concat(a.hydrateFallbackModule)),a.imports&&(i=i.concat(a.imports)),i}).flat(1))}function fL(t){return[...new Set(t)]}function dL(t){let e={},r=Object.keys(t).sort();for(let n of r)e[n]=t[n];return e}function hL(t,e){let r=new Set,n=new Set(e);return t.reduce((a,i)=>{if(e&&!oL(i)&&i.as==="script"&&i.href&&n.has(i.href))return a;let o=JSON.stringify(dL(i));return r.has(o)||(r.add(o),a.push({key:o,link:i})),a},[])}function pL(t,e){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname="_root.data":e&&gi(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.data`:r.pathname=`${r.pathname.replace(/\/$/,"")}.data`,r}function D_(){let t=Q.useContext(Gl);return c2(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function gL(){let t=Q.useContext(Fh);return c2(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var f2=Q.createContext(void 0);f2.displayName="FrameworkContext";function P_(){let t=Q.useContext(f2);return c2(t,"You must render this element inside a <HydratedRouter> element"),t}function mL(t,e){let r=Q.useContext(f2),[n,a]=Q.useState(!1),[i,s]=Q.useState(!1),{onFocus:o,onBlur:l,onMouseEnter:u,onMouseLeave:c,onTouchStart:f}=e,d=Q.useRef(null);Q.useEffect(()=>{if(t==="render"&&s(!0),t==="viewport"){let y=b=>{b.forEach(w=>{s(w.isIntersecting)})},x=new IntersectionObserver(y,{threshold:.5});return d.current&&x.observe(d.current),()=>{x.disconnect()}}},[t]),Q.useEffect(()=>{if(n){let y=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(y)}}},[n]);let p=()=>{a(!0)},g=()=>{a(!1),s(!1)};return r?t!=="intent"?[i,d,{}]:[i,d,{onFocus:vu(o,p),onBlur:vu(l,g),onMouseEnter:vu(u,p),onMouseLeave:vu(c,g),onTouchStart:vu(f,p)}]:[!1,d,{}]}function vu(t,e){return r=>{t&&t(r),r.defaultPrevented||e(r)}}function vL({page:t,...e}){let{router:r}=D_(),n=Q.useMemo(()=>y_(r.routes,t,r.basename),[r.routes,t,r.basename]);return n?Q.createElement(bL,{page:t,matches:n,...e}):null}function yL(t){let{manifest:e,routeModules:r}=P_(),[n,a]=Q.useState([]);return Q.useEffect(()=>{let i=!1;return uL(t,e,r).then(s=>{i||a(s)}),()=>{i=!0}},[t,e,r]),n}function bL({page:t,matches:e,...r}){let n=vo(),{manifest:a,routeModules:i}=P_(),{basename:s}=D_(),{loaderData:o,matches:l}=gL(),u=Q.useMemo(()=>X3(t,e,l,a,n,"data"),[t,e,l,a,n]),c=Q.useMemo(()=>X3(t,e,l,a,n,"assets"),[t,e,l,a,n]),f=Q.useMemo(()=>{if(t===n.pathname+n.search+n.hash)return[];let g=new Set,y=!1;if(e.forEach(b=>{var _;let w=a.routes[b.route.id];!w||!w.hasLoader||(!u.some(k=>k.route.id===b.route.id)&&b.route.id in o&&((_=i[b.route.id])!=null&&_.shouldRevalidate)||w.hasClientLoader?y=!0:g.add(b.route.id))}),g.size===0)return[];let x=pL(t,s);return y&&g.size>0&&x.searchParams.set("_routes",e.filter(b=>g.has(b.route.id)).map(b=>b.route.id).join(",")),[x.pathname+x.search]},[s,o,n,a,u,e,t,i]),d=Q.useMemo(()=>cL(c,a),[c,a]),p=yL(c);return Q.createElement(Q.Fragment,null,f.map(g=>Q.createElement("link",{key:g,rel:"prefetch",as:"fetch",href:g,...r})),d.map(g=>Q.createElement("link",{key:g,rel:"modulepreload",href:g,...r})),p.map(({key:g,link:y})=>Q.createElement("link",{key:g,...y})))}function xL(...t){return e=>{t.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})}}var A_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{A_&&(window.__reactRouterVersion="7.5.0")}catch{}function wL({basename:t,children:e,window:r}){let n=Q.useRef();n.current==null&&(n.current=lA({window:r,v5Compat:!0}));let a=n.current,[i,s]=Q.useState({action:a.action,location:a.location}),o=Q.useCallback(l=>{Q.startTransition(()=>s(l))},[s]);return Q.useLayoutEffect(()=>a.listen(o),[a,o]),Q.createElement(KA,{basename:t,children:e,location:i.location,navigationType:i.action,navigator:a})}var L_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,t0=Q.forwardRef(function({onClick:e,discover:r="render",prefetch:n="none",relative:a,reloadDocument:i,replace:s,state:o,target:l,to:u,preventScrollReset:c,viewTransition:f,...d},p){let{basename:g}=Q.useContext(Ha),y=typeof u=="string"&&L_.test(u),x,b=!1;if(typeof u=="string"&&y&&(x=u,A_))try{let R=new URL(window.location.href),O=u.startsWith("//")?new URL(R.protocol+u):new URL(u),N=gi(O.pathname,g);O.origin===R.origin&&N!=null?u=N+O.search+O.hash:b=!0}catch{$a(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let w=OA(u,{relative:a}),[_,k,E]=mL(n,d),D=EL(u,{replace:s,state:o,target:l,preventScrollReset:c,relative:a,viewTransition:f});function M(R){e&&e(R),R.defaultPrevented||D(R)}let A=Q.createElement("a",{...d,...E,href:x||w,onClick:b||i?e:M,ref:xL(p,k),target:l,"data-discover":!y&&r==="render"?"true":void 0});return _&&!y?Q.createElement(Q.Fragment,null,A,Q.createElement(vL,{page:w})):A});t0.displayName="Link";var _L=Q.forwardRef(function({"aria-current":e="page",caseSensitive:r=!1,className:n="",end:a=!1,style:i,to:s,viewTransition:o,children:l,...u},c){let f=e0(s,{relative:u.relative}),d=vo(),p=Q.useContext(Fh),{navigator:g,basename:y}=Q.useContext(Ha),x=p!=null&&PL(f)&&o===!0,b=g.encodeLocation?g.encodeLocation(f).pathname:f.pathname,w=d.pathname,_=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;r||(w=w.toLowerCase(),_=_?_.toLowerCase():null,b=b.toLowerCase()),_&&y&&(_=gi(_,y)||_);const k=b!=="/"&&b.endsWith("/")?b.length-1:b.length;let E=w===b||!a&&w.startsWith(b)&&w.charAt(k)==="/",D=_!=null&&(_===b||!a&&_.startsWith(b)&&_.charAt(b.length)==="/"),M={isActive:E,isPending:D,isTransitioning:x},A=E?e:void 0,R;typeof n=="function"?R=n(M):R=[n,E?"active":null,D?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let O=typeof i=="function"?i(M):i;return Q.createElement(t0,{...u,"aria-current":A,className:R,ref:c,style:O,to:s,viewTransition:o},typeof l=="function"?l(M):l)});_L.displayName="NavLink";var SL=Q.forwardRef(({discover:t="render",fetcherKey:e,navigate:r,reloadDocument:n,replace:a,state:i,method:s=Xf,action:o,onSubmit:l,relative:u,preventScrollReset:c,viewTransition:f,...d},p)=>{let g=ML(),y=DL(o,{relative:u}),x=s.toLowerCase()==="get"?"get":"post",b=typeof o=="string"&&L_.test(o),w=_=>{if(l&&l(_),_.defaultPrevented)return;_.preventDefault();let k=_.nativeEvent.submitter,E=(k==null?void 0:k.getAttribute("formmethod"))||s;g(k||_.currentTarget,{fetcherKey:e,method:E,navigate:r,replace:a,state:i,relative:u,preventScrollReset:c,viewTransition:f})};return Q.createElement("form",{ref:p,method:x,action:y,onSubmit:n?l:w,...d,"data-discover":!b&&t==="render"?"true":void 0})});SL.displayName="Form";function kL(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function R_(t){let e=Q.useContext(Gl);return lr(e,kL(t)),e}function EL(t,{target:e,replace:r,state:n,preventScrollReset:a,relative:i,viewTransition:s}={}){let o=IA(),l=vo(),u=e0(t,{relative:i});return Q.useCallback(c=>{if(rL(c,e)){c.preventDefault();let f=r!==void 0?r:Tc(l)===Tc(u);o(t,{replace:f,state:n,preventScrollReset:a,relative:i,viewTransition:s})}},[l,o,u,r,n,e,t,a,i,s])}var CL=0,TL=()=>`__${String(++CL)}__`;function ML(){let{router:t}=R_("useSubmit"),{basename:e}=Q.useContext(Ha),r=WA();return Q.useCallback(async(n,a={})=>{let{action:i,method:s,encType:o,formData:l,body:u}=iL(n,e);if(a.navigate===!1){let c=a.fetcherKey||TL();await t.fetch(c,r,a.action||i,{preventScrollReset:a.preventScrollReset,formData:l,body:u,formMethod:a.method||s,formEncType:a.encType||o,flushSync:a.flushSync})}else await t.navigate(a.action||i,{preventScrollReset:a.preventScrollReset,formData:l,body:u,formMethod:a.method||s,formEncType:a.encType||o,replace:a.replace,state:a.state,fromRouteId:r,flushSync:a.flushSync,viewTransition:a.viewTransition})},[t,e,r])}function DL(t,{relative:e}={}){let{basename:r}=Q.useContext(Ha),n=Q.useContext(wi);lr(n,"useFormAction must be used inside a RouteContext");let[a]=n.matches.slice(-1),i={...e0(t||".",{relative:e})},s=vo();if(t==null){i.search=s.search;let o=new URLSearchParams(i.search),l=o.getAll("index");if(l.some(c=>c==="")){o.delete("index"),l.filter(f=>f).forEach(f=>o.append("index",f));let c=o.toString();i.search=c?`?${c}`:""}}return(!t||t===".")&&a.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(i.pathname=i.pathname==="/"?r:ci([r,i.pathname])),Tc(i)}function PL(t,e={}){let r=Q.useContext(k_);lr(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=R_("useViewTransitionState"),a=e0(t,{relative:e.relative});if(!r.isTransitioning)return!1;let i=gi(r.currentLocation.pathname,n)||r.currentLocation.pathname,s=gi(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Fd(a.pathname,s)!=null||Fd(a.pathname,i)!=null}new TextEncoder;const AL=[{intlId:"experiments",link:"/experiments"}],LL=()=>{const{t}=Qr(),e="fruit-predictor";return Y.jsx(RL,{children:AL.map(r=>Y.jsx(OL,{$isActive:e===r.link,children:Y.jsx(t0,{to:r.link,children:t(`Navigation.${r.intlId}`)})},`header-navbar-${r.intlId}`))})},RL=Re.ul.withConfig({displayName:"Navbar__Wrapper",componentId:"sc-d32984-0"})(["display:flex;"]),OL=Re.li.withConfig({displayName:"Navbar__NavItem",componentId:"sc-d32984-1"})(["font-family:var(--main-font);font-weight:",';font-size:16px;list-style:none;cursor:pointer;position:relative;padding:5px 0;&::after{content:"";position:absolute;bottom:0;left:0;width:0;height:1px;background-color:',";transition:all 0.15s ease;}&:hover::after{width:",";background-color:",";}"],({$isActive:t})=>t?700:400,({$isActive:t,theme:e})=>t?e.black:"transparent",({$isActive:t})=>t?"0":"100%",({theme:t})=>t.black),IL=()=>{const{t}=Qr();return Y.jsx(NL,{children:Y.jsx(h_,{children:Y.jsxs(zL,{children:[Y.jsx(t0,{to:"/",children:Y.jsxs(BL,{children:[Y.jsx("img",{src:"/brain.svg",alt:"Machine Learning with LEGO Logotype",className:"logo_image",width:55,height:55}),Y.jsxs(FL,{children:[t("WebsiteName.ml"),Y.jsx("br",{}),t("WebsiteName.with_lego")]})]})}),Y.jsx(LL,{})]})})})},NL=Re.div.withConfig({displayName:"Header__Wrapper",componentId:"sc-sdsdn0-0"})(["width:100%;position:relative;"]),zL=Re.nav.withConfig({displayName:"Header__Row",componentId:"sc-sdsdn0-1"})(["width:100%;display:flex;align-items:center;justify-content:space-between;padding:20px 0;@media (max-width:600px){padding:10px 0;}"]),BL=Re.div.withConfig({displayName:"Header__LogoBox",componentId:"sc-sdsdn0-2"})(["display:flex;flex-direction:row;align-items:center;column-gap:15px;"]),FL=Re.p.withConfig({displayName:"Header__LogoText",componentId:"sc-sdsdn0-3"})(["font-family:var(--main-font);font-weight:700;font-size:24px;"]);function O_(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(r=O_(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function Qs(){for(var t,e,r=0,n="",a=arguments.length;r<a;r++)(t=arguments[r])&&(e=O_(t))&&(n&&(n+=" "),n+=e);return n}function $L(t){if(!t||typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e.firstChild?e.insertBefore(r,e.firstChild):e.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}$L(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var r0=t=>typeof t=="number"&&!isNaN(t),so=t=>typeof t=="string",mi=t=>typeof t=="function",qL=t=>so(t)||r0(t),b1=t=>so(t)||mi(t)?t:null,HL=(t,e)=>t===!1||r0(t)&&t>0?t:e,x1=t=>Q.isValidElement(t)||so(t)||mi(t)||r0(t);function VL(t,e,r=300){let{scrollHeight:n,style:a}=t;requestAnimationFrame(()=>{a.minHeight="initial",a.height=n+"px",a.transition=`all ${r}ms`,requestAnimationFrame(()=>{a.height="0",a.padding="0",a.margin="0",setTimeout(e,r)})})}function jL({enter:t,exit:e,appendPosition:r=!1,collapse:n=!0,collapseDuration:a=300}){return function({children:i,position:s,preventExitTransition:o,done:l,nodeRef:u,isIn:c,playToast:f}){let d=r?`${t}--${s}`:t,p=r?`${e}--${s}`:e,g=Q.useRef(0);return Q.useLayoutEffect(()=>{let y=u.current,x=d.split(" "),b=w=>{w.target===u.current&&(f(),y.removeEventListener("animationend",b),y.removeEventListener("animationcancel",b),g.current===0&&w.type!=="animationcancel"&&y.classList.remove(...x))};y.classList.add(...x),y.addEventListener("animationend",b),y.addEventListener("animationcancel",b)},[]),Q.useEffect(()=>{let y=u.current,x=()=>{y.removeEventListener("animationend",x),n?VL(y,l,a):l()};c||(o?x():(g.current=1,y.className+=` ${p}`,y.addEventListener("animationend",x)))},[c]),ft.createElement(ft.Fragment,null,i)}}function K3(t,e){return{content:I_(t.content,t.props),containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,reason:t.removalReason,status:e}}function I_(t,e,r=!1){return Q.isValidElement(t)&&!so(t.type)?Q.cloneElement(t,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:r}):mi(t)?t({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:r}):t}function UL({closeToast:t,theme:e,ariaLabel:r="close"}){return ft.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:n=>{n.stopPropagation(),t(!0)},"aria-label":r},ft.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},ft.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function WL({delay:t,isRunning:e,closeToast:r,type:n="default",hide:a,className:i,controlledProgress:s,progress:o,rtl:l,isIn:u,theme:c}){let f=a||s&&o===0,d={animationDuration:`${t}ms`,animationPlayState:e?"running":"paused"};s&&(d.transform=`scaleX(${o})`);let p=Qs("Toastify__progress-bar",s?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${c}`,`Toastify__progress-bar--${n}`,{"Toastify__progress-bar--rtl":l}),g=mi(i)?i({rtl:l,type:n,defaultClassName:p}):Qs(p,i),y={[s&&o>=1?"onTransitionEnd":"onAnimationEnd"]:s&&o<1?null:()=>{u&&r()}};return ft.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":f},ft.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${c} Toastify__progress-bar--${n}`}),ft.createElement("div",{role:"progressbar","aria-hidden":f?"true":"false","aria-label":"notification timer",className:g,style:d,...y}))}var GL=1,N_=()=>`${GL++}`;function YL(t,e,r){let n=1,a=0,i=[],s=[],o=e,l=new Map,u=new Set,c=w=>(u.add(w),()=>u.delete(w)),f=()=>{s=Array.from(l.values()),u.forEach(w=>w())},d=({containerId:w,toastId:_,updateId:k})=>{let E=w?w!==t:t!==1,D=l.has(_)&&k==null;return E||D},p=(w,_)=>{l.forEach(k=>{var E;(_==null||_===k.props.toastId)&&((E=k.toggle)==null||E.call(k,w))})},g=w=>{var _,k;(k=(_=w.props)==null?void 0:_.onClose)==null||k.call(_,w.removalReason),w.isActive=!1},y=w=>{if(w==null)l.forEach(g);else{let _=l.get(w);_&&g(_)}f()},x=()=>{a-=i.length,i=[]},b=w=>{var _,k;let{toastId:E,updateId:D}=w.props,M=D==null;w.staleId&&l.delete(w.staleId),w.isActive=!0,l.set(E,w),f(),r(K3(w,M?"added":"updated")),M&&((k=(_=w.props).onOpen)==null||k.call(_))};return{id:t,props:o,observe:c,toggle:p,removeToast:y,toasts:l,clearQueue:x,buildToast:(w,_)=>{if(d(_))return;let{toastId:k,updateId:E,data:D,staleId:M,delay:A}=_,R=E==null;R&&a++;let O={...o,style:o.toastStyle,key:n++,...Object.fromEntries(Object.entries(_).filter(([B,F])=>F!=null)),toastId:k,updateId:E,data:D,isIn:!1,className:b1(_.className||o.toastClassName),progressClassName:b1(_.progressClassName||o.progressClassName),autoClose:_.isLoading?!1:HL(_.autoClose,o.autoClose),closeToast(B){l.get(k).removalReason=B,y(k)},deleteToast(){let B=l.get(k);if(B!=null){if(r(K3(B,"removed")),l.delete(k),a--,a<0&&(a=0),i.length>0){b(i.shift());return}f()}}};O.closeButton=o.closeButton,_.closeButton===!1||x1(_.closeButton)?O.closeButton=_.closeButton:_.closeButton===!0&&(O.closeButton=x1(o.closeButton)?o.closeButton:!0);let N={content:w,props:O,staleId:M};o.limit&&o.limit>0&&a>o.limit&&R?i.push(N):r0(A)?setTimeout(()=>{b(N)},A):b(N)},setProps(w){o=w},setToggle:(w,_)=>{let k=l.get(w);k&&(k.toggle=_)},isToastActive:w=>{var _;return(_=l.get(w))==null?void 0:_.isActive},getSnapshot:()=>s}}var yn=new Map,Mc=[],w1=new Set,XL=t=>w1.forEach(e=>e(t)),z_=()=>yn.size>0;function KL(){Mc.forEach(t=>F_(t.content,t.options)),Mc=[]}var ZL=(t,{containerId:e})=>{var r;return(r=yn.get(e||1))==null?void 0:r.toasts.get(t)};function B_(t,e){var r;if(e)return!!((r=yn.get(e))!=null&&r.isToastActive(t));let n=!1;return yn.forEach(a=>{a.isToastActive(t)&&(n=!0)}),n}function QL(t){if(!z_()){Mc=Mc.filter(e=>t!=null&&e.options.toastId!==t);return}if(t==null||qL(t))yn.forEach(e=>{e.removeToast(t)});else if(t&&("containerId"in t||"id"in t)){let e=yn.get(t.containerId);e?e.removeToast(t.id):yn.forEach(r=>{r.removeToast(t.id)})}}var JL=(t={})=>{yn.forEach(e=>{e.props.limit&&(!t.containerId||e.id===t.containerId)&&e.clearQueue()})};function F_(t,e){x1(t)&&(z_()||Mc.push({content:t,options:e}),yn.forEach(r=>{r.buildToast(t,e)}))}function eR(t){var e;(e=yn.get(t.containerId||1))==null||e.setToggle(t.id,t.fn)}function $_(t,e){yn.forEach(r=>{(e==null||!(e!=null&&e.containerId)||(e==null?void 0:e.containerId)===r.id)&&r.toggle(t,e==null?void 0:e.id)})}function tR(t){let e=t.containerId||1;return{subscribe(r){let n=YL(e,t,XL);yn.set(e,n);let a=n.observe(r);return KL(),()=>{a(),yn.delete(e)}},setProps(r){var n;(n=yn.get(e))==null||n.setProps(r)},getSnapshot(){var r;return(r=yn.get(e))==null?void 0:r.getSnapshot()}}}function rR(t){return w1.add(t),()=>{w1.delete(t)}}function nR(t){return t&&(so(t.toastId)||r0(t.toastId))?t.toastId:N_()}function n0(t,e){return F_(t,e),e.toastId}function qh(t,e){return{...e,type:e&&e.type||t,toastId:nR(e)}}function Hh(t){return(e,r)=>n0(e,qh(t,r))}function _t(t,e){return n0(t,qh("default",e))}_t.loading=(t,e)=>n0(t,qh("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function aR(t,{pending:e,error:r,success:n},a){let i;e&&(i=so(e)?_t.loading(e,a):_t.loading(e.render,{...a,...e}));let s={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},o=(u,c,f)=>{if(c==null){_t.dismiss(i);return}let d={type:u,...s,...a,data:f},p=so(c)?{render:c}:c;return i?_t.update(i,{...d,...p}):_t(p.render,{...d,...p}),f},l=mi(t)?t():t;return l.then(u=>o("success",n,u)).catch(u=>o("error",r,u)),l}_t.promise=aR;_t.success=Hh("success");_t.info=Hh("info");_t.error=Hh("error");_t.warning=Hh("warning");_t.warn=_t.warning;_t.dark=(t,e)=>n0(t,qh("default",{theme:"dark",...e}));function iR(t){QL(t)}_t.dismiss=iR;_t.clearWaitingQueue=JL;_t.isActive=B_;_t.update=(t,e={})=>{let r=ZL(t,e);if(r){let{props:n,content:a}=r,i={delay:100,...n,...e,toastId:e.toastId||t,updateId:N_()};i.toastId!==t&&(i.staleId=t);let s=i.render||a;delete i.render,n0(s,i)}};_t.done=t=>{_t.update(t,{progress:1})};_t.onChange=rR;_t.play=t=>$_(!0,t);_t.pause=t=>$_(!1,t);function sR(t){var e;let{subscribe:r,getSnapshot:n,setProps:a}=Q.useRef(tR(t)).current;a(t);let i=(e=Q.useSyncExternalStore(r,n,n))==null?void 0:e.slice();function s(o){if(!i)return[];let l=new Map;return t.newestOnTop&&i.reverse(),i.forEach(u=>{let{position:c}=u.props;l.has(c)||l.set(c,[]),l.get(c).push(u)}),Array.from(l,u=>o(u[0],u[1]))}return{getToastToRender:s,isToastActive:B_,count:i==null?void 0:i.length}}function oR(t){let[e,r]=Q.useState(!1),[n,a]=Q.useState(!1),i=Q.useRef(null),s=Q.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:o,pauseOnHover:l,closeToast:u,onClick:c,closeOnClick:f}=t;eR({id:t.toastId,containerId:t.containerId,fn:r}),Q.useEffect(()=>{if(t.pauseOnFocusLoss)return d(),()=>{p()}},[t.pauseOnFocusLoss]);function d(){document.hasFocus()||b(),window.addEventListener("focus",x),window.addEventListener("blur",b)}function p(){window.removeEventListener("focus",x),window.removeEventListener("blur",b)}function g(M){if(t.draggable===!0||t.draggable===M.pointerType){w();let A=i.current;s.canCloseOnClick=!0,s.canDrag=!0,A.style.transition="none",t.draggableDirection==="x"?(s.start=M.clientX,s.removalDistance=A.offsetWidth*(t.draggablePercent/100)):(s.start=M.clientY,s.removalDistance=A.offsetHeight*(t.draggablePercent===80?t.draggablePercent*1.5:t.draggablePercent)/100)}}function y(M){let{top:A,bottom:R,left:O,right:N}=i.current.getBoundingClientRect();M.nativeEvent.type!=="touchend"&&t.pauseOnHover&&M.clientX>=O&&M.clientX<=N&&M.clientY>=A&&M.clientY<=R?b():x()}function x(){r(!0)}function b(){r(!1)}function w(){s.didMove=!1,document.addEventListener("pointermove",k),document.addEventListener("pointerup",E)}function _(){document.removeEventListener("pointermove",k),document.removeEventListener("pointerup",E)}function k(M){let A=i.current;if(s.canDrag&&A){s.didMove=!0,e&&b(),t.draggableDirection==="x"?s.delta=M.clientX-s.start:s.delta=M.clientY-s.start,s.start!==M.clientX&&(s.canCloseOnClick=!1);let R=t.draggableDirection==="x"?`${s.delta}px, var(--y)`:`0, calc(${s.delta}px + var(--y))`;A.style.transform=`translate3d(${R},0)`,A.style.opacity=`${1-Math.abs(s.delta/s.removalDistance)}`}}function E(){_();let M=i.current;if(s.canDrag&&s.didMove&&M){if(s.canDrag=!1,Math.abs(s.delta)>s.removalDistance){a(!0),t.closeToast(!0),t.collapseAll();return}M.style.transition="transform 0.2s, opacity 0.2s",M.style.removeProperty("transform"),M.style.removeProperty("opacity")}}let D={onPointerDown:g,onPointerUp:y};return o&&l&&(D.onMouseEnter=b,t.stacked||(D.onMouseLeave=x)),f&&(D.onClick=M=>{c&&c(M),s.canCloseOnClick&&u(!0)}),{playToast:x,pauseToast:b,isRunning:e,preventExitTransition:n,toastRef:i,eventHandlers:D}}var lR=typeof window<"u"?Q.useLayoutEffect:Q.useEffect,Vh=({theme:t,type:e,isLoading:r,...n})=>ft.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:t==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...n});function uR(t){return ft.createElement(Vh,{...t},ft.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function cR(t){return ft.createElement(Vh,{...t},ft.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function fR(t){return ft.createElement(Vh,{...t},ft.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function dR(t){return ft.createElement(Vh,{...t},ft.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function hR(){return ft.createElement("div",{className:"Toastify__spinner"})}var _1={info:cR,warning:uR,success:fR,error:dR,spinner:hR},pR=t=>t in _1;function gR({theme:t,type:e,isLoading:r,icon:n}){let a=null,i={theme:t,type:e};return n===!1||(mi(n)?a=n({...i,isLoading:r}):Q.isValidElement(n)?a=Q.cloneElement(n,i):r?a=_1.spinner():pR(e)&&(a=_1[e](i))),a}var mR=t=>{let{isRunning:e,preventExitTransition:r,toastRef:n,eventHandlers:a,playToast:i}=oR(t),{closeButton:s,children:o,autoClose:l,onClick:u,type:c,hideProgressBar:f,closeToast:d,transition:p,position:g,className:y,style:x,progressClassName:b,updateId:w,role:_,progress:k,rtl:E,toastId:D,deleteToast:M,isIn:A,isLoading:R,closeOnClick:O,theme:N,ariaLabel:B}=t,F=Qs("Toastify__toast",`Toastify__toast-theme--${N}`,`Toastify__toast--${c}`,{"Toastify__toast--rtl":E},{"Toastify__toast--close-on-click":O}),V=mi(y)?y({rtl:E,position:g,type:c,defaultClassName:F}):Qs(F,y),X=gR(t),K=!!k||!l,U={closeToast:d,type:c,theme:N},H=null;return s===!1||(mi(s)?H=s(U):Q.isValidElement(s)?H=Q.cloneElement(s,U):H=UL(U)),ft.createElement(p,{isIn:A,done:M,position:g,preventExitTransition:r,nodeRef:n,playToast:i},ft.createElement("div",{id:D,tabIndex:0,onClick:u,"data-in":A,className:V,...a,style:x,ref:n,...A&&{role:_,"aria-label":B}},X!=null&&ft.createElement("div",{className:Qs("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!R})},X),I_(o,t,!e),H,!t.customProgressBar&&ft.createElement(WL,{...w&&!K?{key:`p-${w}`}:{},rtl:E,theme:N,delay:l,isRunning:e,isIn:A,closeToast:d,hide:f,type:c,className:b,controlledProgress:K,progress:k||0})))},vR=(t,e=!1)=>({enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:e}),yR=jL(vR("bounce",!0)),bR={position:"top-right",transition:yR,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:t=>t.altKey&&t.code==="KeyT"};function xR(t){let e={...bR,...t},r=t.stacked,[n,a]=Q.useState(!0),i=Q.useRef(null),{getToastToRender:s,isToastActive:o,count:l}=sR(e),{className:u,style:c,rtl:f,containerId:d,hotKeys:p}=e;function g(x){let b=Qs("Toastify__toast-container",`Toastify__toast-container--${x}`,{"Toastify__toast-container--rtl":f});return mi(u)?u({position:x,rtl:f,defaultClassName:b}):Qs(b,b1(u))}function y(){r&&(a(!0),_t.play())}return lR(()=>{var x;if(r){let b=i.current.querySelectorAll('[data-in="true"]'),w=12,_=(x=e.position)==null?void 0:x.includes("top"),k=0,E=0;Array.from(b).reverse().forEach((D,M)=>{let A=D;A.classList.add("Toastify__toast--stacked"),M>0&&(A.dataset.collapsed=`${n}`),A.dataset.pos||(A.dataset.pos=_?"top":"bot");let R=k*(n?.2:1)+(n?0:w*M);A.style.setProperty("--y",`${_?R:R*-1}px`),A.style.setProperty("--g",`${w}`),A.style.setProperty("--s",`${1-(n?E:0)}`),k+=A.offsetHeight,E+=.025})}},[n,l,r]),Q.useEffect(()=>{function x(b){var w;let _=i.current;p(b)&&((w=_.querySelector('[tabIndex="0"]'))==null||w.focus(),a(!1),_t.pause()),b.key==="Escape"&&(document.activeElement===_||_!=null&&_.contains(document.activeElement))&&(a(!0),_t.play())}return document.addEventListener("keydown",x),()=>{document.removeEventListener("keydown",x)}},[p]),ft.createElement("section",{ref:i,className:"Toastify",id:d,onMouseEnter:()=>{r&&(a(!1),_t.pause())},onMouseLeave:y,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},s((x,b)=>{let w=b.length?{...c}:{...c,pointerEvents:"none"};return ft.createElement("div",{tabIndex:-1,className:g(x),"data-stacked":r,style:w,key:`c-${x}`},b.map(({content:_,props:k})=>ft.createElement(mR,{...k,stacked:r,collapseAll:y,isIn:o(k.toastId,k.containerId),key:`t-${k.key}`},_)))}))}const wR=({children:t})=>Y.jsxs(Y.Fragment,{children:[Y.jsx(IL,{}),Y.jsx(h_,{children:t}),Y.jsx(xR,{})]}),_R={black:"#080808",gray:"#ddd",text:"#080808",darkGray:"#999",lightGray:"#fafafa",textFieldText:"rgba(33, 33, 48, .5)",boxShadow:"#FAFAFC",lightRed:"rgb(255, 203, 203)",lightGreen:"rgb(206, 255, 217)",red:"rgb(255, 109, 109)",green:"rgb(104, 187, 122)",darkRed:"rgb(178, 76, 76)",darkGreen:"rgb(66, 128, 79)",complementaryColor:"#f5f5f5",contrastColor:"#182135",borderColor:"#eaeaf0",markdownQuote:"#fafafc",creatorsSwitcherActive:"#212130",creatorsSwitcherUnActive:"#B7B7CC",tierCardBorder:"rgba(183, 183, 204, 0.3)",postDescriptionBlur:"linear-gradient(180deg, transparent, rgba(255, 255, 255, 0.795) 100%)",imagePlaceholder:"#eaeaf0"},SR=LP(["body{background:#fff;color:",";transition:all 0.08s linear;}::-webkit-scrollbar{width:5px;background-color:white;}::-webkit-scrollbar-thumb{background-color:",";border-radius:50px;box-shadow:0px 0px 6px 2px rgba(0,0,0,0.5) inset;}::-webkit-scrollbar-track{border-radius:5px;background-color:",";}"],({theme:t})=>t.text,({theme:t})=>t.darkGray,({theme:t})=>t.lightGray);var d2={exports:{}},hl=typeof Reflect=="object"?Reflect:null,Z3=hl&&typeof hl.apply=="function"?hl.apply:function(e,r,n){return Function.prototype.apply.call(e,r,n)},Zf;hl&&typeof hl.ownKeys=="function"?Zf=hl.ownKeys:Object.getOwnPropertySymbols?Zf=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Zf=function(e){return Object.getOwnPropertyNames(e)};function kR(t){console&&console.warn&&console.warn(t)}var q_=Number.isNaN||function(e){return e!==e};function Ft(){Ft.init.call(this)}d2.exports=Ft;d2.exports.once=MR;Ft.EventEmitter=Ft;Ft.prototype._events=void 0;Ft.prototype._eventsCount=0;Ft.prototype._maxListeners=void 0;var Q3=10;function jh(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}Object.defineProperty(Ft,"defaultMaxListeners",{enumerable:!0,get:function(){return Q3},set:function(t){if(typeof t!="number"||t<0||q_(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");Q3=t}});Ft.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};Ft.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||q_(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function H_(t){return t._maxListeners===void 0?Ft.defaultMaxListeners:t._maxListeners}Ft.prototype.getMaxListeners=function(){return H_(this)};Ft.prototype.emit=function(e){for(var r=[],n=1;n<arguments.length;n++)r.push(arguments[n]);var a=e==="error",i=this._events;if(i!==void 0)a=a&&i.error===void 0;else if(!a)return!1;if(a){var s;if(r.length>0&&(s=r[0]),s instanceof Error)throw s;var o=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw o.context=s,o}var l=i[e];if(l===void 0)return!1;if(typeof l=="function")Z3(l,this,r);else for(var u=l.length,c=G_(l,u),n=0;n<u;++n)Z3(c[n],this,r);return!0};function V_(t,e,r,n){var a,i,s;if(jh(r),i=t._events,i===void 0?(i=t._events=Object.create(null),t._eventsCount=0):(i.newListener!==void 0&&(t.emit("newListener",e,r.listener?r.listener:r),i=t._events),s=i[e]),s===void 0)s=i[e]=r,++t._eventsCount;else if(typeof s=="function"?s=i[e]=n?[r,s]:[s,r]:n?s.unshift(r):s.push(r),a=H_(t),a>0&&s.length>a&&!s.warned){s.warned=!0;var o=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");o.name="MaxListenersExceededWarning",o.emitter=t,o.type=e,o.count=s.length,kR(o)}return t}Ft.prototype.addListener=function(e,r){return V_(this,e,r,!1)};Ft.prototype.on=Ft.prototype.addListener;Ft.prototype.prependListener=function(e,r){return V_(this,e,r,!0)};function ER(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function j_(t,e,r){var n={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},a=ER.bind(n);return a.listener=r,n.wrapFn=a,a}Ft.prototype.once=function(e,r){return jh(r),this.on(e,j_(this,e,r)),this};Ft.prototype.prependOnceListener=function(e,r){return jh(r),this.prependListener(e,j_(this,e,r)),this};Ft.prototype.removeListener=function(e,r){var n,a,i,s,o;if(jh(r),a=this._events,a===void 0)return this;if(n=a[e],n===void 0)return this;if(n===r||n.listener===r)--this._eventsCount===0?this._events=Object.create(null):(delete a[e],a.removeListener&&this.emit("removeListener",e,n.listener||r));else if(typeof n!="function"){for(i=-1,s=n.length-1;s>=0;s--)if(n[s]===r||n[s].listener===r){o=n[s].listener,i=s;break}if(i<0)return this;i===0?n.shift():CR(n,i),n.length===1&&(a[e]=n[0]),a.removeListener!==void 0&&this.emit("removeListener",e,o||r)}return this};Ft.prototype.off=Ft.prototype.removeListener;Ft.prototype.removeAllListeners=function(e){var r,n,a;if(n=this._events,n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete n[e]),this;if(arguments.length===0){var i=Object.keys(n),s;for(a=0;a<i.length;++a)s=i[a],s!=="removeListener"&&this.removeAllListeners(s);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(r=n[e],typeof r=="function")this.removeListener(e,r);else if(r!==void 0)for(a=r.length-1;a>=0;a--)this.removeListener(e,r[a]);return this};function U_(t,e,r){var n=t._events;if(n===void 0)return[];var a=n[e];return a===void 0?[]:typeof a=="function"?r?[a.listener||a]:[a]:r?TR(a):G_(a,a.length)}Ft.prototype.listeners=function(e){return U_(this,e,!0)};Ft.prototype.rawListeners=function(e){return U_(this,e,!1)};Ft.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):W_.call(t,e)};Ft.prototype.listenerCount=W_;function W_(t){var e=this._events;if(e!==void 0){var r=e[t];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}Ft.prototype.eventNames=function(){return this._eventsCount>0?Zf(this._events):[]};function G_(t,e){for(var r=new Array(e),n=0;n<e;++n)r[n]=t[n];return r}function CR(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function TR(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}function MR(t,e){return new Promise(function(r,n){function a(s){t.removeListener(e,i),n(s)}function i(){typeof t.removeListener=="function"&&t.removeListener("error",a),r([].slice.call(arguments))}Y_(t,e,i,{once:!0}),e!=="error"&&DR(t,a,{once:!0})})}function DR(t,e,r){typeof t.on=="function"&&Y_(t,"error",e,r)}function Y_(t,e,r,n){if(typeof t.on=="function")n.once?t.once(e,r):t.on(e,r);else if(typeof t.addEventListener=="function")t.addEventListener(e,function a(i){n.once&&t.removeEventListener(e,a),r(i)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}var PR=d2.exports;class ln{}class AR extends ln{get ID(){return 0}serialize(){return new Uint8Array([this.ID])}toString(){return"InfoRequest()"}}class LR extends ln{constructor(r,n,a,i,s,o,l,u,c,f){super();Ae(this,"rpcMajor");Ae(this,"rpcMinor");Ae(this,"rpcBuild");Ae(this,"firmwareMajor");Ae(this,"firmwareMinor");Ae(this,"firmwareBuild");Ae(this,"maxPacketSize");Ae(this,"maxMessageSize");Ae(this,"maxChunkSize");Ae(this,"productGroupDevice");this.rpcMajor=r,this.rpcMinor=n,this.rpcBuild=a,this.firmwareMajor=i,this.firmwareMinor=s,this.firmwareBuild=o,this.maxPacketSize=l,this.maxMessageSize=u,this.maxChunkSize=c,this.productGroupDevice=f}get ID(){return 1}serialize(){const r=new Uint8Array(21);return r[0]=this.ID,r[1]=this.rpcMajor,r[2]=this.rpcMinor,r}toString(){return`InfoResponse(rpcVersion=${this.rpcMajor}.${this.rpcMinor}.${this.rpcBuild}, firmwareVersion=${this.firmwareMajor}.${this.firmwareMinor}.${this.firmwareBuild}, maxPacketSize=${this.maxPacketSize}, maxChunkSize=${this.maxChunkSize})`}}class RR extends ln{constructor(r){super();Ae(this,"intervalMs");this.intervalMs=r}get ID(){return 40}serialize(){const r=new Uint8Array(3);return r[0]=this.ID,new DataView(r.buffer,1,2).setUint16(0,this.intervalMs,!0),r}toString(){return`DeviceNotificationRequest(intervalMs=${this.intervalMs})`}}class OR extends ln{constructor(r){super();Ae(this,"success");this.success=r}get ID(){return 41}serialize(){const r=new Uint8Array(2);return r[0]=this.ID,r[1]=this.success?0:1,r}toString(){return`DeviceNotificationResponse(success=${this.success})`}}class X_ extends ln{constructor(r,n){super();Ae(this,"size");Ae(this,"messages");this.size=r,this.messages=n}get ID(){return 60}serialize(){return new Uint8Array([this.ID])}toString(){return`DeviceNotification(${this.messages.map(n=>n[0]).join(", ")})`}}class IR extends ln{constructor(r){super();Ae(this,"slot");this.slot=r}get ID(){return 70}serialize(){const r=new Uint8Array(2);return r[0]=this.ID,r[1]=this.slot,r}toString(){return`ClearSlotRequest(slot=${this.slot})`}}class NR extends ln{constructor(r){super();Ae(this,"success");this.success=r}get ID(){return 71}serialize(){const r=new Uint8Array(2);return r[0]=this.ID,r[1]=this.success?0:1,r}toString(){return`ClearSlotResponse(success=${this.success})`}}class S1 extends ln{constructor(r,n,a){super();Ae(this,"bytes");Ae(this,"frameId");Ae(this,"frameTotal");this.bytes=r,this.frameId=n,this.frameTotal=a}get ID(){return 50}serialize(){const r=new Uint8Array(5+this.bytes.length);return r[0]=this.ID,new DataView(r.buffer,1,2).setUint16(0,this.bytes.length+2,!0),r[3]=this.frameId,r[4]=this.frameTotal,r.set(this.bytes,5),r}toString(){return`${this.constructor.name}(frameId=${this.frameId}, frameTotal=${this.frameTotal}, bytes=${this.bytes})`}}class zR extends ln{constructor(r,n,a){super();Ae(this,"fileName");Ae(this,"slot");Ae(this,"crc");this.fileName=r,this.slot=n,this.crc=a}get ID(){return 12}serialize(){const r=new TextEncoder().encode(this.fileName+"\0"),n=new Uint8Array(6+r.length);return n[0]=this.ID,n.set(r,1),n[1+r.length]=this.slot,new DataView(n.buffer,2+r.length,4).setUint32(0,this.crc,!0),n}toString(){return`StartFileUploadRequest(fileName="${this.fileName}", slot=${this.slot}, crc=${this.crc})`}}class BR extends ln{constructor(r){super();Ae(this,"success");this.success=r}get ID(){return 13}serialize(){const r=new Uint8Array(2);return r[0]=this.ID,r[1]=this.success?0:1,r}toString(){return`StartFileUploadResponse(success=${this.success})`}}class FR extends ln{constructor(r,n){super();Ae(this,"runningCrc");Ae(this,"chunk");this.runningCrc=r,this.chunk=n}get ID(){return 16}serialize(){const r=new Uint8Array(7+this.chunk.length);return r[0]=this.ID,new DataView(r.buffer,1,4).setUint32(0,this.runningCrc,!0),new DataView(r.buffer,5,2).setUint16(0,this.chunk.length,!0),r.set(this.chunk,7),r}toString(){return`TransferChunkRequest(runningCrc=${this.runningCrc}, chunkSize=${this.chunk.length})`}}class $R extends ln{constructor(r){super();Ae(this,"success");this.success=r}get ID(){return 17}serialize(){const r=new Uint8Array(2);return r[0]=this.ID,r[1]=this.success?0:1,r}toString(){return`TransferChunkResponse(success=${this.success})`}}class J3 extends ln{constructor(r,n){super();Ae(this,"stop");Ae(this,"slot");this.stop=r,this.slot=n}get ID(){return 30}serialize(){const r=new Uint8Array(3);return r[0]=this.ID,r[1]=this.stop?1:0,r[2]=this.slot,r}toString(){return`ProgramFlowRequest(stop=${this.stop}, slot=${this.slot})`}}class qR extends ln{constructor(r){super();Ae(this,"success");this.success=r}get ID(){return 31}serialize(){const r=new Uint8Array(2);return r[0]=this.ID,r[1]=this.success?0:1,r}toString(){return`ProgramFlowResponse(success=${this.success})`}}class K_ extends ln{constructor(r){super();Ae(this,"text");this.text=r}get ID(){return 33}serialize(){const r=new TextEncoder().encode(this.text),n=new Uint8Array(1+r.length);return n[0]=this.ID,n.set(r,1),n}toString(){return`ConsoleNotification(text="${this.text}")`}}class Z_ extends ln{constructor(r){super();Ae(this,"stop");this.stop=r}get ID(){return 32}serialize(){const r=new Uint8Array(2);return r[0]=this.ID,r[1]=this.stop?1:0,r}toString(){return`ProgramFlowNotification(stop=${this.stop})`}}function HR(t){if(t.length===0)throw new Error("Empty data buffer");const e=t[0];switch(e){case 1:const r=new DataView(t.buffer,t.byteOffset,t.byteLength);return new LR(t[1],t[2],r.getUint16(3,!0),t[5],t[6],r.getUint16(7,!0),r.getUint16(9,!0),r.getUint16(11,!0),r.getUint16(13,!0),r.getUint16(15,!0));case 41:return new OR(t[1]===0);case 60:const n=new DataView(t.buffer,t.byteOffset+1,2).getUint16(0,!0),a=[];let i=3;for(;i<t.length;){const p=t[i];if(p===0)a.push(["Battery",t[i+1]]),i+=2;else if(p===1)a.push(["IMU","data"]),i+=23;else break}return new X_(n,a);case 71:return new NR(t[1]===0);case 13:return new BR(t[1]===0);case 17:return new $R(t[1]===0);case 31:return new qR(t[1]===0);case 33:const s=t.slice(1).filter(p=>p!==0),o=new TextDecoder().decode(s);return new K_(o);case 50:const l=t[3],u=t[4],c=new DataView(t.buffer,t.byteOffset+1,2).getUint16(0,!0),f=t.slice(5,5+c);return new S1(f,l,u);case 32:if(t.length!==2)throw new Error("Invalid data length for ProgramFlowNotification");const d=t[1]===1;return new Z_(d);default:throw new Error(`Unknown message ID: ${e}`)}}const VR=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];function jR(t,e=0){e=~e;for(let r=0;r<t.length;r++)e=VR[(e^t[r])&255]^e>>>8;return e^4294967295}function eb(t,e=0,r=4){const n=t.length%r;if(n){const a=new Uint8Array(t.length+(r-n));a.set(t),t=a}return jR(t,e)}const pl=2,UR=255,$d=pl,rl=84,Q_=3;function J_(t){const e=[];let r=0,n=0;const a=()=>{r=e.length,e.push(UR),n=1};return a(),t.forEach(i=>{if(i>pl&&(e.push(i),n+=1),i<=pl||n>rl){if(i<=pl){const s=i*rl,o=n+$d;e[r]=s+o}a()}}),e[r]=n+$d,new Uint8Array(e)}function eS(t){const e=[],r=i=>{if(i===255)return[null,rl+1];const[s,o]=[(i-$d)/rl,(i-$d)%rl];return o===0?[s-1,rl]:[s,o]};let[n,a]=r(t[0]);for(let i=1;i<t.length;i++){if(a-=1,a>0){e.push(t[i]);continue}n!==null&&e.push(n),[n,a]=r(t[i])}return new Uint8Array(e)}function WR(t){let e=J_(t);for(let n=0;n<e.length;n++)e[n]^=Q_;const r=new Uint8Array(e.length+1);return r.set(e),r[e.length]=pl,r}function GR(t){let e=0;t[0]===1&&(e+=1);const r=new Uint8Array(t.slice(e,t.length-1).map(n=>n^Q_));return eS(r)}const Cg={pack:WR,unpack:GR,encode:J_,decode:eS,DELIMITER:pl};function YR(){let t,e;return{promise:new Promise((n,a)=>{t=n,e=a}),resolve:t,reject:e}}class XR extends PR.EventEmitter{constructor(){super();Ae(this,"device",null);Ae(this,"server",null);Ae(this,"service",null);Ae(this,"rxCharacteristic",null);Ae(this,"txCharacteristic",null);Ae(this,"infoResponse",null);Ae(this,"pendingResponse",null);Ae(this,"chunksMap",new Map);Ae(this,"totalChunks",0);Ae(this,"tunnelMessageQueue",[]);Ae(this,"isProcessingTunnel",!1);Ae(this,"SERVICE_UUID","0000fd02-0000-1000-8000-00805f9b34fb");Ae(this,"RX_CHARACTERISTIC_UUID","0000fd02-0001-1000-8000-00805f9b34fb");Ae(this,"TX_CHARACTERISTIC_UUID","0000fd02-0002-1000-8000-00805f9b34fb");Ae(this,"DEFAULT_NOTIFICATION_INTERVAL_MS",5e3);Ae(this,"BANDWIDTH",8192/16)}async connect(){var r;try{console.log("Scanning for LEGO hubs..."),this.device=await navigator.bluetooth.requestDevice({filters:[{services:[this.SERVICE_UUID]}]}),console.log(`Hub detected! ${this.device.name||"Unnamed device"}`),this.device.addEventListener("gattserverdisconnected",()=>{console.log("Connection lost."),this.emit("disconnected"),this.removeAllListeners()});const n=await((r=this.device.gatt)==null?void 0:r.connect());if(!n)throw new Error("Failed to connect to GATT server");if(this.server=n,this.service=await this.server.getPrimaryService(this.SERVICE_UUID),this.rxCharacteristic=await this.service.getCharacteristic(this.RX_CHARACTERISTIC_UUID),this.txCharacteristic=await this.service.getCharacteristic(this.TX_CHARACTERISTIC_UUID),await this.txCharacteristic.startNotifications(),this.txCharacteristic.addEventListener("characteristicvaluechanged",this.handleNotification.bind(this)),this.infoResponse=await this.sendRequest(new AR,1),!(await this.sendRequest(new RR(this.DEFAULT_NOTIFICATION_INTERVAL_MS),41)).success)throw new Error("Failed to enable notifications");this.emit("connected")}catch(n){throw console.error("Connection error:",n),this.disconnect(),this.removeAllListeners(),n}}disconnect(){this.server&&this.server.connected&&this.server.disconnect(),this.device=null,this.server=null,this.service=null,this.rxCharacteristic=null,this.txCharacteristic=null,this.infoResponse=null,this.pendingResponse=null}async clearSlot(r){try{return(await this.sendRequest(new IR(r),71)).success}catch(n){return console.warn("ClearSlotRequest was not acknowledged:",n),!1}}async uploadProgram(r,n,a="program.py",i=()=>{}){var s;try{const o=new TextEncoder().encode(r),l=eb(o,0);if(!(await this.sendRequest(new zR(a,n,l),13)).success)return console.error("Start file upload was not acknowledged"),!1;i(0);let c=0;const f=((s=this.infoResponse)==null?void 0:s.maxChunkSize)||512;for(let d=0;d<o.length;d+=f){const p=o.slice(d,d+f);c=eb(p,c);const g=new FR(c,p);if(!(await this.sendRequest(g,17)).success)return console.error(`Failed to transfer chunk at offset ${d}`),!1;i(Math.round(d/o.length*f*100))}return!0}catch(o){return console.error("Program upload error:",o),!1}}async startProgram(r){try{return(await this.sendRequest(new J3(!1,r),31)).success}catch(n){return console.error("Failed to start program:",n),!1}}async stopProgram(r){try{return(await this.sendRequest(new J3(!0,r),31)).success}catch(n){return console.error("Failed to stop program:",n),!1}}handleNotification(r){const n=r.target;if(!n.value){console.log("Received notification with no value");return}const a=n.value.buffer,i=new Uint8Array(a.slice(0));if(i.length===0||i[i.length-1]!==Cg.DELIMITER){console.log("Received incomplete message");return}try{const s=Cg.unpack(i),o=HR(s);if(this.pendingResponse&&o.ID===this.pendingResponse.id){const l=this.pendingResponse.resolve;this.pendingResponse=null,l(o)}if(o instanceof X_)this.emit("deviceNotification",o);else if(o instanceof K_)this.emit("consoleNotification",o);else if(o instanceof Z_)this.emit("programFlowNotification",o);else if(o instanceof S1){const{frameId:l,frameTotal:u,bytes:c}=o;if(this.totalChunks===0&&(this.totalChunks=u),this.chunksMap.set(l,c),this.chunksMap.size===this.totalChunks){const f=Array.from({length:this.totalChunks},(y,x)=>this.chunksMap.get(x)||new Uint8Array),d=new Uint8Array(f.reduce((y,x)=>y+x.length,0));let p=0;f.forEach(y=>{d.set(y,p),p+=y.length});const g=new TextDecoder().decode(d);this.chunksMap.clear(),this.totalChunks=0;try{const y=JSON.parse(g);if(!y.action||!y.payload)throw new Error;this.emit("tunnelData",y)}catch{console.error("Unparsable string received: ",g)}}}}catch(s){console.error("Error processing message:",s)}}async sendMessage(r){var s;if(!this.rxCharacteristic)throw new Error("Not connected to hub");const n=r.serialize(),a=Cg.pack(n),i=((s=this.infoResponse)==null?void 0:s.maxPacketSize)||a.length;for(let o=0;o<a.length;o+=i){const l=a.slice(o,o+i);await this.rxCharacteristic.writeValue(l)}}sendRequest(r,n){return new Promise((a,i)=>{if(this.pendingResponse){i(new Error("Another request is already in progress"));return}this.pendingResponse={id:n,resolve:a},this.sendMessage(r).catch(i),setTimeout(()=>{var s;((s=this.pendingResponse)==null?void 0:s.id)===n&&(this.pendingResponse=null,i(new Error(`Request timed out. Message: ${r}`)))},1e4)})}async sendTunnelData(r){var u;const n=new TextEncoder().encode(typeof r=="string"?r:JSON.stringify(r)),i=(((u=this.infoResponse)==null?void 0:u.maxChunkSize)||512)-5,s=Math.ceil(n.length/i),o=[];for(let c=0;c<n.length;c+=i){const f=n.slice(c,c+i);o.push(new S1(f,c,s))}const l=YR();return this.tunnelMessageQueue.push({chunks:o,deferred:l}),this.processTunnelQueue(),l.promise}async processTunnelQueue(){if(!this.isProcessingTunnel){for(this.isProcessingTunnel=!0;this.tunnelMessageQueue.length>0;){const{chunks:r,deferred:n}=this.tunnelMessageQueue.shift();for(const a of r){const i=a.serialize().length,s=Math.floor(1e3*i/this.BANDWIDTH);await this.sendMessage(a),await new Promise(o=>setTimeout(o,s))}n.resolve()}this.isProcessingTunnel=!1}}}const tS=Q.createContext({canUseBLE:!1,disconnect:()=>{},connect:()=>Promise.resolve(),connectionStatus:"closed",subscribe:()=>()=>{},stopProgram:()=>Promise.resolve(!0),startProgram:()=>Promise.resolve(),sendTunnelData:()=>Promise.resolve(),codeStatus:"off"}),Uh=()=>Q.useContext(tS),KR=({children:t})=>{const[e,r]=Q.useState("closed"),[n,a]=Q.useState("off"),[i]=Q.useState(()=>"bluetooth"in navigator),s=Q.useRef(new XR),o=8,l=async()=>{s.current.removeAllListeners(),s.current.on("connected",()=>{r("open")}),s.current.on("disconnected",()=>{r("closed")}),s.current.on("programFlowNotification",g=>{n!=="uploading"&&a(g.stop?"off":"on")}),s.current.on("consoleNotification",g=>{console.log(`Hub console notification:
${g.text}`)}),r("opening");try{await s.current.connect()}catch{}},u=()=>{r("closing"),s.current.disconnect(),s.current.removeAllListeners()},c=async({code:g,onStart:y,onProgress:x})=>{a("uploading");try{await s.current.clearSlot(o),await s.current.uploadProgram(g,o,"program.py",x);const b=new Promise((w,_)=>{let k=!1;const E=D=>{D.action==="program_start"&&(k=!0,w(!0),s.current.off("tunnelData",E))};s.current.on("tunnelData",E),setTimeout(()=>{k||(console.error("VM init timeout"),_(),s.current.off("tunnelData",E))},5e3)});await s.current.startProgram(o),console.log("PROGRAM STARTED"),await b,console.log("TUNNEL INITIALIZED"),await y(),a("on")}catch{a("off")}},f=()=>s.current.stopProgram(o),d=g=>(s.current.on("tunnelData",g),()=>{s.current.off("tunnelData",g)}),p=({action:g,payload:y})=>s.current.sendTunnelData({action:g,payload:y});return Y.jsx(tS.Provider,{value:{canUseBLE:i,codeStatus:n,connectionStatus:e,connect:l,disconnect:u,subscribe:d,stopProgram:f,startProgram:c,sendTunnelData:p},children:t})},os={sm:"480px",md:"768px",lg:"1024px"},ZR=Re.h1.withConfig({displayName:"Typography__H1",componentId:"sc-ffs6le-0"})(["font-family:var(--main-font);font-size:48px;font-weight:900;line-height:1.2;margin:50px 0 30px;text-transform:uppercase;@media (max-width:","){font-size:40px;}@media (max-width:","){font-size:32px;}"],os.md,os.sm),QR=Re.h2.withConfig({displayName:"Typography__H2",componentId:"sc-ffs6le-1"})(["font-family:var(--main-font);font-size:40px;font-weight:700;line-height:1.3;margin:16px 0;@media (max-width:","){font-size:32px;}@media (max-width:","){font-size:28px;}"],os.md,os.sm),JR=Re.h3.withConfig({displayName:"Typography__H3",componentId:"sc-ffs6le-2"})(["font-family:var(--main-font);font-size:24px;font-weight:700;line-height:1.4;margin:12px 0 0;@media (max-width:","){font-size:28px;}@media (max-width:","){font-size:24px;}"],os.md,os.sm),eO=Re.p.withConfig({displayName:"Typography__Text",componentId:"sc-ffs6le-3"})(["font-family:var(--main-font);font-size:18px;font-weight:",";line-height:1.6;margin:6px 0;word-wrap:break-word;@media (max-width:","){font-size:16px;}@media (max-width:","){font-size:14px;}"],({$bold:t})=>t?700:300,os.md,os.sm),Tt={H1:ZR,H2:QR,H3:JR,Text:eO};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function a0(t){return t+.5|0}const qi=(t,e,r)=>Math.max(Math.min(t,r),e);function Nu(t){return qi(a0(t*2.55),0,255)}function es(t){return qi(a0(t*255),0,255)}function ei(t){return qi(a0(t/2.55)/100,0,1)}function tb(t){return qi(a0(t*100),0,100)}const Jn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},k1=[..."0123456789ABCDEF"],tO=t=>k1[t&15],rO=t=>k1[(t&240)>>4]+k1[t&15],J0=t=>(t&240)>>4===(t&15),nO=t=>J0(t.r)&&J0(t.g)&&J0(t.b)&&J0(t.a);function aO(t){var e=t.length,r;return t[0]==="#"&&(e===4||e===5?r={r:255&Jn[t[1]]*17,g:255&Jn[t[2]]*17,b:255&Jn[t[3]]*17,a:e===5?Jn[t[4]]*17:255}:(e===7||e===9)&&(r={r:Jn[t[1]]<<4|Jn[t[2]],g:Jn[t[3]]<<4|Jn[t[4]],b:Jn[t[5]]<<4|Jn[t[6]],a:e===9?Jn[t[7]]<<4|Jn[t[8]]:255})),r}const iO=(t,e)=>t<255?e(t):"";function sO(t){var e=nO(t)?tO:rO;return t?"#"+e(t.r)+e(t.g)+e(t.b)+iO(t.a,e):void 0}const oO=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function rS(t,e,r){const n=e*Math.min(r,1-r),a=(i,s=(i+t/30)%12)=>r-n*Math.max(Math.min(s-3,9-s,1),-1);return[a(0),a(8),a(4)]}function lO(t,e,r){const n=(a,i=(a+t/60)%6)=>r-r*e*Math.max(Math.min(i,4-i,1),0);return[n(5),n(3),n(1)]}function uO(t,e,r){const n=rS(t,1,.5);let a;for(e+r>1&&(a=1/(e+r),e*=a,r*=a),a=0;a<3;a++)n[a]*=1-e-r,n[a]+=e;return n}function cO(t,e,r,n,a){return t===a?(e-r)/n+(e<r?6:0):e===a?(r-t)/n+2:(t-e)/n+4}function h2(t){const r=t.r/255,n=t.g/255,a=t.b/255,i=Math.max(r,n,a),s=Math.min(r,n,a),o=(i+s)/2;let l,u,c;return i!==s&&(c=i-s,u=o>.5?c/(2-i-s):c/(i+s),l=cO(r,n,a,c,i),l=l*60+.5),[l|0,u||0,o]}function p2(t,e,r,n){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,r,n)).map(es)}function g2(t,e,r){return p2(rS,t,e,r)}function fO(t,e,r){return p2(uO,t,e,r)}function dO(t,e,r){return p2(lO,t,e,r)}function nS(t){return(t%360+360)%360}function hO(t){const e=oO.exec(t);let r=255,n;if(!e)return;e[5]!==n&&(r=e[6]?Nu(+e[5]):es(+e[5]));const a=nS(+e[2]),i=+e[3]/100,s=+e[4]/100;return e[1]==="hwb"?n=fO(a,i,s):e[1]==="hsv"?n=dO(a,i,s):n=g2(a,i,s),{r:n[0],g:n[1],b:n[2],a:r}}function pO(t,e){var r=h2(t);r[0]=nS(r[0]+e),r=g2(r),t.r=r[0],t.g=r[1],t.b=r[2]}function gO(t){if(!t)return;const e=h2(t),r=e[0],n=tb(e[1]),a=tb(e[2]);return t.a<255?`hsla(${r}, ${n}%, ${a}%, ${ei(t.a)})`:`hsl(${r}, ${n}%, ${a}%)`}const rb={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},nb={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function mO(){const t={},e=Object.keys(nb),r=Object.keys(rb);let n,a,i,s,o;for(n=0;n<e.length;n++){for(s=o=e[n],a=0;a<r.length;a++)i=r[a],o=o.replace(i,rb[i]);i=parseInt(nb[s],16),t[o]=[i>>16&255,i>>8&255,i&255]}return t}let ef;function vO(t){ef||(ef=mO(),ef.transparent=[0,0,0,0]);const e=ef[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const yO=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function bO(t){const e=yO.exec(t);let r=255,n,a,i;if(e){if(e[7]!==n){const s=+e[7];r=e[8]?Nu(s):qi(s*255,0,255)}return n=+e[1],a=+e[3],i=+e[5],n=255&(e[2]?Nu(n):qi(n,0,255)),a=255&(e[4]?Nu(a):qi(a,0,255)),i=255&(e[6]?Nu(i):qi(i,0,255)),{r:n,g:a,b:i,a:r}}}function xO(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${ei(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const Tg=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,Mo=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function wO(t,e,r){const n=Mo(ei(t.r)),a=Mo(ei(t.g)),i=Mo(ei(t.b));return{r:es(Tg(n+r*(Mo(ei(e.r))-n))),g:es(Tg(a+r*(Mo(ei(e.g))-a))),b:es(Tg(i+r*(Mo(ei(e.b))-i))),a:t.a+r*(e.a-t.a)}}function tf(t,e,r){if(t){let n=h2(t);n[e]=Math.max(0,Math.min(n[e]+n[e]*r,e===0?360:1)),n=g2(n),t.r=n[0],t.g=n[1],t.b=n[2]}}function aS(t,e){return t&&Object.assign(e||{},t)}function ab(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=es(t[3]))):(e=aS(t,{r:0,g:0,b:0,a:1}),e.a=es(e.a)),e}function _O(t){return t.charAt(0)==="r"?bO(t):hO(t)}class Dc{constructor(e){if(e instanceof Dc)return e;const r=typeof e;let n;r==="object"?n=ab(e):r==="string"&&(n=aO(e)||vO(e)||_O(e)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var e=aS(this._rgb);return e&&(e.a=ei(e.a)),e}set rgb(e){this._rgb=ab(e)}rgbString(){return this._valid?xO(this._rgb):void 0}hexString(){return this._valid?sO(this._rgb):void 0}hslString(){return this._valid?gO(this._rgb):void 0}mix(e,r){if(e){const n=this.rgb,a=e.rgb;let i;const s=r===i?.5:r,o=2*s-1,l=n.a-a.a,u=((o*l===-1?o:(o+l)/(1+o*l))+1)/2;i=1-u,n.r=255&u*n.r+i*a.r+.5,n.g=255&u*n.g+i*a.g+.5,n.b=255&u*n.b+i*a.b+.5,n.a=s*n.a+(1-s)*a.a,this.rgb=n}return this}interpolate(e,r){return e&&(this._rgb=wO(this._rgb,e._rgb,r)),this}clone(){return new Dc(this.rgb)}alpha(e){return this._rgb.a=es(e),this}clearer(e){const r=this._rgb;return r.a*=1-e,this}greyscale(){const e=this._rgb,r=a0(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=r,this}opaquer(e){const r=this._rgb;return r.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return tf(this._rgb,2,e),this}darken(e){return tf(this._rgb,2,-e),this}saturate(e){return tf(this._rgb,1,e),this}desaturate(e){return tf(this._rgb,1,-e),this}rotate(e){return pO(this._rgb,e),this}}/*!
 * Chart.js v4.4.8
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */const SO=(()=>{let t=0;return()=>t++})();function Ht(t){return t==null}function mr(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function St(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function vr(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function Nn(t,e){return vr(t)?t:e}function Bt(t,e){return typeof t>"u"?e:t}const kO=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function pr(t,e,r){if(t&&typeof t.call=="function")return t.apply(r,e)}function rn(t,e,r,n){let a,i,s;if(mr(t))if(i=t.length,n)for(a=i-1;a>=0;a--)e.call(r,t[a],a);else for(a=0;a<i;a++)e.call(r,t[a],a);else if(St(t))for(s=Object.keys(t),i=s.length,a=0;a<i;a++)e.call(r,t[s[a]],s[a])}function ib(t,e){let r,n,a,i;if(!t||!e||t.length!==e.length)return!1;for(r=0,n=t.length;r<n;++r)if(a=t[r],i=e[r],a.datasetIndex!==i.datasetIndex||a.index!==i.index)return!1;return!0}function qd(t){if(mr(t))return t.map(qd);if(St(t)){const e=Object.create(null),r=Object.keys(t),n=r.length;let a=0;for(;a<n;++a)e[r[a]]=qd(t[r[a]]);return e}return t}function iS(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function EO(t,e,r,n){if(!iS(t))return;const a=e[t],i=r[t];St(a)&&St(i)?Pc(a,i,n):e[t]=qd(i)}function Pc(t,e,r){const n=mr(e)?e:[e],a=n.length;if(!St(t))return t;r=r||{};const i=r.merger||EO;let s;for(let o=0;o<a;++o){if(s=n[o],!St(s))continue;const l=Object.keys(s);for(let u=0,c=l.length;u<c;++u)i(l[u],t,s,r)}return t}function Qu(t,e){return Pc(t,e,{merger:CO})}function CO(t,e,r){if(!iS(t))return;const n=e[t],a=r[t];St(n)&&St(a)?Qu(n,a):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=qd(a))}const sb={"":t=>t,x:t=>t.x,y:t=>t.y};function TO(t){const e=t.split("."),r=[];let n="";for(const a of e)n+=a,n.endsWith("\\")?n=n.slice(0,-1)+".":(r.push(n),n="");return r}function MO(t){const e=TO(t);return r=>{for(const n of e){if(n==="")break;r=r&&r[n]}return r}}function Hd(t,e){return(sb[e]||(sb[e]=MO(e)))(t)}function m2(t){return t.charAt(0).toUpperCase()+t.slice(1)}const Vd=t=>typeof t<"u",ls=t=>typeof t=="function",ob=(t,e)=>{if(t.size!==e.size)return!1;for(const r of t)if(!e.has(r))return!1;return!0};function DO(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const qr=Math.PI,Hn=2*qr,PO=Hn+qr,jd=Number.POSITIVE_INFINITY,AO=qr/180,$n=qr/2,Ds=qr/4,lb=qr*2/3,Hi=Math.log10,Rl=Math.sign;function Ju(t,e,r){return Math.abs(t-e)<r}function ub(t){const e=Math.round(t);t=Ju(t,e,t/1e3)?e:t;const r=Math.pow(10,Math.floor(Hi(t))),n=t/r;return(n<=1?1:n<=2?2:n<=5?5:10)*r}function LO(t){const e=[],r=Math.sqrt(t);let n;for(n=1;n<r;n++)t%n===0&&(e.push(n),e.push(t/n));return r===(r|0)&&e.push(r),e.sort((a,i)=>a-i).pop(),e}function RO(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function Ac(t){return!RO(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function OO(t,e){const r=Math.round(t);return r-e<=t&&r+e>=t}function sS(t,e,r){let n,a,i;for(n=0,a=t.length;n<a;n++)i=t[n][r],isNaN(i)||(e.min=Math.min(e.min,i),e.max=Math.max(e.max,i))}function Vi(t){return t*(qr/180)}function v2(t){return t*(180/qr)}function cb(t){if(!vr(t))return;let e=1,r=0;for(;Math.round(t*e)/e!==t;)e*=10,r++;return r}function IO(t,e){const r=e.x-t.x,n=e.y-t.y,a=Math.sqrt(r*r+n*n);let i=Math.atan2(n,r);return i<-.5*qr&&(i+=Hn),{angle:i,distance:a}}function fb(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function NO(t,e){return(t-e+PO)%Hn-qr}function Bn(t){return(t%Hn+Hn)%Hn}function oS(t,e,r,n){const a=Bn(t),i=Bn(e),s=Bn(r),o=Bn(i-a),l=Bn(s-a),u=Bn(a-i),c=Bn(a-s);return a===i||a===s||n&&i===s||o>l&&u<c}function ai(t,e,r){return Math.max(e,Math.min(r,t))}function zO(t){return ai(t,-32768,32767)}function lS(t,e,r,n=1e-6){return t>=Math.min(e,r)-n&&t<=Math.max(e,r)+n}function y2(t,e,r){r=r||(s=>t[s]<e);let n=t.length-1,a=0,i;for(;n-a>1;)i=a+n>>1,r(i)?a=i:n=i;return{lo:a,hi:n}}const Ws=(t,e,r,n)=>y2(t,r,n?a=>{const i=t[a][e];return i<r||i===r&&t[a+1][e]===r}:a=>t[a][e]<r),BO=(t,e,r)=>y2(t,r,n=>t[n][e]>=r);function FO(t,e,r){let n=0,a=t.length;for(;n<a&&t[n]<e;)n++;for(;a>n&&t[a-1]>r;)a--;return n>0||a<t.length?t.slice(n,a):t}const uS=["push","pop","shift","splice","unshift"];function $O(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),uS.forEach(r=>{const n="_onData"+m2(r),a=t[r];Object.defineProperty(t,r,{configurable:!0,enumerable:!1,value(...i){const s=a.apply(this,i);return t._chartjs.listeners.forEach(o=>{typeof o[n]=="function"&&o[n](...i)}),s}})})}function db(t,e){const r=t._chartjs;if(!r)return;const n=r.listeners,a=n.indexOf(e);a!==-1&&n.splice(a,1),!(n.length>0)&&(uS.forEach(i=>{delete t[i]}),delete t._chartjs)}function qO(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const cS=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function fS(t,e){let r=[],n=!1;return function(...a){r=a,n||(n=!0,cS.call(window,()=>{n=!1,t.apply(e,r)}))}}function HO(t,e){let r;return function(...n){return e?(clearTimeout(r),r=setTimeout(t,e,n)):t.apply(this,n),e}}const VO=t=>t==="start"?"left":t==="end"?"right":"center",hb=(t,e,r)=>t==="start"?e:t==="end"?r:(e+r)/2;function jO(t,e,r){const n=e.length;let a=0,i=n;if(t._sorted){const{iScale:s,vScale:o,_parsed:l}=t,u=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,c=s.axis,{min:f,max:d,minDefined:p,maxDefined:g}=s.getUserBounds();if(p){if(a=Math.min(Ws(l,c,f).lo,r?n:Ws(e,c,s.getPixelForValue(f)).lo),u){const y=l.slice(0,a+1).reverse().findIndex(x=>!Ht(x[o.axis]));a-=Math.max(0,y)}a=ai(a,0,n-1)}if(g){let y=Math.max(Ws(l,s.axis,d,!0).hi+1,r?0:Ws(e,c,s.getPixelForValue(d),!0).hi+1);if(u){const x=l.slice(y-1).findIndex(b=>!Ht(b[o.axis]));y+=Math.max(0,x)}i=ai(y,a,n)-a}else i=n-a}return{start:a,count:i}}function UO(t){const{xScale:e,yScale:r,_scaleRanges:n}=t,a={xmin:e.min,xmax:e.max,ymin:r.min,ymax:r.max};if(!n)return t._scaleRanges=a,!0;const i=n.xmin!==e.min||n.xmax!==e.max||n.ymin!==r.min||n.ymax!==r.max;return Object.assign(n,a),i}const rf=t=>t===0||t===1,pb=(t,e,r)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*Hn/r)),gb=(t,e,r)=>Math.pow(2,-10*t)*Math.sin((t-e)*Hn/r)+1,ec={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*$n)+1,easeOutSine:t=>Math.sin(t*$n),easeInOutSine:t=>-.5*(Math.cos(qr*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>rf(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>rf(t)?t:pb(t,.075,.3),easeOutElastic:t=>rf(t)?t:gb(t,.075,.3),easeInOutElastic(t){return rf(t)?t:t<.5?.5*pb(t*2,.1125,.45):.5+.5*gb(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-ec.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?ec.easeInBounce(t*2)*.5:ec.easeOutBounce(t*2-1)*.5+.5};function b2(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function mb(t){return b2(t)?t:new Dc(t)}function Mg(t){return b2(t)?t:new Dc(t).saturate(.5).darken(.1).hexString()}const WO=["x","y","borderWidth","radius","tension"],GO=["color","borderColor","backgroundColor"];function YO(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:GO},numbers:{type:"number",properties:WO}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function XO(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const vb=new Map;function KO(t,e){e=e||{};const r=t+JSON.stringify(e);let n=vb.get(r);return n||(n=new Intl.NumberFormat(t,e),vb.set(r,n)),n}function x2(t,e,r){return KO(e,r).format(t)}const dS={values(t){return mr(t)?t:""+t},numeric(t,e,r){if(t===0)return"0";const n=this.chart.options.locale;let a,i=t;if(r.length>1){const u=Math.max(Math.abs(r[0].value),Math.abs(r[r.length-1].value));(u<1e-4||u>1e15)&&(a="scientific"),i=ZO(t,r)}const s=Hi(Math.abs(i)),o=isNaN(s)?1:Math.max(Math.min(-1*Math.floor(s),20),0),l={notation:a,minimumFractionDigits:o,maximumFractionDigits:o};return Object.assign(l,this.options.ticks.format),x2(t,n,l)},logarithmic(t,e,r){if(t===0)return"0";const n=r[e].significand||t/Math.pow(10,Math.floor(Hi(t)));return[1,2,3,5,10,15].includes(n)||e>.8*r.length?dS.numeric.call(this,t,e,r):""}};function ZO(t,e){let r=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(r)>=1&&t!==Math.floor(t)&&(r=t-Math.floor(t)),r}var Wh={formatters:dS};function QO(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,r)=>r.lineWidth,tickColor:(e,r)=>r.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Wh.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const oo=Object.create(null),E1=Object.create(null);function tc(t,e){if(!e)return t;const r=e.split(".");for(let n=0,a=r.length;n<a;++n){const i=r[n];t=t[i]||(t[i]=Object.create(null))}return t}function Dg(t,e,r){return typeof e=="string"?Pc(tc(t,e),r):Pc(tc(t,""),e)}class JO{constructor(e,r){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=n=>n.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(n,a)=>Mg(a.backgroundColor),this.hoverBorderColor=(n,a)=>Mg(a.borderColor),this.hoverColor=(n,a)=>Mg(a.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(r)}set(e,r){return Dg(this,e,r)}get(e){return tc(this,e)}describe(e,r){return Dg(E1,e,r)}override(e,r){return Dg(oo,e,r)}route(e,r,n,a){const i=tc(this,e),s=tc(this,n),o="_"+r;Object.defineProperties(i,{[o]:{value:i[r],writable:!0},[r]:{enumerable:!0,get(){const l=this[o],u=s[a];return St(l)?Object.assign({},u,l):Bt(l,u)},set(l){this[o]=l}}})}apply(e){e.forEach(r=>r(this))}}var _r=new JO({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[YO,XO,QO]);function eI(t){return!t||Ht(t.size)||Ht(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function Ud(t,e,r,n,a){let i=e[a];return i||(i=e[a]=t.measureText(a).width,r.push(a)),i>n&&(n=i),n}function tI(t,e,r,n){n=n||{};let a=n.data=n.data||{},i=n.garbageCollect=n.garbageCollect||[];n.font!==e&&(a=n.data={},i=n.garbageCollect=[],n.font=e),t.save(),t.font=e;let s=0;const o=r.length;let l,u,c,f,d;for(l=0;l<o;l++)if(f=r[l],f!=null&&!mr(f))s=Ud(t,a,i,s,f);else if(mr(f))for(u=0,c=f.length;u<c;u++)d=f[u],d!=null&&!mr(d)&&(s=Ud(t,a,i,s,d));t.restore();const p=i.length/2;if(p>r.length){for(l=0;l<p;l++)delete a[i[l]];i.splice(0,p)}return s}function Ps(t,e,r){const n=t.currentDevicePixelRatio,a=r!==0?Math.max(r/2,.5):0;return Math.round((e-a)*n)/n+a}function yb(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function rI(t,e,r,n){nI(t,e,r,n,null)}function nI(t,e,r,n,a){let i,s,o,l,u,c,f,d;const p=e.pointStyle,g=e.rotation,y=e.radius;let x=(g||0)*AO;if(p&&typeof p=="object"&&(i=p.toString(),i==="[object HTMLImageElement]"||i==="[object HTMLCanvasElement]")){t.save(),t.translate(r,n),t.rotate(x),t.drawImage(p,-p.width/2,-p.height/2,p.width,p.height),t.restore();return}if(!(isNaN(y)||y<=0)){switch(t.beginPath(),p){default:a?t.ellipse(r,n,a/2,y,0,0,Hn):t.arc(r,n,y,0,Hn),t.closePath();break;case"triangle":c=a?a/2:y,t.moveTo(r+Math.sin(x)*c,n-Math.cos(x)*y),x+=lb,t.lineTo(r+Math.sin(x)*c,n-Math.cos(x)*y),x+=lb,t.lineTo(r+Math.sin(x)*c,n-Math.cos(x)*y),t.closePath();break;case"rectRounded":u=y*.516,l=y-u,s=Math.cos(x+Ds)*l,f=Math.cos(x+Ds)*(a?a/2-u:l),o=Math.sin(x+Ds)*l,d=Math.sin(x+Ds)*(a?a/2-u:l),t.arc(r-f,n-o,u,x-qr,x-$n),t.arc(r+d,n-s,u,x-$n,x),t.arc(r+f,n+o,u,x,x+$n),t.arc(r-d,n+s,u,x+$n,x+qr),t.closePath();break;case"rect":if(!g){l=Math.SQRT1_2*y,c=a?a/2:l,t.rect(r-c,n-l,2*c,2*l);break}x+=Ds;case"rectRot":f=Math.cos(x)*(a?a/2:y),s=Math.cos(x)*y,o=Math.sin(x)*y,d=Math.sin(x)*(a?a/2:y),t.moveTo(r-f,n-o),t.lineTo(r+d,n-s),t.lineTo(r+f,n+o),t.lineTo(r-d,n+s),t.closePath();break;case"crossRot":x+=Ds;case"cross":f=Math.cos(x)*(a?a/2:y),s=Math.cos(x)*y,o=Math.sin(x)*y,d=Math.sin(x)*(a?a/2:y),t.moveTo(r-f,n-o),t.lineTo(r+f,n+o),t.moveTo(r+d,n-s),t.lineTo(r-d,n+s);break;case"star":f=Math.cos(x)*(a?a/2:y),s=Math.cos(x)*y,o=Math.sin(x)*y,d=Math.sin(x)*(a?a/2:y),t.moveTo(r-f,n-o),t.lineTo(r+f,n+o),t.moveTo(r+d,n-s),t.lineTo(r-d,n+s),x+=Ds,f=Math.cos(x)*(a?a/2:y),s=Math.cos(x)*y,o=Math.sin(x)*y,d=Math.sin(x)*(a?a/2:y),t.moveTo(r-f,n-o),t.lineTo(r+f,n+o),t.moveTo(r+d,n-s),t.lineTo(r-d,n+s);break;case"line":s=a?a/2:Math.cos(x)*y,o=Math.sin(x)*y,t.moveTo(r-s,n-o),t.lineTo(r+s,n+o);break;case"dash":t.moveTo(r,n),t.lineTo(r+Math.cos(x)*(a?a/2:y),n+Math.sin(x)*y);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function ii(t,e,r){return r=r||.5,!e||t&&t.x>e.left-r&&t.x<e.right+r&&t.y>e.top-r&&t.y<e.bottom+r}function w2(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function _2(t){t.restore()}function aI(t,e,r,n,a){if(!e)return t.lineTo(r.x,r.y);if(a==="middle"){const i=(e.x+r.x)/2;t.lineTo(i,e.y),t.lineTo(i,r.y)}else a==="after"!=!!n?t.lineTo(e.x,r.y):t.lineTo(r.x,e.y);t.lineTo(r.x,r.y)}function iI(t,e,r,n){if(!e)return t.lineTo(r.x,r.y);t.bezierCurveTo(n?e.cp1x:e.cp2x,n?e.cp1y:e.cp2y,n?r.cp2x:r.cp1x,n?r.cp2y:r.cp1y,r.x,r.y)}function sI(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),Ht(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function oI(t,e,r,n,a){if(a.strikethrough||a.underline){const i=t.measureText(n),s=e-i.actualBoundingBoxLeft,o=e+i.actualBoundingBoxRight,l=r-i.actualBoundingBoxAscent,u=r+i.actualBoundingBoxDescent,c=a.strikethrough?(l+u)/2:u;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=a.decorationWidth||2,t.moveTo(s,c),t.lineTo(o,c),t.stroke()}}function lI(t,e){const r=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=r}function Wd(t,e,r,n,a,i={}){const s=mr(e)?e:[e],o=i.strokeWidth>0&&i.strokeColor!=="";let l,u;for(t.save(),t.font=a.string,sI(t,i),l=0;l<s.length;++l)u=s[l],i.backdrop&&lI(t,i.backdrop),o&&(i.strokeColor&&(t.strokeStyle=i.strokeColor),Ht(i.strokeWidth)||(t.lineWidth=i.strokeWidth),t.strokeText(u,r,n,i.maxWidth)),t.fillText(u,r,n,i.maxWidth),oI(t,r,n,u,i),n+=Number(a.lineHeight);t.restore()}function uI(t,e){const{x:r,y:n,w:a,h:i,radius:s}=e;t.arc(r+s.topLeft,n+s.topLeft,s.topLeft,1.5*qr,qr,!0),t.lineTo(r,n+i-s.bottomLeft),t.arc(r+s.bottomLeft,n+i-s.bottomLeft,s.bottomLeft,qr,$n,!0),t.lineTo(r+a-s.bottomRight,n+i),t.arc(r+a-s.bottomRight,n+i-s.bottomRight,s.bottomRight,$n,0,!0),t.lineTo(r+a,n+s.topRight),t.arc(r+a-s.topRight,n+s.topRight,s.topRight,0,-$n,!0),t.lineTo(r+s.topLeft,n)}const cI=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,fI=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function dI(t,e){const r=(""+t).match(cI);if(!r||r[1]==="normal")return e*1.2;switch(t=+r[2],r[3]){case"px":return t;case"%":t/=100;break}return e*t}const hI=t=>+t||0;function hS(t,e){const r={},n=St(e),a=n?Object.keys(e):e,i=St(t)?n?s=>Bt(t[s],t[e[s]]):s=>t[s]:()=>t;for(const s of a)r[s]=hI(i(s));return r}function pI(t){return hS(t,{top:"y",right:"x",bottom:"y",left:"x"})}function gI(t){return hS(t,["topLeft","topRight","bottomLeft","bottomRight"])}function vi(t){const e=pI(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Ol(t,e){t=t||{},e=e||_r.font;let r=Bt(t.size,e.size);typeof r=="string"&&(r=parseInt(r,10));let n=Bt(t.style,e.style);n&&!(""+n).match(fI)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);const a={family:Bt(t.family,e.family),lineHeight:dI(Bt(t.lineHeight,e.lineHeight),r),size:r,style:n,weight:Bt(t.weight,e.weight),string:""};return a.string=eI(a),a}function nf(t,e,r,n){let a=!0,i,s,o;for(i=0,s=t.length;i<s;++i)if(o=t[i],o!==void 0&&(e!==void 0&&typeof o=="function"&&(o=o(e),a=!1),r!==void 0&&mr(o)&&(o=o[r%o.length],a=!1),o!==void 0))return n&&!a&&(n.cacheable=!1),o}function mI(t,e,r){const{min:n,max:a}=t,i=kO(e,(a-n)/2),s=(o,l)=>r&&o===0?0:o+l;return{min:s(n,-Math.abs(i)),max:s(a,i)}}function yo(t,e){return Object.assign(Object.create(t),e)}function S2(t,e=[""],r,n,a=()=>t[0]){const i=r||t;typeof n>"u"&&(n=vS("_fallback",t));const s={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:i,_fallback:n,_getTarget:a,override:o=>S2([o,...t],e,i,n)};return new Proxy(s,{deleteProperty(o,l){return delete o[l],delete o._keys,delete t[0][l],!0},get(o,l){return gS(o,l,()=>kI(l,e,t,o))},getOwnPropertyDescriptor(o,l){return Reflect.getOwnPropertyDescriptor(o._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(o,l){return xb(o).includes(l)},ownKeys(o){return xb(o)},set(o,l,u){const c=o._storage||(o._storage=a());return o[l]=c[l]=u,delete o._keys,!0}})}function Il(t,e,r,n){const a={_cacheable:!1,_proxy:t,_context:e,_subProxy:r,_stack:new Set,_descriptors:pS(t,n),setContext:i=>Il(t,i,r,n),override:i=>Il(t.override(i),e,r,n)};return new Proxy(a,{deleteProperty(i,s){return delete i[s],delete t[s],!0},get(i,s,o){return gS(i,s,()=>yI(i,s,o))},getOwnPropertyDescriptor(i,s){return i._descriptors.allKeys?Reflect.has(t,s)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,s)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(i,s){return Reflect.has(t,s)},ownKeys(){return Reflect.ownKeys(t)},set(i,s,o){return t[s]=o,delete i[s],!0}})}function pS(t,e={scriptable:!0,indexable:!0}){const{_scriptable:r=e.scriptable,_indexable:n=e.indexable,_allKeys:a=e.allKeys}=t;return{allKeys:a,scriptable:r,indexable:n,isScriptable:ls(r)?r:()=>r,isIndexable:ls(n)?n:()=>n}}const vI=(t,e)=>t?t+m2(e):e,k2=(t,e)=>St(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function gS(t,e,r){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const n=r();return t[e]=n,n}function yI(t,e,r){const{_proxy:n,_context:a,_subProxy:i,_descriptors:s}=t;let o=n[e];return ls(o)&&s.isScriptable(e)&&(o=bI(e,o,t,r)),mr(o)&&o.length&&(o=xI(e,o,t,s.isIndexable)),k2(e,o)&&(o=Il(o,a,i&&i[e],s)),o}function bI(t,e,r,n){const{_proxy:a,_context:i,_subProxy:s,_stack:o}=r;if(o.has(t))throw new Error("Recursion detected: "+Array.from(o).join("->")+"->"+t);o.add(t);let l=e(i,s||n);return o.delete(t),k2(t,l)&&(l=E2(a._scopes,a,t,l)),l}function xI(t,e,r,n){const{_proxy:a,_context:i,_subProxy:s,_descriptors:o}=r;if(typeof i.index<"u"&&n(t))return e[i.index%e.length];if(St(e[0])){const l=e,u=a._scopes.filter(c=>c!==l);e=[];for(const c of l){const f=E2(u,a,t,c);e.push(Il(f,i,s&&s[t],o))}}return e}function mS(t,e,r){return ls(t)?t(e,r):t}const wI=(t,e)=>t===!0?e:typeof t=="string"?Hd(e,t):void 0;function _I(t,e,r,n,a){for(const i of e){const s=wI(r,i);if(s){t.add(s);const o=mS(s._fallback,r,a);if(typeof o<"u"&&o!==r&&o!==n)return o}else if(s===!1&&typeof n<"u"&&r!==n)return null}return!1}function E2(t,e,r,n){const a=e._rootScopes,i=mS(e._fallback,r,n),s=[...t,...a],o=new Set;o.add(n);let l=bb(o,s,r,i||r,n);return l===null||typeof i<"u"&&i!==r&&(l=bb(o,s,i,l,n),l===null)?!1:S2(Array.from(o),[""],a,i,()=>SI(e,r,n))}function bb(t,e,r,n,a){for(;r;)r=_I(t,e,r,n,a);return r}function SI(t,e,r){const n=t._getTarget();e in n||(n[e]={});const a=n[e];return mr(a)&&St(r)?r:a||{}}function kI(t,e,r,n){let a;for(const i of e)if(a=vS(vI(i,t),r),typeof a<"u")return k2(t,a)?E2(r,n,t,a):a}function vS(t,e){for(const r of e){if(!r)continue;const n=r[t];if(typeof n<"u")return n}}function xb(t){let e=t._keys;return e||(e=t._keys=EI(t._scopes)),e}function EI(t){const e=new Set;for(const r of t)for(const n of Object.keys(r).filter(a=>!a.startsWith("_")))e.add(n);return Array.from(e)}const CI=Number.EPSILON||1e-14,Nl=(t,e)=>e<t.length&&!t[e].skip&&t[e],yS=t=>t==="x"?"y":"x";function TI(t,e,r,n){const a=t.skip?e:t,i=e,s=r.skip?e:r,o=fb(i,a),l=fb(s,i);let u=o/(o+l),c=l/(o+l);u=isNaN(u)?0:u,c=isNaN(c)?0:c;const f=n*u,d=n*c;return{previous:{x:i.x-f*(s.x-a.x),y:i.y-f*(s.y-a.y)},next:{x:i.x+d*(s.x-a.x),y:i.y+d*(s.y-a.y)}}}function MI(t,e,r){const n=t.length;let a,i,s,o,l,u=Nl(t,0);for(let c=0;c<n-1;++c)if(l=u,u=Nl(t,c+1),!(!l||!u)){if(Ju(e[c],0,CI)){r[c]=r[c+1]=0;continue}a=r[c]/e[c],i=r[c+1]/e[c],o=Math.pow(a,2)+Math.pow(i,2),!(o<=9)&&(s=3/Math.sqrt(o),r[c]=a*s*e[c],r[c+1]=i*s*e[c])}}function DI(t,e,r="x"){const n=yS(r),a=t.length;let i,s,o,l=Nl(t,0);for(let u=0;u<a;++u){if(s=o,o=l,l=Nl(t,u+1),!o)continue;const c=o[r],f=o[n];s&&(i=(c-s[r])/3,o[`cp1${r}`]=c-i,o[`cp1${n}`]=f-i*e[u]),l&&(i=(l[r]-c)/3,o[`cp2${r}`]=c+i,o[`cp2${n}`]=f+i*e[u])}}function PI(t,e="x"){const r=yS(e),n=t.length,a=Array(n).fill(0),i=Array(n);let s,o,l,u=Nl(t,0);for(s=0;s<n;++s)if(o=l,l=u,u=Nl(t,s+1),!!l){if(u){const c=u[e]-l[e];a[s]=c!==0?(u[r]-l[r])/c:0}i[s]=o?u?Rl(a[s-1])!==Rl(a[s])?0:(a[s-1]+a[s])/2:a[s-1]:a[s]}MI(t,a,i),DI(t,i,e)}function af(t,e,r){return Math.max(Math.min(t,r),e)}function AI(t,e){let r,n,a,i,s,o=ii(t[0],e);for(r=0,n=t.length;r<n;++r)s=i,i=o,o=r<n-1&&ii(t[r+1],e),i&&(a=t[r],s&&(a.cp1x=af(a.cp1x,e.left,e.right),a.cp1y=af(a.cp1y,e.top,e.bottom)),o&&(a.cp2x=af(a.cp2x,e.left,e.right),a.cp2y=af(a.cp2y,e.top,e.bottom)))}function LI(t,e,r,n,a){let i,s,o,l;if(e.spanGaps&&(t=t.filter(u=>!u.skip)),e.cubicInterpolationMode==="monotone")PI(t,a);else{let u=n?t[t.length-1]:t[0];for(i=0,s=t.length;i<s;++i)o=t[i],l=TI(u,o,t[Math.min(i+1,s-(n?0:1))%s],e.tension),o.cp1x=l.previous.x,o.cp1y=l.previous.y,o.cp2x=l.next.x,o.cp2y=l.next.y,u=o}e.capBezierPoints&&AI(t,r)}function C2(){return typeof window<"u"&&typeof document<"u"}function T2(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Gd(t,e,r){let n;return typeof t=="string"?(n=parseInt(t,10),t.indexOf("%")!==-1&&(n=n/100*e.parentNode[r])):n=t,n}const Gh=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function RI(t,e){return Gh(t).getPropertyValue(e)}const OI=["top","right","bottom","left"];function Js(t,e,r){const n={};r=r?"-"+r:"";for(let a=0;a<4;a++){const i=OI[a];n[i]=parseFloat(t[e+"-"+i+r])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}const II=(t,e,r)=>(t>0||e>0)&&(!r||!r.shadowRoot);function NI(t,e){const r=t.touches,n=r&&r.length?r[0]:t,{offsetX:a,offsetY:i}=n;let s=!1,o,l;if(II(a,i,t.target))o=a,l=i;else{const u=e.getBoundingClientRect();o=n.clientX-u.left,l=n.clientY-u.top,s=!0}return{x:o,y:l,box:s}}function Ns(t,e){if("native"in t)return t;const{canvas:r,currentDevicePixelRatio:n}=e,a=Gh(r),i=a.boxSizing==="border-box",s=Js(a,"padding"),o=Js(a,"border","width"),{x:l,y:u,box:c}=NI(t,r),f=s.left+(c&&o.left),d=s.top+(c&&o.top);let{width:p,height:g}=e;return i&&(p-=s.width+o.width,g-=s.height+o.height),{x:Math.round((l-f)/p*r.width/n),y:Math.round((u-d)/g*r.height/n)}}function zI(t,e,r){let n,a;if(e===void 0||r===void 0){const i=t&&T2(t);if(!i)e=t.clientWidth,r=t.clientHeight;else{const s=i.getBoundingClientRect(),o=Gh(i),l=Js(o,"border","width"),u=Js(o,"padding");e=s.width-u.width-l.width,r=s.height-u.height-l.height,n=Gd(o.maxWidth,i,"clientWidth"),a=Gd(o.maxHeight,i,"clientHeight")}}return{width:e,height:r,maxWidth:n||jd,maxHeight:a||jd}}const sf=t=>Math.round(t*10)/10;function BI(t,e,r,n){const a=Gh(t),i=Js(a,"margin"),s=Gd(a.maxWidth,t,"clientWidth")||jd,o=Gd(a.maxHeight,t,"clientHeight")||jd,l=zI(t,e,r);let{width:u,height:c}=l;if(a.boxSizing==="content-box"){const d=Js(a,"border","width"),p=Js(a,"padding");u-=p.width+d.width,c-=p.height+d.height}return u=Math.max(0,u-i.width),c=Math.max(0,n?u/n:c-i.height),u=sf(Math.min(u,s,l.maxWidth)),c=sf(Math.min(c,o,l.maxHeight)),u&&!c&&(c=sf(u/2)),(e!==void 0||r!==void 0)&&n&&l.height&&c>l.height&&(c=l.height,u=sf(Math.floor(c*n))),{width:u,height:c}}function wb(t,e,r){const n=e||1,a=Math.floor(t.height*n),i=Math.floor(t.width*n);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const s=t.canvas;return s.style&&(r||!s.style.height&&!s.style.width)&&(s.style.height=`${t.height}px`,s.style.width=`${t.width}px`),t.currentDevicePixelRatio!==n||s.height!==a||s.width!==i?(t.currentDevicePixelRatio=n,s.height=a,s.width=i,t.ctx.setTransform(n,0,0,n,0,0),!0):!1}const FI=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};C2()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function _b(t,e){const r=RI(t,e),n=r&&r.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}function zs(t,e,r,n){return{x:t.x+r*(e.x-t.x),y:t.y+r*(e.y-t.y)}}function $I(t,e,r,n){return{x:t.x+r*(e.x-t.x),y:n==="middle"?r<.5?t.y:e.y:n==="after"?r<1?t.y:e.y:r>0?e.y:t.y}}function qI(t,e,r,n){const a={x:t.cp2x,y:t.cp2y},i={x:e.cp1x,y:e.cp1y},s=zs(t,a,r),o=zs(a,i,r),l=zs(i,e,r),u=zs(s,o,r),c=zs(o,l,r);return zs(u,c,r)}function bS(t){return t==="angle"?{between:oS,compare:NO,normalize:Bn}:{between:lS,compare:(e,r)=>e-r,normalize:e=>e}}function Sb({start:t,end:e,count:r,loop:n,style:a}){return{start:t%r,end:e%r,loop:n&&(e-t+1)%r===0,style:a}}function HI(t,e,r){const{property:n,start:a,end:i}=r,{between:s,normalize:o}=bS(n),l=e.length;let{start:u,end:c,loop:f}=t,d,p;if(f){for(u+=l,c+=l,d=0,p=l;d<p&&s(o(e[u%l][n]),a,i);++d)u--,c--;u%=l,c%=l}return c<u&&(c+=l),{start:u,end:c,loop:f,style:t.style}}function xS(t,e,r){if(!r)return[t];const{property:n,start:a,end:i}=r,s=e.length,{compare:o,between:l,normalize:u}=bS(n),{start:c,end:f,loop:d,style:p}=HI(t,e,r),g=[];let y=!1,x=null,b,w,_;const k=()=>l(a,_,b)&&o(a,_)!==0,E=()=>o(i,b)===0||l(i,_,b),D=()=>y||k(),M=()=>!y||E();for(let A=c,R=c;A<=f;++A)w=e[A%s],!w.skip&&(b=u(w[n]),b!==_&&(y=l(b,a,i),x===null&&D()&&(x=o(b,a)===0?A:R),x!==null&&M()&&(g.push(Sb({start:x,end:A,loop:d,count:s,style:p})),x=null),R=A,_=b));return x!==null&&g.push(Sb({start:x,end:f,loop:d,count:s,style:p})),g}function wS(t,e){const r=[],n=t.segments;for(let a=0;a<n.length;a++){const i=xS(n[a],t.points,e);i.length&&r.push(...i)}return r}function VI(t,e,r,n){let a=0,i=e-1;if(r&&!n)for(;a<e&&!t[a].skip;)a++;for(;a<e&&t[a].skip;)a++;for(a%=e,r&&(i+=a);i>a&&t[i%e].skip;)i--;return i%=e,{start:a,end:i}}function jI(t,e,r,n){const a=t.length,i=[];let s=e,o=t[e],l;for(l=e+1;l<=r;++l){const u=t[l%a];u.skip||u.stop?o.skip||(n=!1,i.push({start:e%a,end:(l-1)%a,loop:n}),e=s=u.stop?l:null):(s=l,o.skip&&(e=l)),o=u}return s!==null&&i.push({start:e%a,end:s%a,loop:n}),i}function UI(t,e){const r=t.points,n=t.options.spanGaps,a=r.length;if(!a)return[];const i=!!t._loop,{start:s,end:o}=VI(r,a,i,n);if(n===!0)return kb(t,[{start:s,end:o,loop:i}],r,e);const l=o<s?o+a:o,u=!!t._fullLoop&&s===0&&o===a-1;return kb(t,jI(r,s,l,u),r,e)}function kb(t,e,r,n){return!n||!n.setContext||!r?e:WI(t,e,r,n)}function WI(t,e,r,n){const a=t._chart.getContext(),i=Eb(t.options),{_datasetIndex:s,options:{spanGaps:o}}=t,l=r.length,u=[];let c=i,f=e[0].start,d=f;function p(g,y,x,b){const w=o?-1:1;if(g!==y){for(g+=l;r[g%l].skip;)g-=w;for(;r[y%l].skip;)y+=w;g%l!==y%l&&(u.push({start:g%l,end:y%l,loop:x,style:b}),c=b,f=y%l)}}for(const g of e){f=o?f:g.start;let y=r[f%l],x;for(d=f+1;d<=g.end;d++){const b=r[d%l];x=Eb(n.setContext(yo(a,{type:"segment",p0:y,p1:b,p0DataIndex:(d-1)%l,p1DataIndex:d%l,datasetIndex:s}))),GI(x,c)&&p(f,d-1,g.loop,c),y=b,c=x}f<d-1&&p(f,d-1,g.loop,c)}return u}function Eb(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function GI(t,e){if(!e)return!1;const r=[],n=function(a,i){return b2(i)?(r.includes(i)||r.push(i),r.indexOf(i)):i};return JSON.stringify(t,n)!==JSON.stringify(e,n)}/*!
 * Chart.js v4.4.8
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class YI{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,r,n,a){const i=r.listeners[a],s=r.duration;i.forEach(o=>o({chart:e,initial:r.initial,numSteps:s,currentStep:Math.min(n-r.start,s)}))}_refresh(){this._request||(this._running=!0,this._request=cS.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let r=0;this._charts.forEach((n,a)=>{if(!n.running||!n.items.length)return;const i=n.items;let s=i.length-1,o=!1,l;for(;s>=0;--s)l=i[s],l._active?(l._total>n.duration&&(n.duration=l._total),l.tick(e),o=!0):(i[s]=i[i.length-1],i.pop());o&&(a.draw(),this._notify(a,n,e,"progress")),i.length||(n.running=!1,this._notify(a,n,e,"complete"),n.initial=!1),r+=i.length}),this._lastDate=e,r===0&&(this._running=!1)}_getAnims(e){const r=this._charts;let n=r.get(e);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},r.set(e,n)),n}listen(e,r,n){this._getAnims(e).listeners[r].push(n)}add(e,r){!r||!r.length||this._getAnims(e).items.push(...r)}has(e){return this._getAnims(e).items.length>0}start(e){const r=this._charts.get(e);r&&(r.running=!0,r.start=Date.now(),r.duration=r.items.reduce((n,a)=>Math.max(n,a._duration),0),this._refresh())}running(e){if(!this._running)return!1;const r=this._charts.get(e);return!(!r||!r.running||!r.items.length)}stop(e){const r=this._charts.get(e);if(!r||!r.items.length)return;const n=r.items;let a=n.length-1;for(;a>=0;--a)n[a].cancel();r.items=[],this._notify(e,r,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Ka=new YI;const Cb="transparent",XI={boolean(t,e,r){return r>.5?e:t},color(t,e,r){const n=mb(t||Cb),a=n.valid&&mb(e||Cb);return a&&a.valid?a.mix(n,r).hexString():e},number(t,e,r){return t+(e-t)*r}};let KI=class{constructor(e,r,n,a){const i=r[n];a=nf([e.to,a,i,e.from]);const s=nf([e.from,i,a]);this._active=!0,this._fn=e.fn||XI[e.type||typeof s],this._easing=ec[e.easing]||ec.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=r,this._prop=n,this._from=s,this._to=a,this._promises=void 0}active(){return this._active}update(e,r,n){if(this._active){this._notify(!1);const a=this._target[this._prop],i=n-this._start,s=this._duration-i;this._start=n,this._duration=Math.floor(Math.max(s,e.duration)),this._total+=i,this._loop=!!e.loop,this._to=nf([e.to,r,a,e.from]),this._from=nf([e.from,a,r])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const r=e-this._start,n=this._duration,a=this._prop,i=this._from,s=this._loop,o=this._to;let l;if(this._active=i!==o&&(s||r<n),!this._active){this._target[a]=o,this._notify(!0);return}if(r<0){this._target[a]=i;return}l=r/n%2,l=s&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[a]=this._fn(i,o,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((r,n)=>{e.push({res:r,rej:n})})}_notify(e){const r=e?"res":"rej",n=this._promises||[];for(let a=0;a<n.length;a++)n[a][r]()}};class ZI{constructor(e,r){this._chart=e,this._properties=new Map,this.configure(r)}configure(e){if(!St(e))return;const r=Object.keys(_r.animation),n=this._properties;Object.getOwnPropertyNames(e).forEach(a=>{const i=e[a];if(!St(i))return;const s={};for(const o of r)s[o]=i[o];(mr(i.properties)&&i.properties||[a]).forEach(o=>{(o===a||!n.has(o))&&n.set(o,s)})})}_animateOptions(e,r){const n=r.options,a=JI(e,n);if(!a)return[];const i=this._createAnimations(a,n);return n.$shared&&QI(e.options.$animations,n).then(()=>{e.options=n},()=>{}),i}_createAnimations(e,r){const n=this._properties,a=[],i=e.$animations||(e.$animations={}),s=Object.keys(r),o=Date.now();let l;for(l=s.length-1;l>=0;--l){const u=s[l];if(u.charAt(0)==="$")continue;if(u==="options"){a.push(...this._animateOptions(e,r));continue}const c=r[u];let f=i[u];const d=n.get(u);if(f)if(d&&f.active()){f.update(d,c,o);continue}else f.cancel();if(!d||!d.duration){e[u]=c;continue}i[u]=f=new KI(d,e,u,c),a.push(f)}return a}update(e,r){if(this._properties.size===0){Object.assign(e,r);return}const n=this._createAnimations(e,r);if(n.length)return Ka.add(this._chart,n),!0}}function QI(t,e){const r=[],n=Object.keys(e);for(let a=0;a<n.length;a++){const i=t[n[a]];i&&i.active()&&r.push(i.wait())}return Promise.all(r)}function JI(t,e){if(!e)return;let r=t.options;if(!r){t.options=e;return}return r.$shared&&(t.options=r=Object.assign({},r,{$shared:!1,$animations:{}})),r}function Tb(t,e){const r=t&&t.options||{},n=r.reverse,a=r.min===void 0?e:0,i=r.max===void 0?e:0;return{start:n?i:a,end:n?a:i}}function eN(t,e,r){if(r===!1)return!1;const n=Tb(t,r),a=Tb(e,r);return{top:a.end,right:n.end,bottom:a.start,left:n.start}}function tN(t){let e,r,n,a;return St(t)?(e=t.top,r=t.right,n=t.bottom,a=t.left):e=r=n=a=t,{top:e,right:r,bottom:n,left:a,disabled:t===!1}}function _S(t,e){const r=[],n=t._getSortedDatasetMetas(e);let a,i;for(a=0,i=n.length;a<i;++a)r.push(n[a].index);return r}function Mb(t,e,r,n={}){const a=t.keys,i=n.mode==="single";let s,o,l,u;if(e===null)return;let c=!1;for(s=0,o=a.length;s<o;++s){if(l=+a[s],l===r){if(c=!0,n.all)continue;break}u=t.values[l],vr(u)&&(i||e===0||Rl(e)===Rl(u))&&(e+=u)}return!c&&!n.all?0:e}function rN(t,e){const{iScale:r,vScale:n}=e,a=r.axis==="x"?"x":"y",i=n.axis==="x"?"x":"y",s=Object.keys(t),o=new Array(s.length);let l,u,c;for(l=0,u=s.length;l<u;++l)c=s[l],o[l]={[a]:c,[i]:t[c]};return o}function Pg(t,e){const r=t&&t.options.stacked;return r||r===void 0&&e.stack!==void 0}function nN(t,e,r){return`${t.id}.${e.id}.${r.stack||r.type}`}function aN(t){const{min:e,max:r,minDefined:n,maxDefined:a}=t.getUserBounds();return{min:n?e:Number.NEGATIVE_INFINITY,max:a?r:Number.POSITIVE_INFINITY}}function iN(t,e,r){const n=t[e]||(t[e]={});return n[r]||(n[r]={})}function Db(t,e,r,n){for(const a of e.getMatchingVisibleMetas(n).reverse()){const i=t[a.index];if(r&&i>0||!r&&i<0)return a.index}return null}function Pb(t,e){const{chart:r,_cachedMeta:n}=t,a=r._stacks||(r._stacks={}),{iScale:i,vScale:s,index:o}=n,l=i.axis,u=s.axis,c=nN(i,s,n),f=e.length;let d;for(let p=0;p<f;++p){const g=e[p],{[l]:y,[u]:x}=g,b=g._stacks||(g._stacks={});d=b[u]=iN(a,c,y),d[o]=x,d._top=Db(d,s,!0,n.type),d._bottom=Db(d,s,!1,n.type);const w=d._visualValues||(d._visualValues={});w[o]=x}}function Ag(t,e){const r=t.scales;return Object.keys(r).filter(n=>r[n].axis===e).shift()}function sN(t,e){return yo(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function oN(t,e,r){return yo(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:r,index:e,mode:"default",type:"data"})}function yu(t,e){const r=t.controller.index,n=t.vScale&&t.vScale.axis;if(n){e=e||t._parsed;for(const a of e){const i=a._stacks;if(!i||i[n]===void 0||i[n][r]===void 0)return;delete i[n][r],i[n]._visualValues!==void 0&&i[n]._visualValues[r]!==void 0&&delete i[n]._visualValues[r]}}}const Lg=t=>t==="reset"||t==="none",Ab=(t,e)=>e?t:Object.assign({},t),lN=(t,e,r)=>t&&!e.hidden&&e._stacked&&{keys:_S(r,!0),values:null};class rc{constructor(e,r){this.chart=e,this._ctx=e.ctx,this.index=r,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Pg(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&yu(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,r=this._cachedMeta,n=this.getDataset(),a=(f,d,p,g)=>f==="x"?d:f==="r"?g:p,i=r.xAxisID=Bt(n.xAxisID,Ag(e,"x")),s=r.yAxisID=Bt(n.yAxisID,Ag(e,"y")),o=r.rAxisID=Bt(n.rAxisID,Ag(e,"r")),l=r.indexAxis,u=r.iAxisID=a(l,i,s,o),c=r.vAxisID=a(l,s,i,o);r.xScale=this.getScaleForId(i),r.yScale=this.getScaleForId(s),r.rScale=this.getScaleForId(o),r.iScale=this.getScaleForId(u),r.vScale=this.getScaleForId(c)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const r=this._cachedMeta;return e===r.iScale?r.vScale:r.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&db(this._data,this),e._stacked&&yu(e)}_dataCheck(){const e=this.getDataset(),r=e.data||(e.data=[]),n=this._data;if(St(r)){const a=this._cachedMeta;this._data=rN(r,a)}else if(n!==r){if(n){db(n,this);const a=this._cachedMeta;yu(a),a._parsed=[]}r&&Object.isExtensible(r)&&$O(r,this),this._syncList=[],this._data=r}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const r=this._cachedMeta,n=this.getDataset();let a=!1;this._dataCheck();const i=r._stacked;r._stacked=Pg(r.vScale,r),r.stack!==n.stack&&(a=!0,yu(r),r.stack=n.stack),this._resyncElements(e),(a||i!==r._stacked)&&(Pb(this,r._parsed),r._stacked=Pg(r.vScale,r))}configure(){const e=this.chart.config,r=e.datasetScopeKeys(this._type),n=e.getOptionScopes(this.getDataset(),r,!0);this.options=e.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,r){const{_cachedMeta:n,_data:a}=this,{iScale:i,_stacked:s}=n,o=i.axis;let l=e===0&&r===a.length?!0:n._sorted,u=e>0&&n._parsed[e-1],c,f,d;if(this._parsing===!1)n._parsed=a,n._sorted=!0,d=a;else{mr(a[e])?d=this.parseArrayData(n,a,e,r):St(a[e])?d=this.parseObjectData(n,a,e,r):d=this.parsePrimitiveData(n,a,e,r);const p=()=>f[o]===null||u&&f[o]<u[o];for(c=0;c<r;++c)n._parsed[c+e]=f=d[c],l&&(p()&&(l=!1),u=f);n._sorted=l}s&&Pb(this,d)}parsePrimitiveData(e,r,n,a){const{iScale:i,vScale:s}=e,o=i.axis,l=s.axis,u=i.getLabels(),c=i===s,f=new Array(a);let d,p,g;for(d=0,p=a;d<p;++d)g=d+n,f[d]={[o]:c||i.parse(u[g],g),[l]:s.parse(r[g],g)};return f}parseArrayData(e,r,n,a){const{xScale:i,yScale:s}=e,o=new Array(a);let l,u,c,f;for(l=0,u=a;l<u;++l)c=l+n,f=r[c],o[l]={x:i.parse(f[0],c),y:s.parse(f[1],c)};return o}parseObjectData(e,r,n,a){const{xScale:i,yScale:s}=e,{xAxisKey:o="x",yAxisKey:l="y"}=this._parsing,u=new Array(a);let c,f,d,p;for(c=0,f=a;c<f;++c)d=c+n,p=r[d],u[c]={x:i.parse(Hd(p,o),d),y:s.parse(Hd(p,l),d)};return u}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,r,n){const a=this.chart,i=this._cachedMeta,s=r[e.axis],o={keys:_S(a,!0),values:r._stacks[e.axis]._visualValues};return Mb(o,s,i.index,{mode:n})}updateRangeFromParsed(e,r,n,a){const i=n[r.axis];let s=i===null?NaN:i;const o=a&&n._stacks[r.axis];a&&o&&(a.values=o,s=Mb(a,i,this._cachedMeta.index)),e.min=Math.min(e.min,s),e.max=Math.max(e.max,s)}getMinMax(e,r){const n=this._cachedMeta,a=n._parsed,i=n._sorted&&e===n.iScale,s=a.length,o=this._getOtherScale(e),l=lN(r,n,this.chart),u={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:c,max:f}=aN(o);let d,p;function g(){p=a[d];const y=p[o.axis];return!vr(p[e.axis])||c>y||f<y}for(d=0;d<s&&!(!g()&&(this.updateRangeFromParsed(u,e,p,l),i));++d);if(i){for(d=s-1;d>=0;--d)if(!g()){this.updateRangeFromParsed(u,e,p,l);break}}return u}getAllParsedValues(e){const r=this._cachedMeta._parsed,n=[];let a,i,s;for(a=0,i=r.length;a<i;++a)s=r[a][e.axis],vr(s)&&n.push(s);return n}getMaxOverflow(){return!1}getLabelAndValue(e){const r=this._cachedMeta,n=r.iScale,a=r.vScale,i=this.getParsed(e);return{label:n?""+n.getLabelForValue(i[n.axis]):"",value:a?""+a.getLabelForValue(i[a.axis]):""}}_update(e){const r=this._cachedMeta;this.update(e||"default"),r._clip=tN(Bt(this.options.clip,eN(r.xScale,r.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,r=this.chart,n=this._cachedMeta,a=n.data||[],i=r.chartArea,s=[],o=this._drawStart||0,l=this._drawCount||a.length-o,u=this.options.drawActiveElementsOnTop;let c;for(n.dataset&&n.dataset.draw(e,i,o,l),c=o;c<o+l;++c){const f=a[c];f.hidden||(f.active&&u?s.push(f):f.draw(e,i))}for(c=0;c<s.length;++c)s[c].draw(e,i)}getStyle(e,r){const n=r?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(e||0,n)}getContext(e,r,n){const a=this.getDataset();let i;if(e>=0&&e<this._cachedMeta.data.length){const s=this._cachedMeta.data[e];i=s.$context||(s.$context=oN(this.getContext(),e,s)),i.parsed=this.getParsed(e),i.raw=a.data[e],i.index=i.dataIndex=e}else i=this.$context||(this.$context=sN(this.chart.getContext(),this.index)),i.dataset=a,i.index=i.datasetIndex=this.index;return i.active=!!r,i.mode=n,i}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,r){return this._resolveElementOptions(this.dataElementType.id,r,e)}_resolveElementOptions(e,r="default",n){const a=r==="active",i=this._cachedDataOpts,s=e+"-"+r,o=i[s],l=this.enableOptionSharing&&Vd(n);if(o)return Ab(o,l);const u=this.chart.config,c=u.datasetElementScopeKeys(this._type,e),f=a?[`${e}Hover`,"hover",e,""]:[e,""],d=u.getOptionScopes(this.getDataset(),c),p=Object.keys(_r.elements[e]),g=()=>this.getContext(n,a,r),y=u.resolveNamedOptions(d,p,g,f);return y.$shared&&(y.$shared=l,i[s]=Object.freeze(Ab(y,l))),y}_resolveAnimations(e,r,n){const a=this.chart,i=this._cachedDataOpts,s=`animation-${r}`,o=i[s];if(o)return o;let l;if(a.options.animation!==!1){const c=this.chart.config,f=c.datasetAnimationScopeKeys(this._type,r),d=c.getOptionScopes(this.getDataset(),f);l=c.createResolver(d,this.getContext(e,n,r))}const u=new ZI(a,l&&l.animations);return l&&l._cacheable&&(i[s]=Object.freeze(u)),u}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,r){return!r||Lg(e)||this.chart._animationsDisabled}_getSharedOptions(e,r){const n=this.resolveDataElementOptions(e,r),a=this._sharedOptions,i=this.getSharedOptions(n),s=this.includeOptions(r,i)||i!==a;return this.updateSharedOptions(i,r,n),{sharedOptions:i,includeOptions:s}}updateElement(e,r,n,a){Lg(a)?Object.assign(e,n):this._resolveAnimations(r,a).update(e,n)}updateSharedOptions(e,r,n){e&&!Lg(r)&&this._resolveAnimations(void 0,r).update(e,n)}_setStyle(e,r,n,a){e.active=a;const i=this.getStyle(r,a);this._resolveAnimations(r,n,a).update(e,{options:!a&&this.getSharedOptions(i)||i})}removeHoverStyle(e,r,n){this._setStyle(e,n,"active",!1)}setHoverStyle(e,r,n){this._setStyle(e,n,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const r=this._data,n=this._cachedMeta.data;for(const[o,l,u]of this._syncList)this[o](l,u);this._syncList=[];const a=n.length,i=r.length,s=Math.min(i,a);s&&this.parse(0,s),i>a?this._insertElements(a,i-a,e):i<a&&this._removeElements(i,a-i)}_insertElements(e,r,n=!0){const a=this._cachedMeta,i=a.data,s=e+r;let o;const l=u=>{for(u.length+=r,o=u.length-1;o>=s;o--)u[o]=u[o-r]};for(l(i),o=e;o<s;++o)i[o]=new this.dataElementType;this._parsing&&l(a._parsed),this.parse(e,r),n&&this.updateElements(i,e,r,"reset")}updateElements(e,r,n,a){}_removeElements(e,r){const n=this._cachedMeta;if(this._parsing){const a=n._parsed.splice(e,r);n._stacked&&yu(n,a)}n.data.splice(e,r)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[r,n,a]=e;this[r](n,a)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,r){r&&this._sync(["_removeElements",e,r]);const n=arguments.length-2;n&&this._sync(["_insertElements",e,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}Ae(rc,"defaults",{}),Ae(rc,"datasetElementType",null),Ae(rc,"dataElementType",null);class gl extends rc{getLabelAndValue(e){const r=this._cachedMeta,n=this.chart.data.labels||[],{xScale:a,yScale:i}=r,s=this.getParsed(e),o=a.getLabelForValue(s.x),l=i.getLabelForValue(s.y);return{label:n[e]||"",value:"("+o+", "+l+")"}}update(e){const r=this._cachedMeta,{data:n=[]}=r,a=this.chart._animationsDisabled;let{start:i,count:s}=jO(r,n,a);if(this._drawStart=i,this._drawCount=s,UO(r)&&(i=0,s=n.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:o,_dataset:l}=r;o._chart=this.chart,o._datasetIndex=this.index,o._decimated=!!l._decimated,o.points=n;const u=this.resolveDatasetElementOptions(e);u.segment=this.options.segment,this.updateElement(o,void 0,{animated:!a,options:u},e)}else this.datasetElementType&&(delete r.dataset,this.datasetElementType=!1);this.updateElements(n,i,s,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,r,n,a){const i=a==="reset",{iScale:s,vScale:o,_stacked:l,_dataset:u}=this._cachedMeta,c=this.resolveDataElementOptions(r,a),f=this.getSharedOptions(c),d=this.includeOptions(a,f),p=s.axis,g=o.axis,{spanGaps:y,segment:x}=this.options,b=Ac(y)?y:Number.POSITIVE_INFINITY,w=this.chart._animationsDisabled||i||a==="none";let _=r>0&&this.getParsed(r-1);for(let k=r;k<r+n;++k){const E=e[k],D=this.getParsed(k),M=w?E:{},A=Ht(D[g]),R=M[p]=s.getPixelForValue(D[p],k),O=M[g]=i||A?o.getBasePixel():o.getPixelForValue(l?this.applyStack(o,D,l):D[g],k);M.skip=isNaN(R)||isNaN(O)||A,M.stop=k>0&&Math.abs(D[p]-_[p])>b,x&&(M.parsed=D,M.raw=u.data[k]),d&&(M.options=f||this.resolveDataElementOptions(k,E.active?"active":a)),w||this.updateElement(E,k,M,a),_=D}this.updateSharedOptions(f,a,c)}getMaxOverflow(){const e=this._cachedMeta,r=e.data||[];if(!this.options.showLine){let o=0;for(let l=r.length-1;l>=0;--l)o=Math.max(o,r[l].size(this.resolveDataElementOptions(l))/2);return o>0&&o}const n=e.dataset,a=n.options&&n.options.borderWidth||0;if(!r.length)return a;const i=r[0].size(this.resolveDataElementOptions(0)),s=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(a,i,s)/2}}Ae(gl,"id","scatter"),Ae(gl,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),Ae(gl,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});function As(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class M2{constructor(e){Ae(this,"options");this.options=e||{}}static override(e){Object.assign(M2.prototype,e)}init(){}formats(){return As()}parse(){return As()}format(){return As()}add(){return As()}diff(){return As()}startOf(){return As()}endOf(){return As()}}var uN={_date:M2};function cN(t,e,r,n){const{controller:a,data:i,_sorted:s}=t,o=a._cachedMeta.iScale,l=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(o&&e===o.axis&&e!=="r"&&s&&i.length){const u=o._reversePixels?BO:Ws;if(n){if(a._sharedOptions){const c=i[0],f=typeof c.getRange=="function"&&c.getRange(e);if(f){const d=u(i,e,r-f),p=u(i,e,r+f);return{lo:d.lo,hi:p.hi}}}}else{const c=u(i,e,r);if(l){const{vScale:f}=a._cachedMeta,{_parsed:d}=t,p=d.slice(0,c.lo+1).reverse().findIndex(y=>!Ht(y[f.axis]));c.lo-=Math.max(0,p);const g=d.slice(c.hi).findIndex(y=>!Ht(y[f.axis]));c.hi+=Math.max(0,g)}return c}}return{lo:0,hi:i.length-1}}function i0(t,e,r,n,a){const i=t.getSortedVisibleDatasetMetas(),s=r[e];for(let o=0,l=i.length;o<l;++o){const{index:u,data:c}=i[o],{lo:f,hi:d}=cN(i[o],e,s,a);for(let p=f;p<=d;++p){const g=c[p];g.skip||n(g,u,p)}}}function fN(t){const e=t.indexOf("x")!==-1,r=t.indexOf("y")!==-1;return function(n,a){const i=e?Math.abs(n.x-a.x):0,s=r?Math.abs(n.y-a.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(s,2))}}function Rg(t,e,r,n,a){const i=[];return!a&&!t.isPointInArea(e)||i0(t,r,e,function(o,l,u){!a&&!ii(o,t.chartArea,0)||o.inRange(e.x,e.y,n)&&i.push({element:o,datasetIndex:l,index:u})},!0),i}function dN(t,e,r,n){let a=[];function i(s,o,l){const{startAngle:u,endAngle:c}=s.getProps(["startAngle","endAngle"],n),{angle:f}=IO(s,{x:e.x,y:e.y});oS(f,u,c)&&a.push({element:s,datasetIndex:o,index:l})}return i0(t,r,e,i),a}function hN(t,e,r,n,a,i){let s=[];const o=fN(r);let l=Number.POSITIVE_INFINITY;function u(c,f,d){const p=c.inRange(e.x,e.y,a);if(n&&!p)return;const g=c.getCenterPoint(a);if(!(!!i||t.isPointInArea(g))&&!p)return;const x=o(e,g);x<l?(s=[{element:c,datasetIndex:f,index:d}],l=x):x===l&&s.push({element:c,datasetIndex:f,index:d})}return i0(t,r,e,u),s}function Og(t,e,r,n,a,i){return!i&&!t.isPointInArea(e)?[]:r==="r"&&!n?dN(t,e,r,a):hN(t,e,r,n,a,i)}function Lb(t,e,r,n,a){const i=[],s=r==="x"?"inXRange":"inYRange";let o=!1;return i0(t,r,e,(l,u,c)=>{l[s]&&l[s](e[r],a)&&(i.push({element:l,datasetIndex:u,index:c}),o=o||l.inRange(e.x,e.y,a))}),n&&!o?[]:i}var pN={evaluateInteractionItems:i0,modes:{index(t,e,r,n){const a=Ns(e,t),i=r.axis||"x",s=r.includeInvisible||!1,o=r.intersect?Rg(t,a,i,n,s):Og(t,a,i,!1,n,s),l=[];return o.length?(t.getSortedVisibleDatasetMetas().forEach(u=>{const c=o[0].index,f=u.data[c];f&&!f.skip&&l.push({element:f,datasetIndex:u.index,index:c})}),l):[]},dataset(t,e,r,n){const a=Ns(e,t),i=r.axis||"xy",s=r.includeInvisible||!1;let o=r.intersect?Rg(t,a,i,n,s):Og(t,a,i,!1,n,s);if(o.length>0){const l=o[0].datasetIndex,u=t.getDatasetMeta(l).data;o=[];for(let c=0;c<u.length;++c)o.push({element:u[c],datasetIndex:l,index:c})}return o},point(t,e,r,n){const a=Ns(e,t),i=r.axis||"xy",s=r.includeInvisible||!1;return Rg(t,a,i,n,s)},nearest(t,e,r,n){const a=Ns(e,t),i=r.axis||"xy",s=r.includeInvisible||!1;return Og(t,a,i,r.intersect,n,s)},x(t,e,r,n){const a=Ns(e,t);return Lb(t,a,"x",r.intersect,n)},y(t,e,r,n){const a=Ns(e,t);return Lb(t,a,"y",r.intersect,n)}}};const SS=["left","top","right","bottom"];function bu(t,e){return t.filter(r=>r.pos===e)}function Rb(t,e){return t.filter(r=>SS.indexOf(r.pos)===-1&&r.box.axis===e)}function xu(t,e){return t.sort((r,n)=>{const a=e?n:r,i=e?r:n;return a.weight===i.weight?a.index-i.index:a.weight-i.weight})}function gN(t){const e=[];let r,n,a,i,s,o;for(r=0,n=(t||[]).length;r<n;++r)a=t[r],{position:i,options:{stack:s,stackWeight:o=1}}=a,e.push({index:r,box:a,pos:i,horizontal:a.isHorizontal(),weight:a.weight,stack:s&&i+s,stackWeight:o});return e}function mN(t){const e={};for(const r of t){const{stack:n,pos:a,stackWeight:i}=r;if(!n||!SS.includes(a))continue;const s=e[n]||(e[n]={count:0,placed:0,weight:0,size:0});s.count++,s.weight+=i}return e}function vN(t,e){const r=mN(t),{vBoxMaxWidth:n,hBoxMaxHeight:a}=e;let i,s,o;for(i=0,s=t.length;i<s;++i){o=t[i];const{fullSize:l}=o.box,u=r[o.stack],c=u&&o.stackWeight/u.weight;o.horizontal?(o.width=c?c*n:l&&e.availableWidth,o.height=a):(o.width=n,o.height=c?c*a:l&&e.availableHeight)}return r}function yN(t){const e=gN(t),r=xu(e.filter(u=>u.box.fullSize),!0),n=xu(bu(e,"left"),!0),a=xu(bu(e,"right")),i=xu(bu(e,"top"),!0),s=xu(bu(e,"bottom")),o=Rb(e,"x"),l=Rb(e,"y");return{fullSize:r,leftAndTop:n.concat(i),rightAndBottom:a.concat(l).concat(s).concat(o),chartArea:bu(e,"chartArea"),vertical:n.concat(a).concat(l),horizontal:i.concat(s).concat(o)}}function Ob(t,e,r,n){return Math.max(t[r],e[r])+Math.max(t[n],e[n])}function kS(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function bN(t,e,r,n){const{pos:a,box:i}=r,s=t.maxPadding;if(!St(a)){r.size&&(t[a]-=r.size);const f=n[r.stack]||{size:0,count:1};f.size=Math.max(f.size,r.horizontal?i.height:i.width),r.size=f.size/f.count,t[a]+=r.size}i.getPadding&&kS(s,i.getPadding());const o=Math.max(0,e.outerWidth-Ob(s,t,"left","right")),l=Math.max(0,e.outerHeight-Ob(s,t,"top","bottom")),u=o!==t.w,c=l!==t.h;return t.w=o,t.h=l,r.horizontal?{same:u,other:c}:{same:c,other:u}}function xN(t){const e=t.maxPadding;function r(n){const a=Math.max(e[n]-t[n],0);return t[n]+=a,a}t.y+=r("top"),t.x+=r("left"),r("right"),r("bottom")}function wN(t,e){const r=e.maxPadding;function n(a){const i={left:0,top:0,right:0,bottom:0};return a.forEach(s=>{i[s]=Math.max(e[s],r[s])}),i}return n(t?["left","right"]:["top","bottom"])}function zu(t,e,r,n){const a=[];let i,s,o,l,u,c;for(i=0,s=t.length,u=0;i<s;++i){o=t[i],l=o.box,l.update(o.width||e.w,o.height||e.h,wN(o.horizontal,e));const{same:f,other:d}=bN(e,r,o,n);u|=f&&a.length,c=c||d,l.fullSize||a.push(o)}return u&&zu(a,e,r,n)||c}function of(t,e,r,n,a){t.top=r,t.left=e,t.right=e+n,t.bottom=r+a,t.width=n,t.height=a}function Ib(t,e,r,n){const a=r.padding;let{x:i,y:s}=e;for(const o of t){const l=o.box,u=n[o.stack]||{count:1,placed:0,weight:1},c=o.stackWeight/u.weight||1;if(o.horizontal){const f=e.w*c,d=u.size||l.height;Vd(u.start)&&(s=u.start),l.fullSize?of(l,a.left,s,r.outerWidth-a.right-a.left,d):of(l,e.left+u.placed,s,f,d),u.start=s,u.placed+=f,s=l.bottom}else{const f=e.h*c,d=u.size||l.width;Vd(u.start)&&(i=u.start),l.fullSize?of(l,i,a.top,d,r.outerHeight-a.bottom-a.top):of(l,i,e.top+u.placed,d,f),u.start=i,u.placed+=f,i=l.right}}e.x=i,e.y=s}var lf={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(r){e.draw(r)}}]},t.boxes.push(e)},removeBox(t,e){const r=t.boxes?t.boxes.indexOf(e):-1;r!==-1&&t.boxes.splice(r,1)},configure(t,e,r){e.fullSize=r.fullSize,e.position=r.position,e.weight=r.weight},update(t,e,r,n){if(!t)return;const a=vi(t.options.layout.padding),i=Math.max(e-a.width,0),s=Math.max(r-a.height,0),o=yN(t.boxes),l=o.vertical,u=o.horizontal;rn(t.boxes,y=>{typeof y.beforeLayout=="function"&&y.beforeLayout()});const c=l.reduce((y,x)=>x.box.options&&x.box.options.display===!1?y:y+1,0)||1,f=Object.freeze({outerWidth:e,outerHeight:r,padding:a,availableWidth:i,availableHeight:s,vBoxMaxWidth:i/2/c,hBoxMaxHeight:s/2}),d=Object.assign({},a);kS(d,vi(n));const p=Object.assign({maxPadding:d,w:i,h:s,x:a.left,y:a.top},a),g=vN(l.concat(u),f);zu(o.fullSize,p,f,g),zu(l,p,f,g),zu(u,p,f,g)&&zu(l,p,f,g),xN(p),Ib(o.leftAndTop,p,f,g),p.x+=p.w,p.y+=p.h,Ib(o.rightAndBottom,p,f,g),t.chartArea={left:p.left,top:p.top,right:p.left+p.w,bottom:p.top+p.h,height:p.h,width:p.w},rn(o.chartArea,y=>{const x=y.box;Object.assign(x,t.chartArea),x.update(p.w,p.h,{left:0,top:0,right:0,bottom:0})})}};class ES{acquireContext(e,r){}releaseContext(e){return!1}addEventListener(e,r,n){}removeEventListener(e,r,n){}getDevicePixelRatio(){return 1}getMaximumSize(e,r,n,a){return r=Math.max(0,r||e.width),n=n||e.height,{width:r,height:Math.max(0,a?Math.floor(r/a):n)}}isAttached(e){return!0}updateConfig(e){}}class _N extends ES{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Qf="$chartjs",SN={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Nb=t=>t===null||t==="";function kN(t,e){const r=t.style,n=t.getAttribute("height"),a=t.getAttribute("width");if(t[Qf]={initial:{height:n,width:a,style:{display:r.display,height:r.height,width:r.width}}},r.display=r.display||"block",r.boxSizing=r.boxSizing||"border-box",Nb(a)){const i=_b(t,"width");i!==void 0&&(t.width=i)}if(Nb(n))if(t.style.height==="")t.height=t.width/(e||2);else{const i=_b(t,"height");i!==void 0&&(t.height=i)}return t}const CS=FI?{passive:!0}:!1;function EN(t,e,r){t&&t.addEventListener(e,r,CS)}function CN(t,e,r){t&&t.canvas&&t.canvas.removeEventListener(e,r,CS)}function TN(t,e){const r=SN[t.type]||t.type,{x:n,y:a}=Ns(t,e);return{type:r,chart:e,native:t,x:n!==void 0?n:null,y:a!==void 0?a:null}}function Yd(t,e){for(const r of t)if(r===e||r.contains(e))return!0}function MN(t,e,r){const n=t.canvas,a=new MutationObserver(i=>{let s=!1;for(const o of i)s=s||Yd(o.addedNodes,n),s=s&&!Yd(o.removedNodes,n);s&&r()});return a.observe(document,{childList:!0,subtree:!0}),a}function DN(t,e,r){const n=t.canvas,a=new MutationObserver(i=>{let s=!1;for(const o of i)s=s||Yd(o.removedNodes,n),s=s&&!Yd(o.addedNodes,n);s&&r()});return a.observe(document,{childList:!0,subtree:!0}),a}const Lc=new Map;let zb=0;function TS(){const t=window.devicePixelRatio;t!==zb&&(zb=t,Lc.forEach((e,r)=>{r.currentDevicePixelRatio!==t&&e()}))}function PN(t,e){Lc.size||window.addEventListener("resize",TS),Lc.set(t,e)}function AN(t){Lc.delete(t),Lc.size||window.removeEventListener("resize",TS)}function LN(t,e,r){const n=t.canvas,a=n&&T2(n);if(!a)return;const i=fS((o,l)=>{const u=a.clientWidth;r(o,l),u<a.clientWidth&&r()},window),s=new ResizeObserver(o=>{const l=o[0],u=l.contentRect.width,c=l.contentRect.height;u===0&&c===0||i(u,c)});return s.observe(a),PN(t,i),s}function Ig(t,e,r){r&&r.disconnect(),e==="resize"&&AN(t)}function RN(t,e,r){const n=t.canvas,a=fS(i=>{t.ctx!==null&&r(TN(i,t))},t);return EN(n,e,a),a}class ON extends ES{acquireContext(e,r){const n=e&&e.getContext&&e.getContext("2d");return n&&n.canvas===e?(kN(e,r),n):null}releaseContext(e){const r=e.canvas;if(!r[Qf])return!1;const n=r[Qf].initial;["height","width"].forEach(i=>{const s=n[i];Ht(s)?r.removeAttribute(i):r.setAttribute(i,s)});const a=n.style||{};return Object.keys(a).forEach(i=>{r.style[i]=a[i]}),r.width=r.width,delete r[Qf],!0}addEventListener(e,r,n){this.removeEventListener(e,r);const a=e.$proxies||(e.$proxies={}),s={attach:MN,detach:DN,resize:LN}[r]||RN;a[r]=s(e,r,n)}removeEventListener(e,r){const n=e.$proxies||(e.$proxies={}),a=n[r];if(!a)return;({attach:Ig,detach:Ig,resize:Ig}[r]||CN)(e,r,a),n[r]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,r,n,a){return BI(e,r,n,a)}isAttached(e){const r=e&&T2(e);return!!(r&&r.isConnected)}}function IN(t){return!C2()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?_N:ON}var Af;let Yh=(Af=class{constructor(){Ae(this,"x");Ae(this,"y");Ae(this,"active",!1);Ae(this,"options");Ae(this,"$animations")}tooltipPosition(e){const{x:r,y:n}=this.getProps(["x","y"],e);return{x:r,y:n}}hasValue(){return Ac(this.x)&&Ac(this.y)}getProps(e,r){const n=this.$animations;if(!r||!n)return this;const a={};return e.forEach(i=>{a[i]=n[i]&&n[i].active()?n[i]._to:this[i]}),a}},Ae(Af,"defaults",{}),Ae(Af,"defaultRoutes"),Af);function NN(t,e){const r=t.options.ticks,n=zN(t),a=Math.min(r.maxTicksLimit||n,n),i=r.major.enabled?FN(e):[],s=i.length,o=i[0],l=i[s-1],u=[];if(s>a)return $N(e,u,i,s/a),u;const c=BN(i,e,a);if(s>0){let f,d;const p=s>1?Math.round((l-o)/(s-1)):null;for(uf(e,u,c,Ht(p)?0:o-p,o),f=0,d=s-1;f<d;f++)uf(e,u,c,i[f],i[f+1]);return uf(e,u,c,l,Ht(p)?e.length:l+p),u}return uf(e,u,c),u}function zN(t){const e=t.options.offset,r=t._tickSize(),n=t._length/r+(e?0:1),a=t._maxLength/r;return Math.floor(Math.min(n,a))}function BN(t,e,r){const n=qN(t),a=e.length/r;if(!n)return Math.max(a,1);const i=LO(n);for(let s=0,o=i.length-1;s<o;s++){const l=i[s];if(l>a)return l}return Math.max(a,1)}function FN(t){const e=[];let r,n;for(r=0,n=t.length;r<n;r++)t[r].major&&e.push(r);return e}function $N(t,e,r,n){let a=0,i=r[0],s;for(n=Math.ceil(n),s=0;s<t.length;s++)s===i&&(e.push(t[s]),a++,i=r[a*n])}function uf(t,e,r,n,a){const i=Bt(n,0),s=Math.min(Bt(a,t.length),t.length);let o=0,l,u,c;for(r=Math.ceil(r),a&&(l=a-n,r=l/Math.floor(l/r)),c=i;c<0;)o++,c=Math.round(i+o*r);for(u=Math.max(i,0);u<s;u++)u===c&&(e.push(t[u]),o++,c=Math.round(i+o*r))}function qN(t){const e=t.length;let r,n;if(e<2)return!1;for(n=t[0],r=1;r<e;++r)if(t[r]-t[r-1]!==n)return!1;return n}const HN=t=>t==="left"?"right":t==="right"?"left":t,Bb=(t,e,r)=>e==="top"||e==="left"?t[e]+r:t[e]-r,Fb=(t,e)=>Math.min(e||t,t);function $b(t,e){const r=[],n=t.length/e,a=t.length;let i=0;for(;i<a;i+=n)r.push(t[Math.floor(i)]);return r}function VN(t,e,r){const n=t.ticks.length,a=Math.min(e,n-1),i=t._startPixel,s=t._endPixel,o=1e-6;let l=t.getPixelForTick(a),u;if(!(r&&(n===1?u=Math.max(l-i,s-l):e===0?u=(t.getPixelForTick(1)-l)/2:u=(l-t.getPixelForTick(a-1))/2,l+=a<e?u:-u,l<i-o||l>s+o)))return l}function jN(t,e){rn(t,r=>{const n=r.gc,a=n.length/2;let i;if(a>e){for(i=0;i<a;++i)delete r.data[n[i]];n.splice(0,a)}})}function wu(t){return t.drawTicks?t.tickLength:0}function qb(t,e){if(!t.display)return 0;const r=Ol(t.font,e),n=vi(t.padding);return(mr(t.text)?t.text.length:1)*r.lineHeight+n.height}function UN(t,e){return yo(t,{scale:e,type:"scale"})}function WN(t,e,r){return yo(t,{tick:r,index:e,type:"tick"})}function GN(t,e,r){let n=VO(t);return(r&&e!=="right"||!r&&e==="right")&&(n=HN(n)),n}function YN(t,e,r,n){const{top:a,left:i,bottom:s,right:o,chart:l}=t,{chartArea:u,scales:c}=l;let f=0,d,p,g;const y=s-a,x=o-i;if(t.isHorizontal()){if(p=hb(n,i,o),St(r)){const b=Object.keys(r)[0],w=r[b];g=c[b].getPixelForValue(w)+y-e}else r==="center"?g=(u.bottom+u.top)/2+y-e:g=Bb(t,r,e);d=o-i}else{if(St(r)){const b=Object.keys(r)[0],w=r[b];p=c[b].getPixelForValue(w)-x+e}else r==="center"?p=(u.left+u.right)/2-x+e:p=Bb(t,r,e);g=hb(n,s,a),f=r==="left"?-$n:$n}return{titleX:p,titleY:g,maxWidth:d,rotation:f}}class Yl extends Yh{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,r){return e}getUserBounds(){let{_userMin:e,_userMax:r,_suggestedMin:n,_suggestedMax:a}=this;return e=Nn(e,Number.POSITIVE_INFINITY),r=Nn(r,Number.NEGATIVE_INFINITY),n=Nn(n,Number.POSITIVE_INFINITY),a=Nn(a,Number.NEGATIVE_INFINITY),{min:Nn(e,n),max:Nn(r,a),minDefined:vr(e),maxDefined:vr(r)}}getMinMax(e){let{min:r,max:n,minDefined:a,maxDefined:i}=this.getUserBounds(),s;if(a&&i)return{min:r,max:n};const o=this.getMatchingVisibleMetas();for(let l=0,u=o.length;l<u;++l)s=o[l].controller.getMinMax(this,e),a||(r=Math.min(r,s.min)),i||(n=Math.max(n,s.max));return r=i&&r>n?n:r,n=a&&r>n?r:n,{min:Nn(r,Nn(n,r)),max:Nn(n,Nn(r,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){pr(this.options.beforeUpdate,[this])}update(e,r,n){const{beginAtZero:a,grace:i,ticks:s}=this.options,o=s.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=r,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=mI(this,i,a),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=o<this.ticks.length;this._convertTicksToLabels(l?$b(this.ticks,o):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),s.display&&(s.autoSkip||s.source==="auto")&&(this.ticks=NN(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,r,n;this.isHorizontal()?(r=this.left,n=this.right):(r=this.top,n=this.bottom,e=!e),this._startPixel=r,this._endPixel=n,this._reversePixels=e,this._length=n-r,this._alignToPixels=this.options.alignToPixels}afterUpdate(){pr(this.options.afterUpdate,[this])}beforeSetDimensions(){pr(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){pr(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),pr(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){pr(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const r=this.options.ticks;let n,a,i;for(n=0,a=e.length;n<a;n++)i=e[n],i.label=pr(r.callback,[i.value,n,e],this)}afterTickToLabelConversion(){pr(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){pr(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,r=e.ticks,n=Fb(this.ticks.length,e.ticks.maxTicksLimit),a=r.minRotation||0,i=r.maxRotation;let s=a,o,l,u;if(!this._isVisible()||!r.display||a>=i||n<=1||!this.isHorizontal()){this.labelRotation=a;return}const c=this._getLabelSizes(),f=c.widest.width,d=c.highest.height,p=ai(this.chart.width-f,0,this.maxWidth);o=e.offset?this.maxWidth/n:p/(n-1),f+6>o&&(o=p/(n-(e.offset?.5:1)),l=this.maxHeight-wu(e.grid)-r.padding-qb(e.title,this.chart.options.font),u=Math.sqrt(f*f+d*d),s=v2(Math.min(Math.asin(ai((c.highest.height+6)/o,-1,1)),Math.asin(ai(l/u,-1,1))-Math.asin(ai(d/u,-1,1)))),s=Math.max(a,Math.min(i,s))),this.labelRotation=s}afterCalculateLabelRotation(){pr(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){pr(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:r,options:{ticks:n,title:a,grid:i}}=this,s=this._isVisible(),o=this.isHorizontal();if(s){const l=qb(a,r.options.font);if(o?(e.width=this.maxWidth,e.height=wu(i)+l):(e.height=this.maxHeight,e.width=wu(i)+l),n.display&&this.ticks.length){const{first:u,last:c,widest:f,highest:d}=this._getLabelSizes(),p=n.padding*2,g=Vi(this.labelRotation),y=Math.cos(g),x=Math.sin(g);if(o){const b=n.mirror?0:x*f.width+y*d.height;e.height=Math.min(this.maxHeight,e.height+b+p)}else{const b=n.mirror?0:y*f.width+x*d.height;e.width=Math.min(this.maxWidth,e.width+b+p)}this._calculatePadding(u,c,x,y)}}this._handleMargins(),o?(this.width=this._length=r.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=r.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,r,n,a){const{ticks:{align:i,padding:s},position:o}=this.options,l=this.labelRotation!==0,u=o!=="top"&&this.axis==="x";if(this.isHorizontal()){const c=this.getPixelForTick(0)-this.left,f=this.right-this.getPixelForTick(this.ticks.length-1);let d=0,p=0;l?u?(d=a*e.width,p=n*r.height):(d=n*e.height,p=a*r.width):i==="start"?p=r.width:i==="end"?d=e.width:i!=="inner"&&(d=e.width/2,p=r.width/2),this.paddingLeft=Math.max((d-c+s)*this.width/(this.width-c),0),this.paddingRight=Math.max((p-f+s)*this.width/(this.width-f),0)}else{let c=r.height/2,f=e.height/2;i==="start"?(c=0,f=e.height):i==="end"&&(c=r.height,f=0),this.paddingTop=c+s,this.paddingBottom=f+s}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){pr(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:r}=this.options;return r==="top"||r==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let r,n;for(r=0,n=e.length;r<n;r++)Ht(e[r].label)&&(e.splice(r,1),n--,r--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const r=this.options.ticks.sampleSize;let n=this.ticks;r<n.length&&(n=$b(n,r)),this._labelSizes=e=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,r,n){const{ctx:a,_longestTextCache:i}=this,s=[],o=[],l=Math.floor(r/Fb(r,n));let u=0,c=0,f,d,p,g,y,x,b,w,_,k,E;for(f=0;f<r;f+=l){if(g=e[f].label,y=this._resolveTickFontOptions(f),a.font=x=y.string,b=i[x]=i[x]||{data:{},gc:[]},w=y.lineHeight,_=k=0,!Ht(g)&&!mr(g))_=Ud(a,b.data,b.gc,_,g),k=w;else if(mr(g))for(d=0,p=g.length;d<p;++d)E=g[d],!Ht(E)&&!mr(E)&&(_=Ud(a,b.data,b.gc,_,E),k+=w);s.push(_),o.push(k),u=Math.max(_,u),c=Math.max(k,c)}jN(i,r);const D=s.indexOf(u),M=o.indexOf(c),A=R=>({width:s[R]||0,height:o[R]||0});return{first:A(0),last:A(r-1),widest:A(D),highest:A(M),widths:s,heights:o}}getLabelForValue(e){return e}getPixelForValue(e,r){return NaN}getValueForPixel(e){}getPixelForTick(e){const r=this.ticks;return e<0||e>r.length-1?null:this.getPixelForValue(r[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const r=this._startPixel+e*this._length;return zO(this._alignToPixels?Ps(this.chart,r,0):r)}getDecimalForPixel(e){const r=(e-this._startPixel)/this._length;return this._reversePixels?1-r:r}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:r}=this;return e<0&&r<0?r:e>0&&r>0?e:0}getContext(e){const r=this.ticks||[];if(e>=0&&e<r.length){const n=r[e];return n.$context||(n.$context=WN(this.getContext(),e,n))}return this.$context||(this.$context=UN(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,r=Vi(this.labelRotation),n=Math.abs(Math.cos(r)),a=Math.abs(Math.sin(r)),i=this._getLabelSizes(),s=e.autoSkipPadding||0,o=i?i.widest.width+s:0,l=i?i.highest.height+s:0;return this.isHorizontal()?l*n>o*a?o/n:l/a:l*a<o*n?l/n:o/a}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const r=this.axis,n=this.chart,a=this.options,{grid:i,position:s,border:o}=a,l=i.offset,u=this.isHorizontal(),f=this.ticks.length+(l?1:0),d=wu(i),p=[],g=o.setContext(this.getContext()),y=g.display?g.width:0,x=y/2,b=function(K){return Ps(n,K,y)};let w,_,k,E,D,M,A,R,O,N,B,F;if(s==="top")w=b(this.bottom),M=this.bottom-d,R=w-x,N=b(e.top)+x,F=e.bottom;else if(s==="bottom")w=b(this.top),N=e.top,F=b(e.bottom)-x,M=w+x,R=this.top+d;else if(s==="left")w=b(this.right),D=this.right-d,A=w-x,O=b(e.left)+x,B=e.right;else if(s==="right")w=b(this.left),O=e.left,B=b(e.right)-x,D=w+x,A=this.left+d;else if(r==="x"){if(s==="center")w=b((e.top+e.bottom)/2+.5);else if(St(s)){const K=Object.keys(s)[0],U=s[K];w=b(this.chart.scales[K].getPixelForValue(U))}N=e.top,F=e.bottom,M=w+x,R=M+d}else if(r==="y"){if(s==="center")w=b((e.left+e.right)/2);else if(St(s)){const K=Object.keys(s)[0],U=s[K];w=b(this.chart.scales[K].getPixelForValue(U))}D=w-x,A=D-d,O=e.left,B=e.right}const V=Bt(a.ticks.maxTicksLimit,f),X=Math.max(1,Math.ceil(f/V));for(_=0;_<f;_+=X){const K=this.getContext(_),U=i.setContext(K),H=o.setContext(K),ee=U.lineWidth,re=U.color,W=H.dash||[],Z=H.dashOffset,ue=U.tickWidth,pe=U.tickColor,ge=U.tickBorderDash||[],fe=U.tickBorderDashOffset;k=VN(this,_,l),k!==void 0&&(E=Ps(n,k,ee),u?D=A=O=B=E:M=R=N=F=E,p.push({tx1:D,ty1:M,tx2:A,ty2:R,x1:O,y1:N,x2:B,y2:F,width:ee,color:re,borderDash:W,borderDashOffset:Z,tickWidth:ue,tickColor:pe,tickBorderDash:ge,tickBorderDashOffset:fe}))}return this._ticksLength=f,this._borderValue=w,p}_computeLabelItems(e){const r=this.axis,n=this.options,{position:a,ticks:i}=n,s=this.isHorizontal(),o=this.ticks,{align:l,crossAlign:u,padding:c,mirror:f}=i,d=wu(n.grid),p=d+c,g=f?-c:p,y=-Vi(this.labelRotation),x=[];let b,w,_,k,E,D,M,A,R,O,N,B,F="middle";if(a==="top")D=this.bottom-g,M=this._getXAxisLabelAlignment();else if(a==="bottom")D=this.top+g,M=this._getXAxisLabelAlignment();else if(a==="left"){const X=this._getYAxisLabelAlignment(d);M=X.textAlign,E=X.x}else if(a==="right"){const X=this._getYAxisLabelAlignment(d);M=X.textAlign,E=X.x}else if(r==="x"){if(a==="center")D=(e.top+e.bottom)/2+p;else if(St(a)){const X=Object.keys(a)[0],K=a[X];D=this.chart.scales[X].getPixelForValue(K)+p}M=this._getXAxisLabelAlignment()}else if(r==="y"){if(a==="center")E=(e.left+e.right)/2-p;else if(St(a)){const X=Object.keys(a)[0],K=a[X];E=this.chart.scales[X].getPixelForValue(K)}M=this._getYAxisLabelAlignment(d).textAlign}r==="y"&&(l==="start"?F="top":l==="end"&&(F="bottom"));const V=this._getLabelSizes();for(b=0,w=o.length;b<w;++b){_=o[b],k=_.label;const X=i.setContext(this.getContext(b));A=this.getPixelForTick(b)+i.labelOffset,R=this._resolveTickFontOptions(b),O=R.lineHeight,N=mr(k)?k.length:1;const K=N/2,U=X.color,H=X.textStrokeColor,ee=X.textStrokeWidth;let re=M;s?(E=A,M==="inner"&&(b===w-1?re=this.options.reverse?"left":"right":b===0?re=this.options.reverse?"right":"left":re="center"),a==="top"?u==="near"||y!==0?B=-N*O+O/2:u==="center"?B=-V.highest.height/2-K*O+O:B=-V.highest.height+O/2:u==="near"||y!==0?B=O/2:u==="center"?B=V.highest.height/2-K*O:B=V.highest.height-N*O,f&&(B*=-1),y!==0&&!X.showLabelBackdrop&&(E+=O/2*Math.sin(y))):(D=A,B=(1-N)*O/2);let W;if(X.showLabelBackdrop){const Z=vi(X.backdropPadding),ue=V.heights[b],pe=V.widths[b];let ge=B-Z.top,fe=0-Z.left;switch(F){case"middle":ge-=ue/2;break;case"bottom":ge-=ue;break}switch(M){case"center":fe-=pe/2;break;case"right":fe-=pe;break;case"inner":b===w-1?fe-=pe:b>0&&(fe-=pe/2);break}W={left:fe,top:ge,width:pe+Z.width,height:ue+Z.height,color:X.backdropColor}}x.push({label:k,font:R,textOffset:B,options:{rotation:y,color:U,strokeColor:H,strokeWidth:ee,textAlign:re,textBaseline:F,translation:[E,D],backdrop:W}})}return x}_getXAxisLabelAlignment(){const{position:e,ticks:r}=this.options;if(-Vi(this.labelRotation))return e==="top"?"left":"right";let a="center";return r.align==="start"?a="left":r.align==="end"?a="right":r.align==="inner"&&(a="inner"),a}_getYAxisLabelAlignment(e){const{position:r,ticks:{crossAlign:n,mirror:a,padding:i}}=this.options,s=this._getLabelSizes(),o=e+i,l=s.widest.width;let u,c;return r==="left"?a?(c=this.right+i,n==="near"?u="left":n==="center"?(u="center",c+=l/2):(u="right",c+=l)):(c=this.right-o,n==="near"?u="right":n==="center"?(u="center",c-=l/2):(u="left",c=this.left)):r==="right"?a?(c=this.left+i,n==="near"?u="right":n==="center"?(u="center",c-=l/2):(u="left",c-=l)):(c=this.left+o,n==="near"?u="left":n==="center"?(u="center",c+=l/2):(u="right",c=this.right)):u="right",{textAlign:u,x:c}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,r=this.options.position;if(r==="left"||r==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(r==="top"||r==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:r},left:n,top:a,width:i,height:s}=this;r&&(e.save(),e.fillStyle=r,e.fillRect(n,a,i,s),e.restore())}getLineWidthForValue(e){const r=this.options.grid;if(!this._isVisible()||!r.display)return 0;const a=this.ticks.findIndex(i=>i.value===e);return a>=0?r.setContext(this.getContext(a)).lineWidth:0}drawGrid(e){const r=this.options.grid,n=this.ctx,a=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let i,s;const o=(l,u,c)=>{!c.width||!c.color||(n.save(),n.lineWidth=c.width,n.strokeStyle=c.color,n.setLineDash(c.borderDash||[]),n.lineDashOffset=c.borderDashOffset,n.beginPath(),n.moveTo(l.x,l.y),n.lineTo(u.x,u.y),n.stroke(),n.restore())};if(r.display)for(i=0,s=a.length;i<s;++i){const l=a[i];r.drawOnChartArea&&o({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),r.drawTicks&&o({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:r,options:{border:n,grid:a}}=this,i=n.setContext(this.getContext()),s=n.display?i.width:0;if(!s)return;const o=a.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let u,c,f,d;this.isHorizontal()?(u=Ps(e,this.left,s)-s/2,c=Ps(e,this.right,o)+o/2,f=d=l):(f=Ps(e,this.top,s)-s/2,d=Ps(e,this.bottom,o)+o/2,u=c=l),r.save(),r.lineWidth=i.width,r.strokeStyle=i.color,r.beginPath(),r.moveTo(u,f),r.lineTo(c,d),r.stroke(),r.restore()}drawLabels(e){if(!this.options.ticks.display)return;const n=this.ctx,a=this._computeLabelArea();a&&w2(n,a);const i=this.getLabelItems(e);for(const s of i){const o=s.options,l=s.font,u=s.label,c=s.textOffset;Wd(n,u,0,c,l,o)}a&&_2(n)}drawTitle(){const{ctx:e,options:{position:r,title:n,reverse:a}}=this;if(!n.display)return;const i=Ol(n.font),s=vi(n.padding),o=n.align;let l=i.lineHeight/2;r==="bottom"||r==="center"||St(r)?(l+=s.bottom,mr(n.text)&&(l+=i.lineHeight*(n.text.length-1))):l+=s.top;const{titleX:u,titleY:c,maxWidth:f,rotation:d}=YN(this,l,r,o);Wd(e,n.text,0,0,i,{color:n.color,maxWidth:f,rotation:d,textAlign:GN(o,r,a),textBaseline:"middle",translation:[u,c]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,r=e.ticks&&e.ticks.z||0,n=Bt(e.grid&&e.grid.z,-1),a=Bt(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Yl.prototype.draw?[{z:r,draw:i=>{this.draw(i)}}]:[{z:n,draw:i=>{this.drawBackground(),this.drawGrid(i),this.drawTitle()}},{z:a,draw:()=>{this.drawBorder()}},{z:r,draw:i=>{this.drawLabels(i)}}]}getMatchingVisibleMetas(e){const r=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",a=[];let i,s;for(i=0,s=r.length;i<s;++i){const o=r[i];o[n]===this.id&&(!e||o.type===e)&&a.push(o)}return a}_resolveTickFontOptions(e){const r=this.options.ticks.setContext(this.getContext(e));return Ol(r.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class cf{constructor(e,r,n){this.type=e,this.scope=r,this.override=n,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const r=Object.getPrototypeOf(e);let n;ZN(r)&&(n=this.register(r));const a=this.items,i=e.id,s=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+e);return i in a||(a[i]=e,XN(e,s,n),this.override&&_r.override(e.id,e.overrides)),s}get(e){return this.items[e]}unregister(e){const r=this.items,n=e.id,a=this.scope;n in r&&delete r[n],a&&n in _r[a]&&(delete _r[a][n],this.override&&delete oo[n])}}function XN(t,e,r){const n=Pc(Object.create(null),[r?_r.get(r):{},_r.get(e),t.defaults]);_r.set(e,n),t.defaultRoutes&&KN(e,t.defaultRoutes),t.descriptors&&_r.describe(e,t.descriptors)}function KN(t,e){Object.keys(e).forEach(r=>{const n=r.split("."),a=n.pop(),i=[t].concat(n).join("."),s=e[r].split("."),o=s.pop(),l=s.join(".");_r.route(i,a,l,o)})}function ZN(t){return"id"in t&&"defaults"in t}class QN{constructor(){this.controllers=new cf(rc,"datasets",!0),this.elements=new cf(Yh,"elements"),this.plugins=new cf(Object,"plugins"),this.scales=new cf(Yl,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,r,n){[...r].forEach(a=>{const i=n||this._getRegistryForType(a);n||i.isForType(a)||i===this.plugins&&a.id?this._exec(e,i,a):rn(a,s=>{const o=n||this._getRegistryForType(s);this._exec(e,o,s)})})}_exec(e,r,n){const a=m2(e);pr(n["before"+a],[],n),r[e](n),pr(n["after"+a],[],n)}_getRegistryForType(e){for(let r=0;r<this._typedRegistries.length;r++){const n=this._typedRegistries[r];if(n.isForType(e))return n}return this.plugins}_get(e,r,n){const a=r.get(e);if(a===void 0)throw new Error('"'+e+'" is not a registered '+n+".");return a}}var Aa=new QN;class JN{constructor(){this._init=[]}notify(e,r,n,a){r==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const i=a?this._descriptors(e).filter(a):this._descriptors(e),s=this._notify(i,e,r,n);return r==="afterDestroy"&&(this._notify(i,e,"stop"),this._notify(this._init,e,"uninstall")),s}_notify(e,r,n,a){a=a||{};for(const i of e){const s=i.plugin,o=s[n],l=[r,a,i.options];if(pr(o,l,s)===!1&&a.cancelable)return!1}return!0}invalidate(){Ht(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const r=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),r}_createDescriptors(e,r){const n=e&&e.config,a=Bt(n.options&&n.options.plugins,{}),i=ez(n);return a===!1&&!r?[]:rz(e,i,a,r)}_notifyStateChanges(e){const r=this._oldCache||[],n=this._cache,a=(i,s)=>i.filter(o=>!s.some(l=>o.plugin.id===l.plugin.id));this._notify(a(r,n),e,"stop"),this._notify(a(n,r),e,"start")}}function ez(t){const e={},r=[],n=Object.keys(Aa.plugins.items);for(let i=0;i<n.length;i++)r.push(Aa.getPlugin(n[i]));const a=t.plugins||[];for(let i=0;i<a.length;i++){const s=a[i];r.indexOf(s)===-1&&(r.push(s),e[s.id]=!0)}return{plugins:r,localIds:e}}function tz(t,e){return!e&&t===!1?null:t===!0?{}:t}function rz(t,{plugins:e,localIds:r},n,a){const i=[],s=t.getContext();for(const o of e){const l=o.id,u=tz(n[l],a);u!==null&&i.push({plugin:o,options:nz(t.config,{plugin:o,local:r[l]},u,s)})}return i}function nz(t,{plugin:e,local:r},n,a){const i=t.pluginScopeKeys(e),s=t.getOptionScopes(n,i);return r&&e.defaults&&s.push(e.defaults),t.createResolver(s,a,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function C1(t,e){const r=_r.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||r.indexAxis||"x"}function az(t,e){let r=t;return t==="_index_"?r=e:t==="_value_"&&(r=e==="x"?"y":"x"),r}function iz(t,e){return t===e?"_index_":"_value_"}function Hb(t){if(t==="x"||t==="y"||t==="r")return t}function sz(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function T1(t,...e){if(Hb(t))return t;for(const r of e){const n=r.axis||sz(r.position)||t.length>1&&Hb(t[0].toLowerCase());if(n)return n}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function Vb(t,e,r){if(r[e+"AxisID"]===t)return{axis:e}}function oz(t,e){if(e.data&&e.data.datasets){const r=e.data.datasets.filter(n=>n.xAxisID===t||n.yAxisID===t);if(r.length)return Vb(t,"x",r[0])||Vb(t,"y",r[0])}return{}}function lz(t,e){const r=oo[t.type]||{scales:{}},n=e.scales||{},a=C1(t.type,e),i=Object.create(null);return Object.keys(n).forEach(s=>{const o=n[s];if(!St(o))return console.error(`Invalid scale configuration for scale: ${s}`);if(o._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${s}`);const l=T1(s,o,oz(s,t),_r.scales[o.type]),u=iz(l,a),c=r.scales||{};i[s]=Qu(Object.create(null),[{axis:l},o,c[l],c[u]])}),t.data.datasets.forEach(s=>{const o=s.type||t.type,l=s.indexAxis||C1(o,e),c=(oo[o]||{}).scales||{};Object.keys(c).forEach(f=>{const d=az(f,l),p=s[d+"AxisID"]||d;i[p]=i[p]||Object.create(null),Qu(i[p],[{axis:d},n[p],c[f]])})}),Object.keys(i).forEach(s=>{const o=i[s];Qu(o,[_r.scales[o.type],_r.scale])}),i}function MS(t){const e=t.options||(t.options={});e.plugins=Bt(e.plugins,{}),e.scales=lz(t,e)}function DS(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function uz(t){return t=t||{},t.data=DS(t.data),MS(t),t}const jb=new Map,PS=new Set;function ff(t,e){let r=jb.get(t);return r||(r=e(),jb.set(t,r),PS.add(r)),r}const _u=(t,e,r)=>{const n=Hd(e,r);n!==void 0&&t.add(n)};class cz{constructor(e){this._config=uz(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=DS(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),MS(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return ff(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,r){return ff(`${e}.transition.${r}`,()=>[[`datasets.${e}.transitions.${r}`,`transitions.${r}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,r){return ff(`${e}-${r}`,()=>[[`datasets.${e}.elements.${r}`,`datasets.${e}`,`elements.${r}`,""]])}pluginScopeKeys(e){const r=e.id,n=this.type;return ff(`${n}-plugin-${r}`,()=>[[`plugins.${r}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,r){const n=this._scopeCache;let a=n.get(e);return(!a||r)&&(a=new Map,n.set(e,a)),a}getOptionScopes(e,r,n){const{options:a,type:i}=this,s=this._cachedScopes(e,n),o=s.get(r);if(o)return o;const l=new Set;r.forEach(c=>{e&&(l.add(e),c.forEach(f=>_u(l,e,f))),c.forEach(f=>_u(l,a,f)),c.forEach(f=>_u(l,oo[i]||{},f)),c.forEach(f=>_u(l,_r,f)),c.forEach(f=>_u(l,E1,f))});const u=Array.from(l);return u.length===0&&u.push(Object.create(null)),PS.has(r)&&s.set(r,u),u}chartOptionScopes(){const{options:e,type:r}=this;return[e,oo[r]||{},_r.datasets[r]||{},{type:r},_r,E1]}resolveNamedOptions(e,r,n,a=[""]){const i={$shared:!0},{resolver:s,subPrefixes:o}=Ub(this._resolverCache,e,a);let l=s;if(dz(s,r)){i.$shared=!1,n=ls(n)?n():n;const u=this.createResolver(e,n,o);l=Il(s,n,u)}for(const u of r)i[u]=l[u];return i}createResolver(e,r,n=[""],a){const{resolver:i}=Ub(this._resolverCache,e,n);return St(r)?Il(i,r,void 0,a):i}}function Ub(t,e,r){let n=t.get(e);n||(n=new Map,t.set(e,n));const a=r.join();let i=n.get(a);return i||(i={resolver:S2(e,r),subPrefixes:r.filter(o=>!o.toLowerCase().includes("hover"))},n.set(a,i)),i}const fz=t=>St(t)&&Object.getOwnPropertyNames(t).some(e=>ls(t[e]));function dz(t,e){const{isScriptable:r,isIndexable:n}=pS(t);for(const a of e){const i=r(a),s=n(a),o=(s||i)&&t[a];if(i&&(ls(o)||fz(o))||s&&mr(o))return!0}return!1}var hz="4.4.8";const pz=["top","bottom","left","right","chartArea"];function Wb(t,e){return t==="top"||t==="bottom"||pz.indexOf(t)===-1&&e==="x"}function Gb(t,e){return function(r,n){return r[t]===n[t]?r[e]-n[e]:r[t]-n[t]}}function Yb(t){const e=t.chart,r=e.options.animation;e.notifyPlugins("afterRender"),pr(r&&r.onComplete,[t],e)}function gz(t){const e=t.chart,r=e.options.animation;pr(r&&r.onProgress,[t],e)}function AS(t){return C2()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const Jf={},Xb=t=>{const e=AS(t);return Object.values(Jf).filter(r=>r.canvas===e).pop()};function mz(t,e,r){const n=Object.keys(t);for(const a of n){const i=+a;if(i>=e){const s=t[a];delete t[a],(r>0||i>e)&&(t[i+r]=s)}}}function vz(t,e,r,n){return!r||t.type==="mouseout"?null:n?e:t}function df(t,e,r){return t.options.clip?t[r]:e[r]}function yz(t,e){const{xScale:r,yScale:n}=t;return r&&n?{left:df(r,e,"left"),right:df(r,e,"right"),top:df(n,e,"top"),bottom:df(n,e,"bottom")}:e}var Ri;let s0=(Ri=class{static register(...e){Aa.add(...e),Kb()}static unregister(...e){Aa.remove(...e),Kb()}constructor(e,r){const n=this.config=new cz(r),a=AS(e),i=Xb(a);if(i)throw new Error("Canvas is already in use. Chart with ID '"+i.id+"' must be destroyed before the canvas with ID '"+i.canvas.id+"' can be reused.");const s=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||IN(a)),this.platform.updateConfig(n);const o=this.platform.acquireContext(a,s.aspectRatio),l=o&&o.canvas,u=l&&l.height,c=l&&l.width;if(this.id=SO(),this.ctx=o,this.canvas=l,this.width=c,this.height=u,this._options=s,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new JN,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=HO(f=>this.update(f),s.resizeDelay||0),this._dataChanges=[],Jf[this.id]=this,!o||!l){console.error("Failed to create chart: can't acquire context from the given item");return}Ka.listen(this,"complete",Yb),Ka.listen(this,"progress",gz),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:r},width:n,height:a,_aspectRatio:i}=this;return Ht(e)?r&&i?i:a?n/a:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Aa}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():wb(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return yb(this.canvas,this.ctx),this}stop(){return Ka.stop(this),this}resize(e,r){Ka.running(this)?this._resizeBeforeDraw={width:e,height:r}:this._resize(e,r)}_resize(e,r){const n=this.options,a=this.canvas,i=n.maintainAspectRatio&&this.aspectRatio,s=this.platform.getMaximumSize(a,e,r,i),o=n.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=s.width,this.height=s.height,this._aspectRatio=this.aspectRatio,wb(this,o,!0)&&(this.notifyPlugins("resize",{size:s}),pr(n.onResize,[this,s],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const r=this.options.scales||{};rn(r,(n,a)=>{n.id=a})}buildOrUpdateScales(){const e=this.options,r=e.scales,n=this.scales,a=Object.keys(n).reduce((s,o)=>(s[o]=!1,s),{});let i=[];r&&(i=i.concat(Object.keys(r).map(s=>{const o=r[s],l=T1(s,o),u=l==="r",c=l==="x";return{options:o,dposition:u?"chartArea":c?"bottom":"left",dtype:u?"radialLinear":c?"category":"linear"}}))),rn(i,s=>{const o=s.options,l=o.id,u=T1(l,o),c=Bt(o.type,s.dtype);(o.position===void 0||Wb(o.position,u)!==Wb(s.dposition))&&(o.position=s.dposition),a[l]=!0;let f=null;if(l in n&&n[l].type===c)f=n[l];else{const d=Aa.getScale(c);f=new d({id:l,type:c,ctx:this.ctx,chart:this}),n[f.id]=f}f.init(o,e)}),rn(a,(s,o)=>{s||delete n[o]}),rn(n,s=>{lf.configure(this,s,s.options),lf.addBox(this,s)})}_updateMetasets(){const e=this._metasets,r=this.data.datasets.length,n=e.length;if(e.sort((a,i)=>a.index-i.index),n>r){for(let a=r;a<n;++a)this._destroyDatasetMeta(a);e.splice(r,n-r)}this._sortedMetasets=e.slice(0).sort(Gb("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:r}}=this;e.length>r.length&&delete this._stacks,e.forEach((n,a)=>{r.filter(i=>i===n._dataset).length===0&&this._destroyDatasetMeta(a)})}buildOrUpdateControllers(){const e=[],r=this.data.datasets;let n,a;for(this._removeUnreferencedMetasets(),n=0,a=r.length;n<a;n++){const i=r[n];let s=this.getDatasetMeta(n);const o=i.type||this.config.type;if(s.type&&s.type!==o&&(this._destroyDatasetMeta(n),s=this.getDatasetMeta(n)),s.type=o,s.indexAxis=i.indexAxis||C1(o,this.options),s.order=i.order||0,s.index=n,s.label=""+i.label,s.visible=this.isDatasetVisible(n),s.controller)s.controller.updateIndex(n),s.controller.linkScales();else{const l=Aa.getController(o),{datasetElementType:u,dataElementType:c}=_r.datasets[o];Object.assign(l,{dataElementType:Aa.getElement(c),datasetElementType:u&&Aa.getElement(u)}),s.controller=new l(this,n),e.push(s.controller)}}return this._updateMetasets(),e}_resetElements(){rn(this.data.datasets,(e,r)=>{this.getDatasetMeta(r).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const r=this.config;r.update();const n=this._options=r.createResolver(r.chartOptionScopes(),this.getContext()),a=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let s=0;for(let u=0,c=this.data.datasets.length;u<c;u++){const{controller:f}=this.getDatasetMeta(u),d=!a&&i.indexOf(f)===-1;f.buildOrUpdateElements(d),s=Math.max(+f.getMaxOverflow(),s)}s=this._minPadding=n.layout.autoPadding?s:0,this._updateLayout(s),a||rn(i,u=>{u.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(Gb("z","_idx"));const{_active:o,_lastEvent:l}=this;l?this._eventHandler(l,!0):o.length&&this._updateHoverStyles(o,o,!0),this.render()}_updateScales(){rn(this.scales,e=>{lf.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,r=new Set(Object.keys(this._listeners)),n=new Set(e.events);(!ob(r,n)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,r=this._getUniformDataChanges()||[];for(const{method:n,start:a,count:i}of r){const s=n==="_removeElements"?-i:i;mz(e,a,s)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const r=this.data.datasets.length,n=i=>new Set(e.filter(s=>s[0]===i).map((s,o)=>o+","+s.splice(1).join(","))),a=n(0);for(let i=1;i<r;i++)if(!ob(a,n(i)))return;return Array.from(a).map(i=>i.split(",")).map(i=>({method:i[1],start:+i[2],count:+i[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;lf.update(this,this.width,this.height,e);const r=this.chartArea,n=r.width<=0||r.height<=0;this._layers=[],rn(this.boxes,a=>{n&&a.position==="chartArea"||(a.configure&&a.configure(),this._layers.push(...a._layers()))},this),this._layers.forEach((a,i)=>{a._idx=i}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let r=0,n=this.data.datasets.length;r<n;++r)this.getDatasetMeta(r).controller.configure();for(let r=0,n=this.data.datasets.length;r<n;++r)this._updateDataset(r,ls(e)?e({datasetIndex:r}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,r){const n=this.getDatasetMeta(e),a={meta:n,index:e,mode:r,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",a)!==!1&&(n.controller._update(r),a.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",a))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Ka.has(this)?this.attached&&!Ka.running(this)&&Ka.start(this):(this.draw(),Yb({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:n,height:a}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(n,a)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const r=this._layers;for(e=0;e<r.length&&r[e].z<=0;++e)r[e].draw(this.chartArea);for(this._drawDatasets();e<r.length;++e)r[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const r=this._sortedMetasets,n=[];let a,i;for(a=0,i=r.length;a<i;++a){const s=r[a];(!e||s.visible)&&n.push(s)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let r=e.length-1;r>=0;--r)this._drawDataset(e[r]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const r=this.ctx,n=e._clip,a=!n.disabled,i=yz(e,this.chartArea),s={meta:e,index:e.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",s)!==!1&&(a&&w2(r,{left:n.left===!1?0:i.left-n.left,right:n.right===!1?this.width:i.right+n.right,top:n.top===!1?0:i.top-n.top,bottom:n.bottom===!1?this.height:i.bottom+n.bottom}),e.controller.draw(),a&&_2(r),s.cancelable=!1,this.notifyPlugins("afterDatasetDraw",s))}isPointInArea(e){return ii(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,r,n,a){const i=pN.modes[r];return typeof i=="function"?i(this,e,n,a):[]}getDatasetMeta(e){const r=this.data.datasets[e],n=this._metasets;let a=n.filter(i=>i&&i._dataset===r).pop();return a||(a={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:r&&r.order||0,index:e,_dataset:r,_parsed:[],_sorted:!1},n.push(a)),a}getContext(){return this.$context||(this.$context=yo(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const r=this.data.datasets[e];if(!r)return!1;const n=this.getDatasetMeta(e);return typeof n.hidden=="boolean"?!n.hidden:!r.hidden}setDatasetVisibility(e,r){const n=this.getDatasetMeta(e);n.hidden=!r}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,r,n){const a=n?"show":"hide",i=this.getDatasetMeta(e),s=i.controller._resolveAnimations(void 0,a);Vd(r)?(i.data[r].hidden=!n,this.update()):(this.setDatasetVisibility(e,n),s.update(i,{visible:n}),this.update(o=>o.datasetIndex===e?a:void 0))}hide(e,r){this._updateVisibility(e,r,!1)}show(e,r){this._updateVisibility(e,r,!0)}_destroyDatasetMeta(e){const r=this._metasets[e];r&&r.controller&&r.controller._destroy(),delete this._metasets[e]}_stop(){let e,r;for(this.stop(),Ka.remove(this),e=0,r=this.data.datasets.length;e<r;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:r}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),yb(e,r),this.platform.releaseContext(r),this.canvas=null,this.ctx=null),delete Jf[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,r=this.platform,n=(i,s)=>{r.addEventListener(this,i,s),e[i]=s},a=(i,s,o)=>{i.offsetX=s,i.offsetY=o,this._eventHandler(i)};rn(this.options.events,i=>n(i,a))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,r=this.platform,n=(l,u)=>{r.addEventListener(this,l,u),e[l]=u},a=(l,u)=>{e[l]&&(r.removeEventListener(this,l,u),delete e[l])},i=(l,u)=>{this.canvas&&this.resize(l,u)};let s;const o=()=>{a("attach",o),this.attached=!0,this.resize(),n("resize",i),n("detach",s)};s=()=>{this.attached=!1,a("resize",i),this._stop(),this._resize(0,0),n("attach",o)},r.isAttached(this.canvas)?o():s()}unbindEvents(){rn(this._listeners,(e,r)=>{this.platform.removeEventListener(this,r,e)}),this._listeners={},rn(this._responsiveListeners,(e,r)=>{this.platform.removeEventListener(this,r,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,r,n){const a=n?"set":"remove";let i,s,o,l;for(r==="dataset"&&(i=this.getDatasetMeta(e[0].datasetIndex),i.controller["_"+a+"DatasetHoverStyle"]()),o=0,l=e.length;o<l;++o){s=e[o];const u=s&&this.getDatasetMeta(s.datasetIndex).controller;u&&u[a+"HoverStyle"](s.element,s.datasetIndex,s.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const r=this._active||[],n=e.map(({datasetIndex:i,index:s})=>{const o=this.getDatasetMeta(i);if(!o)throw new Error("No dataset found at index "+i);return{datasetIndex:i,element:o.data[s],index:s}});!ib(n,r)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,r))}notifyPlugins(e,r,n){return this._plugins.notify(this,e,r,n)}isPluginEnabled(e){return this._plugins._cache.filter(r=>r.plugin.id===e).length===1}_updateHoverStyles(e,r,n){const a=this.options.hover,i=(l,u)=>l.filter(c=>!u.some(f=>c.datasetIndex===f.datasetIndex&&c.index===f.index)),s=i(r,e),o=n?e:i(e,r);s.length&&this.updateHoverStyle(s,a.mode,!1),o.length&&a.mode&&this.updateHoverStyle(o,a.mode,!0)}_eventHandler(e,r){const n={event:e,replay:r,cancelable:!0,inChartArea:this.isPointInArea(e)},a=s=>(s.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",n,a)===!1)return;const i=this._handleEvent(e,r,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,a),(i||n.changed)&&this.render(),this}_handleEvent(e,r,n){const{_active:a=[],options:i}=this,s=r,o=this._getActiveElements(e,a,n,s),l=DO(e),u=vz(e,this._lastEvent,n,l);n&&(this._lastEvent=null,pr(i.onHover,[e,o,this],this),l&&pr(i.onClick,[e,o,this],this));const c=!ib(o,a);return(c||r)&&(this._active=o,this._updateHoverStyles(o,a,r)),this._lastEvent=u,c}_getActiveElements(e,r,n,a){if(e.type==="mouseout")return[];if(!n)return r;const i=this.options.hover;return this.getElementsAtEventForMode(e,i.mode,i,a)}},Ae(Ri,"defaults",_r),Ae(Ri,"instances",Jf),Ae(Ri,"overrides",oo),Ae(Ri,"registry",Aa),Ae(Ri,"version",hz),Ae(Ri,"getChart",Xb),Ri);function Kb(){return rn(s0.instances,t=>t._plugins.invalidate())}function LS(t,e,r=e){t.lineCap=Bt(r.borderCapStyle,e.borderCapStyle),t.setLineDash(Bt(r.borderDash,e.borderDash)),t.lineDashOffset=Bt(r.borderDashOffset,e.borderDashOffset),t.lineJoin=Bt(r.borderJoinStyle,e.borderJoinStyle),t.lineWidth=Bt(r.borderWidth,e.borderWidth),t.strokeStyle=Bt(r.borderColor,e.borderColor)}function bz(t,e,r){t.lineTo(r.x,r.y)}function xz(t){return t.stepped?aI:t.tension||t.cubicInterpolationMode==="monotone"?iI:bz}function RS(t,e,r={}){const n=t.length,{start:a=0,end:i=n-1}=r,{start:s,end:o}=e,l=Math.max(a,s),u=Math.min(i,o),c=a<s&&i<s||a>o&&i>o;return{count:n,start:l,loop:e.loop,ilen:u<l&&!c?n+u-l:u-l}}function wz(t,e,r,n){const{points:a,options:i}=e,{count:s,start:o,loop:l,ilen:u}=RS(a,r,n),c=xz(i);let{move:f=!0,reverse:d}=n||{},p,g,y;for(p=0;p<=u;++p)g=a[(o+(d?u-p:p))%s],!g.skip&&(f?(t.moveTo(g.x,g.y),f=!1):c(t,y,g,d,i.stepped),y=g);return l&&(g=a[(o+(d?u:0))%s],c(t,y,g,d,i.stepped)),!!l}function _z(t,e,r,n){const a=e.points,{count:i,start:s,ilen:o}=RS(a,r,n),{move:l=!0,reverse:u}=n||{};let c=0,f=0,d,p,g,y,x,b;const w=k=>(s+(u?o-k:k))%i,_=()=>{y!==x&&(t.lineTo(c,x),t.lineTo(c,y),t.lineTo(c,b))};for(l&&(p=a[w(0)],t.moveTo(p.x,p.y)),d=0;d<=o;++d){if(p=a[w(d)],p.skip)continue;const k=p.x,E=p.y,D=k|0;D===g?(E<y?y=E:E>x&&(x=E),c=(f*c+k)/++f):(_(),t.lineTo(k,E),g=D,f=0,y=x=E),b=E}_()}function M1(t){const e=t.options,r=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!r?_z:wz}function Sz(t){return t.stepped?$I:t.tension||t.cubicInterpolationMode==="monotone"?qI:zs}function kz(t,e,r,n){let a=e._path;a||(a=e._path=new Path2D,e.path(a,r,n)&&a.closePath()),LS(t,e.options),t.stroke(a)}function Ez(t,e,r,n){const{segments:a,options:i}=e,s=M1(e);for(const o of a)LS(t,i,o.style),t.beginPath(),s(t,e,o,{start:r,end:r+n-1})&&t.closePath(),t.stroke()}const Cz=typeof Path2D=="function";function Tz(t,e,r,n){Cz&&!e.options.segment?kz(t,e,r,n):Ez(t,e,r,n)}class si extends Yh{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,r){const n=this.options;if((n.tension||n.cubicInterpolationMode==="monotone")&&!n.stepped&&!this._pointsUpdated){const a=n.spanGaps?this._loop:this._fullLoop;LI(this._points,n,e,a,r),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=UI(this,this.options.segment))}first(){const e=this.segments,r=this.points;return e.length&&r[e[0].start]}last(){const e=this.segments,r=this.points,n=e.length;return n&&r[e[n-1].end]}interpolate(e,r){const n=this.options,a=e[r],i=this.points,s=wS(this,{property:r,start:a,end:a});if(!s.length)return;const o=[],l=Sz(n);let u,c;for(u=0,c=s.length;u<c;++u){const{start:f,end:d}=s[u],p=i[f],g=i[d];if(p===g){o.push(p);continue}const y=Math.abs((a-p[r])/(g[r]-p[r])),x=l(p,g,y,n.stepped);x[r]=e[r],o.push(x)}return o.length===1?o[0]:o}pathSegment(e,r,n){return M1(this)(e,this,r,n)}path(e,r,n){const a=this.segments,i=M1(this);let s=this._loop;r=r||0,n=n||this.points.length-r;for(const o of a)s&=i(e,this,o,{start:r,end:r+n-1});return!!s}draw(e,r,n,a){const i=this.options||{};(this.points||[]).length&&i.borderWidth&&(e.save(),Tz(e,this,n,a),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}Ae(si,"id","line"),Ae(si,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),Ae(si,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),Ae(si,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function Zb(t,e,r,n){const a=t.options,{[r]:i}=t.getProps([r],n);return Math.abs(e-i)<a.radius+a.hitRadius}class nc extends Yh{constructor(r){super();Ae(this,"parsed");Ae(this,"skip");Ae(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,r&&Object.assign(this,r)}inRange(r,n,a){const i=this.options,{x:s,y:o}=this.getProps(["x","y"],a);return Math.pow(r-s,2)+Math.pow(n-o,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(r,n){return Zb(this,r,"x",n)}inYRange(r,n){return Zb(this,r,"y",n)}getCenterPoint(r){const{x:n,y:a}=this.getProps(["x","y"],r);return{x:n,y:a}}size(r){r=r||this.options||{};let n=r.radius||0;n=Math.max(n,n&&r.hoverRadius||0);const a=n&&r.borderWidth||0;return(n+a)*2}draw(r,n){const a=this.options;this.skip||a.radius<.1||!ii(this,n,this.size(a)/2)||(r.strokeStyle=a.borderColor,r.lineWidth=a.borderWidth,r.fillStyle=a.backgroundColor,rI(r,a,this.x,this.y))}getRange(){const r=this.options||{};return r.radius+r.hitRadius}}Ae(nc,"id","point"),Ae(nc,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),Ae(nc,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function Mz(t,e,r){const n=t.segments,a=t.points,i=e.points,s=[];for(const o of n){let{start:l,end:u}=o;u=D2(l,u,a);const c=D1(r,a[l],a[u],o.loop);if(!e.segments){s.push({source:o,target:c,start:a[l],end:a[u]});continue}const f=wS(e,c);for(const d of f){const p=D1(r,i[d.start],i[d.end],d.loop),g=xS(o,a,p);for(const y of g)s.push({source:y,target:d,start:{[r]:Qb(c,p,"start",Math.max)},end:{[r]:Qb(c,p,"end",Math.min)}})}}return s}function D1(t,e,r,n){if(n)return;let a=e[t],i=r[t];return t==="angle"&&(a=Bn(a),i=Bn(i)),{property:t,start:a,end:i}}function Dz(t,e){const{x:r=null,y:n=null}=t||{},a=e.points,i=[];return e.segments.forEach(({start:s,end:o})=>{o=D2(s,o,a);const l=a[s],u=a[o];n!==null?(i.push({x:l.x,y:n}),i.push({x:u.x,y:n})):r!==null&&(i.push({x:r,y:l.y}),i.push({x:r,y:u.y}))}),i}function D2(t,e,r){for(;e>t;e--){const n=r[e];if(!isNaN(n.x)&&!isNaN(n.y))break}return e}function Qb(t,e,r,n){return t&&e?n(t[r],e[r]):t?t[r]:e?e[r]:0}function OS(t,e){let r=[],n=!1;return mr(t)?(n=!0,r=t):r=Dz(t,e),r.length?new si({points:r,options:{tension:0},_loop:n,_fullLoop:n}):null}function Jb(t){return t&&t.fill!==!1}function Pz(t,e,r){let a=t[e].fill;const i=[e];let s;if(!r)return a;for(;a!==!1&&i.indexOf(a)===-1;){if(!vr(a))return a;if(s=t[a],!s)return!1;if(s.visible)return a;i.push(a),a=s.fill}return!1}function Az(t,e,r){const n=Iz(t);if(St(n))return isNaN(n.value)?!1:n;let a=parseFloat(n);return vr(a)&&Math.floor(a)===a?Lz(n[0],e,a,r):["origin","start","end","stack","shape"].indexOf(n)>=0&&n}function Lz(t,e,r,n){return(t==="-"||t==="+")&&(r=e+r),r===e||r<0||r>=n?!1:r}function Rz(t,e){let r=null;return t==="start"?r=e.bottom:t==="end"?r=e.top:St(t)?r=e.getPixelForValue(t.value):e.getBasePixel&&(r=e.getBasePixel()),r}function Oz(t,e,r){let n;return t==="start"?n=r:t==="end"?n=e.options.reverse?e.min:e.max:St(t)?n=t.value:n=e.getBaseValue(),n}function Iz(t){const e=t.options,r=e.fill;let n=Bt(r&&r.target,r);return n===void 0&&(n=!!e.backgroundColor),n===!1||n===null?!1:n===!0?"origin":n}function Nz(t){const{scale:e,index:r,line:n}=t,a=[],i=n.segments,s=n.points,o=zz(e,r);o.push(OS({x:null,y:e.bottom},n));for(let l=0;l<i.length;l++){const u=i[l];for(let c=u.start;c<=u.end;c++)Bz(a,s[c],o)}return new si({points:a,options:{}})}function zz(t,e){const r=[],n=t.getMatchingVisibleMetas("line");for(let a=0;a<n.length;a++){const i=n[a];if(i.index===e)break;i.hidden||r.unshift(i.dataset)}return r}function Bz(t,e,r){const n=[];for(let a=0;a<r.length;a++){const i=r[a],{first:s,last:o,point:l}=Fz(i,e,"x");if(!(!l||s&&o)){if(s)n.unshift(l);else if(t.push(l),!o)break}}t.push(...n)}function Fz(t,e,r){const n=t.interpolate(e,r);if(!n)return{};const a=n[r],i=t.segments,s=t.points;let o=!1,l=!1;for(let u=0;u<i.length;u++){const c=i[u],f=s[c.start][r],d=s[c.end][r];if(lS(a,f,d)){o=a===f,l=a===d;break}}return{first:o,last:l,point:n}}class IS{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,r,n){const{x:a,y:i,radius:s}=this;return r=r||{start:0,end:Hn},e.arc(a,i,s,r.end,r.start,!0),!n.bounds}interpolate(e){const{x:r,y:n,radius:a}=this,i=e.angle;return{x:r+Math.cos(i)*a,y:n+Math.sin(i)*a,angle:i}}}function $z(t){const{chart:e,fill:r,line:n}=t;if(vr(r))return qz(e,r);if(r==="stack")return Nz(t);if(r==="shape")return!0;const a=Hz(t);return a instanceof IS?a:OS(a,n)}function qz(t,e){const r=t.getDatasetMeta(e);return r&&t.isDatasetVisible(e)?r.dataset:null}function Hz(t){return(t.scale||{}).getPointPositionForValue?jz(t):Vz(t)}function Vz(t){const{scale:e={},fill:r}=t,n=Rz(r,e);if(vr(n)){const a=e.isHorizontal();return{x:a?n:null,y:a?null:n}}return null}function jz(t){const{scale:e,fill:r}=t,n=e.options,a=e.getLabels().length,i=n.reverse?e.max:e.min,s=Oz(r,e,i),o=[];if(n.grid.circular){const l=e.getPointPositionForValue(0,i);return new IS({x:l.x,y:l.y,radius:e.getDistanceFromCenterForValue(s)})}for(let l=0;l<a;++l)o.push(e.getPointPositionForValue(l,s));return o}function Ng(t,e,r){const n=$z(e),{line:a,scale:i,axis:s}=e,o=a.options,l=o.fill,u=o.backgroundColor,{above:c=u,below:f=u}=l||{};n&&a.points.length&&(w2(t,r),Uz(t,{line:a,target:n,above:c,below:f,area:r,scale:i,axis:s}),_2(t))}function Uz(t,e){const{line:r,target:n,above:a,below:i,area:s,scale:o}=e,l=r._loop?"angle":e.axis;t.save(),l==="x"&&i!==a&&(ex(t,n,s.top),tx(t,{line:r,target:n,color:a,scale:o,property:l}),t.restore(),t.save(),ex(t,n,s.bottom)),tx(t,{line:r,target:n,color:i,scale:o,property:l}),t.restore()}function ex(t,e,r){const{segments:n,points:a}=e;let i=!0,s=!1;t.beginPath();for(const o of n){const{start:l,end:u}=o,c=a[l],f=a[D2(l,u,a)];i?(t.moveTo(c.x,c.y),i=!1):(t.lineTo(c.x,r),t.lineTo(c.x,c.y)),s=!!e.pathSegment(t,o,{move:s}),s?t.closePath():t.lineTo(f.x,r)}t.lineTo(e.first().x,r),t.closePath(),t.clip()}function tx(t,e){const{line:r,target:n,property:a,color:i,scale:s}=e,o=Mz(r,n,a);for(const{source:l,target:u,start:c,end:f}of o){const{style:{backgroundColor:d=i}={}}=l,p=n!==!0;t.save(),t.fillStyle=d,Wz(t,s,p&&D1(a,c,f)),t.beginPath();const g=!!r.pathSegment(t,l);let y;if(p){g?t.closePath():rx(t,n,f,a);const x=!!n.pathSegment(t,u,{move:g,reverse:!0});y=g&&x,y||rx(t,n,c,a)}t.closePath(),t.fill(y?"evenodd":"nonzero"),t.restore()}}function Wz(t,e,r){const{top:n,bottom:a}=e.chart.chartArea,{property:i,start:s,end:o}=r||{};i==="x"&&(t.beginPath(),t.rect(s,n,o-s,a-n),t.clip())}function rx(t,e,r,n){const a=e.interpolate(r,n);a&&t.lineTo(a.x,a.y)}var NS={id:"filler",afterDatasetsUpdate(t,e,r){const n=(t.data.datasets||[]).length,a=[];let i,s,o,l;for(s=0;s<n;++s)i=t.getDatasetMeta(s),o=i.dataset,l=null,o&&o.options&&o instanceof si&&(l={visible:t.isDatasetVisible(s),index:s,fill:Az(o,s,n),chart:t,axis:i.controller.options.indexAxis,scale:i.vScale,line:o}),i.$filler=l,a.push(l);for(s=0;s<n;++s)l=a[s],!(!l||l.fill===!1)&&(l.fill=Pz(a,s,r.propagate))},beforeDraw(t,e,r){const n=r.drawTime==="beforeDraw",a=t.getSortedVisibleDatasetMetas(),i=t.chartArea;for(let s=a.length-1;s>=0;--s){const o=a[s].$filler;o&&(o.line.updateControlPoints(i,o.axis),n&&o.fill&&Ng(t.ctx,o,i))}},beforeDatasetsDraw(t,e,r){if(r.drawTime!=="beforeDatasetsDraw")return;const n=t.getSortedVisibleDatasetMetas();for(let a=n.length-1;a>=0;--a){const i=n[a].$filler;Jb(i)&&Ng(t.ctx,i,t.chartArea)}},beforeDatasetDraw(t,e,r){const n=e.meta.$filler;!Jb(n)||r.drawTime!=="beforeDatasetDraw"||Ng(t.ctx,n,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};function Gz(t,e){const r=[],{bounds:a,step:i,min:s,max:o,precision:l,count:u,maxTicks:c,maxDigits:f,includeBounds:d}=t,p=i||1,g=c-1,{min:y,max:x}=e,b=!Ht(s),w=!Ht(o),_=!Ht(u),k=(x-y)/(f+1);let E=ub((x-y)/g/p)*p,D,M,A,R;if(E<1e-14&&!b&&!w)return[{value:y},{value:x}];R=Math.ceil(x/E)-Math.floor(y/E),R>g&&(E=ub(R*E/g/p)*p),Ht(l)||(D=Math.pow(10,l),E=Math.ceil(E*D)/D),a==="ticks"?(M=Math.floor(y/E)*E,A=Math.ceil(x/E)*E):(M=y,A=x),b&&w&&i&&OO((o-s)/i,E/1e3)?(R=Math.round(Math.min((o-s)/E,c)),E=(o-s)/R,M=s,A=o):_?(M=b?s:M,A=w?o:A,R=u-1,E=(A-M)/R):(R=(A-M)/E,Ju(R,Math.round(R),E/1e3)?R=Math.round(R):R=Math.ceil(R));const O=Math.max(cb(E),cb(M));D=Math.pow(10,Ht(l)?O:l),M=Math.round(M*D)/D,A=Math.round(A*D)/D;let N=0;for(b&&(d&&M!==s?(r.push({value:s}),M<s&&N++,Ju(Math.round((M+N*E)*D)/D,s,nx(s,k,t))&&N++):M<s&&N++);N<R;++N){const B=Math.round((M+N*E)*D)/D;if(w&&B>o)break;r.push({value:B})}return w&&d&&A!==o?r.length&&Ju(r[r.length-1].value,o,nx(o,k,t))?r[r.length-1].value=o:r.push({value:o}):(!w||A===o)&&r.push({value:A}),r}function nx(t,e,{horizontal:r,minRotation:n}){const a=Vi(n),i=(r?Math.sin(a):Math.cos(a))||.001,s=.75*e*(""+t).length;return Math.min(e/i,s)}class Xd extends Yl{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,r){return Ht(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:r,maxDefined:n}=this.getUserBounds();let{min:a,max:i}=this;const s=l=>a=r?a:l,o=l=>i=n?i:l;if(e){const l=Rl(a),u=Rl(i);l<0&&u<0?o(0):l>0&&u>0&&s(0)}if(a===i){let l=i===0?1:Math.abs(i*.05);o(i+l),e||s(a-l)}this.min=a,this.max=i}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:r,stepSize:n}=e,a;return n?(a=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,a>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${a} ticks. Limiting to 1000.`),a=1e3)):(a=this.computeTickLimit(),r=r||11),r&&(a=Math.min(r,a)),a}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,r=e.ticks;let n=this.getTickLimit();n=Math.max(2,n);const a={maxTicks:n,bounds:e.bounds,min:e.min,max:e.max,precision:r.precision,step:r.stepSize,count:r.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:r.minRotation||0,includeBounds:r.includeBounds!==!1},i=this._range||this,s=Gz(a,i);return e.bounds==="ticks"&&sS(s,this,"value"),e.reverse?(s.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),s}configure(){const e=this.ticks;let r=this.min,n=this.max;if(super.configure(),this.options.offset&&e.length){const a=(n-r)/Math.max(e.length-1,1)/2;r-=a,n+=a}this._startValue=r,this._endValue=n,this._valueRange=n-r}getLabelForValue(e){return x2(e,this.chart.options.locale,this.options.ticks.format)}}class Kd extends Xd{determineDataLimits(){const{min:e,max:r}=this.getMinMax(!0);this.min=vr(e)?e:0,this.max=vr(r)?r:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),r=e?this.width:this.height,n=Vi(this.options.ticks.minRotation),a=(e?Math.sin(n):Math.cos(n))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(r/Math.min(40,i.lineHeight/a))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}Ae(Kd,"id","linear"),Ae(Kd,"defaults",{ticks:{callback:Wh.formatters.numeric}});const Rc=t=>Math.floor(Hi(t)),Ls=(t,e)=>Math.pow(10,Rc(t)+e);function ax(t){return t/Math.pow(10,Rc(t))===1}function ix(t,e,r){const n=Math.pow(10,r),a=Math.floor(t/n);return Math.ceil(e/n)-a}function Yz(t,e){const r=e-t;let n=Rc(r);for(;ix(t,e,n)>10;)n++;for(;ix(t,e,n)<10;)n--;return Math.min(n,Rc(t))}function Xz(t,{min:e,max:r}){e=Nn(t.min,e);const n=[],a=Rc(e);let i=Yz(e,r),s=i<0?Math.pow(10,Math.abs(i)):1;const o=Math.pow(10,i),l=a>i?Math.pow(10,a):0,u=Math.round((e-l)*s)/s,c=Math.floor((e-l)/o/10)*o*10;let f=Math.floor((u-c)/Math.pow(10,i)),d=Nn(t.min,Math.round((l+c+f*Math.pow(10,i))*s)/s);for(;d<r;)n.push({value:d,major:ax(d),significand:f}),f>=10?f=f<15?15:20:f++,f>=20&&(i++,f=2,s=i>=0?1:s),d=Math.round((l+c+f*Math.pow(10,i))*s)/s;const p=Nn(t.max,d);return n.push({value:p,major:ax(p),significand:f}),n}class sx extends Yl{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,r){const n=Xd.prototype.parse.apply(this,[e,r]);if(n===0){this._zero=!0;return}return vr(n)&&n>0?n:null}determineDataLimits(){const{min:e,max:r}=this.getMinMax(!0);this.min=vr(e)?Math.max(0,e):null,this.max=vr(r)?Math.max(0,r):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!vr(this._userMin)&&(this.min=e===Ls(this.min,0)?Ls(this.min,-1):Ls(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:r}=this.getUserBounds();let n=this.min,a=this.max;const i=o=>n=e?n:o,s=o=>a=r?a:o;n===a&&(n<=0?(i(1),s(10)):(i(Ls(n,-1)),s(Ls(a,1)))),n<=0&&i(Ls(a,-1)),a<=0&&s(Ls(n,1)),this.min=n,this.max=a}buildTicks(){const e=this.options,r={min:this._userMin,max:this._userMax},n=Xz(r,this);return e.bounds==="ticks"&&sS(n,this,"value"),e.reverse?(n.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),n}getLabelForValue(e){return e===void 0?"0":x2(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=Hi(e),this._valueRange=Hi(this.max)-Hi(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(Hi(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const r=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+r*this._valueRange)}}Ae(sx,"id","logarithmic"),Ae(sx,"defaults",{ticks:{callback:Wh.formatters.logarithmic,major:{enabled:!0}}});function P1(t){const e=t.ticks;if(e.display&&t.display){const r=vi(e.backdropPadding);return Bt(e.font&&e.font.size,_r.font.size)+r.height}return 0}function Kz(t,e,r){return r=mr(r)?r:[r],{w:tI(t,e.string,r),h:r.length*e.lineHeight}}function ox(t,e,r,n,a){return t===n||t===a?{start:e-r/2,end:e+r/2}:t<n||t>a?{start:e-r,end:e}:{start:e,end:e+r}}function Zz(t){const e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},r=Object.assign({},e),n=[],a=[],i=t._pointLabels.length,s=t.options.pointLabels,o=s.centerPointLabels?qr/i:0;for(let l=0;l<i;l++){const u=s.setContext(t.getPointLabelContext(l));a[l]=u.padding;const c=t.getPointPosition(l,t.drawingArea+a[l],o),f=Ol(u.font),d=Kz(t.ctx,f,t._pointLabels[l]);n[l]=d;const p=Bn(t.getIndexAngle(l)+o),g=Math.round(v2(p)),y=ox(g,c.x,d.w,0,180),x=ox(g,c.y,d.h,90,270);Qz(r,e,p,y,x)}t.setCenterPoint(e.l-r.l,r.r-e.r,e.t-r.t,r.b-e.b),t._pointLabelItems=tB(t,n,a)}function Qz(t,e,r,n,a){const i=Math.abs(Math.sin(r)),s=Math.abs(Math.cos(r));let o=0,l=0;n.start<e.l?(o=(e.l-n.start)/i,t.l=Math.min(t.l,e.l-o)):n.end>e.r&&(o=(n.end-e.r)/i,t.r=Math.max(t.r,e.r+o)),a.start<e.t?(l=(e.t-a.start)/s,t.t=Math.min(t.t,e.t-l)):a.end>e.b&&(l=(a.end-e.b)/s,t.b=Math.max(t.b,e.b+l))}function Jz(t,e,r){const n=t.drawingArea,{extra:a,additionalAngle:i,padding:s,size:o}=r,l=t.getPointPosition(e,n+a+s,i),u=Math.round(v2(Bn(l.angle+$n))),c=aB(l.y,o.h,u),f=rB(u),d=nB(l.x,o.w,f);return{visible:!0,x:l.x,y:c,textAlign:f,left:d,top:c,right:d+o.w,bottom:c+o.h}}function eB(t,e){if(!e)return!0;const{left:r,top:n,right:a,bottom:i}=t;return!(ii({x:r,y:n},e)||ii({x:r,y:i},e)||ii({x:a,y:n},e)||ii({x:a,y:i},e))}function tB(t,e,r){const n=[],a=t._pointLabels.length,i=t.options,{centerPointLabels:s,display:o}=i.pointLabels,l={extra:P1(i)/2,additionalAngle:s?qr/a:0};let u;for(let c=0;c<a;c++){l.padding=r[c],l.size=e[c];const f=Jz(t,c,l);n.push(f),o==="auto"&&(f.visible=eB(f,u),f.visible&&(u=f))}return n}function rB(t){return t===0||t===180?"center":t<180?"left":"right"}function nB(t,e,r){return r==="right"?t-=e:r==="center"&&(t-=e/2),t}function aB(t,e,r){return r===90||r===270?t-=e/2:(r>270||r<90)&&(t-=e),t}function iB(t,e,r){const{left:n,top:a,right:i,bottom:s}=r,{backdropColor:o}=e;if(!Ht(o)){const l=gI(e.borderRadius),u=vi(e.backdropPadding);t.fillStyle=o;const c=n-u.left,f=a-u.top,d=i-n+u.width,p=s-a+u.height;Object.values(l).some(g=>g!==0)?(t.beginPath(),uI(t,{x:c,y:f,w:d,h:p,radius:l}),t.fill()):t.fillRect(c,f,d,p)}}function sB(t,e){const{ctx:r,options:{pointLabels:n}}=t;for(let a=e-1;a>=0;a--){const i=t._pointLabelItems[a];if(!i.visible)continue;const s=n.setContext(t.getPointLabelContext(a));iB(r,s,i);const o=Ol(s.font),{x:l,y:u,textAlign:c}=i;Wd(r,t._pointLabels[a],l,u+o.lineHeight/2,o,{color:s.color,textAlign:c,textBaseline:"middle"})}}function zS(t,e,r,n){const{ctx:a}=t;if(r)a.arc(t.xCenter,t.yCenter,e,0,Hn);else{let i=t.getPointPosition(0,e);a.moveTo(i.x,i.y);for(let s=1;s<n;s++)i=t.getPointPosition(s,e),a.lineTo(i.x,i.y)}}function oB(t,e,r,n,a){const i=t.ctx,s=e.circular,{color:o,lineWidth:l}=e;!s&&!n||!o||!l||r<0||(i.save(),i.strokeStyle=o,i.lineWidth=l,i.setLineDash(a.dash||[]),i.lineDashOffset=a.dashOffset,i.beginPath(),zS(t,r,s,n),i.closePath(),i.stroke(),i.restore())}function lB(t,e,r){return yo(t,{label:r,index:e,type:"pointLabel"})}class hf extends Xd{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=vi(P1(this.options)/2),r=this.width=this.maxWidth-e.width,n=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+r/2+e.left),this.yCenter=Math.floor(this.top+n/2+e.top),this.drawingArea=Math.floor(Math.min(r,n)/2)}determineDataLimits(){const{min:e,max:r}=this.getMinMax(!1);this.min=vr(e)&&!isNaN(e)?e:0,this.max=vr(r)&&!isNaN(r)?r:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/P1(this.options))}generateTickLabels(e){Xd.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((r,n)=>{const a=pr(this.options.pointLabels.callback,[r,n],this);return a||a===0?a:""}).filter((r,n)=>this.chart.getDataVisibility(n))}fit(){const e=this.options;e.display&&e.pointLabels.display?Zz(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,r,n,a){this.xCenter+=Math.floor((e-r)/2),this.yCenter+=Math.floor((n-a)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,r,n,a))}getIndexAngle(e){const r=Hn/(this._pointLabels.length||1),n=this.options.startAngle||0;return Bn(e*r+Vi(n))}getDistanceFromCenterForValue(e){if(Ht(e))return NaN;const r=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*r:(e-this.min)*r}getValueForDistanceFromCenter(e){if(Ht(e))return NaN;const r=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-r:this.min+r}getPointLabelContext(e){const r=this._pointLabels||[];if(e>=0&&e<r.length){const n=r[e];return lB(this.getContext(),e,n)}}getPointPosition(e,r,n=0){const a=this.getIndexAngle(e)-$n+n;return{x:Math.cos(a)*r+this.xCenter,y:Math.sin(a)*r+this.yCenter,angle:a}}getPointPositionForValue(e,r){return this.getPointPosition(e,this.getDistanceFromCenterForValue(r))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:r,top:n,right:a,bottom:i}=this._pointLabelItems[e];return{left:r,top:n,right:a,bottom:i}}drawBackground(){const{backgroundColor:e,grid:{circular:r}}=this.options;if(e){const n=this.ctx;n.save(),n.beginPath(),zS(this,this.getDistanceFromCenterForValue(this._endValue),r,this._pointLabels.length),n.closePath(),n.fillStyle=e,n.fill(),n.restore()}}drawGrid(){const e=this.ctx,r=this.options,{angleLines:n,grid:a,border:i}=r,s=this._pointLabels.length;let o,l,u;if(r.pointLabels.display&&sB(this,s),a.display&&this.ticks.forEach((c,f)=>{if(f!==0||f===0&&this.min<0){l=this.getDistanceFromCenterForValue(c.value);const d=this.getContext(f),p=a.setContext(d),g=i.setContext(d);oB(this,p,l,s,g)}}),n.display){for(e.save(),o=s-1;o>=0;o--){const c=n.setContext(this.getPointLabelContext(o)),{color:f,lineWidth:d}=c;!d||!f||(e.lineWidth=d,e.strokeStyle=f,e.setLineDash(c.borderDash),e.lineDashOffset=c.borderDashOffset,l=this.getDistanceFromCenterForValue(r.reverse?this.min:this.max),u=this.getPointPosition(o,l),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(u.x,u.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,r=this.options,n=r.ticks;if(!n.display)return;const a=this.getIndexAngle(0);let i,s;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(a),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((o,l)=>{if(l===0&&this.min>=0&&!r.reverse)return;const u=n.setContext(this.getContext(l)),c=Ol(u.font);if(i=this.getDistanceFromCenterForValue(this.ticks[l].value),u.showLabelBackdrop){e.font=c.string,s=e.measureText(o.label).width,e.fillStyle=u.backdropColor;const f=vi(u.backdropPadding);e.fillRect(-s/2-f.left,-i-c.size/2-f.top,s+f.width,c.size+f.height)}Wd(e,o.label,0,-i,c,{color:u.color,strokeColor:u.textStrokeColor,strokeWidth:u.textStrokeWidth})}),e.restore()}drawTitle(){}}Ae(hf,"id","radialLinear"),Ae(hf,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Wh.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}}),Ae(hf,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),Ae(hf,"descriptors",{angleLines:{_fallback:"grid"}});const Xh={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Mn=Object.keys(Xh);function lx(t,e){return t-e}function ux(t,e){if(Ht(e))return null;const r=t._adapter,{parser:n,round:a,isoWeekday:i}=t._parseOpts;let s=e;return typeof n=="function"&&(s=n(s)),vr(s)||(s=typeof n=="string"?r.parse(s,n):r.parse(s)),s===null?null:(a&&(s=a==="week"&&(Ac(i)||i===!0)?r.startOf(s,"isoWeek",i):r.startOf(s,a)),+s)}function cx(t,e,r,n){const a=Mn.length;for(let i=Mn.indexOf(t);i<a-1;++i){const s=Xh[Mn[i]],o=s.steps?s.steps:Number.MAX_SAFE_INTEGER;if(s.common&&Math.ceil((r-e)/(o*s.size))<=n)return Mn[i]}return Mn[a-1]}function uB(t,e,r,n,a){for(let i=Mn.length-1;i>=Mn.indexOf(r);i--){const s=Mn[i];if(Xh[s].common&&t._adapter.diff(a,n,s)>=e-1)return s}return Mn[r?Mn.indexOf(r):0]}function cB(t){for(let e=Mn.indexOf(t)+1,r=Mn.length;e<r;++e)if(Xh[Mn[e]].common)return Mn[e]}function fx(t,e,r){if(!r)t[e]=!0;else if(r.length){const{lo:n,hi:a}=y2(r,e),i=r[n]>=e?r[n]:r[a];t[i]=!0}}function fB(t,e,r,n){const a=t._adapter,i=+a.startOf(e[0].value,n),s=e[e.length-1].value;let o,l;for(o=i;o<=s;o=+a.add(o,1,n))l=r[o],l>=0&&(e[l].major=!0);return e}function dx(t,e,r){const n=[],a={},i=e.length;let s,o;for(s=0;s<i;++s)o=e[s],a[o]=s,n.push({value:o,major:!1});return i===0||!r?n:fB(t,n,a,r)}class Zd extends Yl{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,r={}){const n=e.time||(e.time={}),a=this._adapter=new uN._date(e.adapters.date);a.init(r),Qu(n.displayFormats,a.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(e),this._normalized=r.normalized}parse(e,r){return e===void 0?null:ux(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,r=this._adapter,n=e.time.unit||"day";let{min:a,max:i,minDefined:s,maxDefined:o}=this.getUserBounds();function l(u){!s&&!isNaN(u.min)&&(a=Math.min(a,u.min)),!o&&!isNaN(u.max)&&(i=Math.max(i,u.max))}(!s||!o)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),a=vr(a)&&!isNaN(a)?a:+r.startOf(Date.now(),n),i=vr(i)&&!isNaN(i)?i:+r.endOf(Date.now(),n)+1,this.min=Math.min(a,i-1),this.max=Math.max(a+1,i)}_getLabelBounds(){const e=this.getLabelTimestamps();let r=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return e.length&&(r=e[0],n=e[e.length-1]),{min:r,max:n}}buildTicks(){const e=this.options,r=e.time,n=e.ticks,a=n.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&a.length&&(this.min=this._userMin||a[0],this.max=this._userMax||a[a.length-1]);const i=this.min,s=this.max,o=FO(a,i,s);return this._unit=r.unit||(n.autoSkip?cx(r.minUnit,this.min,this.max,this._getLabelCapacity(i)):uB(this,o.length,r.minUnit,this.min,this.max)),this._majorUnit=!n.major.enabled||this._unit==="year"?void 0:cB(this._unit),this.initOffsets(a),e.reverse&&o.reverse(),dx(this,o,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let r=0,n=0,a,i;this.options.offset&&e.length&&(a=this.getDecimalForValue(e[0]),e.length===1?r=1-a:r=(this.getDecimalForValue(e[1])-a)/2,i=this.getDecimalForValue(e[e.length-1]),e.length===1?n=i:n=(i-this.getDecimalForValue(e[e.length-2]))/2);const s=e.length<3?.5:.25;r=ai(r,0,s),n=ai(n,0,s),this._offsets={start:r,end:n,factor:1/(r+1+n)}}_generate(){const e=this._adapter,r=this.min,n=this.max,a=this.options,i=a.time,s=i.unit||cx(i.minUnit,r,n,this._getLabelCapacity(r)),o=Bt(a.ticks.stepSize,1),l=s==="week"?i.isoWeekday:!1,u=Ac(l)||l===!0,c={};let f=r,d,p;if(u&&(f=+e.startOf(f,"isoWeek",l)),f=+e.startOf(f,u?"day":s),e.diff(n,r,s)>1e5*o)throw new Error(r+" and "+n+" are too far apart with stepSize of "+o+" "+s);const g=a.ticks.source==="data"&&this.getDataTimestamps();for(d=f,p=0;d<n;d=+e.add(d,o,s),p++)fx(c,d,g);return(d===n||a.bounds==="ticks"||p===1)&&fx(c,d,g),Object.keys(c).sort(lx).map(y=>+y)}getLabelForValue(e){const r=this._adapter,n=this.options.time;return n.tooltipFormat?r.format(e,n.tooltipFormat):r.format(e,n.displayFormats.datetime)}format(e,r){const a=this.options.time.displayFormats,i=this._unit,s=r||a[i];return this._adapter.format(e,s)}_tickFormatFunction(e,r,n,a){const i=this.options,s=i.ticks.callback;if(s)return pr(s,[e,r,n],this);const o=i.time.displayFormats,l=this._unit,u=this._majorUnit,c=l&&o[l],f=u&&o[u],d=n[r],p=u&&f&&d&&d.major;return this._adapter.format(e,a||(p?f:c))}generateTickLabels(e){let r,n,a;for(r=0,n=e.length;r<n;++r)a=e[r],a.label=this._tickFormatFunction(a.value,r,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const r=this._offsets,n=this.getDecimalForValue(e);return this.getPixelForDecimal((r.start+n)*r.factor)}getValueForPixel(e){const r=this._offsets,n=this.getDecimalForPixel(e)/r.factor-r.end;return this.min+n*(this.max-this.min)}_getLabelSize(e){const r=this.options.ticks,n=this.ctx.measureText(e).width,a=Vi(this.isHorizontal()?r.maxRotation:r.minRotation),i=Math.cos(a),s=Math.sin(a),o=this._resolveTickFontOptions(0).size;return{w:n*i+o*s,h:n*s+o*i}}_getLabelCapacity(e){const r=this.options.time,n=r.displayFormats,a=n[r.unit]||n.millisecond,i=this._tickFormatFunction(e,0,dx(this,[e],this._majorUnit),a),s=this._getLabelSize(i),o=Math.floor(this.isHorizontal()?this.width/s.w:this.height/s.h)-1;return o>0?o:1}getDataTimestamps(){let e=this._cache.data||[],r,n;if(e.length)return e;const a=this.getMatchingVisibleMetas();if(this._normalized&&a.length)return this._cache.data=a[0].controller.getAllParsedValues(this);for(r=0,n=a.length;r<n;++r)e=e.concat(a[r].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let r,n;if(e.length)return e;const a=this.getLabels();for(r=0,n=a.length;r<n;++r)e.push(ux(this,a[r]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return qO(e.sort(lx))}}Ae(Zd,"id","time"),Ae(Zd,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function pf(t,e,r){let n=0,a=t.length-1,i,s,o,l;r?(e>=t[n].pos&&e<=t[a].pos&&({lo:n,hi:a}=Ws(t,"pos",e)),{pos:i,time:o}=t[n],{pos:s,time:l}=t[a]):(e>=t[n].time&&e<=t[a].time&&({lo:n,hi:a}=Ws(t,"time",e)),{time:i,pos:o}=t[n],{time:s,pos:l}=t[a]);const u=s-i;return u?o+(l-o)*(e-i)/u:o}class hx extends Zd{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),r=this._table=this.buildLookupTable(e);this._minPos=pf(r,this.min),this._tableRange=pf(r,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:r,max:n}=this,a=[],i=[];let s,o,l,u,c;for(s=0,o=e.length;s<o;++s)u=e[s],u>=r&&u<=n&&a.push(u);if(a.length<2)return[{time:r,pos:0},{time:n,pos:1}];for(s=0,o=a.length;s<o;++s)c=a[s+1],l=a[s-1],u=a[s],Math.round((c+l)/2)!==u&&i.push({time:u,pos:s/(o-1)});return i}_generate(){const e=this.min,r=this.max;let n=super.getDataTimestamps();return(!n.includes(e)||!n.length)&&n.splice(0,0,e),(!n.includes(r)||n.length===1)&&n.push(r),n.sort((a,i)=>a-i)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const r=this.getDataTimestamps(),n=this.getLabelTimestamps();return r.length&&n.length?e=this.normalize(r.concat(n)):e=r.length?r:n,e=this._cache.all=e,e}getDecimalForValue(e){return(pf(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const r=this._offsets,n=this.getDecimalForPixel(e)/r.factor-r.end;return pf(this._table,n*this._tableRange+this._minPos,!0)}}Ae(hx,"id","timeseries"),Ae(hx,"defaults",Zd.defaults);const BS="label";function px(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function dB(t,e){const r=t.options;r&&e&&Object.assign(r,e)}function FS(t,e){t.labels=e}function $S(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:BS;const n=[];t.datasets=e.map(a=>{const i=t.datasets.find(s=>s[r]===a[r]);return!i||!a.data||n.includes(i)?{...a}:(n.push(i),Object.assign(i,a),i)})}function hB(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:BS;const r={labels:[],datasets:[]};return FS(r,t.labels),$S(r,t.datasets,e),r}function pB(t,e){const{height:r=150,width:n=300,redraw:a=!1,datasetIdKey:i,type:s,data:o,options:l,plugins:u=[],fallbackContent:c,updateMode:f,...d}=t,p=Q.useRef(null),g=Q.useRef(null),y=()=>{p.current&&(g.current=new s0(p.current,{type:s,data:hB(o,i),options:l&&{...l},plugins:u}),px(e,g.current))},x=()=>{px(e,null),g.current&&(g.current.destroy(),g.current=null)};return Q.useEffect(()=>{!a&&g.current&&l&&dB(g.current,l)},[a,l]),Q.useEffect(()=>{!a&&g.current&&FS(g.current.config.data,o.labels)},[a,o.labels]),Q.useEffect(()=>{!a&&g.current&&o.datasets&&$S(g.current.config.data,o.datasets,i)},[a,o.datasets]),Q.useEffect(()=>{g.current&&(a?(x(),setTimeout(y)):g.current.update(f))},[a,l,o.labels,o.datasets,f]),Q.useEffect(()=>{g.current&&(x(),setTimeout(y))},[s]),Q.useEffect(()=>(y(),()=>x()),[]),ft.createElement("canvas",{ref:p,role:"img",height:r,width:n,...d},c)}const gB=Q.forwardRef(pB);function mB(t,e){return s0.register(e),Q.forwardRef((r,n)=>ft.createElement(gB,{...r,ref:n,type:t}))}const qS=mB("scatter",gl),HS=(t,e,r,n)=>{if(t.length===0)return{prediction:"undecided",neighbors:[]};const{xMin:a,xMax:i,yMin:s,yMax:o}=e,l=t.map(y=>{const x=Math.sqrt(Math.pow((y.x-r.x)/(i-a),2)+Math.pow((y.y-r.y)/(o-s),2));return{...y,distance:x}});l.sort((y,x)=>y.distance-x.distance);const u=l.slice(0,n),c={};u.forEach(y=>{y.label&&(c[y.label]=(c[y.label]||0)+1)});const f=Object.entries(c).sort(([,y],[,x])=>x-y);if(f.length===0)return{prediction:"undecided",neighbors:u};const d=f[0][1],p=f.filter(([,y])=>y===d);let g="";return p.length>1?g="undecided":g=f[0][0],{prediction:g,neighbors:u}},vB=(t,e,r,n)=>{const{xMin:a,xMax:i,yMin:s,yMax:o}=e,l=[];return[...Array(r).keys()].forEach(u=>{const c=a+u*(i-a)/(r-1);l[u]=[],[...Array(r).keys()].forEach(f=>{const d=s+f*(o-s)/(r-1);l[u][f]=HS(t,e,{x:c,y:d},n).prediction})}),l};s0.register(gl,Kd,nc,si,NS);const Do={xMin:0,xMax:1024,yMin:0,yMax:20},yB=({k:t,fruitStyles:e,fruitData:r,inferDatapoint:n,showDecisionBorder:a,chartRef:i})=>{const{t:s}=Qr(),o=100,l=Q.useMemo(()=>r.map(g=>({x:g.color[1],y:g.length,label:g.label})),[r]),u=Q.useMemo(()=>a?vB(l,Do,o,t):null,[a,l,t]),c=Q.useMemo(()=>{if(!u)return null;const g=document.createElement("canvas");g.width=o,g.height=o;const y=g.getContext("2d");if(!y)return null;for(let x=0;x<o;x++)for(let b=0;b<o;b++){const w=u[x][b];y.fillStyle=e[w].fillColor,y.fillRect(x,o-1-b,1,1)}return g},[u,e]),f=g=>{const y={x:g.color[1],y:g.length},{neighbors:x,prediction:b}=HS(l,Do,y,t);return[{label:"lines",data:x.flatMap(_=>[{x:y.x,y:y.y,emoji:null},{x:_.x,y:_.y,emoji:null}]),showLine:!0,pointRadius:0,borderColor:"#080808"},{label:"infer",data:[{x:y.x,y:y.y,emoji:e[b].emoji}],showLine:!1,pointRadius:0}]},d=Q.useMemo(()=>({datasets:[{label:"fruits",data:r.map(g=>({x:g.color[1],y:g.length,emoji:e[g.label].emoji||null})),showLine:!1,pointRadius:0,pointBackgroundColor:"rgb(112, 112, 112)",pointHoverRadius:20,pointHoverBackgroundColor:"rgba(112, 112, 112, 0.5)"},...n?f(n):[]]}),[r,e,n,t,l]),p=Q.useMemo(()=>({aspectRatio:1,responsive:!0,maintainAspectRatio:!0,events:[],layout:{padding:{right:10}},scales:{x:{min:Do.xMin,max:Do.xMax,ticks:{display:!1},grid:{display:!1},title:{display:!0,text:s("FruitPredictor.xAxisTitle"),padding:{top:30},font:{size:16}}},y:{min:Do.yMin,max:Do.yMax,title:{display:!0,text:s("FruitPredictor.yAxisTitle"),font:{size:16}}}},animation:!1,plugins:{decision_border_plugin:{decisionBorderBitmap:c,fruitStyles:e,show:a}}}),[s,c,e,a]);return Y.jsx(qS,{id:"fruit-predictor-scatter",ref:i,data:d,options:p,plugins:[wB,xB,_B,SB]})};function bB(t,e,r,n,a,i){const s=Math.min(i,n/2,a/2);t.beginPath(),t.moveTo(e+s,r),t.lineTo(e+n-s,r),t.quadraticCurveTo(e+n,r,e+n,r+s),t.lineTo(e+n,r+a-s),t.quadraticCurveTo(e+n,r+a,e+n-s,r+a),t.lineTo(e+s,r+a),t.quadraticCurveTo(e,r+a,e,r+a-s),t.lineTo(e,r+s),t.quadraticCurveTo(e,r,e+s,r),t.closePath()}const xB={id:"gradient_scale_plugin",afterDraw:t=>{const{ctx:e,scales:r}=t,n=r.x,a=r.y,i=e.createLinearGradient(n.left,a.bottom,n.right,a.bottom);i.addColorStop(0,"rgb(255, 0, 0)"),i.addColorStop(1,"rgb(255, 255, 0)");const s=n.left,o=a.bottom+10,l=n.width,u=20,c=5;e.save(),e.fillStyle=i,bB(e,s,o,l,u,c),e.fill(),e.strokeStyle="black",e.lineWidth=1,e.stroke(),e.restore()}},wB={id:"emojiPlugin",afterDatasetsDraw:t=>{const{ctx:e,data:r}=t;r.datasets.forEach((n,a)=>{const i=t.getDatasetMeta(a),s=n,o="20px sans-serif";e.save(),e.fillStyle="rgba(255, 255, 255, 1)",e.font=o,e.textAlign="center",e.textBaseline="middle",s.data.forEach((l,u)=>{const{emoji:c}=l,f=i.data[u];if(c&&f){const{x:d,y:p}=f;e.fillText(c,d,p)}}),e.restore()})}},_B={id:"decision_border_plugin",beforeDraw(t,e,r){const{ctx:n,scales:a}=t,i=r==null?void 0:r.show,s=r==null?void 0:r.decisionBorderBitmap;if(!i||!s)return;const{x:o,y:l}=a;n.save(),n.imageSmoothingEnabled=!1,n.drawImage(s,o.left,l.top,o.width,l.height),n.restore()}},SB={id:"lastGridLinePlugin",beforeDatasetsDraw(t){const{ctx:e,scales:{x:r,y:n}}=t;e.save(),e.lineWidth=1,e.beginPath(),e.moveTo(r.getPixelForValue(r.max),n.top),e.lineTo(r.getPixelForValue(r.max),n.bottom),e.strokeStyle="#e6e6e6",e.stroke(),e.restore()}},ml=({value:t,required:e=!1,label:r,name:n,disabled:a=!1,placeholder:i="",minValue:s,maxValue:o,stepDevisor:l=1,writeValue:u,onChange:c,onMouseUp:f,fullWidth:d})=>{const p=y=>{c(y.target.value/l)},g=y=>{f&&f(y.target.value/l)};return Y.jsxs(EB,{$fullWidth:d,children:[Y.jsxs(kB,{children:[r,u&&`: ${t}`]}),Y.jsx(CB,{type:"range",id:n,value:t*l,placeholder:i,required:e,disabled:a,onChange:p,onMouseUp:g,min:s*l,max:o*l}),Y.jsx(TB,{children:s}),Y.jsx(MB,{children:o})]})},kB=Re.span.withConfig({displayName:"SliderInput__Label",componentId:"sc-1vzzvek-0"})(["font-family:var(--main-font);font-weight:700;font-size:18px;line-height:24px;position:absolute;left:0px;top:-5px;"]),EB=Re.label.withConfig({displayName:"SliderInput__Field",componentId:"sc-1vzzvek-1"})(["flex:1;display:block;position:relative;border-radius:5px;padding:25px 0 25px 0;font-style:normal;font-weight:normal;font-size:16px;line-height:24px;width:",";&:focus{outline:none;}"],({$fullWidth:t})=>t?"100%":"auto"),CB=Re.input.withConfig({displayName:"SliderInput__Input",componentId:"sc-1vzzvek-2"})(['appearance:none;border:none;background:transparent;width:100%;&:focus{outline:none;}&[type="range"]{appearance:none;-webkit-appearance:none;height:7px;border-radius:5px;background:',";&::-webkit-slider-thumb{-webkit-appearance:none;height:20px;width:20px;border-radius:50%;background:",";border:1px solid ",";cursor:pointer;box-shadow:0 0 2px 0 #555;&:hover{box-shadow:#5a5a5a50 0px 0px 0px 4px;}&:active{box-shadow:#5a5a5a50 0px 0px 0px 6px;transition:box-shadow 350ms cubic-bezier(0.4,0,0.2,1) 0ms,left 350ms cubic-bezier(0.4,0,0.2,1) 0ms,bottom 350ms cubic-bezier(0.4,0,0.2,1) 0ms;}}&::-webkit-slider-runnable-track{-webkit-appearance:none;box-shadow:none;border:none;background:transparent;}}"],({theme:t})=>t.gray,()=>"#fff",({theme:t})=>t.gray),TB=Re.span.withConfig({displayName:"SliderInput__MinValue",componentId:"sc-1vzzvek-3"})(["font-style:normal;font-weight:bold;font-size:14px;line-height:24px;position:absolute;left:0;bottom:-5px;"]),MB=Re.span.withConfig({displayName:"SliderInput__MaxValue",componentId:"sc-1vzzvek-4"})(["font-style:normal;font-weight:bold;font-size:14px;line-height:24px;position:absolute;right:0;bottom:-5px;"]),Oc=({text:t,value:e,handleChange:r})=>Y.jsxs(DB,{children:[!!t&&Y.jsx(Tt.Text,{children:t}),Y.jsx(PB,{type:"checkbox",onChange:r,checked:e}),Y.jsx(VS,{})]}),DB=Re.label.withConfig({displayName:"SwitchInput__Label",componentId:"sc-m2je7z-0"})(["display:flex;align-items:center;justify-content:flex-start;gap:10px;cursor:pointer;p{font-weight:700;}"]),VS=Re.div.withConfig({displayName:"SwitchInput__Switch",componentId:"sc-m2je7z-1"})(["position:relative;width:45px;height:24px;background:",';border-radius:26px;padding:2px;transition:all 300ms ease;margin:10px 0;&:before{transition:300ms all;content:"";position:absolute;width:20px;height:20px;border-radius:50%;top:50%;left:4px;background:white;transform:translate(0,-50%);box-shadow:0 0 2px 0 #555;}'],({theme:t})=>t.gray),PB=Re.input.withConfig({displayName:"SwitchInput__Input",componentId:"sc-m2je7z-2"})(["display:none;&:checked + ","{background:",";&:before{transform:translate(18px,-50%);}}"],VS,({theme:t})=>t.black),P2=({label:t,segments:e,handleSelectOption:r,currentId:n,disabled:a=!1})=>Y.jsxs(AB,{children:[!!t&&Y.jsx(Tt.Text,{children:t}),Y.jsx(LB,{disabled:a,children:e.map(i=>Y.jsx(RB,{$active:n===i.id,onClick:()=>r(i.id),children:Y.jsx("p",{children:i.text})},i.id))})]}),AB=Re.div.withConfig({displayName:"SegmentedControl__Wrapper",componentId:"sc-zeeqvp-0"})(["display:flex;flex-direction:column;width:100%;& > p{font-weight:600;}"]),LB=Re.div.withConfig({displayName:"SegmentedControl__SegmentControlContainer",componentId:"sc-zeeqvp-1"})(["display:flex;width:100%;max-width:100%;border:1px solid ",";border-radius:5px;overflow:hidden;background-color:",";cursor:",";"],({theme:t})=>t.gray,({theme:t})=>t.lightGray,({disabled:t})=>t?"not-allowed":"pointer"),RB=Re.div.withConfig({displayName:"SegmentedControl__Segment",componentId:"sc-zeeqvp-2"})(["flex:1;padding:10px 20px;font-size:16px;font-weight:",";color:",";background:transparent;border:none;background-color:",";&:focus{outline:none;}border-radius:5px;transition:all 0.4s ease;& > p{text-align:center;}"],({$active:t})=>t?"700":"400",({theme:t,$active:e})=>e?"white":t.black,({theme:t,$active:e})=>e?t.black:"transparent"),jS=["train","infer"],ts=["A","B","C","D","E","F"],OB=()=>Y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"20px",viewBox:"0 -960 960 960",width:"20px",fill:"#FFFFFF",children:Y.jsx("path",{d:"M432.31-280.46H283.54q-82.81 0-141.17-58.47Q84-397.4 84-480.35q0-82.96 58.37-141.07 58.36-58.12 141.17-58.12h148.77v78H283.54q-50.39 0-85.96 35.58Q162-530.38 162-480q0 50.38 35.58 85.96 35.57 35.58 85.96 35.58h148.77v78ZM328-442v-78h304v78H328Zm199.69 161.54v-78h148.77q50.39 0 85.96-35.58Q798-429.62 798-480q0-50.38-35.58-85.96-35.57-35.58-85.96-35.58H527.69v-78h148.77q82.81 0 141.17 58.47Q876-562.6 876-479.65q0 82.96-58.37 141.07-58.36 58.12-141.17 58.12H527.69Z"})}),IB=()=>Y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"20px",viewBox:"0 -960 960 960",width:"20px",fill:"#FFFFFF",children:Y.jsx("path",{d:"M760.38-302.85 699-360.46q42.16-12.3 69.58-45.42Q796-439 796-480q0-50.38-35.38-85.96-35.39-35.58-85.39-35.58H524.92v-78h150.31q82.39 0 140.58 58.45Q874-562.65 874-479.78q0 56.52-31.04 103.19-31.04 46.67-82.58 73.74ZM617.23-442l-78-78h90v78h-12ZM768.85-76.85l-692-694L133-825l692 692-56.15 56.15ZM433.08-280.46H285.54q-82.78 0-141.16-58.38Q86-397.22 86-480q0-62.62 35.96-112.5t104.81-81.34H236l69.31 72.3h-18.77q-51.39 0-86.96 35.58Q164-530.38 164-480q0 50.38 35.58 85.96 35.57 35.58 85.96 35.58h147.54v78ZM330.77-442v-78h50.69l77 78H330.77Z"})}),US=()=>Y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"20px",viewBox:"0 -960 960 960",width:"20px",fill:"#FFFFFF",children:Y.jsx("path",{d:"m370-286 304-194-304-194v388ZM480.28-64q-85.92 0-161.76-32.52-75.84-32.52-132.66-89.34-56.82-56.82-89.34-132.62Q64-394.28 64-480.46q0-86.44 32.58-162 32.58-75.57 89.5-132.55Q243-832 318.7-864q75.69-32 161.76-32 86.43 0 161.98 32Q718-832 775-775t89 132.81q32 75.81 32 162T864-318.5q-32 75.5-88.99 132.42-56.98 56.92-132.77 89.5Q566.45-64 480.28-64Zm-.28-98q132.51 0 225.26-92.74Q798-347.49 798-480t-92.74-225.26Q612.51-798 480-798t-225.26 92.74Q162-612.51 162-480t92.74 225.26Q347.49-162 480-162Zm0-318Z"})}),NB=()=>Y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"20px",viewBox:"0 -960 960 960",width:"20px",fill:"#FFFFFF",children:Y.jsx("path",{d:"M333-333h294v-294H333v294ZM480.34-84q-81.75 0-153.96-30.94-72.21-30.94-126.34-85.05-54.13-54.11-85.09-126.25Q84-398.37 84-480.39q0-82.28 31-154.21t85.21-126.23q54.21-54.3 126.25-84.74Q398.49-876 480.39-876q82.27 0 154.19 30.42 71.93 30.42 126.24 84.71 54.31 54.29 84.75 126.44Q876-562.29 876-480.26q0 82.03-30.42 153.9t-84.7 126.1q-54.28 54.23-126.4 85.25Q562.35-84 480.34-84Zm-.34-78q132.51 0 225.26-92.74Q798-347.49 798-480t-92.74-225.26Q612.51-798 480-798t-225.26 92.74Q162-612.51 162-480t92.74 225.26Q347.49-162 480-162Zm0-318Z"})}),zB=()=>Y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"20px",viewBox:"0 -960 960 960",width:"20px",fill:"#FFFFFF",children:Y.jsx("path",{d:"m501.85-481-186-186L376-727.15 622.15-481 376-234.85 315.85-295l186-186Z"})}),BB=()=>Y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"20px",viewBox:"0 -960 960 960",width:"20px",fill:"#FFFFFF",children:Y.jsx("path",{d:"M431-168q-93-18-155-91t-62-171q0-45 11.5-84t29.5-77l32 32q-12 29-19.5 62.5T260-430q0 80 49 138t122 77v47Zm98 2v-47q74-20 123-78.5T701-430q0-90-60-155.5T492-651h-33l60 60-33 33-116-116 116-116 33 34-59 59h32q107 0 181 79t74 188q0 100-62.5 172.5T529-166Z"})}),FB=()=>Y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"20px",viewBox:"0 -960 960 960",width:"20px",fill:"#FFFFFF",children:Y.jsx("path",{d:"M142-203v-560l694.46 280L142-203Zm62-94 464-187-464-187v118.69L410.92-484 204-415.69V-297Zm0 0v-374 374Z"})}),$B=()=>Y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"20px",viewBox:"0 -960 960 960",width:"20px",fill:"#FFFFFF",children:Y.jsx("path",{d:"M373.15-225v-78h78.62l117.46-127-117.46-126h-68.39l-62 305.92q-14.53 60.16-50.53 94.12-36 33.96-79.93 33.96-43 0-74.3-30.19-31.31-30.2-31.31-67.96 0-24 15.61-40.93Q116.54-278 141.31-278q22.77 0 36.88 14.81 14.12 14.81 14.12 37.96 0 6.08-4.08 14.19-4.08 8.12-10.31 11.58 3.92 2.92 8.39 4.27 4.46 1.34 10.69 1.34 18.08 1.39 27.89-11.53 9.8-12.93 14.88-39.7L305.16-556H199.85v-78h120.46l17.23-71.38q14.77-65.23 48.31-99.93Q419.39-840 466.69-840q44.39 0 75.69 27.62 31.31 27.61 31.31 66.76 0 26.77-15.61 43.7Q542.46-685 517.69-685q-22.77 0-36.88-14.62-14.12-14.61-14.12-36.38 0-6.08 4.08-14.19 4.08-8.12 10.69-11.58-3.92-3.31-8.96-4.85-5.04-1.53-11.27-1.53-15.54-2.77-25.96 9.5-10.42 12.27-14.35 34.42l-22 90.23h191.23v78h-36.92l67.92 76.39L690.08-556h-37.93v-78h217v78h-77.61L672.08-430l120.84 127h76.23v78h-217v-78h37.93l-68.93-75-68.92 75h37.92v78h-217Z"})}),qB=()=>Y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"20px",viewBox:"0 -960 960 960",width:"20px",fill:"#FFFFFF",children:Y.jsx("path",{d:"M354.16-330h77.99v-300h-77.99v300Zm173.69 0h77.99v-300h-77.99v300ZM480.34-84q-81.75 0-153.96-30.94-72.21-30.94-126.34-85.05-54.13-54.11-85.09-126.25Q84-398.37 84-480.39q0-82.28 31-154.21t85.21-126.23q54.21-54.3 126.25-84.74Q398.49-876 480.39-876q82.27 0 154.19 30.42 71.93 30.42 126.24 84.71 54.31 54.29 84.75 126.44Q876-562.29 876-480.26q0 82.03-30.42 153.9t-84.7 126.1q-54.28 54.23-126.4 85.25Q562.35-84 480.34-84Zm-.34-78q132.51 0 225.26-92.74Q798-347.49 798-480t-92.74-225.26Q612.51-798 480-798t-225.26 92.74Q162-612.51 162-480t92.74 225.26Q347.49-162 480-162Zm0-318Z"})}),HB=()=>Y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"20px",viewBox:"0 -960 960 960",width:"20px",fill:"#FFFFFF",children:Y.jsx("path",{d:"m337-281.85 143-143 143 143L678.15-337l-143-143 143-143L623-678.15l-143 143-143-143L281.85-623l143 143-143 143L337-281.85ZM480.07-84q-81.48 0-153.69-30.94t-126.34-85.05q-54.13-54.11-85.09-126.29Q84-398.46 84-479.93q0-82.74 31-154.67 31-71.93 85.21-126.23 54.21-54.3 126.29-84.74Q398.57-876 479.93-876q82.73 0 154.65 30.42 71.93 30.42 126.24 84.71 54.31 54.29 84.75 126.21Q876-562.74 876-479.98q0 81.75-30.42 153.62t-84.7 126.1q-54.28 54.23-126.18 85.25Q562.8-84 480.07-84Zm-.07-78q132.51 0 225.26-92.74Q798-347.49 798-480t-92.74-225.26Q612.51-798 480-798t-225.26 92.74Q162-612.51 162-480t92.74 225.26Q347.49-162 480-162Zm0-318Z"})}),VB=()=>Y.jsx("svg",{height:"20px",viewBox:"0 -960 960 960",width:"20px",fill:"#1f1f1f",version:"1.1",xmlns:"http://www.w3.org/2000/svg",children:Y.jsxs("g",{id:"g5",transform:"matrix(1.0338603,0,0,1.0338603,-47.049303,47.049303)",style:{strokeWidth:.967249},children:[Y.jsx("circle",{style:{fill:"none",stroke:"#1f1f1f",strokeWidth:97.8343,strokeOpacity:1},id:"path2",cx:"660.93024",cy:"-660.93024",r:"194.39052"}),Y.jsx("path",{style:{fill:"none",stroke:"#1f1f1f",strokeWidth:88.2131,strokeOpacity:1},d:"M 180.78321,-408.81133 344.32319,-572.35131",id:"path3"}),Y.jsx("path",{style:{fill:"none",stroke:"#1f1f1f",strokeWidth:88.2131,strokeOpacity:1},d:"M 408.81133,-180.78321 572.35131,-344.32319",id:"path3-5"}),Y.jsx("path",{style:{fill:"none",stroke:"#1f1f1f",strokeWidth:88.2131,strokeOpacity:1},d:"M 146.52561,-146.52561 383.72215,-383.72215",id:"path3-8"})]})}),jB=()=>Y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"20px",viewBox:"0 -960 960 960",width:"20px",fill:"#1f1f1f",children:Y.jsx("path",{d:"M76.05-182q-37.75 0-63.9-26.3Q-14-234.61-14-272.36v-415.59q0-37.75 26.3-63.9Q38.59-778 76.34-778h807.61q37.75 0 63.9 26.3Q974-725.39 974-687.64v415.59q0 37.75-26.3 63.9Q921.41-182 883.66-182H76.05Zm.26-78h807.38q4.62 0 8.46-3.85 3.85-3.84 3.85-8.46v-415.38q0-4.62-3.85-8.46-3.84-3.85-8.46-3.85H727v204.61h-78V-700H519v204.61h-78V-700H311v204.61h-78V-700H76.31q-4.62 0-8.46 3.85-3.85 3.84-3.85 8.46v415.38q0 4.62 3.85 8.46 3.84 3.85 8.46 3.85ZM233-495.39h78-78Zm208 0h78-78Zm208 0h78-78ZM480-480Z"})}),Fa=({options:t,currentOptionId:e,opened:r=void 0,width:n="100%",handleOptionSelect:a,handleClick:i})=>{var c;const[s,o]=Q.useState(!1),l=f=>{i===void 0&&o(!1),a(f)};Q.useEffect(()=>{r!==void 0&&o(r)},[r]);const u=r===void 0?s:r;return Y.jsxs(UB,{width:n,children:[Y.jsxs(WB,{onClick:i||(()=>o(f=>!f)),$open:u,children:[((c=t.find(f=>f.id===e))==null?void 0:c.text)||"",Y.jsx(XB,{$open:u,children:Y.jsx(zB,{})})]}),Y.jsx(GB,{$open:u,children:t.filter(f=>f.id!==e).map(f=>Y.jsx(YB,{onClick:()=>l(f.id),$active:f.id===e,children:f.text},f.id))})]})},UB=Re.div.withConfig({displayName:"DropDown__Wrapper",componentId:"sc-ro5qnn-0"})(["width:",";border-radius:5px;box-shadow:0 2px 5px rgba(0,0,0,0.1);background-color:white;position:relative;font-family:var(--main-font);font-size:16px;max-width:100%;"],({width:t})=>t),WB=Re.div.withConfig({displayName:"DropDown__Header",componentId:"sc-ro5qnn-1"})(["padding:5px 10px;cursor:pointer;display:flex;column-gap:20px;justify-content:space-between;align-items:center;border:1px solid ",";border-radius:5px;border-bottom-right-radius:",";border-bottom-left-radius:",";border-bottom:1px solid ",";"],({theme:t})=>t.darkGray,({$open:t})=>t?"0":"5px",({$open:t})=>t?"0":"5px",({$open:t,theme:e})=>t?"transparent":e.darkGray),GB=Re.ul.withConfig({displayName:"DropDown__Body",componentId:"sc-ro5qnn-2"})(["border:1px solid ",";display:",";position:absolute;background-color:white;border-bottom-left-radius:10px;border-bottom-right-radius:10px;z-index:100;width:100%;"],({theme:t})=>t.darkGray,({$open:t})=>t?"block":"none"),YB=Re.li.withConfig({displayName:"DropDown__Item",componentId:"sc-ro5qnn-3"})(["padding:5px 10px;list-style:none;border-bottom:1px solid ",";&:last-of-type{border:none;}&:hover{cursor:pointer;}"],({theme:t})=>t.gray),XB=Re.div.withConfig({displayName:"DropDown__IconBlock",componentId:"sc-ro5qnn-4"})(["display:flex;align-items:center;justify-content:center;& > svg{fill:",";transition:all 0.2s ease-in-out;transform:",";}"],({theme:t})=>t.darkGray,({$open:t})=>t?"rotate(0deg)":"rotate(90deg)"),xr=(t,e)=>{if(typeof window>"u")return e;try{const r=window.localStorage.getItem(t);if(r===null)return e;const n=JSON.parse(r);return Array.isArray(n)?n.map(a=>Array.isArray(a)?a.map(i=>i==="__undefined__"?void 0:i):a):n==="__undefined__"?void 0:n}catch(r){return console.warn("Error reading localStorage key "+t+": ",r),e}},A2=({children:t,$active:e,handleClose:r})=>Y.jsxs(KB,{$active:e,children:[Y.jsxs(QB,{children:[Y.jsx(JB,{children:t}),Y.jsx(eF,{onClick:r,children:Y.jsx(HB,{})})]}),Y.jsx(ZB,{onClick:r})]}),KB=Re.div.withConfig({displayName:"PopupLayout__Wrapper",componentId:"sc-132m6af-0"})(["visibility:hidden;opacity:0;position:relative;z-index:300;transition:0.3s;",""],({$active:t})=>t&&`
      opacity: 1;
      visibility: visible;
    `),ZB=Re.div.withConfig({displayName:"PopupLayout__Darkener",componentId:"sc-132m6af-1"})(["position:fixed;width:100%;height:100%;top:0;left:0;z-index:1;background-color:rgba(0,0,0,0.4);"]),QB=Re.div.withConfig({displayName:"PopupLayout__Content",componentId:"sc-132m6af-2"})(["position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);z-index:2;background:",";border-radius:10px;width:630px;box-sizing:border-box;overflow-y:auto;max-height:90vh;&::-webkit-scrollbar{display:none;}@media (max-width:600px){width:75%;}@media (max-width:500px){width:95%;}@media (max-height:700px){max-height:95vh;}@media (max-height:600px){max-height:90vh;}"],({theme:t})=>t.bodyBackground),JB=Re.div.withConfig({displayName:"PopupLayout__Main",componentId:"sc-132m6af-3"})(["position:relative;padding:39px 30px 30px;background-color:#fff;@media (max-width:400px){padding:25px 19px 19px;}@media (max-width:350px){padding:21px 16px 16px;}"]),eF=Re.div.withConfig({displayName:"PopupLayout__Cross",componentId:"sc-132m6af-4"})(["position:absolute;top:26px;right:30px;background-color:#fff;border-radius:50%;cursor:pointer;& > svg{fill:",";transition:all 0.2s ease-in-out;width:24px;height:24px;}@media (max-width:1200px){padding:11px;top:20px;right:28px;}@media (max-width:500px){padding:10px;top:18px;right:26px;}@media (max-width:400px){top:14px;right:22px;}@media (max-width:350px){padding:9px;top:12px;right:16px;}"],({theme:t})=>t.black),tF=({active:t,handleClose:e,fruitPredictorSettings:r,setFruitPredictorSettings:n})=>{const{t:a}=Qr();return Y.jsx(A2,{$active:t,handleClose:e,children:Y.jsxs(Y.Fragment,{children:[Y.jsx(Tt.H3,{children:a("Settings.title")}),Y.jsxs(gx,{children:[Y.jsx(Tt.Text,{children:a("Settings.distanceSensorPort")}),Y.jsx(Fa,{options:ts.map(i=>({id:i,text:i})),currentOptionId:r.distanceSensorPort,handleOptionSelect:i=>n(s=>({...s,distanceSensorPort:i})),width:"100px"})]}),Y.jsxs(gx,{children:[Y.jsx(Tt.Text,{children:a("Settings.colorSensorPort")}),Y.jsx(Fa,{options:ts.map(i=>({id:i,text:i})),currentOptionId:r.colorSensorPort,handleOptionSelect:i=>n(s=>({...s,colorSensorPort:i})),width:"100px"})]})]})})},gx=Re.div.withConfig({displayName:"FruitPredictorSettingsPopup__Row",componentId:"sc-1vryjip-0"})(["display:flex;column-gap:15px;align-items:center;"]);var rF={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function nF(t){if(typeof t=="number")return{value:t,unit:"px"};var e,r=(t.match(/^[0-9.]*/)||"").toString();r.includes(".")?e=parseFloat(r):e=parseInt(r,10);var n=(t.match(/[^0-9]*$/)||"").toString();return rF[n]?{value:e,unit:n}:(console.warn("React Spinners: ".concat(t," is not a valid css value. Defaulting to ").concat(e,"px.")),{value:e,unit:"px"})}function gf(t){var e=nF(t);return"".concat(e.value).concat(e.unit)}var aF=function(t,e,r){var n="react-spinners-".concat(t,"-").concat(r);if(typeof window>"u"||!window.document)return n;var a=document.createElement("style");document.head.appendChild(a);var i=a.sheet,s=`
    @keyframes `.concat(n,` {
      `).concat(e,`
    }
  `);return i&&i.insertRule(s,0),n},Qd=globalThis&&globalThis.__assign||function(){return Qd=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},Qd.apply(this,arguments)},iF=globalThis&&globalThis.__rest||function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(t);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(r[n[a]]=t[n[a]]);return r},sF=aF("ScaleLoader","0% {transform: scaley(1.0)} 50% {transform: scaley(0.4)} 100% {transform: scaley(1.0)}","scale");function oF(t){var e=t.loading,r=e===void 0?!0:e,n=t.color,a=n===void 0?"#000000":n,i=t.speedMultiplier,s=i===void 0?1:i,o=t.cssOverride,l=o===void 0?{}:o,u=t.height,c=u===void 0?35:u,f=t.width,d=f===void 0?4:f,p=t.radius,g=p===void 0?2:p,y=t.margin,x=y===void 0?2:y,b=iF(t,["loading","color","speedMultiplier","cssOverride","height","width","radius","margin"]),w=Qd({display:"inherit"},l),_=function(k){return{backgroundColor:a,width:gf(d),height:gf(c),margin:gf(x),borderRadius:gf(g),display:"inline-block",animation:"".concat(sF," ").concat(1/s,"s ").concat(k*.1,"s infinite cubic-bezier(0.2, 0.68, 0.18, 1.08)"),animationFillMode:"both"}};return r?Q.createElement("span",Qd({style:w},b),Q.createElement("span",{style:_(1)}),Q.createElement("span",{style:_(2)}),Q.createElement("span",{style:_(3)}),Q.createElement("span",{style:_(4)}),Q.createElement("span",{style:_(5)})):null}/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var A1=function(t,e){return A1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)n.hasOwnProperty(a)&&(r[a]=n[a])},A1(t,e)};function lF(t,e){A1(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var uF=100,cF=100,mx=50,L1=50,R1=50;function vx(t){var e=t.className,r=t.counterClockwise,n=t.dashRatio,a=t.pathRadius,i=t.strokeWidth,s=t.style;return Q.createElement("path",{className:e,style:Object.assign({},s,dF({pathRadius:a,dashRatio:n,counterClockwise:r})),d:fF({pathRadius:a,counterClockwise:r}),strokeWidth:i,fillOpacity:0})}function fF(t){var e=t.pathRadius,r=t.counterClockwise,n=e,a=r?1:0;return`
      M `+L1+","+R1+`
      m 0,-`+n+`
      a `+n+","+n+" "+a+" 1 1 0,"+2*n+`
      a `+n+","+n+" "+a+" 1 1 0,-"+2*n+`
    `}function dF(t){var e=t.counterClockwise,r=t.dashRatio,n=t.pathRadius,a=Math.PI*2*n,i=(1-r)*a;return{strokeDasharray:a+"px "+a+"px",strokeDashoffset:(e?-i:i)+"px"}}var hF=function(t){lF(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getBackgroundPadding=function(){return this.props.background?this.props.backgroundPadding:0},e.prototype.getPathRadius=function(){return mx-this.props.strokeWidth/2-this.getBackgroundPadding()},e.prototype.getPathRatio=function(){var r=this.props,n=r.value,a=r.minValue,i=r.maxValue,s=Math.min(Math.max(n,a),i);return(s-a)/(i-a)},e.prototype.render=function(){var r=this.props,n=r.circleRatio,a=r.className,i=r.classes,s=r.counterClockwise,o=r.styles,l=r.strokeWidth,u=r.text,c=this.getPathRadius(),f=this.getPathRatio();return Q.createElement("svg",{className:i.root+" "+a,style:o.root,viewBox:"0 0 "+uF+" "+cF,"data-test-id":"CircularProgressbar"},this.props.background?Q.createElement("circle",{className:i.background,style:o.background,cx:L1,cy:R1,r:mx}):null,Q.createElement(vx,{className:i.trail,counterClockwise:s,dashRatio:n,pathRadius:c,strokeWidth:l,style:o.trail}),Q.createElement(vx,{className:i.path,counterClockwise:s,dashRatio:f*n,pathRadius:c,strokeWidth:l,style:o.path}),u?Q.createElement("text",{className:i.text,style:o.text,x:L1,y:R1},u):null)},e.defaultProps={background:!1,backgroundPadding:0,circleRatio:1,classes:{root:"CircularProgressbar",trail:"CircularProgressbar-trail",path:"CircularProgressbar-path",text:"CircularProgressbar-text",background:"CircularProgressbar-background"},counterClockwise:!1,className:"",maxValue:100,minValue:0,strokeWidth:8,styles:{root:{},trail:{},path:{},text:{},background:{}},text:""},e}(Q.Component);const oi=({text:t,icon:e,onClick:r,variant:n="outlined",active:a=!0,loading:i=!1,type:s,loadingProgress:o})=>{const l=i2();return Y.jsxs(pF,{onClick:r,$active:a,$variant:n,type:s,children:[!!e&&!i&&e,!!i&&(o===void 0?Y.jsx(oF,{color:n==="filled"?"#ffffff":l.black,width:2,height:12,margin:1}):Y.jsx(hF,{value:o,circleRatio:1,strokeWidth:12,styles:{root:{width:"20px",height:"20px"},path:{stroke:l.black},trail:{stroke:l.gray,transition:"stroke-dashoffset 0.5s ease 0s"}}})),!!t&&Y.jsx(gF,{$variant:n,children:t})]})},pF=Re.button.withConfig({displayName:"Button__Wrapper",componentId:"sc-roscls-0"})(["min-width:100px;border-radius:5px;background-color:",";display:flex;align-items:center;justify-content:center;cursor:",";padding:10px 20px;column-gap:10px;border:",";flex:0 1 auto;& > svg{fill:",";flex-shrink:0;}& > p{flex-shrink:0;}"],({$variant:t,theme:e})=>t==="filled"?e.black:"white",({$active:t})=>t?"pointer":"not-allowed",({$variant:t,theme:e})=>t==="outlined"?`1px solid ${e.black};`:"none",({$variant:t,theme:e})=>t==="outlined"?e.black:"white"),gF=Re.p.withConfig({displayName:"Button__Text",componentId:"sc-roscls-1"})(["font-size:16px;font-weight:bold;color:",";"],({$variant:t,theme:e})=>t==="filled"?"white":e.black),L2=({code:t,onStart:e})=>{const[r,n]=Q.useState(0),{t:a}=Qr(),{connect:i,disconnect:s,connectionStatus:o,codeStatus:l,startProgram:u,stopProgram:c}=Uh(),f=async()=>{l==="on"&&await c(),l==="off"&&await u({code:t,onStart:e,onProgress:d=>n(d)})};return Y.jsxs(mF,{children:[Y.jsx(oi,{onClick:o==="open"?s:i,text:a(`HubInteraction.portState.${o}`),icon:o==="closed"&&Y.jsx(OB,{})||o==="open"&&Y.jsx(IB,{}),loading:["closing","opening"].includes(o)}),o==="open"&&Y.jsx(oi,{onClick:f,text:a(l==="on"?"HubInteraction.stopCode":"HubInteraction.launchCode"),icon:l==="off"&&Y.jsx(US,{})||l==="on"&&Y.jsx(NB,{}),loading:l==="uploading",loadingProgress:r})]})},mF=Re.div.withConfig({displayName:"BLEConnector__Wrapper",componentId:"sc-17e7yyk-0"})(["display:flex;column-gap:10px;margin:20px 0;align-items:center;"]),vF=()=>`
import runloop, hub, json

class Eventer:
    def __init__(self):
        self.__subscribers = {}
        self.__queue = []

    def subscribe(self, event_name, callback):
        if event_name not in self.__subscribers:
            self.__subscribers[event_name] = []
        self.__subscribers[event_name].append(callback)

    def emit(self, event_name):
        # Instead of recursive calls, just queue the event
        self.__queue.append(event_name)

    async def process(self):
        while self.__queue:
            event_name = self.__queue.pop(0)
            runloop.run(*[callback() for callback in self.__subscribers[event_name]])

    def is_queue_non_empty(self):
        return bool(self.__queue)

eventer = Eventer()

class Messenger():
    def __init__(self, tunnel):
        self.__tunnel = tunnel
        self.__queue = []
        self.__is_sending = False
        self.__buffer = []

        self.__BANDWIDTH = 8192 // 16
        self.__MAX_PACKET_SIZE = 509 # assume it's always default
        # [max message size] = [max packet size] - [number of bytes for storing message code, length, frameId, totalFrames]
        self.__MAX_MESSAGE_SIZE = self.__MAX_PACKET_SIZE - 5 # 1 for ID, 2 for length, 1 for frameId, 1 for frameTotal


    def __queue_message(self, message):
        # encoding the message
        encoded_full_message = message.encode('utf-8')

        chunks = [
            encoded_full_message[i:i + self.__MAX_MESSAGE_SIZE]
            for i in range(0, len(encoded_full_message), self.__MAX_MESSAGE_SIZE)
        ]

        total_frames = len(chunks)

        frames = [
            bytes([frame_id, total_frames]) + chunk
            for frame_id, chunk in enumerate(chunks)
        ]

        self.__queue.extend(frames)

    def send_object(self, obj):
        stringified_object = json.dumps(obj)
        self.__queue_message(stringified_object)
        eventer.emit("process_message_queue")

    def init_message_listener(self, message_handler):
        def process_chunk(data):
            data_bytes = bytes(data)
            if len(data_bytes) < 2:
                return

            frame_id = data_bytes[0]
            total_frames = data_bytes[1]
            chunk = data_bytes[2:]

            self.__buffer.append(chunk)

            if len(self.__buffer) == total_frames:
                full_message = b"".join(self.__buffer)
                self.__buffer = []

                try:
                    decoded_message = full_message.decode('utf-8')
                    message_handler(json.loads(decoded_message))
                except:
                    print("Undecodable messages received")

        self.__tunnel.callback(process_chunk)
        
    def announce_start(self):
        self.send_object({"action": "program_start", "payload": {}})


    async def process_queue(self):
        if self.__is_sending:
            return

        if not self.__queue:
            return

        self.__is_sending = True

        if self.__queue:
            data = self.__queue.pop(0)
            size = len(data) + 3

            # Calculate wait time based on the message size
            wait_ms = size * 1_000 // self.__BANDWIDTH

            self.__tunnel.send(data)
            await runloop.sleep_ms(wait_ms)

        self.__is_sending = False
        eventer.emit("process_message_queue")

tunnel = hub.config["module_tunnel"]
messenger = Messenger(tunnel)

eventer.subscribe("process_message_queue", messenger.process_queue)


class EventListener:
    def __init__(self, condition_func, callback):
        self.__condition_func = condition_func
        self.__callback = callback
        self.__last_condition = False# Track previous condition

    async def listen(self):
        while True:
            current_condition = self.__condition_func()

            # Trigger callback only when condition starts returning True
            if current_condition and not self.__last_condition:
                await self.__callback()

            self.__last_condition = current_condition
            await runloop.sleep_ms(50)

def is_left_button_clicked():
    return bool(hub.button.pressed(hub.button.LEFT))

async def on_left_button_click():
    print("yay")
    messenger.send_object({"action": "ping", "payload": {}})

left_button_click_listener = EventListener(is_left_button_clicked, on_left_button_click)

events_listener = EventListener(eventer.is_queue_non_empty, eventer.process)

def handle_tunnel_message(message):
    print("message with following action received: ", message["action"])

messenger.init_message_listener(handle_tunnel_message)
messenger.announce_start()

runloop.run(left_button_click_listener.listen(), events_listener.listen())


`,yF=({distanceSensorPort:t,smallMotorPort:e,smallMotorSpeed:r,bigMotorPort:n,bigMotorSpeed:a})=>`
import runloop, hub, json, math, random

class Eventer:
    def __init__(self):
        self.__subscribers = {}
        self.__queue = []

    def subscribe(self, event_name, callback):
        if event_name not in self.__subscribers:
            self.__subscribers[event_name] = []
        self.__subscribers[event_name].append(callback)

    def emit(self, event_name):
        # Instead of recursive calls, just queue the event
        self.__queue.append(event_name)

    async def process(self):
        while self.__queue:
            event_name = self.__queue.pop(0)
            runloop.run(*[callback() for callback in self.__subscribers[event_name]])

    def is_queue_non_empty(self):
        return bool(self.__queue)

eventer = Eventer()

class Messenger():
    def __init__(self, tunnel):
        self.__tunnel = tunnel
        self.__queue = []
        self.__is_sending = False
        self.__buffer = []

        self.__BANDWIDTH = 8192 // 16
        self.__MAX_PACKET_SIZE = 509 # assume it's always default
        # [max message size] = [max packet size] - [number of bytes for storing message code, length, frameId, totalFrames]
        self.__MAX_MESSAGE_SIZE = self.__MAX_PACKET_SIZE - 5 # 1 for ID, 2 for length, 1 for frameId, 1 for frameTotal


    def __queue_message(self, message):
        # encoding the message
        encoded_full_message = message.encode('utf-8')

        chunks = [
            encoded_full_message[i:i + self.__MAX_MESSAGE_SIZE]
            for i in range(0, len(encoded_full_message), self.__MAX_MESSAGE_SIZE)
        ]

        total_frames = len(chunks)

        frames = [
            bytes([frame_id, total_frames]) + chunk
            for frame_id, chunk in enumerate(chunks)
        ]

        self.__queue.extend(frames)

    def send_object(self, obj):
        stringified_object = json.dumps(obj)
        self.__queue_message(stringified_object)
        eventer.emit("process_message_queue")

    def init_message_listener(self, message_handler):
        def process_chunk(data):
            data_bytes = bytes(data)
            if len(data_bytes) < 2:
                return

            frame_id = data_bytes[0]
            total_frames = data_bytes[1]
            chunk = data_bytes[2:]

            self.__buffer.append(chunk)

            if len(self.__buffer) == total_frames:
                full_message = b"".join(self.__buffer)
                self.__buffer = []
                
                try:
                    decoded_message = full_message.decode('utf-8')
                    message_handler(json.loads(decoded_message))
                except Exception as e:
                    print("error received ", e)

        self.__tunnel.callback(process_chunk)
        
    def announce_start(self):
        self.send_object({"action": "program_start", "payload": {}})


    async def process_queue(self):
        if self.__is_sending:
            return

        if not self.__queue:
            return

        self.__is_sending = True

        if self.__queue:
            data = self.__queue.pop(0)
            size = len(data) + 3

            # Calculate wait time based on the message size
            wait_ms = size * 1_000 // self.__BANDWIDTH

            self.__tunnel.send(data)
            await runloop.sleep_ms(wait_ms)

        self.__is_sending = False
        eventer.emit("process_message_queue")

tunnel = hub.config["module_tunnel"]
messenger = Messenger(tunnel)

eventer.subscribe("process_message_queue", messenger.process_queue)


class EventListener:
    def __init__(self, condition_func, callback):
        self.__condition_func = condition_func
        self.__callback = callback
        self.__last_condition = False# Track previous condition

    async def listen(self):
        while True:
            current_condition = self.__condition_func()

            # Trigger callback only when condition starts returning True
            if current_condition and not self.__last_condition:
                await self.__callback()

            self.__last_condition = current_condition
            await runloop.sleep_ms(50)

from hub import light_matrix, port
import distance_sensor


DISTANCE_SENSOR_PORT = port.${t}
BIG_MOTOR_PORT = port.${n}
SMALL_MOTOR_PORT = port.${e}
SMALL_MOTOR_SPEED = math.floor(${r} * 1110 / 100)
BIG_MOTOR_SPEED = math.floor(${a} * 1050 / 100)

HAPPY_EMOTION = [100, 100, 0, 100, 100, 100, 100, 0, 100, 100, 0, 0, 0, 0, 0, 100, 0, 0, 0, 100, 0, 100, 100, 100, 0]
SAD_EMOTION = [100, 100, 0, 100, 100, 100, 100, 0, 100, 100, 0, 0, 0, 0, 0, 0, 100, 100, 100, 0, 100, 0, 0, 0, 100]
NEUTRAL_EMOTION = [100, 100, 0, 100, 100, 100, 100, 0, 100, 100, 0, 0, 0, 0, 0, 0, 100, 100, 100, 0, 0, 0, 0, 0, 0]

def show_emotion(emotion_array):
    light_matrix.show(emotion_array)


def get_distance_measurement():
    try:
        return math.floor(distance_sensor.distance(DISTANCE_SENSOR_PORT) / 10)
    except:
        return -1

def is_distance_ok():
    sensor_value = get_distance_measurement()

    if sensor_value <= 20:
        messenger.send_object({"action": "too_close", "payload": {}})
        return False
    if sensor_value >= 150:
        messenger.send_object({"action": "too_far", "payload": {}})
        return False

    return True

class QLearner:
    def __init__(self):
        self.motor_positions = [(0, 0), (290, 40), (330, 250), (60, 250)]
        self.q_table = [
            [0 if i != j else None for j in range((len(self.motor_positions)))]
            for i in range(len(self.motor_positions))
        ]
        self.reward_table = [
            [None for _ in range((len(self.motor_positions)))]
            for _ in range(len(self.motor_positions))
        ]
        self.current_state = 0
        self.alpha = 1
        self.gamma = 1
        self.epsilon = 0
        self.current_action = None
        self.action_fulfillment = ["unpicked", "unpicked"]
        self.before_action_distance = 0
        self.wait_before_next_move = True
        self.paused = False

    def reset_experiment(self):
        self.q_table = [
            [0 if i != j else None for j in range((len(self.motor_positions)))]
            for i in range(len(self.motor_positions))
        ]
        self.reward_table = [
            [None for _ in range((len(self.motor_positions)))]
            for _ in range(len(self.motor_positions))
        ]
        self.current_state = 0
        self.current_action = None
        self.action_fulfillment = ["unpicked", "unpicked"]
        self.paused = True
        self.gamma = 0
        self.epsilon = 0

    def pick_action(self):
        if self.current_action is not None:
            return

        if random.random() < self.epsilon:
            action_type = "exploration"
            valid_actions = [a for a in range(4) if a != self.current_state]
            
            # Just so that the training process doesn't last eternity until the crawler fills all None's
            actions_with_none_reward = [
                a for a in valid_actions if self.reward_table[self.current_state][a] is None
            ]
            
            if actions_with_none_reward:
                # If there are actions with None reward, pick one of them
                action = random.choice(actions_with_none_reward)
            else:
                # Otherwise, choose a random valid action
                action = random.choice(valid_actions)
        else:
            action_type = "exploitation"
            # Exploit: choose the best action(s) from Q-table
            state_actions = self.q_table[self.current_state]
            # Get (action, q_value) for all valid actions
            valid_actions = [
                (a, q)
                for a, q in enumerate(state_actions)
                if q is not None and a != self.current_state
            ]
            max_q = max(q for _, q in valid_actions)
            action = min([a for a, q in valid_actions if q == max_q])
        

        self.current_action = action
        self.action_fulfillment = ["picked", "picked"]
        messenger.send_object(
            {
                "action": "action_update",
                "payload": {
                    "action": self.current_action,
                    "status": "picked",
                    "type": action_type,
                },
            }
        )

    def assign_reward(self):
        prev_state = self.current_state
        prev_action = self.current_action

        # Independent from the sensor reading, the current state is new and the current action is None'd (in case sensor fails to read)
        self.current_state = self.current_action
        self.current_action = None
        self.action_fulfillment = ["unpicked", "unpicked"]

        sensor_value = get_distance_measurement()

        reward = sensor_value - self.before_action_distance

        if reward > 0:
            eventer.emit("show_happy")
        elif reward < 0:
            eventer.emit("show_sad")
        elif reward == 0:
            eventer.emit("show_neutral")
        
        self.reward_table[prev_state][prev_action] = reward
        current_q = self.q_table[prev_state][prev_action]

        # Find the maximum Q-value for the next state
        max_next_q = max(
            [q for q in self.q_table[prev_action] if q is not None], default=0
        )

        # Update Q-value using the Q-learning formula
        new_q = (1 - self.alpha) * current_q + self.alpha * (
            reward + self.gamma * max_next_q
        )
        self.q_table[prev_state][prev_action] = new_q

        messenger.send_object(
            {
                "action": "action_update",
                "payload": {"status": "unpicked"},
            }
        )
        messenger.send_object(
            {
                "action": "tables_update",
                "payload": {
                    "state": prev_state,
                    "action": prev_action,
                    "reward": reward,
                    "q": new_q,
                },
            }
        )

    def set_action_fulfillment(self, limb_ix, new_status):
        self.action_fulfillment[limb_ix] = new_status

        if (
            self.action_fulfillment[0] == "done"
            and self.action_fulfillment[1] == "done"
        ):
            eventer.emit("action_done")

    def do_action(self):
        if self.current_action is None:
            return

        sensor_value = get_distance_measurement()

        messenger.send_object(
            {
                "action": "action_update",
                "payload": {"action": self.current_action, "status": "started"},
            }
        )
        self.before_action_distance = sensor_value
        eventer.emit("move_limbs")



q_learner = QLearner()

import motor

async def reset_motors():
    await motor.run_to_absolute_position(BIG_MOTOR_PORT, q_learner.motor_positions[q_learner.current_state][0], BIG_MOTOR_SPEED)
    await motor.run_to_absolute_position(SMALL_MOTOR_PORT, q_learner.motor_positions[q_learner.current_state][1], SMALL_MOTOR_SPEED)


async def main_run():
    await reset_motors()

    if not is_distance_ok():
        return

    if q_learner.wait_before_next_move:
        q_learner.paused = True

    if not q_learner.paused:
        q_learner.do_action()

async def continue_run():
    q_learner.paused = False

    if q_learner.current_action is None:
        q_learner.pick_action()

    if not is_distance_ok():
        return
    
    q_learner.do_action()

async def move_limb1_handler():
    q_learner.set_action_fulfillment(0, "started")
    await motor.run_to_absolute_position(BIG_MOTOR_PORT, q_learner.motor_positions[q_learner.current_action][0], BIG_MOTOR_SPEED)
    q_learner.set_action_fulfillment(0, "done")

async def move_limb2_handler():
    q_learner.set_action_fulfillment(1, "started")
    await motor.run_to_absolute_position(SMALL_MOTOR_PORT, q_learner.motor_positions[q_learner.current_action][1], SMALL_MOTOR_SPEED)
    q_learner.set_action_fulfillment(1, "done")

from hub import motion_sensor

async def action_done_callback():
    messenger.send_object(
        {
            "action": "action_update",
            "payload": {"action": q_learner.current_action, "status": "done"},
        }
    )

    stable_time = 0
    while stable_time < 500:
        gyro_value = motion_sensor.angular_velocity(False)
        if all(v == 0 for v in gyro_value):
            await runloop.sleep_ms(50)
            stable_time += 50
        else:
            stable_time = 0

    messenger.send_object({"action": "state_update", "payload": {"state": q_learner.current_action}})

    q_learner.assign_reward()

    q_learner.pick_action()

    if not is_distance_ok():
        return
    
    if q_learner.wait_before_next_move:
        q_learner.paused = True

    if not q_learner.paused:
        q_learner.do_action()

async def reset():
    q_learner.reset_experiment()
    await reset_motors()

async def show_sad():
    show_emotion(SAD_EMOTION)

async def show_happy():
    show_emotion(HAPPY_EMOTION)

async def show_neutral():
    show_emotion(NEUTRAL_EMOTION)

eventer.subscribe("start_main", main_run)
eventer.subscribe("move_limbs", move_limb1_handler)
eventer.subscribe("move_limbs", move_limb2_handler)
eventer.subscribe("action_done", action_done_callback)
eventer.subscribe("continue", continue_run)
eventer.subscribe("reset", reset)
eventer.subscribe("show_happy", show_happy)
eventer.subscribe("show_sad", show_sad)
eventer.subscribe("show_neutral", show_neutral)



def is_right_button_clicked():
    return bool(hub.button.pressed(hub.button.RIGHT))

right_button_click_listener = EventListener(is_right_button_clicked, continue_run)

events_listener = EventListener(eventer.is_queue_non_empty, eventer.process)

def handle_tunnel_message(message):
    if "action" not in message:
        return

    action = message["action"]

    if action == "wait_before_next_move_update":
        q_learner.wait_before_next_move = message["payload"]["wait_before_next_move"]

    elif action == "continue":
        eventer.emit("continue")

    elif action == "pause":
        q_learner.paused = True

    elif action == "reset":
        eventer.emit("reset")

    elif action == "epsilon_update":
        q_learner.epsilon = message["payload"]["epsilon"]

    elif action == "think_future_update":
        q_learner.gamma = int(message["payload"]["think_future"])

    elif action == "code_start":
        q_learner.epsilon = message["payload"]["epsilon"]
        q_learner.q_table = [
            [None if i == j else val for j, val in enumerate(row)]
            for i, row in enumerate(message["payload"]["q_table"])
        ]
        q_learner.wait_before_next_move = message["payload"]["wait_before_next_move"]
        q_learner.current_state = message["payload"]["current_state"] if isinstance(message["payload"]["current_state"], int) else 0
        q_learner.paused = True
        q_learner.gamma = int(message["payload"]["think_future"])
        eventer.emit("start_main")
        
    elif action == "move_to":
        q_learner.epsilon = message["payload"]["epsilon"]
        q_learner.q_table = [
            [None if i == j else val for j, val in enumerate(row)]
            for i, row in enumerate(message["payload"]["q_table"])
        ]
        q_learner.wait_before_next_move = message["payload"]["wait_before_next_move"]
        q_learner.current_state = message["payload"]["current_state"] if isinstance(message["payload"]["current_state"], int) else 0
        q_learner.paused = True
        q_learner.gamma = int(message["payload"]["think_future"])
        eventer.emit("start_main")

    else:
        return


messenger.init_message_listener(handle_tunnel_message)
messenger.announce_start()

runloop.run(right_button_click_listener.listen(), events_listener.listen())

`,bF=({distanceSensorPort:t,colorSensorPort:e})=>`

import runloop, hub, json

class Eventer:
    def __init__(self):
        self.__subscribers = {}
        self.__queue = []

    def subscribe(self, event_name, callback):
        if event_name not in self.__subscribers:
            self.__subscribers[event_name] = []
        self.__subscribers[event_name].append(callback)

    def emit(self, event_name):
        # Instead of recursive calls, just queue the event
        self.__queue.append(event_name)

    async def process(self):
        while self.__queue:
            event_name = self.__queue.pop(0)
            runloop.run(*[callback() for callback in self.__subscribers[event_name]])

    def is_queue_non_empty(self):
        return bool(self.__queue)

eventer = Eventer()

class Messenger():
    def __init__(self, tunnel):
        self.__tunnel = tunnel
        self.__queue = []
        self.__is_sending = False
        self.__buffer = []

        self.__BANDWIDTH = 8192 // 16
        self.__MAX_PACKET_SIZE = 509 # assume it's always default
        # [max message size] = [max packet size] - [number of bytes for storing message code, length, frameId, totalFrames]
        self.__MAX_MESSAGE_SIZE = self.__MAX_PACKET_SIZE - 5 # 1 for ID, 2 for length, 1 for frameId, 1 for frameTotal


    def __queue_message(self, message):
        # encoding the message
        encoded_full_message = message.encode('utf-8')

        chunks = [
            encoded_full_message[i:i + self.__MAX_MESSAGE_SIZE]
            for i in range(0, len(encoded_full_message), self.__MAX_MESSAGE_SIZE)
        ]

        total_frames = len(chunks)

        frames = [
            bytes([frame_id, total_frames]) + chunk
            for frame_id, chunk in enumerate(chunks)
        ]

        self.__queue.extend(frames)

    def send_object(self, obj):
        stringified_object = json.dumps(obj)
        self.__queue_message(stringified_object)
        eventer.emit("process_message_queue")

    def init_message_listener(self, message_handler):
        def process_chunk(data):
            data_bytes = bytes(data)
            if len(data_bytes) < 2:
                return

            frame_id = data_bytes[0]
            total_frames = data_bytes[1]
            chunk = data_bytes[2:]

            self.__buffer.append(chunk)

            if len(self.__buffer) == total_frames:
                full_message = b"".join(self.__buffer)
                self.__buffer = []

                try:
                    decoded_message = full_message.decode('utf-8')
                    message_handler(json.loads(decoded_message))
                except:
                    print("Undecodable messages received")

        self.__tunnel.callback(process_chunk)
        
    def announce_start(self):
        self.send_object({"action": "program_start", "payload": {}})


    async def process_queue(self):
        if self.__is_sending:
            return

        if not self.__queue:
            return

        self.__is_sending = True

        if self.__queue:
            data = self.__queue.pop(0)
            size = len(data) + 3

            # Calculate wait time based on the message size
            wait_ms = size * 1_000 // self.__BANDWIDTH

            self.__tunnel.send(data)
            await runloop.sleep_ms(wait_ms)

        self.__is_sending = False
        eventer.emit("process_message_queue")

tunnel = hub.config["module_tunnel"]
messenger = Messenger(tunnel)

eventer.subscribe("process_message_queue", messenger.process_queue)


class EventListener:
    def __init__(self, condition_func, callback):
        self.__condition_func = condition_func
        self.__callback = callback
        self.__last_condition = False# Track previous condition

    async def listen(self):
        while True:
            current_condition = self.__condition_func()

            # Trigger callback only when condition starts returning True
            if current_condition and not self.__last_condition:
                await self.__callback()

            self.__last_condition = current_condition
            await runloop.sleep_ms(50)


from hub import port

DISTANCE_SENSOR_PORT = port.${t}
COLOR_SENSOR_PORT = port.${e}

import distance_sensor, color_sensor
from hub import light_matrix

def get_distance_measurement():
    try:
        return distance_sensor.distance(DISTANCE_SENSOR_PORT) / 10
    except:
        return None

def get_color_measurement():
    try:
        return color_sensor.rgbi(COLOR_SENSOR_PORT)
    except:
        return None

def feature_distance(dp1, dp2):
    return ((dp1["len"] - dp2["len"]) / 20) ** 2 + (
        (dp1["color"][1] - dp2["color"][1]) / 1024
    ) ** 2


def most_common_label(labels):
    label_count = {}
    for label in labels:
        label_count[label] = label_count.get(label, 0) + 1
    return max(label_count, key=label_count.get)

class KNN:
    def __init__(self):
        self.mode = "train"
        self.data = []
        self.current_class = None
        self.cache = {"color": None, "len": None}
        self.current_id = 0
        self.k = 3
        self.class_names = {}

    def change_mode(self, new_mode):
        self.mode = new_mode

    def change_current_class(self, new_current_class, class_name):
        self.current_class = new_current_class
        self.class_names[new_current_class] = class_name

    def check_and_add_dp(self):
        if self.cache["color"] is None or self.cache["len"] is None:
            return
        data_obj = {
            "id": str(self.current_id),
            "len": self.cache["len"],
            "color": self.cache["color"],
            "label": self.current_class,
        }
        self.current_id += 1
        self.data.append(data_obj)
        self.clean_cache()
        messenger.send_object({"action": "add_point", "payload": data_obj})

    def log_color(self, value):
        self.cache["color"] = value

    def log_length(self, value):
        self.cache["len"] = value

    def check_and_infer(self):
        if self.cache["color"] is None or self.cache["len"] is None:
            return
        new_data_obj = {"len": self.cache["len"], "color": self.cache["color"]}
        distances = []
        for dp in self.data:
            dist = feature_distance(new_data_obj, dp)
            distances.append((dist, dp["label"], dp["id"]))
        distances.sort(key=lambda x: x[0])
        nearest_neighbors = distances[: self.k]
        neighbor_ids = [neighbor[2] for neighbor in nearest_neighbors]
        neighbor_labels = [neighbor[1] for neighbor in nearest_neighbors]
        predicted_label = most_common_label(neighbor_labels)
        data_obj = {
            "predicted_label": predicted_label,
            "nearest_neighbors": neighbor_ids,
            "len": new_data_obj["len"],
            "color": new_data_obj["color"],
        }
        messenger.send_object({"action": "inference_result", "payload": data_obj})
        self.clean_cache()

        return (
            self.class_names[predicted_label]
            if predicted_label in self.class_names
            else predicted_label
        )

    def clean_cache(self):
        self.log_color(None)
        self.log_length(None)
        self.light_up_matrix()

    def delete_datapoint(self, dp_id):
        self.data = [dp for dp in self.data if dp["id"] != dp_id]

    def change_datapoint_label(self, dp_id, new_label):
        for dp in self.data:
            if dp["id"] == dp_id:
                dp["label"] = new_label
                break

    def change_k(self, new_k):
        self.k = new_k

    def light_up_matrix(self):
        light_matrix.clear()

        if self.cache["len"] is not None:
            light_matrix.set_pixel(0, 4, 100)

        if self.cache["color"] is not None:
            light_matrix.set_pixel(4, 4, 100)

knn = KNN()

def is_left_button_clicked():
    return bool(hub.button.pressed(hub.button.LEFT))

async def on_left_button_click():
    sensor_value = get_distance_measurement()
    if sensor_value is None or sensor_value >= 21:
        return

    if knn.mode == "train":
        if knn.current_class is None:
            await light_matrix.write("No class selected")
            knn.light_up_matrix()
            return
        knn.log_length(sensor_value)
        knn.check_and_add_dp()

    elif knn.mode == "infer":
        knn.log_length(sensor_value)
        predicted_label = knn.check_and_infer()
        if predicted_label is not None:
            await light_matrix.write(predicted_label)

    knn.light_up_matrix()

def is_right_button_clicked():
    return bool(hub.button.pressed(hub.button.RIGHT))

async def on_right_button_click():
    sensor_value = get_color_measurement()
    if sensor_value is None:
        return

    if knn.mode == "train":
        if knn.current_class is None:
            await light_matrix.write("No class selected") # TODO: add translations
            knn.light_up_matrix()
            return
        knn.log_color(sensor_value)
        knn.check_and_add_dp()

    elif knn.mode == "infer":
        knn.log_color(sensor_value)
        predicted_label = knn.check_and_infer()
        if predicted_label is not None:
            await light_matrix.write(predicted_label)

    knn.light_up_matrix()

left_button_click_listener = EventListener(is_left_button_clicked, on_left_button_click)
right_button_click_listener = EventListener(is_right_button_clicked, on_right_button_click)

events_listener = EventListener(eventer.is_queue_non_empty, eventer.process)

def handle_tunnel_message(message):
    if "action" not in message:
        return

    action = message["action"]

    if action == "change_class":
        knn.change_current_class(message["payload"]["class"], message["payload"]["class_name"])

    elif action == "change_mode":
        new_mode = message["payload"]["mode"]
        if knn.mode == new_mode:
            return
        knn.change_mode(message["payload"]["mode"])

    elif action == "delete_datapoint":
        knn.delete_datapoint(message["payload"]["id"])

    elif action == "change_datapoint_label":
        knn.change_datapoint_label(message["payload"]["id"], message["payload"]["new_label"])

    elif action == "change_k":
        knn.change_k(message["payload"]["k"])

    elif action == "startup_functionality":
        knn.change_current_class(message["payload"]["class"], message["payload"]["class_name"])
        knn.change_mode(message["payload"]["mode"])
        knn.data = message["payload"]["data"]
        knn.k = message["payload"]["k"]

        # Find the largest "id" in the data
        if len(knn.data) > 0:
            max_id = max(int(item["id"]) for item in knn.data)
        else:
            max_id = -1
        knn.current_id = max_id + 1

    else:
        return

messenger.init_message_listener(handle_tunnel_message)
messenger.announce_start()

runloop.run(left_button_click_listener.listen(), right_button_click_listener.listen(), events_listener.listen())


`,xF=({distanceSensorPort:t,leftMotorPort:e,rightMotorPort:r,isInverted:n})=>`

import runloop, hub, json

class Eventer:
    def __init__(self):
        self.__subscribers = {}
        self.__queue = []

    def subscribe(self, event_name, callback):
        if event_name not in self.__subscribers:
            self.__subscribers[event_name] = []
        self.__subscribers[event_name].append(callback)

    def emit(self, event_name):
        # Instead of recursive calls, just queue the event
        self.__queue.append(event_name)

    async def process(self):
        while self.__queue:
            event_name = self.__queue.pop(0)
            runloop.run(*[callback() for callback in self.__subscribers[event_name]])

    def is_queue_non_empty(self):
        return bool(self.__queue)

eventer = Eventer()

class Messenger():
    def __init__(self, tunnel):
        self.__tunnel = tunnel
        self.__queue = []
        self.__is_sending = False
        self.__buffer = []

        self.__BANDWIDTH = 8192 // 16
        self.__MAX_PACKET_SIZE = 509 # assume it's always default
        # [max message size] = [max packet size] - [number of bytes for storing message code, length, frameId, totalFrames]
        self.__MAX_MESSAGE_SIZE = self.__MAX_PACKET_SIZE - 5 # 1 for ID, 2 for length, 1 for frameId, 1 for frameTotal


    def __queue_message(self, message):
        # encoding the message
        encoded_full_message = message.encode('utf-8')

        chunks = [
            encoded_full_message[i:i + self.__MAX_MESSAGE_SIZE]
            for i in range(0, len(encoded_full_message), self.__MAX_MESSAGE_SIZE)
        ]

        total_frames = len(chunks)

        frames = [
            bytes([frame_id, total_frames]) + chunk
            for frame_id, chunk in enumerate(chunks)
        ]

        self.__queue.extend(frames)

    def send_object(self, obj):
        stringified_object = json.dumps(obj)
        self.__queue_message(stringified_object)
        eventer.emit("process_message_queue")

    def init_message_listener(self, message_handler):
        def process_chunk(data):
            data_bytes = bytes(data)
            if len(data_bytes) < 2:
                return

            frame_id = data_bytes[0]
            total_frames = data_bytes[1]
            chunk = data_bytes[2:]

            self.__buffer.append(chunk)

            if len(self.__buffer) == total_frames:
                full_message = b"".join(self.__buffer)
                self.__buffer = []

                try:
                    decoded_message = full_message.decode('utf-8')
                    message_handler(json.loads(decoded_message))
                except:
                    print("Undecodable messages received")

        self.__tunnel.callback(process_chunk)
        
    def announce_start(self):
        self.send_object({"action": "program_start", "payload": {}})


    async def process_queue(self):
        if self.__is_sending:
            return

        if not self.__queue:
            return

        self.__is_sending = True

        if self.__queue:
            data = self.__queue.pop(0)
            size = len(data) + 3

            # Calculate wait time based on the message size
            wait_ms = size * 1_000 // self.__BANDWIDTH

            self.__tunnel.send(data)
            await runloop.sleep_ms(wait_ms)

        self.__is_sending = False
        eventer.emit("process_message_queue")

tunnel = hub.config["module_tunnel"]
messenger = Messenger(tunnel)

eventer.subscribe("process_message_queue", messenger.process_queue)


class EventListener:
    def __init__(self, condition_func, callback):
        self.__condition_func = condition_func
        self.__callback = callback
        self.__last_condition = False# Track previous condition

    async def listen(self):
        while True:
            current_condition = self.__condition_func()

            # Trigger callback only when condition starts returning True
            if current_condition and not self.__last_condition:
                await self.__callback()

            self.__last_condition = current_condition
            await runloop.sleep_ms(50)

from hub import port

DISTANCE_SENSOR_PORT = port.${t}
LEFT_MOTOR_PORT = port.${e}
RIGHT_MOTOR_PORT = port.${r}
ROTATION_SIGN = ${+!n*2-1}

import distance_sensor


def get_distance_measurement():
    try:
        return distance_sensor.distance(DISTANCE_SENSOR_PORT) / 10
    except:
        return -1

class Pingponger:
    def __init__(self):
        self.mode = "train"
        self.motor_pair = None
        self.data = []
        self.current_id = 0
        self.cache = {"distance": None, "power": None}
        self.best_parameters = [None, None]
        self.current_parameters = [None, None]
        self.infer_distance = None
        self.train_power = 50
        self.is_shooting = False

    def change_mode(self, new_mode):
        self.mode = new_mode
        self.infer_distance = None

    def change_power(self, new_power):
        self.train_power = new_power

    def calc_infer(self):
        pred_power = floor(
            self.current_parameters[0] * self.infer_distance
            + self.current_parameters[1]
        )
        if pred_power > 100:
            pred_power = 100
        if pred_power < 20:
            pred_power = 20

        return pred_power

    def log_distance(self, distance):
        self.cache["distance"] = distance

    def log_power(self):
        self.cache["power"] = self.train_power
        return self.cache["power"]

    def check_and_add_dp(self):
        if self.cache["power"] is None or self.cache["distance"] is None:
            return

        data_obj = {
            "id": str(self.current_id),
            "power": self.cache["power"],
            "distance": self.cache["distance"],
        }
        self.current_id += 1
        self.data.append(data_obj)

        self.cache = {"power": None, "distance": None}

        messenger.send_object({"action": "add_point", "payload": data_obj})
        self.recalculate_best_parameters()

    def recalculate_best_parameters(self):
        if len(self.data) < 2:
            return  # Need at least two points to calculate a linear relationship

        distances = [point["distance"] for point in self.data]
        powers = [point["power"] for point in self.data]

        N = len(self.data)
        sum_x = sum(distances)
        sum_y = sum(powers)
        sum_x_squared = sum(x * x for x in distances)
        sum_xy = sum(x * y for x, y in zip(distances, powers))

        slope = (N * sum_xy - sum_x * sum_y) / (N * sum_x_squared - sum_x**2)
        intercept = (sum_y - slope * sum_x) / N

        old_best = self.best_parameters
        self.best_parameters = [slope, intercept]

        if not self.current_parameters[0] or (
            self.current_parameters[0] == old_best[0]
            and self.current_parameters[1] == old_best[1]
        ):
            self.current_parameters = self.best_parameters

    def log_infer_distance(self, logged_distance):
        self.infer_distance = logged_distance
        data_obj = {
            "distance": logged_distance,
        }
        messenger.send_object({"action": "infer_distance", "payload": data_obj})

    def change_parameters(self, parameters):
        self.current_parameters = parameters

    def set_best_parameters(self):
        self.current_parameters = self.best_parameters

    def delete_datapoint(self, dp_id):
        self.data = [dp for dp in self.data if dp["id"] != str(dp_id)]
        self.recalculate_best_parameters()

    def upload_datapoints(self, dps):
        self.data = dps
        self.recalculate_best_parameters()
        self.current_id = len(dps) + 1


pingponger = Pingponger()

import motor_pair

motor_pair.pair(motor_pair.PAIR_1, LEFT_MOTOR_PORT, RIGHT_MOTOR_PORT)

from hub import light_matrix

async def show_no():
    light_matrix.show_image(light_matrix.IMAGE_NO)
    await runloop.sleep_ms(500)
    light_matrix.clear()


def is_left_button_clicked():
    return bool(hub.button.pressed(hub.button.LEFT))

async def on_left_button_click():
    if pingponger.is_shooting:
        return
    if pingponger.mode == "train":
        pingponger.log_power()
        shooting_power = pingponger.train_power

    elif pingponger.mode == "infer":
        if pingponger.infer_distance is None:
            await show_no()
            return
        shooting_power = pingponger.calc_infer()

    pingponger.is_shooting = True
    
    await motor_pair.move_for_degrees(motor_pair.PAIR_1, 360, 0, velocity=int(ROTATION_SIGN * 1110 * shooting_power / 100), acceleration=10000)

    pingponger.is_shooting = False

left_button_click_listener = EventListener(is_left_button_clicked, on_left_button_click)


def is_right_button_clicked():
    return bool(hub.button.pressed(hub.button.RIGHT))

async def on_right_button_click():
    if pingponger.is_shooting:
        return
    sensor_value = get_distance_measurement()
    if sensor_value is None or sensor_value >= 130 or sensor_value <= 5:
        await show_no()
        pingponger.infer_distance = None
        return

    if pingponger.mode == "train":
        pingponger.log_distance(sensor_value)
        pingponger.check_and_add_dp()
    elif pingponger.mode == "infer":
        pingponger.log_infer_distance(sensor_value)

right_button_click_listener = EventListener(is_right_button_clicked, on_right_button_click)

eventer.subscribe("shoot", on_left_button_click)
eventer.subscribe("measure", on_right_button_click)

events_listener = EventListener(eventer.is_queue_non_empty, eventer.process)

def handle_tunnel_message(message):
    if "action" not in message:
        return

    action = message["action"]

    if action == "change_power":
        pingponger.change_power(message["payload"]["power"])

    elif action == "change_mode":
        pingponger.change_mode(message["payload"]["mode"])

    elif action == "delete_datapoint":
        pingponger.delete_datapoint(message["payload"]["id"])

    elif action == "code_start":
        pingponger.change_mode(message["payload"]["mode"])
        pingponger.upload_datapoints(message["payload"]["datapoints"])
        pingponger.change_power(message["payload"]["power"])
        pingponger.infer_distance = message["payload"]["infer_distance"]

    elif action == "pitch_ball":
        eventer.emit("shoot")
    
    elif action == "measure_distance":
        eventer.emit("measure")

    else:
        return

messenger.init_message_listener(handle_tunnel_message)
messenger.announce_start()

runloop.run(left_button_click_listener.listen(), right_button_click_listener.listen(), events_listener.listen())

`,R2={boilerplate:vF,crawler:yF,fruitPredictor:bF,pitcher:xF},wF=({data:t,fruitDropDownOptions:e,handleChangeLabel:r,handleRemoveData:n,handleTableRowHover:a})=>{const{t:i}=Qr(),[s,o]=Q.useState(null);return Y.jsxs(_F,{children:[Y.jsx(yx,{children:[i("FruitPredictor.yAxisTitle"),i("FruitPredictor.xAxisTitle"),i("FruitPredictor.label"),i("FruitPredictor.delete")].map((l,u)=>Y.jsx(SF,{children:l},u))}),Y.jsx(kF,{children:t.map(l=>Y.jsxs(yx,{onMouseEnter:()=>a(l.id),onMouseLeave:()=>a(null),children:[Y.jsx(O1,{children:Y.jsx("p",{children:l.length})}),Y.jsx(O1,{children:Y.jsx(EF,{$color:l.color})}),Y.jsx(bx,{style:{position:"relative"},children:Y.jsx(Fa,{options:e,currentOptionId:l.label,handleOptionSelect:u=>{r(l.id,u),o(null)},opened:l.id===s,handleClick:()=>o(s===l.id?null:l.id)})}),Y.jsx(bx,{children:Y.jsx("p",{onClick:()=>n(l.id),children:""})})]},l.id))})]})},_F=Re.div.withConfig({displayName:"FruitPredictorTable__TableWrapper",componentId:"sc-z2gly5-0"})(["display:grid;border:1px solid ",";border-radius:5px;font-family:var(--main-font);font-size:16px;font-weight:400;position:relative;"],({theme:t})=>t.black),SF=Re.span.withConfig({displayName:"FruitPredictorTable__HeaderCell",componentId:"sc-z2gly5-1"})(["display:table-header-group;vertical-align:middle;border-color:inherit;background-color:",";padding:10px 15px;@media (max-width:1600px){padding:10px 10px;}color:white;font-weight:900;"],({theme:t})=>t.black),yx=Re.div.withConfig({displayName:"FruitPredictorTable__TableRow",componentId:"sc-z2gly5-2"})(["display:grid;position:relative;grid-template-columns:1fr 1fr 1fr 1fr;@media (max-width:1600px){grid-template-columns:1fr 1fr 2fr 1fr;}&:nth-child(odd){background-color:",';}&:nth-child(even){background-color:"white";}&:last-of-type,&:first-of-type{border:none;}'],({theme:t})=>t.gray),kF=Re.div.withConfig({displayName:"FruitPredictorTable__Body",componentId:"sc-z2gly5-3"})(["overflow-y:auto;max-height:300px;scroll-padding-bottom:50px;margin:1px 0;position:relative;"]),O1=Re.span.withConfig({displayName:"FruitPredictorTable__TableCell",componentId:"sc-z2gly5-4"})(["text-align:left;padding:5px 15px;display:flex;align-items:center;justify-content:start;"]),EF=Re.div.withConfig({displayName:"FruitPredictorTable__ColorBox",componentId:"sc-z2gly5-5"})(["width:1px;border:1px solid ",";width:20px;height:20px;background-color:",";border-radius:5px;"],({theme:t})=>t.black,({$color:t})=>`rgb(255, ${t[1]/1024*255}, 0)`),bx=Re(O1).withConfig({displayName:"FruitPredictorTable__ClickableCell",componentId:"sc-z2gly5-6"})(["& > p{cursor:pointer;display:inline-block;}"]),CF={distanceSensorPort:"E",colorSensorPort:"F"},TF=()=>{const{t}=Qr(),{sendTunnelData:e,subscribe:r}=Uh(),n=Q.useRef(null),[a,i]=Q.useState(()=>xr("fruitPredictor_k",3)),[s,o]=Q.useState(()=>xr("fruitPredictor_data",[])),[l,u]=Q.useState(()=>xr("fruitPredictor_inferDatapoint",void 0)),[c,f]=Q.useState(()=>xr("fruitPredictor_showDecisionBorder",!1)),[d,p]=Q.useState(()=>xr("fruitPredictor_modelMode","train")),[g,y]=Q.useState(()=>xr("fruitPredictor_hideInfer",!1)),[x,b]=Q.useState(()=>xr("fruitPredictor_currentClass","apple")),[w,_]=Q.useState(!1),[k,E]=Q.useState(CF),D=Q.useMemo(()=>({apple:{label:t("FruitPredictor.fruitLabels.apple"),emoji:"",fillColor:"rgb(253, 143, 143)"},banana:{label:t("FruitPredictor.fruitLabels.banana"),emoji:"",fillColor:"rgb(255, 241, 134)"},undecided:{label:"Undecided",emoji:"",fillColor:"rgb(192, 192, 192)"}}),[t]),M=Q.useMemo(()=>Object.entries(D).map(([U,H])=>({id:U,text:`${H.emoji} ${H.label}`})).filter(U=>U.id!=="undecided"),[D]),A=U=>{o(H=>H.filter(ee=>ee.id!==U)),e({action:"delete_datapoint",payload:{id:U}})},R=(U,H)=>{o(ee=>ee.map(re=>re.id!==U?re:{...re,label:H})),e({action:"change_datapoint_label",payload:{id:U,new_label:H}})},O=U=>{i(U),e({action:"change_k",payload:{k:U}})},N=async()=>{r(X),e({action:"startup_functionality",payload:{class:x,class_name:D[x].label,data:[...s].map(U=>({...U,len:U.length,length:void 0})),k:a,mode:d}}).then(()=>_t.success(t("FruitPredictor.toasts.codeStarted"),{position:"bottom-left"}))},B=U=>{var H,ee,re;U?s.findIndex(W=>W.id===U)!==-1&&((ee=n.current)==null||ee.setActiveElements([{datasetIndex:0,index:s.findIndex(W=>W.id===U)}])):(H=n.current)==null||H.setActiveElements([]),(re=n.current)==null||re.update("none")},F=U=>{b(U),e({action:"change_class",payload:{class:U,class_name:D[U].label}})},V=U=>{u(void 0),p(U),e({action:"change_mode",payload:{mode:U}})},X=U=>{const H=U.payload;switch(U.action){case"add_point":const ee={id:H.id,color:H.color.slice(0,3),length:H.len,label:H.label};o(W=>[...W,ee]);break;case"inference_result":const re={id:"infer",color:H.color,length:H.len};u(re);break}},K=Q.useMemo(()=>R2.crawler(k),[k]);return Q.useEffect(()=>{localStorage.setItem("fruitPredictor_k",JSON.stringify(a))},[a]),Q.useEffect(()=>{localStorage.setItem("fruitPredictor_data",JSON.stringify(s))},[s]),Q.useEffect(()=>{localStorage.setItem("fruitPredictor_inferDatapoint",JSON.stringify(l===void 0?"__undefined__":l))},[l]),Q.useEffect(()=>{localStorage.setItem("fruitPredictor_showDecisionBorder",JSON.stringify(c))},[c]),Q.useEffect(()=>{localStorage.setItem("fruitPredictor_modelMode",JSON.stringify(d))},[d]),Q.useEffect(()=>{localStorage.setItem("fruitPredictor_hideInfer",JSON.stringify(g))},[g]),Q.useEffect(()=>{localStorage.setItem("fruitPredictor_currentClass",JSON.stringify(x))},[x]),Y.jsxs(MF,{children:[Y.jsx(Tt.H1,{children:t("FruitPredictor.title")}),Y.jsx(Tt.Text,{children:t("FruitPredictor.description")}),Y.jsx(L2,{code:K,onStart:N}),Y.jsxs(DF,{children:[Y.jsx("div",{children:Y.jsx(yB,{k:a,fruitStyles:D,fruitData:s,inferDatapoint:g?void 0:l,showDecisionBorder:c,chartRef:n})}),Y.jsxs("div",{children:[Y.jsx(P2,{currentId:d,segments:jS.map(U=>({id:U,text:t(`FruitPredictor.modelModes.${U}`)})),handleSelectOption:V}),d==="infer"?Y.jsxs(xx,{children:[Y.jsx(ml,{value:a,minValue:1,maxValue:17,label:"K",onChange:U=>i(U),onMouseUp:O,fullWidth:!0,writeValue:!0}),Y.jsx(Oc,{text:t("FruitPredictor.showDecisionBorder"),value:c,handleChange:U=>f(U.target.checked)}),Y.jsx(Oc,{text:t("FruitPredictor.hideInfer"),value:g,handleChange:U=>y(U.target.checked)})]}):Y.jsx(xx,{children:Y.jsxs(PF,{children:[Y.jsx(Tt.Text,{$bold:!0,children:t("FruitPredictor.selectClass")}),Y.jsx(Fa,{options:M,currentOptionId:x,handleOptionSelect:F,width:"auto"})]})}),Y.jsx(wF,{data:s,fruitDropDownOptions:M,handleRemoveData:A,handleChangeLabel:R,handleTableRowHover:B})]})]}),Y.jsx(tF,{active:w,handleClose:()=>_(!1),fruitPredictorSettings:k,setFruitPredictorSettings:E})]})},MF=Re.div.withConfig({displayName:"fruit-predictor__Wrapper",componentId:"sc-1rddpf0-0"})([""]),DF=Re.div.withConfig({displayName:"fruit-predictor__DiagramRow",componentId:"sc-1rddpf0-1"})(["display:grid;grid-template-columns:1fr 1fr;column-gap:30px;"]),xx=Re.div.withConfig({displayName:"fruit-predictor__ControlsWrapper",componentId:"sc-1rddpf0-2"})(["padding:20px 0;display:flex;flex-direction:column;justify-content:flex-start;align-items:flex-start;"]),PF=Re.div.withConfig({displayName:"fruit-predictor__SelectClassRow",componentId:"sc-1rddpf0-3"})(["display:flex;align-items:center;gap:10px;"]);s0.register(gl,Kd,nc,si,NS);const La={xMin:0,xMax:100,yMin:0,yMax:100},AF=({chartRef:t,isInfer:e,regressionData:r,m:n,b:a,inferDistance:i})=>{const s=i2(),{t:o}=Qr(),l=Q.useMemo(()=>({datasets:[{label:"points",data:r.map(c=>({x:c.distance,y:c.power})),showLine:!1,pointRadius:0,pointBackgroundColor:"rgb(5, 0, 153)",pointHoverRadius:15,pointHoverBackgroundColor:"rgba(112, 112, 112, 0.5)",clip:!1},...e&&i?[{label:"inferLine",data:[{x:i,y:0},{x:i,y:n*i+a},{x:0,y:n*i+a}],showLine:!0,pointRadius:0,borderColor:s.darkRed,borderDash:[6,3]}]:[],...e?[{label:"line",data:[{x:La.xMin,y:n*La.xMin+a},{x:La.xMax,y:n*La.xMax+a}],showLine:!0,pointRadius:0,borderColor:"#080808"}]:[]]}),[r,e,n,a,i]),u=Q.useMemo(()=>({aspectRatio:1,maintainAspectRatio:!0,events:[],layout:{padding:{right:10}},scales:{x:{min:La.xMin,max:La.xMax,title:{display:!0,text:o("PingPonger.xAxisTitle"),font:{size:16}}},y:{min:La.yMin,max:La.yMax,title:{display:!0,text:o("PingPonger.yAxisTitle"),font:{size:16}}}},regressionParams:{m:n,b:a,isInfer:e},animation:!1}),[o,n,a,e]);return Y.jsx(qS,{id:"fruit-predictor-scatter",ref:t,data:l,options:u,plugins:[LF,RF]})},LF={id:"emojiPlugin",afterDatasetsDraw:t=>{const{ctx:e,data:r}=t;for(const n in r.datasets){const a=r.datasets[n],{label:i}=a;if(i!=="points"&&i!=="inferLine")continue;const s=a,o=t.getDatasetMeta(Number(n)),l="16px sans-serif";e.save(),e.fillStyle="rgba(255, 255, 255, 1)",e.font=l,e.textAlign="center",e.textBaseline="middle",s.data.forEach((u,c)=>{if(i==="inferLine"&&c!==1)return;const f=o.data[c],{x:d,y:p}=f;e.fillText("PingPonger.",d,p)}),e.restore()}}},RF={id:"arrowsPlugin",beforeDatasetDraw:t=>{const{ctx:e,data:r,scales:n}=t,{regressionParams:a}=t.options;if(!a||!a.isInfer)return;const{m:i,b:s}=a,o=La.yMin,l=La.yMax,u=n.y,c=r.datasets.find(d=>d.label==="points");if(!c)return;const f=t.getDatasetMeta(r.datasets.indexOf(c));f&&(e.save(),e.strokeStyle="#080808",e.lineWidth=1,c.data.forEach((d,p)=>{const g=f.data[p],y=g.x,x=g.y,b=d.x,w=i*b+s;let _=w;_<o?_=o:_>l&&(_=l);const k=u.getPixelForValue(_);if(e.beginPath(),e.setLineDash([5,5]),e.moveTo(y,x),e.lineTo(y,k),e.stroke(),_===w){const D=k>x?Math.PI/2:-Math.PI/2;e.beginPath(),e.setLineDash([]),e.moveTo(y,k),e.lineTo(y-8*Math.cos(D-Math.PI/6),k-8*Math.sin(D-Math.PI/6)),e.moveTo(y,k),e.lineTo(y-8*Math.cos(D+Math.PI/6),k-8*Math.sin(D+Math.PI/6)),e.stroke()}}),e.restore())}},OF=({data:t,handleRemoveData:e,handleTableRowHover:r})=>{const{t:n}=Qr();return Y.jsxs(IF,{children:[Y.jsx(wx,{children:[n("PingPonger.xAxisTitle"),n("PingPonger.yAxisTitle"),n("PingPonger.delete")].map((a,i)=>Y.jsx(NF,{children:a},i))}),Y.jsx(zF,{children:t.map(a=>Y.jsxs(wx,{onMouseEnter:()=>r(a.id),onMouseLeave:()=>r(null),children:[Y.jsx(I1,{children:Y.jsx("p",{children:a.distance})}),Y.jsx(I1,{children:Y.jsxs(BF,{children:[Y.jsx(FF,{style:{width:`${a.power}%`},children:a.power>15&&Y.jsx($F,{children:` ${a.power}%`})}),a.power<=15&&Y.jsx(qF,{children:` ${a.power}%`})]})}),Y.jsx(HF,{children:Y.jsx("p",{onClick:()=>e(a.id),children:""})})]},a.id))})]})},IF=Re.div.withConfig({displayName:"PingPongerTable__TableWrapper",componentId:"sc-1wn0ytq-0"})(["display:grid;border:1px solid ",";border-radius:5px;overflow:hidden;font-family:var(--main-font);font-size:16px;font-weight:400;"],({theme:t})=>t.black),NF=Re.span.withConfig({displayName:"PingPongerTable__HeaderCell",componentId:"sc-1wn0ytq-1"})(["display:table-header-group;vertical-align:middle;background-color:",";padding:10px 15px;color:white;font-weight:900;"],({theme:t})=>t.black),wx=Re.div.withConfig({displayName:"PingPongerTable__TableRow",componentId:"sc-1wn0ytq-2"})(["display:grid;grid-template-columns:1fr 1fr 1fr;&:nth-child(odd){background-color:",";}&:nth-child(even){background-color:white;}&:last-of-type,&:first-of-type{border:none;}"],({theme:t})=>t.gray),zF=Re.div.withConfig({displayName:"PingPongerTable__Body",componentId:"sc-1wn0ytq-3"})(["overflow-y:auto;max-height:300px;scroll-padding-bottom:50px;margin:1px 0;"]),I1=Re.span.withConfig({displayName:"PingPongerTable__TableCell",componentId:"sc-1wn0ytq-4"})(["text-align:left;padding:5px 15px;display:flex;align-items:center;justify-content:start;gap:10px;"]),BF=Re.span.withConfig({displayName:"PingPongerTable__ProgressBar",componentId:"sc-1wn0ytq-5"})(["flex:1;border-radius:5px;border:1px solid ",";height:20px;background:",";position:relative;overflow:hidden;"],({theme:t})=>t.black,({theme:t})=>t.white),FF=Re.span.withConfig({displayName:"PingPongerTable__ProgressBarFill",componentId:"sc-1wn0ytq-6"})(["display:block;height:100%;background:linear-gradient(to right,#fffb83,#fdcd55);transition:width 0.3s ease-in-out;position:relative;"]),$F=Re.span.withConfig({displayName:"PingPongerTable__ProgressLabel",componentId:"sc-1wn0ytq-7"})(["position:absolute;left:50%;transform:translateX(-50%);font-weight:bold;font-size:12px;color:",";white-space:nowrap;"],({theme:t})=>t.black),qF=Re.span.withConfig({displayName:"PingPongerTable__OutsideLabel",componentId:"sc-1wn0ytq-8"})(["font-weight:bold;font-size:12px;color:",";white-space:nowrap;position:absolute;left:50%;transform:translateX(-50%);top:0;"],({theme:t})=>t.black),HF=Re(I1).withConfig({displayName:"PingPongerTable__ClickableCell",componentId:"sc-1wn0ytq-9"})(["& > p{cursor:pointer;display:inline-block;}"]);function VF(t,e){e===void 0&&(e={});var r=e.insertAt;if(!(!t||typeof document>"u")){var n=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css",r==="top"&&n.firstChild?n.insertBefore(a,n.firstChild):n.appendChild(a),a.styleSheet?a.styleSheet.cssText=t:a.appendChild(document.createTextNode(t))}}var jF=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function UF(t,e){return e={exports:{}},t(e,e.exports),e.exports}var WS=UF(function(t,e){(function(n,a){t.exports=a()})(typeof self<"u"?self:jF,function(){return function(){var r={};(function(){r.d=function(m,h){for(var v in h)r.o(h,v)&&!r.o(m,v)&&Object.defineProperty(m,v,{enumerable:!0,get:h[v]})}})(),function(){r.o=function(m,h){return Object.prototype.hasOwnProperty.call(m,h)}}();var n={};r.d(n,{default:function(){return tT}});class a{constructor(h,v){this.name=void 0,this.position=void 0,this.length=void 0,this.rawMessage=void 0;let S="KaTeX parse error: "+h,C,L;const I=v&&v.loc;if(I&&I.start<=I.end){const G=I.lexer.input;C=I.start,L=I.end,C===G.length?S+=" at end of input: ":S+=" at position "+(C+1)+": ";const ne=G.slice(C,L).replace(/[^]/g,"$&");let ie;C>15?ie=""+G.slice(C-15,C):ie=G.slice(0,C);let ce;L+15<G.length?ce=G.slice(L,L+15)+"":ce=G.slice(L),S+=ie+ne+ce}const $=new Error(S);return $.name="ParseError",$.__proto__=a.prototype,$.position=C,C!=null&&L!=null&&($.length=L-C),$.rawMessage=h,$}}a.prototype.__proto__=Error.prototype;var i=a;const s=function(m,h){return m.indexOf(h)!==-1},o=function(m,h){return m===void 0?h:m},l=/([A-Z])/g,u=function(m){return m.replace(l,"-$1").toLowerCase()},c={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},f=/[&><"']/g;function d(m){return String(m).replace(f,h=>c[h])}const p=function(m){return m.type==="ordgroup"||m.type==="color"?m.body.length===1?p(m.body[0]):m:m.type==="font"?p(m.body):m},g=function(m){const h=p(m);return h.type==="mathord"||h.type==="textord"||h.type==="atom"},y=function(m){if(!m)throw new Error("Expected non-null, but got "+String(m));return m};var b={contains:s,deflt:o,escape:d,hyphenate:u,getBaseElem:p,isCharacterBox:g,protocolFromUrl:function(m){const h=/^[\x00-\x20]*([^\\/#?]*?)(:|&#0*58|&#x0*3a|&colon)/i.exec(m);return h?h[2]!==":"||!/^[a-zA-Z][a-zA-Z0-9+\-.]*$/.test(h[1])?null:h[1].toLowerCase():"_relative"}};const w={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml","html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format <type>"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",default:"#cc0000",cli:"-c, --error-color <color>",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:m=>"#"+m},macros:{type:"object",cli:"-m, --macro <def>",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:(m,h)=>(h.push(m),h)},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:m=>Math.max(0,m),cli:"--min-rule-thickness <size>",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:1/0,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:m=>Math.max(0,m),cli:"-s, --max-size <n>",cliProcessor:parseInt},maxExpand:{type:"number",default:1e3,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",processor:m=>Math.max(0,m),cli:"-e, --max-expand <n>",cliProcessor:m=>m==="Infinity"?1/0:parseInt(m)},globalGroup:{type:"boolean",cli:!1}};function _(m){if(m.default)return m.default;const h=m.type,v=Array.isArray(h)?h[0]:h;if(typeof v!="string")return v.enum[0];switch(v){case"boolean":return!1;case"string":return"";case"number":return 0;case"object":return{}}}class k{constructor(h){this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,h=h||{};for(const v in w)if(w.hasOwnProperty(v)){const S=w[v];this[v]=h[v]!==void 0?S.processor?S.processor(h[v]):h[v]:_(S)}}reportNonstrict(h,v,S){let C=this.strict;if(typeof C=="function"&&(C=C(h,v,S)),!(!C||C==="ignore")){if(C===!0||C==="error")throw new i("LaTeX-incompatible input and strict mode is set to 'error': "+(v+" ["+h+"]"),S);C==="warn"?typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(v+" ["+h+"]")):typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+C+"': "+v+" ["+h+"]"))}}useStrictBehavior(h,v,S){let C=this.strict;if(typeof C=="function")try{C=C(h,v,S)}catch{C="error"}return!C||C==="ignore"?!1:C===!0||C==="error"?!0:C==="warn"?(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(v+" ["+h+"]")),!1):(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+C+"': "+v+" ["+h+"]")),!1)}isTrusted(h){if(h.url&&!h.protocol){const S=b.protocolFromUrl(h.url);if(S==null)return!1;h.protocol=S}return!!(typeof this.trust=="function"?this.trust(h):this.trust)}}class E{constructor(h,v,S){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=h,this.size=v,this.cramped=S}sup(){return V[X[this.id]]}sub(){return V[K[this.id]]}fracNum(){return V[U[this.id]]}fracDen(){return V[H[this.id]]}cramp(){return V[ee[this.id]]}text(){return V[re[this.id]]}isTight(){return this.size>=2}}const D=0,M=1,A=2,R=3,O=4,N=5,B=6,F=7,V=[new E(D,0,!1),new E(M,0,!0),new E(A,1,!1),new E(R,1,!0),new E(O,2,!1),new E(N,2,!0),new E(B,3,!1),new E(F,3,!0)],X=[O,N,O,N,B,F,B,F],K=[N,N,N,N,F,F,F,F],U=[A,R,O,N,B,F,B,F],H=[R,R,N,N,F,F,F,F],ee=[M,M,R,R,N,N,F,F],re=[D,M,A,R,A,R,A,R];var W={DISPLAY:V[D],TEXT:V[A],SCRIPT:V[O],SCRIPTSCRIPT:V[B]};const Z=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}];function ue(m){for(let h=0;h<Z.length;h++){const v=Z[h];for(let S=0;S<v.blocks.length;S++){const C=v.blocks[S];if(m>=C[0]&&m<=C[1])return v.name}}return null}const pe=[];Z.forEach(m=>m.blocks.forEach(h=>pe.push(...h)));function ge(m){for(let h=0;h<pe.length;h+=2)if(m>=pe[h]&&m<=pe[h+1])return!0;return!1}const fe=80,Se=function(m,h){return"M95,"+(622+m+h)+`
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l`+m/2.075+" -"+m+`
c5.3,-9.3,12,-14,20,-14
H400000v`+(40+m)+`H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M`+(834+m)+" "+h+"h400000v"+(40+m)+"h-400000z"},Ee=function(m,h){return"M263,"+(601+m+h)+`c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l`+m/2.084+" -"+m+`
c4.7,-7.3,11,-11,19,-11
H40000v`+(40+m)+`H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M`+(1001+m)+" "+h+"h400000v"+(40+m)+"h-400000z"},ve=function(m,h){return"M983 "+(10+m+h)+`
l`+m/3.13+" -"+m+`
c4,-6.7,10,-10,18,-10 H400000v`+(40+m)+`
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M`+(1001+m)+" "+h+"h400000v"+(40+m)+"h-400000z"},se=function(m,h){return"M424,"+(2398+m+h)+`
c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514
c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20
s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121
s209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081
l`+m/4.223+" -"+m+`c4,-6.7,10,-10,18,-10 H400000
v`+(40+m)+`H1014.6
s-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185
c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2z M`+(1001+m)+" "+h+`
h400000v`+(40+m)+"h-400000z"},ye=function(m,h){return"M473,"+(2713+m+h)+`
c339.3,-1799.3,509.3,-2700,510,-2702 l`+m/5.298+" -"+m+`
c3.3,-7.3,9.3,-11,18,-11 H400000v`+(40+m)+`H1017.7
s-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200
c0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26
s76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,
606zM`+(1001+m)+" "+h+"h400000v"+(40+m)+"H1017.7z"},we=function(m){const h=m/2;return"M400000 "+m+" H0 L"+h+" 0 l65 45 L145 "+(m-80)+" H400000z"},Le=function(m,h,v){const S=v-54-h-m;return"M702 "+(m+h)+"H400000"+(40+m)+`
H742v`+S+`l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1
h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170
c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667
219 661 l218 661zM702 `+h+"H400000v"+(40+m)+"H742z"},Ve=function(m,h,v){h=1e3*h;let S="";switch(m){case"sqrtMain":S=Se(h,fe);break;case"sqrtSize1":S=Ee(h,fe);break;case"sqrtSize2":S=ve(h,fe);break;case"sqrtSize3":S=se(h,fe);break;case"sqrtSize4":S=ye(h,fe);break;case"sqrtTall":S=Le(h,fe,v)}return S},it=function(m,h){switch(m){case"":return"M291 0 H417 V"+h+" H291z M291 0 H417 V"+h+" H291z";case"":return"M145 0 H188 V"+h+" H145z M145 0 H188 V"+h+" H145z";case"":return"M145 0 H188 V"+h+" H145z M145 0 H188 V"+h+" H145z"+("M367 0 H410 V"+h+" H367z M367 0 H410 V"+h+" H367z");case"":return"M457 0 H583 V"+h+" H457z M457 0 H583 V"+h+" H457z";case"":return"M319 0 H403 V"+h+" H319z M319 0 H403 V"+h+" H319z";case"":return"M263 0 H347 V"+h+" H263z M263 0 H347 V"+h+" H263z";case"":return"M384 0 H504 V"+h+" H384z M384 0 H504 V"+h+" H384z";case"":return"M312 0 H355 V"+h+" H312z M312 0 H355 V"+h+" H312z";case"":return"M257 0 H300 V"+h+" H257z M257 0 H300 V"+h+" H257z"+("M478 0 H521 V"+h+" H478z M478 0 H521 V"+h+" H478z");default:return""}},Rt={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,tilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,tilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,tilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,tilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`},Et=function(m,h){switch(m){case"lbrack":return"M403 1759 V84 H666 V0 H319 V1759 v"+h+` v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v`+h+" v1759 h84z";case"rbrack":return"M347 1759 V0 H0 V84 H263 V1759 v"+h+` v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v`+h+" v1759 h84z";case"vert":return"M145 15 v585 v"+h+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-h+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+h+" v585 h43z";case"doublevert":return"M145 15 v585 v"+h+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-h+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+h+` v585 h43z
M367 15 v585 v`+h+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-h+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M410 15 H367 v585 v`+h+" v585 h43z";case"lfloor":return"M319 602 V0 H403 V602 v"+h+` v1715 h263 v84 H319z
MM319 602 V0 H403 V602 v`+h+" v1715 H319z";case"rfloor":return"M319 602 V0 H403 V602 v"+h+` v1799 H0 v-84 H319z
MM319 602 V0 H403 V602 v`+h+" v1715 H319z";case"lceil":return"M403 1759 V84 H666 V0 H319 V1759 v"+h+` v602 h84z
M403 1759 V0 H319 V1759 v`+h+" v602 h84z";case"rceil":return"M347 1759 V0 H0 V84 H263 V1759 v"+h+` v602 h84z
M347 1759 V0 h-84 V1759 v`+h+" v602 h84z";case"lparen":return`M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,`+(h+84)+`c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-`+(h+92)+`c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z`;case"rparen":return`M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,`+(h+9)+`
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-`+(h+144)+`c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z`;default:throw new Error("Unknown stretchy delimiter.")}};class ze{constructor(h){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=h,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass(h){return b.contains(this.classes,h)}toNode(){const h=document.createDocumentFragment();for(let v=0;v<this.children.length;v++)h.appendChild(this.children[v].toNode());return h}toMarkup(){let h="";for(let v=0;v<this.children.length;v++)h+=this.children[v].toMarkup();return h}toText(){const h=v=>v.toText();return this.children.map(h).join("")}}var Ne={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}};const Ge={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},tt={:"A",:"D",:"o",:"a",:"d",:"o",:"A",:"B",:"B",:"F",:"A",:"E",:"K",:"3",:"N",:"N",:"K",:"N",:"M",:"H",:"O",:"N",:"P",:"C",:"T",:"y",:"O",:"X",:"U",:"h",:"W",:"W",:"B",:"X",:"B",:"3",:"X",:"R",:"a",:"b",:"a",:"r",:"y",:"e",:"m",:"e",:"n",:"n",:"n",:"n",:"m",:"n",:"o",:"n",:"p",:"c",:"o",:"y",:"b",:"x",:"n",:"n",:"w",:"w",:"a",:"m",:"a",:"e",:"m",:"r"};function Ke(m,h){Ne[m]=h}function et(m,h,v){if(!Ne[h])throw new Error("Font metrics not found for font: "+h+".");let S=m.charCodeAt(0),C=Ne[h][S];if(!C&&m[0]in tt&&(S=tt[m[0]].charCodeAt(0),C=Ne[h][S]),!C&&v==="text"&&ge(S)&&(C=Ne[h][77]),C)return{depth:C[0],height:C[1],italic:C[2],skew:C[3],width:C[4]}}const at={};function lt(m){let h;if(m>=5?h=0:m>=3?h=1:h=2,!at[h]){const v=at[h]={cssEmPerMu:Ge.quad[h]/18};for(const S in Ge)Ge.hasOwnProperty(S)&&(v[S]=Ge[S][h])}return at[h]}const Te=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],j=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],le=function(m,h){return h.size<2?m:Te[m-1][h.size-1]};class be{constructor(h){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=h.style,this.color=h.color,this.size=h.size||be.BASESIZE,this.textSize=h.textSize||this.size,this.phantom=!!h.phantom,this.font=h.font||"",this.fontFamily=h.fontFamily||"",this.fontWeight=h.fontWeight||"",this.fontShape=h.fontShape||"",this.sizeMultiplier=j[this.size-1],this.maxSize=h.maxSize,this.minRuleThickness=h.minRuleThickness,this._fontMetrics=void 0}extend(h){const v={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(const S in h)h.hasOwnProperty(S)&&(v[S]=h[S]);return new be(v)}havingStyle(h){return this.style===h?this:this.extend({style:h,size:le(this.textSize,h)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize(h){return this.size===h&&this.textSize===h?this:this.extend({style:this.style.text(),size:h,textSize:h,sizeMultiplier:j[h-1]})}havingBaseStyle(h){h=h||this.style.text();const v=le(be.BASESIZE,h);return this.size===v&&this.textSize===be.BASESIZE&&this.style===h?this:this.extend({style:h,size:v})}havingBaseSizing(){let h;switch(this.style.id){case 4:case 5:h=3;break;case 6:case 7:h=1;break;default:h=6}return this.extend({style:this.style.text(),size:h})}withColor(h){return this.extend({color:h})}withPhantom(){return this.extend({phantom:!0})}withFont(h){return this.extend({font:h})}withTextFontFamily(h){return this.extend({fontFamily:h,font:""})}withTextFontWeight(h){return this.extend({fontWeight:h,font:""})}withTextFontShape(h){return this.extend({fontShape:h,font:""})}sizingClasses(h){return h.size!==this.size?["sizing","reset-size"+h.size,"size"+this.size]:[]}baseSizingClasses(){return this.size!==be.BASESIZE?["sizing","reset-size"+this.size,"size"+be.BASESIZE]:[]}fontMetrics(){return this._fontMetrics||(this._fontMetrics=lt(this.size)),this._fontMetrics}getColor(){return this.phantom?"transparent":this.color}}be.BASESIZE=6;var oe=be;const he={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:803/800,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:803/800},Oe={ex:!0,em:!0,mu:!0},ke=function(m){return typeof m!="string"&&(m=m.unit),m in he||m in Oe||m==="ex"},Me=function(m,h){let v;if(m.unit in he)v=he[m.unit]/h.fontMetrics().ptPerEm/h.sizeMultiplier;else if(m.unit==="mu")v=h.fontMetrics().cssEmPerMu;else{let S;if(h.style.isTight()?S=h.havingStyle(h.style.text()):S=h,m.unit==="ex")v=S.fontMetrics().xHeight;else if(m.unit==="em")v=S.fontMetrics().quad;else throw new i("Invalid unit: '"+m.unit+"'");S!==h&&(v*=S.sizeMultiplier/h.sizeMultiplier)}return Math.min(m.number*v,h.maxSize)},xe=function(m){return+m.toFixed(4)+"em"},Qe=function(m){return m.filter(h=>h).join(" ")},je=function(m,h,v){if(this.classes=m||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=v||{},h){h.style.isTight()&&this.classes.push("mtight");const S=h.getColor();S&&(this.style.color=S)}},rt=function(m){const h=document.createElement(m);h.className=Qe(this.classes);for(const v in this.style)this.style.hasOwnProperty(v)&&(h.style[v]=this.style[v]);for(const v in this.attributes)this.attributes.hasOwnProperty(v)&&h.setAttribute(v,this.attributes[v]);for(let v=0;v<this.children.length;v++)h.appendChild(this.children[v].toNode());return h},nt=function(m){let h="<"+m;this.classes.length&&(h+=' class="'+b.escape(Qe(this.classes))+'"');let v="";for(const S in this.style)this.style.hasOwnProperty(S)&&(v+=b.hyphenate(S)+":"+this.style[S]+";");v&&(h+=' style="'+b.escape(v)+'"');for(const S in this.attributes)this.attributes.hasOwnProperty(S)&&(h+=" "+S+'="'+b.escape(this.attributes[S])+'"');h+=">";for(let S=0;S<this.children.length;S++)h+=this.children[S].toMarkup();return h+="</"+m+">",h};class Ye{constructor(h,v,S,C){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,je.call(this,h,S,C),this.children=v||[]}setAttribute(h,v){this.attributes[h]=v}hasClass(h){return b.contains(this.classes,h)}toNode(){return rt.call(this,"span")}toMarkup(){return nt.call(this,"span")}}class Dt{constructor(h,v,S,C){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,je.call(this,v,C),this.children=S||[],this.setAttribute("href",h)}setAttribute(h,v){this.attributes[h]=v}hasClass(h){return b.contains(this.classes,h)}toNode(){return rt.call(this,"a")}toMarkup(){return nt.call(this,"a")}}class Xt{constructor(h,v,S){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=v,this.src=h,this.classes=["mord"],this.style=S}hasClass(h){return b.contains(this.classes,h)}toNode(){const h=document.createElement("img");h.src=this.src,h.alt=this.alt,h.className="mord";for(const v in this.style)this.style.hasOwnProperty(v)&&(h.style[v]=this.style[v]);return h}toMarkup(){let h='<img src="'+b.escape(this.src)+'"'+(' alt="'+b.escape(this.alt)+'"'),v="";for(const S in this.style)this.style.hasOwnProperty(S)&&(v+=b.hyphenate(S)+":"+this.style[S]+";");return v&&(h+=' style="'+b.escape(v)+'"'),h+="'/>",h}}const fn={:"",:"",:"",:""};class jt{constructor(h,v,S,C,L,I,$,G){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=h,this.height=v||0,this.depth=S||0,this.italic=C||0,this.skew=L||0,this.width=I||0,this.classes=$||[],this.style=G||{},this.maxFontSize=0;const ne=ue(this.text.charCodeAt(0));ne&&this.classes.push(ne+"_fallback"),/[]/.test(this.text)&&(this.text=fn[this.text])}hasClass(h){return b.contains(this.classes,h)}toNode(){const h=document.createTextNode(this.text);let v=null;this.italic>0&&(v=document.createElement("span"),v.style.marginRight=xe(this.italic)),this.classes.length>0&&(v=v||document.createElement("span"),v.className=Qe(this.classes));for(const S in this.style)this.style.hasOwnProperty(S)&&(v=v||document.createElement("span"),v.style[S]=this.style[S]);return v?(v.appendChild(h),v):h}toMarkup(){let h=!1,v="<span";this.classes.length&&(h=!0,v+=' class="',v+=b.escape(Qe(this.classes)),v+='"');let S="";this.italic>0&&(S+="margin-right:"+this.italic+"em;");for(const L in this.style)this.style.hasOwnProperty(L)&&(S+=b.hyphenate(L)+":"+this.style[L]+";");S&&(h=!0,v+=' style="'+b.escape(S)+'"');const C=b.escape(this.text);return h?(v+=">",v+=C,v+="</span>",v):C}}class Ot{constructor(h,v){this.children=void 0,this.attributes=void 0,this.children=h||[],this.attributes=v||{}}toNode(){const h="http://www.w3.org/2000/svg",v=document.createElementNS(h,"svg");for(const S in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,S)&&v.setAttribute(S,this.attributes[S]);for(let S=0;S<this.children.length;S++)v.appendChild(this.children[S].toNode());return v}toMarkup(){let h='<svg xmlns="http://www.w3.org/2000/svg"';for(const v in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,v)&&(h+=" "+v+'="'+b.escape(this.attributes[v])+'"');h+=">";for(let v=0;v<this.children.length;v++)h+=this.children[v].toMarkup();return h+="</svg>",h}}class $t{constructor(h,v){this.pathName=void 0,this.alternate=void 0,this.pathName=h,this.alternate=v}toNode(){const h="http://www.w3.org/2000/svg",v=document.createElementNS(h,"path");return this.alternate?v.setAttribute("d",this.alternate):v.setAttribute("d",Rt[this.pathName]),v}toMarkup(){return this.alternate?'<path d="'+b.escape(this.alternate)+'"/>':'<path d="'+b.escape(Rt[this.pathName])+'"/>'}}class fr{constructor(h){this.attributes=void 0,this.attributes=h||{}}toNode(){const h="http://www.w3.org/2000/svg",v=document.createElementNS(h,"line");for(const S in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,S)&&v.setAttribute(S,this.attributes[S]);return v}toMarkup(){let h="<line";for(const v in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,v)&&(h+=" "+v+'="'+b.escape(this.attributes[v])+'"');return h+="/>",h}}function Or(m){if(m instanceof jt)return m;throw new Error("Expected symbolNode but got "+String(m)+".")}function jr(m){if(m instanceof Ye)return m;throw new Error("Expected span<HtmlDomNode> but got "+String(m)+".")}const Gn={bin:1,close:1,inner:1,open:1,punct:1,rel:1},Sn={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},dn={math:{},text:{}};var vt=dn;function T(m,h,v,S,C,L){dn[m][C]={font:h,group:v,replace:S},L&&S&&(dn[m][S]=dn[m][C])}const P="math",_e="text",z="main",J="ams",pt="accent-token",Fe="bin",Ur="close",ki="inner",Ze="mathord",dr="op-token",hn="open",wo="punct",te="rel",pn="spacing",ae="textord";T(P,z,te,"","\\equiv",!0),T(P,z,te,"","\\prec",!0),T(P,z,te,"","\\succ",!0),T(P,z,te,"","\\sim",!0),T(P,z,te,"","\\perp"),T(P,z,te,"","\\preceq",!0),T(P,z,te,"","\\succeq",!0),T(P,z,te,"","\\simeq",!0),T(P,z,te,"","\\mid",!0),T(P,z,te,"","\\ll",!0),T(P,z,te,"","\\gg",!0),T(P,z,te,"","\\asymp",!0),T(P,z,te,"","\\parallel"),T(P,z,te,"","\\bowtie",!0),T(P,z,te,"","\\smile",!0),T(P,z,te,"","\\sqsubseteq",!0),T(P,z,te,"","\\sqsupseteq",!0),T(P,z,te,"","\\doteq",!0),T(P,z,te,"","\\frown",!0),T(P,z,te,"","\\ni",!0),T(P,z,te,"","\\propto",!0),T(P,z,te,"","\\vdash",!0),T(P,z,te,"","\\dashv",!0),T(P,z,te,"","\\owns"),T(P,z,wo,".","\\ldotp"),T(P,z,wo,"","\\cdotp"),T(P,z,ae,"#","\\#"),T(_e,z,ae,"#","\\#"),T(P,z,ae,"&","\\&"),T(_e,z,ae,"&","\\&"),T(P,z,ae,"","\\aleph",!0),T(P,z,ae,"","\\forall",!0),T(P,z,ae,"","\\hbar",!0),T(P,z,ae,"","\\exists",!0),T(P,z,ae,"","\\nabla",!0),T(P,z,ae,"","\\flat",!0),T(P,z,ae,"","\\ell",!0),T(P,z,ae,"","\\natural",!0),T(P,z,ae,"","\\clubsuit",!0),T(P,z,ae,"","\\wp",!0),T(P,z,ae,"","\\sharp",!0),T(P,z,ae,"","\\diamondsuit",!0),T(P,z,ae,"","\\Re",!0),T(P,z,ae,"","\\heartsuit",!0),T(P,z,ae,"","\\Im",!0),T(P,z,ae,"","\\spadesuit",!0),T(P,z,ae,"","\\S",!0),T(_e,z,ae,"","\\S"),T(P,z,ae,"","\\P",!0),T(_e,z,ae,"","\\P"),T(P,z,ae,"","\\dag"),T(_e,z,ae,"","\\dag"),T(_e,z,ae,"","\\textdagger"),T(P,z,ae,"","\\ddag"),T(_e,z,ae,"","\\ddag"),T(_e,z,ae,"","\\textdaggerdbl"),T(P,z,Ur,"","\\rmoustache",!0),T(P,z,hn,"","\\lmoustache",!0),T(P,z,Ur,"","\\rgroup",!0),T(P,z,hn,"","\\lgroup",!0),T(P,z,Fe,"","\\mp",!0),T(P,z,Fe,"","\\ominus",!0),T(P,z,Fe,"","\\uplus",!0),T(P,z,Fe,"","\\sqcap",!0),T(P,z,Fe,"","\\ast"),T(P,z,Fe,"","\\sqcup",!0),T(P,z,Fe,"","\\bigcirc",!0),T(P,z,Fe,"","\\bullet",!0),T(P,z,Fe,"","\\ddagger"),T(P,z,Fe,"","\\wr",!0),T(P,z,Fe,"","\\amalg"),T(P,z,Fe,"&","\\And"),T(P,z,te,"","\\longleftarrow",!0),T(P,z,te,"","\\Leftarrow",!0),T(P,z,te,"","\\Longleftarrow",!0),T(P,z,te,"","\\longrightarrow",!0),T(P,z,te,"","\\Rightarrow",!0),T(P,z,te,"","\\Longrightarrow",!0),T(P,z,te,"","\\leftrightarrow",!0),T(P,z,te,"","\\longleftrightarrow",!0),T(P,z,te,"","\\Leftrightarrow",!0),T(P,z,te,"","\\Longleftrightarrow",!0),T(P,z,te,"","\\mapsto",!0),T(P,z,te,"","\\longmapsto",!0),T(P,z,te,"","\\nearrow",!0),T(P,z,te,"","\\hookleftarrow",!0),T(P,z,te,"","\\hookrightarrow",!0),T(P,z,te,"","\\searrow",!0),T(P,z,te,"","\\leftharpoonup",!0),T(P,z,te,"","\\rightharpoonup",!0),T(P,z,te,"","\\swarrow",!0),T(P,z,te,"","\\leftharpoondown",!0),T(P,z,te,"","\\rightharpoondown",!0),T(P,z,te,"","\\nwarrow",!0),T(P,z,te,"","\\rightleftharpoons",!0),T(P,J,te,"","\\nless",!0),T(P,J,te,"","\\@nleqslant"),T(P,J,te,"","\\@nleqq"),T(P,J,te,"","\\lneq",!0),T(P,J,te,"","\\lneqq",!0),T(P,J,te,"","\\@lvertneqq"),T(P,J,te,"","\\lnsim",!0),T(P,J,te,"","\\lnapprox",!0),T(P,J,te,"","\\nprec",!0),T(P,J,te,"","\\npreceq",!0),T(P,J,te,"","\\precnsim",!0),T(P,J,te,"","\\precnapprox",!0),T(P,J,te,"","\\nsim",!0),T(P,J,te,"","\\@nshortmid"),T(P,J,te,"","\\nmid",!0),T(P,J,te,"","\\nvdash",!0),T(P,J,te,"","\\nvDash",!0),T(P,J,te,"","\\ntriangleleft"),T(P,J,te,"","\\ntrianglelefteq",!0),T(P,J,te,"","\\subsetneq",!0),T(P,J,te,"","\\@varsubsetneq"),T(P,J,te,"","\\subsetneqq",!0),T(P,J,te,"","\\@varsubsetneqq"),T(P,J,te,"","\\ngtr",!0),T(P,J,te,"","\\@ngeqslant"),T(P,J,te,"","\\@ngeqq"),T(P,J,te,"","\\gneq",!0),T(P,J,te,"","\\gneqq",!0),T(P,J,te,"","\\@gvertneqq"),T(P,J,te,"","\\gnsim",!0),T(P,J,te,"","\\gnapprox",!0),T(P,J,te,"","\\nsucc",!0),T(P,J,te,"","\\nsucceq",!0),T(P,J,te,"","\\succnsim",!0),T(P,J,te,"","\\succnapprox",!0),T(P,J,te,"","\\ncong",!0),T(P,J,te,"","\\@nshortparallel"),T(P,J,te,"","\\nparallel",!0),T(P,J,te,"","\\nVDash",!0),T(P,J,te,"","\\ntriangleright"),T(P,J,te,"","\\ntrianglerighteq",!0),T(P,J,te,"","\\@nsupseteqq"),T(P,J,te,"","\\supsetneq",!0),T(P,J,te,"","\\@varsupsetneq"),T(P,J,te,"","\\supsetneqq",!0),T(P,J,te,"","\\@varsupsetneqq"),T(P,J,te,"","\\nVdash",!0),T(P,J,te,"","\\precneqq",!0),T(P,J,te,"","\\succneqq",!0),T(P,J,te,"","\\@nsubseteqq"),T(P,J,Fe,"","\\unlhd"),T(P,J,Fe,"","\\unrhd"),T(P,J,te,"","\\nleftarrow",!0),T(P,J,te,"","\\nrightarrow",!0),T(P,J,te,"","\\nLeftarrow",!0),T(P,J,te,"","\\nRightarrow",!0),T(P,J,te,"","\\nleftrightarrow",!0),T(P,J,te,"","\\nLeftrightarrow",!0),T(P,J,te,"","\\vartriangle"),T(P,J,ae,"","\\hslash"),T(P,J,ae,"","\\triangledown"),T(P,J,ae,"","\\lozenge"),T(P,J,ae,"","\\circledS"),T(P,J,ae,"","\\circledR"),T(_e,J,ae,"","\\circledR"),T(P,J,ae,"","\\measuredangle",!0),T(P,J,ae,"","\\nexists"),T(P,J,ae,"","\\mho"),T(P,J,ae,"","\\Finv",!0),T(P,J,ae,"","\\Game",!0),T(P,J,ae,"","\\backprime"),T(P,J,ae,"","\\blacktriangle"),T(P,J,ae,"","\\blacktriangledown"),T(P,J,ae,"","\\blacksquare"),T(P,J,ae,"","\\blacklozenge"),T(P,J,ae,"","\\bigstar"),T(P,J,ae,"","\\sphericalangle",!0),T(P,J,ae,"","\\complement",!0),T(P,J,ae,"","\\eth",!0),T(_e,z,ae,"",""),T(P,J,ae,"","\\diagup"),T(P,J,ae,"","\\diagdown"),T(P,J,ae,"","\\square"),T(P,J,ae,"","\\Box"),T(P,J,ae,"","\\Diamond"),T(P,J,ae,"","\\yen",!0),T(_e,J,ae,"","\\yen",!0),T(P,J,ae,"","\\checkmark",!0),T(_e,J,ae,"","\\checkmark"),T(P,J,ae,"","\\beth",!0),T(P,J,ae,"","\\daleth",!0),T(P,J,ae,"","\\gimel",!0),T(P,J,ae,"","\\digamma",!0),T(P,J,ae,"","\\varkappa"),T(P,J,hn,"","\\@ulcorner",!0),T(P,J,Ur,"","\\@urcorner",!0),T(P,J,hn,"","\\@llcorner",!0),T(P,J,Ur,"","\\@lrcorner",!0),T(P,J,te,"","\\leqq",!0),T(P,J,te,"","\\leqslant",!0),T(P,J,te,"","\\eqslantless",!0),T(P,J,te,"","\\lesssim",!0),T(P,J,te,"","\\lessapprox",!0),T(P,J,te,"","\\approxeq",!0),T(P,J,Fe,"","\\lessdot"),T(P,J,te,"","\\lll",!0),T(P,J,te,"","\\lessgtr",!0),T(P,J,te,"","\\lesseqgtr",!0),T(P,J,te,"","\\lesseqqgtr",!0),T(P,J,te,"","\\doteqdot"),T(P,J,te,"","\\risingdotseq",!0),T(P,J,te,"","\\fallingdotseq",!0),T(P,J,te,"","\\backsim",!0),T(P,J,te,"","\\backsimeq",!0),T(P,J,te,"","\\subseteqq",!0),T(P,J,te,"","\\Subset",!0),T(P,J,te,"","\\sqsubset",!0),T(P,J,te,"","\\preccurlyeq",!0),T(P,J,te,"","\\curlyeqprec",!0),T(P,J,te,"","\\precsim",!0),T(P,J,te,"","\\precapprox",!0),T(P,J,te,"","\\vartriangleleft"),T(P,J,te,"","\\trianglelefteq"),T(P,J,te,"","\\vDash",!0),T(P,J,te,"","\\Vvdash",!0),T(P,J,te,"","\\smallsmile"),T(P,J,te,"","\\smallfrown"),T(P,J,te,"","\\bumpeq",!0),T(P,J,te,"","\\Bumpeq",!0),T(P,J,te,"","\\geqq",!0),T(P,J,te,"","\\geqslant",!0),T(P,J,te,"","\\eqslantgtr",!0),T(P,J,te,"","\\gtrsim",!0),T(P,J,te,"","\\gtrapprox",!0),T(P,J,Fe,"","\\gtrdot"),T(P,J,te,"","\\ggg",!0),T(P,J,te,"","\\gtrless",!0),T(P,J,te,"","\\gtreqless",!0),T(P,J,te,"","\\gtreqqless",!0),T(P,J,te,"","\\eqcirc",!0),T(P,J,te,"","\\circeq",!0),T(P,J,te,"","\\triangleq",!0),T(P,J,te,"","\\thicksim"),T(P,J,te,"","\\thickapprox"),T(P,J,te,"","\\supseteqq",!0),T(P,J,te,"","\\Supset",!0),T(P,J,te,"","\\sqsupset",!0),T(P,J,te,"","\\succcurlyeq",!0),T(P,J,te,"","\\curlyeqsucc",!0),T(P,J,te,"","\\succsim",!0),T(P,J,te,"","\\succapprox",!0),T(P,J,te,"","\\vartriangleright"),T(P,J,te,"","\\trianglerighteq"),T(P,J,te,"","\\Vdash",!0),T(P,J,te,"","\\shortmid"),T(P,J,te,"","\\shortparallel"),T(P,J,te,"","\\between",!0),T(P,J,te,"","\\pitchfork",!0),T(P,J,te,"","\\varpropto"),T(P,J,te,"","\\blacktriangleleft"),T(P,J,te,"","\\therefore",!0),T(P,J,te,"","\\backepsilon"),T(P,J,te,"","\\blacktriangleright"),T(P,J,te,"","\\because",!0),T(P,J,te,"","\\llless"),T(P,J,te,"","\\gggtr"),T(P,J,Fe,"","\\lhd"),T(P,J,Fe,"","\\rhd"),T(P,J,te,"","\\eqsim",!0),T(P,z,te,"","\\Join"),T(P,J,te,"","\\Doteq",!0),T(P,J,Fe,"","\\dotplus",!0),T(P,J,Fe,"","\\smallsetminus"),T(P,J,Fe,"","\\Cap",!0),T(P,J,Fe,"","\\Cup",!0),T(P,J,Fe,"","\\doublebarwedge",!0),T(P,J,Fe,"","\\boxminus",!0),T(P,J,Fe,"","\\boxplus",!0),T(P,J,Fe,"","\\divideontimes",!0),T(P,J,Fe,"","\\ltimes",!0),T(P,J,Fe,"","\\rtimes",!0),T(P,J,Fe,"","\\leftthreetimes",!0),T(P,J,Fe,"","\\rightthreetimes",!0),T(P,J,Fe,"","\\curlywedge",!0),T(P,J,Fe,"","\\curlyvee",!0),T(P,J,Fe,"","\\circleddash",!0),T(P,J,Fe,"","\\circledast",!0),T(P,J,Fe,"","\\centerdot"),T(P,J,Fe,"","\\intercal",!0),T(P,J,Fe,"","\\doublecap"),T(P,J,Fe,"","\\doublecup"),T(P,J,Fe,"","\\boxtimes",!0),T(P,J,te,"","\\dashrightarrow",!0),T(P,J,te,"","\\dashleftarrow",!0),T(P,J,te,"","\\leftleftarrows",!0),T(P,J,te,"","\\leftrightarrows",!0),T(P,J,te,"","\\Lleftarrow",!0),T(P,J,te,"","\\twoheadleftarrow",!0),T(P,J,te,"","\\leftarrowtail",!0),T(P,J,te,"","\\looparrowleft",!0),T(P,J,te,"","\\leftrightharpoons",!0),T(P,J,te,"","\\curvearrowleft",!0),T(P,J,te,"","\\circlearrowleft",!0),T(P,J,te,"","\\Lsh",!0),T(P,J,te,"","\\upuparrows",!0),T(P,J,te,"","\\upharpoonleft",!0),T(P,J,te,"","\\downharpoonleft",!0),T(P,z,te,"","\\origof",!0),T(P,z,te,"","\\imageof",!0),T(P,J,te,"","\\multimap",!0),T(P,J,te,"","\\leftrightsquigarrow",!0),T(P,J,te,"","\\rightrightarrows",!0),T(P,J,te,"","\\rightleftarrows",!0),T(P,J,te,"","\\twoheadrightarrow",!0),T(P,J,te,"","\\rightarrowtail",!0),T(P,J,te,"","\\looparrowright",!0),T(P,J,te,"","\\curvearrowright",!0),T(P,J,te,"","\\circlearrowright",!0),T(P,J,te,"","\\Rsh",!0),T(P,J,te,"","\\downdownarrows",!0),T(P,J,te,"","\\upharpoonright",!0),T(P,J,te,"","\\downharpoonright",!0),T(P,J,te,"","\\rightsquigarrow",!0),T(P,J,te,"","\\leadsto"),T(P,J,te,"","\\Rrightarrow",!0),T(P,J,te,"","\\restriction"),T(P,z,ae,"","`"),T(P,z,ae,"$","\\$"),T(_e,z,ae,"$","\\$"),T(_e,z,ae,"$","\\textdollar"),T(P,z,ae,"%","\\%"),T(_e,z,ae,"%","\\%"),T(P,z,ae,"_","\\_"),T(_e,z,ae,"_","\\_"),T(_e,z,ae,"_","\\textunderscore"),T(P,z,ae,"","\\angle",!0),T(P,z,ae,"","\\infty",!0),T(P,z,ae,"","\\prime"),T(P,z,ae,"","\\triangle"),T(P,z,ae,"","\\Gamma",!0),T(P,z,ae,"","\\Delta",!0),T(P,z,ae,"","\\Theta",!0),T(P,z,ae,"","\\Lambda",!0),T(P,z,ae,"","\\Xi",!0),T(P,z,ae,"","\\Pi",!0),T(P,z,ae,"","\\Sigma",!0),T(P,z,ae,"","\\Upsilon",!0),T(P,z,ae,"","\\Phi",!0),T(P,z,ae,"","\\Psi",!0),T(P,z,ae,"","\\Omega",!0),T(P,z,ae,"A",""),T(P,z,ae,"B",""),T(P,z,ae,"E",""),T(P,z,ae,"Z",""),T(P,z,ae,"H",""),T(P,z,ae,"I",""),T(P,z,ae,"K",""),T(P,z,ae,"M",""),T(P,z,ae,"N",""),T(P,z,ae,"O",""),T(P,z,ae,"P",""),T(P,z,ae,"T",""),T(P,z,ae,"X",""),T(P,z,ae,"","\\neg",!0),T(P,z,ae,"","\\lnot"),T(P,z,ae,"","\\top"),T(P,z,ae,"","\\bot"),T(P,z,ae,"","\\emptyset"),T(P,J,ae,"","\\varnothing"),T(P,z,Ze,"","\\alpha",!0),T(P,z,Ze,"","\\beta",!0),T(P,z,Ze,"","\\gamma",!0),T(P,z,Ze,"","\\delta",!0),T(P,z,Ze,"","\\epsilon",!0),T(P,z,Ze,"","\\zeta",!0),T(P,z,Ze,"","\\eta",!0),T(P,z,Ze,"","\\theta",!0),T(P,z,Ze,"","\\iota",!0),T(P,z,Ze,"","\\kappa",!0),T(P,z,Ze,"","\\lambda",!0),T(P,z,Ze,"","\\mu",!0),T(P,z,Ze,"","\\nu",!0),T(P,z,Ze,"","\\xi",!0),T(P,z,Ze,"","\\omicron",!0),T(P,z,Ze,"","\\pi",!0),T(P,z,Ze,"","\\rho",!0),T(P,z,Ze,"","\\sigma",!0),T(P,z,Ze,"","\\tau",!0),T(P,z,Ze,"","\\upsilon",!0),T(P,z,Ze,"","\\phi",!0),T(P,z,Ze,"","\\chi",!0),T(P,z,Ze,"","\\psi",!0),T(P,z,Ze,"","\\omega",!0),T(P,z,Ze,"","\\varepsilon",!0),T(P,z,Ze,"","\\vartheta",!0),T(P,z,Ze,"","\\varpi",!0),T(P,z,Ze,"","\\varrho",!0),T(P,z,Ze,"","\\varsigma",!0),T(P,z,Ze,"","\\varphi",!0),T(P,z,Fe,"","*",!0),T(P,z,Fe,"+","+"),T(P,z,Fe,"","-",!0),T(P,z,Fe,"","\\cdot",!0),T(P,z,Fe,"","\\circ",!0),T(P,z,Fe,"","\\div",!0),T(P,z,Fe,"","\\pm",!0),T(P,z,Fe,"","\\times",!0),T(P,z,Fe,"","\\cap",!0),T(P,z,Fe,"","\\cup",!0),T(P,z,Fe,"","\\setminus",!0),T(P,z,Fe,"","\\land"),T(P,z,Fe,"","\\lor"),T(P,z,Fe,"","\\wedge",!0),T(P,z,Fe,"","\\vee",!0),T(P,z,ae,"","\\surd"),T(P,z,hn,"","\\langle",!0),T(P,z,hn,"","\\lvert"),T(P,z,hn,"","\\lVert"),T(P,z,Ur,"?","?"),T(P,z,Ur,"!","!"),T(P,z,Ur,"","\\rangle",!0),T(P,z,Ur,"","\\rvert"),T(P,z,Ur,"","\\rVert"),T(P,z,te,"=","="),T(P,z,te,":",":"),T(P,z,te,"","\\approx",!0),T(P,z,te,"","\\cong",!0),T(P,z,te,"","\\ge"),T(P,z,te,"","\\geq",!0),T(P,z,te,"","\\gets"),T(P,z,te,">","\\gt",!0),T(P,z,te,"","\\in",!0),T(P,z,te,"","\\@not"),T(P,z,te,"","\\subset",!0),T(P,z,te,"","\\supset",!0),T(P,z,te,"","\\subseteq",!0),T(P,z,te,"","\\supseteq",!0),T(P,J,te,"","\\nsubseteq",!0),T(P,J,te,"","\\nsupseteq",!0),T(P,z,te,"","\\models"),T(P,z,te,"","\\leftarrow",!0),T(P,z,te,"","\\le"),T(P,z,te,"","\\leq",!0),T(P,z,te,"<","\\lt",!0),T(P,z,te,"","\\rightarrow",!0),T(P,z,te,"","\\to"),T(P,J,te,"","\\ngeq",!0),T(P,J,te,"","\\nleq",!0),T(P,z,pn,"","\\ "),T(P,z,pn,"","\\space"),T(P,z,pn,"","\\nobreakspace"),T(_e,z,pn,"","\\ "),T(_e,z,pn,""," "),T(_e,z,pn,"","\\space"),T(_e,z,pn,"","\\nobreakspace"),T(P,z,pn,null,"\\nobreak"),T(P,z,pn,null,"\\allowbreak"),T(P,z,wo,",",","),T(P,z,wo,";",";"),T(P,J,Fe,"","\\barwedge",!0),T(P,J,Fe,"","\\veebar",!0),T(P,z,Fe,"","\\odot",!0),T(P,z,Fe,"","\\oplus",!0),T(P,z,Fe,"","\\otimes",!0),T(P,z,ae,"","\\partial",!0),T(P,z,Fe,"","\\oslash",!0),T(P,J,Fe,"","\\circledcirc",!0),T(P,J,Fe,"","\\boxdot",!0),T(P,z,Fe,"","\\bigtriangleup"),T(P,z,Fe,"","\\bigtriangledown"),T(P,z,Fe,"","\\dagger"),T(P,z,Fe,"","\\diamond"),T(P,z,Fe,"","\\star"),T(P,z,Fe,"","\\triangleleft"),T(P,z,Fe,"","\\triangleright"),T(P,z,hn,"{","\\{"),T(_e,z,ae,"{","\\{"),T(_e,z,ae,"{","\\textbraceleft"),T(P,z,Ur,"}","\\}"),T(_e,z,ae,"}","\\}"),T(_e,z,ae,"}","\\textbraceright"),T(P,z,hn,"{","\\lbrace"),T(P,z,Ur,"}","\\rbrace"),T(P,z,hn,"[","\\lbrack",!0),T(_e,z,ae,"[","\\lbrack",!0),T(P,z,Ur,"]","\\rbrack",!0),T(_e,z,ae,"]","\\rbrack",!0),T(P,z,hn,"(","\\lparen",!0),T(P,z,Ur,")","\\rparen",!0),T(_e,z,ae,"<","\\textless",!0),T(_e,z,ae,">","\\textgreater",!0),T(P,z,hn,"","\\lfloor",!0),T(P,z,Ur,"","\\rfloor",!0),T(P,z,hn,"","\\lceil",!0),T(P,z,Ur,"","\\rceil",!0),T(P,z,ae,"\\","\\backslash"),T(P,z,ae,"","|"),T(P,z,ae,"","\\vert"),T(_e,z,ae,"|","\\textbar",!0),T(P,z,ae,"","\\|"),T(P,z,ae,"","\\Vert"),T(_e,z,ae,"","\\textbardbl"),T(_e,z,ae,"~","\\textasciitilde"),T(_e,z,ae,"\\","\\textbackslash"),T(_e,z,ae,"^","\\textasciicircum"),T(P,z,te,"","\\uparrow",!0),T(P,z,te,"","\\Uparrow",!0),T(P,z,te,"","\\downarrow",!0),T(P,z,te,"","\\Downarrow",!0),T(P,z,te,"","\\updownarrow",!0),T(P,z,te,"","\\Updownarrow",!0),T(P,z,dr,"","\\coprod"),T(P,z,dr,"","\\bigvee"),T(P,z,dr,"","\\bigwedge"),T(P,z,dr,"","\\biguplus"),T(P,z,dr,"","\\bigcap"),T(P,z,dr,"","\\bigcup"),T(P,z,dr,"","\\int"),T(P,z,dr,"","\\intop"),T(P,z,dr,"","\\iint"),T(P,z,dr,"","\\iiint"),T(P,z,dr,"","\\prod"),T(P,z,dr,"","\\sum"),T(P,z,dr,"","\\bigotimes"),T(P,z,dr,"","\\bigoplus"),T(P,z,dr,"","\\bigodot"),T(P,z,dr,"","\\oint"),T(P,z,dr,"","\\oiint"),T(P,z,dr,"","\\oiiint"),T(P,z,dr,"","\\bigsqcup"),T(P,z,dr,"","\\smallint"),T(_e,z,ki,"","\\textellipsis"),T(P,z,ki,"","\\mathellipsis"),T(_e,z,ki,"","\\ldots",!0),T(P,z,ki,"","\\ldots",!0),T(P,z,ki,"","\\@cdots",!0),T(P,z,ki,"","\\ddots",!0),T(P,z,ae,"","\\varvdots"),T(P,z,pt,"","\\acute"),T(P,z,pt,"","\\grave"),T(P,z,pt,"","\\ddot"),T(P,z,pt,"~","\\tilde"),T(P,z,pt,"","\\bar"),T(P,z,pt,"","\\breve"),T(P,z,pt,"","\\check"),T(P,z,pt,"^","\\hat"),T(P,z,pt,"","\\vec"),T(P,z,pt,"","\\dot"),T(P,z,pt,"","\\mathring"),T(P,z,Ze,"","\\@imath"),T(P,z,Ze,"","\\@jmath"),T(P,z,ae,"",""),T(P,z,ae,"",""),T(_e,z,ae,"","\\i",!0),T(_e,z,ae,"","\\j",!0),T(_e,z,ae,"","\\ss",!0),T(_e,z,ae,"","\\ae",!0),T(_e,z,ae,"","\\oe",!0),T(_e,z,ae,"","\\o",!0),T(_e,z,ae,"","\\AE",!0),T(_e,z,ae,"","\\OE",!0),T(_e,z,ae,"","\\O",!0),T(_e,z,pt,"","\\'"),T(_e,z,pt,"","\\`"),T(_e,z,pt,"","\\^"),T(_e,z,pt,"","\\~"),T(_e,z,pt,"","\\="),T(_e,z,pt,"","\\u"),T(_e,z,pt,"","\\."),T(_e,z,pt,"","\\c"),T(_e,z,pt,"","\\r"),T(_e,z,pt,"","\\v"),T(_e,z,pt,"",'\\"'),T(_e,z,pt,"","\\H"),T(_e,z,pt,"","\\textcircled");const ks={"--":!0,"---":!0,"``":!0,"''":!0};T(_e,z,ae,"","--",!0),T(_e,z,ae,"","\\textendash"),T(_e,z,ae,"","---",!0),T(_e,z,ae,"","\\textemdash"),T(_e,z,ae,"","`",!0),T(_e,z,ae,"","\\textquoteleft"),T(_e,z,ae,"","'",!0),T(_e,z,ae,"","\\textquoteright"),T(_e,z,ae,"","``",!0),T(_e,z,ae,"","\\textquotedblleft"),T(_e,z,ae,"","''",!0),T(_e,z,ae,"","\\textquotedblright"),T(P,z,ae,"","\\degree",!0),T(_e,z,ae,"","\\degree"),T(_e,z,ae,"","\\textdegree",!0),T(P,z,ae,"","\\pounds"),T(P,z,ae,"","\\mathsterling",!0),T(_e,z,ae,"","\\pounds"),T(_e,z,ae,"","\\textsterling",!0),T(P,J,ae,"","\\maltese"),T(_e,J,ae,"","\\maltese");const ru='0123456789/@."';for(let m=0;m<ru.length;m++){const h=ru.charAt(m);T(P,z,ae,h,h)}const nu='0123456789!@*()-=+";:?/.,';for(let m=0;m<nu.length;m++){const h=nu.charAt(m);T(_e,z,ae,h,h)}const _o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";for(let m=0;m<_o.length;m++){const h=_o.charAt(m);T(P,z,Ze,h,h),T(_e,z,ae,h,h)}T(P,J,ae,"C",""),T(_e,J,ae,"C",""),T(P,J,ae,"H",""),T(_e,J,ae,"H",""),T(P,J,ae,"N",""),T(_e,J,ae,"N",""),T(P,J,ae,"P",""),T(_e,J,ae,"P",""),T(P,J,ae,"Q",""),T(_e,J,ae,"Q",""),T(P,J,ae,"R",""),T(_e,J,ae,"R",""),T(P,J,ae,"Z",""),T(_e,J,ae,"Z",""),T(P,z,Ze,"h",""),T(_e,z,Ze,"h","");let Ue="";for(let m=0;m<_o.length;m++){const h=_o.charAt(m);Ue=String.fromCharCode(55349,56320+m),T(P,z,Ze,h,Ue),T(_e,z,ae,h,Ue),Ue=String.fromCharCode(55349,56372+m),T(P,z,Ze,h,Ue),T(_e,z,ae,h,Ue),Ue=String.fromCharCode(55349,56424+m),T(P,z,Ze,h,Ue),T(_e,z,ae,h,Ue),Ue=String.fromCharCode(55349,56580+m),T(P,z,Ze,h,Ue),T(_e,z,ae,h,Ue),Ue=String.fromCharCode(55349,56684+m),T(P,z,Ze,h,Ue),T(_e,z,ae,h,Ue),Ue=String.fromCharCode(55349,56736+m),T(P,z,Ze,h,Ue),T(_e,z,ae,h,Ue),Ue=String.fromCharCode(55349,56788+m),T(P,z,Ze,h,Ue),T(_e,z,ae,h,Ue),Ue=String.fromCharCode(55349,56840+m),T(P,z,Ze,h,Ue),T(_e,z,ae,h,Ue),Ue=String.fromCharCode(55349,56944+m),T(P,z,Ze,h,Ue),T(_e,z,ae,h,Ue),m<26&&(Ue=String.fromCharCode(55349,56632+m),T(P,z,Ze,h,Ue),T(_e,z,ae,h,Ue),Ue=String.fromCharCode(55349,56476+m),T(P,z,Ze,h,Ue),T(_e,z,ae,h,Ue))}Ue=String.fromCharCode(55349,56668),T(P,z,Ze,"k",Ue),T(_e,z,ae,"k",Ue);for(let m=0;m<10;m++){const h=m.toString();Ue=String.fromCharCode(55349,57294+m),T(P,z,Ze,h,Ue),T(_e,z,ae,h,Ue),Ue=String.fromCharCode(55349,57314+m),T(P,z,Ze,h,Ue),T(_e,z,ae,h,Ue),Ue=String.fromCharCode(55349,57324+m),T(P,z,Ze,h,Ue),T(_e,z,ae,h,Ue),Ue=String.fromCharCode(55349,57334+m),T(P,z,Ze,h,Ue),T(_e,z,ae,h,Ue)}const Es="";for(let m=0;m<Es.length;m++){const h=Es.charAt(m);T(P,z,Ze,h,h),T(_e,z,ae,h,h)}const Cs=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],Ei=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],On=function(m,h){const v=m.charCodeAt(0),S=m.charCodeAt(1),C=(v-55296)*1024+(S-56320)+65536,L=h==="math"?0:1;if(119808<=C&&C<120484){const I=Math.floor((C-119808)/26);return[Cs[I][2],Cs[I][L]]}else if(120782<=C&&C<=120831){const I=Math.floor((C-120782)/10);return[Ei[I][2],Ei[I][L]]}else{if(C===120485||C===120486)return[Cs[0][2],Cs[0][L]];if(120486<C&&C<120782)return["",""];throw new i("Unsupported character: "+m)}},So=function(m,h,v){return vt[v][m]&&vt[v][m].replace&&(m=vt[v][m].replace),{value:m,metrics:et(m,h,v)}},fa=function(m,h,v,S,C){const L=So(m,h,v),I=L.metrics;m=L.value;let $;if(I){let G=I.italic;(v==="text"||S&&S.font==="mathit")&&(G=0),$=new jt(m,I.height,I.depth,G,I.skew,I.width,C)}else typeof console<"u"&&console.warn("No character metrics "+("for '"+m+"' in style '"+h+"' and mode '"+v+"'")),$=new jt(m,0,0,0,0,0,C);if(S){$.maxFontSize=S.sizeMultiplier,S.style.isTight()&&$.classes.push("mtight");const G=S.getColor();G&&($.style.color=G)}return $},KE=function(m,h,v,S){return S===void 0&&(S=[]),v.font==="boldsymbol"&&So(m,"Main-Bold",h).metrics?fa(m,"Main-Bold",h,v,S.concat(["mathbf"])):m==="\\"||vt[h][m].font==="main"?fa(m,"Main-Regular",h,v,S):fa(m,"AMS-Regular",h,v,S.concat(["amsrm"]))},ZE=function(m,h,v,S,C){return C!=="textord"&&So(m,"Math-BoldItalic",h).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}},QE=function(m,h,v){const S=m.mode,C=m.text,L=["mord"],I=S==="math"||S==="text"&&h.font,$=I?h.font:h.fontFamily;let G="",ne="";if(C.charCodeAt(0)===55349&&([G,ne]=On(C,S)),G.length>0)return fa(C,G,S,h,L.concat(ne));if($){let ie,ce;if($==="boldsymbol"){const me=ZE(C,S,h,L,v);ie=me.fontName,ce=[me.fontClass]}else I?(ie=o4[$].fontName,ce=[$]):(ie=b0($,h.fontWeight,h.fontShape),ce=[$,h.fontWeight,h.fontShape]);if(So(C,ie,S).metrics)return fa(C,ie,S,h,L.concat(ce));if(ks.hasOwnProperty(C)&&ie.slice(0,10)==="Typewriter"){const me=[];for(let Ce=0;Ce<C.length;Ce++)me.push(fa(C[Ce],ie,S,h,L.concat(ce)));return s4(me)}}if(v==="mathord")return fa(C,"Math-Italic",S,h,L.concat(["mathnormal"]));if(v==="textord"){const ie=vt[S][C]&&vt[S][C].font;if(ie==="ams"){const ce=b0("amsrm",h.fontWeight,h.fontShape);return fa(C,ce,S,h,L.concat("amsrm",h.fontWeight,h.fontShape))}else if(ie==="main"||!ie){const ce=b0("textrm",h.fontWeight,h.fontShape);return fa(C,ce,S,h,L.concat(h.fontWeight,h.fontShape))}else{const ce=b0(ie,h.fontWeight,h.fontShape);return fa(C,ce,S,h,L.concat(ce,h.fontWeight,h.fontShape))}}else throw new Error("unexpected type: "+v+" in makeOrd")},JE=(m,h)=>{if(Qe(m.classes)!==Qe(h.classes)||m.skew!==h.skew||m.maxFontSize!==h.maxFontSize)return!1;if(m.classes.length===1){const v=m.classes[0];if(v==="mbin"||v==="mord")return!1}for(const v in m.style)if(m.style.hasOwnProperty(v)&&m.style[v]!==h.style[v])return!1;for(const v in h.style)if(h.style.hasOwnProperty(v)&&m.style[v]!==h.style[v])return!1;return!0},eC=m=>{for(let h=0;h<m.length-1;h++){const v=m[h],S=m[h+1];v instanceof jt&&S instanceof jt&&JE(v,S)&&(v.text+=S.text,v.height=Math.max(v.height,S.height),v.depth=Math.max(v.depth,S.depth),v.italic=S.italic,m.splice(h+1,1),h--)}return m},mp=function(m){let h=0,v=0,S=0;for(let C=0;C<m.children.length;C++){const L=m.children[C];L.height>h&&(h=L.height),L.depth>v&&(v=L.depth),L.maxFontSize>S&&(S=L.maxFontSize)}m.height=h,m.depth=v,m.maxFontSize=S},kn=function(m,h,v,S){const C=new Ye(m,h,v,S);return mp(C),C},i4=(m,h,v,S)=>new Ye(m,h,v,S),tC=function(m,h,v){const S=kn([m],[],h);return S.height=Math.max(v||h.fontMetrics().defaultRuleThickness,h.minRuleThickness),S.style.borderBottomWidth=xe(S.height),S.maxFontSize=1,S},rC=function(m,h,v,S){const C=new Dt(m,h,v,S);return mp(C),C},s4=function(m){const h=new ze(m);return mp(h),h},nC=function(m,h){return m instanceof ze?kn([],[m],h):m},aC=function(m){if(m.positionType==="individualShift"){const v=m.children,S=[v[0]],C=-v[0].shift-v[0].elem.depth;let L=C;for(let I=1;I<v.length;I++){const $=-v[I].shift-L-v[I].elem.depth,G=$-(v[I-1].elem.height+v[I-1].elem.depth);L=L+$,S.push({type:"kern",size:G}),S.push(v[I])}return{children:S,depth:C}}let h;if(m.positionType==="top"){let v=m.positionData;for(let S=0;S<m.children.length;S++){const C=m.children[S];v-=C.type==="kern"?C.size:C.elem.height+C.elem.depth}h=v}else if(m.positionType==="bottom")h=-m.positionData;else{const v=m.children[0];if(v.type!=="elem")throw new Error('First child must have type "elem".');if(m.positionType==="shift")h=-v.elem.depth-m.positionData;else if(m.positionType==="firstBaseline")h=-v.elem.depth;else throw new Error("Invalid positionType "+m.positionType+".")}return{children:m.children,depth:h}},iC=function(m,h){const{children:v,depth:S}=aC(m);let C=0;for(let Ce=0;Ce<v.length;Ce++){const $e=v[Ce];if($e.type==="elem"){const We=$e.elem;C=Math.max(C,We.maxFontSize,We.height)}}C+=2;const L=kn(["pstrut"],[]);L.style.height=xe(C);const I=[];let $=S,G=S,ne=S;for(let Ce=0;Ce<v.length;Ce++){const $e=v[Ce];if($e.type==="kern")ne+=$e.size;else{const We=$e.elem,gt=$e.wrapperClasses||[],dt=$e.wrapperStyle||{},mt=kn(gt,[L,We],void 0,dt);mt.style.top=xe(-C-ne-We.depth),$e.marginLeft&&(mt.style.marginLeft=$e.marginLeft),$e.marginRight&&(mt.style.marginRight=$e.marginRight),I.push(mt),ne+=We.height+We.depth}$=Math.min($,ne),G=Math.max(G,ne)}const ie=kn(["vlist"],I);ie.style.height=xe(G);let ce;if($<0){const Ce=kn([],[]),$e=kn(["vlist"],[Ce]);$e.style.height=xe(-$);const We=kn(["vlist-s"],[new jt("")]);ce=[kn(["vlist-r"],[ie,We]),kn(["vlist-r"],[$e])]}else ce=[kn(["vlist-r"],[ie])];const me=kn(["vlist-t"],ce);return ce.length===2&&me.classes.push("vlist-t2"),me.height=G,me.depth=-$,me},sC=(m,h)=>{const v=kn(["mspace"],[],h),S=Me(m,h);return v.style.marginRight=xe(S),v},b0=function(m,h,v){let S="";switch(m){case"amsrm":S="AMS";break;case"textrm":S="Main";break;case"textsf":S="SansSerif";break;case"texttt":S="Typewriter";break;default:S=m}let C;return h==="textbf"&&v==="textit"?C="BoldItalic":h==="textbf"?C="Bold":h==="textit"?C="Italic":C="Regular",S+"-"+C},o4={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},l4={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]};var de={fontMap:o4,makeSymbol:fa,mathsym:KE,makeSpan:kn,makeSvgSpan:i4,makeLineSpan:tC,makeAnchor:rC,makeFragment:s4,wrapFragment:nC,makeVList:iC,makeOrd:QE,makeGlue:sC,staticSvg:function(m,h){const[v,S,C]=l4[m],L=new $t(v),I=new Ot([L],{width:xe(S),height:xe(C),style:"width:"+xe(S),viewBox:"0 0 "+1e3*S+" "+1e3*C,preserveAspectRatio:"xMinYMin"}),$=i4(["overlay"],[I],h);return $.height=C,$.style.height=xe(C),$.style.width=xe(S),$},svgData:l4,tryCombineChars:eC};const nr={number:3,unit:"mu"},Ts={number:4,unit:"mu"},Ua={number:5,unit:"mu"},oC={mord:{mop:nr,mbin:Ts,mrel:Ua,minner:nr},mop:{mord:nr,mop:nr,mrel:Ua,minner:nr},mbin:{mord:Ts,mop:Ts,mopen:Ts,minner:Ts},mrel:{mord:Ua,mop:Ua,mopen:Ua,minner:Ua},mopen:{},mclose:{mop:nr,mbin:Ts,mrel:Ua,minner:nr},mpunct:{mord:nr,mop:nr,mrel:Ua,mopen:nr,mclose:nr,mpunct:nr,minner:nr},minner:{mord:nr,mop:nr,mbin:Ts,mrel:Ua,mopen:nr,mpunct:nr,minner:nr}},lC={mord:{mop:nr},mop:{mord:nr,mop:nr},mbin:{},mrel:{},mopen:{},mclose:{mop:nr},mpunct:{},minner:{mop:nr}},u4={},x0={},w0={};function Be(m){let{type:h,names:v,props:S,handler:C,htmlBuilder:L,mathmlBuilder:I}=m;const $={type:h,numArgs:S.numArgs,argTypes:S.argTypes,allowedInArgument:!!S.allowedInArgument,allowedInText:!!S.allowedInText,allowedInMath:S.allowedInMath===void 0?!0:S.allowedInMath,numOptionalArgs:S.numOptionalArgs||0,infix:!!S.infix,primitive:!!S.primitive,handler:C};for(let G=0;G<v.length;++G)u4[v[G]]=$;h&&(L&&(x0[h]=L),I&&(w0[h]=I))}function Ms(m){let{type:h,htmlBuilder:v,mathmlBuilder:S}=m;Be({type:h,names:[],props:{numArgs:0},handler(){throw new Error("Should never be called.")},htmlBuilder:v,mathmlBuilder:S})}const _0=function(m){return m.type==="ordgroup"&&m.body.length===1?m.body[0]:m},br=function(m){return m.type==="ordgroup"?m.body:[m]},Wa=de.makeSpan,uC=["leftmost","mbin","mopen","mrel","mop","mpunct"],cC=["rightmost","mrel","mclose","mpunct"],fC={display:W.DISPLAY,text:W.TEXT,script:W.SCRIPT,scriptscript:W.SCRIPTSCRIPT},dC={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},Er=function(m,h,v,S){S===void 0&&(S=[null,null]);const C=[];for(let ne=0;ne<m.length;ne++){const ie=yt(m[ne],h);if(ie instanceof ze){const ce=ie.children;C.push(...ce)}else C.push(ie)}if(de.tryCombineChars(C),!v)return C;let L=h;if(m.length===1){const ne=m[0];ne.type==="sizing"?L=h.havingSize(ne.size):ne.type==="styling"&&(L=h.havingStyle(fC[ne.style]))}const I=Wa([S[0]||"leftmost"],[],h),$=Wa([S[1]||"rightmost"],[],h),G=v==="root";return vp(C,(ne,ie)=>{const ce=ie.classes[0],me=ne.classes[0];ce==="mbin"&&b.contains(cC,me)?ie.classes[0]="mord":me==="mbin"&&b.contains(uC,ce)&&(ne.classes[0]="mord")},{node:I},$,G),vp(C,(ne,ie)=>{const ce=bp(ie),me=bp(ne),Ce=ce&&me?ne.hasClass("mtight")?lC[ce][me]:oC[ce][me]:null;if(Ce)return de.makeGlue(Ce,L)},{node:I},$,G),C},vp=function(m,h,v,S,C){S&&m.push(S);let L=0;for(;L<m.length;L++){const I=m[L],$=c4(I);if($){vp($.children,h,v,null,C);continue}const G=!I.hasClass("mspace");if(G){const ne=h(I,v.node);ne&&(v.insertAfter?v.insertAfter(ne):(m.unshift(ne),L++))}G?v.node=I:C&&I.hasClass("newline")&&(v.node=Wa(["leftmost"])),v.insertAfter=(ne=>ie=>{m.splice(ne+1,0,ie),L++})(L)}S&&m.pop()},c4=function(m){return m instanceof ze||m instanceof Dt||m instanceof Ye&&m.hasClass("enclosing")?m:null},yp=function(m,h){const v=c4(m);if(v){const S=v.children;if(S.length){if(h==="right")return yp(S[S.length-1],"right");if(h==="left")return yp(S[0],"left")}}return m},bp=function(m,h){return m?(h&&(m=yp(m,h)),dC[m.classes[0]]||null):null},au=function(m,h){const v=["nulldelimiter"].concat(m.baseSizingClasses());return Wa(h.concat(v))},yt=function(m,h,v){if(!m)return Wa();if(x0[m.type]){let S=x0[m.type](m,h);if(v&&h.size!==v.size){S=Wa(h.sizingClasses(v),[S],h);const C=h.sizeMultiplier/v.sizeMultiplier;S.height*=C,S.depth*=C}return S}else throw new i("Got group of unknown type: '"+m.type+"'")};function S0(m,h){const v=Wa(["base"],m,h),S=Wa(["strut"]);return S.style.height=xe(v.height+v.depth),v.depth&&(S.style.verticalAlign=xe(-v.depth)),v.children.unshift(S),v}function xp(m,h){let v=null;m.length===1&&m[0].type==="tag"&&(v=m[0].tag,m=m[0].body);const S=Er(m,h,"root");let C;S.length===2&&S[1].hasClass("tag")&&(C=S.pop());const L=[];let I=[];for(let ne=0;ne<S.length;ne++)if(I.push(S[ne]),S[ne].hasClass("mbin")||S[ne].hasClass("mrel")||S[ne].hasClass("allowbreak")){let ie=!1;for(;ne<S.length-1&&S[ne+1].hasClass("mspace")&&!S[ne+1].hasClass("newline");)ne++,I.push(S[ne]),S[ne].hasClass("nobreak")&&(ie=!0);ie||(L.push(S0(I,h)),I=[])}else S[ne].hasClass("newline")&&(I.pop(),I.length>0&&(L.push(S0(I,h)),I=[]),L.push(S[ne]));I.length>0&&L.push(S0(I,h));let $;v?($=S0(Er(v,h,!0)),$.classes=["tag"],L.push($)):C&&L.push(C);const G=Wa(["katex-html"],L);if(G.setAttribute("aria-hidden","true"),$){const ne=$.children[0];ne.style.height=xe(G.height+G.depth),G.depth&&(ne.style.verticalAlign=xe(-G.depth))}return G}function f4(m){return new ze(m)}class Yn{constructor(h,v,S){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=h,this.attributes={},this.children=v||[],this.classes=S||[]}setAttribute(h,v){this.attributes[h]=v}getAttribute(h){return this.attributes[h]}toNode(){const h=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(const v in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,v)&&h.setAttribute(v,this.attributes[v]);this.classes.length>0&&(h.className=Qe(this.classes));for(let v=0;v<this.children.length;v++)h.appendChild(this.children[v].toNode());return h}toMarkup(){let h="<"+this.type;for(const v in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,v)&&(h+=" "+v+'="',h+=b.escape(this.attributes[v]),h+='"');this.classes.length>0&&(h+=' class ="'+b.escape(Qe(this.classes))+'"'),h+=">";for(let v=0;v<this.children.length;v++)h+=this.children[v].toMarkup();return h+="</"+this.type+">",h}toText(){return this.children.map(h=>h.toText()).join("")}}class iu{constructor(h){this.text=void 0,this.text=h}toNode(){return document.createTextNode(this.text)}toMarkup(){return b.escape(this.toText())}toText(){return this.text}}class hC{constructor(h){this.width=void 0,this.character=void 0,this.width=h,h>=.05555&&h<=.05556?this.character="":h>=.1666&&h<=.1667?this.character="":h>=.2222&&h<=.2223?this.character="":h>=.2777&&h<=.2778?this.character="":h>=-.05556&&h<=-.05555?this.character="":h>=-.1667&&h<=-.1666?this.character="":h>=-.2223&&h<=-.2222?this.character="":h>=-.2778&&h<=-.2777?this.character="":this.character=null}toNode(){if(this.character)return document.createTextNode(this.character);{const h=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return h.setAttribute("width",xe(this.width)),h}}toMarkup(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+xe(this.width)+'"/>'}toText(){return this.character?this.character:" "}}var De={MathNode:Yn,TextNode:iu,SpaceNode:hC,newDocumentFragment:f4};const Xn=function(m,h,v){return vt[h][m]&&vt[h][m].replace&&m.charCodeAt(0)!==55349&&!(ks.hasOwnProperty(m)&&v&&(v.fontFamily&&v.fontFamily.slice(4,6)==="tt"||v.font&&v.font.slice(4,6)==="tt"))&&(m=vt[h][m].replace),new De.TextNode(m)},wp=function(m){return m.length===1?m[0]:new De.MathNode("mrow",m)},_p=function(m,h){if(h.fontFamily==="texttt")return"monospace";if(h.fontFamily==="textsf")return h.fontShape==="textit"&&h.fontWeight==="textbf"?"sans-serif-bold-italic":h.fontShape==="textit"?"sans-serif-italic":h.fontWeight==="textbf"?"bold-sans-serif":"sans-serif";if(h.fontShape==="textit"&&h.fontWeight==="textbf")return"bold-italic";if(h.fontShape==="textit")return"italic";if(h.fontWeight==="textbf")return"bold";const v=h.font;if(!v||v==="mathnormal")return null;const S=m.mode;if(v==="mathit")return"italic";if(v==="boldsymbol")return m.type==="textord"?"bold":"bold-italic";if(v==="mathbf")return"bold";if(v==="mathbb")return"double-struck";if(v==="mathfrak")return"fraktur";if(v==="mathscr"||v==="mathcal")return"script";if(v==="mathsf")return"sans-serif";if(v==="mathtt")return"monospace";let C=m.text;if(b.contains(["\\imath","\\jmath"],C))return null;vt[S][C]&&vt[S][C].replace&&(C=vt[S][C].replace);const L=de.fontMap[v].fontName;return et(C,L,S)?de.fontMap[v].variant:null},En=function(m,h,v){if(m.length===1){const L=qt(m[0],h);return v&&L instanceof Yn&&L.type==="mo"&&(L.setAttribute("lspace","0em"),L.setAttribute("rspace","0em")),[L]}const S=[];let C;for(let L=0;L<m.length;L++){const I=qt(m[L],h);if(I instanceof Yn&&C instanceof Yn){if(I.type==="mtext"&&C.type==="mtext"&&I.getAttribute("mathvariant")===C.getAttribute("mathvariant")){C.children.push(...I.children);continue}else if(I.type==="mn"&&C.type==="mn"){C.children.push(...I.children);continue}else if(I.type==="mi"&&I.children.length===1&&C.type==="mn"){const $=I.children[0];if($ instanceof iu&&$.text==="."){C.children.push(...I.children);continue}}else if(C.type==="mi"&&C.children.length===1){const $=C.children[0];if($ instanceof iu&&$.text===""&&(I.type==="mo"||I.type==="mi"||I.type==="mn")){const G=I.children[0];G instanceof iu&&G.text.length>0&&(G.text=G.text.slice(0,1)+""+G.text.slice(1),S.pop())}}}S.push(I),C=I}return S},Ci=function(m,h,v){return wp(En(m,h,v))},qt=function(m,h){if(!m)return new De.MathNode("mrow");if(w0[m.type])return w0[m.type](m,h);throw new i("Got group of unknown type: '"+m.type+"'")};function d4(m,h,v,S,C){const L=En(m,v);let I;L.length===1&&L[0]instanceof Yn&&b.contains(["mrow","mtable"],L[0].type)?I=L[0]:I=new De.MathNode("mrow",L);const $=new De.MathNode("annotation",[new De.TextNode(h)]);$.setAttribute("encoding","application/x-tex");const G=new De.MathNode("semantics",[I,$]),ne=new De.MathNode("math",[G]);ne.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),S&&ne.setAttribute("display","block");const ie=C?"katex":"katex-mathml";return de.makeSpan([ie],[ne])}const h4=function(m){return new oe({style:m.displayMode?W.DISPLAY:W.TEXT,maxSize:m.maxSize,minRuleThickness:m.minRuleThickness})},p4=function(m,h){if(h.displayMode){const v=["katex-display"];h.leqno&&v.push("leqno"),h.fleqn&&v.push("fleqn"),m=de.makeSpan(v,[m])}return m},pC=function(m,h,v){const S=h4(v);let C;if(v.output==="mathml")return d4(m,h,S,v.displayMode,!0);if(v.output==="html"){const L=xp(m,S);C=de.makeSpan(["katex"],[L])}else{const L=d4(m,h,S,v.displayMode,!1),I=xp(m,S);C=de.makeSpan(["katex"],[L,I])}return p4(C,v)},gC=function(m,h,v){const S=h4(v),C=xp(m,S),L=de.makeSpan(["katex"],[C]);return p4(L,v)},mC={widehat:"^",widecheck:"",widetilde:"~",utilde:"~",overleftarrow:"",underleftarrow:"",xleftarrow:"",overrightarrow:"",underrightarrow:"",xrightarrow:"",underbrace:"",overbrace:"",overgroup:"",undergroup:"",overleftrightarrow:"",underleftrightarrow:"",xleftrightarrow:"",Overrightarrow:"",xRightarrow:"",overleftharpoon:"",xleftharpoonup:"",overrightharpoon:"",xrightharpoonup:"",xLeftarrow:"",xLeftrightarrow:"",xhookleftarrow:"",xhookrightarrow:"",xmapsto:"",xrightharpoondown:"",xleftharpoondown:"",xrightleftharpoons:"",xleftrightharpoons:"",xtwoheadleftarrow:"",xtwoheadrightarrow:"",xlongequal:"=",xtofrom:"",xrightleftarrows:"",xrightequilibrium:"",xleftequilibrium:"","\\cdrightarrow":"","\\cdleftarrow":"","\\cdlongequal":"="},vC=function(m){const h=new De.MathNode("mo",[new De.TextNode(mC[m.replace(/^\\/,"")])]);return h.setAttribute("stretchy","true"),h},yC={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},bC=function(m){return m.type==="ordgroup"?m.body.length:1};var Ga={encloseSpan:function(m,h,v,S,C){let L;const I=m.height+m.depth+v+S;if(/fbox|color|angl/.test(h)){if(L=de.makeSpan(["stretchy",h],[],C),h==="fbox"){const $=C.color&&C.getColor();$&&(L.style.borderColor=$)}}else{const $=[];/^[bx]cancel$/.test(h)&&$.push(new fr({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(h)&&$.push(new fr({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));const G=new Ot($,{width:"100%",height:xe(I)});L=de.makeSvgSpan([],[G],C)}return L.height=I,L.style.height=xe(I),L},mathMLnode:vC,svgSpan:function(m,h){function v(){let I=4e5;const $=m.label.slice(1);if(b.contains(["widehat","widecheck","widetilde","utilde"],$)){const ne=bC(m.base);let ie,ce,me;if(ne>5)$==="widehat"||$==="widecheck"?(ie=420,I=2364,me=.42,ce=$+"4"):(ie=312,I=2340,me=.34,ce="tilde4");else{const We=[1,1,2,2,3,3][ne];$==="widehat"||$==="widecheck"?(I=[0,1062,2364,2364,2364][We],ie=[0,239,300,360,420][We],me=[0,.24,.3,.3,.36,.42][We],ce=$+We):(I=[0,600,1033,2339,2340][We],ie=[0,260,286,306,312][We],me=[0,.26,.286,.3,.306,.34][We],ce="tilde"+We)}const Ce=new $t(ce),$e=new Ot([Ce],{width:"100%",height:xe(me),viewBox:"0 0 "+I+" "+ie,preserveAspectRatio:"none"});return{span:de.makeSvgSpan([],[$e],h),minWidth:0,height:me}}else{const G=[],ne=yC[$],[ie,ce,me]=ne,Ce=me/1e3,$e=ie.length;let We,gt;if($e===1){const dt=ne[3];We=["hide-tail"],gt=[dt]}else if($e===2)We=["halfarrow-left","halfarrow-right"],gt=["xMinYMin","xMaxYMin"];else if($e===3)We=["brace-left","brace-center","brace-right"],gt=["xMinYMin","xMidYMin","xMaxYMin"];else throw new Error(`Correct katexImagesData or update code here to support
                    `+$e+" children.");for(let dt=0;dt<$e;dt++){const mt=new $t(ie[dt]),Mt=new Ot([mt],{width:"400em",height:xe(Ce),viewBox:"0 0 "+I+" "+me,preserveAspectRatio:gt[dt]+" slice"}),Ut=de.makeSvgSpan([We[dt]],[Mt],h);if($e===1)return{span:Ut,minWidth:ce,height:Ce};Ut.style.height=xe(Ce),G.push(Ut)}return{span:de.makeSpan(["stretchy"],G,h),minWidth:ce,height:Ce}}}const{span:S,minWidth:C,height:L}=v();return S.height=L,S.style.height=xe(L),C>0&&(S.style.minWidth=xe(C)),S}};function ot(m,h){if(!m||m.type!==h)throw new Error("Expected node of type "+h+", but got "+(m?"node of type "+m.type:String(m)));return m}function Sp(m){const h=k0(m);if(!h)throw new Error("Expected node of symbol group type, but got "+(m?"node of type "+m.type:String(m)));return h}function k0(m){return m&&(m.type==="atom"||Sn.hasOwnProperty(m.type))?m:null}const kp=(m,h)=>{let v,S,C;m&&m.type==="supsub"?(S=ot(m.base,"accent"),v=S.base,m.base=v,C=jr(yt(m,h)),m.base=S):(S=ot(m,"accent"),v=S.base);const L=yt(v,h.havingCrampedStyle()),I=S.isShifty&&b.isCharacterBox(v);let $=0;if(I){const me=b.getBaseElem(v),Ce=yt(me,h.havingCrampedStyle());$=Or(Ce).skew}const G=S.label==="\\c";let ne=G?L.height+L.depth:Math.min(L.height,h.fontMetrics().xHeight),ie;if(S.isStretchy)ie=Ga.svgSpan(S,h),ie=de.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:L},{type:"elem",elem:ie,wrapperClasses:["svg-align"],wrapperStyle:$>0?{width:"calc(100% - "+xe(2*$)+")",marginLeft:xe(2*$)}:void 0}]},h);else{let me,Ce;S.label==="\\vec"?(me=de.staticSvg("vec",h),Ce=de.svgData.vec[1]):(me=de.makeOrd({mode:S.mode,text:S.label},h,"textord"),me=Or(me),me.italic=0,Ce=me.width,G&&(ne+=me.depth)),ie=de.makeSpan(["accent-body"],[me]);const $e=S.label==="\\textcircled";$e&&(ie.classes.push("accent-full"),ne=L.height);let We=$;$e||(We-=Ce/2),ie.style.left=xe(We),S.label==="\\textcircled"&&(ie.style.top=".2em"),ie=de.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:L},{type:"kern",size:-ne},{type:"elem",elem:ie}]},h)}const ce=de.makeSpan(["mord","accent"],[ie],h);return C?(C.children[0]=ce,C.height=Math.max(ce.height,C.height),C.classes[0]="mord",C):ce},g4=(m,h)=>{const v=m.isStretchy?Ga.mathMLnode(m.label):new De.MathNode("mo",[Xn(m.label,m.mode)]),S=new De.MathNode("mover",[qt(m.base,h),v]);return S.setAttribute("accent","true"),S},xC=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(m=>"\\"+m).join("|"));Be({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:(m,h)=>{const v=_0(h[0]),S=!xC.test(m.funcName),C=!S||m.funcName==="\\widehat"||m.funcName==="\\widetilde"||m.funcName==="\\widecheck";return{type:"accent",mode:m.parser.mode,label:m.funcName,isStretchy:S,isShifty:C,base:v}},htmlBuilder:kp,mathmlBuilder:g4}),Be({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:(m,h)=>{const v=h[0];let S=m.parser.mode;return S==="math"&&(m.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+m.funcName+" works only in text mode"),S="text"),{type:"accent",mode:S,label:m.funcName,isStretchy:!1,isShifty:!0,base:v}},htmlBuilder:kp,mathmlBuilder:g4}),Be({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:(m,h)=>{let{parser:v,funcName:S}=m;const C=h[0];return{type:"accentUnder",mode:v.mode,label:S,base:C}},htmlBuilder:(m,h)=>{const v=yt(m.base,h),S=Ga.svgSpan(m,h),C=m.label==="\\utilde"?.12:0,L=de.makeVList({positionType:"top",positionData:v.height,children:[{type:"elem",elem:S,wrapperClasses:["svg-align"]},{type:"kern",size:C},{type:"elem",elem:v}]},h);return de.makeSpan(["mord","accentunder"],[L],h)},mathmlBuilder:(m,h)=>{const v=Ga.mathMLnode(m.label),S=new De.MathNode("munder",[qt(m.base,h),v]);return S.setAttribute("accentunder","true"),S}});const E0=m=>{const h=new De.MathNode("mpadded",m?[m]:[]);return h.setAttribute("width","+0.6em"),h.setAttribute("lspace","0.3em"),h};Be({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler(m,h,v){let{parser:S,funcName:C}=m;return{type:"xArrow",mode:S.mode,label:C,body:h[0],below:v[0]}},htmlBuilder(m,h){const v=h.style;let S=h.havingStyle(v.sup());const C=de.wrapFragment(yt(m.body,S,h),h),L=m.label.slice(0,2)==="\\x"?"x":"cd";C.classes.push(L+"-arrow-pad");let I;m.below&&(S=h.havingStyle(v.sub()),I=de.wrapFragment(yt(m.below,S,h),h),I.classes.push(L+"-arrow-pad"));const $=Ga.svgSpan(m,h),G=-h.fontMetrics().axisHeight+.5*$.height;let ne=-h.fontMetrics().axisHeight-.5*$.height-.111;(C.depth>.25||m.label==="\\xleftequilibrium")&&(ne-=C.depth);let ie;if(I){const ce=-h.fontMetrics().axisHeight+I.height+.5*$.height+.111;ie=de.makeVList({positionType:"individualShift",children:[{type:"elem",elem:C,shift:ne},{type:"elem",elem:$,shift:G},{type:"elem",elem:I,shift:ce}]},h)}else ie=de.makeVList({positionType:"individualShift",children:[{type:"elem",elem:C,shift:ne},{type:"elem",elem:$,shift:G}]},h);return ie.children[0].children[0].children[1].classes.push("svg-align"),de.makeSpan(["mrel","x-arrow"],[ie],h)},mathmlBuilder(m,h){const v=Ga.mathMLnode(m.label);v.setAttribute("minsize",m.label.charAt(0)==="x"?"1.75em":"3.0em");let S;if(m.body){const C=E0(qt(m.body,h));if(m.below){const L=E0(qt(m.below,h));S=new De.MathNode("munderover",[v,L,C])}else S=new De.MathNode("mover",[v,C])}else if(m.below){const C=E0(qt(m.below,h));S=new De.MathNode("munder",[v,C])}else S=E0(),S=new De.MathNode("mover",[v,S]);return S}});const wC=de.makeSpan;function m4(m,h){const v=Er(m.body,h,!0);return wC([m.mclass],v,h)}function v4(m,h){let v;const S=En(m.body,h);return m.mclass==="minner"?v=new De.MathNode("mpadded",S):m.mclass==="mord"?m.isCharacterBox?(v=S[0],v.type="mi"):v=new De.MathNode("mi",S):(m.isCharacterBox?(v=S[0],v.type="mo"):v=new De.MathNode("mo",S),m.mclass==="mbin"?(v.attributes.lspace="0.22em",v.attributes.rspace="0.22em"):m.mclass==="mpunct"?(v.attributes.lspace="0em",v.attributes.rspace="0.17em"):m.mclass==="mopen"||m.mclass==="mclose"?(v.attributes.lspace="0em",v.attributes.rspace="0em"):m.mclass==="minner"&&(v.attributes.lspace="0.0556em",v.attributes.width="+0.1111em")),v}Be({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler(m,h){let{parser:v,funcName:S}=m;const C=h[0];return{type:"mclass",mode:v.mode,mclass:"m"+S.slice(5),body:br(C),isCharacterBox:b.isCharacterBox(C)}},htmlBuilder:m4,mathmlBuilder:v4});const C0=m=>{const h=m.type==="ordgroup"&&m.body.length?m.body[0]:m;return h.type==="atom"&&(h.family==="bin"||h.family==="rel")?"m"+h.family:"mord"};Be({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(m,h){let{parser:v}=m;return{type:"mclass",mode:v.mode,mclass:C0(h[0]),body:br(h[1]),isCharacterBox:b.isCharacterBox(h[1])}}}),Be({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(m,h){let{parser:v,funcName:S}=m;const C=h[1],L=h[0];let I;S!=="\\stackrel"?I=C0(C):I="mrel";const $={type:"op",mode:C.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:S!=="\\stackrel",body:br(C)},G={type:"supsub",mode:L.mode,base:$,sup:S==="\\underset"?null:L,sub:S==="\\underset"?L:null};return{type:"mclass",mode:v.mode,mclass:I,body:[G],isCharacterBox:b.isCharacterBox(G)}},htmlBuilder:m4,mathmlBuilder:v4}),Be({type:"pmb",names:["\\pmb"],props:{numArgs:1,allowedInText:!0},handler(m,h){let{parser:v}=m;return{type:"pmb",mode:v.mode,mclass:C0(h[0]),body:br(h[0])}},htmlBuilder(m,h){const v=Er(m.body,h,!0),S=de.makeSpan([m.mclass],v,h);return S.style.textShadow="0.02em 0.01em 0.04px",S},mathmlBuilder(m,h){const v=En(m.body,h),S=new De.MathNode("mstyle",v);return S.setAttribute("style","text-shadow: 0.02em 0.01em 0.04px"),S}});const _C={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},y4=()=>({type:"styling",body:[],mode:"math",style:"display"}),b4=m=>m.type==="textord"&&m.text==="@",SC=(m,h)=>(m.type==="mathord"||m.type==="atom")&&m.text===h;function kC(m,h,v){const S=_C[m];switch(S){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return v.callFunction(S,[h[0]],[h[1]]);case"\\uparrow":case"\\downarrow":{const C=v.callFunction("\\\\cdleft",[h[0]],[]),L={type:"atom",text:S,mode:"math",family:"rel"},I=v.callFunction("\\Big",[L],[]),$=v.callFunction("\\\\cdright",[h[1]],[]),G={type:"ordgroup",mode:"math",body:[C,I,$]};return v.callFunction("\\\\cdparent",[G],[])}case"\\\\cdlongequal":return v.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":{const C={type:"textord",text:"\\Vert",mode:"math"};return v.callFunction("\\Big",[C],[])}default:return{type:"textord",text:" ",mode:"math"}}}function EC(m){const h=[];for(m.gullet.beginGroup(),m.gullet.macros.set("\\cr","\\\\\\relax"),m.gullet.beginGroup();;){h.push(m.parseExpression(!1,"\\\\")),m.gullet.endGroup(),m.gullet.beginGroup();const L=m.fetch().text;if(L==="&"||L==="\\\\")m.consume();else if(L==="\\end"){h[h.length-1].length===0&&h.pop();break}else throw new i("Expected \\\\ or \\cr or \\end",m.nextToken)}let v=[];const S=[v];for(let L=0;L<h.length;L++){const I=h[L];let $=y4();for(let G=0;G<I.length;G++)if(!b4(I[G]))$.body.push(I[G]);else{v.push($),G+=1;const ne=Sp(I[G]).text,ie=new Array(2);if(ie[0]={type:"ordgroup",mode:"math",body:[]},ie[1]={type:"ordgroup",mode:"math",body:[]},!("=|.".indexOf(ne)>-1))if("<>AV".indexOf(ne)>-1)for(let Ce=0;Ce<2;Ce++){let $e=!0;for(let We=G+1;We<I.length;We++){if(SC(I[We],ne)){$e=!1,G=We;break}if(b4(I[We]))throw new i("Missing a "+ne+" character to complete a CD arrow.",I[We]);ie[Ce].body.push(I[We])}if($e)throw new i("Missing a "+ne+" character to complete a CD arrow.",I[G])}else throw new i('Expected one of "<>AV=|." after @',I[G]);const me={type:"styling",body:[kC(ne,ie,m)],mode:"math",style:"display"};v.push(me),$=y4()}L%2===0?v.push($):v.shift(),v=[],S.push(v)}m.gullet.endGroup(),m.gullet.endGroup();const C=new Array(S[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25});return{type:"array",mode:"math",body:S,arraystretch:1,addJot:!0,rowGaps:[null],cols:C,colSeparationType:"CD",hLinesBeforeRow:new Array(S.length+1).fill([])}}Be({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(m,h){let{parser:v,funcName:S}=m;return{type:"cdlabel",mode:v.mode,side:S.slice(4),label:h[0]}},htmlBuilder(m,h){const v=h.havingStyle(h.style.sup()),S=de.wrapFragment(yt(m.label,v,h),h);return S.classes.push("cd-label-"+m.side),S.style.bottom=xe(.8-S.depth),S.height=0,S.depth=0,S},mathmlBuilder(m,h){let v=new De.MathNode("mrow",[qt(m.label,h)]);return v=new De.MathNode("mpadded",[v]),v.setAttribute("width","0"),m.side==="left"&&v.setAttribute("lspace","-1width"),v.setAttribute("voffset","0.7em"),v=new De.MathNode("mstyle",[v]),v.setAttribute("displaystyle","false"),v.setAttribute("scriptlevel","1"),v}}),Be({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(m,h){let{parser:v}=m;return{type:"cdlabelparent",mode:v.mode,fragment:h[0]}},htmlBuilder(m,h){const v=de.wrapFragment(yt(m.fragment,h),h);return v.classes.push("cd-vert-arrow"),v},mathmlBuilder(m,h){return new De.MathNode("mrow",[qt(m.fragment,h)])}}),Be({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(m,h){let{parser:v}=m;const C=ot(h[0],"ordgroup").body;let L="";for(let G=0;G<C.length;G++){const ne=ot(C[G],"textord");L+=ne.text}let I=parseInt(L),$;if(isNaN(I))throw new i("\\@char has non-numeric argument "+L);if(I<0||I>=1114111)throw new i("\\@char with invalid code point "+L);return I<=65535?$=String.fromCharCode(I):(I-=65536,$=String.fromCharCode((I>>10)+55296,(I&1023)+56320)),{type:"textord",mode:v.mode,text:$}}});const x4=(m,h)=>{const v=Er(m.body,h.withColor(m.color),!1);return de.makeFragment(v)},w4=(m,h)=>{const v=En(m.body,h.withColor(m.color)),S=new De.MathNode("mstyle",v);return S.setAttribute("mathcolor",m.color),S};Be({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(m,h){let{parser:v}=m;const S=ot(h[0],"color-token").color,C=h[1];return{type:"color",mode:v.mode,color:S,body:br(C)}},htmlBuilder:x4,mathmlBuilder:w4}),Be({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(m,h){let{parser:v,breakOnTokenText:S}=m;const C=ot(h[0],"color-token").color;v.gullet.macros.set("\\current@color",C);const L=v.parseExpression(!0,S);return{type:"color",mode:v.mode,color:C,body:L}},htmlBuilder:x4,mathmlBuilder:w4}),Be({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:0,allowedInText:!0},handler(m,h,v){let{parser:S}=m;const C=S.gullet.future().text==="["?S.parseSizeGroup(!0):null,L=!S.settings.displayMode||!S.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:S.mode,newLine:L,size:C&&ot(C,"size").value}},htmlBuilder(m,h){const v=de.makeSpan(["mspace"],[],h);return m.newLine&&(v.classes.push("newline"),m.size&&(v.style.marginTop=xe(Me(m.size,h)))),v},mathmlBuilder(m,h){const v=new De.MathNode("mspace");return m.newLine&&(v.setAttribute("linebreak","newline"),m.size&&v.setAttribute("height",xe(Me(m.size,h)))),v}});const Ep={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},_4=m=>{const h=m.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(h))throw new i("Expected a control sequence",m);return h},CC=m=>{let h=m.gullet.popToken();return h.text==="="&&(h=m.gullet.popToken(),h.text===" "&&(h=m.gullet.popToken())),h},S4=(m,h,v,S)=>{let C=m.gullet.macros.get(v.text);C==null&&(v.noexpand=!0,C={tokens:[v],numArgs:0,unexpandable:!m.gullet.isExpandable(v.text)}),m.gullet.macros.set(h,C,S)};Be({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(m){let{parser:h,funcName:v}=m;h.consumeSpaces();const S=h.fetch();if(Ep[S.text])return(v==="\\global"||v==="\\\\globallong")&&(S.text=Ep[S.text]),ot(h.parseFunction(),"internal");throw new i("Invalid token after macro prefix",S)}}),Be({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(m){let{parser:h,funcName:v}=m,S=h.gullet.popToken();const C=S.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(C))throw new i("Expected a control sequence",S);let L=0,I;const $=[[]];for(;h.gullet.future().text!=="{";)if(S=h.gullet.popToken(),S.text==="#"){if(h.gullet.future().text==="{"){I=h.gullet.future(),$[L].push("{");break}if(S=h.gullet.popToken(),!/^[1-9]$/.test(S.text))throw new i('Invalid argument number "'+S.text+'"');if(parseInt(S.text)!==L+1)throw new i('Argument number "'+S.text+'" out of order');L++,$.push([])}else{if(S.text==="EOF")throw new i("Expected a macro definition");$[L].push(S.text)}let{tokens:G}=h.gullet.consumeArg();return I&&G.unshift(I),(v==="\\edef"||v==="\\xdef")&&(G=h.gullet.expandTokens(G),G.reverse()),h.gullet.macros.set(C,{tokens:G,numArgs:L,delimiters:$},v===Ep[v]),{type:"internal",mode:h.mode}}}),Be({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(m){let{parser:h,funcName:v}=m;const S=_4(h.gullet.popToken());h.gullet.consumeSpaces();const C=CC(h);return S4(h,S,C,v==="\\\\globallet"),{type:"internal",mode:h.mode}}}),Be({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(m){let{parser:h,funcName:v}=m;const S=_4(h.gullet.popToken()),C=h.gullet.popToken(),L=h.gullet.popToken();return S4(h,S,L,v==="\\\\globalfuture"),h.gullet.pushToken(L),h.gullet.pushToken(C),{type:"internal",mode:h.mode}}});const su=function(m,h,v){const S=vt.math[m]&&vt.math[m].replace,C=et(S||m,h,v);if(!C)throw new Error("Unsupported symbol "+m+" and font size "+h+".");return C},Cp=function(m,h,v,S){const C=v.havingBaseStyle(h),L=de.makeSpan(S.concat(C.sizingClasses(v)),[m],v),I=C.sizeMultiplier/v.sizeMultiplier;return L.height*=I,L.depth*=I,L.maxFontSize=C.sizeMultiplier,L},k4=function(m,h,v){const S=h.havingBaseStyle(v),C=(1-h.sizeMultiplier/S.sizeMultiplier)*h.fontMetrics().axisHeight;m.classes.push("delimcenter"),m.style.top=xe(C),m.height-=C,m.depth+=C},TC=function(m,h,v,S,C,L){const I=de.makeSymbol(m,"Main-Regular",C,S),$=Cp(I,h,S,L);return v&&k4($,S,h),$},MC=function(m,h,v,S){return de.makeSymbol(m,"Size"+h+"-Regular",v,S)},E4=function(m,h,v,S,C,L){const I=MC(m,h,C,S),$=Cp(de.makeSpan(["delimsizing","size"+h],[I],S),W.TEXT,S,L);return v&&k4($,S,W.TEXT),$},Tp=function(m,h,v){let S;return h==="Size1-Regular"?S="delim-size1":S="delim-size4",{type:"elem",elem:de.makeSpan(["delimsizinginner",S],[de.makeSpan([],[de.makeSymbol(m,h,v)])])}},Mp=function(m,h,v){const S=Ne["Size4-Regular"][m.charCodeAt(0)]?Ne["Size4-Regular"][m.charCodeAt(0)][4]:Ne["Size1-Regular"][m.charCodeAt(0)][4],C=new $t("inner",it(m,Math.round(1e3*h))),L=new Ot([C],{width:xe(S),height:xe(h),style:"width:"+xe(S),viewBox:"0 0 "+1e3*S+" "+Math.round(1e3*h),preserveAspectRatio:"xMinYMin"}),I=de.makeSvgSpan([],[L],v);return I.height=h,I.style.height=xe(h),I.style.width=xe(S),{type:"elem",elem:I}},Dp=.008,T0={type:"kern",size:-1*Dp},DC=["|","\\lvert","\\rvert","\\vert"],PC=["\\|","\\lVert","\\rVert","\\Vert"],C4=function(m,h,v,S,C,L){let I,$,G,ne,ie="",ce=0;I=G=ne=m,$=null;let me="Size1-Regular";m==="\\uparrow"?G=ne="":m==="\\Uparrow"?G=ne="":m==="\\downarrow"?I=G="":m==="\\Downarrow"?I=G="":m==="\\updownarrow"?(I="\\uparrow",G="",ne="\\downarrow"):m==="\\Updownarrow"?(I="\\Uparrow",G="",ne="\\Downarrow"):b.contains(DC,m)?(G="",ie="vert",ce=333):b.contains(PC,m)?(G="",ie="doublevert",ce=556):m==="["||m==="\\lbrack"?(I="",G="",ne="",me="Size4-Regular",ie="lbrack",ce=667):m==="]"||m==="\\rbrack"?(I="",G="",ne="",me="Size4-Regular",ie="rbrack",ce=667):m==="\\lfloor"||m===""?(G=I="",ne="",me="Size4-Regular",ie="lfloor",ce=667):m==="\\lceil"||m===""?(I="",G=ne="",me="Size4-Regular",ie="lceil",ce=667):m==="\\rfloor"||m===""?(G=I="",ne="",me="Size4-Regular",ie="rfloor",ce=667):m==="\\rceil"||m===""?(I="",G=ne="",me="Size4-Regular",ie="rceil",ce=667):m==="("||m==="\\lparen"?(I="",G="",ne="",me="Size4-Regular",ie="lparen",ce=875):m===")"||m==="\\rparen"?(I="",G="",ne="",me="Size4-Regular",ie="rparen",ce=875):m==="\\{"||m==="\\lbrace"?(I="",$="",ne="",G="",me="Size4-Regular"):m==="\\}"||m==="\\rbrace"?(I="",$="",ne="",G="",me="Size4-Regular"):m==="\\lgroup"||m===""?(I="",ne="",G="",me="Size4-Regular"):m==="\\rgroup"||m===""?(I="",ne="",G="",me="Size4-Regular"):m==="\\lmoustache"||m===""?(I="",ne="",G="",me="Size4-Regular"):(m==="\\rmoustache"||m==="")&&(I="",ne="",G="",me="Size4-Regular");const Ce=su(I,me,C),$e=Ce.height+Ce.depth,We=su(G,me,C),gt=We.height+We.depth,dt=su(ne,me,C),mt=dt.height+dt.depth;let Mt=0,Ut=1;if($!==null){const hr=su($,me,C);Mt=hr.height+hr.depth,Ut=2}const gn=$e+mt+Mt,Cr=Math.max(0,Math.ceil((h-gn)/(Ut*gt))),Zn=gn+Cr*Ut*gt;let Eo=S.fontMetrics().axisHeight;v&&(Eo*=S.sizeMultiplier);const bt=Zn/2-Eo,It=[];if(ie.length>0){const hr=Zn-$e-mt,ar=Math.round(Zn*1e3),Qn=Et(ie,Math.round(hr*1e3)),rT=new $t(ie,Qn),m5=(ce/1e3).toFixed(3)+"em",v5=(ar/1e3).toFixed(3)+"em",nT=new Ot([rT],{width:m5,height:v5,viewBox:"0 0 "+ce+" "+ar}),L0=de.makeSvgSpan([],[nT],S);L0.height=ar/1e3,L0.style.width=m5,L0.style.height=v5,It.push({type:"elem",elem:L0})}else{if(It.push(Tp(ne,me,C)),It.push(T0),$===null){const hr=Zn-$e-mt+2*Dp;It.push(Mp(G,hr,S))}else{const hr=(Zn-$e-mt-Mt)/2+2*Dp;It.push(Mp(G,hr,S)),It.push(T0),It.push(Tp($,me,C)),It.push(T0),It.push(Mp(G,hr,S))}It.push(T0),It.push(Tp(I,me,C))}const Kt=S.havingBaseStyle(W.TEXT),tr=de.makeVList({positionType:"bottom",positionData:bt,children:It},Kt);return Cp(de.makeSpan(["delimsizing","mult"],[tr],Kt),W.TEXT,S,L)},Pp=80,Ap=.08,Lp=function(m,h,v,S,C){const L=Ve(m,S,v),I=new $t(m,L),$=new Ot([I],{width:"400em",height:xe(h),viewBox:"0 0 400000 "+v,preserveAspectRatio:"xMinYMin slice"});return de.makeSvgSpan(["hide-tail"],[$],C)},AC=function(m,h){const v=h.havingBaseSizing(),S=P4("\\surd",m*v.sizeMultiplier,D4,v);let C=v.sizeMultiplier;const L=Math.max(0,h.minRuleThickness-h.fontMetrics().sqrtRuleThickness);let I,$=0,G=0,ne=0,ie;return S.type==="small"?(ne=1e3+1e3*L+Pp,m<1?C=1:m<1.4&&(C=.7),$=(1+L+Ap)/C,G=(1+L)/C,I=Lp("sqrtMain",$,ne,L,h),I.style.minWidth="0.853em",ie=.833/C):S.type==="large"?(ne=(1e3+Pp)*ou[S.size],G=(ou[S.size]+L)/C,$=(ou[S.size]+L+Ap)/C,I=Lp("sqrtSize"+S.size,$,ne,L,h),I.style.minWidth="1.02em",ie=1/C):($=m+L+Ap,G=m+L,ne=Math.floor(1e3*m+L)+Pp,I=Lp("sqrtTall",$,ne,L,h),I.style.minWidth="0.742em",ie=1.056),I.height=G,I.style.height=xe($),{span:I,advanceWidth:ie,ruleWidth:(h.fontMetrics().sqrtRuleThickness+L)*C}},T4=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","\\surd"],LC=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","",""],M4=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],ou=[0,1.2,1.8,2.4,3],RC=function(m,h,v,S,C){if(m==="<"||m==="\\lt"||m===""?m="\\langle":(m===">"||m==="\\gt"||m==="")&&(m="\\rangle"),b.contains(T4,m)||b.contains(M4,m))return E4(m,h,!1,v,S,C);if(b.contains(LC,m))return C4(m,ou[h],!1,v,S,C);throw new i("Illegal delimiter: '"+m+"'")},OC=[{type:"small",style:W.SCRIPTSCRIPT},{type:"small",style:W.SCRIPT},{type:"small",style:W.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],IC=[{type:"small",style:W.SCRIPTSCRIPT},{type:"small",style:W.SCRIPT},{type:"small",style:W.TEXT},{type:"stack"}],D4=[{type:"small",style:W.SCRIPTSCRIPT},{type:"small",style:W.SCRIPT},{type:"small",style:W.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],NC=function(m){if(m.type==="small")return"Main-Regular";if(m.type==="large")return"Size"+m.size+"-Regular";if(m.type==="stack")return"Size4-Regular";throw new Error("Add support for delim type '"+m.type+"' here.")},P4=function(m,h,v,S){const C=Math.min(2,3-S.style.size);for(let L=C;L<v.length&&v[L].type!=="stack";L++){const I=su(m,NC(v[L]),"math");let $=I.height+I.depth;if(v[L].type==="small"){const G=S.havingBaseStyle(v[L].style);$*=G.sizeMultiplier}if($>h)return v[L]}return v[v.length-1]},A4=function(m,h,v,S,C,L){m==="<"||m==="\\lt"||m===""?m="\\langle":(m===">"||m==="\\gt"||m==="")&&(m="\\rangle");let I;b.contains(M4,m)?I=OC:b.contains(T4,m)?I=D4:I=IC;const $=P4(m,h,I,S);return $.type==="small"?TC(m,$.style,v,S,C,L):$.type==="large"?E4(m,$.size,v,S,C,L):C4(m,h,v,S,C,L)};var Ya={sqrtImage:AC,sizedDelim:RC,sizeToMaxHeight:ou,customSizedDelim:A4,leftRightDelim:function(m,h,v,S,C,L){const I=S.fontMetrics().axisHeight*S.sizeMultiplier,$=901,G=5/S.fontMetrics().ptPerEm,ne=Math.max(h-I,v+I),ie=Math.max(ne/500*$,2*ne-G);return A4(m,ie,!0,S,C,L)}};const L4={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},zC=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","<",">","\\langle","","\\rangle","","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","","","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function M0(m,h){const v=k0(m);if(v&&b.contains(zC,v.text))return v;throw v?new i("Invalid delimiter '"+v.text+"' after '"+h.funcName+"'",m):new i("Invalid delimiter type '"+m.type+"'",m)}Be({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:(m,h)=>{const v=M0(h[0],m);return{type:"delimsizing",mode:m.parser.mode,size:L4[m.funcName].size,mclass:L4[m.funcName].mclass,delim:v.text}},htmlBuilder:(m,h)=>m.delim==="."?de.makeSpan([m.mclass]):Ya.sizedDelim(m.delim,m.size,h,m.mode,[m.mclass]),mathmlBuilder:m=>{const h=[];m.delim!=="."&&h.push(Xn(m.delim,m.mode));const v=new De.MathNode("mo",h);m.mclass==="mopen"||m.mclass==="mclose"?v.setAttribute("fence","true"):v.setAttribute("fence","false"),v.setAttribute("stretchy","true");const S=xe(Ya.sizeToMaxHeight[m.size]);return v.setAttribute("minsize",S),v.setAttribute("maxsize",S),v}});function R4(m){if(!m.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}Be({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:(m,h)=>{const v=m.parser.gullet.macros.get("\\current@color");if(v&&typeof v!="string")throw new i("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:m.parser.mode,delim:M0(h[0],m).text,color:v}}}),Be({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:(m,h)=>{const v=M0(h[0],m),S=m.parser;++S.leftrightDepth;const C=S.parseExpression(!1);--S.leftrightDepth,S.expect("\\right",!1);const L=ot(S.parseFunction(),"leftright-right");return{type:"leftright",mode:S.mode,body:C,left:v.text,right:L.delim,rightColor:L.color}},htmlBuilder:(m,h)=>{R4(m);const v=Er(m.body,h,!0,["mopen","mclose"]);let S=0,C=0,L=!1;for(let G=0;G<v.length;G++)v[G].isMiddle?L=!0:(S=Math.max(v[G].height,S),C=Math.max(v[G].depth,C));S*=h.sizeMultiplier,C*=h.sizeMultiplier;let I;if(m.left==="."?I=au(h,["mopen"]):I=Ya.leftRightDelim(m.left,S,C,h,m.mode,["mopen"]),v.unshift(I),L)for(let G=1;G<v.length;G++){const ie=v[G].isMiddle;ie&&(v[G]=Ya.leftRightDelim(ie.delim,S,C,ie.options,m.mode,[]))}let $;if(m.right===".")$=au(h,["mclose"]);else{const G=m.rightColor?h.withColor(m.rightColor):h;$=Ya.leftRightDelim(m.right,S,C,G,m.mode,["mclose"])}return v.push($),de.makeSpan(["minner"],v,h)},mathmlBuilder:(m,h)=>{R4(m);const v=En(m.body,h);if(m.left!=="."){const S=new De.MathNode("mo",[Xn(m.left,m.mode)]);S.setAttribute("fence","true"),v.unshift(S)}if(m.right!=="."){const S=new De.MathNode("mo",[Xn(m.right,m.mode)]);S.setAttribute("fence","true"),m.rightColor&&S.setAttribute("mathcolor",m.rightColor),v.push(S)}return wp(v)}}),Be({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:(m,h)=>{const v=M0(h[0],m);if(!m.parser.leftrightDepth)throw new i("\\middle without preceding \\left",v);return{type:"middle",mode:m.parser.mode,delim:v.text}},htmlBuilder:(m,h)=>{let v;if(m.delim===".")v=au(h,[]);else{v=Ya.sizedDelim(m.delim,1,h,m.mode,[]);const S={delim:m.delim,options:h};v.isMiddle=S}return v},mathmlBuilder:(m,h)=>{const v=m.delim==="\\vert"||m.delim==="|"?Xn("|","text"):Xn(m.delim,m.mode),S=new De.MathNode("mo",[v]);return S.setAttribute("fence","true"),S.setAttribute("lspace","0.05em"),S.setAttribute("rspace","0.05em"),S}});const Rp=(m,h)=>{const v=de.wrapFragment(yt(m.body,h),h),S=m.label.slice(1);let C=h.sizeMultiplier,L,I=0;const $=b.isCharacterBox(m.body);if(S==="sout")L=de.makeSpan(["stretchy","sout"]),L.height=h.fontMetrics().defaultRuleThickness/C,I=-.5*h.fontMetrics().xHeight;else if(S==="phase"){const ne=Me({number:.6,unit:"pt"},h),ie=Me({number:.35,unit:"ex"},h),ce=h.havingBaseSizing();C=C/ce.sizeMultiplier;const me=v.height+v.depth+ne+ie;v.style.paddingLeft=xe(me/2+ne);const Ce=Math.floor(1e3*me*C),$e=we(Ce),We=new Ot([new $t("phase",$e)],{width:"400em",height:xe(Ce/1e3),viewBox:"0 0 400000 "+Ce,preserveAspectRatio:"xMinYMin slice"});L=de.makeSvgSpan(["hide-tail"],[We],h),L.style.height=xe(me),I=v.depth+ne+ie}else{/cancel/.test(S)?$||v.classes.push("cancel-pad"):S==="angl"?v.classes.push("anglpad"):v.classes.push("boxpad");let ne=0,ie=0,ce=0;/box/.test(S)?(ce=Math.max(h.fontMetrics().fboxrule,h.minRuleThickness),ne=h.fontMetrics().fboxsep+(S==="colorbox"?0:ce),ie=ne):S==="angl"?(ce=Math.max(h.fontMetrics().defaultRuleThickness,h.minRuleThickness),ne=4*ce,ie=Math.max(0,.25-v.depth)):(ne=$?.2:0,ie=ne),L=Ga.encloseSpan(v,S,ne,ie,h),/fbox|boxed|fcolorbox/.test(S)?(L.style.borderStyle="solid",L.style.borderWidth=xe(ce)):S==="angl"&&ce!==.049&&(L.style.borderTopWidth=xe(ce),L.style.borderRightWidth=xe(ce)),I=v.depth+ie,m.backgroundColor&&(L.style.backgroundColor=m.backgroundColor,m.borderColor&&(L.style.borderColor=m.borderColor))}let G;if(m.backgroundColor)G=de.makeVList({positionType:"individualShift",children:[{type:"elem",elem:L,shift:I},{type:"elem",elem:v,shift:0}]},h);else{const ne=/cancel|phase/.test(S)?["svg-align"]:[];G=de.makeVList({positionType:"individualShift",children:[{type:"elem",elem:v,shift:0},{type:"elem",elem:L,shift:I,wrapperClasses:ne}]},h)}return/cancel/.test(S)&&(G.height=v.height,G.depth=v.depth),/cancel/.test(S)&&!$?de.makeSpan(["mord","cancel-lap"],[G],h):de.makeSpan(["mord"],[G],h)},Op=(m,h)=>{let v=0;const S=new De.MathNode(m.label.indexOf("colorbox")>-1?"mpadded":"menclose",[qt(m.body,h)]);switch(m.label){case"\\cancel":S.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":S.setAttribute("notation","downdiagonalstrike");break;case"\\phase":S.setAttribute("notation","phasorangle");break;case"\\sout":S.setAttribute("notation","horizontalstrike");break;case"\\fbox":S.setAttribute("notation","box");break;case"\\angl":S.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(v=h.fontMetrics().fboxsep*h.fontMetrics().ptPerEm,S.setAttribute("width","+"+2*v+"pt"),S.setAttribute("height","+"+2*v+"pt"),S.setAttribute("lspace",v+"pt"),S.setAttribute("voffset",v+"pt"),m.label==="\\fcolorbox"){const C=Math.max(h.fontMetrics().fboxrule,h.minRuleThickness);S.setAttribute("style","border: "+C+"em solid "+String(m.borderColor))}break;case"\\xcancel":S.setAttribute("notation","updiagonalstrike downdiagonalstrike");break}return m.backgroundColor&&S.setAttribute("mathbackground",m.backgroundColor),S};Be({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(m,h,v){let{parser:S,funcName:C}=m;const L=ot(h[0],"color-token").color,I=h[1];return{type:"enclose",mode:S.mode,label:C,backgroundColor:L,body:I}},htmlBuilder:Rp,mathmlBuilder:Op}),Be({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(m,h,v){let{parser:S,funcName:C}=m;const L=ot(h[0],"color-token").color,I=ot(h[1],"color-token").color,$=h[2];return{type:"enclose",mode:S.mode,label:C,backgroundColor:I,borderColor:L,body:$}},htmlBuilder:Rp,mathmlBuilder:Op}),Be({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(m,h){let{parser:v}=m;return{type:"enclose",mode:v.mode,label:"\\fbox",body:h[0]}}}),Be({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(m,h){let{parser:v,funcName:S}=m;const C=h[0];return{type:"enclose",mode:v.mode,label:S,body:C}},htmlBuilder:Rp,mathmlBuilder:Op}),Be({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(m,h){let{parser:v}=m;return{type:"enclose",mode:v.mode,label:"\\angl",body:h[0]}}});const O4={};function ka(m){let{type:h,names:v,props:S,handler:C,htmlBuilder:L,mathmlBuilder:I}=m;const $={type:h,numArgs:S.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:C};for(let G=0;G<v.length;++G)O4[v[G]]=$;L&&(x0[h]=L),I&&(w0[h]=I)}const I4={};function q(m,h){I4[m]=h}class In{constructor(h,v,S){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=h,this.start=v,this.end=S}static range(h,v){return v?!h||!h.loc||!v.loc||h.loc.lexer!==v.loc.lexer?null:new In(h.loc.lexer,h.loc.start,v.loc.end):h&&h.loc}}class Kn{constructor(h,v){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=h,this.loc=v}range(h,v){return new Kn(v,In.range(this,h))}}function N4(m){const h=[];m.consumeSpaces();let v=m.fetch().text;for(v==="\\relax"&&(m.consume(),m.consumeSpaces(),v=m.fetch().text);v==="\\hline"||v==="\\hdashline";)m.consume(),h.push(v==="\\hdashline"),m.consumeSpaces(),v=m.fetch().text;return h}const D0=m=>{if(!m.parser.settings.displayMode)throw new i("{"+m.envName+"} can be used only in display mode.")};function Ip(m){if(m.indexOf("ed")===-1)return m.indexOf("*")===-1}function Ti(m,h,v){let{hskipBeforeAndAfter:S,addJot:C,cols:L,arraystretch:I,colSeparationType:$,autoTag:G,singleRow:ne,emptySingleRow:ie,maxNumCols:ce,leqno:me}=h;if(m.gullet.beginGroup(),ne||m.gullet.macros.set("\\cr","\\\\\\relax"),!I){const Ut=m.gullet.expandMacroAsText("\\arraystretch");if(Ut==null)I=1;else if(I=parseFloat(Ut),!I||I<0)throw new i("Invalid \\arraystretch: "+Ut)}m.gullet.beginGroup();let Ce=[];const $e=[Ce],We=[],gt=[],dt=G!=null?[]:void 0;function mt(){G&&m.gullet.macros.set("\\@eqnsw","1",!0)}function Mt(){dt&&(m.gullet.macros.get("\\df@tag")?(dt.push(m.subparse([new Kn("\\df@tag")])),m.gullet.macros.set("\\df@tag",void 0,!0)):dt.push(!!G&&m.gullet.macros.get("\\@eqnsw")==="1"))}for(mt(),gt.push(N4(m));;){let Ut=m.parseExpression(!1,ne?"\\end":"\\\\");m.gullet.endGroup(),m.gullet.beginGroup(),Ut={type:"ordgroup",mode:m.mode,body:Ut},v&&(Ut={type:"styling",mode:m.mode,style:v,body:[Ut]}),Ce.push(Ut);const gn=m.fetch().text;if(gn==="&"){if(ce&&Ce.length===ce){if(ne||$)throw new i("Too many tab characters: &",m.nextToken);m.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}m.consume()}else if(gn==="\\end"){Mt(),Ce.length===1&&Ut.type==="styling"&&Ut.body[0].body.length===0&&($e.length>1||!ie)&&$e.pop(),gt.length<$e.length+1&&gt.push([]);break}else if(gn==="\\\\"){m.consume();let Cr;m.gullet.future().text!==" "&&(Cr=m.parseSizeGroup(!0)),We.push(Cr?Cr.value:null),Mt(),gt.push(N4(m)),Ce=[],$e.push(Ce),mt()}else throw new i("Expected & or \\\\ or \\cr or \\end",m.nextToken)}return m.gullet.endGroup(),m.gullet.endGroup(),{type:"array",mode:m.mode,addJot:C,arraystretch:I,body:$e,cols:L,rowGaps:We,hskipBeforeAndAfter:S,hLinesBeforeRow:gt,colSeparationType:$,tags:dt,leqno:me}}function Np(m){return m.slice(0,1)==="d"?"display":"text"}const Ea=function(m,h){let v,S;const C=m.body.length,L=m.hLinesBeforeRow;let I=0,$=new Array(C);const G=[],ne=Math.max(h.fontMetrics().arrayRuleWidth,h.minRuleThickness),ie=1/h.fontMetrics().ptPerEm;let ce=5*ie;m.colSeparationType&&m.colSeparationType==="small"&&(ce=.2778*(h.havingStyle(W.SCRIPT).sizeMultiplier/h.sizeMultiplier));const me=m.colSeparationType==="CD"?Me({number:3,unit:"ex"},h):12*ie,Ce=3*ie,$e=m.arraystretch*me,We=.7*$e,gt=.3*$e;let dt=0;function mt(bt){for(let It=0;It<bt.length;++It)It>0&&(dt+=.25),G.push({pos:dt,isDashed:bt[It]})}for(mt(L[0]),v=0;v<m.body.length;++v){const bt=m.body[v];let It=We,Kt=gt;I<bt.length&&(I=bt.length);const tr=new Array(bt.length);for(S=0;S<bt.length;++S){const Qn=yt(bt[S],h);Kt<Qn.depth&&(Kt=Qn.depth),It<Qn.height&&(It=Qn.height),tr[S]=Qn}const hr=m.rowGaps[v];let ar=0;hr&&(ar=Me(hr,h),ar>0&&(ar+=gt,Kt<ar&&(Kt=ar),ar=0)),m.addJot&&(Kt+=Ce),tr.height=It,tr.depth=Kt,dt+=It,tr.pos=dt,dt+=Kt+ar,$[v]=tr,mt(L[v+1])}const Mt=dt/2+h.fontMetrics().axisHeight,Ut=m.cols||[],gn=[];let Cr,Zn;const Eo=[];if(m.tags&&m.tags.some(bt=>bt))for(v=0;v<C;++v){const bt=$[v],It=bt.pos-Mt,Kt=m.tags[v];let tr;Kt===!0?tr=de.makeSpan(["eqn-num"],[],h):Kt===!1?tr=de.makeSpan([],[],h):tr=de.makeSpan([],Er(Kt,h,!0),h),tr.depth=bt.depth,tr.height=bt.height,Eo.push({type:"elem",elem:tr,shift:It})}for(S=0,Zn=0;S<I||Zn<Ut.length;++S,++Zn){let bt=Ut[Zn]||{},It=!0;for(;bt.type==="separator";){if(It||(Cr=de.makeSpan(["arraycolsep"],[]),Cr.style.width=xe(h.fontMetrics().doubleRuleSep),gn.push(Cr)),bt.separator==="|"||bt.separator===":"){const hr=bt.separator==="|"?"solid":"dashed",ar=de.makeSpan(["vertical-separator"],[],h);ar.style.height=xe(dt),ar.style.borderRightWidth=xe(ne),ar.style.borderRightStyle=hr,ar.style.margin="0 "+xe(-ne/2);const Qn=dt-Mt;Qn&&(ar.style.verticalAlign=xe(-Qn)),gn.push(ar)}else throw new i("Invalid separator type: "+bt.separator);Zn++,bt=Ut[Zn]||{},It=!1}if(S>=I)continue;let Kt;(S>0||m.hskipBeforeAndAfter)&&(Kt=b.deflt(bt.pregap,ce),Kt!==0&&(Cr=de.makeSpan(["arraycolsep"],[]),Cr.style.width=xe(Kt),gn.push(Cr)));let tr=[];for(v=0;v<C;++v){const hr=$[v],ar=hr[S];if(!ar)continue;const Qn=hr.pos-Mt;ar.depth=hr.depth,ar.height=hr.height,tr.push({type:"elem",elem:ar,shift:Qn})}tr=de.makeVList({positionType:"individualShift",children:tr},h),tr=de.makeSpan(["col-align-"+(bt.align||"c")],[tr]),gn.push(tr),(S<I-1||m.hskipBeforeAndAfter)&&(Kt=b.deflt(bt.postgap,ce),Kt!==0&&(Cr=de.makeSpan(["arraycolsep"],[]),Cr.style.width=xe(Kt),gn.push(Cr)))}if($=de.makeSpan(["mtable"],gn),G.length>0){const bt=de.makeLineSpan("hline",h,ne),It=de.makeLineSpan("hdashline",h,ne),Kt=[{type:"elem",elem:$,shift:0}];for(;G.length>0;){const tr=G.pop(),hr=tr.pos-Mt;tr.isDashed?Kt.push({type:"elem",elem:It,shift:hr}):Kt.push({type:"elem",elem:bt,shift:hr})}$=de.makeVList({positionType:"individualShift",children:Kt},h)}if(Eo.length===0)return de.makeSpan(["mord"],[$],h);{let bt=de.makeVList({positionType:"individualShift",children:Eo},h);return bt=de.makeSpan(["tag"],[bt],h),de.makeFragment([$,bt])}},BC={c:"center ",l:"left ",r:"right "},Ca=function(m,h){const v=[],S=new De.MathNode("mtd",[],["mtr-glue"]),C=new De.MathNode("mtd",[],["mml-eqn-num"]);for(let ce=0;ce<m.body.length;ce++){const me=m.body[ce],Ce=[];for(let $e=0;$e<me.length;$e++)Ce.push(new De.MathNode("mtd",[qt(me[$e],h)]));m.tags&&m.tags[ce]&&(Ce.unshift(S),Ce.push(S),m.leqno?Ce.unshift(C):Ce.push(C)),v.push(new De.MathNode("mtr",Ce))}let L=new De.MathNode("mtable",v);const I=m.arraystretch===.5?.1:.16+m.arraystretch-1+(m.addJot?.09:0);L.setAttribute("rowspacing",xe(I));let $="",G="";if(m.cols&&m.cols.length>0){const ce=m.cols;let me="",Ce=!1,$e=0,We=ce.length;ce[0].type==="separator"&&($+="top ",$e=1),ce[ce.length-1].type==="separator"&&($+="bottom ",We-=1);for(let gt=$e;gt<We;gt++)ce[gt].type==="align"?(G+=BC[ce[gt].align],Ce&&(me+="none "),Ce=!0):ce[gt].type==="separator"&&Ce&&(me+=ce[gt].separator==="|"?"solid ":"dashed ",Ce=!1);L.setAttribute("columnalign",G.trim()),/[sd]/.test(me)&&L.setAttribute("columnlines",me.trim())}if(m.colSeparationType==="align"){const ce=m.cols||[];let me="";for(let Ce=1;Ce<ce.length;Ce++)me+=Ce%2?"0em ":"1em ";L.setAttribute("columnspacing",me.trim())}else m.colSeparationType==="alignat"||m.colSeparationType==="gather"?L.setAttribute("columnspacing","0em"):m.colSeparationType==="small"?L.setAttribute("columnspacing","0.2778em"):m.colSeparationType==="CD"?L.setAttribute("columnspacing","0.5em"):L.setAttribute("columnspacing","1em");let ne="";const ie=m.hLinesBeforeRow;$+=ie[0].length>0?"left ":"",$+=ie[ie.length-1].length>0?"right ":"";for(let ce=1;ce<ie.length-1;ce++)ne+=ie[ce].length===0?"none ":ie[ce][0]?"dashed ":"solid ";return/[sd]/.test(ne)&&L.setAttribute("rowlines",ne.trim()),$!==""&&(L=new De.MathNode("menclose",[L]),L.setAttribute("notation",$.trim())),m.arraystretch&&m.arraystretch<1&&(L=new De.MathNode("mstyle",[L]),L.setAttribute("scriptlevel","1")),L},z4=function(m,h){m.envName.indexOf("ed")===-1&&D0(m);const v=[],S=m.envName.indexOf("at")>-1?"alignat":"align",C=m.envName==="split",L=Ti(m.parser,{cols:v,addJot:!0,autoTag:C?void 0:Ip(m.envName),emptySingleRow:!0,colSeparationType:S,maxNumCols:C?2:void 0,leqno:m.parser.settings.leqno},"display");let I,$=0;const G={type:"ordgroup",mode:m.mode,body:[]};if(h[0]&&h[0].type==="ordgroup"){let ie="";for(let ce=0;ce<h[0].body.length;ce++){const me=ot(h[0].body[ce],"textord");ie+=me.text}I=Number(ie),$=I*2}const ne=!$;L.body.forEach(function(ie){for(let ce=1;ce<ie.length;ce+=2){const me=ot(ie[ce],"styling");ot(me.body[0],"ordgroup").body.unshift(G)}if(ne)$<ie.length&&($=ie.length);else{const ce=ie.length/2;if(I<ce)throw new i("Too many math in a row: "+("expected "+I+", but got "+ce),ie[0])}});for(let ie=0;ie<$;++ie){let ce="r",me=0;ie%2===1?ce="l":ie>0&&ne&&(me=1),v[ie]={type:"align",align:ce,pregap:me,postgap:0}}return L.colSeparationType=ne?"align":"alignat",L};ka({type:"array",names:["array","darray"],props:{numArgs:1},handler(m,h){const C=(k0(h[0])?[h[0]]:ot(h[0],"ordgroup").body).map(function(I){const G=Sp(I).text;if("lcr".indexOf(G)!==-1)return{type:"align",align:G};if(G==="|")return{type:"separator",separator:"|"};if(G===":")return{type:"separator",separator:":"};throw new i("Unknown column alignment: "+G,I)}),L={cols:C,hskipBeforeAndAfter:!0,maxNumCols:C.length};return Ti(m.parser,L,Np(m.envName))},htmlBuilder:Ea,mathmlBuilder:Ca}),ka({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler(m){const h={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[m.envName.replace("*","")];let v="c";const S={hskipBeforeAndAfter:!1,cols:[{type:"align",align:v}]};if(m.envName.charAt(m.envName.length-1)==="*"){const I=m.parser;if(I.consumeSpaces(),I.fetch().text==="["){if(I.consume(),I.consumeSpaces(),v=I.fetch().text,"lcr".indexOf(v)===-1)throw new i("Expected l or c or r",I.nextToken);I.consume(),I.consumeSpaces(),I.expect("]"),I.consume(),S.cols=[{type:"align",align:v}]}}const C=Ti(m.parser,S,Np(m.envName)),L=Math.max(0,...C.body.map(I=>I.length));return C.cols=new Array(L).fill({type:"align",align:v}),h?{type:"leftright",mode:m.mode,body:[C],left:h[0],right:h[1],rightColor:void 0}:C},htmlBuilder:Ea,mathmlBuilder:Ca}),ka({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(m){const h={arraystretch:.5},v=Ti(m.parser,h,"script");return v.colSeparationType="small",v},htmlBuilder:Ea,mathmlBuilder:Ca}),ka({type:"array",names:["subarray"],props:{numArgs:1},handler(m,h){const C=(k0(h[0])?[h[0]]:ot(h[0],"ordgroup").body).map(function(I){const G=Sp(I).text;if("lc".indexOf(G)!==-1)return{type:"align",align:G};throw new i("Unknown column alignment: "+G,I)});if(C.length>1)throw new i("{subarray} can contain only one column");let L={cols:C,hskipBeforeAndAfter:!1,arraystretch:.5};if(L=Ti(m.parser,L,"script"),L.body.length>0&&L.body[0].length>1)throw new i("{subarray} can contain only one column");return L},htmlBuilder:Ea,mathmlBuilder:Ca}),ka({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(m){const h={arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},v=Ti(m.parser,h,Np(m.envName));return{type:"leftright",mode:m.mode,body:[v],left:m.envName.indexOf("r")>-1?".":"\\{",right:m.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:Ea,mathmlBuilder:Ca}),ka({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:z4,htmlBuilder:Ea,mathmlBuilder:Ca}),ka({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(m){b.contains(["gather","gather*"],m.envName)&&D0(m);const h={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:Ip(m.envName),emptySingleRow:!0,leqno:m.parser.settings.leqno};return Ti(m.parser,h,"display")},htmlBuilder:Ea,mathmlBuilder:Ca}),ka({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:z4,htmlBuilder:Ea,mathmlBuilder:Ca}),ka({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(m){D0(m);const h={autoTag:Ip(m.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:m.parser.settings.leqno};return Ti(m.parser,h,"display")},htmlBuilder:Ea,mathmlBuilder:Ca}),ka({type:"array",names:["CD"],props:{numArgs:0},handler(m){return D0(m),EC(m.parser)},htmlBuilder:Ea,mathmlBuilder:Ca}),q("\\nonumber","\\gdef\\@eqnsw{0}"),q("\\notag","\\nonumber"),Be({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(m,h){throw new i(m.funcName+" valid only within array environment")}});var B4=O4;Be({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(m,h){let{parser:v,funcName:S}=m;const C=h[0];if(C.type!=="ordgroup")throw new i("Invalid environment name",C);let L="";for(let I=0;I<C.body.length;++I)L+=ot(C.body[I],"textord").text;if(S==="\\begin"){if(!B4.hasOwnProperty(L))throw new i("No such environment: "+L,C);const I=B4[L],{args:$,optArgs:G}=v.parseArguments("\\begin{"+L+"}",I),ne={mode:v.mode,envName:L,parser:v},ie=I.handler(ne,$,G);v.expect("\\end",!1);const ce=v.nextToken,me=ot(v.parseFunction(),"environment");if(me.name!==L)throw new i("Mismatch: \\begin{"+L+"} matched by \\end{"+me.name+"}",ce);return ie}return{type:"environment",mode:v.mode,name:L,nameGroup:C}}});const F4=(m,h)=>{const v=m.font,S=h.withFont(v);return yt(m.body,S)},$4=(m,h)=>{const v=m.font,S=h.withFont(v);return qt(m.body,S)},q4={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};Be({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:(m,h)=>{let{parser:v,funcName:S}=m;const C=_0(h[0]);let L=S;return L in q4&&(L=q4[L]),{type:"font",mode:v.mode,font:L.slice(1),body:C}},htmlBuilder:F4,mathmlBuilder:$4}),Be({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:(m,h)=>{let{parser:v}=m;const S=h[0],C=b.isCharacterBox(S);return{type:"mclass",mode:v.mode,mclass:C0(S),body:[{type:"font",mode:v.mode,font:"boldsymbol",body:S}],isCharacterBox:C}}}),Be({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:(m,h)=>{let{parser:v,funcName:S,breakOnTokenText:C}=m;const{mode:L}=v,I=v.parseExpression(!0,C),$="math"+S.slice(1);return{type:"font",mode:L,font:$,body:{type:"ordgroup",mode:v.mode,body:I}}},htmlBuilder:F4,mathmlBuilder:$4});const H4=(m,h)=>{let v=h;return m==="display"?v=v.id>=W.SCRIPT.id?v.text():W.DISPLAY:m==="text"&&v.size===W.DISPLAY.size?v=W.TEXT:m==="script"?v=W.SCRIPT:m==="scriptscript"&&(v=W.SCRIPTSCRIPT),v},zp=(m,h)=>{const v=H4(m.size,h.style),S=v.fracNum(),C=v.fracDen();let L;L=h.havingStyle(S);const I=yt(m.numer,L,h);if(m.continued){const mt=8.5/h.fontMetrics().ptPerEm,Mt=3.5/h.fontMetrics().ptPerEm;I.height=I.height<mt?mt:I.height,I.depth=I.depth<Mt?Mt:I.depth}L=h.havingStyle(C);const $=yt(m.denom,L,h);let G,ne,ie;m.hasBarLine?(m.barSize?(ne=Me(m.barSize,h),G=de.makeLineSpan("frac-line",h,ne)):G=de.makeLineSpan("frac-line",h),ne=G.height,ie=G.height):(G=null,ne=0,ie=h.fontMetrics().defaultRuleThickness);let ce,me,Ce;v.size===W.DISPLAY.size||m.size==="display"?(ce=h.fontMetrics().num1,ne>0?me=3*ie:me=7*ie,Ce=h.fontMetrics().denom1):(ne>0?(ce=h.fontMetrics().num2,me=ie):(ce=h.fontMetrics().num3,me=3*ie),Ce=h.fontMetrics().denom2);let $e;if(G){const mt=h.fontMetrics().axisHeight;ce-I.depth-(mt+.5*ne)<me&&(ce+=me-(ce-I.depth-(mt+.5*ne))),mt-.5*ne-($.height-Ce)<me&&(Ce+=me-(mt-.5*ne-($.height-Ce)));const Mt=-(mt-.5*ne);$e=de.makeVList({positionType:"individualShift",children:[{type:"elem",elem:$,shift:Ce},{type:"elem",elem:G,shift:Mt},{type:"elem",elem:I,shift:-ce}]},h)}else{const mt=ce-I.depth-($.height-Ce);mt<me&&(ce+=.5*(me-mt),Ce+=.5*(me-mt)),$e=de.makeVList({positionType:"individualShift",children:[{type:"elem",elem:$,shift:Ce},{type:"elem",elem:I,shift:-ce}]},h)}L=h.havingStyle(v),$e.height*=L.sizeMultiplier/h.sizeMultiplier,$e.depth*=L.sizeMultiplier/h.sizeMultiplier;let We;v.size===W.DISPLAY.size?We=h.fontMetrics().delim1:v.size===W.SCRIPTSCRIPT.size?We=h.havingStyle(W.SCRIPT).fontMetrics().delim2:We=h.fontMetrics().delim2;let gt,dt;return m.leftDelim==null?gt=au(h,["mopen"]):gt=Ya.customSizedDelim(m.leftDelim,We,!0,h.havingStyle(v),m.mode,["mopen"]),m.continued?dt=de.makeSpan([]):m.rightDelim==null?dt=au(h,["mclose"]):dt=Ya.customSizedDelim(m.rightDelim,We,!0,h.havingStyle(v),m.mode,["mclose"]),de.makeSpan(["mord"].concat(L.sizingClasses(h)),[gt,de.makeSpan(["mfrac"],[$e]),dt],h)},Bp=(m,h)=>{let v=new De.MathNode("mfrac",[qt(m.numer,h),qt(m.denom,h)]);if(!m.hasBarLine)v.setAttribute("linethickness","0px");else if(m.barSize){const C=Me(m.barSize,h);v.setAttribute("linethickness",xe(C))}const S=H4(m.size,h.style);if(S.size!==h.style.size){v=new De.MathNode("mstyle",[v]);const C=S.size===W.DISPLAY.size?"true":"false";v.setAttribute("displaystyle",C),v.setAttribute("scriptlevel","0")}if(m.leftDelim!=null||m.rightDelim!=null){const C=[];if(m.leftDelim!=null){const L=new De.MathNode("mo",[new De.TextNode(m.leftDelim.replace("\\",""))]);L.setAttribute("fence","true"),C.push(L)}if(C.push(v),m.rightDelim!=null){const L=new De.MathNode("mo",[new De.TextNode(m.rightDelim.replace("\\",""))]);L.setAttribute("fence","true"),C.push(L)}return wp(C)}return v};Be({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:(m,h)=>{let{parser:v,funcName:S}=m;const C=h[0],L=h[1];let I,$=null,G=null,ne="auto";switch(S){case"\\dfrac":case"\\frac":case"\\tfrac":I=!0;break;case"\\\\atopfrac":I=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":I=!1,$="(",G=")";break;case"\\\\bracefrac":I=!1,$="\\{",G="\\}";break;case"\\\\brackfrac":I=!1,$="[",G="]";break;default:throw new Error("Unrecognized genfrac command")}switch(S){case"\\dfrac":case"\\dbinom":ne="display";break;case"\\tfrac":case"\\tbinom":ne="text";break}return{type:"genfrac",mode:v.mode,continued:!1,numer:C,denom:L,hasBarLine:I,leftDelim:$,rightDelim:G,size:ne,barSize:null}},htmlBuilder:zp,mathmlBuilder:Bp}),Be({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:(m,h)=>{let{parser:v,funcName:S}=m;const C=h[0],L=h[1];return{type:"genfrac",mode:v.mode,continued:!0,numer:C,denom:L,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}}),Be({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(m){let{parser:h,funcName:v,token:S}=m,C;switch(v){case"\\over":C="\\frac";break;case"\\choose":C="\\binom";break;case"\\atop":C="\\\\atopfrac";break;case"\\brace":C="\\\\bracefrac";break;case"\\brack":C="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:h.mode,replaceWith:C,token:S}}});const V4=["display","text","script","scriptscript"],j4=function(m){let h=null;return m.length>0&&(h=m,h=h==="."?null:h),h};Be({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler(m,h){let{parser:v}=m;const S=h[4],C=h[5],L=_0(h[0]),I=L.type==="atom"&&L.family==="open"?j4(L.text):null,$=_0(h[1]),G=$.type==="atom"&&$.family==="close"?j4($.text):null,ne=ot(h[2],"size");let ie,ce=null;ne.isBlank?ie=!0:(ce=ne.value,ie=ce.number>0);let me="auto",Ce=h[3];if(Ce.type==="ordgroup"){if(Ce.body.length>0){const $e=ot(Ce.body[0],"textord");me=V4[Number($e.text)]}}else Ce=ot(Ce,"textord"),me=V4[Number(Ce.text)];return{type:"genfrac",mode:v.mode,numer:S,denom:C,continued:!1,hasBarLine:ie,barSize:ce,leftDelim:I,rightDelim:G,size:me}},htmlBuilder:zp,mathmlBuilder:Bp}),Be({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(m,h){let{parser:v,funcName:S,token:C}=m;return{type:"infix",mode:v.mode,replaceWith:"\\\\abovefrac",size:ot(h[0],"size").value,token:C}}}),Be({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:(m,h)=>{let{parser:v,funcName:S}=m;const C=h[0],L=y(ot(h[1],"infix").size),I=h[2],$=L.number>0;return{type:"genfrac",mode:v.mode,numer:C,denom:I,continued:!1,hasBarLine:$,barSize:L,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:zp,mathmlBuilder:Bp});const U4=(m,h)=>{const v=h.style;let S,C;m.type==="supsub"?(S=m.sup?yt(m.sup,h.havingStyle(v.sup()),h):yt(m.sub,h.havingStyle(v.sub()),h),C=ot(m.base,"horizBrace")):C=ot(m,"horizBrace");const L=yt(C.base,h.havingBaseStyle(W.DISPLAY)),I=Ga.svgSpan(C,h);let $;if(C.isOver?($=de.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:L},{type:"kern",size:.1},{type:"elem",elem:I}]},h),$.children[0].children[0].children[1].classes.push("svg-align")):($=de.makeVList({positionType:"bottom",positionData:L.depth+.1+I.height,children:[{type:"elem",elem:I},{type:"kern",size:.1},{type:"elem",elem:L}]},h),$.children[0].children[0].children[0].classes.push("svg-align")),S){const G=de.makeSpan(["mord",C.isOver?"mover":"munder"],[$],h);C.isOver?$=de.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:G},{type:"kern",size:.2},{type:"elem",elem:S}]},h):$=de.makeVList({positionType:"bottom",positionData:G.depth+.2+S.height+S.depth,children:[{type:"elem",elem:S},{type:"kern",size:.2},{type:"elem",elem:G}]},h)}return de.makeSpan(["mord",C.isOver?"mover":"munder"],[$],h)};Be({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(m,h){let{parser:v,funcName:S}=m;return{type:"horizBrace",mode:v.mode,label:S,isOver:/^\\over/.test(S),base:h[0]}},htmlBuilder:U4,mathmlBuilder:(m,h)=>{const v=Ga.mathMLnode(m.label);return new De.MathNode(m.isOver?"mover":"munder",[qt(m.base,h),v])}}),Be({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:(m,h)=>{let{parser:v}=m;const S=h[1],C=ot(h[0],"url").url;return v.settings.isTrusted({command:"\\href",url:C})?{type:"href",mode:v.mode,href:C,body:br(S)}:v.formatUnsupportedCmd("\\href")},htmlBuilder:(m,h)=>{const v=Er(m.body,h,!1);return de.makeAnchor(m.href,[],v,h)},mathmlBuilder:(m,h)=>{let v=Ci(m.body,h);return v instanceof Yn||(v=new Yn("mrow",[v])),v.setAttribute("href",m.href),v}}),Be({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:(m,h)=>{let{parser:v}=m;const S=ot(h[0],"url").url;if(!v.settings.isTrusted({command:"\\url",url:S}))return v.formatUnsupportedCmd("\\url");const C=[];for(let I=0;I<S.length;I++){let $=S[I];$==="~"&&($="\\textasciitilde"),C.push({type:"textord",mode:"text",text:$})}const L={type:"text",mode:v.mode,font:"\\texttt",body:C};return{type:"href",mode:v.mode,href:S,body:br(L)}}}),Be({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(m,h){let{parser:v}=m;return{type:"hbox",mode:v.mode,body:br(h[0])}},htmlBuilder(m,h){const v=Er(m.body,h,!1);return de.makeFragment(v)},mathmlBuilder(m,h){return new De.MathNode("mrow",En(m.body,h))}}),Be({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:(m,h)=>{let{parser:v,funcName:S,token:C}=m;const L=ot(h[0],"raw").string,I=h[1];v.settings.strict&&v.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");let $;const G={};switch(S){case"\\htmlClass":G.class=L,$={command:"\\htmlClass",class:L};break;case"\\htmlId":G.id=L,$={command:"\\htmlId",id:L};break;case"\\htmlStyle":G.style=L,$={command:"\\htmlStyle",style:L};break;case"\\htmlData":{const ne=L.split(",");for(let ie=0;ie<ne.length;ie++){const ce=ne[ie].split("=");if(ce.length!==2)throw new i("Error parsing key-value for \\htmlData");G["data-"+ce[0].trim()]=ce[1].trim()}$={command:"\\htmlData",attributes:G};break}default:throw new Error("Unrecognized html command")}return v.settings.isTrusted($)?{type:"html",mode:v.mode,attributes:G,body:br(I)}:v.formatUnsupportedCmd(S)},htmlBuilder:(m,h)=>{const v=Er(m.body,h,!1),S=["enclosing"];m.attributes.class&&S.push(...m.attributes.class.trim().split(/\s+/));const C=de.makeSpan(S,v,h);for(const L in m.attributes)L!=="class"&&m.attributes.hasOwnProperty(L)&&C.setAttribute(L,m.attributes[L]);return C},mathmlBuilder:(m,h)=>Ci(m.body,h)}),Be({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:(m,h)=>{let{parser:v}=m;return{type:"htmlmathml",mode:v.mode,html:br(h[0]),mathml:br(h[1])}},htmlBuilder:(m,h)=>{const v=Er(m.html,h,!1);return de.makeFragment(v)},mathmlBuilder:(m,h)=>Ci(m.mathml,h)});const Fp=function(m){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(m))return{number:+m,unit:"bp"};{const h=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(m);if(!h)throw new i("Invalid size: '"+m+"' in \\includegraphics");const v={number:+(h[1]+h[2]),unit:h[3]};if(!ke(v))throw new i("Invalid unit: '"+v.unit+"' in \\includegraphics.");return v}};Be({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:(m,h,v)=>{let{parser:S}=m,C={number:0,unit:"em"},L={number:.9,unit:"em"},I={number:0,unit:"em"},$="";if(v[0]){const ie=ot(v[0],"raw").string.split(",");for(let ce=0;ce<ie.length;ce++){const me=ie[ce].split("=");if(me.length===2){const Ce=me[1].trim();switch(me[0].trim()){case"alt":$=Ce;break;case"width":C=Fp(Ce);break;case"height":L=Fp(Ce);break;case"totalheight":I=Fp(Ce);break;default:throw new i("Invalid key: '"+me[0]+"' in \\includegraphics.")}}}}const G=ot(h[0],"url").url;return $===""&&($=G,$=$.replace(/^.*[\\/]/,""),$=$.substring(0,$.lastIndexOf("."))),S.settings.isTrusted({command:"\\includegraphics",url:G})?{type:"includegraphics",mode:S.mode,alt:$,width:C,height:L,totalheight:I,src:G}:S.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:(m,h)=>{const v=Me(m.height,h);let S=0;m.totalheight.number>0&&(S=Me(m.totalheight,h)-v);let C=0;m.width.number>0&&(C=Me(m.width,h));const L={height:xe(v+S)};C>0&&(L.width=xe(C)),S>0&&(L.verticalAlign=xe(-S));const I=new Xt(m.src,m.alt,L);return I.height=v,I.depth=S,I},mathmlBuilder:(m,h)=>{const v=new De.MathNode("mglyph",[]);v.setAttribute("alt",m.alt);const S=Me(m.height,h);let C=0;if(m.totalheight.number>0&&(C=Me(m.totalheight,h)-S,v.setAttribute("valign",xe(-C))),v.setAttribute("height",xe(S+C)),m.width.number>0){const L=Me(m.width,h);v.setAttribute("width",xe(L))}return v.setAttribute("src",m.src),v}}),Be({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(m,h){let{parser:v,funcName:S}=m;const C=ot(h[0],"size");if(v.settings.strict){const L=S[1]==="m",I=C.value.unit==="mu";L?(I||v.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+S+" supports only mu units, "+("not "+C.value.unit+" units")),v.mode!=="math"&&v.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+S+" works only in math mode")):I&&v.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+S+" doesn't support mu units")}return{type:"kern",mode:v.mode,dimension:C.value}},htmlBuilder(m,h){return de.makeGlue(m.dimension,h)},mathmlBuilder(m,h){const v=Me(m.dimension,h);return new De.SpaceNode(v)}}),Be({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:(m,h)=>{let{parser:v,funcName:S}=m;const C=h[0];return{type:"lap",mode:v.mode,alignment:S.slice(5),body:C}},htmlBuilder:(m,h)=>{let v;m.alignment==="clap"?(v=de.makeSpan([],[yt(m.body,h)]),v=de.makeSpan(["inner"],[v],h)):v=de.makeSpan(["inner"],[yt(m.body,h)]);const S=de.makeSpan(["fix"],[]);let C=de.makeSpan([m.alignment],[v,S],h);const L=de.makeSpan(["strut"]);return L.style.height=xe(C.height+C.depth),C.depth&&(L.style.verticalAlign=xe(-C.depth)),C.children.unshift(L),C=de.makeSpan(["thinbox"],[C],h),de.makeSpan(["mord","vbox"],[C],h)},mathmlBuilder:(m,h)=>{const v=new De.MathNode("mpadded",[qt(m.body,h)]);if(m.alignment!=="rlap"){const S=m.alignment==="llap"?"-1":"-0.5";v.setAttribute("lspace",S+"width")}return v.setAttribute("width","0px"),v}}),Be({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(m,h){let{funcName:v,parser:S}=m;const C=S.mode;S.switchMode("math");const L=v==="\\("?"\\)":"$",I=S.parseExpression(!1,L);return S.expect(L),S.switchMode(C),{type:"styling",mode:S.mode,style:"text",body:I}}}),Be({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(m,h){throw new i("Mismatched "+m.funcName)}});const W4=(m,h)=>{switch(h.style.size){case W.DISPLAY.size:return m.display;case W.TEXT.size:return m.text;case W.SCRIPT.size:return m.script;case W.SCRIPTSCRIPT.size:return m.scriptscript;default:return m.text}};Be({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:(m,h)=>{let{parser:v}=m;return{type:"mathchoice",mode:v.mode,display:br(h[0]),text:br(h[1]),script:br(h[2]),scriptscript:br(h[3])}},htmlBuilder:(m,h)=>{const v=W4(m,h),S=Er(v,h,!1);return de.makeFragment(S)},mathmlBuilder:(m,h)=>{const v=W4(m,h);return Ci(v,h)}});const G4=(m,h,v,S,C,L,I)=>{m=de.makeSpan([],[m]);const $=v&&b.isCharacterBox(v);let G,ne;if(h){const me=yt(h,S.havingStyle(C.sup()),S);ne={elem:me,kern:Math.max(S.fontMetrics().bigOpSpacing1,S.fontMetrics().bigOpSpacing3-me.depth)}}if(v){const me=yt(v,S.havingStyle(C.sub()),S);G={elem:me,kern:Math.max(S.fontMetrics().bigOpSpacing2,S.fontMetrics().bigOpSpacing4-me.height)}}let ie;if(ne&&G){const me=S.fontMetrics().bigOpSpacing5+G.elem.height+G.elem.depth+G.kern+m.depth+I;ie=de.makeVList({positionType:"bottom",positionData:me,children:[{type:"kern",size:S.fontMetrics().bigOpSpacing5},{type:"elem",elem:G.elem,marginLeft:xe(-L)},{type:"kern",size:G.kern},{type:"elem",elem:m},{type:"kern",size:ne.kern},{type:"elem",elem:ne.elem,marginLeft:xe(L)},{type:"kern",size:S.fontMetrics().bigOpSpacing5}]},S)}else if(G){const me=m.height-I;ie=de.makeVList({positionType:"top",positionData:me,children:[{type:"kern",size:S.fontMetrics().bigOpSpacing5},{type:"elem",elem:G.elem,marginLeft:xe(-L)},{type:"kern",size:G.kern},{type:"elem",elem:m}]},S)}else if(ne){const me=m.depth+I;ie=de.makeVList({positionType:"bottom",positionData:me,children:[{type:"elem",elem:m},{type:"kern",size:ne.kern},{type:"elem",elem:ne.elem,marginLeft:xe(L)},{type:"kern",size:S.fontMetrics().bigOpSpacing5}]},S)}else return m;const ce=[ie];if(G&&L!==0&&!$){const me=de.makeSpan(["mspace"],[],S);me.style.marginRight=xe(L),ce.unshift(me)}return de.makeSpan(["mop","op-limits"],ce,S)},Y4=["\\smallint"],ko=(m,h)=>{let v,S,C=!1,L;m.type==="supsub"?(v=m.sup,S=m.sub,L=ot(m.base,"op"),C=!0):L=ot(m,"op");const I=h.style;let $=!1;I.size===W.DISPLAY.size&&L.symbol&&!b.contains(Y4,L.name)&&($=!0);let G;if(L.symbol){const ce=$?"Size2-Regular":"Size1-Regular";let me="";if((L.name==="\\oiint"||L.name==="\\oiiint")&&(me=L.name.slice(1),L.name=me==="oiint"?"\\iint":"\\iiint"),G=de.makeSymbol(L.name,ce,"math",h,["mop","op-symbol",$?"large-op":"small-op"]),me.length>0){const Ce=G.italic,$e=de.staticSvg(me+"Size"+($?"2":"1"),h);G=de.makeVList({positionType:"individualShift",children:[{type:"elem",elem:G,shift:0},{type:"elem",elem:$e,shift:$?.08:0}]},h),L.name="\\"+me,G.classes.unshift("mop"),G.italic=Ce}}else if(L.body){const ce=Er(L.body,h,!0);ce.length===1&&ce[0]instanceof jt?(G=ce[0],G.classes[0]="mop"):G=de.makeSpan(["mop"],ce,h)}else{const ce=[];for(let me=1;me<L.name.length;me++)ce.push(de.mathsym(L.name[me],L.mode,h));G=de.makeSpan(["mop"],ce,h)}let ne=0,ie=0;return(G instanceof jt||L.name==="\\oiint"||L.name==="\\oiiint")&&!L.suppressBaseShift&&(ne=(G.height-G.depth)/2-h.fontMetrics().axisHeight,ie=G.italic),C?G4(G,v,S,h,I,ie,ne):(ne&&(G.style.position="relative",G.style.top=xe(ne)),G)},lu=(m,h)=>{let v;if(m.symbol)v=new Yn("mo",[Xn(m.name,m.mode)]),b.contains(Y4,m.name)&&v.setAttribute("largeop","false");else if(m.body)v=new Yn("mo",En(m.body,h));else{v=new Yn("mi",[new iu(m.name.slice(1))]);const S=new Yn("mo",[Xn("","text")]);m.parentIsSupSub?v=new Yn("mrow",[v,S]):v=f4([v,S])}return v},FC={"":"\\prod","":"\\coprod","":"\\sum","":"\\bigwedge","":"\\bigvee","":"\\bigcap","":"\\bigcup","":"\\bigodot","":"\\bigoplus","":"\\bigotimes","":"\\biguplus","":"\\bigsqcup"};Be({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","","","","","","","","","","","",""],props:{numArgs:0},handler:(m,h)=>{let{parser:v,funcName:S}=m,C=S;return C.length===1&&(C=FC[C]),{type:"op",mode:v.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:C}},htmlBuilder:ko,mathmlBuilder:lu}),Be({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:(m,h)=>{let{parser:v}=m;const S=h[0];return{type:"op",mode:v.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:br(S)}},htmlBuilder:ko,mathmlBuilder:lu});const $C={"":"\\int","":"\\iint","":"\\iiint","":"\\oint","":"\\oiint","":"\\oiiint"};Be({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler(m){let{parser:h,funcName:v}=m;return{type:"op",mode:h.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:v}},htmlBuilder:ko,mathmlBuilder:lu}),Be({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler(m){let{parser:h,funcName:v}=m;return{type:"op",mode:h.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:v}},htmlBuilder:ko,mathmlBuilder:lu}),Be({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","","","","","",""],props:{numArgs:0},handler(m){let{parser:h,funcName:v}=m,S=v;return S.length===1&&(S=$C[S]),{type:"op",mode:h.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:S}},htmlBuilder:ko,mathmlBuilder:lu});const X4=(m,h)=>{let v,S,C=!1,L;m.type==="supsub"?(v=m.sup,S=m.sub,L=ot(m.base,"operatorname"),C=!0):L=ot(m,"operatorname");let I;if(L.body.length>0){const $=L.body.map(ne=>{const ie=ne.text;return typeof ie=="string"?{type:"textord",mode:ne.mode,text:ie}:ne}),G=Er($,h.withFont("mathrm"),!0);for(let ne=0;ne<G.length;ne++){const ie=G[ne];ie instanceof jt&&(ie.text=ie.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}I=de.makeSpan(["mop"],G,h)}else I=de.makeSpan(["mop"],[],h);return C?G4(I,v,S,h,h.style,0,0):I};Be({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:(m,h)=>{let{parser:v,funcName:S}=m;const C=h[0];return{type:"operatorname",mode:v.mode,body:br(C),alwaysHandleSupSub:S==="\\operatornamewithlimits",limits:!1,parentIsSupSub:!1}},htmlBuilder:X4,mathmlBuilder:(m,h)=>{let v=En(m.body,h.withFont("mathrm")),S=!0;for(let I=0;I<v.length;I++){const $=v[I];if(!($ instanceof De.SpaceNode))if($ instanceof De.MathNode)switch($.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":{const G=$.children[0];$.children.length===1&&G instanceof De.TextNode?G.text=G.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):S=!1;break}default:S=!1}else S=!1}if(S){const I=v.map($=>$.toText()).join("");v=[new De.TextNode(I)]}const C=new De.MathNode("mi",v);C.setAttribute("mathvariant","normal");const L=new De.MathNode("mo",[Xn("","text")]);return m.parentIsSupSub?new De.MathNode("mrow",[C,L]):De.newDocumentFragment([C,L])}}),q("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@"),Ms({type:"ordgroup",htmlBuilder(m,h){return m.semisimple?de.makeFragment(Er(m.body,h,!1)):de.makeSpan(["mord"],Er(m.body,h,!0),h)},mathmlBuilder(m,h){return Ci(m.body,h,!0)}}),Be({type:"overline",names:["\\overline"],props:{numArgs:1},handler(m,h){let{parser:v}=m;const S=h[0];return{type:"overline",mode:v.mode,body:S}},htmlBuilder(m,h){const v=yt(m.body,h.havingCrampedStyle()),S=de.makeLineSpan("overline-line",h),C=h.fontMetrics().defaultRuleThickness,L=de.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:v},{type:"kern",size:3*C},{type:"elem",elem:S},{type:"kern",size:C}]},h);return de.makeSpan(["mord","overline"],[L],h)},mathmlBuilder(m,h){const v=new De.MathNode("mo",[new De.TextNode("")]);v.setAttribute("stretchy","true");const S=new De.MathNode("mover",[qt(m.body,h),v]);return S.setAttribute("accent","true"),S}}),Be({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:(m,h)=>{let{parser:v}=m;const S=h[0];return{type:"phantom",mode:v.mode,body:br(S)}},htmlBuilder:(m,h)=>{const v=Er(m.body,h.withPhantom(),!1);return de.makeFragment(v)},mathmlBuilder:(m,h)=>{const v=En(m.body,h);return new De.MathNode("mphantom",v)}}),Be({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:(m,h)=>{let{parser:v}=m;const S=h[0];return{type:"hphantom",mode:v.mode,body:S}},htmlBuilder:(m,h)=>{let v=de.makeSpan([],[yt(m.body,h.withPhantom())]);if(v.height=0,v.depth=0,v.children)for(let S=0;S<v.children.length;S++)v.children[S].height=0,v.children[S].depth=0;return v=de.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:v}]},h),de.makeSpan(["mord"],[v],h)},mathmlBuilder:(m,h)=>{const v=En(br(m.body),h),S=new De.MathNode("mphantom",v),C=new De.MathNode("mpadded",[S]);return C.setAttribute("height","0px"),C.setAttribute("depth","0px"),C}}),Be({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:(m,h)=>{let{parser:v}=m;const S=h[0];return{type:"vphantom",mode:v.mode,body:S}},htmlBuilder:(m,h)=>{const v=de.makeSpan(["inner"],[yt(m.body,h.withPhantom())]),S=de.makeSpan(["fix"],[]);return de.makeSpan(["mord","rlap"],[v,S],h)},mathmlBuilder:(m,h)=>{const v=En(br(m.body),h),S=new De.MathNode("mphantom",v),C=new De.MathNode("mpadded",[S]);return C.setAttribute("width","0px"),C}}),Be({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(m,h){let{parser:v}=m;const S=ot(h[0],"size").value,C=h[1];return{type:"raisebox",mode:v.mode,dy:S,body:C}},htmlBuilder(m,h){const v=yt(m.body,h),S=Me(m.dy,h);return de.makeVList({positionType:"shift",positionData:-S,children:[{type:"elem",elem:v}]},h)},mathmlBuilder(m,h){const v=new De.MathNode("mpadded",[qt(m.body,h)]),S=m.dy.number+m.dy.unit;return v.setAttribute("voffset",S),v}}),Be({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0},handler(m){let{parser:h}=m;return{type:"internal",mode:h.mode}}}),Be({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,argTypes:["size","size","size"]},handler(m,h,v){let{parser:S}=m;const C=v[0],L=ot(h[0],"size"),I=ot(h[1],"size");return{type:"rule",mode:S.mode,shift:C&&ot(C,"size").value,width:L.value,height:I.value}},htmlBuilder(m,h){const v=de.makeSpan(["mord","rule"],[],h),S=Me(m.width,h),C=Me(m.height,h),L=m.shift?Me(m.shift,h):0;return v.style.borderRightWidth=xe(S),v.style.borderTopWidth=xe(C),v.style.bottom=xe(L),v.width=S,v.height=C+L,v.depth=-L,v.maxFontSize=C*1.125*h.sizeMultiplier,v},mathmlBuilder(m,h){const v=Me(m.width,h),S=Me(m.height,h),C=m.shift?Me(m.shift,h):0,L=h.color&&h.getColor()||"black",I=new De.MathNode("mspace");I.setAttribute("mathbackground",L),I.setAttribute("width",xe(v)),I.setAttribute("height",xe(S));const $=new De.MathNode("mpadded",[I]);return C>=0?$.setAttribute("height",xe(C)):($.setAttribute("height",xe(C)),$.setAttribute("depth",xe(-C))),$.setAttribute("voffset",xe(C)),$}});function K4(m,h,v){const S=Er(m,h,!1),C=h.sizeMultiplier/v.sizeMultiplier;for(let L=0;L<S.length;L++){const I=S[L].classes.indexOf("sizing");I<0?Array.prototype.push.apply(S[L].classes,h.sizingClasses(v)):S[L].classes[I+1]==="reset-size"+h.size&&(S[L].classes[I+1]="reset-size"+v.size),S[L].height*=C,S[L].depth*=C}return de.makeFragment(S)}const Z4=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"];Be({type:"sizing",names:Z4,props:{numArgs:0,allowedInText:!0},handler:(m,h)=>{let{breakOnTokenText:v,funcName:S,parser:C}=m;const L=C.parseExpression(!1,v);return{type:"sizing",mode:C.mode,size:Z4.indexOf(S)+1,body:L}},htmlBuilder:(m,h)=>{const v=h.havingSize(m.size);return K4(m.body,v,h)},mathmlBuilder:(m,h)=>{const v=h.havingSize(m.size),S=En(m.body,v),C=new De.MathNode("mstyle",S);return C.setAttribute("mathsize",xe(v.sizeMultiplier)),C}}),Be({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:(m,h,v)=>{let{parser:S}=m,C=!1,L=!1;const I=v[0]&&ot(v[0],"ordgroup");if(I){let G="";for(let ne=0;ne<I.body.length;++ne)if(G=I.body[ne].text,G==="t")C=!0;else if(G==="b")L=!0;else{C=!1,L=!1;break}}else C=!0,L=!0;const $=h[0];return{type:"smash",mode:S.mode,body:$,smashHeight:C,smashDepth:L}},htmlBuilder:(m,h)=>{const v=de.makeSpan([],[yt(m.body,h)]);if(!m.smashHeight&&!m.smashDepth)return v;if(m.smashHeight&&(v.height=0,v.children))for(let C=0;C<v.children.length;C++)v.children[C].height=0;if(m.smashDepth&&(v.depth=0,v.children))for(let C=0;C<v.children.length;C++)v.children[C].depth=0;const S=de.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:v}]},h);return de.makeSpan(["mord"],[S],h)},mathmlBuilder:(m,h)=>{const v=new De.MathNode("mpadded",[qt(m.body,h)]);return m.smashHeight&&v.setAttribute("height","0px"),m.smashDepth&&v.setAttribute("depth","0px"),v}}),Be({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(m,h,v){let{parser:S}=m;const C=v[0],L=h[0];return{type:"sqrt",mode:S.mode,body:L,index:C}},htmlBuilder(m,h){let v=yt(m.body,h.havingCrampedStyle());v.height===0&&(v.height=h.fontMetrics().xHeight),v=de.wrapFragment(v,h);const C=h.fontMetrics().defaultRuleThickness;let L=C;h.style.id<W.TEXT.id&&(L=h.fontMetrics().xHeight);let I=C+L/4;const $=v.height+v.depth+I+C,{span:G,ruleWidth:ne,advanceWidth:ie}=Ya.sqrtImage($,h),ce=G.height-ne;ce>v.height+v.depth+I&&(I=(I+ce-v.height-v.depth)/2);const me=G.height-v.height-I-ne;v.style.paddingLeft=xe(ie);const Ce=de.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:v,wrapperClasses:["svg-align"]},{type:"kern",size:-(v.height+me)},{type:"elem",elem:G},{type:"kern",size:ne}]},h);if(m.index){const $e=h.havingStyle(W.SCRIPTSCRIPT),We=yt(m.index,$e,h),gt=.6*(Ce.height-Ce.depth),dt=de.makeVList({positionType:"shift",positionData:-gt,children:[{type:"elem",elem:We}]},h),mt=de.makeSpan(["root"],[dt]);return de.makeSpan(["mord","sqrt"],[mt,Ce],h)}else return de.makeSpan(["mord","sqrt"],[Ce],h)},mathmlBuilder(m,h){const{body:v,index:S}=m;return S?new De.MathNode("mroot",[qt(v,h),qt(S,h)]):new De.MathNode("msqrt",[qt(v,h)])}});const Q4={display:W.DISPLAY,text:W.TEXT,script:W.SCRIPT,scriptscript:W.SCRIPTSCRIPT};Be({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(m,h){let{breakOnTokenText:v,funcName:S,parser:C}=m;const L=C.parseExpression(!0,v),I=S.slice(1,S.length-5);return{type:"styling",mode:C.mode,style:I,body:L}},htmlBuilder(m,h){const v=Q4[m.style],S=h.havingStyle(v).withFont("");return K4(m.body,S,h)},mathmlBuilder(m,h){const v=Q4[m.style],S=h.havingStyle(v),C=En(m.body,S),L=new De.MathNode("mstyle",C),$={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]}[m.style];return L.setAttribute("scriptlevel",$[0]),L.setAttribute("displaystyle",$[1]),L}});const qC=function(m,h){const v=m.base;return v?v.type==="op"?v.limits&&(h.style.size===W.DISPLAY.size||v.alwaysHandleSupSub)?ko:null:v.type==="operatorname"?v.alwaysHandleSupSub&&(h.style.size===W.DISPLAY.size||v.limits)?X4:null:v.type==="accent"?b.isCharacterBox(v.base)?kp:null:v.type==="horizBrace"&&!m.sub===v.isOver?U4:null:null};Ms({type:"supsub",htmlBuilder(m,h){const v=qC(m,h);if(v)return v(m,h);const{base:S,sup:C,sub:L}=m,I=yt(S,h);let $,G;const ne=h.fontMetrics();let ie=0,ce=0;const me=S&&b.isCharacterBox(S);if(C){const Mt=h.havingStyle(h.style.sup());$=yt(C,Mt,h),me||(ie=I.height-Mt.fontMetrics().supDrop*Mt.sizeMultiplier/h.sizeMultiplier)}if(L){const Mt=h.havingStyle(h.style.sub());G=yt(L,Mt,h),me||(ce=I.depth+Mt.fontMetrics().subDrop*Mt.sizeMultiplier/h.sizeMultiplier)}let Ce;h.style===W.DISPLAY?Ce=ne.sup1:h.style.cramped?Ce=ne.sup3:Ce=ne.sup2;const $e=h.sizeMultiplier,We=xe(.5/ne.ptPerEm/$e);let gt=null;if(G){const Mt=m.base&&m.base.type==="op"&&m.base.name&&(m.base.name==="\\oiint"||m.base.name==="\\oiiint");(I instanceof jt||Mt)&&(gt=xe(-I.italic))}let dt;if($&&G){ie=Math.max(ie,Ce,$.depth+.25*ne.xHeight),ce=Math.max(ce,ne.sub2);const Ut=4*ne.defaultRuleThickness;if(ie-$.depth-(G.height-ce)<Ut){ce=Ut-(ie-$.depth)+G.height;const Cr=.8*ne.xHeight-(ie-$.depth);Cr>0&&(ie+=Cr,ce-=Cr)}const gn=[{type:"elem",elem:G,shift:ce,marginRight:We,marginLeft:gt},{type:"elem",elem:$,shift:-ie,marginRight:We}];dt=de.makeVList({positionType:"individualShift",children:gn},h)}else if(G){ce=Math.max(ce,ne.sub1,G.height-.8*ne.xHeight);const Mt=[{type:"elem",elem:G,marginLeft:gt,marginRight:We}];dt=de.makeVList({positionType:"shift",positionData:ce,children:Mt},h)}else if($)ie=Math.max(ie,Ce,$.depth+.25*ne.xHeight),dt=de.makeVList({positionType:"shift",positionData:-ie,children:[{type:"elem",elem:$,marginRight:We}]},h);else throw new Error("supsub must have either sup or sub.");const mt=bp(I,"right")||"mord";return de.makeSpan([mt],[I,de.makeSpan(["msupsub"],[dt])],h)},mathmlBuilder(m,h){let v=!1,S,C;m.base&&m.base.type==="horizBrace"&&(C=!!m.sup,C===m.base.isOver&&(v=!0,S=m.base.isOver)),m.base&&(m.base.type==="op"||m.base.type==="operatorname")&&(m.base.parentIsSupSub=!0);const L=[qt(m.base,h)];m.sub&&L.push(qt(m.sub,h)),m.sup&&L.push(qt(m.sup,h));let I;if(v)I=S?"mover":"munder";else if(m.sub)if(m.sup){const $=m.base;$&&$.type==="op"&&$.limits&&h.style===W.DISPLAY||$&&$.type==="operatorname"&&$.alwaysHandleSupSub&&(h.style===W.DISPLAY||$.limits)?I="munderover":I="msubsup"}else{const $=m.base;$&&$.type==="op"&&$.limits&&(h.style===W.DISPLAY||$.alwaysHandleSupSub)||$&&$.type==="operatorname"&&$.alwaysHandleSupSub&&($.limits||h.style===W.DISPLAY)?I="munder":I="msub"}else{const $=m.base;$&&$.type==="op"&&$.limits&&(h.style===W.DISPLAY||$.alwaysHandleSupSub)||$&&$.type==="operatorname"&&$.alwaysHandleSupSub&&($.limits||h.style===W.DISPLAY)?I="mover":I="msup"}return new De.MathNode(I,L)}}),Ms({type:"atom",htmlBuilder(m,h){return de.mathsym(m.text,m.mode,h,["m"+m.family])},mathmlBuilder(m,h){const v=new De.MathNode("mo",[Xn(m.text,m.mode)]);if(m.family==="bin"){const S=_p(m,h);S==="bold-italic"&&v.setAttribute("mathvariant",S)}else m.family==="punct"?v.setAttribute("separator","true"):(m.family==="open"||m.family==="close")&&v.setAttribute("stretchy","false");return v}});const J4={mi:"italic",mn:"normal",mtext:"normal"};Ms({type:"mathord",htmlBuilder(m,h){return de.makeOrd(m,h,"mathord")},mathmlBuilder(m,h){const v=new De.MathNode("mi",[Xn(m.text,m.mode,h)]),S=_p(m,h)||"italic";return S!==J4[v.type]&&v.setAttribute("mathvariant",S),v}}),Ms({type:"textord",htmlBuilder(m,h){return de.makeOrd(m,h,"textord")},mathmlBuilder(m,h){const v=Xn(m.text,m.mode,h),S=_p(m,h)||"normal";let C;return m.mode==="text"?C=new De.MathNode("mtext",[v]):/[0-9]/.test(m.text)?C=new De.MathNode("mn",[v]):m.text==="\\prime"?C=new De.MathNode("mo",[v]):C=new De.MathNode("mi",[v]),S!==J4[C.type]&&C.setAttribute("mathvariant",S),C}});const $p={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},qp={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};Ms({type:"spacing",htmlBuilder(m,h){if(qp.hasOwnProperty(m.text)){const v=qp[m.text].className||"";if(m.mode==="text"){const S=de.makeOrd(m,h,"textord");return S.classes.push(v),S}else return de.makeSpan(["mspace",v],[de.mathsym(m.text,m.mode,h)],h)}else{if($p.hasOwnProperty(m.text))return de.makeSpan(["mspace",$p[m.text]],[],h);throw new i('Unknown type of space "'+m.text+'"')}},mathmlBuilder(m,h){let v;if(qp.hasOwnProperty(m.text))v=new De.MathNode("mtext",[new De.TextNode("")]);else{if($p.hasOwnProperty(m.text))return new De.MathNode("mspace");throw new i('Unknown type of space "'+m.text+'"')}return v}});const e5=()=>{const m=new De.MathNode("mtd",[]);return m.setAttribute("width","50%"),m};Ms({type:"tag",mathmlBuilder(m,h){const v=new De.MathNode("mtable",[new De.MathNode("mtr",[e5(),new De.MathNode("mtd",[Ci(m.body,h)]),e5(),new De.MathNode("mtd",[Ci(m.tag,h)])])]);return v.setAttribute("width","100%"),v}});const t5={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},r5={"\\textbf":"textbf","\\textmd":"textmd"},HC={"\\textit":"textit","\\textup":"textup"},n5=(m,h)=>{const v=m.font;return v?t5[v]?h.withTextFontFamily(t5[v]):r5[v]?h.withTextFontWeight(r5[v]):h.withTextFontShape(HC[v]):h};Be({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(m,h){let{parser:v,funcName:S}=m;const C=h[0];return{type:"text",mode:v.mode,body:br(C),font:S}},htmlBuilder(m,h){const v=n5(m,h),S=Er(m.body,v,!0);return de.makeSpan(["mord","text"],S,v)},mathmlBuilder(m,h){const v=n5(m,h);return Ci(m.body,v)}}),Be({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(m,h){let{parser:v}=m;return{type:"underline",mode:v.mode,body:h[0]}},htmlBuilder(m,h){const v=yt(m.body,h),S=de.makeLineSpan("underline-line",h),C=h.fontMetrics().defaultRuleThickness,L=de.makeVList({positionType:"top",positionData:v.height,children:[{type:"kern",size:C},{type:"elem",elem:S},{type:"kern",size:3*C},{type:"elem",elem:v}]},h);return de.makeSpan(["mord","underline"],[L],h)},mathmlBuilder(m,h){const v=new De.MathNode("mo",[new De.TextNode("")]);v.setAttribute("stretchy","true");const S=new De.MathNode("munder",[qt(m.body,h),v]);return S.setAttribute("accentunder","true"),S}}),Be({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(m,h){let{parser:v}=m;return{type:"vcenter",mode:v.mode,body:h[0]}},htmlBuilder(m,h){const v=yt(m.body,h),S=h.fontMetrics().axisHeight,C=.5*(v.height-S-(v.depth+S));return de.makeVList({positionType:"shift",positionData:C,children:[{type:"elem",elem:v}]},h)},mathmlBuilder(m,h){return new De.MathNode("mpadded",[qt(m.body,h)],["vcenter"])}}),Be({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(m,h,v){throw new i("\\verb ended by end of line instead of matching delimiter")},htmlBuilder(m,h){const v=a5(m),S=[],C=h.havingStyle(h.style.text());for(let L=0;L<v.length;L++){let I=v[L];I==="~"&&(I="\\textasciitilde"),S.push(de.makeSymbol(I,"Typewriter-Regular",m.mode,C,["mord","texttt"]))}return de.makeSpan(["mord","text"].concat(C.sizingClasses(h)),de.tryCombineChars(S),C)},mathmlBuilder(m,h){const v=new De.TextNode(a5(m)),S=new De.MathNode("mtext",[v]);return S.setAttribute("mathvariant","monospace"),S}});const a5=m=>m.body.replace(/ /g,m.star?"":"");var Mi=u4;const i5=`[ \r
	]`,VC="\\\\[a-zA-Z@]+",jC="\\\\[^\uD800-\uDFFF]",UC="("+VC+")"+i5+"*",WC=`\\\\(
|[ \r	]+
?)[ \r	]*`,Hp="[-]",GC=new RegExp(Hp+"+$"),YC="("+i5+"+)|"+(WC+"|")+"([!-\\[\\]---]"+(Hp+"*")+"|[\uD800-\uDBFF][\uDC00-\uDFFF]"+(Hp+"*")+"|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5"+("|"+UC)+("|"+jC+")");class s5{constructor(h,v){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=h,this.settings=v,this.tokenRegex=new RegExp(YC,"g"),this.catcodes={"%":14,"~":13}}setCatcode(h,v){this.catcodes[h]=v}lex(){const h=this.input,v=this.tokenRegex.lastIndex;if(v===h.length)return new Kn("EOF",new In(this,v,v));const S=this.tokenRegex.exec(h);if(S===null||S.index!==v)throw new i("Unexpected character: '"+h[v]+"'",new Kn(h[v],new In(this,v,v+1)));const C=S[6]||S[3]||(S[2]?"\\ ":" ");if(this.catcodes[C]===14){const L=h.indexOf(`
`,this.tokenRegex.lastIndex);return L===-1?(this.tokenRegex.lastIndex=h.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=L+1,this.lex()}return new Kn(C,new In(this,v,this.tokenRegex.lastIndex))}}class XC{constructor(h,v){h===void 0&&(h={}),v===void 0&&(v={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=v,this.builtins=h,this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(this.undefStack.length===0)throw new i("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");const h=this.undefStack.pop();for(const v in h)h.hasOwnProperty(v)&&(h[v]==null?delete this.current[v]:this.current[v]=h[v])}endGroups(){for(;this.undefStack.length>0;)this.endGroup()}has(h){return this.current.hasOwnProperty(h)||this.builtins.hasOwnProperty(h)}get(h){return this.current.hasOwnProperty(h)?this.current[h]:this.builtins[h]}set(h,v,S){if(S===void 0&&(S=!1),S){for(let C=0;C<this.undefStack.length;C++)delete this.undefStack[C][h];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][h]=v)}else{const C=this.undefStack[this.undefStack.length-1];C&&!C.hasOwnProperty(h)&&(C[h]=this.current[h])}v==null?delete this.current[h]:this.current[h]=v}}var KC=I4;q("\\noexpand",function(m){const h=m.popToken();return m.isExpandable(h.text)&&(h.noexpand=!0,h.treatAsRelax=!0),{tokens:[h],numArgs:0}}),q("\\expandafter",function(m){const h=m.popToken();return m.expandOnce(!0),{tokens:[h],numArgs:0}}),q("\\@firstoftwo",function(m){return{tokens:m.consumeArgs(2)[0],numArgs:0}}),q("\\@secondoftwo",function(m){return{tokens:m.consumeArgs(2)[1],numArgs:0}}),q("\\@ifnextchar",function(m){const h=m.consumeArgs(3);m.consumeSpaces();const v=m.future();return h[0].length===1&&h[0][0].text===v.text?{tokens:h[1],numArgs:0}:{tokens:h[2],numArgs:0}}),q("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}"),q("\\TextOrMath",function(m){const h=m.consumeArgs(2);return m.mode==="text"?{tokens:h[0],numArgs:0}:{tokens:h[1],numArgs:0}});const o5={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};q("\\char",function(m){let h=m.popToken(),v,S="";if(h.text==="'")v=8,h=m.popToken();else if(h.text==='"')v=16,h=m.popToken();else if(h.text==="`")if(h=m.popToken(),h.text[0]==="\\")S=h.text.charCodeAt(1);else{if(h.text==="EOF")throw new i("\\char` missing argument");S=h.text.charCodeAt(0)}else v=10;if(v){if(S=o5[h.text],S==null||S>=v)throw new i("Invalid base-"+v+" digit "+h.text);let C;for(;(C=o5[m.future().text])!=null&&C<v;)S*=v,S+=C,m.popToken()}return"\\@char{"+S+"}"});const Vp=(m,h,v)=>{let S=m.consumeArg().tokens;if(S.length!==1)throw new i("\\newcommand's first argument must be a macro name");const C=S[0].text,L=m.isDefined(C);if(L&&!h)throw new i("\\newcommand{"+C+"} attempting to redefine "+(C+"; use \\renewcommand"));if(!L&&!v)throw new i("\\renewcommand{"+C+"} when command "+C+" does not yet exist; use \\newcommand");let I=0;if(S=m.consumeArg().tokens,S.length===1&&S[0].text==="["){let $="",G=m.expandNextToken();for(;G.text!=="]"&&G.text!=="EOF";)$+=G.text,G=m.expandNextToken();if(!$.match(/^\s*[0-9]+\s*$/))throw new i("Invalid number of arguments: "+$);I=parseInt($),S=m.consumeArg().tokens}return m.macros.set(C,{tokens:S,numArgs:I}),""};q("\\newcommand",m=>Vp(m,!1,!0)),q("\\renewcommand",m=>Vp(m,!0,!1)),q("\\providecommand",m=>Vp(m,!0,!0)),q("\\message",m=>{const h=m.consumeArgs(1)[0];return console.log(h.reverse().map(v=>v.text).join("")),""}),q("\\errmessage",m=>{const h=m.consumeArgs(1)[0];return console.error(h.reverse().map(v=>v.text).join("")),""}),q("\\show",m=>{const h=m.popToken(),v=h.text;return console.log(h,m.macros.get(v),Mi[v],vt.math[v],vt.text[v]),""}),q("\\bgroup","{"),q("\\egroup","}"),q("~","\\nobreakspace"),q("\\lq","`"),q("\\rq","'"),q("\\aa","\\r a"),q("\\AA","\\r A"),q("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`}"),q("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}"),q("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`}"),q("","\\mathscr{B}"),q("","\\mathscr{E}"),q("","\\mathscr{F}"),q("","\\mathscr{H}"),q("","\\mathscr{I}"),q("","\\mathscr{L}"),q("","\\mathscr{M}"),q("","\\mathscr{R}"),q("","\\mathfrak{C}"),q("","\\mathfrak{H}"),q("","\\mathfrak{Z}"),q("\\Bbbk","\\Bbb{k}"),q("","\\cdotp"),q("\\llap","\\mathllap{\\textrm{#1}}"),q("\\rlap","\\mathrlap{\\textrm{#1}}"),q("\\clap","\\mathclap{\\textrm{#1}}"),q("\\mathstrut","\\vphantom{(}"),q("\\underbar","\\underline{\\text{#1}}"),q("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}'),q("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`}}"),q("\\ne","\\neq"),q("","\\neq"),q("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`}}"),q("","\\notin"),q("","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`}}"),q("","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`}}"),q("","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`}}"),q("","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`}}"),q("","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`}}"),q("","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`}}"),q("","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`}}"),q("","\\perp"),q("","\\mathclose{!\\mkern-0.8mu!}"),q("","\\notni"),q("","\\ulcorner"),q("","\\urcorner"),q("","\\llcorner"),q("","\\lrcorner"),q("","\\copyright"),q("","\\textregistered"),q("","\\textregistered"),q("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}'),q("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}'),q("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}'),q("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}'),q("\\vdots","\\mathord{\\varvdots\\rule{0pt}{15pt}}"),q("","\\vdots"),q("\\varGamma","\\mathit{\\Gamma}"),q("\\varDelta","\\mathit{\\Delta}"),q("\\varTheta","\\mathit{\\Theta}"),q("\\varLambda","\\mathit{\\Lambda}"),q("\\varXi","\\mathit{\\Xi}"),q("\\varPi","\\mathit{\\Pi}"),q("\\varSigma","\\mathit{\\Sigma}"),q("\\varUpsilon","\\mathit{\\Upsilon}"),q("\\varPhi","\\mathit{\\Phi}"),q("\\varPsi","\\mathit{\\Psi}"),q("\\varOmega","\\mathit{\\Omega}"),q("\\substack","\\begin{subarray}{c}#1\\end{subarray}"),q("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax"),q("\\boxed","\\fbox{$\\displaystyle{#1}$}"),q("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;"),q("\\implies","\\DOTSB\\;\\Longrightarrow\\;"),q("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;");const l5={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};q("\\dots",function(m){let h="\\dotso";const v=m.expandAfterFuture().text;return v in l5?h=l5[v]:(v.slice(0,4)==="\\not"||v in vt.math&&b.contains(["bin","rel"],vt.math[v].group))&&(h="\\dotsb"),h});const jp={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};q("\\dotso",function(m){return m.future().text in jp?"\\ldots\\,":"\\ldots"}),q("\\dotsc",function(m){const h=m.future().text;return h in jp&&h!==","?"\\ldots\\,":"\\ldots"}),q("\\cdots",function(m){return m.future().text in jp?"\\@cdots\\,":"\\@cdots"}),q("\\dotsb","\\cdots"),q("\\dotsm","\\cdots"),q("\\dotsi","\\!\\cdots"),q("\\dotsx","\\ldots\\,"),q("\\DOTSI","\\relax"),q("\\DOTSB","\\relax"),q("\\DOTSX","\\relax"),q("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax"),q("\\,","\\tmspace+{3mu}{.1667em}"),q("\\thinspace","\\,"),q("\\>","\\mskip{4mu}"),q("\\:","\\tmspace+{4mu}{.2222em}"),q("\\medspace","\\:"),q("\\;","\\tmspace+{5mu}{.2777em}"),q("\\thickspace","\\;"),q("\\!","\\tmspace-{3mu}{.1667em}"),q("\\negthinspace","\\!"),q("\\negmedspace","\\tmspace-{4mu}{.2222em}"),q("\\negthickspace","\\tmspace-{5mu}{.277em}"),q("\\enspace","\\kern.5em "),q("\\enskip","\\hskip.5em\\relax"),q("\\quad","\\hskip1em\\relax"),q("\\qquad","\\hskip2em\\relax"),q("\\tag","\\@ifstar\\tag@literal\\tag@paren"),q("\\tag@paren","\\tag@literal{({#1})}"),q("\\tag@literal",m=>{if(m.macros.get("\\df@tag"))throw new i("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"}),q("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}"),q("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)"),q("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}"),q("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1"),q("\\newline","\\\\\\relax"),q("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");const u5=xe(Ne["Main-Regular"]["T".charCodeAt(0)][1]-.7*Ne["Main-Regular"]["A".charCodeAt(0)][1]);q("\\LaTeX","\\textrm{\\html@mathml{"+("L\\kern-.36em\\raisebox{"+u5+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{LaTeX}}"),q("\\KaTeX","\\textrm{\\html@mathml{"+("K\\kern-.17em\\raisebox{"+u5+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{KaTeX}}"),q("\\hspace","\\@ifstar\\@hspacer\\@hspace"),q("\\@hspace","\\hskip #1\\relax"),q("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax"),q("\\ordinarycolon",":"),q("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}"),q("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}'),q("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}'),q("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}'),q("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}'),q("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}'),q("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}'),q("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}'),q("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}'),q("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}'),q("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}'),q("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}'),q("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}'),q("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}'),q("","\\dblcolon"),q("","\\eqcolon"),q("","\\coloneqq"),q("","\\eqqcolon"),q("","\\Coloneqq"),q("\\ratio","\\vcentcolon"),q("\\coloncolon","\\dblcolon"),q("\\colonequals","\\coloneqq"),q("\\coloncolonequals","\\Coloneqq"),q("\\equalscolon","\\eqqcolon"),q("\\equalscoloncolon","\\Eqqcolon"),q("\\colonminus","\\coloneq"),q("\\coloncolonminus","\\Coloneq"),q("\\minuscolon","\\eqcolon"),q("\\minuscoloncolon","\\Eqcolon"),q("\\coloncolonapprox","\\Colonapprox"),q("\\coloncolonsim","\\Colonsim"),q("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}"),q("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}"),q("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}"),q("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}"),q("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`}}"),q("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}"),q("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}"),q("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}"),q("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}"),q("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}"),q("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}"),q("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}"),q("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}"),q("\\gvertneqq","\\html@mathml{\\@gvertneqq}{}"),q("\\lvertneqq","\\html@mathml{\\@lvertneqq}{}"),q("\\ngeqq","\\html@mathml{\\@ngeqq}{}"),q("\\ngeqslant","\\html@mathml{\\@ngeqslant}{}"),q("\\nleqq","\\html@mathml{\\@nleqq}{}"),q("\\nleqslant","\\html@mathml{\\@nleqslant}{}"),q("\\nshortmid","\\html@mathml{\\@nshortmid}{}"),q("\\nshortparallel","\\html@mathml{\\@nshortparallel}{}"),q("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{}"),q("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{}"),q("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{}"),q("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{}"),q("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{}"),q("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{}"),q("\\imath","\\html@mathml{\\@imath}{}"),q("\\jmath","\\html@mathml{\\@jmath}{}"),q("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`}}"),q("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`}}"),q("","\\llbracket"),q("","\\rrbracket"),q("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`}}"),q("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`}}"),q("","\\lBrace"),q("","\\rBrace"),q("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`}}"),q("","\\minuso"),q("\\darr","\\downarrow"),q("\\dArr","\\Downarrow"),q("\\Darr","\\Downarrow"),q("\\lang","\\langle"),q("\\rang","\\rangle"),q("\\uarr","\\uparrow"),q("\\uArr","\\Uparrow"),q("\\Uarr","\\Uparrow"),q("\\N","\\mathbb{N}"),q("\\R","\\mathbb{R}"),q("\\Z","\\mathbb{Z}"),q("\\alef","\\aleph"),q("\\alefsym","\\aleph"),q("\\Alpha","\\mathrm{A}"),q("\\Beta","\\mathrm{B}"),q("\\bull","\\bullet"),q("\\Chi","\\mathrm{X}"),q("\\clubs","\\clubsuit"),q("\\cnums","\\mathbb{C}"),q("\\Complex","\\mathbb{C}"),q("\\Dagger","\\ddagger"),q("\\diamonds","\\diamondsuit"),q("\\empty","\\emptyset"),q("\\Epsilon","\\mathrm{E}"),q("\\Eta","\\mathrm{H}"),q("\\exist","\\exists"),q("\\harr","\\leftrightarrow"),q("\\hArr","\\Leftrightarrow"),q("\\Harr","\\Leftrightarrow"),q("\\hearts","\\heartsuit"),q("\\image","\\Im"),q("\\infin","\\infty"),q("\\Iota","\\mathrm{I}"),q("\\isin","\\in"),q("\\Kappa","\\mathrm{K}"),q("\\larr","\\leftarrow"),q("\\lArr","\\Leftarrow"),q("\\Larr","\\Leftarrow"),q("\\lrarr","\\leftrightarrow"),q("\\lrArr","\\Leftrightarrow"),q("\\Lrarr","\\Leftrightarrow"),q("\\Mu","\\mathrm{M}"),q("\\natnums","\\mathbb{N}"),q("\\Nu","\\mathrm{N}"),q("\\Omicron","\\mathrm{O}"),q("\\plusmn","\\pm"),q("\\rarr","\\rightarrow"),q("\\rArr","\\Rightarrow"),q("\\Rarr","\\Rightarrow"),q("\\real","\\Re"),q("\\reals","\\mathbb{R}"),q("\\Reals","\\mathbb{R}"),q("\\Rho","\\mathrm{P}"),q("\\sdot","\\cdot"),q("\\sect","\\S"),q("\\spades","\\spadesuit"),q("\\sub","\\subset"),q("\\sube","\\subseteq"),q("\\supe","\\supseteq"),q("\\Tau","\\mathrm{T}"),q("\\thetasym","\\vartheta"),q("\\weierp","\\wp"),q("\\Zeta","\\mathrm{Z}"),q("\\argmin","\\DOTSB\\operatorname*{arg\\,min}"),q("\\argmax","\\DOTSB\\operatorname*{arg\\,max}"),q("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits"),q("\\bra","\\mathinner{\\langle{#1}|}"),q("\\ket","\\mathinner{|{#1}\\rangle}"),q("\\braket","\\mathinner{\\langle{#1}\\rangle}"),q("\\Bra","\\left\\langle#1\\right|"),q("\\Ket","\\left|#1\\right\\rangle");const c5=m=>h=>{const v=h.consumeArg().tokens,S=h.consumeArg().tokens,C=h.consumeArg().tokens,L=h.consumeArg().tokens,I=h.macros.get("|"),$=h.macros.get("\\|");h.macros.beginGroup();const G=ce=>me=>{m&&(me.macros.set("|",I),C.length&&me.macros.set("\\|",$));let Ce=ce;return!ce&&C.length&&me.future().text==="|"&&(me.popToken(),Ce=!0),{tokens:Ce?C:S,numArgs:0}};h.macros.set("|",G(!1)),C.length&&h.macros.set("\\|",G(!0));const ne=h.consumeArg().tokens,ie=h.expandTokens([...L,...ne,...v]);return h.macros.endGroup(),{tokens:ie.reverse(),numArgs:0}};q("\\bra@ket",c5(!1)),q("\\bra@set",c5(!0)),q("\\Braket","\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}"),q("\\Set","\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}"),q("\\set","\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}"),q("\\angln","{\\angl n}"),q("\\blue","\\textcolor{##6495ed}{#1}"),q("\\orange","\\textcolor{##ffa500}{#1}"),q("\\pink","\\textcolor{##ff00af}{#1}"),q("\\red","\\textcolor{##df0030}{#1}"),q("\\green","\\textcolor{##28ae7b}{#1}"),q("\\gray","\\textcolor{gray}{#1}"),q("\\purple","\\textcolor{##9d38bd}{#1}"),q("\\blueA","\\textcolor{##ccfaff}{#1}"),q("\\blueB","\\textcolor{##80f6ff}{#1}"),q("\\blueC","\\textcolor{##63d9ea}{#1}"),q("\\blueD","\\textcolor{##11accd}{#1}"),q("\\blueE","\\textcolor{##0c7f99}{#1}"),q("\\tealA","\\textcolor{##94fff5}{#1}"),q("\\tealB","\\textcolor{##26edd5}{#1}"),q("\\tealC","\\textcolor{##01d1c1}{#1}"),q("\\tealD","\\textcolor{##01a995}{#1}"),q("\\tealE","\\textcolor{##208170}{#1}"),q("\\greenA","\\textcolor{##b6ffb0}{#1}"),q("\\greenB","\\textcolor{##8af281}{#1}"),q("\\greenC","\\textcolor{##74cf70}{#1}"),q("\\greenD","\\textcolor{##1fab54}{#1}"),q("\\greenE","\\textcolor{##0d923f}{#1}"),q("\\goldA","\\textcolor{##ffd0a9}{#1}"),q("\\goldB","\\textcolor{##ffbb71}{#1}"),q("\\goldC","\\textcolor{##ff9c39}{#1}"),q("\\goldD","\\textcolor{##e07d10}{#1}"),q("\\goldE","\\textcolor{##a75a05}{#1}"),q("\\redA","\\textcolor{##fca9a9}{#1}"),q("\\redB","\\textcolor{##ff8482}{#1}"),q("\\redC","\\textcolor{##f9685d}{#1}"),q("\\redD","\\textcolor{##e84d39}{#1}"),q("\\redE","\\textcolor{##bc2612}{#1}"),q("\\maroonA","\\textcolor{##ffbde0}{#1}"),q("\\maroonB","\\textcolor{##ff92c6}{#1}"),q("\\maroonC","\\textcolor{##ed5fa6}{#1}"),q("\\maroonD","\\textcolor{##ca337c}{#1}"),q("\\maroonE","\\textcolor{##9e034e}{#1}"),q("\\purpleA","\\textcolor{##ddd7ff}{#1}"),q("\\purpleB","\\textcolor{##c6b9fc}{#1}"),q("\\purpleC","\\textcolor{##aa87ff}{#1}"),q("\\purpleD","\\textcolor{##7854ab}{#1}"),q("\\purpleE","\\textcolor{##543b78}{#1}"),q("\\mintA","\\textcolor{##f5f9e8}{#1}"),q("\\mintB","\\textcolor{##edf2df}{#1}"),q("\\mintC","\\textcolor{##e0e5cc}{#1}"),q("\\grayA","\\textcolor{##f6f7f7}{#1}"),q("\\grayB","\\textcolor{##f0f1f2}{#1}"),q("\\grayC","\\textcolor{##e3e5e6}{#1}"),q("\\grayD","\\textcolor{##d6d8da}{#1}"),q("\\grayE","\\textcolor{##babec2}{#1}"),q("\\grayF","\\textcolor{##888d93}{#1}"),q("\\grayG","\\textcolor{##626569}{#1}"),q("\\grayH","\\textcolor{##3b3e40}{#1}"),q("\\grayI","\\textcolor{##21242c}{#1}"),q("\\kaBlue","\\textcolor{##314453}{#1}"),q("\\kaGreen","\\textcolor{##71B307}{#1}");const f5={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0};class ZC{constructor(h,v,S){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=v,this.expansionCount=0,this.feed(h),this.macros=new XC(KC,v.macros),this.mode=S,this.stack=[]}feed(h){this.lexer=new s5(h,this.settings)}switchMode(h){this.mode=h}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){return this.stack.length===0&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]}popToken(){return this.future(),this.stack.pop()}pushToken(h){this.stack.push(h)}pushTokens(h){this.stack.push(...h)}scanArgument(h){let v,S,C;if(h){if(this.consumeSpaces(),this.future().text!=="[")return null;v=this.popToken(),{tokens:C,end:S}=this.consumeArg(["]"])}else({tokens:C,start:v,end:S}=this.consumeArg());return this.pushToken(new Kn("EOF",S.loc)),this.pushTokens(C),v.range(S,"")}consumeSpaces(){for(;this.future().text===" ";)this.stack.pop()}consumeArg(h){const v=[],S=h&&h.length>0;S||this.consumeSpaces();const C=this.future();let L,I=0,$=0;do{if(L=this.popToken(),v.push(L),L.text==="{")++I;else if(L.text==="}"){if(--I,I===-1)throw new i("Extra }",L)}else if(L.text==="EOF")throw new i("Unexpected end of input in a macro argument, expected '"+(h&&S?h[$]:"}")+"'",L);if(h&&S)if((I===0||I===1&&h[$]==="{")&&L.text===h[$]){if(++$,$===h.length){v.splice(-$,$);break}}else $=0}while(I!==0||S);return C.text==="{"&&v[v.length-1].text==="}"&&(v.pop(),v.shift()),v.reverse(),{tokens:v,start:C,end:L}}consumeArgs(h,v){if(v){if(v.length!==h+1)throw new i("The length of delimiters doesn't match the number of args!");const C=v[0];for(let L=0;L<C.length;L++){const I=this.popToken();if(C[L]!==I.text)throw new i("Use of the macro doesn't match its definition",I)}}const S=[];for(let C=0;C<h;C++)S.push(this.consumeArg(v&&v[C+1]).tokens);return S}countExpansion(h){if(this.expansionCount+=h,this.expansionCount>this.settings.maxExpand)throw new i("Too many expansions: infinite loop or need to increase maxExpand setting")}expandOnce(h){const v=this.popToken(),S=v.text,C=v.noexpand?null:this._getExpansion(S);if(C==null||h&&C.unexpandable){if(h&&C==null&&S[0]==="\\"&&!this.isDefined(S))throw new i("Undefined control sequence: "+S);return this.pushToken(v),!1}this.countExpansion(1);let L=C.tokens;const I=this.consumeArgs(C.numArgs,C.delimiters);if(C.numArgs){L=L.slice();for(let $=L.length-1;$>=0;--$){let G=L[$];if(G.text==="#"){if($===0)throw new i("Incomplete placeholder at end of macro body",G);if(G=L[--$],G.text==="#")L.splice($+1,1);else if(/^[1-9]$/.test(G.text))L.splice($,2,...I[+G.text-1]);else throw new i("Not a valid argument number",G)}}}return this.pushTokens(L),L.length}expandAfterFuture(){return this.expandOnce(),this.future()}expandNextToken(){for(;;)if(this.expandOnce()===!1){const h=this.stack.pop();return h.treatAsRelax&&(h.text="\\relax"),h}throw new Error}expandMacro(h){return this.macros.has(h)?this.expandTokens([new Kn(h)]):void 0}expandTokens(h){const v=[],S=this.stack.length;for(this.pushTokens(h);this.stack.length>S;)if(this.expandOnce(!0)===!1){const C=this.stack.pop();C.treatAsRelax&&(C.noexpand=!1,C.treatAsRelax=!1),v.push(C)}return this.countExpansion(v.length),v}expandMacroAsText(h){const v=this.expandMacro(h);return v&&v.map(S=>S.text).join("")}_getExpansion(h){const v=this.macros.get(h);if(v==null)return v;if(h.length===1){const C=this.lexer.catcodes[h];if(C!=null&&C!==13)return}const S=typeof v=="function"?v(this):v;if(typeof S=="string"){let C=0;if(S.indexOf("#")!==-1){const ne=S.replace(/##/g,"");for(;ne.indexOf("#"+(C+1))!==-1;)++C}const L=new s5(S,this.settings),I=[];let $=L.lex();for(;$.text!=="EOF";)I.push($),$=L.lex();return I.reverse(),{tokens:I,numArgs:C}}return S}isDefined(h){return this.macros.has(h)||Mi.hasOwnProperty(h)||vt.math.hasOwnProperty(h)||vt.text.hasOwnProperty(h)||f5.hasOwnProperty(h)}isExpandable(h){const v=this.macros.get(h);return v!=null?typeof v=="string"||typeof v=="function"||!v.unexpandable:Mi.hasOwnProperty(h)&&!Mi[h].primitive}}const d5=/^[]/,P0=Object.freeze({"":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"a","":"e","":"h","":"i","":"j","":"k","":"l","":"m","":"n","":"o","":"p","":"r","":"s","":"t","":"u","":"v","":"x","":"","":"","":"","":"","":"","":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"A","":"B","":"D","":"E","":"G","":"H","":"I","":"J","":"K","":"L","":"M","":"N","":"O","":"P","":"R","":"T","":"U","":"V","":"W","":"a","":"b","":"c","":"d","":"e","":"f","":"g",:"h","":"i",:"j","":"k",:"l","":"m",:"n","":"o","":"p",:"r",:"s","":"t","":"u","":"v",:"w",:"x",:"y","":"z","":"","":"","":"","":"","":"","":""}),Up={"":{text:"\\'",math:"\\acute"},"":{text:"\\`",math:"\\grave"},"":{text:'\\"',math:"\\ddot"},"":{text:"\\~",math:"\\tilde"},"":{text:"\\=",math:"\\bar"},"":{text:"\\u",math:"\\breve"},"":{text:"\\v",math:"\\check"},"":{text:"\\^",math:"\\hat"},"":{text:"\\.",math:"\\dot"},"":{text:"\\r",math:"\\mathring"},"":{text:"\\H"},"":{text:"\\c"}},h5={:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"b",:"c",:"c",:"c",:"c",:"c",:"c",:"d",:"d",:"d",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"f",:"g",:"g",:"g",:"g",:"g",:"g",:"g",:"h",:"h",:"h",:"h",:"h",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"j",:"j",:"k",:"k",:"k",:"l",:"l",:"l",:"m",:"m",:"n",:"n",:"n",:"n",:"n",:"n",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"p",:"p",:"r",:"r",:"r",:"r",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"t",:"t",:"t",:"t",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"v",:"w",:"w",:"w",:"w",:"w",:"w",:"x",:"x",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"z",:"z",:"z",:"z",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"B",:"C",:"C",:"C",:"C",:"C",:"C",:"D",:"D",:"D",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"F",:"G",:"G",:"G",:"G",:"G",:"G",:"G",:"H",:"H",:"H",:"H",:"H",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"J",:"K",:"K",:"K",:"L",:"L",:"L",:"M",:"M",:"N",:"N",:"N",:"N",:"N",:"N",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"P",:"P",:"R",:"R",:"R",:"R",:"S",:"S",:"S",:"S",:"S",:"S",:"S",:"T",:"T",:"T",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"V",:"W",:"W",:"W",:"W",:"W",:"X",:"X",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Z",:"Z",:"Z",:"Z",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};class A0{constructor(h,v){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new ZC(h,v,this.mode),this.settings=v,this.leftrightDepth=0}expect(h,v){if(v===void 0&&(v=!0),this.fetch().text!==h)throw new i("Expected '"+h+"', got '"+this.fetch().text+"'",this.fetch());v&&this.consume()}consume(){this.nextToken=null}fetch(){return this.nextToken==null&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken}switchMode(h){this.mode=h,this.gullet.switchMode(h)}parse(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{const h=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),h}finally{this.gullet.endGroups()}}subparse(h){const v=this.nextToken;this.consume(),this.gullet.pushToken(new Kn("}")),this.gullet.pushTokens(h);const S=this.parseExpression(!1);return this.expect("}"),this.nextToken=v,S}parseExpression(h,v){const S=[];for(;;){this.mode==="math"&&this.consumeSpaces();const C=this.fetch();if(A0.endOfExpression.indexOf(C.text)!==-1||v&&C.text===v||h&&Mi[C.text]&&Mi[C.text].infix)break;const L=this.parseAtom(v);if(L){if(L.type==="internal")continue}else break;S.push(L)}return this.mode==="text"&&this.formLigatures(S),this.handleInfixNodes(S)}handleInfixNodes(h){let v=-1,S;for(let C=0;C<h.length;C++)if(h[C].type==="infix"){if(v!==-1)throw new i("only one infix operator per group",h[C].token);v=C,S=h[C].replaceWith}if(v!==-1&&S){let C,L;const I=h.slice(0,v),$=h.slice(v+1);I.length===1&&I[0].type==="ordgroup"?C=I[0]:C={type:"ordgroup",mode:this.mode,body:I},$.length===1&&$[0].type==="ordgroup"?L=$[0]:L={type:"ordgroup",mode:this.mode,body:$};let G;return S==="\\\\abovefrac"?G=this.callFunction(S,[C,h[v],L],[]):G=this.callFunction(S,[C,L],[]),[G]}else return h}handleSupSubscript(h){const v=this.fetch(),S=v.text;this.consume(),this.consumeSpaces();const C=this.parseGroup(h);if(!C)throw new i("Expected group after '"+S+"'",v);return C}formatUnsupportedCmd(h){const v=[];for(let L=0;L<h.length;L++)v.push({type:"textord",mode:"text",text:h[L]});const S={type:"text",mode:this.mode,body:v};return{type:"color",mode:this.mode,color:this.settings.errorColor,body:[S]}}parseAtom(h){const v=this.parseGroup("atom",h);if(this.mode==="text")return v;let S,C;for(;;){this.consumeSpaces();const L=this.fetch();if(L.text==="\\limits"||L.text==="\\nolimits"){if(v&&v.type==="op"){const I=L.text==="\\limits";v.limits=I,v.alwaysHandleSupSub=!0}else if(v&&v.type==="operatorname")v.alwaysHandleSupSub&&(v.limits=L.text==="\\limits");else throw new i("Limit controls must follow a math operator",L);this.consume()}else if(L.text==="^"){if(S)throw new i("Double superscript",L);S=this.handleSupSubscript("superscript")}else if(L.text==="_"){if(C)throw new i("Double subscript",L);C=this.handleSupSubscript("subscript")}else if(L.text==="'"){if(S)throw new i("Double superscript",L);const I={type:"textord",mode:this.mode,text:"\\prime"},$=[I];for(this.consume();this.fetch().text==="'";)$.push(I),this.consume();this.fetch().text==="^"&&$.push(this.handleSupSubscript("superscript")),S={type:"ordgroup",mode:this.mode,body:$}}else if(P0[L.text]){const I=d5.test(L.text),$=[];for($.push(new Kn(P0[L.text])),this.consume();;){const ne=this.fetch().text;if(!P0[ne]||d5.test(ne)!==I)break;$.unshift(new Kn(P0[ne])),this.consume()}const G=this.subparse($);I?C={type:"ordgroup",mode:"math",body:G}:S={type:"ordgroup",mode:"math",body:G}}else break}return S||C?{type:"supsub",mode:this.mode,base:v,sup:S,sub:C}:v}parseFunction(h,v){const S=this.fetch(),C=S.text,L=Mi[C];if(!L)return null;if(this.consume(),v&&v!=="atom"&&!L.allowedInArgument)throw new i("Got function '"+C+"' with no arguments"+(v?" as "+v:""),S);if(this.mode==="text"&&!L.allowedInText)throw new i("Can't use function '"+C+"' in text mode",S);if(this.mode==="math"&&L.allowedInMath===!1)throw new i("Can't use function '"+C+"' in math mode",S);const{args:I,optArgs:$}=this.parseArguments(C,L);return this.callFunction(C,I,$,S,h)}callFunction(h,v,S,C,L){const I={funcName:h,parser:this,token:C,breakOnTokenText:L},$=Mi[h];if($&&$.handler)return $.handler(I,v,S);throw new i("No function handler for "+h)}parseArguments(h,v){const S=v.numArgs+v.numOptionalArgs;if(S===0)return{args:[],optArgs:[]};const C=[],L=[];for(let I=0;I<S;I++){let $=v.argTypes&&v.argTypes[I];const G=I<v.numOptionalArgs;(v.primitive&&$==null||v.type==="sqrt"&&I===1&&L[0]==null)&&($="primitive");const ne=this.parseGroupOfType("argument to '"+h+"'",$,G);if(G)L.push(ne);else if(ne!=null)C.push(ne);else throw new i("Null argument, please report this as a bug")}return{args:C,optArgs:L}}parseGroupOfType(h,v,S){switch(v){case"color":return this.parseColorGroup(S);case"size":return this.parseSizeGroup(S);case"url":return this.parseUrlGroup(S);case"math":case"text":return this.parseArgumentGroup(S,v);case"hbox":{const C=this.parseArgumentGroup(S,"text");return C!=null?{type:"styling",mode:C.mode,body:[C],style:"text"}:null}case"raw":{const C=this.parseStringGroup("raw",S);return C!=null?{type:"raw",mode:"text",string:C.text}:null}case"primitive":{if(S)throw new i("A primitive argument cannot be optional");const C=this.parseGroup(h);if(C==null)throw new i("Expected group as "+h,this.fetch());return C}case"original":case null:case void 0:return this.parseArgumentGroup(S);default:throw new i("Unknown group type as "+h,this.fetch())}}consumeSpaces(){for(;this.fetch().text===" ";)this.consume()}parseStringGroup(h,v){const S=this.gullet.scanArgument(v);if(S==null)return null;let C="",L;for(;(L=this.fetch()).text!=="EOF";)C+=L.text,this.consume();return this.consume(),S.text=C,S}parseRegexGroup(h,v){const S=this.fetch();let C=S,L="",I;for(;(I=this.fetch()).text!=="EOF"&&h.test(L+I.text);)C=I,L+=C.text,this.consume();if(L==="")throw new i("Invalid "+v+": '"+S.text+"'",S);return S.range(C,L)}parseColorGroup(h){const v=this.parseStringGroup("color",h);if(v==null)return null;const S=/^(#[a-f0-9]{3}|#?[a-f0-9]{6}|[a-z]+)$/i.exec(v.text);if(!S)throw new i("Invalid color: '"+v.text+"'",v);let C=S[0];return/^[0-9a-f]{6}$/i.test(C)&&(C="#"+C),{type:"color-token",mode:this.mode,color:C}}parseSizeGroup(h){let v,S=!1;if(this.gullet.consumeSpaces(),!h&&this.gullet.future().text!=="{"?v=this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size"):v=this.parseStringGroup("size",h),!v)return null;!h&&v.text.length===0&&(v.text="0pt",S=!0);const C=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(v.text);if(!C)throw new i("Invalid size: '"+v.text+"'",v);const L={number:+(C[1]+C[2]),unit:C[3]};if(!ke(L))throw new i("Invalid unit: '"+L.unit+"'",v);return{type:"size",mode:this.mode,value:L,isBlank:S}}parseUrlGroup(h){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);const v=this.parseStringGroup("url",h);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),v==null)return null;const S=v.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:S}}parseArgumentGroup(h,v){const S=this.gullet.scanArgument(h);if(S==null)return null;const C=this.mode;v&&this.switchMode(v),this.gullet.beginGroup();const L=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();const I={type:"ordgroup",mode:this.mode,loc:S.loc,body:L};return v&&this.switchMode(C),I}parseGroup(h,v){const S=this.fetch(),C=S.text;let L;if(C==="{"||C==="\\begingroup"){this.consume();const I=C==="{"?"}":"\\endgroup";this.gullet.beginGroup();const $=this.parseExpression(!1,I),G=this.fetch();this.expect(I),this.gullet.endGroup(),L={type:"ordgroup",mode:this.mode,loc:In.range(S,G),body:$,semisimple:C==="\\begingroup"||void 0}}else if(L=this.parseFunction(v,h)||this.parseSymbol(),L==null&&C[0]==="\\"&&!f5.hasOwnProperty(C)){if(this.settings.throwOnError)throw new i("Undefined control sequence: "+C,S);L=this.formatUnsupportedCmd(C),this.consume()}return L}formLigatures(h){let v=h.length-1;for(let S=0;S<v;++S){const C=h[S],L=C.text;L==="-"&&h[S+1].text==="-"&&(S+1<v&&h[S+2].text==="-"?(h.splice(S,3,{type:"textord",mode:"text",loc:In.range(C,h[S+2]),text:"---"}),v-=2):(h.splice(S,2,{type:"textord",mode:"text",loc:In.range(C,h[S+1]),text:"--"}),v-=1)),(L==="'"||L==="`")&&h[S+1].text===L&&(h.splice(S,2,{type:"textord",mode:"text",loc:In.range(C,h[S+1]),text:L+L}),v-=1)}}parseSymbol(){const h=this.fetch();let v=h.text;if(/^\\verb[^a-zA-Z]/.test(v)){this.consume();let L=v.slice(5);const I=L.charAt(0)==="*";if(I&&(L=L.slice(1)),L.length<2||L.charAt(0)!==L.slice(-1))throw new i(`\\verb assertion failed --
                    please report what input caused this bug`);return L=L.slice(1,-1),{type:"verb",mode:"text",body:L,star:I}}h5.hasOwnProperty(v[0])&&!vt[this.mode][v[0]]&&(this.settings.strict&&this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+v[0]+'" used in math mode',h),v=h5[v[0]]+v.slice(1));const S=GC.exec(v);S&&(v=v.substring(0,S.index),v==="i"?v="":v==="j"&&(v=""));let C;if(vt[this.mode][v]){this.settings.strict&&this.mode==="math"&&Es.indexOf(v)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+v[0]+'" used in math mode',h);const L=vt[this.mode][v].group,I=In.range(h);let $;if(Gn.hasOwnProperty(L)){const G=L;$={type:"atom",mode:this.mode,family:G,loc:I,text:v}}else $={type:L,mode:this.mode,loc:I,text:v};C=$}else if(v.charCodeAt(0)>=128)this.settings.strict&&(ge(v.charCodeAt(0))?this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+v[0]+'" used in math mode',h):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+v[0]+'"'+(" ("+v.charCodeAt(0)+")"),h)),C={type:"textord",mode:"text",loc:In.range(h),text:v};else return null;if(this.consume(),S)for(let L=0;L<S[0].length;L++){const I=S[0][L];if(!Up[I])throw new i("Unknown accent ' "+I+"'",h);const $=Up[I][this.mode]||Up[I].text;if(!$)throw new i("Accent "+I+" unsupported in "+this.mode+" mode",h);C={type:"accent",mode:this.mode,loc:In.range(h),label:$,isStretchy:!1,isShifty:!0,base:C}}return C}}A0.endOfExpression=["}","\\endgroup","\\end","\\right","&"];var Wp=function(m,h){if(!(typeof m=="string"||m instanceof String))throw new TypeError("KaTeX can only parse string typed expression");const v=new A0(m,h);delete v.gullet.macros.current["\\df@tag"];let S=v.parse();if(delete v.gullet.macros.current["\\current@color"],delete v.gullet.macros.current["\\color"],v.gullet.macros.get("\\df@tag")){if(!h.displayMode)throw new i("\\tag works only in display equations");S=[{type:"tag",mode:"text",body:S,tag:v.subparse([new Kn("\\df@tag")])}]}return S};let p5=function(m,h,v){h.textContent="";const S=Gp(m,v).toNode();h.appendChild(S)};typeof document<"u"&&document.compatMode!=="CSS1Compat"&&(typeof console<"u"&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),p5=function(){throw new i("KaTeX doesn't work in quirks mode.")});const QC=function(m,h){return Gp(m,h).toMarkup()},JC=function(m,h){const v=new k(h);return Wp(m,v)},g5=function(m,h,v){if(v.throwOnError||!(m instanceof i))throw m;const S=de.makeSpan(["katex-error"],[new jt(h)]);return S.setAttribute("title",m.toString()),S.setAttribute("style","color:"+v.errorColor),S},Gp=function(m,h){const v=new k(h);try{const S=Wp(m,v);return pC(S,m,v)}catch(S){return g5(S,m,v)}};var eT={version:"0.16.10",render:p5,renderToString:QC,ParseError:i,SETTINGS_SCHEMA:w,__parse:JC,__renderToDomTree:Gp,__renderToHTMLTree:function(m,h){const v=new k(h);try{const S=Wp(m,v);return gC(S,m,v)}catch(S){return g5(S,m,v)}},__setFontMetrics:Ke,__defineSymbol:T,__defineFunction:Be,__defineMacro:q,__domTree:{Span:Ye,Anchor:Dt,SymbolNode:jt,SvgNode:Ot,PathNode:$t,LineNode:fr}},tT=eT;return n=n.default,n}()})});WS.ParseError;var WF=WS.renderToString;function GF(t,e,r){for(var n=r,a=0,i=t.length;n<e.length;){var s=e[n];if(a<=0&&e.slice(n,n+i)===t)return n;s==="\\"?n++:s==="{"?a++:s==="}"&&a--,n++}return-1}function YF(t){return t.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")}var XF=/^\\begin{/;function KF(t,e){for(var r,n=[],a=new RegExp("("+e.map(function(l){return YF(l.left)}).join("|")+")");r=t.search(a),r!==-1;){r>0&&(n.push({type:"text",data:t.slice(0,r)}),t=t.slice(r));var i=e.findIndex(function(l){return t.startsWith(l.left)});if(r=GF(e[i].right,t,e[i].left.length),r===-1)break;var s=t.slice(0,r+e[i].right.length),o=XF.test(s)?s:t.slice(e[i].left.length,r);n.push({type:"math",data:o,rawData:s,display:e[i].display}),t=t.slice(r+e[i].right.length)}return t!==""&&n.push({type:"text",data:t}),n}function ZF(t,e,r,n){for(var a=KF(t,e),i=[],s=0;s<a.length;s++)if(a[s].type==="text")i.push(a[s].data);else{var o=a[s].data,l=a[s].display;try{var u=WF(o,{displayMode:l,macros:n});i.push(u)}catch(c){if(r)throw c;i.push(a[s].data)}}return i.join("")}VF(`.___Latex___1nfc2_1 ._latex_1nfc2_1 {
  font: inherit
}
`,{});var QF=[{left:"$$",right:"$$",display:!0},{left:"\\(",right:"\\)",display:!1},{left:"$",right:"$",display:!1},{left:"\\[",right:"\\]",display:!0}];function JF(t){var e=t.children,r=t.delimiters,n=r===void 0?QF:r,a=t.strict,i=a===void 0?!1:a,s=t.macros,o=ZF(Array.isArray(e)?e.join(""):e,n,i,s);return Q.createElement("span",{className:"__Latex__",dangerouslySetInnerHTML:{__html:o}})}const e$=(t,e,r)=>(t.reduce((a,i)=>{const s=e*i.distance+r;return a+Math.pow(i.power-s,2)},0)/t.length||0).toFixed(2),t$=t=>{const e=t.length;if(e<2)return{slope:0,intercept:0};const r=t.reduce((l,u)=>l+u.distance,0),n=t.reduce((l,u)=>l+u.power,0),a=t.reduce((l,u)=>l+u.distance*u.distance,0),i=t.reduce((l,u)=>l+u.distance*u.power,0),s=(e*i-r*n)/(e*a-r*r),o=(n-s*r)/e;return{m:Math.round(s*100)/100,b:Math.round(o*100)/100}},r$=({active:t,handleClose:e,pingpongerSettings:r,setPingpongerSettings:n})=>{const{t:a}=Qr();return Y.jsx(A2,{$active:t,handleClose:e,children:Y.jsxs(Y.Fragment,{children:[Y.jsx(Tt.H3,{children:a("Settings.title")}),Y.jsxs(mf,{children:[Y.jsx(Tt.Text,{children:a("Settings.distanceSensorPort")}),Y.jsx(Fa,{options:ts.map(i=>({id:i,text:i})),currentOptionId:r.distanceSensorPort,handleOptionSelect:i=>n(s=>({...s,distanceSensorPort:i})),width:"100px"})]}),Y.jsxs(mf,{children:[Y.jsx(Tt.Text,{children:a("Settings.leftMotorPort")}),Y.jsx(Fa,{options:ts.map(i=>({id:i,text:i})),currentOptionId:r.leftMotorPort,handleOptionSelect:i=>n(s=>({...s,leftMotorPort:i})),width:"100px"})]}),Y.jsxs(mf,{children:[Y.jsx(Tt.Text,{children:a("Settings.rightMotorPort")}),Y.jsx(Fa,{options:ts.map(i=>({id:i,text:i})),currentOptionId:r.rightMotorPort,handleOptionSelect:i=>n(s=>({...s,rightMotorPort:i})),width:"100px"})]}),Y.jsxs(mf,{children:[Y.jsx(Tt.Text,{children:a("Settings.isReversed")}),Y.jsx(Oc,{value:r.isInverted,handleChange:()=>n(i=>({...i,isInverted:!r.isInverted}))})]})]})})},mf=Re.div.withConfig({displayName:"PingpongerSettingsPopup__Row",componentId:"sc-1msnvix-0"})(["display:flex;column-gap:15px;align-items:center;"]),n$=[],a$={distanceSensorPort:"F",leftMotorPort:"A",rightMotorPort:"B",isInverted:!0},i$=()=>{const{t}=Qr(),{sendTunnelData:e,subscribe:r}=Uh(),n=Q.useRef(null),[a,i]=Q.useState(()=>xr("pingPonger_data",n$)),[s,o]=Q.useState(()=>xr("pingPonger_modelMode","training")),[l,u]=Q.useState(()=>xr("pingPonger_inferDistance",null)),[c,f]=Q.useState(()=>xr("pingPonger_currentPower",20)),[d,p]=Q.useState(()=>xr("pingPonger_newPower",20)),[g,y]=Q.useState(()=>xr("pingPonger_isBestParameters",!1)),[x,b]=Q.useState(()=>xr("pingPonger_m",1)),[w,_]=Q.useState(()=>xr("pingPonger_b",-10)),[k,E]=Q.useState(!1),[D,M]=Q.useState(a$),A=Q.useMemo(()=>e$(a,x,w),[x,w,a]),R=Z=>{var ue,pe,ge;Z?(pe=n.current)==null||pe.setActiveElements([{datasetIndex:0,index:a.findIndex(fe=>fe.id===Z)}]):(ue=n.current)==null||ue.setActiveElements([]),(ge=n.current)==null||ge.update("none")},O=()=>{e({action:"pitch_ball",payload:{}})},N=()=>{e({action:"measure_distance",payload:{}})},B=Z=>{i(ue=>ue.filter(pe=>pe.id!==Z)),e({action:"delete_datapoint",payload:{id:Z}})},F=async()=>{r(ee),e({action:"code_start",payload:{datapoints:a,mode:s,power:c,infer_distance:l}}).then(()=>_t.success(t("PingPonger.toasts.codeStarted"),{position:"bottom-left"}))},V=Z=>{if(Z==="infer"&&a.length<2){_t.warn(t("PingPonger.toasts.min2Points"),{position:"bottom-left"});return}o(Z),u(null),e({action:"change_mode",payload:{mode:Z}})},X=Z=>{Z.preventDefault(),f(d),e({action:"change_power",payload:{power:d}})},K=()=>{const{m:Z,b:ue}=t$(a);Z!==void 0&&ue!==void 0&&(b(Z),_(ue),y(!0))},U=Z=>{b(Z),y(!1)},H=Z=>{_(Z),y(!1)},ee=Z=>{const ue=Z.payload;switch(Z.action){case"add_point":const pe={id:ue.id,power:ue.power,distance:ue.distance};i(ge=>[...ge,pe]);break;case"infer_distance":u(()=>ue.distance);break}},re=Q.useMemo(()=>R2.crawler(D),[D]);Q.useEffect(()=>{g&&K()},[a]),Q.useEffect(()=>{localStorage.setItem("pingPonger_data",JSON.stringify(a))},[a]),Q.useEffect(()=>{localStorage.setItem("pingPonger_modelMode",JSON.stringify(s))},[s]),Q.useEffect(()=>{localStorage.setItem("pingPonger_inferDistance",JSON.stringify(l))},[l]),Q.useEffect(()=>{localStorage.setItem("pingPonger_currentPower",JSON.stringify(c))},[c]),Q.useEffect(()=>{localStorage.setItem("pingPonger_newPower",JSON.stringify(d))},[d]),Q.useEffect(()=>{localStorage.setItem("pingPonger_isBestParameters",JSON.stringify(g))},[g]),Q.useEffect(()=>{localStorage.setItem("pingPonger_m",JSON.stringify(x))},[x]),Q.useEffect(()=>{localStorage.setItem("pingPonger_b",JSON.stringify(w))},[w]);const W=()=>Y.jsxs(N1,{children:[Y.jsx(Sx,{children:Y.jsx(oi,{text:t("PingPonger.launch"),icon:Y.jsx(VB,{}),onClick:O})}),Y.jsx(Sx,{children:Y.jsx(oi,{text:t("PingPonger.measure"),icon:Y.jsx(jB,{}),onClick:N})})]});return Y.jsxs(s$,{children:[Y.jsx(Tt.H1,{children:t("PingPonger.title")}),Y.jsx(Tt.Text,{children:t("PingPonger.description")}),Y.jsx(L2,{code:re,onStart:F}),Y.jsxs(o$,{children:[Y.jsx("div",{children:Y.jsx(AF,{chartRef:n,isInfer:s==="infer",regressionData:a,m:x,b:w,inferDistance:l})}),Y.jsxs(u$,{children:[Y.jsx(P2,{currentId:s,segments:jS.map(Z=>({id:Z,text:t(`PingPonger.modelModes.${Z}`)})),handleSelectOption:V}),Y.jsx(W,{}),s==="infer"?Y.jsxs(_x,{children:[Y.jsxs(N1,{children:[Y.jsx(Tt.H3,{children:t("PingPonger.linearRegression")}),Y.jsx(oi,{text:t("PingPonger.calculateBest"),icon:Y.jsx($B,{}),onClick:K,active:a.length>=2})]}),Y.jsxs(c$,{children:[Y.jsx(ml,{value:x,label:t("PingPonger.parameters.slope"),minValue:-3,maxValue:3,onChange:U,stepDevisor:100,writeValue:!0}),Y.jsx(ml,{value:w,label:t("PingPonger.parameters.intercept"),minValue:-10,maxValue:50,onChange:H,stepDevisor:100,writeValue:!0})]}),Y.jsx(f$,{children:Y.jsx(JF,{children:`$${t("PingPonger.loss")} = ${A}$`})})]}):Y.jsx(_x,{children:Y.jsxs(l$,{children:[Y.jsx(ml,{value:d,label:`${t("PingPonger.power")}: ${c}%  ${d}%`,minValue:20,maxValue:100,onChange:Z=>p(Z)}),Y.jsx(oi,{text:t("PingPonger.sendNewPower"),icon:Y.jsx(FB,{}),onClick:X,type:"submit"})]})}),Y.jsx(OF,{data:a,handleRemoveData:B,handleTableRowHover:R})]})]}),Y.jsx(r$,{active:k,handleClose:()=>E(!1),pingpongerSettings:D,setPingpongerSettings:M})]})},s$=Re.div.withConfig({displayName:"ping-ponger__Wrapper",componentId:"sc-crvubh-0"})([""]),o$=Re.div.withConfig({displayName:"ping-ponger__DiagramRow",componentId:"sc-crvubh-1"})(["display:grid;grid-template-columns:1fr 1fr;column-gap:30px;.bigKatex .katex{font-size:24px;}.katex{font-size:20px;}"]),_x=Re.div.withConfig({displayName:"ping-ponger__ControlsWrapper",componentId:"sc-crvubh-2"})(["display:flex;flex-direction:column;justify-content:flex-start;align-items:flex-start;width:100%;gap:20px;"]),l$=Re.form.withConfig({displayName:"ping-ponger__SelectPowerForm",componentId:"sc-crvubh-3"})(["width:100%;display:flex;align-items:center;justify-content:space-between;gap:20px;margin:10px 0;"]),N1=Re.div.withConfig({displayName:"ping-ponger__Row",componentId:"sc-crvubh-4"})(["width:100%;display:flex;align-items:center;justify-content:space-between;gap:20px;"]),Sx=Re.div.withConfig({displayName:"ping-ponger__ButtonWrapper",componentId:"sc-crvubh-5"})(["flex:1;display:flex;& > button{flex:1 !important;}"]),u$=Re.div.withConfig({displayName:"ping-ponger__ControlsColumn",componentId:"sc-crvubh-6"})(["display:flex;width:100%;flex-direction:column;gap:20px;"]),c$=Re(N1).withConfig({displayName:"ping-ponger__SlidersRow",componentId:"sc-crvubh-7"})([""]),f$=Re.div.withConfig({displayName:"ping-ponger__Center",componentId:"sc-crvubh-8"})(["width:100%;display:flex;align-items:center;justify-content:center;margin-top:30px;"]),d$=({table:t,currentStateIx:e,currentActionIx:r})=>{const{t:n}=Qr();return Y.jsxs(h$,{children:[t.map((a,i)=>[a.map((s,o)=>Y.jsx(Kh,{$value:t[i][o],style:{gridArea:`cell${i+1}-${o+1}`},$active:e===i&&r==o,children:Y.jsx("p",{children:s===void 0?"":s>0?`+${Math.round(s*100)/100}`:Math.round(s*100)/100})},`${i}-${o}`)),Y.jsx(kx,{style:{gridArea:`state${i+1}`},$bgImage:`/crawler/state_${i}.png`,$active:e===i},`row-image-${i+1}`),Y.jsx(kx,{style:{gridArea:`action${i+1}`},$bgImage:`/crawler/state_${i}.png`,$active:r===i},`column-image-${i+1}`)]),Y.jsx(Ex,{style:{gridArea:"a"},children:Y.jsx(Cx,{children:n("Crawler.table.columnsHeader")})}),Y.jsx(Ex,{style:{gridArea:"b"},children:Y.jsx(Cx,{style:{textOrientation:"mixed",writingMode:"sideways-lr"},children:n("Crawler.table.rowsHeader")})}),Y.jsx(p$,{})]})},h$=Re.div.withConfig({displayName:"CrawlerTable__Body",componentId:"sc-1m092ps-0"})(['width:100%;aspect-ratio:1/1;display:grid;grid-template-areas:"x x a a a a" "x x action1 action2 action3 action4" "b state1 cell1-1 cell1-2 cell1-3 cell1-4" "b state2 cell2-1 cell2-2 cell2-3 cell2-4" "b state3 cell3-1 cell3-2 cell3-3 cell3-4" "b state4 cell4-1 cell4-2 cell4-3 cell4-4";grid-template-columns:30px 1fr 1fr 1fr 1fr 1fr;grid-template-rows:30px 1fr 1fr 1fr 1fr 1fr;border-radius:5px;overflow:hidden;border:1px solid ',";font-weight:600;font-family:var(--main-font);"],({theme:t})=>t.darkGray),Kh=Re.div.withConfig({displayName:"CrawlerTable__TableCell",componentId:"sc-1m092ps-1"})(["display:flex;justify-content:center;align-items:center;background-color:",";aspect-ratio:1 / 1;outline:1px solid ",";overflow:hidden;max-width:100%;max-height:100%;padding:10px;& > p{max-width:100%;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;}"],({$value:t,theme:e,$active:r})=>t===void 0||t===0?r?e.gray:e.lightGray:t>0?r?e.green:e.lightGreen:r?e.red:e.lightRed,({theme:t})=>t.darkGray),kx=Re(Kh).withConfig({displayName:"CrawlerTable__ImageTableCell",componentId:"sc-1m092ps-2"})(["background-size:cover;background-color:",";background-image:",";"],({theme:t,$active:e})=>e?t.darkGray:t.gray,({$bgImage:t})=>!!t&&`url(${t})`),Ex=Re(Kh).withConfig({displayName:"CrawlerTable__HeaderBlock",componentId:"sc-1m092ps-3"})(["aspect-ratio:unset;background-color:",";padding:0;& > p{overflow:unset;}"],({theme:t})=>t.gray),Cx=Re.p.withConfig({displayName:"CrawlerTable__HeaderText",componentId:"sc-1m092ps-4"})(["text-align:center;"]),p$=Re(Kh).withConfig({displayName:"CrawlerTable__PlaceHolder",componentId:"sc-1m092ps-5"})(["background-color:",";aspect-ratio:unset;grid-area:x;"],({theme:t})=>t.gray);function z1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function g$(t){if(Array.isArray(t))return t}function m$(t){if(Array.isArray(t))return z1(t)}function xs(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function v$(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,XS(n.key),n)}}function ws(t,e,r){return e&&v$(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function va(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=O2(t))||e){r&&(t=r);var n=0,a=function(){};return{s:a,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(l){throw l},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,s=!0,o=!1;return{s:function(){r=r.call(t)},n:function(){var l=r.next();return s=l.done,l},e:function(l){o=!0,i=l},f:function(){try{s||r.return==null||r.return()}finally{if(o)throw i}}}}function GS(t,e,r){return(e=XS(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function y$(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function b$(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,u=!1;try{if(i=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(c){u=!0,a=c}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return o}}function x$(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function w$(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Br(t,e){return g$(t)||b$(t,e)||O2(t,e)||x$()}function YS(t){return m$(t)||y$(t)||O2(t)||w$()}function _$(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function XS(t){var e=_$(t,"string");return typeof e=="symbol"?e:e+""}function Ar(t){"@babel/helpers - typeof";return Ar=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ar(t)}function O2(t,e){if(t){if(typeof t=="string")return z1(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?z1(t,e):void 0}}var Tr=typeof window>"u"?null:window,Tx=Tr?Tr.navigator:null;Tr&&Tr.document;var S$=Ar(""),KS=Ar({}),k$=Ar(function(){}),E$=typeof HTMLElement>"u"?"undefined":Ar(HTMLElement),o0=function(e){return e&&e.instanceString&&ur(e.instanceString)?e.instanceString():null},Xe=function(e){return e!=null&&Ar(e)==S$},ur=function(e){return e!=null&&Ar(e)===k$},Vt=function(e){return!Vn(e)&&(Array.isArray?Array.isArray(e):e!=null&&e instanceof Array)},kt=function(e){return e!=null&&Ar(e)===KS&&!Vt(e)&&e.constructor===Object},C$=function(e){return e!=null&&Ar(e)===KS},Ie=function(e){return e!=null&&Ar(e)===Ar(1)&&!isNaN(e)},T$=function(e){return Ie(e)&&Math.floor(e)===e},Jd=function(e){if(E$!=="undefined")return e!=null&&e instanceof HTMLElement},Vn=function(e){return l0(e)||ZS(e)},l0=function(e){return o0(e)==="collection"&&e._private.single},ZS=function(e){return o0(e)==="collection"&&!e._private.single},I2=function(e){return o0(e)==="core"},QS=function(e){return o0(e)==="stylesheet"},M$=function(e){return o0(e)==="event"},us=function(e){return e==null?!0:!!(e===""||e.match(/^\s+$/))},D$=function(e){return typeof HTMLElement>"u"?!1:e instanceof HTMLElement},P$=function(e){return kt(e)&&Ie(e.x1)&&Ie(e.x2)&&Ie(e.y1)&&Ie(e.y2)},A$=function(e){return C$(e)&&ur(e.then)},L$=function(){return Tx&&Tx.userAgent.match(/msie|trident|edge/i)},zl=function(e,r){r||(r=function(){if(arguments.length===1)return arguments[0];if(arguments.length===0)return"undefined";for(var i=[],s=0;s<arguments.length;s++)i.push(arguments[s]);return i.join("$")});var n=function(){var i=this,s=arguments,o,l=r.apply(i,s),u=n.cache;return(o=u[l])||(o=u[l]=e.apply(i,s)),o};return n.cache={},n},N2=zl(function(t){return t.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}),Zh=zl(function(t){return t.replace(/(-\w)/g,function(e){return e[1].toUpperCase()})}),JS=zl(function(t,e){return t+e[0].toUpperCase()+e.substring(1)},function(t,e){return t+"$"+e}),Mx=function(e){return us(e)?e:e.charAt(0).toUpperCase()+e.substring(1)},Pr="(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))",R$="rgb[a]?\\(("+Pr+"[%]?)\\s*,\\s*("+Pr+"[%]?)\\s*,\\s*("+Pr+"[%]?)(?:\\s*,\\s*("+Pr+"))?\\)",O$="rgb[a]?\\((?:"+Pr+"[%]?)\\s*,\\s*(?:"+Pr+"[%]?)\\s*,\\s*(?:"+Pr+"[%]?)(?:\\s*,\\s*(?:"+Pr+"))?\\)",I$="hsl[a]?\\(("+Pr+")\\s*,\\s*("+Pr+"[%])\\s*,\\s*("+Pr+"[%])(?:\\s*,\\s*("+Pr+"))?\\)",N$="hsl[a]?\\((?:"+Pr+")\\s*,\\s*(?:"+Pr+"[%])\\s*,\\s*(?:"+Pr+"[%])(?:\\s*,\\s*(?:"+Pr+"))?\\)",z$="\\#[0-9a-fA-F]{3}",B$="\\#[0-9a-fA-F]{6}",ek=function(e,r){return e<r?-1:e>r?1:0},F$=function(e,r){return-1*ek(e,r)},Je=Object.assign!=null?Object.assign.bind(Object):function(t){for(var e=arguments,r=1;r<e.length;r++){var n=e[r];if(n!=null)for(var a=Object.keys(n),i=0;i<a.length;i++){var s=a[i];t[s]=n[s]}}return t},$$=function(e){if(!(!(e.length===4||e.length===7)||e[0]!=="#")){var r=e.length===4,n,a,i,s=16;return r?(n=parseInt(e[1]+e[1],s),a=parseInt(e[2]+e[2],s),i=parseInt(e[3]+e[3],s)):(n=parseInt(e[1]+e[2],s),a=parseInt(e[3]+e[4],s),i=parseInt(e[5]+e[6],s)),[n,a,i]}},q$=function(e){var r,n,a,i,s,o,l,u;function c(g,y,x){return x<0&&(x+=1),x>1&&(x-=1),x<1/6?g+(y-g)*6*x:x<1/2?y:x<2/3?g+(y-g)*(2/3-x)*6:g}var f=new RegExp("^"+I$+"$").exec(e);if(f){if(n=parseInt(f[1]),n<0?n=(360- -1*n%360)%360:n>360&&(n=n%360),n/=360,a=parseFloat(f[2]),a<0||a>100||(a=a/100,i=parseFloat(f[3]),i<0||i>100)||(i=i/100,s=f[4],s!==void 0&&(s=parseFloat(s),s<0||s>1)))return;if(a===0)o=l=u=Math.round(i*255);else{var d=i<.5?i*(1+a):i+a-i*a,p=2*i-d;o=Math.round(255*c(p,d,n+1/3)),l=Math.round(255*c(p,d,n)),u=Math.round(255*c(p,d,n-1/3))}r=[o,l,u,s]}return r},H$=function(e){var r,n=new RegExp("^"+R$+"$").exec(e);if(n){r=[];for(var a=[],i=1;i<=3;i++){var s=n[i];if(s[s.length-1]==="%"&&(a[i]=!0),s=parseFloat(s),a[i]&&(s=s/100*255),s<0||s>255)return;r.push(Math.floor(s))}var o=a[1]||a[2]||a[3],l=a[1]&&a[2]&&a[3];if(o&&!l)return;var u=n[4];if(u!==void 0){if(u=parseFloat(u),u<0||u>1)return;r.push(u)}}return r},V$=function(e){return j$[e.toLowerCase()]},tk=function(e){return(Vt(e)?e:null)||V$(e)||$$(e)||H$(e)||q$(e)},j$={transparent:[0,0,0,0],aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},rk=function(e){for(var r=e.map,n=e.keys,a=n.length,i=0;i<a;i++){var s=n[i];if(kt(s))throw Error("Tried to set map with object key");i<n.length-1?(r[s]==null&&(r[s]={}),r=r[s]):r[s]=e.value}},nk=function(e){for(var r=e.map,n=e.keys,a=n.length,i=0;i<a;i++){var s=n[i];if(kt(s))throw Error("Tried to get map with object key");if(r=r[s],r==null)return r}return r},vf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function u0(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var zg,Dx;function c0(){if(Dx)return zg;Dx=1;function t(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}return zg=t,zg}var Bg,Px;function U$(){if(Px)return Bg;Px=1;var t=typeof vf=="object"&&vf&&vf.Object===Object&&vf;return Bg=t,Bg}var Fg,Ax;function Qh(){if(Ax)return Fg;Ax=1;var t=U$(),e=typeof self=="object"&&self&&self.Object===Object&&self,r=t||e||Function("return this")();return Fg=r,Fg}var $g,Lx;function W$(){if(Lx)return $g;Lx=1;var t=Qh(),e=function(){return t.Date.now()};return $g=e,$g}var qg,Rx;function G$(){if(Rx)return qg;Rx=1;var t=/\s/;function e(r){for(var n=r.length;n--&&t.test(r.charAt(n)););return n}return qg=e,qg}var Hg,Ox;function Y$(){if(Ox)return Hg;Ox=1;var t=G$(),e=/^\s+/;function r(n){return n&&n.slice(0,t(n)+1).replace(e,"")}return Hg=r,Hg}var Vg,Ix;function z2(){if(Ix)return Vg;Ix=1;var t=Qh(),e=t.Symbol;return Vg=e,Vg}var jg,Nx;function X$(){if(Nx)return jg;Nx=1;var t=z2(),e=Object.prototype,r=e.hasOwnProperty,n=e.toString,a=t?t.toStringTag:void 0;function i(s){var o=r.call(s,a),l=s[a];try{s[a]=void 0;var u=!0}catch{}var c=n.call(s);return u&&(o?s[a]=l:delete s[a]),c}return jg=i,jg}var Ug,zx;function K$(){if(zx)return Ug;zx=1;var t=Object.prototype,e=t.toString;function r(n){return e.call(n)}return Ug=r,Ug}var Wg,Bx;function ak(){if(Bx)return Wg;Bx=1;var t=z2(),e=X$(),r=K$(),n="[object Null]",a="[object Undefined]",i=t?t.toStringTag:void 0;function s(o){return o==null?o===void 0?a:n:i&&i in Object(o)?e(o):r(o)}return Wg=s,Wg}var Gg,Fx;function Z$(){if(Fx)return Gg;Fx=1;function t(e){return e!=null&&typeof e=="object"}return Gg=t,Gg}var Yg,$x;function f0(){if($x)return Yg;$x=1;var t=ak(),e=Z$(),r="[object Symbol]";function n(a){return typeof a=="symbol"||e(a)&&t(a)==r}return Yg=n,Yg}var Xg,qx;function Q$(){if(qx)return Xg;qx=1;var t=Y$(),e=c0(),r=f0(),n=0/0,a=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,s=/^0o[0-7]+$/i,o=parseInt;function l(u){if(typeof u=="number")return u;if(r(u))return n;if(e(u)){var c=typeof u.valueOf=="function"?u.valueOf():u;u=e(c)?c+"":c}if(typeof u!="string")return u===0?u:+u;u=t(u);var f=i.test(u);return f||s.test(u)?o(u.slice(2),f?2:8):a.test(u)?n:+u}return Xg=l,Xg}var Kg,Hx;function J$(){if(Hx)return Kg;Hx=1;var t=c0(),e=W$(),r=Q$(),n="Expected a function",a=Math.max,i=Math.min;function s(o,l,u){var c,f,d,p,g,y,x=0,b=!1,w=!1,_=!0;if(typeof o!="function")throw new TypeError(n);l=r(l)||0,t(u)&&(b=!!u.leading,w="maxWait"in u,d=w?a(r(u.maxWait)||0,l):d,_="trailing"in u?!!u.trailing:_);function k(F){var V=c,X=f;return c=f=void 0,x=F,p=o.apply(X,V),p}function E(F){return x=F,g=setTimeout(A,l),b?k(F):p}function D(F){var V=F-y,X=F-x,K=l-V;return w?i(K,d-X):K}function M(F){var V=F-y,X=F-x;return y===void 0||V>=l||V<0||w&&X>=d}function A(){var F=e();if(M(F))return R(F);g=setTimeout(A,D(F))}function R(F){return g=void 0,_&&c?k(F):(c=f=void 0,p)}function O(){g!==void 0&&clearTimeout(g),x=0,c=y=f=g=void 0}function N(){return g===void 0?p:R(e())}function B(){var F=e(),V=M(F);if(c=arguments,f=this,y=F,V){if(g===void 0)return E(y);if(w)return clearTimeout(g),g=setTimeout(A,l),k(y)}return g===void 0&&(g=setTimeout(A,l)),p}return B.cancel=O,B.flush=N,B}return Kg=s,Kg}var eq=J$(),d0=u0(eq),Zg=Tr?Tr.performance:null,ik=Zg&&Zg.now?function(){return Zg.now()}:function(){return Date.now()},tq=function(){if(Tr){if(Tr.requestAnimationFrame)return function(t){Tr.requestAnimationFrame(t)};if(Tr.mozRequestAnimationFrame)return function(t){Tr.mozRequestAnimationFrame(t)};if(Tr.webkitRequestAnimationFrame)return function(t){Tr.webkitRequestAnimationFrame(t)};if(Tr.msRequestAnimationFrame)return function(t){Tr.msRequestAnimationFrame(t)}}return function(t){t&&setTimeout(function(){t(ik())},1e3/60)}}(),eh=function(e){return tq(e)},yi=ik,nl=9261,sk=65599,Bu=5381,ok=function(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:nl,n=r,a;a=e.next(),!a.done;)n=n*sk+a.value|0;return n},Ic=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:nl;return r*sk+e|0},Nc=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Bu;return(r<<5)+r+e|0},rq=function(e,r){return e*2097152+r},Pi=function(e){return e[0]*2097152+e[1]},yf=function(e,r){return[Ic(e[0],r[0]),Nc(e[1],r[1])]},Vx=function(e,r){var n={value:0,done:!1},a=0,i=e.length,s={next:function(){return a<i?n.value=e[a++]:n.done=!0,n}};return ok(s,r)},cs=function(e,r){var n={value:0,done:!1},a=0,i=e.length,s={next:function(){return a<i?n.value=e.charCodeAt(a++):n.done=!0,n}};return ok(s,r)},lk=function(){return nq(arguments)},nq=function(e){for(var r,n=0;n<e.length;n++){var a=e[n];n===0?r=cs(a):r=cs(a,r)}return r},jx=!0,aq=console.warn!=null,iq=console.trace!=null,B2=Number.MAX_SAFE_INTEGER||9007199254740991,uk=function(){return!0},th=function(){return!1},Ux=function(){return 0},F2=function(){},sr=function(e){throw new Error(e)},ck=function(e){if(e!==void 0)jx=!!e;else return jx},Lt=function(e){ck()&&(aq?console.warn(e):(console.log(e),iq&&console.trace()))},sq=function(e){return Je({},e)},Ia=function(e){return e==null?e:Vt(e)?e.slice():kt(e)?sq(e):e},oq=function(e){return e.slice()},fk=function(e,r){for(r=e="";e++<36;r+=e*51&52?(e^15?8^Math.random()*(e^20?16:4):4).toString(16):"-");return r},lq={},dk=function(){return lq},Lr=function(e){var r=Object.keys(e);return function(n){for(var a={},i=0;i<r.length;i++){var s=r[i],o=n==null?void 0:n[s];a[s]=o===void 0?e[s]:o}return a}},fs=function(e,r,n){for(var a=e.length-1;a>=0;a--)e[a]===r&&e.splice(a,1)},$2=function(e){e.splice(0,e.length)},uq=function(e,r){for(var n=0;n<r.length;n++){var a=r[n];e.push(a)}},na=function(e,r,n){return n&&(r=JS(n,r)),e[r]},ti=function(e,r,n,a){n&&(r=JS(n,r)),e[r]=a},cq=function(){function t(){xs(this,t),this._obj={}}return ws(t,[{key:"set",value:function(r,n){return this._obj[r]=n,this}},{key:"delete",value:function(r){return this._obj[r]=void 0,this}},{key:"clear",value:function(){this._obj={}}},{key:"has",value:function(r){return this._obj[r]!==void 0}},{key:"get",value:function(r){return this._obj[r]}}])}(),li=typeof Map<"u"?Map:cq,fq="undefined",dq=function(){function t(e){if(xs(this,t),this._obj=Object.create(null),this.size=0,e!=null){var r;e.instanceString!=null&&e.instanceString()===this.instanceString()?r=e.toArray():r=e;for(var n=0;n<r.length;n++)this.add(r[n])}}return ws(t,[{key:"instanceString",value:function(){return"set"}},{key:"add",value:function(r){var n=this._obj;n[r]!==1&&(n[r]=1,this.size++)}},{key:"delete",value:function(r){var n=this._obj;n[r]===1&&(n[r]=0,this.size--)}},{key:"clear",value:function(){this._obj=Object.create(null)}},{key:"has",value:function(r){return this._obj[r]===1}},{key:"toArray",value:function(){var r=this;return Object.keys(this._obj).filter(function(n){return r.has(n)})}},{key:"forEach",value:function(r,n){return this.toArray().forEach(r,n)}}])}(),Xl=(typeof Set>"u"?"undefined":Ar(Set))!==fq?Set:dq,Jh=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(e===void 0||r===void 0||!I2(e)){sr("An element must have a core reference and parameters set");return}var a=r.group;if(a==null&&(r.data&&r.data.source!=null&&r.data.target!=null?a="edges":a="nodes"),a!=="nodes"&&a!=="edges"){sr("An element must be of type `nodes` or `edges`; you specified `"+a+"`");return}this.length=1,this[0]=this;var i=this._private={cy:e,single:!0,data:r.data||{},position:r.position||{x:0,y:0},autoWidth:void 0,autoHeight:void 0,autoPadding:void 0,compoundBoundsClean:!1,listeners:[],group:a,style:{},rstyle:{},styleCxts:[],styleKeys:{},removed:!0,selected:!!r.selected,selectable:r.selectable===void 0?!0:!!r.selectable,locked:!!r.locked,grabbed:!1,grabbable:r.grabbable===void 0?!0:!!r.grabbable,pannable:r.pannable===void 0?a==="edges":!!r.pannable,active:!1,classes:new Xl,animation:{current:[],queue:[]},rscratch:{},scratch:r.scratch||{},edges:[],children:[],parent:r.parent&&r.parent.isNode()?r.parent:null,traversalCache:{},backgrounding:!1,bbCache:null,bbCacheShift:{x:0,y:0},bodyBounds:null,overlayBounds:null,labelBounds:{all:null,source:null,target:null,main:null},arrowBounds:{source:null,target:null,"mid-source":null,"mid-target":null}};if(i.position.x==null&&(i.position.x=0),i.position.y==null&&(i.position.y=0),r.renderedPosition){var s=r.renderedPosition,o=e.pan(),l=e.zoom();i.position={x:(s.x-o.x)/l,y:(s.y-o.y)/l}}var u=[];Vt(r.classes)?u=r.classes:Xe(r.classes)&&(u=r.classes.split(/\s+/));for(var c=0,f=u.length;c<f;c++){var d=u[c];!d||d===""||i.classes.add(d)}this.createEmitter(),(n===void 0||n)&&this.restore();var p=r.style||r.css;p&&(Lt("Setting a `style` bypass at element creation should be done only when absolutely necessary.  Try to use the stylesheet instead."),this.style(p))},Wx=function(e){return e={bfs:e.bfs||!e.dfs,dfs:e.dfs||!e.bfs},function(n,a,i){var s;kt(n)&&!Vn(n)&&(s=n,n=s.roots||s.root,a=s.visit,i=s.directed),i=arguments.length===2&&!ur(a)?a:i,a=ur(a)?a:function(){};for(var o=this._private.cy,l=n=Xe(n)?this.filter(n):n,u=[],c=[],f={},d={},p={},g=0,y,x=this.byGroup(),b=x.nodes,w=x.edges,_=0;_<l.length;_++){var k=l[_],E=k.id();k.isNode()&&(u.unshift(k),e.bfs&&(p[E]=!0,c.push(k)),d[E]=0)}for(var D=function(){var F=e.bfs?u.shift():u.pop(),V=F.id();if(e.dfs){if(p[V])return 0;p[V]=!0,c.push(F)}var X=d[V],K=f[V],U=K!=null?K.source():null,H=K!=null?K.target():null,ee=K==null?void 0:F.same(U)?H[0]:U[0],re;if(re=a(F,K,ee,g++,X),re===!0)return y=F,1;if(re===!1)return 1;for(var W=F.connectedEdges().filter(function(fe){return(!i||fe.source().same(F))&&w.has(fe)}),Z=0;Z<W.length;Z++){var ue=W[Z],pe=ue.connectedNodes().filter(function(fe){return!fe.same(F)&&b.has(fe)}),ge=pe.id();pe.length!==0&&!p[ge]&&(pe=pe[0],u.push(pe),e.bfs&&(p[ge]=!0,c.push(pe)),f[ge]=ue,d[ge]=d[V]+1)}},M;u.length!==0&&(M=D(),!(M!==0&&M===1)););for(var A=o.collection(),R=0;R<c.length;R++){var O=c[R],N=f[O.id()];N!=null&&A.push(N),A.push(O)}return{path:o.collection(A),found:o.collection(y)}}},zc={breadthFirstSearch:Wx({bfs:!0}),depthFirstSearch:Wx({dfs:!0})};zc.bfs=zc.breadthFirstSearch;zc.dfs=zc.depthFirstSearch;var ed={exports:{}},hq=ed.exports,Gx;function pq(){return Gx||(Gx=1,function(t,e){(function(){var r,n,a,i,s,o,l,u,c,f,d,p,g,y,x;a=Math.floor,f=Math.min,n=function(b,w){return b<w?-1:b>w?1:0},c=function(b,w,_,k,E){var D;if(_==null&&(_=0),E==null&&(E=n),_<0)throw new Error("lo must be non-negative");for(k==null&&(k=b.length);_<k;)D=a((_+k)/2),E(w,b[D])<0?k=D:_=D+1;return[].splice.apply(b,[_,_-_].concat(w)),w},o=function(b,w,_){return _==null&&(_=n),b.push(w),y(b,0,b.length-1,_)},s=function(b,w){var _,k;return w==null&&(w=n),_=b.pop(),b.length?(k=b[0],b[0]=_,x(b,0,w)):k=_,k},u=function(b,w,_){var k;return _==null&&(_=n),k=b[0],b[0]=w,x(b,0,_),k},l=function(b,w,_){var k;return _==null&&(_=n),b.length&&_(b[0],w)<0&&(k=[b[0],w],w=k[0],b[0]=k[1],x(b,0,_)),w},i=function(b,w){var _,k,E,D,M,A;for(w==null&&(w=n),D=(function(){A=[];for(var R=0,O=a(b.length/2);0<=O?R<O:R>O;0<=O?R++:R--)A.push(R);return A}).apply(this).reverse(),M=[],k=0,E=D.length;k<E;k++)_=D[k],M.push(x(b,_,w));return M},g=function(b,w,_){var k;if(_==null&&(_=n),k=b.indexOf(w),k!==-1)return y(b,0,k,_),x(b,k,_)},d=function(b,w,_){var k,E,D,M,A;if(_==null&&(_=n),E=b.slice(0,w),!E.length)return E;for(i(E,_),A=b.slice(w),D=0,M=A.length;D<M;D++)k=A[D],l(E,k,_);return E.sort(_).reverse()},p=function(b,w,_){var k,E,D,M,A,R,O,N,B;if(_==null&&(_=n),w*10<=b.length){if(D=b.slice(0,w).sort(_),!D.length)return D;for(E=D[D.length-1],O=b.slice(w),M=0,R=O.length;M<R;M++)k=O[M],_(k,E)<0&&(c(D,k,0,null,_),D.pop(),E=D[D.length-1]);return D}for(i(b,_),B=[],A=0,N=f(w,b.length);0<=N?A<N:A>N;0<=N?++A:--A)B.push(s(b,_));return B},y=function(b,w,_,k){var E,D,M;for(k==null&&(k=n),E=b[_];_>w;){if(M=_-1>>1,D=b[M],k(E,D)<0){b[_]=D,_=M;continue}break}return b[_]=E},x=function(b,w,_){var k,E,D,M,A;for(_==null&&(_=n),E=b.length,A=w,D=b[w],k=2*w+1;k<E;)M=k+1,M<E&&!(_(b[k],b[M])<0)&&(k=M),b[w]=b[k],w=k,k=2*w+1;return b[w]=D,y(b,A,w,_)},r=function(){b.push=o,b.pop=s,b.replace=u,b.pushpop=l,b.heapify=i,b.updateItem=g,b.nlargest=d,b.nsmallest=p;function b(w){this.cmp=w??n,this.nodes=[]}return b.prototype.push=function(w){return o(this.nodes,w,this.cmp)},b.prototype.pop=function(){return s(this.nodes,this.cmp)},b.prototype.peek=function(){return this.nodes[0]},b.prototype.contains=function(w){return this.nodes.indexOf(w)!==-1},b.prototype.replace=function(w){return u(this.nodes,w,this.cmp)},b.prototype.pushpop=function(w){return l(this.nodes,w,this.cmp)},b.prototype.heapify=function(){return i(this.nodes,this.cmp)},b.prototype.updateItem=function(w){return g(this.nodes,w,this.cmp)},b.prototype.clear=function(){return this.nodes=[]},b.prototype.empty=function(){return this.nodes.length===0},b.prototype.size=function(){return this.nodes.length},b.prototype.clone=function(){var w;return w=new b,w.nodes=this.nodes.slice(0),w},b.prototype.toArray=function(){return this.nodes.slice(0)},b.prototype.insert=b.prototype.push,b.prototype.top=b.prototype.peek,b.prototype.front=b.prototype.peek,b.prototype.has=b.prototype.contains,b.prototype.copy=b.prototype.clone,b}(),function(b,w){return t.exports=w()}(this,function(){return r})}).call(hq)}(ed)),ed.exports}var Qg,Yx;function gq(){return Yx||(Yx=1,Qg=pq()),Qg}var mq=gq(),h0=u0(mq),vq=Lr({root:null,weight:function(e){return 1},directed:!1}),yq={dijkstra:function(e){if(!kt(e)){var r=arguments;e={root:r[0],weight:r[1],directed:r[2]}}var n=vq(e),a=n.root,i=n.weight,s=n.directed,o=this,l=i,u=Xe(a)?this.filter(a)[0]:a[0],c={},f={},d={},p=this.byGroup(),g=p.nodes,y=p.edges;y.unmergeBy(function(X){return X.isLoop()});for(var x=function(K){return c[K.id()]},b=function(K,U){c[K.id()]=U,w.updateItem(K)},w=new h0(function(X,K){return x(X)-x(K)}),_=0;_<g.length;_++){var k=g[_];c[k.id()]=k.same(u)?0:1/0,w.push(k)}for(var E=function(K,U){for(var H=(s?K.edgesTo(U):K.edgesWith(U)).intersect(y),ee=1/0,re,W=0;W<H.length;W++){var Z=H[W],ue=l(Z);(ue<ee||!re)&&(ee=ue,re=Z)}return{edge:re,dist:ee}};w.size()>0;){var D=w.pop(),M=x(D),A=D.id();if(d[A]=M,M!==1/0)for(var R=D.neighborhood().intersect(g),O=0;O<R.length;O++){var N=R[O],B=N.id(),F=E(D,N),V=M+F.dist;V<x(N)&&(b(N,V),f[B]={node:D,edge:F.edge})}}return{distanceTo:function(K){var U=Xe(K)?g.filter(K)[0]:K[0];return d[U.id()]},pathTo:function(K){var U=Xe(K)?g.filter(K)[0]:K[0],H=[],ee=U,re=ee.id();if(U.length>0)for(H.unshift(U);f[re];){var W=f[re];H.unshift(W.edge),H.unshift(W.node),ee=W.node,re=ee.id()}return o.spawn(H)}}}},bq={kruskal:function(e){e=e||function(_){return 1};for(var r=this.byGroup(),n=r.nodes,a=r.edges,i=n.length,s=new Array(i),o=n,l=function(k){for(var E=0;E<s.length;E++){var D=s[E];if(D.has(k))return E}},u=0;u<i;u++)s[u]=this.spawn(n[u]);for(var c=a.sort(function(_,k){return e(_)-e(k)}),f=0;f<c.length;f++){var d=c[f],p=d.source()[0],g=d.target()[0],y=l(p),x=l(g),b=s[y],w=s[x];y!==x&&(o.merge(d),b.merge(w),s.splice(x,1))}return o}},xq=Lr({root:null,goal:null,weight:function(e){return 1},heuristic:function(e){return 0},directed:!1}),wq={aStar:function(e){var r=this.cy(),n=xq(e),a=n.root,i=n.goal,s=n.heuristic,o=n.directed,l=n.weight;a=r.collection(a)[0],i=r.collection(i)[0];var u=a.id(),c=i.id(),f={},d={},p={},g=new h0(function(re,W){return d[re.id()]-d[W.id()]}),y=new Xl,x={},b={},w=function(W,Z){g.push(W),y.add(Z)},_,k,E=function(){_=g.pop(),k=_.id(),y.delete(k)},D=function(W){return y.has(W)};w(a,u),f[u]=0,d[u]=s(a);for(var M=0;g.size()>0;){if(E(),M++,k===c){for(var A=[],R=i,O=c,N=b[O];A.unshift(R),N!=null&&A.unshift(N),R=x[O],R!=null;)O=R.id(),N=b[O];return{found:!0,distance:f[k],path:this.spawn(A),steps:M}}p[k]=!0;for(var B=_._private.edges,F=0;F<B.length;F++){var V=B[F];if(this.hasElementWithId(V.id())&&!(o&&V.data("source")!==k)){var X=V.source(),K=V.target(),U=X.id()!==k?X:K,H=U.id();if(this.hasElementWithId(H)&&!p[H]){var ee=f[k]+l(V);if(!D(H)){f[H]=ee,d[H]=ee+s(U),w(U,H),x[H]=_,b[H]=V;continue}ee<f[H]&&(f[H]=ee,d[H]=ee+s(U),x[H]=_,b[H]=V)}}}}return{found:!1,distance:void 0,path:void 0,steps:M}}},_q=Lr({weight:function(e){return 1},directed:!1}),Sq={floydWarshall:function(e){for(var r=this.cy(),n=_q(e),a=n.weight,i=n.directed,s=a,o=this.byGroup(),l=o.nodes,u=o.edges,c=l.length,f=c*c,d=function(ue){return l.indexOf(ue)},p=function(ue){return l[ue]},g=new Array(f),y=0;y<f;y++){var x=y%c,b=(y-x)/c;b===x?g[y]=0:g[y]=1/0}for(var w=new Array(f),_=new Array(f),k=0;k<u.length;k++){var E=u[k],D=E.source()[0],M=E.target()[0];if(D!==M){var A=d(D),R=d(M),O=A*c+R,N=s(E);if(g[O]>N&&(g[O]=N,w[O]=R,_[O]=E),!i){var B=R*c+A;!i&&g[B]>N&&(g[B]=N,w[B]=A,_[B]=E)}}}for(var F=0;F<c;F++)for(var V=0;V<c;V++)for(var X=V*c+F,K=0;K<c;K++){var U=V*c+K,H=F*c+K;g[X]+g[H]<g[U]&&(g[U]=g[X]+g[H],w[U]=w[X])}var ee=function(ue){return(Xe(ue)?r.filter(ue):ue)[0]},re=function(ue){return d(ee(ue))},W={distance:function(ue,pe){var ge=re(ue),fe=re(pe);return g[ge*c+fe]},path:function(ue,pe){var ge=re(ue),fe=re(pe),Se=p(ge);if(ge===fe)return Se.collection();if(w[ge*c+fe]==null)return r.collection();var Ee=r.collection(),ve=ge,se;for(Ee.merge(Se);ge!==fe;)ve=ge,ge=w[ge*c+fe],se=_[ve*c+ge],Ee.merge(se),Ee.merge(p(ge));return Ee}};return W}},kq=Lr({weight:function(e){return 1},directed:!1,root:null}),Eq={bellmanFord:function(e){var r=this,n=kq(e),a=n.weight,i=n.directed,s=n.root,o=a,l=this,u=this.cy(),c=this.byGroup(),f=c.edges,d=c.nodes,p=d.length,g=new li,y=!1,x=[];s=u.collection(s)[0],f.unmergeBy(function(Et){return Et.isLoop()});for(var b=f.length,w=function(ze){var Ne=g.get(ze.id());return Ne||(Ne={},g.set(ze.id(),Ne)),Ne},_=function(ze){return(Xe(ze)?u.$(ze):ze)[0]},k=function(ze){return w(_(ze)).dist},E=function(ze){for(var Ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:s,Ge=_(ze),tt=[],Ke=Ge;;){if(Ke==null)return r.spawn();var et=w(Ke),at=et.edge,lt=et.pred;if(tt.unshift(Ke[0]),Ke.same(Ne)&&tt.length>0)break;at!=null&&tt.unshift(at),Ke=lt}return l.spawn(tt)},D=0;D<p;D++){var M=d[D],A=w(M);M.same(s)?A.dist=0:A.dist=1/0,A.pred=null,A.edge=null}for(var R=!1,O=function(ze,Ne,Ge,tt,Ke,et){var at=tt.dist+et;at<Ke.dist&&!Ge.same(tt.edge)&&(Ke.dist=at,Ke.pred=ze,Ke.edge=Ge,R=!0)},N=1;N<p;N++){R=!1;for(var B=0;B<b;B++){var F=f[B],V=F.source(),X=F.target(),K=o(F),U=w(V),H=w(X);O(V,X,F,U,H,K),i||O(X,V,F,H,U,K)}if(!R)break}if(R)for(var ee=[],re=0;re<b;re++){var W=f[re],Z=W.source(),ue=W.target(),pe=o(W),ge=w(Z).dist,fe=w(ue).dist;if(ge+pe<fe||!i&&fe+pe<ge)if(y||(Lt("Graph contains a negative weight cycle for Bellman-Ford"),y=!0),e.findNegativeWeightCycles!==!1){var Se=[];ge+pe<fe&&Se.push(Z),!i&&fe+pe<ge&&Se.push(ue);for(var Ee=Se.length,ve=0;ve<Ee;ve++){var se=Se[ve],ye=[se];ye.push(w(se).edge);for(var we=w(se).pred;ye.indexOf(we)===-1;)ye.push(we),ye.push(w(we).edge),we=w(we).pred;ye=ye.slice(ye.indexOf(we));for(var Le=ye[0].id(),Ve=0,it=2;it<ye.length;it+=2)ye[it].id()<Le&&(Le=ye[it].id(),Ve=it);ye=ye.slice(Ve).concat(ye.slice(0,Ve)),ye.push(ye[0]);var Rt=ye.map(function(Et){return Et.id()}).join(",");ee.indexOf(Rt)===-1&&(x.push(l.spawn(ye)),ee.push(Rt))}}else break}return{distanceTo:k,pathTo:E,hasNegativeWeightCycle:y,negativeWeightCycles:x}}},Cq=Math.sqrt(2),Tq=function(e,r,n){n.length===0&&sr("Karger-Stein must be run on a connected (sub)graph");for(var a=n[e],i=a[1],s=a[2],o=r[i],l=r[s],u=n,c=u.length-1;c>=0;c--){var f=u[c],d=f[1],p=f[2];(r[d]===o&&r[p]===l||r[d]===l&&r[p]===o)&&u.splice(c,1)}for(var g=0;g<u.length;g++){var y=u[g];y[1]===l?(u[g]=y.slice(),u[g][1]=o):y[2]===l&&(u[g]=y.slice(),u[g][2]=o)}for(var x=0;x<r.length;x++)r[x]===l&&(r[x]=o);return u},Jg=function(e,r,n,a){for(;n>a;){var i=Math.floor(Math.random()*r.length);r=Tq(i,e,r),n--}return r},Mq={kargerStein:function(){var e=this,r=this.byGroup(),n=r.nodes,a=r.edges;a.unmergeBy(function(H){return H.isLoop()});var i=n.length,s=a.length,o=Math.ceil(Math.pow(Math.log(i)/Math.LN2,2)),l=Math.floor(i/Cq);if(i<2){sr("At least 2 nodes are required for Karger-Stein algorithm");return}for(var u=[],c=0;c<s;c++){var f=a[c];u.push([c,n.indexOf(f.source()),n.indexOf(f.target())])}for(var d=1/0,p=[],g=new Array(i),y=new Array(i),x=new Array(i),b=function(ee,re){for(var W=0;W<i;W++)re[W]=ee[W]},w=0;w<=o;w++){for(var _=0;_<i;_++)y[_]=_;var k=Jg(y,u.slice(),i,l),E=k.slice();b(y,x);var D=Jg(y,k,l,2),M=Jg(x,E,l,2);D.length<=M.length&&D.length<d?(d=D.length,p=D,b(y,g)):M.length<=D.length&&M.length<d&&(d=M.length,p=M,b(x,g))}for(var A=this.spawn(p.map(function(H){return a[H[0]]})),R=this.spawn(),O=this.spawn(),N=g[0],B=0;B<g.length;B++){var F=g[B],V=n[B];F===N?R.merge(V):O.merge(V)}var X=function(ee){var re=e.spawn();return ee.forEach(function(W){re.merge(W),W.connectedEdges().forEach(function(Z){e.contains(Z)&&!A.contains(Z)&&re.merge(Z)})}),re},K=[X(R),X(O)],U={cut:A,components:K,partition1:R,partition2:O};return U}},Dq=function(e){return{x:e.x,y:e.y}},ep=function(e,r,n){return{x:e.x*r+n.x,y:e.y*r+n.y}},hk=function(e,r,n){return{x:(e.x-n.x)/r,y:(e.y-n.y)/r}},al=function(e){return{x:e[0],y:e[1]}},Pq=function(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,a=1/0,i=r;i<n;i++){var s=e[i];isFinite(s)&&(a=Math.min(s,a))}return a},Aq=function(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,a=-1/0,i=r;i<n;i++){var s=e[i];isFinite(s)&&(a=Math.max(s,a))}return a},Lq=function(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,a=0,i=0,s=r;s<n;s++){var o=e[s];isFinite(o)&&(a+=o,i++)}return a/i},Rq=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0;a?e=e.slice(r,n):(n<e.length&&e.splice(n,e.length-n),r>0&&e.splice(0,r));for(var o=0,l=e.length-1;l>=0;l--){var u=e[l];s?isFinite(u)||(e[l]=-1/0,o++):e.splice(l,1)}i&&e.sort(function(d,p){return d-p});var c=e.length,f=Math.floor(c/2);return c%2!==0?e[f+1+o]:(e[f-1+o]+e[f+o])/2},Oq=function(e){return Math.PI*e/180},bf=function(e,r){return Math.atan2(r,e)-Math.PI/2},q2=Math.log2||function(t){return Math.log(t)/Math.log(2)},pk=function(e){return e>0?1:e<0?-1:0},lo=function(e,r){return Math.sqrt(Bs(e,r))},Bs=function(e,r){var n=r.x-e.x,a=r.y-e.y;return n*n+a*a},Iq=function(e){for(var r=e.length,n=0,a=0;a<r;a++)n+=e[a];for(var i=0;i<r;i++)e[i]=e[i]/n;return e},Ir=function(e,r,n,a){return(1-a)*(1-a)*e+2*(1-a)*a*r+a*a*n},vl=function(e,r,n,a){return{x:Ir(e.x,r.x,n.x,a),y:Ir(e.y,r.y,n.y,a)}},Nq=function(e,r,n,a){var i={x:r.x-e.x,y:r.y-e.y},s=lo(e,r),o={x:i.x/s,y:i.y/s};return n=n??0,a=a??n*s,{x:e.x+o.x*a,y:e.y+o.y*a}},Bc=function(e,r,n){return Math.max(e,Math.min(n,r))},Rn=function(e){if(e==null)return{x1:1/0,y1:1/0,x2:-1/0,y2:-1/0,w:0,h:0};if(e.x1!=null&&e.y1!=null){if(e.x2!=null&&e.y2!=null&&e.x2>=e.x1&&e.y2>=e.y1)return{x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2,w:e.x2-e.x1,h:e.y2-e.y1};if(e.w!=null&&e.h!=null&&e.w>=0&&e.h>=0)return{x1:e.x1,y1:e.y1,x2:e.x1+e.w,y2:e.y1+e.h,w:e.w,h:e.h}}},zq=function(e){return{x1:e.x1,x2:e.x2,w:e.w,y1:e.y1,y2:e.y2,h:e.h}},Bq=function(e){e.x1=1/0,e.y1=1/0,e.x2=-1/0,e.y2=-1/0,e.w=0,e.h=0},Fq=function(e,r,n){return{x1:e.x1+r,x2:e.x2+r,y1:e.y1+n,y2:e.y2+n,w:e.w,h:e.h}},gk=function(e,r){e.x1=Math.min(e.x1,r.x1),e.x2=Math.max(e.x2,r.x2),e.w=e.x2-e.x1,e.y1=Math.min(e.y1,r.y1),e.y2=Math.max(e.y2,r.y2),e.h=e.y2-e.y1},$q=function(e,r,n){e.x1=Math.min(e.x1,r),e.x2=Math.max(e.x2,r),e.w=e.x2-e.x1,e.y1=Math.min(e.y1,n),e.y2=Math.max(e.y2,n),e.h=e.y2-e.y1},td=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return e.x1-=r,e.x2+=r,e.y1-=r,e.y2+=r,e.w=e.x2-e.x1,e.h=e.y2-e.y1,e},rd=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[0],n,a,i,s;if(r.length===1)n=a=i=s=r[0];else if(r.length===2)n=i=r[0],s=a=r[1];else if(r.length===4){var o=Br(r,4);n=o[0],a=o[1],i=o[2],s=o[3]}return e.x1-=s,e.x2+=a,e.y1-=n,e.y2+=i,e.w=e.x2-e.x1,e.h=e.y2-e.y1,e},Xx=function(e,r){e.x1=r.x1,e.y1=r.y1,e.x2=r.x2,e.y2=r.y2,e.w=e.x2-e.x1,e.h=e.y2-e.y1},H2=function(e,r){return!(e.x1>r.x2||r.x1>e.x2||e.x2<r.x1||r.x2<e.x1||e.y2<r.y1||r.y2<e.y1||e.y1>r.y2||r.y1>e.y2)},Bl=function(e,r,n){return e.x1<=r&&r<=e.x2&&e.y1<=n&&n<=e.y2},qq=function(e,r){return Bl(e,r.x,r.y)},mk=function(e,r){return Bl(e,r.x1,r.y1)&&Bl(e,r.x2,r.y2)},vk=function(e,r,n,a,i,s,o){var l=arguments.length>7&&arguments[7]!==void 0?arguments[7]:"auto",u=l==="auto"?uo(i,s):l,c=i/2,f=s/2;u=Math.min(u,c,f);var d=u!==c,p=u!==f,g;if(d){var y=n-c+u-o,x=a-f-o,b=n+c-u+o,w=x;if(g=ji(e,r,n,a,y,x,b,w,!1),g.length>0)return g}if(p){var _=n+c+o,k=a-f+u-o,E=_,D=a+f-u+o;if(g=ji(e,r,n,a,_,k,E,D,!1),g.length>0)return g}if(d){var M=n-c+u-o,A=a+f+o,R=n+c-u+o,O=A;if(g=ji(e,r,n,a,M,A,R,O,!1),g.length>0)return g}if(p){var N=n-c-o,B=a-f+u-o,F=N,V=a+f-u+o;if(g=ji(e,r,n,a,N,B,F,V,!1),g.length>0)return g}var X;{var K=n-c+u,U=a-f+u;if(X=Fu(e,r,n,a,K,U,u+o),X.length>0&&X[0]<=K&&X[1]<=U)return[X[0],X[1]]}{var H=n+c-u,ee=a-f+u;if(X=Fu(e,r,n,a,H,ee,u+o),X.length>0&&X[0]>=H&&X[1]<=ee)return[X[0],X[1]]}{var re=n+c-u,W=a+f-u;if(X=Fu(e,r,n,a,re,W,u+o),X.length>0&&X[0]>=re&&X[1]>=W)return[X[0],X[1]]}{var Z=n-c+u,ue=a+f-u;if(X=Fu(e,r,n,a,Z,ue,u+o),X.length>0&&X[0]<=Z&&X[1]>=ue)return[X[0],X[1]]}return[]},Hq=function(e,r,n,a,i,s,o){var l=o,u=Math.min(n,i),c=Math.max(n,i),f=Math.min(a,s),d=Math.max(a,s);return u-l<=e&&e<=c+l&&f-l<=r&&r<=d+l},Vq=function(e,r,n,a,i,s,o,l,u){var c={x1:Math.min(n,o,i)-u,x2:Math.max(n,o,i)+u,y1:Math.min(a,l,s)-u,y2:Math.max(a,l,s)+u};return!(e<c.x1||e>c.x2||r<c.y1||r>c.y2)},jq=function(e,r,n,a){n-=a;var i=r*r-4*e*n;if(i<0)return[];var s=Math.sqrt(i),o=2*e,l=(-r+s)/o,u=(-r-s)/o;return[l,u]},Uq=function(e,r,n,a,i){var s=1e-5;e===0&&(e=s),r/=e,n/=e,a/=e;var o,l,u,c,f,d,p,g;if(l=(3*n-r*r)/9,u=-(27*a)+r*(9*n-2*(r*r)),u/=54,o=l*l*l+u*u,i[1]=0,p=r/3,o>0){f=u+Math.sqrt(o),f=f<0?-Math.pow(-f,1/3):Math.pow(f,1/3),d=u-Math.sqrt(o),d=d<0?-Math.pow(-d,1/3):Math.pow(d,1/3),i[0]=-p+f+d,p+=(f+d)/2,i[4]=i[2]=-p,p=Math.sqrt(3)*(-d+f)/2,i[3]=p,i[5]=-p;return}if(i[5]=i[3]=0,o===0){g=u<0?-Math.pow(-u,1/3):Math.pow(u,1/3),i[0]=-p+2*g,i[4]=i[2]=-(g+p);return}l=-l,c=l*l*l,c=Math.acos(u/Math.sqrt(c)),g=2*Math.sqrt(l),i[0]=-p+g*Math.cos(c/3),i[2]=-p+g*Math.cos((c+2*Math.PI)/3),i[4]=-p+g*Math.cos((c+4*Math.PI)/3)},Wq=function(e,r,n,a,i,s,o,l){var u=1*n*n-4*n*i+2*n*o+4*i*i-4*i*o+o*o+a*a-4*a*s+2*a*l+4*s*s-4*s*l+l*l,c=1*9*n*i-3*n*n-3*n*o-6*i*i+3*i*o+9*a*s-3*a*a-3*a*l-6*s*s+3*s*l,f=1*3*n*n-6*n*i+n*o-n*e+2*i*i+2*i*e-o*e+3*a*a-6*a*s+a*l-a*r+2*s*s+2*s*r-l*r,d=1*n*i-n*n+n*e-i*e+a*s-a*a+a*r-s*r,p=[];Uq(u,c,f,d,p);for(var g=1e-7,y=[],x=0;x<6;x+=2)Math.abs(p[x+1])<g&&p[x]>=0&&p[x]<=1&&y.push(p[x]);y.push(1),y.push(0);for(var b=-1,w,_,k,E=0;E<y.length;E++)w=Math.pow(1-y[E],2)*n+2*(1-y[E])*y[E]*i+y[E]*y[E]*o,_=Math.pow(1-y[E],2)*a+2*(1-y[E])*y[E]*s+y[E]*y[E]*l,k=Math.pow(w-e,2)+Math.pow(_-r,2),b>=0?k<b&&(b=k):b=k;return b},Gq=function(e,r,n,a,i,s){var o=[e-n,r-a],l=[i-n,s-a],u=l[0]*l[0]+l[1]*l[1],c=o[0]*o[0]+o[1]*o[1],f=o[0]*l[0]+o[1]*l[1],d=f*f/u;return f<0?c:d>u?(e-i)*(e-i)+(r-s)*(r-s):c-d},Tn=function(e,r,n){for(var a,i,s,o,l,u=0,c=0;c<n.length/2;c++)if(a=n[c*2],i=n[c*2+1],c+1<n.length/2?(s=n[(c+1)*2],o=n[(c+1)*2+1]):(s=n[(c+1-n.length/2)*2],o=n[(c+1-n.length/2)*2+1]),!(a==e&&s==e))if(a>=e&&e>=s||a<=e&&e<=s)l=(e-a)/(s-a)*(o-i)+i,l>r&&u++;else continue;return u%2!==0},bi=function(e,r,n,a,i,s,o,l,u){var c=new Array(n.length),f;l[0]!=null?(f=Math.atan(l[1]/l[0]),l[0]<0?f=f+Math.PI/2:f=-f-Math.PI/2):f=l;for(var d=Math.cos(-f),p=Math.sin(-f),g=0;g<c.length/2;g++)c[g*2]=s/2*(n[g*2]*d-n[g*2+1]*p),c[g*2+1]=o/2*(n[g*2+1]*d+n[g*2]*p),c[g*2]+=a,c[g*2+1]+=i;var y;if(u>0){var x=nh(c,-u);y=rh(x)}else y=c;return Tn(e,r,y)},Yq=function(e,r,n,a,i,s,o,l){for(var u=new Array(n.length*2),c=0;c<l.length;c++){var f=l[c];u[c*4+0]=f.startX,u[c*4+1]=f.startY,u[c*4+2]=f.stopX,u[c*4+3]=f.stopY;var d=Math.pow(f.cx-e,2)+Math.pow(f.cy-r,2);if(d<=Math.pow(f.radius,2))return!0}return Tn(e,r,u)},rh=function(e){for(var r=new Array(e.length/2),n,a,i,s,o,l,u,c,f=0;f<e.length/4;f++){n=e[f*4],a=e[f*4+1],i=e[f*4+2],s=e[f*4+3],f<e.length/4-1?(o=e[(f+1)*4],l=e[(f+1)*4+1],u=e[(f+1)*4+2],c=e[(f+1)*4+3]):(o=e[0],l=e[1],u=e[2],c=e[3]);var d=ji(n,a,i,s,o,l,u,c,!0);r[f*2]=d[0],r[f*2+1]=d[1]}return r},nh=function(e,r){for(var n=new Array(e.length*2),a,i,s,o,l=0;l<e.length/2;l++){a=e[l*2],i=e[l*2+1],l<e.length/2-1?(s=e[(l+1)*2],o=e[(l+1)*2+1]):(s=e[0],o=e[1]);var u=o-i,c=-(s-a),f=Math.sqrt(u*u+c*c),d=u/f,p=c/f;n[l*4]=a+d*r,n[l*4+1]=i+p*r,n[l*4+2]=s+d*r,n[l*4+3]=o+p*r}return n},Xq=function(e,r,n,a,i,s){var o=n-e,l=a-r;o/=i,l/=s;var u=Math.sqrt(o*o+l*l),c=u-1;if(c<0)return[];var f=c/u;return[(n-e)*f+e,(a-r)*f+r]},Gs=function(e,r,n,a,i,s,o){return e-=i,r-=s,e/=n/2+o,r/=a/2+o,e*e+r*r<=1},Fu=function(e,r,n,a,i,s,o){var l=[n-e,a-r],u=[e-i,r-s],c=l[0]*l[0]+l[1]*l[1],f=2*(u[0]*l[0]+u[1]*l[1]),d=u[0]*u[0]+u[1]*u[1]-o*o,p=f*f-4*c*d;if(p<0)return[];var g=(-f+Math.sqrt(p))/(2*c),y=(-f-Math.sqrt(p))/(2*c),x=Math.min(g,y),b=Math.max(g,y),w=[];if(x>=0&&x<=1&&w.push(x),b>=0&&b<=1&&w.push(b),w.length===0)return[];var _=w[0]*l[0]+e,k=w[0]*l[1]+r;if(w.length>1){if(w[0]==w[1])return[_,k];var E=w[1]*l[0]+e,D=w[1]*l[1]+r;return[_,k,E,D]}else return[_,k]},em=function(e,r,n){return r<=e&&e<=n||n<=e&&e<=r?e:e<=r&&r<=n||n<=r&&r<=e?r:n},ji=function(e,r,n,a,i,s,o,l,u){var c=e-i,f=n-e,d=o-i,p=r-s,g=a-r,y=l-s,x=d*p-y*c,b=f*p-g*c,w=y*f-d*g;if(w!==0){var _=x/w,k=b/w,E=.001,D=0-E,M=1+E;return D<=_&&_<=M&&D<=k&&k<=M?[e+_*f,r+_*g]:u?[e+_*f,r+_*g]:[]}else return x===0||b===0?em(e,n,o)===o?[o,l]:em(e,n,i)===i?[i,s]:em(i,o,n)===n?[n,a]:[]:[]},Fc=function(e,r,n,a,i,s,o,l){var u=[],c,f=new Array(n.length),d=!0;s==null&&(d=!1);var p;if(d){for(var g=0;g<f.length/2;g++)f[g*2]=n[g*2]*s+a,f[g*2+1]=n[g*2+1]*o+i;if(l>0){var y=nh(f,-l);p=rh(y)}else p=f}else p=n;for(var x,b,w,_,k=0;k<p.length/2;k++)x=p[k*2],b=p[k*2+1],k<p.length/2-1?(w=p[(k+1)*2],_=p[(k+1)*2+1]):(w=p[0],_=p[1]),c=ji(e,r,a,i,x,b,w,_),c.length!==0&&u.push(c[0],c[1]);return u},Kq=function(e,r,n,a,i,s,o,l,u){var c=[],f,d=new Array(n.length*2);u.forEach(function(w,_){_===0?(d[d.length-2]=w.startX,d[d.length-1]=w.startY):(d[_*4-2]=w.startX,d[_*4-1]=w.startY),d[_*4]=w.stopX,d[_*4+1]=w.stopY,f=Fu(e,r,a,i,w.cx,w.cy,w.radius),f.length!==0&&c.push(f[0],f[1])});for(var p=0;p<d.length/4;p++)f=ji(e,r,a,i,d[p*4],d[p*4+1],d[p*4+2],d[p*4+3],!1),f.length!==0&&c.push(f[0],f[1]);if(c.length>2){for(var g=[c[0],c[1]],y=Math.pow(g[0]-e,2)+Math.pow(g[1]-r,2),x=1;x<c.length/2;x++){var b=Math.pow(c[x*2]-e,2)+Math.pow(c[x*2+1]-r,2);b<=y&&(g[0]=c[x*2],g[1]=c[x*2+1],y=b)}return g}return c},xf=function(e,r,n){var a=[e[0]-r[0],e[1]-r[1]],i=Math.sqrt(a[0]*a[0]+a[1]*a[1]),s=(i-n)/i;return s<0&&(s=1e-5),[r[0]+s*a[0],r[1]+s*a[1]]},mn=function(e,r){var n=B1(e,r);return n=yk(n),n},yk=function(e){for(var r,n,a=e.length/2,i=1/0,s=1/0,o=-1/0,l=-1/0,u=0;u<a;u++)r=e[2*u],n=e[2*u+1],i=Math.min(i,r),o=Math.max(o,r),s=Math.min(s,n),l=Math.max(l,n);for(var c=2/(o-i),f=2/(l-s),d=0;d<a;d++)r=e[2*d]=e[2*d]*c,n=e[2*d+1]=e[2*d+1]*f,i=Math.min(i,r),o=Math.max(o,r),s=Math.min(s,n),l=Math.max(l,n);if(s<-1)for(var p=0;p<a;p++)n=e[2*p+1]=e[2*p+1]+(-1-s);return e},B1=function(e,r){var n=1/e*2*Math.PI,a=e%2===0?Math.PI/2+n/2:Math.PI/2;a+=r;for(var i=new Array(e*2),s,o=0;o<e;o++)s=o*n+a,i[2*o]=Math.cos(s),i[2*o+1]=Math.sin(-s);return i},uo=function(e,r){return Math.min(e/4,r/4,8)},bk=function(e,r){return Math.min(e/10,r/10,8)},V2=function(){return 8},Zq=function(e,r,n){return[e-2*r+n,2*(r-e),e]},F1=function(e,r){return{heightOffset:Math.min(15,.05*r),widthOffset:Math.min(100,.25*e),ctrlPtOffsetPct:.05}},Qq=Lr({dampingFactor:.8,precision:1e-6,iterations:200,weight:function(e){return 1}}),Jq={pageRank:function(e){for(var r=Qq(e),n=r.dampingFactor,a=r.precision,i=r.iterations,s=r.weight,o=this._private.cy,l=this.byGroup(),u=l.nodes,c=l.edges,f=u.length,d=f*f,p=c.length,g=new Array(d),y=new Array(f),x=(1-n)/f,b=0;b<f;b++){for(var w=0;w<f;w++){var _=b*f+w;g[_]=0}y[b]=0}for(var k=0;k<p;k++){var E=c[k],D=E.data("source"),M=E.data("target");if(D!==M){var A=u.indexOfId(D),R=u.indexOfId(M),O=s(E),N=R*f+A;g[N]+=O,y[A]+=O}}for(var B=1/f+x,F=0;F<f;F++)if(y[F]===0)for(var V=0;V<f;V++){var X=V*f+F;g[X]=B}else for(var K=0;K<f;K++){var U=K*f+F;g[U]=g[U]/y[F]+x}for(var H=new Array(f),ee=new Array(f),re,W=0;W<f;W++)H[W]=1;for(var Z=0;Z<i;Z++){for(var ue=0;ue<f;ue++)ee[ue]=0;for(var pe=0;pe<f;pe++)for(var ge=0;ge<f;ge++){var fe=pe*f+ge;ee[pe]+=g[fe]*H[ge]}Iq(ee),re=H,H=ee,ee=re;for(var Se=0,Ee=0;Ee<f;Ee++){var ve=re[Ee]-H[Ee];Se+=ve*ve}if(Se<a)break}var se={rank:function(we){return we=o.collection(we)[0],H[u.indexOf(we)]}};return se}},Kx=Lr({root:null,weight:function(e){return 1},directed:!1,alpha:0}),yl={degreeCentralityNormalized:function(e){e=Kx(e);var r=this.cy(),n=this.nodes(),a=n.length;if(e.directed){for(var c={},f={},d=0,p=0,g=0;g<a;g++){var y=n[g],x=y.id();e.root=y;var b=this.degreeCentrality(e);d<b.indegree&&(d=b.indegree),p<b.outdegree&&(p=b.outdegree),c[x]=b.indegree,f[x]=b.outdegree}return{indegree:function(_){return d==0?0:(Xe(_)&&(_=r.filter(_)),c[_.id()]/d)},outdegree:function(_){return p===0?0:(Xe(_)&&(_=r.filter(_)),f[_.id()]/p)}}}else{for(var i={},s=0,o=0;o<a;o++){var l=n[o];e.root=l;var u=this.degreeCentrality(e);s<u.degree&&(s=u.degree),i[l.id()]=u.degree}return{degree:function(_){return s===0?0:(Xe(_)&&(_=r.filter(_)),i[_.id()]/s)}}}},degreeCentrality:function(e){e=Kx(e);var r=this.cy(),n=this,a=e,i=a.root,s=a.weight,o=a.directed,l=a.alpha;if(i=r.collection(i)[0],o){for(var p=i.connectedEdges(),g=p.filter(function(D){return D.target().same(i)&&n.has(D)}),y=p.filter(function(D){return D.source().same(i)&&n.has(D)}),x=g.length,b=y.length,w=0,_=0,k=0;k<g.length;k++)w+=s(g[k]);for(var E=0;E<y.length;E++)_+=s(y[E]);return{indegree:Math.pow(x,1-l)*Math.pow(w,l),outdegree:Math.pow(b,1-l)*Math.pow(_,l)}}else{for(var u=i.connectedEdges().intersection(n),c=u.length,f=0,d=0;d<u.length;d++)f+=s(u[d]);return{degree:Math.pow(c,1-l)*Math.pow(f,l)}}}};yl.dc=yl.degreeCentrality;yl.dcn=yl.degreeCentralityNormalised=yl.degreeCentralityNormalized;var Zx=Lr({harmonic:!0,weight:function(){return 1},directed:!1,root:null}),bl={closenessCentralityNormalized:function(e){for(var r=Zx(e),n=r.harmonic,a=r.weight,i=r.directed,s=this.cy(),o={},l=0,u=this.nodes(),c=this.floydWarshall({weight:a,directed:i}),f=0;f<u.length;f++){for(var d=0,p=u[f],g=0;g<u.length;g++)if(f!==g){var y=c.distance(p,u[g]);n?d+=1/y:d+=y}n||(d=1/d),l<d&&(l=d),o[p.id()]=d}return{closeness:function(b){return l==0?0:(Xe(b)?b=s.filter(b)[0].id():b=b.id(),o[b]/l)}}},closenessCentrality:function(e){var r=Zx(e),n=r.root,a=r.weight,i=r.directed,s=r.harmonic;n=this.filter(n)[0];for(var o=this.dijkstra({root:n,weight:a,directed:i}),l=0,u=this.nodes(),c=0;c<u.length;c++){var f=u[c];if(!f.same(n)){var d=o.distanceTo(f);s?l+=1/d:l+=d}}return s?l:1/l}};bl.cc=bl.closenessCentrality;bl.ccn=bl.closenessCentralityNormalised=bl.closenessCentralityNormalized;var eH=Lr({weight:null,directed:!1}),$1={betweennessCentrality:function(e){for(var r=eH(e),n=r.directed,a=r.weight,i=a!=null,s=this.cy(),o=this.nodes(),l={},u={},c=0,f={set:function(_,k){u[_]=k,k>c&&(c=k)},get:function(_){return u[_]}},d=0;d<o.length;d++){var p=o[d],g=p.id();n?l[g]=p.outgoers().nodes():l[g]=p.openNeighborhood().nodes(),f.set(g,0)}for(var y=function(){for(var _=o[x].id(),k=[],E={},D={},M={},A=new h0(function(pe,ge){return M[pe]-M[ge]}),R=0;R<o.length;R++){var O=o[R].id();E[O]=[],D[O]=0,M[O]=1/0}for(D[_]=1,M[_]=0,A.push(_);!A.empty();){var N=A.pop();if(k.push(N),i)for(var B=0;B<l[N].length;B++){var F=l[N][B],V=s.getElementById(N),X=void 0;V.edgesTo(F).length>0?X=V.edgesTo(F)[0]:X=F.edgesTo(V)[0];var K=a(X);F=F.id(),M[F]>M[N]+K&&(M[F]=M[N]+K,A.nodes.indexOf(F)<0?A.push(F):A.updateItem(F),D[F]=0,E[F]=[]),M[F]==M[N]+K&&(D[F]=D[F]+D[N],E[F].push(N))}else for(var U=0;U<l[N].length;U++){var H=l[N][U].id();M[H]==1/0&&(A.push(H),M[H]=M[N]+1),M[H]==M[N]+1&&(D[H]=D[H]+D[N],E[H].push(N))}}for(var ee={},re=0;re<o.length;re++)ee[o[re].id()]=0;for(;k.length>0;){for(var W=k.pop(),Z=0;Z<E[W].length;Z++){var ue=E[W][Z];ee[ue]=ee[ue]+D[ue]/D[W]*(1+ee[W])}W!=o[x].id()&&f.set(W,f.get(W)+ee[W])}},x=0;x<o.length;x++)y();var b={betweenness:function(_){var k=s.collection(_).id();return f.get(k)},betweennessNormalized:function(_){if(c==0)return 0;var k=s.collection(_).id();return f.get(k)/c}};return b.betweennessNormalised=b.betweennessNormalized,b}};$1.bc=$1.betweennessCentrality;var tH=Lr({expandFactor:2,inflateFactor:2,multFactor:1,maxIterations:20,attributes:[function(t){return 1}]}),rH=function(e){return tH(e)},nH=function(e,r){for(var n=0,a=0;a<r.length;a++)n+=r[a](e);return n},aH=function(e,r,n){for(var a=0;a<r;a++)e[a*r+a]=n},xk=function(e,r){for(var n,a=0;a<r;a++){n=0;for(var i=0;i<r;i++)n+=e[i*r+a];for(var s=0;s<r;s++)e[s*r+a]=e[s*r+a]/n}},iH=function(e,r,n){for(var a=new Array(n*n),i=0;i<n;i++){for(var s=0;s<n;s++)a[i*n+s]=0;for(var o=0;o<n;o++)for(var l=0;l<n;l++)a[i*n+l]+=e[i*n+o]*r[o*n+l]}return a},sH=function(e,r,n){for(var a=e.slice(0),i=1;i<n;i++)e=iH(e,a,r);return e},oH=function(e,r,n){for(var a=new Array(r*r),i=0;i<r*r;i++)a[i]=Math.pow(e[i],n);return xk(a,r),a},lH=function(e,r,n,a){for(var i=0;i<n;i++){var s=Math.round(e[i]*Math.pow(10,a))/Math.pow(10,a),o=Math.round(r[i]*Math.pow(10,a))/Math.pow(10,a);if(s!==o)return!1}return!0},uH=function(e,r,n,a){for(var i=[],s=0;s<r;s++){for(var o=[],l=0;l<r;l++)Math.round(e[s*r+l]*1e3)/1e3>0&&o.push(n[l]);o.length!==0&&i.push(a.collection(o))}return i},cH=function(e,r){for(var n=0;n<e.length;n++)if(!r[n]||e[n].id()!==r[n].id())return!1;return!0},fH=function(e){for(var r=0;r<e.length;r++)for(var n=0;n<e.length;n++)r!=n&&cH(e[r],e[n])&&e.splice(n,1);return e},Qx=function(e){for(var r=this.nodes(),n=this.edges(),a=this.cy(),i=rH(e),s={},o=0;o<r.length;o++)s[r[o].id()]=o;for(var l=r.length,u=l*l,c=new Array(u),f,d=0;d<u;d++)c[d]=0;for(var p=0;p<n.length;p++){var g=n[p],y=s[g.source().id()],x=s[g.target().id()],b=nH(g,i.attributes);c[y*l+x]+=b,c[x*l+y]+=b}aH(c,l,i.multFactor),xk(c,l);for(var w=!0,_=0;w&&_<i.maxIterations;)w=!1,f=sH(c,l,i.expandFactor),c=oH(f,l,i.inflateFactor),lH(c,f,u,4)||(w=!0),_++;var k=uH(c,l,r,a);return k=fH(k),k},dH={markovClustering:Qx,mcl:Qx},hH=function(e){return e},wk=function(e,r){return Math.abs(r-e)},Jx=function(e,r,n){return e+wk(r,n)},ew=function(e,r,n){return e+Math.pow(n-r,2)},pH=function(e){return Math.sqrt(e)},gH=function(e,r,n){return Math.max(e,wk(r,n))},Su=function(e,r,n,a,i){for(var s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:hH,o=a,l,u,c=0;c<e;c++)l=r(c),u=n(c),o=i(o,l,u);return s(o)},Fl={euclidean:function(e,r,n){return e>=2?Su(e,r,n,0,ew,pH):Su(e,r,n,0,Jx)},squaredEuclidean:function(e,r,n){return Su(e,r,n,0,ew)},manhattan:function(e,r,n){return Su(e,r,n,0,Jx)},max:function(e,r,n){return Su(e,r,n,-1/0,gH)}};Fl["squared-euclidean"]=Fl.squaredEuclidean;Fl.squaredeuclidean=Fl.squaredEuclidean;function tp(t,e,r,n,a,i){var s;return ur(t)?s=t:s=Fl[t]||Fl.euclidean,e===0&&ur(t)?s(a,i):s(e,r,n,a,i)}var mH=Lr({k:2,m:2,sensitivityThreshold:1e-4,distance:"euclidean",maxIterations:10,attributes:[],testMode:!1,testCentroids:null}),j2=function(e){return mH(e)},ah=function(e,r,n,a,i){var s=i!=="kMedoids",o=s?function(f){return n[f]}:function(f){return a[f](n)},l=function(d){return a[d](r)},u=n,c=r;return tp(e,a.length,o,l,u,c)},tm=function(e,r,n){for(var a=n.length,i=new Array(a),s=new Array(a),o=new Array(r),l=null,u=0;u<a;u++)i[u]=e.min(n[u]).value,s[u]=e.max(n[u]).value;for(var c=0;c<r;c++){l=[];for(var f=0;f<a;f++)l[f]=Math.random()*(s[f]-i[f])+i[f];o[c]=l}return o},_k=function(e,r,n,a,i){for(var s=1/0,o=0,l=0;l<r.length;l++){var u=ah(n,e,r[l],a,i);u<s&&(s=u,o=l)}return o},Sk=function(e,r,n){for(var a=[],i=null,s=0;s<r.length;s++)i=r[s],n[i.id()]===e&&a.push(i);return a},vH=function(e,r,n){return Math.abs(r-e)<=n},yH=function(e,r,n){for(var a=0;a<e.length;a++)for(var i=0;i<e[a].length;i++){var s=Math.abs(e[a][i]-r[a][i]);if(s>n)return!1}return!0},bH=function(e,r,n){for(var a=0;a<n;a++)if(e===r[a])return!0;return!1},tw=function(e,r){var n=new Array(r);if(e.length<50)for(var a=0;a<r;a++){for(var i=e[Math.floor(Math.random()*e.length)];bH(i,n,a);)i=e[Math.floor(Math.random()*e.length)];n[a]=i}else for(var s=0;s<r;s++)n[s]=e[Math.floor(Math.random()*e.length)];return n},rw=function(e,r,n){for(var a=0,i=0;i<r.length;i++)a+=ah("manhattan",r[i],e,n,"kMedoids");return a},xH=function(e){var r=this.cy(),n=this.nodes(),a=null,i=j2(e),s=new Array(i.k),o={},l;i.testMode?typeof i.testCentroids=="number"?(i.testCentroids,l=tm(n,i.k,i.attributes)):Ar(i.testCentroids)==="object"?l=i.testCentroids:l=tm(n,i.k,i.attributes):l=tm(n,i.k,i.attributes);for(var u=!0,c=0;u&&c<i.maxIterations;){for(var f=0;f<n.length;f++)a=n[f],o[a.id()]=_k(a,l,i.distance,i.attributes,"kMeans");u=!1;for(var d=0;d<i.k;d++){var p=Sk(d,n,o);if(p.length!==0){for(var g=i.attributes.length,y=l[d],x=new Array(g),b=new Array(g),w=0;w<g;w++){b[w]=0;for(var _=0;_<p.length;_++)a=p[_],b[w]+=i.attributes[w](a);x[w]=b[w]/p.length,vH(x[w],y[w],i.sensitivityThreshold)||(u=!0)}l[d]=x,s[d]=r.collection(p)}}c++}return s},wH=function(e){var r=this.cy(),n=this.nodes(),a=null,i=j2(e),s=new Array(i.k),o,l={},u,c=new Array(i.k);i.testMode?typeof i.testCentroids=="number"||(Ar(i.testCentroids)==="object"?o=i.testCentroids:o=tw(n,i.k)):o=tw(n,i.k);for(var f=!0,d=0;f&&d<i.maxIterations;){for(var p=0;p<n.length;p++)a=n[p],l[a.id()]=_k(a,o,i.distance,i.attributes,"kMedoids");f=!1;for(var g=0;g<o.length;g++){var y=Sk(g,n,l);if(y.length!==0){c[g]=rw(o[g],y,i.attributes);for(var x=0;x<y.length;x++)u=rw(y[x],y,i.attributes),u<c[g]&&(c[g]=u,o[g]=y[x],f=!0);s[g]=r.collection(y)}}d++}return s},_H=function(e,r,n,a,i){for(var s,o,l=0;l<r.length;l++)for(var u=0;u<e.length;u++)a[l][u]=Math.pow(n[l][u],i.m);for(var c=0;c<e.length;c++)for(var f=0;f<i.attributes.length;f++){s=0,o=0;for(var d=0;d<r.length;d++)s+=a[d][c]*i.attributes[f](r[d]),o+=a[d][c];e[c][f]=s/o}},SH=function(e,r,n,a,i){for(var s=0;s<e.length;s++)r[s]=e[s].slice();for(var o,l,u,c=2/(i.m-1),f=0;f<n.length;f++)for(var d=0;d<a.length;d++){o=0;for(var p=0;p<n.length;p++)l=ah(i.distance,a[d],n[f],i.attributes,"cmeans"),u=ah(i.distance,a[d],n[p],i.attributes,"cmeans"),o+=Math.pow(l/u,c);e[d][f]=1/o}},kH=function(e,r,n,a){for(var i=new Array(n.k),s=0;s<i.length;s++)i[s]=[];for(var o,l,u=0;u<r.length;u++){o=-1/0,l=-1;for(var c=0;c<r[0].length;c++)r[u][c]>o&&(o=r[u][c],l=c);i[l].push(e[u])}for(var f=0;f<i.length;f++)i[f]=a.collection(i[f]);return i},nw=function(e){var r=this.cy(),n=this.nodes(),a=j2(e),i,s,o,l,u;l=new Array(n.length);for(var c=0;c<n.length;c++)l[c]=new Array(a.k);o=new Array(n.length);for(var f=0;f<n.length;f++)o[f]=new Array(a.k);for(var d=0;d<n.length;d++){for(var p=0,g=0;g<a.k;g++)o[d][g]=Math.random(),p+=o[d][g];for(var y=0;y<a.k;y++)o[d][y]=o[d][y]/p}s=new Array(a.k);for(var x=0;x<a.k;x++)s[x]=new Array(a.attributes.length);u=new Array(n.length);for(var b=0;b<n.length;b++)u[b]=new Array(a.k);for(var w=!0,_=0;w&&_<a.maxIterations;)w=!1,_H(s,n,o,u,a),SH(o,l,s,n,a),yH(o,l,a.sensitivityThreshold)||(w=!0),_++;return i=kH(n,o,a,r),{clusters:i,degreeOfMembership:o}},EH={kMeans:xH,kMedoids:wH,fuzzyCMeans:nw,fcm:nw},CH=Lr({distance:"euclidean",linkage:"min",mode:"threshold",threshold:1/0,addDendrogram:!1,dendrogramDepth:0,attributes:[]}),TH={single:"min",complete:"max"},MH=function(e){var r=CH(e),n=TH[r.linkage];return n!=null&&(r.linkage=n),r},aw=function(e,r,n,a,i){for(var s=0,o=1/0,l,u=i.attributes,c=function(R,O){return tp(i.distance,u.length,function(N){return u[N](R)},function(N){return u[N](O)},R,O)},f=0;f<e.length;f++){var d=e[f].key,p=n[d][a[d]];p<o&&(s=d,o=p)}if(i.mode==="threshold"&&o>=i.threshold||i.mode==="dendrogram"&&e.length===1)return!1;var g=r[s],y=r[a[s]],x;i.mode==="dendrogram"?x={left:g,right:y,key:g.key}:x={value:g.value.concat(y.value),key:g.key},e[g.index]=x,e.splice(y.index,1),r[g.key]=x;for(var b=0;b<e.length;b++){var w=e[b];g.key===w.key?l=1/0:i.linkage==="min"?(l=n[g.key][w.key],n[g.key][w.key]>n[y.key][w.key]&&(l=n[y.key][w.key])):i.linkage==="max"?(l=n[g.key][w.key],n[g.key][w.key]<n[y.key][w.key]&&(l=n[y.key][w.key])):i.linkage==="mean"?l=(n[g.key][w.key]*g.size+n[y.key][w.key]*y.size)/(g.size+y.size):i.mode==="dendrogram"?l=c(w.value,g.value):l=c(w.value[0],g.value[0]),n[g.key][w.key]=n[w.key][g.key]=l}for(var _=0;_<e.length;_++){var k=e[_].key;if(a[k]===g.key||a[k]===y.key){for(var E=k,D=0;D<e.length;D++){var M=e[D].key;n[k][M]<n[k][E]&&(E=M)}a[k]=E}e[_].index=_}return g.key=y.key=g.index=y.index=null,!0},il=function(e,r,n){e&&(e.value?r.push(e.value):(e.left&&il(e.left,r),e.right&&il(e.right,r)))},q1=function(e,r){if(!e)return"";if(e.left&&e.right){var n=q1(e.left,r),a=q1(e.right,r),i=r.add({group:"nodes",data:{id:n+","+a}});return r.add({group:"edges",data:{source:n,target:i.id()}}),r.add({group:"edges",data:{source:a,target:i.id()}}),i.id()}else if(e.value)return e.value.id()},H1=function(e,r,n){if(!e)return[];var a=[],i=[],s=[];return r===0?(e.left&&il(e.left,a),e.right&&il(e.right,i),s=a.concat(i),[n.collection(s)]):r===1?e.value?[n.collection(e.value)]:(e.left&&il(e.left,a),e.right&&il(e.right,i),[n.collection(a),n.collection(i)]):e.value?[n.collection(e.value)]:(e.left&&(a=H1(e.left,r-1,n)),e.right&&(i=H1(e.right,r-1,n)),a.concat(i))},iw=function(e){for(var r=this.cy(),n=this.nodes(),a=MH(e),i=a.attributes,s=function(_,k){return tp(a.distance,i.length,function(E){return i[E](_)},function(E){return i[E](k)},_,k)},o=[],l=[],u=[],c=[],f=0;f<n.length;f++){var d={value:a.mode==="dendrogram"?n[f]:[n[f]],key:f,index:f};o[f]=d,c[f]=d,l[f]=[],u[f]=0}for(var p=0;p<o.length;p++)for(var g=0;g<=p;g++){var y=void 0;a.mode==="dendrogram"?y=p===g?1/0:s(o[p].value,o[g].value):y=p===g?1/0:s(o[p].value[0],o[g].value[0]),l[p][g]=y,l[g][p]=y,y<l[p][u[p]]&&(u[p]=g)}for(var x=aw(o,c,l,u,a);x;)x=aw(o,c,l,u,a);var b;return a.mode==="dendrogram"?(b=H1(o[0],a.dendrogramDepth,r),a.addDendrogram&&q1(o[0],r)):(b=new Array(o.length),o.forEach(function(w,_){w.key=w.index=null,b[_]=r.collection(w.value)})),b},DH={hierarchicalClustering:iw,hca:iw},PH=Lr({distance:"euclidean",preference:"median",damping:.8,maxIterations:1e3,minIterations:100,attributes:[]}),AH=function(e){var r=e.damping,n=e.preference;.5<=r&&r<1||sr("Damping must range on [0.5, 1).  Got: ".concat(r));var a=["median","mean","min","max"];return a.some(function(i){return i===n})||Ie(n)||sr("Preference must be one of [".concat(a.map(function(i){return"'".concat(i,"'")}).join(", "),"] or a number.  Got: ").concat(n)),PH(e)},LH=function(e,r,n,a){var i=function(o,l){return a[l](o)};return-tp(e,a.length,function(s){return i(r,s)},function(s){return i(n,s)},r,n)},RH=function(e,r){var n=null;return r==="median"?n=Rq(e):r==="mean"?n=Lq(e):r==="min"?n=Pq(e):r==="max"?n=Aq(e):n=r,n},OH=function(e,r,n){for(var a=[],i=0;i<e;i++)r[i*e+i]+n[i*e+i]>0&&a.push(i);return a},sw=function(e,r,n){for(var a=[],i=0;i<e;i++){for(var s=-1,o=-1/0,l=0;l<n.length;l++){var u=n[l];r[i*e+u]>o&&(s=u,o=r[i*e+u])}s>0&&a.push(s)}for(var c=0;c<n.length;c++)a[n[c]]=n[c];return a},IH=function(e,r,n){for(var a=sw(e,r,n),i=0;i<n.length;i++){for(var s=[],o=0;o<a.length;o++)a[o]===n[i]&&s.push(o);for(var l=-1,u=-1/0,c=0;c<s.length;c++){for(var f=0,d=0;d<s.length;d++)f+=r[s[d]*e+s[c]];f>u&&(l=c,u=f)}n[i]=s[l]}return a=sw(e,r,n),a},ow=function(e){for(var r=this.cy(),n=this.nodes(),a=AH(e),i={},s=0;s<n.length;s++)i[n[s].id()]=s;var o,l,u,c,f,d;o=n.length,l=o*o,u=new Array(l);for(var p=0;p<l;p++)u[p]=-1/0;for(var g=0;g<o;g++)for(var y=0;y<o;y++)g!==y&&(u[g*o+y]=LH(a.distance,n[g],n[y],a.attributes));c=RH(u,a.preference);for(var x=0;x<o;x++)u[x*o+x]=c;f=new Array(l);for(var b=0;b<l;b++)f[b]=0;d=new Array(l);for(var w=0;w<l;w++)d[w]=0;for(var _=new Array(o),k=new Array(o),E=new Array(o),D=0;D<o;D++)_[D]=0,k[D]=0,E[D]=0;for(var M=new Array(o*a.minIterations),A=0;A<M.length;A++)M[A]=0;var R;for(R=0;R<a.maxIterations;R++){for(var O=0;O<o;O++){for(var N=-1/0,B=-1/0,F=-1,V=0,X=0;X<o;X++)_[X]=f[O*o+X],V=d[O*o+X]+u[O*o+X],V>=N?(B=N,N=V,F=X):V>B&&(B=V);for(var K=0;K<o;K++)f[O*o+K]=(1-a.damping)*(u[O*o+K]-N)+a.damping*_[K];f[O*o+F]=(1-a.damping)*(u[O*o+F]-B)+a.damping*_[F]}for(var U=0;U<o;U++){for(var H=0,ee=0;ee<o;ee++)_[ee]=d[ee*o+U],k[ee]=Math.max(0,f[ee*o+U]),H+=k[ee];H-=k[U],k[U]=f[U*o+U],H+=k[U];for(var re=0;re<o;re++)d[re*o+U]=(1-a.damping)*Math.min(0,H-k[re])+a.damping*_[re];d[U*o+U]=(1-a.damping)*(H-k[U])+a.damping*_[U]}for(var W=0,Z=0;Z<o;Z++){var ue=d[Z*o+Z]+f[Z*o+Z]>0?1:0;M[R%a.minIterations*o+Z]=ue,W+=ue}if(W>0&&(R>=a.minIterations-1||R==a.maxIterations-1)){for(var pe=0,ge=0;ge<o;ge++){E[ge]=0;for(var fe=0;fe<a.minIterations;fe++)E[ge]+=M[fe*o+ge];(E[ge]===0||E[ge]===a.minIterations)&&pe++}if(pe===o)break}}for(var Se=OH(o,f,d),Ee=IH(o,u,Se),ve={},se=0;se<Se.length;se++)ve[Se[se]]=[];for(var ye=0;ye<n.length;ye++){var we=i[n[ye].id()],Le=Ee[we];Le!=null&&ve[Le].push(n[ye])}for(var Ve=new Array(Se.length),it=0;it<Se.length;it++)Ve[it]=r.collection(ve[Se[it]]);return Ve},NH={affinityPropagation:ow,ap:ow},zH=Lr({root:void 0,directed:!1}),BH={hierholzer:function(e){if(!kt(e)){var r=arguments;e={root:r[0],directed:r[1]}}var n=zH(e),a=n.root,i=n.directed,s=this,o=!1,l,u,c;a&&(c=Xe(a)?this.filter(a)[0].id():a[0].id());var f={},d={};i?s.forEach(function(w){var _=w.id();if(w.isNode()){var k=w.indegree(!0),E=w.outdegree(!0),D=k-E,M=E-k;D==1?l?o=!0:l=_:M==1?u?o=!0:u=_:(M>1||D>1)&&(o=!0),f[_]=[],w.outgoers().forEach(function(A){A.isEdge()&&f[_].push(A.id())})}else d[_]=[void 0,w.target().id()]}):s.forEach(function(w){var _=w.id();if(w.isNode()){var k=w.degree(!0);k%2&&(l?u?o=!0:u=_:l=_),f[_]=[],w.connectedEdges().forEach(function(E){return f[_].push(E.id())})}else d[_]=[w.source().id(),w.target().id()]});var p={found:!1,trail:void 0};if(o)return p;if(u&&l)if(i){if(c&&u!=c)return p;c=u}else{if(c&&u!=c&&l!=c)return p;c||(c=u)}else c||(c=s[0].id());var g=function(_){for(var k=_,E=[_],D,M,A;f[k].length;)D=f[k].shift(),M=d[D][0],A=d[D][1],k!=A?(f[A]=f[A].filter(function(R){return R!=D}),k=A):!i&&k!=M&&(f[M]=f[M].filter(function(R){return R!=D}),k=M),E.unshift(D),E.unshift(k);return E},y=[],x=[];for(x=g(c);x.length!=1;)f[x[0]].length==0?(y.unshift(s.getElementById(x.shift())),y.unshift(s.getElementById(x.shift()))):x=g(x.shift()).concat(x);y.unshift(s.getElementById(x.shift()));for(var b in f)if(f[b].length)return p;return p.found=!0,p.trail=this.spawn(y,!0),p}},wf=function(){var e=this,r={},n=0,a=0,i=[],s=[],o={},l=function(d,p){for(var g=s.length-1,y=[],x=e.spawn();s[g].x!=d||s[g].y!=p;)y.push(s.pop().edge),g--;y.push(s.pop().edge),y.forEach(function(b){var w=b.connectedNodes().intersection(e);x.merge(b),w.forEach(function(_){var k=_.id(),E=_.connectedEdges().intersection(e);x.merge(_),r[k].cutVertex?x.merge(E.filter(function(D){return D.isLoop()})):x.merge(E)})}),i.push(x)},u=function(d,p,g){d===g&&(a+=1),r[p]={id:n,low:n++,cutVertex:!1};var y=e.getElementById(p).connectedEdges().intersection(e);if(y.size()===0)i.push(e.spawn(e.getElementById(p)));else{var x,b,w,_;y.forEach(function(k){x=k.source().id(),b=k.target().id(),w=x===p?b:x,w!==g&&(_=k.id(),o[_]||(o[_]=!0,s.push({x:p,y:w,edge:k})),w in r?r[p].low=Math.min(r[p].low,r[w].id):(u(d,w,p),r[p].low=Math.min(r[p].low,r[w].low),r[p].id<=r[w].low&&(r[p].cutVertex=!0,l(p,w))))})}};e.forEach(function(f){if(f.isNode()){var d=f.id();d in r||(a=0,u(d,d),r[d].cutVertex=a>1)}});var c=Object.keys(r).filter(function(f){return r[f].cutVertex}).map(function(f){return e.getElementById(f)});return{cut:e.spawn(c),components:i}},FH={hopcroftTarjanBiconnected:wf,htbc:wf,htb:wf,hopcroftTarjanBiconnectedComponents:wf},_f=function(){var e=this,r={},n=0,a=[],i=[],s=e.spawn(e),o=function(u){i.push(u),r[u]={index:n,low:n++,explored:!1};var c=e.getElementById(u).connectedEdges().intersection(e);if(c.forEach(function(y){var x=y.target().id();x!==u&&(x in r||o(x),r[x].explored||(r[u].low=Math.min(r[u].low,r[x].low)))}),r[u].index===r[u].low){for(var f=e.spawn();;){var d=i.pop();if(f.merge(e.getElementById(d)),r[d].low=r[u].index,r[d].explored=!0,d===u)break}var p=f.edgesWith(f),g=f.merge(p);a.push(g),s=s.difference(g)}};return e.forEach(function(l){if(l.isNode()){var u=l.id();u in r||o(u)}}),{cut:s,components:a}},$H={tarjanStronglyConnected:_f,tsc:_f,tscc:_f,tarjanStronglyConnectedComponents:_f},kk={};[zc,yq,bq,wq,Sq,Eq,Mq,Jq,yl,bl,$1,dH,EH,DH,NH,BH,FH,$H].forEach(function(t){Je(kk,t)});/*!
Embeddable Minimum Strictly-Compliant Promises/A+ 1.1.1 Thenable
Copyright (c) 2013-2014 Ralf S. Engelschall (http://engelschall.com)
Licensed under The MIT License (http://opensource.org/licenses/MIT)
*/var Ek=0,Ck=1,Tk=2,Sa=function(e){if(!(this instanceof Sa))return new Sa(e);this.id="Thenable/1.0.7",this.state=Ek,this.fulfillValue=void 0,this.rejectReason=void 0,this.onFulfilled=[],this.onRejected=[],this.proxy={then:this.then.bind(this)},typeof e=="function"&&e.call(this,this.fulfill.bind(this),this.reject.bind(this))};Sa.prototype={fulfill:function(e){return lw(this,Ck,"fulfillValue",e)},reject:function(e){return lw(this,Tk,"rejectReason",e)},then:function(e,r){var n=this,a=new Sa;return n.onFulfilled.push(cw(e,a,"fulfill")),n.onRejected.push(cw(r,a,"reject")),Mk(n),a.proxy}};var lw=function(e,r,n,a){return e.state===Ek&&(e.state=r,e[n]=a,Mk(e)),e},Mk=function(e){e.state===Ck?uw(e,"onFulfilled",e.fulfillValue):e.state===Tk&&uw(e,"onRejected",e.rejectReason)},uw=function(e,r,n){if(e[r].length!==0){var a=e[r];e[r]=[];var i=function(){for(var o=0;o<a.length;o++)a[o](n)};typeof setImmediate=="function"?setImmediate(i):setTimeout(i,0)}},cw=function(e,r,n){return function(a){if(typeof e!="function")r[n].call(r,a);else{var i;try{i=e(a)}catch(s){r.reject(s);return}Dk(r,i)}}},Dk=function(e,r){if(e===r||e.proxy===r){e.reject(new TypeError("cannot resolve promise with itself"));return}var n;if(Ar(r)==="object"&&r!==null||typeof r=="function")try{n=r.then}catch(i){e.reject(i);return}if(typeof n=="function"){var a=!1;try{n.call(r,function(i){a||(a=!0,i===r?e.reject(new TypeError("circular thenable chain")):Dk(e,i))},function(i){a||(a=!0,e.reject(i))})}catch(i){a||e.reject(i)}return}e.fulfill(r)};Sa.all=function(t){return new Sa(function(e,r){for(var n=new Array(t.length),a=0,i=function(l,u){n[l]=u,a++,a===t.length&&e(n)},s=0;s<t.length;s++)(function(o){var l=t[o],u=l!=null&&l.then!=null;if(u)l.then(function(f){i(o,f)},function(f){r(f)});else{var c=l;i(o,c)}})(s)})};Sa.resolve=function(t){return new Sa(function(e,r){e(t)})};Sa.reject=function(t){return new Sa(function(e,r){r(t)})};var Kl=typeof Promise<"u"?Promise:Sa,V1=function(e,r,n){var a=I2(e),i=!a,s=this._private=Je({duration:1e3},r,n);if(s.target=e,s.style=s.style||s.css,s.started=!1,s.playing=!1,s.hooked=!1,s.applying=!1,s.progress=0,s.completes=[],s.frames=[],s.complete&&ur(s.complete)&&s.completes.push(s.complete),i){var o=e.position();s.startPosition=s.startPosition||{x:o.x,y:o.y},s.startStyle=s.startStyle||e.cy().style().getAnimationStartStyle(e,s.style)}if(a){var l=e.pan();s.startPan={x:l.x,y:l.y},s.startZoom=e.zoom()}this.length=1,this[0]=this},co=V1.prototype;Je(co,{instanceString:function(){return"animation"},hook:function(){var e=this._private;if(!e.hooked){var r,n=e.target._private.animation;e.queue?r=n.queue:r=n.current,r.push(this),Vn(e.target)&&e.target.cy().addToAnimationPool(e.target),e.hooked=!0}return this},play:function(){var e=this._private;return e.progress===1&&(e.progress=0),e.playing=!0,e.started=!1,e.stopped=!1,this.hook(),this},playing:function(){return this._private.playing},apply:function(){var e=this._private;return e.applying=!0,e.started=!1,e.stopped=!1,this.hook(),this},applying:function(){return this._private.applying},pause:function(){var e=this._private;return e.playing=!1,e.started=!1,this},stop:function(){var e=this._private;return e.playing=!1,e.started=!1,e.stopped=!0,this},rewind:function(){return this.progress(0)},fastforward:function(){return this.progress(1)},time:function(e){var r=this._private;return e===void 0?r.progress*r.duration:this.progress(e/r.duration)},progress:function(e){var r=this._private,n=r.playing;return e===void 0?r.progress:(n&&this.pause(),r.progress=e,r.started=!1,n&&this.play(),this)},completed:function(){return this._private.progress===1},reverse:function(){var e=this._private,r=e.playing;r&&this.pause(),e.progress=1-e.progress,e.started=!1;var n=function(u,c){var f=e[u];f!=null&&(e[u]=e[c],e[c]=f)};if(n("zoom","startZoom"),n("pan","startPan"),n("position","startPosition"),e.style)for(var a=0;a<e.style.length;a++){var i=e.style[a],s=i.name,o=e.startStyle[s];e.startStyle[s]=i,e.style[a]=o}return r&&this.play(),this},promise:function(e){var r=this._private,n;switch(e){case"frame":n=r.frames;break;default:case"complete":case"completed":n=r.completes}return new Kl(function(a,i){n.push(function(){a()})})}});co.complete=co.completed;co.run=co.play;co.running=co.playing;var qH={animated:function(){return function(){var r=this,n=r.length!==void 0,a=n?r:[r],i=this._private.cy||this;if(!i.styleEnabled())return!1;var s=a[0];if(s)return s._private.animation.current.length>0}},clearQueue:function(){return function(){var r=this,n=r.length!==void 0,a=n?r:[r],i=this._private.cy||this;if(!i.styleEnabled())return this;for(var s=0;s<a.length;s++){var o=a[s];o._private.animation.queue=[]}return this}},delay:function(){return function(r,n){var a=this._private.cy||this;return a.styleEnabled()?this.animate({delay:r,duration:r,complete:n}):this}},delayAnimation:function(){return function(r,n){var a=this._private.cy||this;return a.styleEnabled()?this.animation({delay:r,duration:r,complete:n}):this}},animation:function(){return function(r,n){var a=this,i=a.length!==void 0,s=i?a:[a],o=this._private.cy||this,l=!i,u=!l;if(!o.styleEnabled())return this;var c=o.style();r=Je({},r,n);var f=Object.keys(r).length===0;if(f)return new V1(s[0],r);switch(r.duration===void 0&&(r.duration=400),r.duration){case"slow":r.duration=600;break;case"fast":r.duration=200;break}if(u&&(r.style=c.getPropsList(r.style||r.css),r.css=void 0),u&&r.renderedPosition!=null){var d=r.renderedPosition,p=o.pan(),g=o.zoom();r.position=hk(d,g,p)}if(l&&r.panBy!=null){var y=r.panBy,x=o.pan();r.pan={x:x.x+y.x,y:x.y+y.y}}var b=r.center||r.centre;if(l&&b!=null){var w=o.getCenterPan(b.eles,r.zoom);w!=null&&(r.pan=w)}if(l&&r.fit!=null){var _=r.fit,k=o.getFitViewport(_.eles||_.boundingBox,_.padding);k!=null&&(r.pan=k.pan,r.zoom=k.zoom)}if(l&&kt(r.zoom)){var E=o.getZoomedViewport(r.zoom);E!=null?(E.zoomed&&(r.zoom=E.zoom),E.panned&&(r.pan=E.pan)):r.zoom=null}return new V1(s[0],r)}},animate:function(){return function(r,n){var a=this,i=a.length!==void 0,s=i?a:[a],o=this._private.cy||this;if(!o.styleEnabled())return this;n&&(r=Je({},r,n));for(var l=0;l<s.length;l++){var u=s[l],c=u.animated()&&(r.queue===void 0||r.queue),f=u.animation(r,c?{queue:!0}:void 0);f.play()}return this}},stop:function(){return function(r,n){var a=this,i=a.length!==void 0,s=i?a:[a],o=this._private.cy||this;if(!o.styleEnabled())return this;for(var l=0;l<s.length;l++){for(var u=s[l],c=u._private,f=c.animation.current,d=0;d<f.length;d++){var p=f[d],g=p._private;n&&(g.duration=0)}r&&(c.animation.queue=[]),n||(c.animation.current=[])}return o.notify("draw"),this}}},rm,fw;function rp(){if(fw)return rm;fw=1;var t=Array.isArray;return rm=t,rm}var nm,dw;function HH(){if(dw)return nm;dw=1;var t=rp(),e=f0(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(i,s){if(t(i))return!1;var o=typeof i;return o=="number"||o=="symbol"||o=="boolean"||i==null||e(i)?!0:n.test(i)||!r.test(i)||s!=null&&i in Object(s)}return nm=a,nm}var am,hw;function VH(){if(hw)return am;hw=1;var t=ak(),e=c0(),r="[object AsyncFunction]",n="[object Function]",a="[object GeneratorFunction]",i="[object Proxy]";function s(o){if(!e(o))return!1;var l=t(o);return l==n||l==a||l==r||l==i}return am=s,am}var im,pw;function jH(){if(pw)return im;pw=1;var t=Qh(),e=t["__core-js_shared__"];return im=e,im}var sm,gw;function UH(){if(gw)return sm;gw=1;var t=jH(),e=function(){var n=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function r(n){return!!e&&e in n}return sm=r,sm}var om,mw;function WH(){if(mw)return om;mw=1;var t=Function.prototype,e=t.toString;function r(n){if(n!=null){try{return e.call(n)}catch{}try{return n+""}catch{}}return""}return om=r,om}var lm,vw;function GH(){if(vw)return lm;vw=1;var t=VH(),e=UH(),r=c0(),n=WH(),a=/[\\^$.*+?()[\]{}|]/g,i=/^\[object .+?Constructor\]$/,s=Function.prototype,o=Object.prototype,l=s.toString,u=o.hasOwnProperty,c=RegExp("^"+l.call(u).replace(a,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function f(d){if(!r(d)||e(d))return!1;var p=t(d)?c:i;return p.test(n(d))}return lm=f,lm}var um,yw;function YH(){if(yw)return um;yw=1;function t(e,r){return e==null?void 0:e[r]}return um=t,um}var cm,bw;function U2(){if(bw)return cm;bw=1;var t=GH(),e=YH();function r(n,a){var i=e(n,a);return t(i)?i:void 0}return cm=r,cm}var fm,xw;function np(){if(xw)return fm;xw=1;var t=U2(),e=t(Object,"create");return fm=e,fm}var dm,ww;function XH(){if(ww)return dm;ww=1;var t=np();function e(){this.__data__=t?t(null):{},this.size=0}return dm=e,dm}var hm,_w;function KH(){if(_w)return hm;_w=1;function t(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}return hm=t,hm}var pm,Sw;function ZH(){if(Sw)return pm;Sw=1;var t=np(),e="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function a(i){var s=this.__data__;if(t){var o=s[i];return o===e?void 0:o}return n.call(s,i)?s[i]:void 0}return pm=a,pm}var gm,kw;function QH(){if(kw)return gm;kw=1;var t=np(),e=Object.prototype,r=e.hasOwnProperty;function n(a){var i=this.__data__;return t?i[a]!==void 0:r.call(i,a)}return gm=n,gm}var mm,Ew;function JH(){if(Ew)return mm;Ew=1;var t=np(),e="__lodash_hash_undefined__";function r(n,a){var i=this.__data__;return this.size+=this.has(n)?0:1,i[n]=t&&a===void 0?e:a,this}return mm=r,mm}var vm,Cw;function eV(){if(Cw)return vm;Cw=1;var t=XH(),e=KH(),r=ZH(),n=QH(),a=JH();function i(s){var o=-1,l=s==null?0:s.length;for(this.clear();++o<l;){var u=s[o];this.set(u[0],u[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=r,i.prototype.has=n,i.prototype.set=a,vm=i,vm}var ym,Tw;function tV(){if(Tw)return ym;Tw=1;function t(){this.__data__=[],this.size=0}return ym=t,ym}var bm,Mw;function Pk(){if(Mw)return bm;Mw=1;function t(e,r){return e===r||e!==e&&r!==r}return bm=t,bm}var xm,Dw;function ap(){if(Dw)return xm;Dw=1;var t=Pk();function e(r,n){for(var a=r.length;a--;)if(t(r[a][0],n))return a;return-1}return xm=e,xm}var wm,Pw;function rV(){if(Pw)return wm;Pw=1;var t=ap(),e=Array.prototype,r=e.splice;function n(a){var i=this.__data__,s=t(i,a);if(s<0)return!1;var o=i.length-1;return s==o?i.pop():r.call(i,s,1),--this.size,!0}return wm=n,wm}var _m,Aw;function nV(){if(Aw)return _m;Aw=1;var t=ap();function e(r){var n=this.__data__,a=t(n,r);return a<0?void 0:n[a][1]}return _m=e,_m}var Sm,Lw;function aV(){if(Lw)return Sm;Lw=1;var t=ap();function e(r){return t(this.__data__,r)>-1}return Sm=e,Sm}var km,Rw;function iV(){if(Rw)return km;Rw=1;var t=ap();function e(r,n){var a=this.__data__,i=t(a,r);return i<0?(++this.size,a.push([r,n])):a[i][1]=n,this}return km=e,km}var Em,Ow;function sV(){if(Ow)return Em;Ow=1;var t=tV(),e=rV(),r=nV(),n=aV(),a=iV();function i(s){var o=-1,l=s==null?0:s.length;for(this.clear();++o<l;){var u=s[o];this.set(u[0],u[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=r,i.prototype.has=n,i.prototype.set=a,Em=i,Em}var Cm,Iw;function oV(){if(Iw)return Cm;Iw=1;var t=U2(),e=Qh(),r=t(e,"Map");return Cm=r,Cm}var Tm,Nw;function lV(){if(Nw)return Tm;Nw=1;var t=eV(),e=sV(),r=oV();function n(){this.size=0,this.__data__={hash:new t,map:new(r||e),string:new t}}return Tm=n,Tm}var Mm,zw;function uV(){if(zw)return Mm;zw=1;function t(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}return Mm=t,Mm}var Dm,Bw;function ip(){if(Bw)return Dm;Bw=1;var t=uV();function e(r,n){var a=r.__data__;return t(n)?a[typeof n=="string"?"string":"hash"]:a.map}return Dm=e,Dm}var Pm,Fw;function cV(){if(Fw)return Pm;Fw=1;var t=ip();function e(r){var n=t(this,r).delete(r);return this.size-=n?1:0,n}return Pm=e,Pm}var Am,$w;function fV(){if($w)return Am;$w=1;var t=ip();function e(r){return t(this,r).get(r)}return Am=e,Am}var Lm,qw;function dV(){if(qw)return Lm;qw=1;var t=ip();function e(r){return t(this,r).has(r)}return Lm=e,Lm}var Rm,Hw;function hV(){if(Hw)return Rm;Hw=1;var t=ip();function e(r,n){var a=t(this,r),i=a.size;return a.set(r,n),this.size+=a.size==i?0:1,this}return Rm=e,Rm}var Om,Vw;function pV(){if(Vw)return Om;Vw=1;var t=lV(),e=cV(),r=fV(),n=dV(),a=hV();function i(s){var o=-1,l=s==null?0:s.length;for(this.clear();++o<l;){var u=s[o];this.set(u[0],u[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=r,i.prototype.has=n,i.prototype.set=a,Om=i,Om}var Im,jw;function gV(){if(jw)return Im;jw=1;var t=pV(),e="Expected a function";function r(n,a){if(typeof n!="function"||a!=null&&typeof a!="function")throw new TypeError(e);var i=function(){var s=arguments,o=a?a.apply(this,s):s[0],l=i.cache;if(l.has(o))return l.get(o);var u=n.apply(this,s);return i.cache=l.set(o,u)||l,u};return i.cache=new(r.Cache||t),i}return r.Cache=t,Im=r,Im}var Nm,Uw;function mV(){if(Uw)return Nm;Uw=1;var t=gV(),e=500;function r(n){var a=t(n,function(s){return i.size===e&&i.clear(),s}),i=a.cache;return a}return Nm=r,Nm}var zm,Ww;function Ak(){if(Ww)return zm;Ww=1;var t=mV(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=t(function(a){var i=[];return a.charCodeAt(0)===46&&i.push(""),a.replace(e,function(s,o,l,u){i.push(l?u.replace(r,"$1"):o||s)}),i});return zm=n,zm}var Bm,Gw;function Lk(){if(Gw)return Bm;Gw=1;function t(e,r){for(var n=-1,a=e==null?0:e.length,i=Array(a);++n<a;)i[n]=r(e[n],n,e);return i}return Bm=t,Bm}var Fm,Yw;function vV(){if(Yw)return Fm;Yw=1;var t=z2(),e=Lk(),r=rp(),n=f0(),a=t?t.prototype:void 0,i=a?a.toString:void 0;function s(o){if(typeof o=="string")return o;if(r(o))return e(o,s)+"";if(n(o))return i?i.call(o):"";var l=o+"";return l=="0"&&1/o==-1/0?"-0":l}return Fm=s,Fm}var $m,Xw;function Rk(){if(Xw)return $m;Xw=1;var t=vV();function e(r){return r==null?"":t(r)}return $m=e,$m}var qm,Kw;function Ok(){if(Kw)return qm;Kw=1;var t=rp(),e=HH(),r=Ak(),n=Rk();function a(i,s){return t(i)?i:e(i,s)?[i]:r(n(i))}return qm=a,qm}var Hm,Zw;function W2(){if(Zw)return Hm;Zw=1;var t=f0();function e(r){if(typeof r=="string"||t(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return Hm=e,Hm}var Vm,Qw;function yV(){if(Qw)return Vm;Qw=1;var t=Ok(),e=W2();function r(n,a){a=t(a,n);for(var i=0,s=a.length;n!=null&&i<s;)n=n[e(a[i++])];return i&&i==s?n:void 0}return Vm=r,Vm}var jm,Jw;function bV(){if(Jw)return jm;Jw=1;var t=yV();function e(r,n,a){var i=r==null?void 0:t(r,n);return i===void 0?a:i}return jm=e,jm}var xV=bV(),wV=u0(xV),Um,e6;function _V(){if(e6)return Um;e6=1;var t=U2(),e=function(){try{var r=t(Object,"defineProperty");return r({},"",{}),r}catch{}}();return Um=e,Um}var Wm,t6;function SV(){if(t6)return Wm;t6=1;var t=_V();function e(r,n,a){n=="__proto__"&&t?t(r,n,{configurable:!0,enumerable:!0,value:a,writable:!0}):r[n]=a}return Wm=e,Wm}var Gm,r6;function kV(){if(r6)return Gm;r6=1;var t=SV(),e=Pk(),r=Object.prototype,n=r.hasOwnProperty;function a(i,s,o){var l=i[s];(!(n.call(i,s)&&e(l,o))||o===void 0&&!(s in i))&&t(i,s,o)}return Gm=a,Gm}var Ym,n6;function EV(){if(n6)return Ym;n6=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function r(n,a){var i=typeof n;return a=a??t,!!a&&(i=="number"||i!="symbol"&&e.test(n))&&n>-1&&n%1==0&&n<a}return Ym=r,Ym}var Xm,a6;function CV(){if(a6)return Xm;a6=1;var t=kV(),e=Ok(),r=EV(),n=c0(),a=W2();function i(s,o,l,u){if(!n(s))return s;o=e(o,s);for(var c=-1,f=o.length,d=f-1,p=s;p!=null&&++c<f;){var g=a(o[c]),y=l;if(g==="__proto__"||g==="constructor"||g==="prototype")return s;if(c!=d){var x=p[g];y=u?u(x,g,p):void 0,y===void 0&&(y=n(x)?x:r(o[c+1])?[]:{})}t(p,g,y),p=p[g]}return s}return Xm=i,Xm}var Km,i6;function TV(){if(i6)return Km;i6=1;var t=CV();function e(r,n,a){return r==null?r:t(r,n,a)}return Km=e,Km}var MV=TV(),DV=u0(MV),Zm,s6;function PV(){if(s6)return Zm;s6=1;function t(e,r){var n=-1,a=e.length;for(r||(r=Array(a));++n<a;)r[n]=e[n];return r}return Zm=t,Zm}var Qm,o6;function AV(){if(o6)return Qm;o6=1;var t=Lk(),e=PV(),r=rp(),n=f0(),a=Ak(),i=W2(),s=Rk();function o(l){return r(l)?t(l,i):n(l)?[l]:e(a(s(l)))}return Qm=o,Qm}var LV=AV(),RV=u0(LV),OV={data:function(e){var r={field:"data",bindingEvent:"data",allowBinding:!1,allowSetting:!1,allowGetting:!1,settingEvent:"data",settingTriggersEvent:!1,triggerFnName:"trigger",immutableKeys:{},updateStyle:!1,beforeGet:function(a){},beforeSet:function(a,i){},onSet:function(a){},canSet:function(a){return!0}};return e=Je({},r,e),function(a,i){var s=e,o=this,l=o.length!==void 0,u=l?o:[o],c=l?o[0]:o;if(Xe(a)){var f=a.indexOf(".")!==-1,d=f&&RV(a);if(s.allowGetting&&i===void 0){var p;return c&&(s.beforeGet(c),d&&c._private[s.field][a]===void 0?p=wV(c._private[s.field],d):p=c._private[s.field][a]),p}else if(s.allowSetting&&i!==void 0){var g=!s.immutableKeys[a];if(g){var y=GS({},a,i);s.beforeSet(o,y);for(var x=0,b=u.length;x<b;x++){var w=u[x];s.canSet(w)&&(d&&c._private[s.field][a]===void 0?DV(w._private[s.field],d,i):w._private[s.field][a]=i)}s.updateStyle&&o.updateStyle(),s.onSet(o),s.settingTriggersEvent&&o[s.triggerFnName](s.settingEvent)}}}else if(s.allowSetting&&kt(a)){var _=a,k,E,D=Object.keys(_);s.beforeSet(o,_);for(var M=0;M<D.length;M++){k=D[M],E=_[k];var A=!s.immutableKeys[k];if(A)for(var R=0;R<u.length;R++){var O=u[R];s.canSet(O)&&(O._private[s.field][k]=E)}}s.updateStyle&&o.updateStyle(),s.onSet(o),s.settingTriggersEvent&&o[s.triggerFnName](s.settingEvent)}else if(s.allowBinding&&ur(a)){var N=a;o.on(s.bindingEvent,N)}else if(s.allowGetting&&a===void 0){var B;return c&&(s.beforeGet(c),B=c._private[s.field]),B}return o}},removeData:function(e){var r={field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!1,immutableKeys:{}};return e=Je({},r,e),function(a){var i=e,s=this,o=s.length!==void 0,l=o?s:[s];if(Xe(a)){for(var u=a.split(/\s+/),c=u.length,f=0;f<c;f++){var d=u[f];if(!us(d)){var p=!i.immutableKeys[d];if(p)for(var g=0,y=l.length;g<y;g++)l[g]._private[i.field][d]=void 0}}i.triggerEvent&&s[i.triggerFnName](i.event)}else if(a===void 0){for(var x=0,b=l.length;x<b;x++)for(var w=l[x]._private[i.field],_=Object.keys(w),k=0;k<_.length;k++){var E=_[k],D=!i.immutableKeys[E];D&&(w[E]=void 0)}i.triggerEvent&&s[i.triggerFnName](i.event)}return s}}},IV={eventAliasesOn:function(e){var r=e;r.addListener=r.listen=r.bind=r.on,r.unlisten=r.unbind=r.off=r.removeListener,r.trigger=r.emit,r.pon=r.promiseOn=function(n,a){var i=this,s=Array.prototype.slice.call(arguments,0);return new Kl(function(o,l){var u=function(p){i.off.apply(i,f),o(p)},c=s.concat([u]),f=c.concat([]);i.on.apply(i,c)})}}},At={};[qH,OV,IV].forEach(function(t){Je(At,t)});var NV={animate:At.animate(),animation:At.animation(),animated:At.animated(),clearQueue:At.clearQueue(),delay:At.delay(),delayAnimation:At.delayAnimation(),stop:At.stop()},nd={classes:function(e){var r=this;if(e===void 0){var n=[];return r[0]._private.classes.forEach(function(g){return n.push(g)}),n}else Vt(e)||(e=(e||"").match(/\S+/g)||[]);for(var a=[],i=new Xl(e),s=0;s<r.length;s++){for(var o=r[s],l=o._private,u=l.classes,c=!1,f=0;f<e.length;f++){var d=e[f],p=u.has(d);if(!p){c=!0;break}}c||(c=u.size!==e.length),c&&(l.classes=i,a.push(o))}return a.length>0&&this.spawn(a).updateStyle().emit("class"),r},addClass:function(e){return this.toggleClass(e,!0)},hasClass:function(e){var r=this[0];return r!=null&&r._private.classes.has(e)},toggleClass:function(e,r){Vt(e)||(e=e.match(/\S+/g)||[]);for(var n=this,a=r===void 0,i=[],s=0,o=n.length;s<o;s++)for(var l=n[s],u=l._private.classes,c=!1,f=0;f<e.length;f++){var d=e[f],p=u.has(d),g=!1;r||a&&!p?(u.add(d),g=!0):(!r||a&&p)&&(u.delete(d),g=!0),!c&&g&&(i.push(l),c=!0)}return i.length>0&&this.spawn(i).updateStyle().emit("class"),n},removeClass:function(e){return this.toggleClass(e,!1)},flashClass:function(e,r){var n=this;if(r==null)r=250;else if(r===0)return n;return n.addClass(e),setTimeout(function(){n.removeClass(e)},r),n}};nd.className=nd.classNames=nd.classes;var xt={metaChar:"[\\!\\\"\\#\\$\\%\\&\\'\\(\\)\\*\\+\\,\\.\\/\\:\\;\\<\\=\\>\\?\\@\\[\\]\\^\\`\\{\\|\\}\\~]",comparatorOp:"=|\\!=|>|>=|<|<=|\\$=|\\^=|\\*=",boolOp:"\\?|\\!|\\^",string:`"(?:\\\\"|[^"])*"|'(?:\\\\'|[^'])*'`,number:Pr,meta:"degree|indegree|outdegree",separator:"\\s*,\\s*",descendant:"\\s+",child:"\\s+>\\s+",subject:"\\$",group:"node|edge|\\*",directedEdge:"\\s+->\\s+",undirectedEdge:"\\s+<->\\s+"};xt.variable="(?:[\\w-.]|(?:\\\\"+xt.metaChar+"))+";xt.className="(?:[\\w-]|(?:\\\\"+xt.metaChar+"))+";xt.value=xt.string+"|"+xt.number;xt.id=xt.variable;(function(){var t,e,r;for(t=xt.comparatorOp.split("|"),r=0;r<t.length;r++)e=t[r],xt.comparatorOp+="|@"+e;for(t=xt.comparatorOp.split("|"),r=0;r<t.length;r++)e=t[r],!(e.indexOf("!")>=0)&&e!=="="&&(xt.comparatorOp+="|\\!"+e)})();var zt=function(){return{checks:[]}},He={GROUP:0,COLLECTION:1,FILTER:2,DATA_COMPARE:3,DATA_EXIST:4,DATA_BOOL:5,META_COMPARE:6,STATE:7,ID:8,CLASS:9,UNDIRECTED_EDGE:10,DIRECTED_EDGE:11,NODE_SOURCE:12,NODE_TARGET:13,NODE_NEIGHBOR:14,CHILD:15,DESCENDANT:16,PARENT:17,ANCESTOR:18,COMPOUND_SPLIT:19,TRUE:20},j1=[{selector:":selected",matches:function(e){return e.selected()}},{selector:":unselected",matches:function(e){return!e.selected()}},{selector:":selectable",matches:function(e){return e.selectable()}},{selector:":unselectable",matches:function(e){return!e.selectable()}},{selector:":locked",matches:function(e){return e.locked()}},{selector:":unlocked",matches:function(e){return!e.locked()}},{selector:":visible",matches:function(e){return e.visible()}},{selector:":hidden",matches:function(e){return!e.visible()}},{selector:":transparent",matches:function(e){return e.transparent()}},{selector:":grabbed",matches:function(e){return e.grabbed()}},{selector:":free",matches:function(e){return!e.grabbed()}},{selector:":removed",matches:function(e){return e.removed()}},{selector:":inside",matches:function(e){return!e.removed()}},{selector:":grabbable",matches:function(e){return e.grabbable()}},{selector:":ungrabbable",matches:function(e){return!e.grabbable()}},{selector:":animated",matches:function(e){return e.animated()}},{selector:":unanimated",matches:function(e){return!e.animated()}},{selector:":parent",matches:function(e){return e.isParent()}},{selector:":childless",matches:function(e){return e.isChildless()}},{selector:":child",matches:function(e){return e.isChild()}},{selector:":orphan",matches:function(e){return e.isOrphan()}},{selector:":nonorphan",matches:function(e){return e.isChild()}},{selector:":compound",matches:function(e){return e.isNode()?e.isParent():e.source().isParent()||e.target().isParent()}},{selector:":loop",matches:function(e){return e.isLoop()}},{selector:":simple",matches:function(e){return e.isSimple()}},{selector:":active",matches:function(e){return e.active()}},{selector:":inactive",matches:function(e){return!e.active()}},{selector:":backgrounding",matches:function(e){return e.backgrounding()}},{selector:":nonbackgrounding",matches:function(e){return!e.backgrounding()}}].sort(function(t,e){return F$(t.selector,e.selector)}),zV=function(){for(var t={},e,r=0;r<j1.length;r++)e=j1[r],t[e.selector]=e.matches;return t}(),BV=function(e,r){return zV[e](r)},FV="("+j1.map(function(t){return t.selector}).join("|")+")",Po=function(e){return e.replace(new RegExp("\\\\("+xt.metaChar+")","g"),function(r,n){return n})},Ai=function(e,r,n){e[e.length-1]=n},U1=[{name:"group",query:!0,regex:"("+xt.group+")",populate:function(e,r,n){var a=Br(n,1),i=a[0];r.checks.push({type:He.GROUP,value:i==="*"?i:i+"s"})}},{name:"state",query:!0,regex:FV,populate:function(e,r,n){var a=Br(n,1),i=a[0];r.checks.push({type:He.STATE,value:i})}},{name:"id",query:!0,regex:"\\#("+xt.id+")",populate:function(e,r,n){var a=Br(n,1),i=a[0];r.checks.push({type:He.ID,value:Po(i)})}},{name:"className",query:!0,regex:"\\.("+xt.className+")",populate:function(e,r,n){var a=Br(n,1),i=a[0];r.checks.push({type:He.CLASS,value:Po(i)})}},{name:"dataExists",query:!0,regex:"\\[\\s*("+xt.variable+")\\s*\\]",populate:function(e,r,n){var a=Br(n,1),i=a[0];r.checks.push({type:He.DATA_EXIST,field:Po(i)})}},{name:"dataCompare",query:!0,regex:"\\[\\s*("+xt.variable+")\\s*("+xt.comparatorOp+")\\s*("+xt.value+")\\s*\\]",populate:function(e,r,n){var a=Br(n,3),i=a[0],s=a[1],o=a[2],l=new RegExp("^"+xt.string+"$").exec(o)!=null;l?o=o.substring(1,o.length-1):o=parseFloat(o),r.checks.push({type:He.DATA_COMPARE,field:Po(i),operator:s,value:o})}},{name:"dataBool",query:!0,regex:"\\[\\s*("+xt.boolOp+")\\s*("+xt.variable+")\\s*\\]",populate:function(e,r,n){var a=Br(n,2),i=a[0],s=a[1];r.checks.push({type:He.DATA_BOOL,field:Po(s),operator:i})}},{name:"metaCompare",query:!0,regex:"\\[\\[\\s*("+xt.meta+")\\s*("+xt.comparatorOp+")\\s*("+xt.number+")\\s*\\]\\]",populate:function(e,r,n){var a=Br(n,3),i=a[0],s=a[1],o=a[2];r.checks.push({type:He.META_COMPARE,field:Po(i),operator:s,value:parseFloat(o)})}},{name:"nextQuery",separator:!0,regex:xt.separator,populate:function(e,r){var n=e.currentSubject,a=e.edgeCount,i=e.compoundCount,s=e[e.length-1];n!=null&&(s.subject=n,e.currentSubject=null),s.edgeCount=a,s.compoundCount=i,e.edgeCount=0,e.compoundCount=0;var o=e[e.length++]=zt();return o}},{name:"directedEdge",separator:!0,regex:xt.directedEdge,populate:function(e,r){if(e.currentSubject==null){var n=zt(),a=r,i=zt();return n.checks.push({type:He.DIRECTED_EDGE,source:a,target:i}),Ai(e,r,n),e.edgeCount++,i}else{var s=zt(),o=r,l=zt();return s.checks.push({type:He.NODE_SOURCE,source:o,target:l}),Ai(e,r,s),e.edgeCount++,l}}},{name:"undirectedEdge",separator:!0,regex:xt.undirectedEdge,populate:function(e,r){if(e.currentSubject==null){var n=zt(),a=r,i=zt();return n.checks.push({type:He.UNDIRECTED_EDGE,nodes:[a,i]}),Ai(e,r,n),e.edgeCount++,i}else{var s=zt(),o=r,l=zt();return s.checks.push({type:He.NODE_NEIGHBOR,node:o,neighbor:l}),Ai(e,r,s),l}}},{name:"child",separator:!0,regex:xt.child,populate:function(e,r){if(e.currentSubject==null){var n=zt(),a=zt(),i=e[e.length-1];return n.checks.push({type:He.CHILD,parent:i,child:a}),Ai(e,r,n),e.compoundCount++,a}else if(e.currentSubject===r){var s=zt(),o=e[e.length-1],l=zt(),u=zt(),c=zt(),f=zt();return s.checks.push({type:He.COMPOUND_SPLIT,left:o,right:l,subject:u}),u.checks=r.checks,r.checks=[{type:He.TRUE}],f.checks.push({type:He.TRUE}),l.checks.push({type:He.PARENT,parent:f,child:c}),Ai(e,o,s),e.currentSubject=u,e.compoundCount++,c}else{var d=zt(),p=zt(),g=[{type:He.PARENT,parent:d,child:p}];return d.checks=r.checks,r.checks=g,e.compoundCount++,p}}},{name:"descendant",separator:!0,regex:xt.descendant,populate:function(e,r){if(e.currentSubject==null){var n=zt(),a=zt(),i=e[e.length-1];return n.checks.push({type:He.DESCENDANT,ancestor:i,descendant:a}),Ai(e,r,n),e.compoundCount++,a}else if(e.currentSubject===r){var s=zt(),o=e[e.length-1],l=zt(),u=zt(),c=zt(),f=zt();return s.checks.push({type:He.COMPOUND_SPLIT,left:o,right:l,subject:u}),u.checks=r.checks,r.checks=[{type:He.TRUE}],f.checks.push({type:He.TRUE}),l.checks.push({type:He.ANCESTOR,ancestor:f,descendant:c}),Ai(e,o,s),e.currentSubject=u,e.compoundCount++,c}else{var d=zt(),p=zt(),g=[{type:He.ANCESTOR,ancestor:d,descendant:p}];return d.checks=r.checks,r.checks=g,e.compoundCount++,p}}},{name:"subject",modifier:!0,regex:xt.subject,populate:function(e,r){if(e.currentSubject!=null&&e.currentSubject!==r)return Lt("Redefinition of subject in selector `"+e.toString()+"`"),!1;e.currentSubject=r;var n=e[e.length-1],a=n.checks[0],i=a==null?null:a.type;i===He.DIRECTED_EDGE?a.type=He.NODE_TARGET:i===He.UNDIRECTED_EDGE&&(a.type=He.NODE_NEIGHBOR,a.node=a.nodes[1],a.neighbor=a.nodes[0],a.nodes=null)}}];U1.forEach(function(t){return t.regexObj=new RegExp("^"+t.regex)});var $V=function(e){for(var r,n,a,i=0;i<U1.length;i++){var s=U1[i],o=s.name,l=e.match(s.regexObj);if(l!=null){n=l,r=s,a=o;var u=l[0];e=e.substring(u.length);break}}return{expr:r,match:n,name:a,remaining:e}},qV=function(e){var r=e.match(/^\s+/);if(r){var n=r[0];e=e.substring(n.length)}return e},HV=function(e){var r=this,n=r.inputText=e,a=r[0]=zt();for(r.length=1,n=qV(n);;){var i=$V(n);if(i.expr==null)return Lt("The selector `"+e+"`is invalid"),!1;var s=i.match.slice(1),o=i.expr.populate(r,a,s);if(o===!1)return!1;if(o!=null&&(a=o),n=i.remaining,n.match(/^\s*$/))break}var l=r[r.length-1];r.currentSubject!=null&&(l.subject=r.currentSubject),l.edgeCount=r.edgeCount,l.compoundCount=r.compoundCount;for(var u=0;u<r.length;u++){var c=r[u];if(c.compoundCount>0&&c.edgeCount>0)return Lt("The selector `"+e+"` is invalid because it uses both a compound selector and an edge selector"),!1;if(c.edgeCount>1)return Lt("The selector `"+e+"` is invalid because it uses multiple edge selectors"),!1;c.edgeCount===1&&Lt("The selector `"+e+"` is deprecated.  Edge selectors do not take effect on changes to source and target nodes after an edge is added, for performance reasons.  Use a class or data selector on edges instead, updating the class or data of an edge when your app detects a change in source or target nodes.")}return!0},VV=function(){if(this.toStringCache!=null)return this.toStringCache;for(var e=function(c){return c??""},r=function(c){return Xe(c)?'"'+c+'"':e(c)},n=function(c){return" "+c+" "},a=function(c,f){var d=c.type,p=c.value;switch(d){case He.GROUP:{var g=e(p);return g.substring(0,g.length-1)}case He.DATA_COMPARE:{var y=c.field,x=c.operator;return"["+y+n(e(x))+r(p)+"]"}case He.DATA_BOOL:{var b=c.operator,w=c.field;return"["+e(b)+w+"]"}case He.DATA_EXIST:{var _=c.field;return"["+_+"]"}case He.META_COMPARE:{var k=c.operator,E=c.field;return"[["+E+n(e(k))+r(p)+"]]"}case He.STATE:return p;case He.ID:return"#"+p;case He.CLASS:return"."+p;case He.PARENT:case He.CHILD:return i(c.parent,f)+n(">")+i(c.child,f);case He.ANCESTOR:case He.DESCENDANT:return i(c.ancestor,f)+" "+i(c.descendant,f);case He.COMPOUND_SPLIT:{var D=i(c.left,f),M=i(c.subject,f),A=i(c.right,f);return D+(D.length>0?" ":"")+M+A}case He.TRUE:return""}},i=function(c,f){return c.checks.reduce(function(d,p,g){return d+(f===c&&g===0?"$":"")+a(p,f)},"")},s="",o=0;o<this.length;o++){var l=this[o];s+=i(l,l.subject),this.length>1&&o<this.length-1&&(s+=", ")}return this.toStringCache=s,s},jV={parse:HV,toString:VV},Ik=function(e,r,n){var a,i=Xe(e),s=Ie(e),o=Xe(n),l,u,c=!1,f=!1,d=!1;switch(r.indexOf("!")>=0&&(r=r.replace("!",""),f=!0),r.indexOf("@")>=0&&(r=r.replace("@",""),c=!0),(i||o||c)&&(l=!i&&!s?"":""+e,u=""+n),c&&(e=l=l.toLowerCase(),n=u=u.toLowerCase()),r){case"*=":a=l.indexOf(u)>=0;break;case"$=":a=l.indexOf(u,l.length-u.length)>=0;break;case"^=":a=l.indexOf(u)===0;break;case"=":a=e===n;break;case">":d=!0,a=e>n;break;case">=":d=!0,a=e>=n;break;case"<":d=!0,a=e<n;break;case"<=":d=!0,a=e<=n;break;default:a=!1;break}return f&&(e!=null||!d)&&(a=!a),a},UV=function(e,r){switch(r){case"?":return!!e;case"!":return!e;case"^":return e===void 0}},WV=function(e){return e!==void 0},G2=function(e,r){return e.data(r)},GV=function(e,r){return e[r]()},yr=[],er=function(e,r){return e.checks.every(function(n){return yr[n.type](n,r)})};yr[He.GROUP]=function(t,e){var r=t.value;return r==="*"||r===e.group()};yr[He.STATE]=function(t,e){var r=t.value;return BV(r,e)};yr[He.ID]=function(t,e){var r=t.value;return e.id()===r};yr[He.CLASS]=function(t,e){var r=t.value;return e.hasClass(r)};yr[He.META_COMPARE]=function(t,e){var r=t.field,n=t.operator,a=t.value;return Ik(GV(e,r),n,a)};yr[He.DATA_COMPARE]=function(t,e){var r=t.field,n=t.operator,a=t.value;return Ik(G2(e,r),n,a)};yr[He.DATA_BOOL]=function(t,e){var r=t.field,n=t.operator;return UV(G2(e,r),n)};yr[He.DATA_EXIST]=function(t,e){var r=t.field;return t.operator,WV(G2(e,r))};yr[He.UNDIRECTED_EDGE]=function(t,e){var r=t.nodes[0],n=t.nodes[1],a=e.source(),i=e.target();return er(r,a)&&er(n,i)||er(n,a)&&er(r,i)};yr[He.NODE_NEIGHBOR]=function(t,e){return er(t.node,e)&&e.neighborhood().some(function(r){return r.isNode()&&er(t.neighbor,r)})};yr[He.DIRECTED_EDGE]=function(t,e){return er(t.source,e.source())&&er(t.target,e.target())};yr[He.NODE_SOURCE]=function(t,e){return er(t.source,e)&&e.outgoers().some(function(r){return r.isNode()&&er(t.target,r)})};yr[He.NODE_TARGET]=function(t,e){return er(t.target,e)&&e.incomers().some(function(r){return r.isNode()&&er(t.source,r)})};yr[He.CHILD]=function(t,e){return er(t.child,e)&&er(t.parent,e.parent())};yr[He.PARENT]=function(t,e){return er(t.parent,e)&&e.children().some(function(r){return er(t.child,r)})};yr[He.DESCENDANT]=function(t,e){return er(t.descendant,e)&&e.ancestors().some(function(r){return er(t.ancestor,r)})};yr[He.ANCESTOR]=function(t,e){return er(t.ancestor,e)&&e.descendants().some(function(r){return er(t.descendant,r)})};yr[He.COMPOUND_SPLIT]=function(t,e){return er(t.subject,e)&&er(t.left,e)&&er(t.right,e)};yr[He.TRUE]=function(){return!0};yr[He.COLLECTION]=function(t,e){var r=t.value;return r.has(e)};yr[He.FILTER]=function(t,e){var r=t.value;return r(e)};var YV=function(e){var r=this;if(r.length===1&&r[0].checks.length===1&&r[0].checks[0].type===He.ID)return e.getElementById(r[0].checks[0].value).collection();var n=function(i){for(var s=0;s<r.length;s++){var o=r[s];if(er(o,i))return!0}return!1};return r.text()==null&&(n=function(){return!0}),e.filter(n)},XV=function(e){for(var r=this,n=0;n<r.length;n++){var a=r[n];if(er(a,e))return!0}return!1},KV={matches:XV,filter:YV},ds=function(e){this.inputText=e,this.currentSubject=null,this.compoundCount=0,this.edgeCount=0,this.length=0,e==null||Xe(e)&&e.match(/^\s*$/)||(Vn(e)?this.addQuery({checks:[{type:He.COLLECTION,value:e.collection()}]}):ur(e)?this.addQuery({checks:[{type:He.FILTER,value:e}]}):Xe(e)?this.parse(e)||(this.invalid=!0):sr("A selector must be created from a string; found "))},hs=ds.prototype;[jV,KV].forEach(function(t){return Je(hs,t)});hs.text=function(){return this.inputText};hs.size=function(){return this.length};hs.eq=function(t){return this[t]};hs.sameText=function(t){return!this.invalid&&!t.invalid&&this.text()===t.text()};hs.addQuery=function(t){this[this.length++]=t};hs.selector=hs.toString;var rs={allAre:function(e){var r=new ds(e);return this.every(function(n){return r.matches(n)})},is:function(e){var r=new ds(e);return this.some(function(n){return r.matches(n)})},some:function(e,r){for(var n=0;n<this.length;n++){var a=r?e.apply(r,[this[n],n,this]):e(this[n],n,this);if(a)return!0}return!1},every:function(e,r){for(var n=0;n<this.length;n++){var a=r?e.apply(r,[this[n],n,this]):e(this[n],n,this);if(!a)return!1}return!0},same:function(e){if(this===e)return!0;e=this.cy().collection(e);var r=this.length,n=e.length;return r!==n?!1:r===1?this[0]===e[0]:this.every(function(a){return e.hasElementWithId(a.id())})},anySame:function(e){return e=this.cy().collection(e),this.some(function(r){return e.hasElementWithId(r.id())})},allAreNeighbors:function(e){e=this.cy().collection(e);var r=this.neighborhood();return e.every(function(n){return r.hasElementWithId(n.id())})},contains:function(e){e=this.cy().collection(e);var r=this;return e.every(function(n){return r.hasElementWithId(n.id())})}};rs.allAreNeighbours=rs.allAreNeighbors;rs.has=rs.contains;rs.equal=rs.equals=rs.same;var sa=function(e,r){return function(a,i,s,o){var l=a,u=this,c;if(l==null?c="":Vn(l)&&l.length===1&&(c=l.id()),u.length===1&&c){var f=u[0]._private,d=f.traversalCache=f.traversalCache||{},p=d[r]=d[r]||[],g=cs(c),y=p[g];return y||(p[g]=e.call(u,a,i,s,o))}else return e.call(u,a,i,s,o)}},$l={parent:function(e){var r=[];if(this.length===1){var n=this[0]._private.parent;if(n)return n}for(var a=0;a<this.length;a++){var i=this[a],s=i._private.parent;s&&r.push(s)}return this.spawn(r,!0).filter(e)},parents:function(e){for(var r=[],n=this.parent();n.nonempty();){for(var a=0;a<n.length;a++){var i=n[a];r.push(i)}n=n.parent()}return this.spawn(r,!0).filter(e)},commonAncestors:function(e){for(var r,n=0;n<this.length;n++){var a=this[n],i=a.parents();r=r||i,r=r.intersect(i)}return r.filter(e)},orphans:function(e){return this.stdFilter(function(r){return r.isOrphan()}).filter(e)},nonorphans:function(e){return this.stdFilter(function(r){return r.isChild()}).filter(e)},children:sa(function(t){for(var e=[],r=0;r<this.length;r++)for(var n=this[r],a=n._private.children,i=0;i<a.length;i++)e.push(a[i]);return this.spawn(e,!0).filter(t)},"children"),siblings:function(e){return this.parent().children().not(this).filter(e)},isParent:function(){var e=this[0];if(e)return e.isNode()&&e._private.children.length!==0},isChildless:function(){var e=this[0];if(e)return e.isNode()&&e._private.children.length===0},isChild:function(){var e=this[0];if(e)return e.isNode()&&e._private.parent!=null},isOrphan:function(){var e=this[0];if(e)return e.isNode()&&e._private.parent==null},descendants:function(e){var r=[];function n(a){for(var i=0;i<a.length;i++){var s=a[i];r.push(s),s.children().nonempty()&&n(s.children())}}return n(this.children()),this.spawn(r,!0).filter(e)}};function Y2(t,e,r,n){for(var a=[],i=new Xl,s=t.cy(),o=s.hasCompoundNodes(),l=0;l<t.length;l++){var u=t[l];r?a.push(u):o&&n(a,i,u)}for(;a.length>0;){var c=a.shift();e(c),i.add(c.id()),o&&n(a,i,c)}return t}function Nk(t,e,r){if(r.isParent())for(var n=r._private.children,a=0;a<n.length;a++){var i=n[a];e.has(i.id())||t.push(i)}}$l.forEachDown=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return Y2(this,t,e,Nk)};function zk(t,e,r){if(r.isChild()){var n=r._private.parent;e.has(n.id())||t.push(n)}}$l.forEachUp=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return Y2(this,t,e,zk)};function ZV(t,e,r){zk(t,e,r),Nk(t,e,r)}$l.forEachUpAndDown=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return Y2(this,t,e,ZV)};$l.ancestors=$l.parents;var $c,Bk;$c=Bk={data:At.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),removeData:At.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),scratch:At.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:At.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),rscratch:At.data({field:"rscratch",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!0}),removeRscratch:At.removeData({field:"rscratch",triggerEvent:!1}),id:function(){var e=this[0];if(e)return e._private.data.id}};$c.attr=$c.data;$c.removeAttr=$c.removeData;var QV=Bk,sp={};function Jm(t){return function(e){var r=this;if(e===void 0&&(e=!0),r.length!==0)if(r.isNode()&&!r.removed()){for(var n=0,a=r[0],i=a._private.edges,s=0;s<i.length;s++){var o=i[s];!e&&o.isLoop()||(n+=t(a,o))}return n}else return}}Je(sp,{degree:Jm(function(t,e){return e.source().same(e.target())?2:1}),indegree:Jm(function(t,e){return e.target().same(t)?1:0}),outdegree:Jm(function(t,e){return e.source().same(t)?1:0})});function Ao(t,e){return function(r){for(var n,a=this.nodes(),i=0;i<a.length;i++){var s=a[i],o=s[t](r);o!==void 0&&(n===void 0||e(o,n))&&(n=o)}return n}}Je(sp,{minDegree:Ao("degree",function(t,e){return t<e}),maxDegree:Ao("degree",function(t,e){return t>e}),minIndegree:Ao("indegree",function(t,e){return t<e}),maxIndegree:Ao("indegree",function(t,e){return t>e}),minOutdegree:Ao("outdegree",function(t,e){return t<e}),maxOutdegree:Ao("outdegree",function(t,e){return t>e})});Je(sp,{totalDegree:function(e){for(var r=0,n=this.nodes(),a=0;a<n.length;a++)r+=n[a].degree(e);return r}});var wa,Fk,$k=function(e,r,n){for(var a=0;a<e.length;a++){var i=e[a];if(!i.locked()){var s=i._private.position,o={x:r.x!=null?r.x-s.x:0,y:r.y!=null?r.y-s.y:0};i.isParent()&&!(o.x===0&&o.y===0)&&i.children().shift(o,n),i.dirtyBoundingBoxCache()}}},l6={field:"position",bindingEvent:"position",allowBinding:!0,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!0,triggerFnName:"emitAndNotify",allowGetting:!0,validKeys:["x","y"],beforeGet:function(e){e.updateCompoundBounds()},beforeSet:function(e,r){$k(e,r,!1)},onSet:function(e){e.dirtyCompoundBoundsCache()},canSet:function(e){return!e.locked()}};wa=Fk={position:At.data(l6),silentPosition:At.data(Je({},l6,{allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!1,beforeSet:function(e,r){$k(e,r,!0)},onSet:function(e){e.dirtyCompoundBoundsCache()}})),positions:function(e,r){if(kt(e))r?this.silentPosition(e):this.position(e);else if(ur(e)){var n=e,a=this.cy();a.startBatch();for(var i=0;i<this.length;i++){var s=this[i],o=void 0;(o=n(s,i))&&(r?s.silentPosition(o):s.position(o))}a.endBatch()}return this},silentPositions:function(e){return this.positions(e,!0)},shift:function(e,r,n){var a;if(kt(e)?(a={x:Ie(e.x)?e.x:0,y:Ie(e.y)?e.y:0},n=r):Xe(e)&&Ie(r)&&(a={x:0,y:0},a[e]=r),a!=null){var i=this.cy();i.startBatch();for(var s=0;s<this.length;s++){var o=this[s];if(!(i.hasCompoundNodes()&&o.isChild()&&o.ancestors().anySame(this))){var l=o.position(),u={x:l.x+a.x,y:l.y+a.y};n?o.silentPosition(u):o.position(u)}}i.endBatch()}return this},silentShift:function(e,r){return kt(e)?this.shift(e,!0):Xe(e)&&Ie(r)&&this.shift(e,r,!0),this},renderedPosition:function(e,r){var n=this[0],a=this.cy(),i=a.zoom(),s=a.pan(),o=kt(e)?e:void 0,l=o!==void 0||r!==void 0&&Xe(e);if(n&&n.isNode())if(l)for(var u=0;u<this.length;u++){var c=this[u];r!==void 0?c.position(e,(r-s[e])/i):o!==void 0&&c.position(hk(o,i,s))}else{var f=n.position();return o=ep(f,i,s),e===void 0?o:o[e]}else if(!l)return;return this},relativePosition:function(e,r){var n=this[0],a=this.cy(),i=kt(e)?e:void 0,s=i!==void 0||r!==void 0&&Xe(e),o=a.hasCompoundNodes();if(n&&n.isNode())if(s)for(var l=0;l<this.length;l++){var u=this[l],c=o?u.parent():null,f=c&&c.length>0,d=f;f&&(c=c[0]);var p=d?c.position():{x:0,y:0};r!==void 0?u.position(e,r+p[e]):i!==void 0&&u.position({x:i.x+p.x,y:i.y+p.y})}else{var g=n.position(),y=o?n.parent():null,x=y&&y.length>0,b=x;x&&(y=y[0]);var w=b?y.position():{x:0,y:0};return i={x:g.x-w.x,y:g.y-w.y},e===void 0?i:i[e]}else if(!s)return;return this}};wa.modelPosition=wa.point=wa.position;wa.modelPositions=wa.points=wa.positions;wa.renderedPoint=wa.renderedPosition;wa.relativePoint=wa.relativePosition;var JV=Fk,xl,_s;xl=_s={};_s.renderedBoundingBox=function(t){var e=this.boundingBox(t),r=this.cy(),n=r.zoom(),a=r.pan(),i=e.x1*n+a.x,s=e.x2*n+a.x,o=e.y1*n+a.y,l=e.y2*n+a.y;return{x1:i,x2:s,y1:o,y2:l,w:s-i,h:l-o}};_s.dirtyCompoundBoundsCache=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,e=this.cy();return!e.styleEnabled()||!e.hasCompoundNodes()?this:(this.forEachUp(function(r){if(r.isParent()){var n=r._private;n.compoundBoundsClean=!1,n.bbCache=null,t||r.emitAndNotify("bounds")}}),this)};_s.updateCompoundBounds=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,e=this.cy();if(!e.styleEnabled()||!e.hasCompoundNodes())return this;if(!t&&e.batching())return this;function r(s){if(!s.isParent())return;var o=s._private,l=s.children(),u=s.pstyle("compound-sizing-wrt-labels").value==="include",c={width:{val:s.pstyle("min-width").pfValue,left:s.pstyle("min-width-bias-left"),right:s.pstyle("min-width-bias-right")},height:{val:s.pstyle("min-height").pfValue,top:s.pstyle("min-height-bias-top"),bottom:s.pstyle("min-height-bias-bottom")}},f=l.boundingBox({includeLabels:u,includeOverlays:!1,useCache:!1}),d=o.position;(f.w===0||f.h===0)&&(f={w:s.pstyle("width").pfValue,h:s.pstyle("height").pfValue},f.x1=d.x-f.w/2,f.x2=d.x+f.w/2,f.y1=d.y-f.h/2,f.y2=d.y+f.h/2);function p(R,O,N){var B=0,F=0,V=O+N;return R>0&&V>0&&(B=O/V*R,F=N/V*R),{biasDiff:B,biasComplementDiff:F}}function g(R,O,N,B){if(N.units==="%")switch(B){case"width":return R>0?N.pfValue*R:0;case"height":return O>0?N.pfValue*O:0;case"average":return R>0&&O>0?N.pfValue*(R+O)/2:0;case"min":return R>0&&O>0?R>O?N.pfValue*O:N.pfValue*R:0;case"max":return R>0&&O>0?R>O?N.pfValue*R:N.pfValue*O:0;default:return 0}else return N.units==="px"?N.pfValue:0}var y=c.width.left.value;c.width.left.units==="px"&&c.width.val>0&&(y=y*100/c.width.val);var x=c.width.right.value;c.width.right.units==="px"&&c.width.val>0&&(x=x*100/c.width.val);var b=c.height.top.value;c.height.top.units==="px"&&c.height.val>0&&(b=b*100/c.height.val);var w=c.height.bottom.value;c.height.bottom.units==="px"&&c.height.val>0&&(w=w*100/c.height.val);var _=p(c.width.val-f.w,y,x),k=_.biasDiff,E=_.biasComplementDiff,D=p(c.height.val-f.h,b,w),M=D.biasDiff,A=D.biasComplementDiff;o.autoPadding=g(f.w,f.h,s.pstyle("padding"),s.pstyle("padding-relative-to").value),o.autoWidth=Math.max(f.w,c.width.val),d.x=(-k+f.x1+f.x2+E)/2,o.autoHeight=Math.max(f.h,c.height.val),d.y=(-M+f.y1+f.y2+A)/2}for(var n=0;n<this.length;n++){var a=this[n],i=a._private;(!i.compoundBoundsClean||t)&&(r(a),e.batching()||(i.compoundBoundsClean=!0))}return this};var aa=function(e){return e===1/0||e===-1/0?0:e},ga=function(e,r,n,a,i){a-r===0||i-n===0||r==null||n==null||a==null||i==null||(e.x1=r<e.x1?r:e.x1,e.x2=a>e.x2?a:e.x2,e.y1=n<e.y1?n:e.y1,e.y2=i>e.y2?i:e.y2,e.w=e.x2-e.x1,e.h=e.y2-e.y1)},Fs=function(e,r){return r==null?e:ga(e,r.x1,r.y1,r.x2,r.y2)},ku=function(e,r,n){return na(e,r,n)},Sf=function(e,r,n){if(!r.cy().headless()){var a=r._private,i=a.rstyle,s=i.arrowWidth/2,o=r.pstyle(n+"-arrow-shape").value,l,u;if(o!=="none"){n==="source"?(l=i.srcX,u=i.srcY):n==="target"?(l=i.tgtX,u=i.tgtY):(l=i.midX,u=i.midY);var c=a.arrowBounds=a.arrowBounds||{},f=c[n]=c[n]||{};f.x1=l-s,f.y1=u-s,f.x2=l+s,f.y2=u+s,f.w=f.x2-f.x1,f.h=f.y2-f.y1,td(f,1),ga(e,f.x1,f.y1,f.x2,f.y2)}}},ev=function(e,r,n){if(!r.cy().headless()){var a;n?a=n+"-":a="";var i=r._private,s=i.rstyle,o=r.pstyle(a+"label").strValue;if(o){var l=r.pstyle("text-halign"),u=r.pstyle("text-valign"),c=ku(s,"labelWidth",n),f=ku(s,"labelHeight",n),d=ku(s,"labelX",n),p=ku(s,"labelY",n),g=r.pstyle(a+"text-margin-x").pfValue,y=r.pstyle(a+"text-margin-y").pfValue,x=r.isEdge(),b=r.pstyle(a+"text-rotation"),w=r.pstyle("text-outline-width").pfValue,_=r.pstyle("text-border-width").pfValue,k=_/2,E=r.pstyle("text-background-padding").pfValue,D=2,M=f,A=c,R=A/2,O=M/2,N,B,F,V;if(x)N=d-R,B=d+R,F=p-O,V=p+O;else{switch(l.value){case"left":N=d-A,B=d;break;case"center":N=d-R,B=d+R;break;case"right":N=d,B=d+A;break}switch(u.value){case"top":F=p-M,V=p;break;case"center":F=p-O,V=p+O;break;case"bottom":F=p,V=p+M;break}}var X=g-Math.max(w,k)-E-D,K=g+Math.max(w,k)+E+D,U=y-Math.max(w,k)-E-D,H=y+Math.max(w,k)+E+D;N+=X,B+=K,F+=U,V+=H;var ee=n||"main",re=i.labelBounds,W=re[ee]=re[ee]||{};W.x1=N,W.y1=F,W.x2=B,W.y2=V,W.w=B-N,W.h=V-F,W.leftPad=X,W.rightPad=K,W.topPad=U,W.botPad=H;var Z=x&&b.strValue==="autorotate",ue=b.pfValue!=null&&b.pfValue!==0;if(Z||ue){var pe=Z?ku(i.rstyle,"labelAngle",n):b.pfValue,ge=Math.cos(pe),fe=Math.sin(pe),Se=(N+B)/2,Ee=(F+V)/2;if(!x){switch(l.value){case"left":Se=B;break;case"right":Se=N;break}switch(u.value){case"top":Ee=V;break;case"bottom":Ee=F;break}}var ve=function(Et,ze){return Et=Et-Se,ze=ze-Ee,{x:Et*ge-ze*fe+Se,y:Et*fe+ze*ge+Ee}},se=ve(N,F),ye=ve(N,V),we=ve(B,F),Le=ve(B,V);N=Math.min(se.x,ye.x,we.x,Le.x),B=Math.max(se.x,ye.x,we.x,Le.x),F=Math.min(se.y,ye.y,we.y,Le.y),V=Math.max(se.y,ye.y,we.y,Le.y)}var Ve=ee+"Rot",it=re[Ve]=re[Ve]||{};it.x1=N,it.y1=F,it.x2=B,it.y2=V,it.w=B-N,it.h=V-F,ga(e,N,F,B,V),ga(i.labelBounds.all,N,F,B,V)}return e}},ej=function(e,r){if(!r.cy().headless()){var n=r.pstyle("outline-opacity").value,a=r.pstyle("outline-width").value;if(n>0&&a>0){var i=r.pstyle("outline-offset").value,s=r.pstyle("shape").value,o=a+i,l=(e.w+o*2)/e.w,u=(e.h+o*2)/e.h,c=0,f=0;["diamond","pentagon","round-triangle"].includes(s)?(l=(e.w+o*2.4)/e.w,f=-o/3.6):["concave-hexagon","rhomboid","right-rhomboid"].includes(s)?l=(e.w+o*2.4)/e.w:s==="star"?(l=(e.w+o*2.8)/e.w,u=(e.h+o*2.6)/e.h,f=-o/3.8):s==="triangle"?(l=(e.w+o*2.8)/e.w,u=(e.h+o*2.4)/e.h,f=-o/1.4):s==="vee"&&(l=(e.w+o*4.4)/e.w,u=(e.h+o*3.8)/e.h,f=-o*.5);var d=e.h*u-e.h,p=e.w*l-e.w;if(rd(e,[Math.ceil(d/2),Math.ceil(p/2)]),c!=0||f!==0){var g=Fq(e,c,f);gk(e,g)}}}},tj=function(e,r){var n=e._private.cy,a=n.styleEnabled(),i=n.headless(),s=Rn(),o=e._private,l=e.isNode(),u=e.isEdge(),c,f,d,p,g,y,x=o.rstyle,b=l&&a?e.pstyle("bounds-expansion").pfValue:[0],w=function(Rt){return Rt.pstyle("display").value!=="none"},_=!a||w(e)&&(!u||w(e.source())&&w(e.target()));if(_){var k=0,E=0;a&&r.includeOverlays&&(k=e.pstyle("overlay-opacity").value,k!==0&&(E=e.pstyle("overlay-padding").value));var D=0,M=0;a&&r.includeUnderlays&&(D=e.pstyle("underlay-opacity").value,D!==0&&(M=e.pstyle("underlay-padding").value));var A=Math.max(E,M),R=0,O=0;if(a&&(R=e.pstyle("width").pfValue,O=R/2),l&&r.includeNodes){var N=e.position();g=N.x,y=N.y;var B=e.outerWidth(),F=B/2,V=e.outerHeight(),X=V/2;c=g-F,f=g+F,d=y-X,p=y+X,ga(s,c,d,f,p),a&&r.includeOutlines&&ej(s,e)}else if(u&&r.includeEdges)if(a&&!i){var K=e.pstyle("curve-style").strValue;if(c=Math.min(x.srcX,x.midX,x.tgtX),f=Math.max(x.srcX,x.midX,x.tgtX),d=Math.min(x.srcY,x.midY,x.tgtY),p=Math.max(x.srcY,x.midY,x.tgtY),c-=O,f+=O,d-=O,p+=O,ga(s,c,d,f,p),K==="haystack"){var U=x.haystackPts;if(U&&U.length===2){if(c=U[0].x,d=U[0].y,f=U[1].x,p=U[1].y,c>f){var H=c;c=f,f=H}if(d>p){var ee=d;d=p,p=ee}ga(s,c-O,d-O,f+O,p+O)}}else if(K==="bezier"||K==="unbundled-bezier"||K.endsWith("segments")||K.endsWith("taxi")){var re;switch(K){case"bezier":case"unbundled-bezier":re=x.bezierPts;break;case"segments":case"taxi":case"round-segments":case"round-taxi":re=x.linePts;break}if(re!=null)for(var W=0;W<re.length;W++){var Z=re[W];c=Z.x-O,f=Z.x+O,d=Z.y-O,p=Z.y+O,ga(s,c,d,f,p)}}}else{var ue=e.source(),pe=ue.position(),ge=e.target(),fe=ge.position();if(c=pe.x,f=fe.x,d=pe.y,p=fe.y,c>f){var Se=c;c=f,f=Se}if(d>p){var Ee=d;d=p,p=Ee}c-=O,f+=O,d-=O,p+=O,ga(s,c,d,f,p)}if(a&&r.includeEdges&&u&&(Sf(s,e,"mid-source"),Sf(s,e,"mid-target"),Sf(s,e,"source"),Sf(s,e,"target")),a){var ve=e.pstyle("ghost").value==="yes";if(ve){var se=e.pstyle("ghost-offset-x").pfValue,ye=e.pstyle("ghost-offset-y").pfValue;ga(s,s.x1+se,s.y1+ye,s.x2+se,s.y2+ye)}}var we=o.bodyBounds=o.bodyBounds||{};Xx(we,s),rd(we,b),td(we,1),a&&(c=s.x1,f=s.x2,d=s.y1,p=s.y2,ga(s,c-A,d-A,f+A,p+A));var Le=o.overlayBounds=o.overlayBounds||{};Xx(Le,s),rd(Le,b),td(Le,1);var Ve=o.labelBounds=o.labelBounds||{};Ve.all!=null?Bq(Ve.all):Ve.all=Rn(),a&&r.includeLabels&&(r.includeMainLabels&&ev(s,e,null),u&&(r.includeSourceLabels&&ev(s,e,"source"),r.includeTargetLabels&&ev(s,e,"target")))}return s.x1=aa(s.x1),s.y1=aa(s.y1),s.x2=aa(s.x2),s.y2=aa(s.y2),s.w=aa(s.x2-s.x1),s.h=aa(s.y2-s.y1),s.w>0&&s.h>0&&_&&(rd(s,b),td(s,1)),s},qk=function(e){var r=0,n=function(s){return(s?1:0)<<r++},a=0;return a+=n(e.incudeNodes),a+=n(e.includeEdges),a+=n(e.includeLabels),a+=n(e.includeMainLabels),a+=n(e.includeSourceLabels),a+=n(e.includeTargetLabels),a+=n(e.includeOverlays),a+=n(e.includeOutlines),a},Hk=function(e){var r=function(o){return Math.round(o)};if(e.isEdge()){var n=e.source().position(),a=e.target().position();return Vx([r(n.x),r(n.y),r(a.x),r(a.y)])}else{var i=e.position();return Vx([r(i.x),r(i.y)])}},u6=function(e,r){var n=e._private,a,i=e.isEdge(),s=r==null?c6:qk(r),o=s===c6;if(n.bbCache==null?(a=tj(e,qc),n.bbCache=a,n.bbCachePosKey=Hk(e)):a=n.bbCache,!o){var l=e.isNode();a=Rn(),(r.includeNodes&&l||r.includeEdges&&!l)&&(r.includeOverlays?Fs(a,n.overlayBounds):Fs(a,n.bodyBounds)),r.includeLabels&&(r.includeMainLabels&&(!i||r.includeSourceLabels&&r.includeTargetLabels)?Fs(a,n.labelBounds.all):(r.includeMainLabels&&Fs(a,n.labelBounds.mainRot),r.includeSourceLabels&&Fs(a,n.labelBounds.sourceRot),r.includeTargetLabels&&Fs(a,n.labelBounds.targetRot))),a.w=a.x2-a.x1,a.h=a.y2-a.y1}return a},qc={includeNodes:!0,includeEdges:!0,includeLabels:!0,includeMainLabels:!0,includeSourceLabels:!0,includeTargetLabels:!0,includeOverlays:!0,includeUnderlays:!0,includeOutlines:!0,useCache:!0},c6=qk(qc),f6=Lr(qc);_s.boundingBox=function(t){var e,r=t===void 0||t.useCache===void 0||t.useCache===!0,n=zl(function(c){var f=c._private;return f.bbCache==null||f.styleDirty||f.bbCachePosKey!==Hk(c)},function(c){return c.id()});if(r&&this.length===1&&!n(this[0]))t===void 0?t=qc:t=f6(t),e=u6(this[0],t);else{e=Rn(),t=t||qc;var a=f6(t),i=this,s=i.cy(),o=s.styleEnabled();this.edges().forEach(n),this.nodes().forEach(n),o&&this.recalculateRenderedStyle(r),this.updateCompoundBounds(!r);for(var l=0;l<i.length;l++){var u=i[l];n(u)&&u.dirtyBoundingBoxCache(),Fs(e,u6(u,a))}}return e.x1=aa(e.x1),e.y1=aa(e.y1),e.x2=aa(e.x2),e.y2=aa(e.y2),e.w=aa(e.x2-e.x1),e.h=aa(e.y2-e.y1),e};_s.dirtyBoundingBoxCache=function(){for(var t=0;t<this.length;t++){var e=this[t]._private;e.bbCache=null,e.bbCachePosKey=null,e.bodyBounds=null,e.overlayBounds=null,e.labelBounds.all=null,e.labelBounds.source=null,e.labelBounds.target=null,e.labelBounds.main=null,e.labelBounds.sourceRot=null,e.labelBounds.targetRot=null,e.labelBounds.mainRot=null,e.arrowBounds.source=null,e.arrowBounds.target=null,e.arrowBounds["mid-source"]=null,e.arrowBounds["mid-target"]=null}return this.emitAndNotify("bounds"),this};_s.boundingBoxAt=function(t){var e=this.nodes(),r=this.cy(),n=r.hasCompoundNodes(),a=r.collection();if(n&&(a=e.filter(function(u){return u.isParent()}),e=e.not(a)),kt(t)){var i=t;t=function(){return i}}var s=function(c,f){return c._private.bbAtOldPos=t(c,f)},o=function(c){return c._private.bbAtOldPos};r.startBatch(),e.forEach(s).silentPositions(t),n&&(a.dirtyCompoundBoundsCache(),a.dirtyBoundingBoxCache(),a.updateCompoundBounds(!0));var l=zq(this.boundingBox({useCache:!1}));return e.silentPositions(o),n&&(a.dirtyCompoundBoundsCache(),a.dirtyBoundingBoxCache(),a.updateCompoundBounds(!0)),r.endBatch(),l};xl.boundingbox=xl.bb=xl.boundingBox;xl.renderedBoundingbox=xl.renderedBoundingBox;var rj=_s,$u,p0;$u=p0={};var Vk=function(e){e.uppercaseName=Mx(e.name),e.autoName="auto"+e.uppercaseName,e.labelName="label"+e.uppercaseName,e.outerName="outer"+e.uppercaseName,e.uppercaseOuterName=Mx(e.outerName),$u[e.name]=function(){var n=this[0],a=n._private,i=a.cy,s=i._private.styleEnabled;if(n)if(s){if(n.isParent())return n.updateCompoundBounds(),a[e.autoName]||0;var o=n.pstyle(e.name);switch(o.strValue){case"label":return n.recalculateRenderedStyle(),a.rstyle[e.labelName]||0;default:return o.pfValue}}else return 1},$u["outer"+e.uppercaseName]=function(){var n=this[0],a=n._private,i=a.cy,s=i._private.styleEnabled;if(n)if(s){var o=n[e.name](),l=n.pstyle("border-width").pfValue,u=2*n.padding();return o+l+u}else return 1},$u["rendered"+e.uppercaseName]=function(){var n=this[0];if(n){var a=n[e.name]();return a*this.cy().zoom()}},$u["rendered"+e.uppercaseOuterName]=function(){var n=this[0];if(n){var a=n[e.outerName]();return a*this.cy().zoom()}}};Vk({name:"width"});Vk({name:"height"});p0.padding=function(){var t=this[0],e=t._private;return t.isParent()?(t.updateCompoundBounds(),e.autoPadding!==void 0?e.autoPadding:t.pstyle("padding").pfValue):t.pstyle("padding").pfValue};p0.paddedHeight=function(){var t=this[0];return t.height()+2*t.padding()};p0.paddedWidth=function(){var t=this[0];return t.width()+2*t.padding()};var nj=p0,aj=function(e,r){if(e.isEdge()&&e.takesUpSpace())return r(e)},ij=function(e,r){if(e.isEdge()&&e.takesUpSpace()){var n=e.cy();return ep(r(e),n.zoom(),n.pan())}},sj=function(e,r){if(e.isEdge()&&e.takesUpSpace()){var n=e.cy(),a=n.pan(),i=n.zoom();return r(e).map(function(s){return ep(s,i,a)})}},oj=function(e){return e.renderer().getControlPoints(e)},lj=function(e){return e.renderer().getSegmentPoints(e)},uj=function(e){return e.renderer().getSourceEndpoint(e)},cj=function(e){return e.renderer().getTargetEndpoint(e)},fj=function(e){return e.renderer().getEdgeMidpoint(e)},d6={controlPoints:{get:oj,mult:!0},segmentPoints:{get:lj,mult:!0},sourceEndpoint:{get:uj},targetEndpoint:{get:cj},midpoint:{get:fj}},dj=function(e){return"rendered"+e[0].toUpperCase()+e.substr(1)},hj=Object.keys(d6).reduce(function(t,e){var r=d6[e],n=dj(e);return t[e]=function(){return aj(this,r.get)},r.mult?t[n]=function(){return sj(this,r.get)}:t[n]=function(){return ij(this,r.get)},t},{}),pj=Je({},JV,rj,nj,hj);/*!
Event object based on jQuery events, MIT license

https://jquery.org/license/
https://tldrlegal.com/license/mit-license
https://github.com/jquery/jquery/blob/master/src/event.js
*/var jk=function(e,r){this.recycle(e,r)};function Eu(){return!1}function kf(){return!0}jk.prototype={instanceString:function(){return"event"},recycle:function(e,r){if(this.isImmediatePropagationStopped=this.isPropagationStopped=this.isDefaultPrevented=Eu,e!=null&&e.preventDefault?(this.type=e.type,this.isDefaultPrevented=e.defaultPrevented?kf:Eu):e!=null&&e.type?r=e:this.type=e,r!=null&&(this.originalEvent=r.originalEvent,this.type=r.type!=null?r.type:this.type,this.cy=r.cy,this.target=r.target,this.position=r.position,this.renderedPosition=r.renderedPosition,this.namespace=r.namespace,this.layout=r.layout),this.cy!=null&&this.position!=null&&this.renderedPosition==null){var n=this.position,a=this.cy.zoom(),i=this.cy.pan();this.renderedPosition={x:n.x*a+i.x,y:n.y*a+i.y}}this.timeStamp=e&&e.timeStamp||Date.now()},preventDefault:function(){this.isDefaultPrevented=kf;var e=this.originalEvent;e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){this.isPropagationStopped=kf;var e=this.originalEvent;e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=kf,this.stopPropagation()},isDefaultPrevented:Eu,isPropagationStopped:Eu,isImmediatePropagationStopped:Eu};var Uk=/^([^.]+)(\.(?:[^.]+))?$/,gj=".*",Wk={qualifierCompare:function(e,r){return e===r},eventMatches:function(){return!0},addEventFields:function(){},callbackContext:function(e){return e},beforeEmit:function(){},afterEmit:function(){},bubble:function(){return!1},parent:function(){return null},context:null},h6=Object.keys(Wk),mj={};function op(){for(var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:mj,e=arguments.length>1?arguments[1]:void 0,r=0;r<h6.length;r++){var n=h6[r];this[n]=t[n]||Wk[n]}this.context=e||this.context,this.listeners=[],this.emitting=0}var ps=op.prototype,Gk=function(e,r,n,a,i,s,o){ur(a)&&(i=a,a=null),o&&(s==null?s=o:s=Je({},s,o));for(var l=Vt(n)?n:n.split(/\s+/),u=0;u<l.length;u++){var c=l[u];if(!us(c)){var f=c.match(Uk);if(f){var d=f[1],p=f[2]?f[2]:null,g=r(e,c,d,p,a,i,s);if(g===!1)break}}}},p6=function(e,r){return e.addEventFields(e.context,r),new jk(r.type,r)},vj=function(e,r,n){if(M$(n)){r(e,n);return}else if(kt(n)){r(e,p6(e,n));return}for(var a=Vt(n)?n:n.split(/\s+/),i=0;i<a.length;i++){var s=a[i];if(!us(s)){var o=s.match(Uk);if(o){var l=o[1],u=o[2]?o[2]:null,c=p6(e,{type:l,namespace:u,target:e.context});r(e,c)}}}};ps.on=ps.addListener=function(t,e,r,n,a){return Gk(this,function(i,s,o,l,u,c,f){ur(c)&&i.listeners.push({event:s,callback:c,type:o,namespace:l,qualifier:u,conf:f})},t,e,r,n,a),this};ps.one=function(t,e,r,n){return this.on(t,e,r,n,{one:!0})};ps.removeListener=ps.off=function(t,e,r,n){var a=this;this.emitting!==0&&(this.listeners=oq(this.listeners));for(var i=this.listeners,s=function(u){var c=i[u];Gk(a,function(f,d,p,g,y,x){if((c.type===p||t==="*")&&(!g&&c.namespace!==".*"||c.namespace===g)&&(!y||f.qualifierCompare(c.qualifier,y))&&(!x||c.callback===x))return i.splice(u,1),!1},t,e,r,n)},o=i.length-1;o>=0;o--)s(o);return this};ps.removeAllListeners=function(){return this.removeListener("*")};ps.emit=ps.trigger=function(t,e,r){var n=this.listeners,a=n.length;return this.emitting++,Vt(e)||(e=[e]),vj(this,function(i,s){r!=null&&(n=[{event:s.event,type:s.type,namespace:s.namespace,callback:r}],a=n.length);for(var o=function(){var c=n[l];if(c.type===s.type&&(!c.namespace||c.namespace===s.namespace||c.namespace===gj)&&i.eventMatches(i.context,c,s)){var f=[s];e!=null&&uq(f,e),i.beforeEmit(i.context,c,s),c.conf&&c.conf.one&&(i.listeners=i.listeners.filter(function(g){return g!==c}));var d=i.callbackContext(i.context,c,s),p=c.callback.apply(d,f);i.afterEmit(i.context,c,s),p===!1&&(s.stopPropagation(),s.preventDefault())}},l=0;l<a;l++)o();i.bubble(i.context)&&!s.isPropagationStopped()&&i.parent(i.context).emit(s,e)},t),this.emitting--,this};var yj={qualifierCompare:function(e,r){return e==null||r==null?e==null&&r==null:e.sameText(r)},eventMatches:function(e,r,n){var a=r.qualifier;return a!=null?e!==n.target&&l0(n.target)&&a.matches(n.target):!0},addEventFields:function(e,r){r.cy=e.cy(),r.target=e},callbackContext:function(e,r,n){return r.qualifier!=null?n.target:e},beforeEmit:function(e,r){r.conf&&r.conf.once&&r.conf.onceCollection.removeListener(r.event,r.qualifier,r.callback)},bubble:function(){return!0},parent:function(e){return e.isChild()?e.parent():e.cy()}},Ef=function(e){return Xe(e)?new ds(e):e},Yk={createEmitter:function(){for(var e=0;e<this.length;e++){var r=this[e],n=r._private;n.emitter||(n.emitter=new op(yj,r))}return this},emitter:function(){return this._private.emitter},on:function(e,r,n){for(var a=Ef(r),i=0;i<this.length;i++){var s=this[i];s.emitter().on(e,a,n)}return this},removeListener:function(e,r,n){for(var a=Ef(r),i=0;i<this.length;i++){var s=this[i];s.emitter().removeListener(e,a,n)}return this},removeAllListeners:function(){for(var e=0;e<this.length;e++){var r=this[e];r.emitter().removeAllListeners()}return this},one:function(e,r,n){for(var a=Ef(r),i=0;i<this.length;i++){var s=this[i];s.emitter().one(e,a,n)}return this},once:function(e,r,n){for(var a=Ef(r),i=0;i<this.length;i++){var s=this[i];s.emitter().on(e,a,n,{once:!0,onceCollection:this})}},emit:function(e,r){for(var n=0;n<this.length;n++){var a=this[n];a.emitter().emit(e,r)}return this},emitAndNotify:function(e,r){if(this.length!==0)return this.cy().notify(e,this),this.emit(e,r),this}};At.eventAliasesOn(Yk);var Xk={nodes:function(e){return this.filter(function(r){return r.isNode()}).filter(e)},edges:function(e){return this.filter(function(r){return r.isEdge()}).filter(e)},byGroup:function(){for(var e=this.spawn(),r=this.spawn(),n=0;n<this.length;n++){var a=this[n];a.isNode()?e.push(a):r.push(a)}return{nodes:e,edges:r}},filter:function(e,r){if(e===void 0)return this;if(Xe(e)||Vn(e))return new ds(e).filter(this);if(ur(e)){for(var n=this.spawn(),a=this,i=0;i<a.length;i++){var s=a[i],o=r?e.apply(r,[s,i,a]):e(s,i,a);o&&n.push(s)}return n}return this.spawn()},not:function(e){if(e){Xe(e)&&(e=this.filter(e));for(var r=this.spawn(),n=0;n<this.length;n++){var a=this[n],i=e.has(a);i||r.push(a)}return r}else return this},absoluteComplement:function(){var e=this.cy();return e.mutableElements().not(this)},intersect:function(e){if(Xe(e)){var r=e;return this.filter(r)}for(var n=this.spawn(),a=this,i=e,s=this.length<e.length,o=s?a:i,l=s?i:a,u=0;u<o.length;u++){var c=o[u];l.has(c)&&n.push(c)}return n},xor:function(e){var r=this._private.cy;Xe(e)&&(e=r.$(e));var n=this.spawn(),a=this,i=e,s=function(l,u){for(var c=0;c<l.length;c++){var f=l[c],d=f._private.data.id,p=u.hasElementWithId(d);p||n.push(f)}};return s(a,i),s(i,a),n},diff:function(e){var r=this._private.cy;Xe(e)&&(e=r.$(e));var n=this.spawn(),a=this.spawn(),i=this.spawn(),s=this,o=e,l=function(c,f,d){for(var p=0;p<c.length;p++){var g=c[p],y=g._private.data.id,x=f.hasElementWithId(y);x?i.merge(g):d.push(g)}};return l(s,o,n),l(o,s,a),{left:n,right:a,both:i}},add:function(e){var r=this._private.cy;if(!e)return this;if(Xe(e)){var n=e;e=r.mutableElements().filter(n)}for(var a=this.spawnSelf(),i=0;i<e.length;i++){var s=e[i],o=!this.has(s);o&&a.push(s)}return a},merge:function(e){var r=this._private,n=r.cy;if(!e)return this;if(e&&Xe(e)){var a=e;e=n.mutableElements().filter(a)}for(var i=r.map,s=0;s<e.length;s++){var o=e[s],l=o._private.data.id,u=!i.has(l);if(u){var c=this.length++;this[c]=o,i.set(l,{ele:o,index:c})}}return this},unmergeAt:function(e){var r=this[e],n=r.id(),a=this._private,i=a.map;this[e]=void 0,i.delete(n);var s=e===this.length-1;if(this.length>1&&!s){var o=this.length-1,l=this[o],u=l._private.data.id;this[o]=void 0,this[e]=l,i.set(u,{ele:l,index:e})}return this.length--,this},unmergeOne:function(e){e=e[0];var r=this._private,n=e._private.data.id,a=r.map,i=a.get(n);if(!i)return this;var s=i.index;return this.unmergeAt(s),this},unmerge:function(e){var r=this._private.cy;if(!e)return this;if(e&&Xe(e)){var n=e;e=r.mutableElements().filter(n)}for(var a=0;a<e.length;a++)this.unmergeOne(e[a]);return this},unmergeBy:function(e){for(var r=this.length-1;r>=0;r--){var n=this[r];e(n)&&this.unmergeAt(r)}return this},map:function(e,r){for(var n=[],a=this,i=0;i<a.length;i++){var s=a[i],o=r?e.apply(r,[s,i,a]):e(s,i,a);n.push(o)}return n},reduce:function(e,r){for(var n=r,a=this,i=0;i<a.length;i++)n=e(n,a[i],i,a);return n},max:function(e,r){for(var n=-1/0,a,i=this,s=0;s<i.length;s++){var o=i[s],l=r?e.apply(r,[o,s,i]):e(o,s,i);l>n&&(n=l,a=o)}return{value:n,ele:a}},min:function(e,r){for(var n=1/0,a,i=this,s=0;s<i.length;s++){var o=i[s],l=r?e.apply(r,[o,s,i]):e(o,s,i);l<n&&(n=l,a=o)}return{value:n,ele:a}}},Ct=Xk;Ct.u=Ct["|"]=Ct["+"]=Ct.union=Ct.or=Ct.add;Ct["\\"]=Ct["!"]=Ct["-"]=Ct.difference=Ct.relativeComplement=Ct.subtract=Ct.not;Ct.n=Ct["&"]=Ct["."]=Ct.and=Ct.intersection=Ct.intersect;Ct["^"]=Ct["(+)"]=Ct["(-)"]=Ct.symmetricDifference=Ct.symdiff=Ct.xor;Ct.fnFilter=Ct.filterFn=Ct.stdFilter=Ct.filter;Ct.complement=Ct.abscomp=Ct.absoluteComplement;var bj={isNode:function(){return this.group()==="nodes"},isEdge:function(){return this.group()==="edges"},isLoop:function(){return this.isEdge()&&this.source()[0]===this.target()[0]},isSimple:function(){return this.isEdge()&&this.source()[0]!==this.target()[0]},group:function(){var e=this[0];if(e)return e._private.group}},Kk=function(e,r){var n=e.cy(),a=n.hasCompoundNodes();function i(c){var f=c.pstyle("z-compound-depth");return f.value==="auto"?a?c.zDepth():0:f.value==="bottom"?-1:f.value==="top"?B2:0}var s=i(e)-i(r);if(s!==0)return s;function o(c){var f=c.pstyle("z-index-compare");return f.value==="auto"&&c.isNode()?1:0}var l=o(e)-o(r);if(l!==0)return l;var u=e.pstyle("z-index").value-r.pstyle("z-index").value;return u!==0?u:e.poolIndex()-r.poolIndex()},ih={forEach:function(e,r){if(ur(e))for(var n=this.length,a=0;a<n;a++){var i=this[a],s=r?e.apply(r,[i,a,this]):e(i,a,this);if(s===!1)break}return this},toArray:function(){for(var e=[],r=0;r<this.length;r++)e.push(this[r]);return e},slice:function(e,r){var n=[],a=this.length;r==null&&(r=a),e==null&&(e=0),e<0&&(e=a+e),r<0&&(r=a+r);for(var i=e;i>=0&&i<r&&i<a;i++)n.push(this[i]);return this.spawn(n)},size:function(){return this.length},eq:function(e){return this[e]||this.spawn()},first:function(){return this[0]||this.spawn()},last:function(){return this[this.length-1]||this.spawn()},empty:function(){return this.length===0},nonempty:function(){return!this.empty()},sort:function(e){if(!ur(e))return this;var r=this.toArray().sort(e);return this.spawn(r)},sortByZIndex:function(){return this.sort(Kk)},zDepth:function(){var e=this[0];if(e){var r=e._private,n=r.group;if(n==="nodes"){var a=r.data.parent?e.parents().size():0;return e.isParent()?a:B2-1}else{var i=r.source,s=r.target,o=i.zDepth(),l=s.zDepth();return Math.max(o,l,0)}}}};ih.each=ih.forEach;var xj=function(){var e="undefined",r=(typeof Symbol>"u"?"undefined":Ar(Symbol))!=e&&Ar(Symbol.iterator)!=e;r&&(ih[Symbol.iterator]=function(){var n=this,a={value:void 0,done:!1},i=0,s=this.length;return GS({next:function(){return i<s?a.value=n[i++]:(a.value=void 0,a.done=!0),a}},Symbol.iterator,function(){return this})})};xj();var wj=Lr({nodeDimensionsIncludeLabels:!1}),ad={layoutDimensions:function(e){e=wj(e);var r;if(!this.takesUpSpace())r={w:0,h:0};else if(e.nodeDimensionsIncludeLabels){var n=this.boundingBox();r={w:n.w,h:n.h}}else r={w:this.outerWidth(),h:this.outerHeight()};return(r.w===0||r.h===0)&&(r.w=r.h=1),r},layoutPositions:function(e,r,n){var a=this.nodes().filter(function(E){return!E.isParent()}),i=this.cy(),s=r.eles,o=function(D){return D.id()},l=zl(n,o);e.emit({type:"layoutstart",layout:e}),e.animations=[];var u=function(D,M,A){var R={x:M.x1+M.w/2,y:M.y1+M.h/2},O={x:(A.x-R.x)*D,y:(A.y-R.y)*D};return{x:R.x+O.x,y:R.y+O.y}},c=r.spacingFactor&&r.spacingFactor!==1,f=function(){if(!c)return null;for(var D=Rn(),M=0;M<a.length;M++){var A=a[M],R=l(A,M);$q(D,R.x,R.y)}return D},d=f(),p=zl(function(E,D){var M=l(E,D);if(c){var A=Math.abs(r.spacingFactor);M=u(A,d,M)}return r.transform!=null&&(M=r.transform(E,M)),M},o);if(r.animate){for(var g=0;g<a.length;g++){var y=a[g],x=p(y,g),b=r.animateFilter==null||r.animateFilter(y,g);if(b){var w=y.animation({position:x,duration:r.animationDuration,easing:r.animationEasing});e.animations.push(w)}else y.position(x)}if(r.fit){var _=i.animation({fit:{boundingBox:s.boundingBoxAt(p),padding:r.padding},duration:r.animationDuration,easing:r.animationEasing});e.animations.push(_)}else if(r.zoom!==void 0&&r.pan!==void 0){var k=i.animation({zoom:r.zoom,pan:r.pan,duration:r.animationDuration,easing:r.animationEasing});e.animations.push(k)}e.animations.forEach(function(E){return E.play()}),e.one("layoutready",r.ready),e.emit({type:"layoutready",layout:e}),Kl.all(e.animations.map(function(E){return E.promise()})).then(function(){e.one("layoutstop",r.stop),e.emit({type:"layoutstop",layout:e})})}else a.positions(p),r.fit&&i.fit(r.eles,r.padding),r.zoom!=null&&i.zoom(r.zoom),r.pan&&i.pan(r.pan),e.one("layoutready",r.ready),e.emit({type:"layoutready",layout:e}),e.one("layoutstop",r.stop),e.emit({type:"layoutstop",layout:e});return this},layout:function(e){var r=this.cy();return r.makeLayout(Je({},e,{eles:this}))}};ad.createLayout=ad.makeLayout=ad.layout;function Zk(t,e,r){var n=r._private,a=n.styleCache=n.styleCache||[],i;return(i=a[t])!=null||(i=a[t]=e(r)),i}function lp(t,e){return t=cs(t),function(n){return Zk(t,e,n)}}function up(t,e){t=cs(t);var r=function(a){return e.call(a)};return function(){var a=this[0];if(a)return Zk(t,r,a)}}var Xr={recalculateRenderedStyle:function(e){var r=this.cy(),n=r.renderer(),a=r.styleEnabled();return n&&a&&n.recalculateRenderedStyle(this,e),this},dirtyStyleCache:function(){var e=this.cy(),r=function(i){return i._private.styleCache=null};if(e.hasCompoundNodes()){var n;n=this.spawnSelf().merge(this.descendants()).merge(this.parents()),n.merge(n.connectedEdges()),n.forEach(r)}else this.forEach(function(a){r(a),a.connectedEdges().forEach(r)});return this},updateStyle:function(e){var r=this._private.cy;if(!r.styleEnabled())return this;if(r.batching()){var n=r._private.batchStyleEles;return n.merge(this),this}var a=r.hasCompoundNodes(),i=this;e=!!(e||e===void 0),a&&(i=this.spawnSelf().merge(this.descendants()).merge(this.parents()));var s=i;return e?s.emitAndNotify("style"):s.emit("style"),i.forEach(function(o){return o._private.styleDirty=!0}),this},cleanStyle:function(){var e=this.cy();if(e.styleEnabled())for(var r=0;r<this.length;r++){var n=this[r];n._private.styleDirty&&(n._private.styleDirty=!1,e.style().apply(n))}},parsedStyle:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n=this[0],a=n.cy();if(a.styleEnabled()&&n){n._private.styleDirty&&(n._private.styleDirty=!1,a.style().apply(n));var i=n._private.style[e];return i??(r?a.style().getDefaultProperty(e):null)}},numericStyle:function(e){var r=this[0];if(r.cy().styleEnabled()&&r){var n=r.pstyle(e);return n.pfValue!==void 0?n.pfValue:n.value}},numericStyleUnits:function(e){var r=this[0];if(r.cy().styleEnabled()&&r)return r.pstyle(e).units},renderedStyle:function(e){var r=this.cy();if(!r.styleEnabled())return this;var n=this[0];if(n)return r.style().getRenderedStyle(n,e)},style:function(e,r){var n=this.cy();if(!n.styleEnabled())return this;var a=!1,i=n.style();if(kt(e)){var s=e;i.applyBypass(this,s,a),this.emitAndNotify("style")}else if(Xe(e))if(r===void 0){var o=this[0];return o?i.getStylePropertyValue(o,e):void 0}else i.applyBypass(this,e,r,a),this.emitAndNotify("style");else if(e===void 0){var l=this[0];return l?i.getRawStyle(l):void 0}return this},removeStyle:function(e){var r=this.cy();if(!r.styleEnabled())return this;var n=!1,a=r.style(),i=this;if(e===void 0)for(var s=0;s<i.length;s++){var o=i[s];a.removeAllBypasses(o,n)}else{e=e.split(/\s+/);for(var l=0;l<i.length;l++){var u=i[l];a.removeBypasses(u,e,n)}}return this.emitAndNotify("style"),this},show:function(){return this.css("display","element"),this},hide:function(){return this.css("display","none"),this},effectiveOpacity:function(){var e=this.cy();if(!e.styleEnabled())return 1;var r=e.hasCompoundNodes(),n=this[0];if(n){var a=n._private,i=n.pstyle("opacity").value;if(!r)return i;var s=a.data.parent?n.parents():null;if(s)for(var o=0;o<s.length;o++){var l=s[o],u=l.pstyle("opacity").value;i=u*i}return i}},transparent:function(){var e=this.cy();if(!e.styleEnabled())return!1;var r=this[0],n=r.cy().hasCompoundNodes();if(r)return n?r.effectiveOpacity()===0:r.pstyle("opacity").value===0},backgrounding:function(){var e=this.cy();if(!e.styleEnabled())return!1;var r=this[0];return!!r._private.backgrounding}};function tv(t,e){var r=t._private,n=r.data.parent?t.parents():null;if(n)for(var a=0;a<n.length;a++){var i=n[a];if(!e(i))return!1}return!0}function X2(t){var e=t.ok,r=t.edgeOkViaNode||t.ok,n=t.parentOk||t.ok;return function(){var a=this.cy();if(!a.styleEnabled())return!0;var i=this[0],s=a.hasCompoundNodes();if(i){var o=i._private;if(!e(i))return!1;if(i.isNode())return!s||tv(i,n);var l=o.source,u=o.target;return r(l)&&(!s||tv(l,r))&&(l===u||r(u)&&(!s||tv(u,r)))}}}var Zl=lp("eleTakesUpSpace",function(t){return t.pstyle("display").value==="element"&&t.width()!==0&&(t.isNode()?t.height()!==0:!0)});Xr.takesUpSpace=up("takesUpSpace",X2({ok:Zl}));var _j=lp("eleInteractive",function(t){return t.pstyle("events").value==="yes"&&t.pstyle("visibility").value==="visible"&&Zl(t)}),Sj=lp("parentInteractive",function(t){return t.pstyle("visibility").value==="visible"&&Zl(t)});Xr.interactive=up("interactive",X2({ok:_j,parentOk:Sj,edgeOkViaNode:Zl}));Xr.noninteractive=function(){var t=this[0];if(t)return!t.interactive()};var kj=lp("eleVisible",function(t){return t.pstyle("visibility").value==="visible"&&t.pstyle("opacity").pfValue!==0&&Zl(t)}),Ej=Zl;Xr.visible=up("visible",X2({ok:kj,edgeOkViaNode:Ej}));Xr.hidden=function(){var t=this[0];if(t)return!t.visible()};Xr.isBundledBezier=up("isBundledBezier",function(){return this.cy().styleEnabled()?!this.removed()&&this.pstyle("curve-style").value==="bezier"&&this.takesUpSpace():!1});Xr.bypass=Xr.css=Xr.style;Xr.renderedCss=Xr.renderedStyle;Xr.removeBypass=Xr.removeCss=Xr.removeStyle;Xr.pstyle=Xr.parsedStyle;var ns={};function g6(t){return function(){var e=arguments,r=[];if(e.length===2){var n=e[0],a=e[1];this.on(t.event,n,a)}else if(e.length===1&&ur(e[0])){var i=e[0];this.on(t.event,i)}else if(e.length===0||e.length===1&&Vt(e[0])){for(var s=e.length===1?e[0]:null,o=0;o<this.length;o++){var l=this[o],u=!t.ableField||l._private[t.ableField],c=l._private[t.field]!=t.value;if(t.overrideAble){var f=t.overrideAble(l);if(f!==void 0&&(u=f,!f))return this}u&&(l._private[t.field]=t.value,c&&r.push(l))}var d=this.spawn(r);d.updateStyle(),d.emit(t.event),s&&d.emit(s)}return this}}function Ql(t){ns[t.field]=function(){var e=this[0];if(e){if(t.overrideField){var r=t.overrideField(e);if(r!==void 0)return r}return e._private[t.field]}},ns[t.on]=g6({event:t.on,field:t.field,ableField:t.ableField,overrideAble:t.overrideAble,value:!0}),ns[t.off]=g6({event:t.off,field:t.field,ableField:t.ableField,overrideAble:t.overrideAble,value:!1})}Ql({field:"locked",overrideField:function(e){return e.cy().autolock()?!0:void 0},on:"lock",off:"unlock"});Ql({field:"grabbable",overrideField:function(e){return e.cy().autoungrabify()||e.pannable()?!1:void 0},on:"grabify",off:"ungrabify"});Ql({field:"selected",ableField:"selectable",overrideAble:function(e){return e.cy().autounselectify()?!1:void 0},on:"select",off:"unselect"});Ql({field:"selectable",overrideField:function(e){return e.cy().autounselectify()?!1:void 0},on:"selectify",off:"unselectify"});ns.deselect=ns.unselect;ns.grabbed=function(){var t=this[0];if(t)return t._private.grabbed};Ql({field:"active",on:"activate",off:"unactivate"});Ql({field:"pannable",on:"panify",off:"unpanify"});ns.inactive=function(){var t=this[0];if(t)return!t._private.active};var sn={},m6=function(e){return function(n){for(var a=this,i=[],s=0;s<a.length;s++){var o=a[s];if(o.isNode()){for(var l=!1,u=o.connectedEdges(),c=0;c<u.length;c++){var f=u[c],d=f.source(),p=f.target();if(e.noIncomingEdges&&p===o&&d!==o||e.noOutgoingEdges&&d===o&&p!==o){l=!0;break}}l||i.push(o)}}return this.spawn(i,!0).filter(n)}},v6=function(e){return function(r){for(var n=this,a=[],i=0;i<n.length;i++){var s=n[i];if(s.isNode())for(var o=s.connectedEdges(),l=0;l<o.length;l++){var u=o[l],c=u.source(),f=u.target();e.outgoing&&c===s?(a.push(u),a.push(f)):e.incoming&&f===s&&(a.push(u),a.push(c))}}return this.spawn(a,!0).filter(r)}},y6=function(e){return function(r){for(var n=this,a=[],i={};;){var s=e.outgoing?n.outgoers():n.incomers();if(s.length===0)break;for(var o=!1,l=0;l<s.length;l++){var u=s[l],c=u.id();i[c]||(i[c]=!0,a.push(u),o=!0)}if(!o)break;n=s}return this.spawn(a,!0).filter(r)}};sn.clearTraversalCache=function(){for(var t=0;t<this.length;t++)this[t]._private.traversalCache=null};Je(sn,{roots:m6({noIncomingEdges:!0}),leaves:m6({noOutgoingEdges:!0}),outgoers:sa(v6({outgoing:!0}),"outgoers"),successors:y6({outgoing:!0}),incomers:sa(v6({incoming:!0}),"incomers"),predecessors:y6({})});Je(sn,{neighborhood:sa(function(t){for(var e=[],r=this.nodes(),n=0;n<r.length;n++)for(var a=r[n],i=a.connectedEdges(),s=0;s<i.length;s++){var o=i[s],l=o.source(),u=o.target(),c=a===l?u:l;c.length>0&&e.push(c[0]),e.push(o[0])}return this.spawn(e,!0).filter(t)},"neighborhood"),closedNeighborhood:function(e){return this.neighborhood().add(this).filter(e)},openNeighborhood:function(e){return this.neighborhood(e)}});sn.neighbourhood=sn.neighborhood;sn.closedNeighbourhood=sn.closedNeighborhood;sn.openNeighbourhood=sn.openNeighborhood;Je(sn,{source:sa(function(e){var r=this[0],n;return r&&(n=r._private.source||r.cy().collection()),n&&e?n.filter(e):n},"source"),target:sa(function(e){var r=this[0],n;return r&&(n=r._private.target||r.cy().collection()),n&&e?n.filter(e):n},"target"),sources:b6({attr:"source"}),targets:b6({attr:"target"})});function b6(t){return function(r){for(var n=[],a=0;a<this.length;a++){var i=this[a],s=i._private[t.attr];s&&n.push(s)}return this.spawn(n,!0).filter(r)}}Je(sn,{edgesWith:sa(x6(),"edgesWith"),edgesTo:sa(x6({thisIsSrc:!0}),"edgesTo")});function x6(t){return function(r){var n=[],a=this._private.cy,i=t||{};Xe(r)&&(r=a.$(r));for(var s=0;s<r.length;s++)for(var o=r[s]._private.edges,l=0;l<o.length;l++){var u=o[l],c=u._private.data,f=this.hasElementWithId(c.source)&&r.hasElementWithId(c.target),d=r.hasElementWithId(c.source)&&this.hasElementWithId(c.target),p=f||d;p&&((i.thisIsSrc||i.thisIsTgt)&&(i.thisIsSrc&&!f||i.thisIsTgt&&!d)||n.push(u))}return this.spawn(n,!0)}}Je(sn,{connectedEdges:sa(function(t){for(var e=[],r=this,n=0;n<r.length;n++){var a=r[n];if(a.isNode())for(var i=a._private.edges,s=0;s<i.length;s++){var o=i[s];e.push(o)}}return this.spawn(e,!0).filter(t)},"connectedEdges"),connectedNodes:sa(function(t){for(var e=[],r=this,n=0;n<r.length;n++){var a=r[n];a.isEdge()&&(e.push(a.source()[0]),e.push(a.target()[0]))}return this.spawn(e,!0).filter(t)},"connectedNodes"),parallelEdges:sa(w6(),"parallelEdges"),codirectedEdges:sa(w6({codirected:!0}),"codirectedEdges")});function w6(t){var e={codirected:!1};return t=Je({},e,t),function(n){for(var a=[],i=this.edges(),s=t,o=0;o<i.length;o++)for(var l=i[o],u=l._private,c=u.source,f=c._private.data.id,d=u.data.target,p=c._private.edges,g=0;g<p.length;g++){var y=p[g],x=y._private.data,b=x.target,w=x.source,_=b===d&&w===f,k=f===b&&d===w;(s.codirected&&_||!s.codirected&&(_||k))&&a.push(y)}return this.spawn(a,!0).filter(n)}}Je(sn,{components:function(e){var r=this,n=r.cy(),a=n.collection(),i=e==null?r.nodes():e.nodes(),s=[];e!=null&&i.empty()&&(i=e.sources());var o=function(c,f){a.merge(c),i.unmerge(c),f.merge(c)};if(i.empty())return r.spawn();var l=function(){var c=n.collection();s.push(c);var f=i[0];o(f,c),r.bfs({directed:!1,roots:f,visit:function(p){return o(p,c)}}),c.forEach(function(d){d.connectedEdges().forEach(function(p){r.has(p)&&c.has(p.source())&&c.has(p.target())&&c.merge(p)})})};do l();while(i.length>0);return s},component:function(){var e=this[0];return e.cy().mutableElements().components(e)[0]}});sn.componentsOf=sn.components;var Kr=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(e===void 0){sr("A collection must have a reference to the core");return}var i=new li,s=!1;if(!r)r=[];else if(r.length>0&&kt(r[0])&&!l0(r[0])){s=!0;for(var o=[],l=new Xl,u=0,c=r.length;u<c;u++){var f=r[u];f.data==null&&(f.data={});var d=f.data;if(d.id==null)d.id=fk();else if(e.hasElementWithId(d.id)||l.has(d.id))continue;var p=new Jh(e,f,!1);o.push(p),l.add(d.id)}r=o}this.length=0;for(var g=0,y=r.length;g<y;g++){var x=r[g][0];if(x!=null){var b=x._private.data.id;(!n||!i.has(b))&&(n&&i.set(b,{index:this.length,ele:x}),this[this.length]=x,this.length++)}}this._private={eles:this,cy:e,get map(){return this.lazyMap==null&&this.rebuildMap(),this.lazyMap},set map(w){this.lazyMap=w},rebuildMap:function(){for(var _=this.lazyMap=new li,k=this.eles,E=0;E<k.length;E++){var D=k[E];_.set(D.id(),{index:E,ele:D})}}},n&&(this._private.map=i),s&&!a&&this.restore()},Yt=Jh.prototype=Kr.prototype=Object.create(Array.prototype);Yt.instanceString=function(){return"collection"};Yt.spawn=function(t,e){return new Kr(this.cy(),t,e)};Yt.spawnSelf=function(){return this.spawn(this)};Yt.cy=function(){return this._private.cy};Yt.renderer=function(){return this._private.cy.renderer()};Yt.element=function(){return this[0]};Yt.collection=function(){return ZS(this)?this:new Kr(this._private.cy,[this])};Yt.unique=function(){return new Kr(this._private.cy,this,!0)};Yt.hasElementWithId=function(t){return t=""+t,this._private.map.has(t)};Yt.getElementById=function(t){t=""+t;var e=this._private.cy,r=this._private.map.get(t);return r?r.ele:new Kr(e)};Yt.$id=Yt.getElementById;Yt.poolIndex=function(){var t=this._private.cy,e=t._private.elements,r=this[0]._private.data.id;return e._private.map.get(r).index};Yt.indexOf=function(t){var e=t[0]._private.data.id;return this._private.map.get(e).index};Yt.indexOfId=function(t){return t=""+t,this._private.map.get(t).index};Yt.json=function(t){var e=this.element(),r=this.cy();if(e==null&&t)return this;if(e!=null){var n=e._private;if(kt(t)){if(r.startBatch(),t.data){e.data(t.data);var a=n.data;if(e.isEdge()){var i=!1,s={},o=t.data.source,l=t.data.target;o!=null&&o!=a.source&&(s.source=""+o,i=!0),l!=null&&l!=a.target&&(s.target=""+l,i=!0),i&&(e=e.move(s))}else{var u="parent"in t.data,c=t.data.parent;u&&(c!=null||a.parent!=null)&&c!=a.parent&&(c===void 0&&(c=null),c!=null&&(c=""+c),e=e.move({parent:c}))}}t.position&&e.position(t.position);var f=function(y,x,b){var w=t[y];w!=null&&w!==n[y]&&(w?e[x]():e[b]())};return f("removed","remove","restore"),f("selected","select","unselect"),f("selectable","selectify","unselectify"),f("locked","lock","unlock"),f("grabbable","grabify","ungrabify"),f("pannable","panify","unpanify"),t.classes!=null&&e.classes(t.classes),r.endBatch(),this}else if(t===void 0){var d={data:Ia(n.data),position:Ia(n.position),group:n.group,removed:n.removed,selected:n.selected,selectable:n.selectable,locked:n.locked,grabbable:n.grabbable,pannable:n.pannable,classes:null};d.classes="";var p=0;return n.classes.forEach(function(g){return d.classes+=p++===0?g:" "+g}),d}}};Yt.jsons=function(){for(var t=[],e=0;e<this.length;e++){var r=this[e],n=r.json();t.push(n)}return t};Yt.clone=function(){for(var t=this.cy(),e=[],r=0;r<this.length;r++){var n=this[r],a=n.json(),i=new Jh(t,a,!1);e.push(i)}return new Kr(t,e)};Yt.copy=Yt.clone;Yt.restore=function(){for(var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=this,n=r.cy(),a=n._private,i=[],s=[],o,l=0,u=r.length;l<u;l++){var c=r[l];e&&!c.removed()||(c.isNode()?i.push(c):s.push(c))}o=i.concat(s);var f,d=function(){o.splice(f,1),f--};for(f=0;f<o.length;f++){var p=o[f],g=p._private,y=g.data;if(p.clearTraversalCache(),!(!e&&!g.removed)){if(y.id===void 0)y.id=fk();else if(Ie(y.id))y.id=""+y.id;else if(us(y.id)||!Xe(y.id)){sr("Can not create element with invalid string ID `"+y.id+"`"),d();continue}else if(n.hasElementWithId(y.id)){sr("Can not create second element with ID `"+y.id+"`"),d();continue}}var x=y.id;if(p.isNode()){var b=g.position;b.x==null&&(b.x=0),b.y==null&&(b.y=0)}if(p.isEdge()){for(var w=p,_=["source","target"],k=_.length,E=!1,D=0;D<k;D++){var M=_[D],A=y[M];Ie(A)&&(A=y[M]=""+y[M]),A==null||A===""?(sr("Can not create edge `"+x+"` with unspecified "+M),E=!0):n.hasElementWithId(A)||(sr("Can not create edge `"+x+"` with nonexistant "+M+" `"+A+"`"),E=!0)}if(E){d();continue}var R=n.getElementById(y.source),O=n.getElementById(y.target);R.same(O)?R._private.edges.push(w):(R._private.edges.push(w),O._private.edges.push(w)),w._private.source=R,w._private.target=O}g.map=new li,g.map.set(x,{ele:p,index:0}),g.removed=!1,e&&n.addToPool(p)}for(var N=0;N<i.length;N++){var B=i[N],F=B._private.data;Ie(F.parent)&&(F.parent=""+F.parent);var V=F.parent,X=V!=null;if(X||B._private.parent){var K=B._private.parent?n.collection().merge(B._private.parent):n.getElementById(V);if(K.empty())F.parent=void 0;else if(K[0].removed())Lt("Node added with missing parent, reference to parent removed"),F.parent=void 0,B._private.parent=null;else{for(var U=!1,H=K;!H.empty();){if(B.same(H)){U=!0,F.parent=void 0;break}H=H.parent()}U||(K[0]._private.children.push(B),B._private.parent=K[0],a.hasCompoundNodes=!0)}}}if(o.length>0){for(var ee=o.length===r.length?r:new Kr(n,o),re=0;re<ee.length;re++){var W=ee[re];W.isNode()||(W.parallelEdges().clearTraversalCache(),W.source().clearTraversalCache(),W.target().clearTraversalCache())}var Z;a.hasCompoundNodes?Z=n.collection().merge(ee).merge(ee.connectedNodes()).merge(ee.parent()):Z=ee,Z.dirtyCompoundBoundsCache().dirtyBoundingBoxCache().updateStyle(t),t?ee.emitAndNotify("add"):e&&ee.emit("add")}return r};Yt.removed=function(){var t=this[0];return t&&t._private.removed};Yt.inside=function(){var t=this[0];return t&&!t._private.removed};Yt.remove=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=this,n=[],a={},i=r._private.cy;function s(V){for(var X=V._private.edges,K=0;K<X.length;K++)l(X[K])}function o(V){for(var X=V._private.children,K=0;K<X.length;K++)l(X[K])}function l(V){var X=a[V.id()];e&&V.removed()||X||(a[V.id()]=!0,V.isNode()?(n.push(V),s(V),o(V)):n.unshift(V))}for(var u=0,c=r.length;u<c;u++){var f=r[u];l(f)}function d(V,X){var K=V._private.edges;fs(K,X),V.clearTraversalCache()}function p(V){V.clearTraversalCache()}var g=[];g.ids={};function y(V,X){X=X[0],V=V[0];var K=V._private.children,U=V.id();fs(K,X),X._private.parent=null,g.ids[U]||(g.ids[U]=!0,g.push(V))}r.dirtyCompoundBoundsCache(),e&&i.removeFromPool(n);for(var x=0;x<n.length;x++){var b=n[x];if(b.isEdge()){var w=b.source()[0],_=b.target()[0];d(w,b),d(_,b);for(var k=b.parallelEdges(),E=0;E<k.length;E++){var D=k[E];p(D),D.isBundledBezier()&&D.dirtyBoundingBoxCache()}}else{var M=b.parent();M.length!==0&&y(M,b)}e&&(b._private.removed=!0)}var A=i._private.elements;i._private.hasCompoundNodes=!1;for(var R=0;R<A.length;R++){var O=A[R];if(O.isParent()){i._private.hasCompoundNodes=!0;break}}var N=new Kr(this.cy(),n);N.size()>0&&(t?N.emitAndNotify("remove"):e&&N.emit("remove"));for(var B=0;B<g.length;B++){var F=g[B];(!e||!F.removed())&&F.updateStyle()}return N};Yt.move=function(t){var e=this._private.cy,r=this,n=!1,a=!1,i=function(g){return g==null?g:""+g};if(t.source!==void 0||t.target!==void 0){var s=i(t.source),o=i(t.target),l=s!=null&&e.hasElementWithId(s),u=o!=null&&e.hasElementWithId(o);(l||u)&&(e.batch(function(){r.remove(n,a),r.emitAndNotify("moveout");for(var p=0;p<r.length;p++){var g=r[p],y=g._private.data;g.isEdge()&&(l&&(y.source=s),u&&(y.target=o))}r.restore(n,a)}),r.emitAndNotify("move"))}else if(t.parent!==void 0){var c=i(t.parent),f=c===null||e.hasElementWithId(c);if(f){var d=c===null?void 0:c;e.batch(function(){var p=r.remove(n,a);p.emitAndNotify("moveout");for(var g=0;g<r.length;g++){var y=r[g],x=y._private.data;y.isNode()&&(x.parent=d)}p.restore(n,a)}),r.emitAndNotify("move")}}return this};[kk,NV,nd,rs,$l,QV,sp,pj,Yk,Xk,bj,ih,ad,Xr,ns,sn].forEach(function(t){Je(Yt,t)});var Cj={add:function(e){var r,n=this;if(Vn(e)){var a=e;if(a._private.cy===n)r=a.restore();else{for(var i=[],s=0;s<a.length;s++){var o=a[s];i.push(o.json())}r=new Kr(n,i)}}else if(Vt(e)){var l=e;r=new Kr(n,l)}else if(kt(e)&&(Vt(e.nodes)||Vt(e.edges))){for(var u=e,c=[],f=["nodes","edges"],d=0,p=f.length;d<p;d++){var g=f[d],y=u[g];if(Vt(y))for(var x=0,b=y.length;x<b;x++){var w=Je({group:g},y[x]);c.push(w)}}r=new Kr(n,c)}else{var _=e;r=new Jh(n,_).collection()}return r},remove:function(e){if(!Vn(e)){if(Xe(e)){var r=e;e=this.$(r)}}return e.remove()}};/*! Bezier curve function generator. Copyright Gaetan Renaudeau. MIT License: http://en.wikipedia.org/wiki/MIT_License */function Tj(t,e,r,n){var a=4,i=.001,s=1e-7,o=10,l=11,u=1/(l-1),c=typeof Float32Array<"u";if(arguments.length!==4)return!1;for(var f=0;f<4;++f)if(typeof arguments[f]!="number"||isNaN(arguments[f])||!isFinite(arguments[f]))return!1;t=Math.min(t,1),r=Math.min(r,1),t=Math.max(t,0),r=Math.max(r,0);var d=c?new Float32Array(l):new Array(l);function p(O,N){return 1-3*N+3*O}function g(O,N){return 3*N-6*O}function y(O){return 3*O}function x(O,N,B){return((p(N,B)*O+g(N,B))*O+y(N))*O}function b(O,N,B){return 3*p(N,B)*O*O+2*g(N,B)*O+y(N)}function w(O,N){for(var B=0;B<a;++B){var F=b(N,t,r);if(F===0)return N;var V=x(N,t,r)-O;N-=V/F}return N}function _(){for(var O=0;O<l;++O)d[O]=x(O*u,t,r)}function k(O,N,B){var F,V,X=0;do V=N+(B-N)/2,F=x(V,t,r)-O,F>0?B=V:N=V;while(Math.abs(F)>s&&++X<o);return V}function E(O){for(var N=0,B=1,F=l-1;B!==F&&d[B]<=O;++B)N+=u;--B;var V=(O-d[B])/(d[B+1]-d[B]),X=N+V*u,K=b(X,t,r);return K>=i?w(O,X):K===0?X:k(O,N,N+u)}var D=!1;function M(){D=!0,(t!==e||r!==n)&&_()}var A=function(N){return D||M(),t===e&&r===n?N:N===0?0:N===1?1:x(E(N),e,n)};A.getControlPoints=function(){return[{x:t,y:e},{x:r,y:n}]};var R="generateBezier("+[t,e,r,n]+")";return A.toString=function(){return R},A}/*! Runge-Kutta spring physics function generator. Adapted from Framer.js, copyright Koen Bok. MIT License: http://en.wikipedia.org/wiki/MIT_License */var Mj=function(){function t(n){return-n.tension*n.x-n.friction*n.v}function e(n,a,i){var s={x:n.x+i.dx*a,v:n.v+i.dv*a,tension:n.tension,friction:n.friction};return{dx:s.v,dv:t(s)}}function r(n,a){var i={dx:n.v,dv:t(n)},s=e(n,a*.5,i),o=e(n,a*.5,s),l=e(n,a,o),u=1/6*(i.dx+2*(s.dx+o.dx)+l.dx),c=1/6*(i.dv+2*(s.dv+o.dv)+l.dv);return n.x=n.x+u*a,n.v=n.v+c*a,n}return function n(a,i,s){var o={x:-1,v:0,tension:null,friction:null},l=[0],u=0,c=1/1e4,f=16/1e3,d,p,g;for(a=parseFloat(a)||500,i=parseFloat(i)||20,s=s||null,o.tension=a,o.friction=i,d=s!==null,d?(u=n(a,i),p=u/s*f):p=f;g=r(g||o,p),l.push(1+g.x),u+=16,Math.abs(g.x)>c&&Math.abs(g.v)>c;);return d?function(y){return l[y*(l.length-1)|0]}:u}}(),Wt=function(e,r,n,a){var i=Tj(e,r,n,a);return function(s,o,l){return s+(o-s)*i(l)}},id={linear:function(e,r,n){return e+(r-e)*n},ease:Wt(.25,.1,.25,1),"ease-in":Wt(.42,0,1,1),"ease-out":Wt(0,0,.58,1),"ease-in-out":Wt(.42,0,.58,1),"ease-in-sine":Wt(.47,0,.745,.715),"ease-out-sine":Wt(.39,.575,.565,1),"ease-in-out-sine":Wt(.445,.05,.55,.95),"ease-in-quad":Wt(.55,.085,.68,.53),"ease-out-quad":Wt(.25,.46,.45,.94),"ease-in-out-quad":Wt(.455,.03,.515,.955),"ease-in-cubic":Wt(.55,.055,.675,.19),"ease-out-cubic":Wt(.215,.61,.355,1),"ease-in-out-cubic":Wt(.645,.045,.355,1),"ease-in-quart":Wt(.895,.03,.685,.22),"ease-out-quart":Wt(.165,.84,.44,1),"ease-in-out-quart":Wt(.77,0,.175,1),"ease-in-quint":Wt(.755,.05,.855,.06),"ease-out-quint":Wt(.23,1,.32,1),"ease-in-out-quint":Wt(.86,0,.07,1),"ease-in-expo":Wt(.95,.05,.795,.035),"ease-out-expo":Wt(.19,1,.22,1),"ease-in-out-expo":Wt(1,0,0,1),"ease-in-circ":Wt(.6,.04,.98,.335),"ease-out-circ":Wt(.075,.82,.165,1),"ease-in-out-circ":Wt(.785,.135,.15,.86),spring:function(e,r,n){if(n===0)return id.linear;var a=Mj(e,r,n);return function(i,s,o){return i+(s-i)*a(o)}},"cubic-bezier":Wt};function _6(t,e,r,n,a){if(n===1||e===r)return r;var i=a(e,r,n);return t==null||((t.roundValue||t.color)&&(i=Math.round(i)),t.min!==void 0&&(i=Math.max(i,t.min)),t.max!==void 0&&(i=Math.min(i,t.max))),i}function S6(t,e){return t.pfValue!=null||t.value!=null?t.pfValue!=null&&(e==null||e.type.units!=="%")?t.pfValue:t.value:t}function Lo(t,e,r,n,a){var i=a!=null?a.type:null;r<0?r=0:r>1&&(r=1);var s=S6(t,a),o=S6(e,a);if(Ie(s)&&Ie(o))return _6(i,s,o,r,n);if(Vt(s)&&Vt(o)){for(var l=[],u=0;u<o.length;u++){var c=s[u],f=o[u];if(c!=null&&f!=null){var d=_6(i,c,f,r,n);l.push(d)}else l.push(f)}return l}}function Dj(t,e,r,n){var a=!n,i=t._private,s=e._private,o=s.easing,l=s.startTime,u=n?t:t.cy(),c=u.style();if(!s.easingImpl)if(o==null)s.easingImpl=id.linear;else{var f;if(Xe(o)){var d=c.parse("transition-timing-function",o);f=d.value}else f=o;var p,g;Xe(f)?(p=f,g=[]):(p=f[1],g=f.slice(2).map(function(ee){return+ee})),g.length>0?(p==="spring"&&g.push(s.duration),s.easingImpl=id[p].apply(null,g)):s.easingImpl=id[p]}var y=s.easingImpl,x;if(s.duration===0?x=1:x=(r-l)/s.duration,s.applying&&(x=s.progress),x<0?x=0:x>1&&(x=1),s.delay==null){var b=s.startPosition,w=s.position;if(w&&a&&!t.locked()){var _={};Cu(b.x,w.x)&&(_.x=Lo(b.x,w.x,x,y)),Cu(b.y,w.y)&&(_.y=Lo(b.y,w.y,x,y)),t.position(_)}var k=s.startPan,E=s.pan,D=i.pan,M=E!=null&&n;M&&(Cu(k.x,E.x)&&(D.x=Lo(k.x,E.x,x,y)),Cu(k.y,E.y)&&(D.y=Lo(k.y,E.y,x,y)),t.emit("pan"));var A=s.startZoom,R=s.zoom,O=R!=null&&n;O&&(Cu(A,R)&&(i.zoom=Bc(i.minZoom,Lo(A,R,x,y),i.maxZoom)),t.emit("zoom")),(M||O)&&t.emit("viewport");var N=s.style;if(N&&N.length>0&&a){for(var B=0;B<N.length;B++){var F=N[B],V=F.name,X=F,K=s.startStyle[V],U=c.properties[K.name],H=Lo(K,X,x,y,U);c.overrideBypass(t,V,H)}t.emit("style")}}return s.progress=x,x}function Cu(t,e){return t==null||e==null?!1:Ie(t)&&Ie(e)?!0:!!(t&&e)}function Pj(t,e,r,n){var a=e._private;a.started=!0,a.startTime=r-a.progress*a.duration}function k6(t,e){var r=e._private.aniEles,n=[];function a(c,f){var d=c._private,p=d.animation.current,g=d.animation.queue,y=!1;if(p.length===0){var x=g.shift();x&&p.push(x)}for(var b=function(D){for(var M=D.length-1;M>=0;M--){var A=D[M];A()}D.splice(0,D.length)},w=p.length-1;w>=0;w--){var _=p[w],k=_._private;if(k.stopped){p.splice(w,1),k.hooked=!1,k.playing=!1,k.started=!1,b(k.frames);continue}!k.playing&&!k.applying||(k.playing&&k.applying&&(k.applying=!1),k.started||Pj(c,_,t),Dj(c,_,t,f),k.applying&&(k.applying=!1),b(k.frames),k.step!=null&&k.step(t),_.completed()&&(p.splice(w,1),k.hooked=!1,k.playing=!1,k.started=!1,b(k.completes)),y=!0)}return!f&&p.length===0&&g.length===0&&n.push(c),y}for(var i=!1,s=0;s<r.length;s++){var o=r[s],l=a(o);i=i||l}var u=a(e,!0);(i||u)&&(r.length>0?e.notify("draw",r):e.notify("draw")),r.unmerge(n),e.emit("step")}var Aj={animate:At.animate(),animation:At.animation(),animated:At.animated(),clearQueue:At.clearQueue(),delay:At.delay(),delayAnimation:At.delayAnimation(),stop:At.stop(),addToAnimationPool:function(e){var r=this;r.styleEnabled()&&r._private.aniEles.merge(e)},stopAnimationLoop:function(){this._private.animationsRunning=!1},startAnimationLoop:function(){var e=this;if(e._private.animationsRunning=!0,!e.styleEnabled())return;function r(){e._private.animationsRunning&&eh(function(i){k6(i,e),r()})}var n=e.renderer();n&&n.beforeRender?n.beforeRender(function(i,s){k6(s,e)},n.beforeRenderPriorities.animations):r()}},Lj={qualifierCompare:function(e,r){return e==null||r==null?e==null&&r==null:e.sameText(r)},eventMatches:function(e,r,n){var a=r.qualifier;return a!=null?e!==n.target&&l0(n.target)&&a.matches(n.target):!0},addEventFields:function(e,r){r.cy=e,r.target=e},callbackContext:function(e,r,n){return r.qualifier!=null?n.target:e}},Cf=function(e){return Xe(e)?new ds(e):e},Qk={createEmitter:function(){var e=this._private;return e.emitter||(e.emitter=new op(Lj,this)),this},emitter:function(){return this._private.emitter},on:function(e,r,n){return this.emitter().on(e,Cf(r),n),this},removeListener:function(e,r,n){return this.emitter().removeListener(e,Cf(r),n),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},one:function(e,r,n){return this.emitter().one(e,Cf(r),n),this},once:function(e,r,n){return this.emitter().one(e,Cf(r),n),this},emit:function(e,r){return this.emitter().emit(e,r),this},emitAndNotify:function(e,r){return this.emit(e),this.notify(e,r),this}};At.eventAliasesOn(Qk);var W1={png:function(e){var r=this._private.renderer;return e=e||{},r.png(e)},jpg:function(e){var r=this._private.renderer;return e=e||{},e.bg=e.bg||"#fff",r.jpg(e)}};W1.jpeg=W1.jpg;var sd={layout:function(e){var r=this;if(e==null){sr("Layout options must be specified to make a layout");return}if(e.name==null){sr("A `name` must be specified to make a layout");return}var n=e.name,a=r.extension("layout",n);if(a==null){sr("No such layout `"+n+"` found.  Did you forget to import it and `cytoscape.use()` it?");return}var i;Xe(e.eles)?i=r.$(e.eles):i=e.eles!=null?e.eles:r.$();var s=new a(Je({},e,{cy:r,eles:i}));return s}};sd.createLayout=sd.makeLayout=sd.layout;var Rj={notify:function(e,r){var n=this._private;if(this.batching()){n.batchNotifications=n.batchNotifications||{};var a=n.batchNotifications[e]=n.batchNotifications[e]||this.collection();r!=null&&a.merge(r);return}if(n.notificationsEnabled){var i=this.renderer();this.destroyed()||!i||i.notify(e,r)}},notifications:function(e){var r=this._private;return e===void 0?r.notificationsEnabled:(r.notificationsEnabled=!!e,this)},noNotifications:function(e){this.notifications(!1),e(),this.notifications(!0)},batching:function(){return this._private.batchCount>0},startBatch:function(){var e=this._private;return e.batchCount==null&&(e.batchCount=0),e.batchCount===0&&(e.batchStyleEles=this.collection(),e.batchNotifications={}),e.batchCount++,this},endBatch:function(){var e=this._private;if(e.batchCount===0)return this;if(e.batchCount--,e.batchCount===0){e.batchStyleEles.updateStyle();var r=this.renderer();Object.keys(e.batchNotifications).forEach(function(n){var a=e.batchNotifications[n];a.empty()?r.notify(n):r.notify(n,a)})}return this},batch:function(e){return this.startBatch(),e(),this.endBatch(),this},batchData:function(e){var r=this;return this.batch(function(){for(var n=Object.keys(e),a=0;a<n.length;a++){var i=n[a],s=e[i],o=r.getElementById(i);o.data(s)}})}},Oj=Lr({hideEdgesOnViewport:!1,textureOnViewport:!1,motionBlur:!1,motionBlurOpacity:.05,pixelRatio:void 0,desktopTapThreshold:4,touchTapThreshold:8,wheelSensitivity:1,debug:!1,showFps:!1,webgl:!1,webglDebug:!1,webglDebugShowAtlases:!1,webglTexSize:2048,webglTexRows:36,webglTexRowsNodes:18,webglBatchSize:2048,webglTexPerBatch:14,webglBgColor:[255,255,255]}),G1={renderTo:function(e,r,n,a){var i=this._private.renderer;return i.renderTo(e,r,n,a),this},renderer:function(){return this._private.renderer},forceRender:function(){return this.notify("draw"),this},resize:function(){return this.invalidateSize(),this.emitAndNotify("resize"),this},initRenderer:function(e){var r=this,n=r.extension("renderer",e.name);if(n==null){sr("Can not initialise: No such renderer `".concat(e.name,"` found. Did you forget to import it and `cytoscape.use()` it?"));return}e.wheelSensitivity!==void 0&&Lt("You have set a custom wheel sensitivity.  This will make your app zoom unnaturally when using mainstream mice.  You should change this value from the default only if you can guarantee that all your users will use the same hardware and OS configuration as your current machine.");var a=Oj(e);a.cy=r,r._private.renderer=new n(a),this.notify("init")},destroyRenderer:function(){var e=this;e.notify("destroy");var r=e.container();if(r)for(r._cyreg=null;r.childNodes.length>0;)r.removeChild(r.childNodes[0]);e._private.renderer=null,e.mutableElements().forEach(function(n){var a=n._private;a.rscratch={},a.rstyle={},a.animation.current=[],a.animation.queue=[]})},onRender:function(e){return this.on("render",e)},offRender:function(e){return this.off("render",e)}};G1.invalidateDimensions=G1.resize;var od={collection:function(e,r){return Xe(e)?this.$(e):Vn(e)?e.collection():Vt(e)?(r||(r={}),new Kr(this,e,r.unique,r.removed)):new Kr(this)},nodes:function(e){var r=this.$(function(n){return n.isNode()});return e?r.filter(e):r},edges:function(e){var r=this.$(function(n){return n.isEdge()});return e?r.filter(e):r},$:function(e){var r=this._private.elements;return e?r.filter(e):r.spawnSelf()},mutableElements:function(){return this._private.elements}};od.elements=od.filter=od.$;var Vr={},ac="t",Ij="f";Vr.apply=function(t){for(var e=this,r=e._private,n=r.cy,a=n.collection(),i=0;i<t.length;i++){var s=t[i],o=e.getContextMeta(s);if(!o.empty){var l=e.getContextStyle(o),u=e.applyContextStyle(o,l,s);s._private.appliedInitStyle?e.updateTransitions(s,u.diffProps):s._private.appliedInitStyle=!0;var c=e.updateStyleHints(s);c&&a.push(s)}}return a};Vr.getPropertiesDiff=function(t,e){var r=this,n=r._private.propDiffs=r._private.propDiffs||{},a=t+"-"+e,i=n[a];if(i)return i;for(var s=[],o={},l=0;l<r.length;l++){var u=r[l],c=t[l]===ac,f=e[l]===ac,d=c!==f,p=u.mappedProperties.length>0;if(d||f&&p){var g=void 0;d&&p||d?g=u.properties:p&&(g=u.mappedProperties);for(var y=0;y<g.length;y++){for(var x=g[y],b=x.name,w=!1,_=l+1;_<r.length;_++){var k=r[_],E=e[_]===ac;if(E&&(w=k.properties[x.name]!=null,w))break}!o[b]&&!w&&(o[b]=!0,s.push(b))}}}return n[a]=s,s};Vr.getContextMeta=function(t){for(var e=this,r="",n,a=t._private.styleCxtKey||"",i=0;i<e.length;i++){var s=e[i],o=s.selector&&s.selector.matches(t);o?r+=ac:r+=Ij}return n=e.getPropertiesDiff(a,r),t._private.styleCxtKey=r,{key:r,diffPropNames:n,empty:n.length===0}};Vr.getContextStyle=function(t){var e=t.key,r=this,n=this._private.contextStyles=this._private.contextStyles||{};if(n[e])return n[e];for(var a={_private:{key:e}},i=0;i<r.length;i++){var s=r[i],o=e[i]===ac;if(o)for(var l=0;l<s.properties.length;l++){var u=s.properties[l];a[u.name]=u}}return n[e]=a,a};Vr.applyContextStyle=function(t,e,r){for(var n=this,a=t.diffPropNames,i={},s=n.types,o=0;o<a.length;o++){var l=a[o],u=e[l],c=r.pstyle(l);if(!u)if(c)c.bypass?u={name:l,deleteBypassed:!0}:u={name:l,delete:!0};else continue;if(c!==u){if(u.mapped===s.fn&&c!=null&&c.mapping!=null&&c.mapping.value===u.value){var f=c.mapping,d=f.fnValue=u.value(r);if(d===f.prevFnValue)continue}var p=i[l]={prev:c};n.applyParsedProperty(r,u),p.next=r.pstyle(l),p.next&&p.next.bypass&&(p.next=p.next.bypassed)}}return{diffProps:i}};Vr.updateStyleHints=function(t){var e=t._private,r=this,n=r.propertyGroupNames,a=r.propertyGroupKeys,i=function(ye,we,Le){return r.getPropertiesHash(ye,we,Le)},s=e.styleKey;if(t.removed())return!1;var o=e.group==="nodes",l=t._private.style;n=Object.keys(l);for(var u=0;u<a.length;u++){var c=a[u];e.styleKeys[c]=[nl,Bu]}for(var f=function(ye,we){return e.styleKeys[we][0]=Ic(ye,e.styleKeys[we][0])},d=function(ye,we){return e.styleKeys[we][1]=Nc(ye,e.styleKeys[we][1])},p=function(ye,we){f(ye,we),d(ye,we)},g=function(ye,we){for(var Le=0;Le<ye.length;Le++){var Ve=ye.charCodeAt(Le);f(Ve,we),d(Ve,we)}},y=2e9,x=function(ye){return-128<ye&&ye<128&&Math.floor(ye)!==ye?y-(ye*1024|0):ye},b=0;b<n.length;b++){var w=n[b],_=l[w];if(_!=null){var k=this.properties[w],E=k.type,D=k.groupKey,M=void 0;k.hashOverride!=null?M=k.hashOverride(t,_):_.pfValue!=null&&(M=_.pfValue);var A=k.enums==null?_.value:null,R=M!=null,O=A!=null,N=R||O,B=_.units;if(E.number&&N&&!E.multiple){var F=R?M:A;p(x(F),D),!R&&B!=null&&g(B,D)}else g(_.strValue,D)}}for(var V=[nl,Bu],X=0;X<a.length;X++){var K=a[X],U=e.styleKeys[K];V[0]=Ic(U[0],V[0]),V[1]=Nc(U[1],V[1])}e.styleKey=rq(V[0],V[1]);var H=e.styleKeys;e.labelDimsKey=Pi(H.labelDimensions);var ee=i(t,["label"],H.labelDimensions);if(e.labelKey=Pi(ee),e.labelStyleKey=Pi(yf(H.commonLabel,ee)),!o){var re=i(t,["source-label"],H.labelDimensions);e.sourceLabelKey=Pi(re),e.sourceLabelStyleKey=Pi(yf(H.commonLabel,re));var W=i(t,["target-label"],H.labelDimensions);e.targetLabelKey=Pi(W),e.targetLabelStyleKey=Pi(yf(H.commonLabel,W))}if(o){var Z=e.styleKeys,ue=Z.nodeBody,pe=Z.nodeBorder,ge=Z.nodeOutline,fe=Z.backgroundImage,Se=Z.compound,Ee=Z.pie,ve=[ue,pe,ge,fe,Se,Ee].filter(function(se){return se!=null}).reduce(yf,[nl,Bu]);e.nodeKey=Pi(ve),e.hasPie=Ee!=null&&Ee[0]!==nl&&Ee[1]!==Bu}return s!==e.styleKey};Vr.clearStyleHints=function(t){var e=t._private;e.styleCxtKey="",e.styleKeys={},e.styleKey=null,e.labelKey=null,e.labelStyleKey=null,e.sourceLabelKey=null,e.sourceLabelStyleKey=null,e.targetLabelKey=null,e.targetLabelStyleKey=null,e.nodeKey=null,e.hasPie=null};Vr.applyParsedProperty=function(t,e){var r=this,n=e,a=t._private.style,i,s=r.types,o=r.properties[n.name].type,l=n.bypass,u=a[n.name],c=u&&u.bypass,f=t._private,d="mapping",p=function(ue){return ue==null?null:ue.pfValue!=null?ue.pfValue:ue.value},g=function(){var ue=p(u),pe=p(n);r.checkTriggers(t,n.name,ue,pe)};if(e.name==="curve-style"&&t.isEdge()&&(e.value!=="bezier"&&t.isLoop()||e.value==="haystack"&&(t.source().isParent()||t.target().isParent()))&&(n=e=this.parse(e.name,"bezier",l)),n.delete)return a[n.name]=void 0,g(),!0;if(n.deleteBypassed)return u?u.bypass?(u.bypassed=void 0,g(),!0):!1:(g(),!0);if(n.deleteBypass)return u?u.bypass?(a[n.name]=u.bypassed,g(),!0):!1:(g(),!0);var y=function(){Lt("Do not assign mappings to elements without corresponding data (i.e. ele `"+t.id()+"` has no mapping for property `"+n.name+"` with data field `"+n.field+"`); try a `["+n.field+"]` selector to limit scope to elements with `"+n.field+"` defined")};switch(n.mapped){case s.mapData:{for(var x=n.field.split("."),b=f.data,w=0;w<x.length&&b;w++){var _=x[w];b=b[_]}if(b==null)return y(),!1;var k;if(Ie(b)){var E=n.fieldMax-n.fieldMin;E===0?k=0:k=(b-n.fieldMin)/E}else return Lt("Do not use continuous mappers without specifying numeric data (i.e. `"+n.field+": "+b+"` for `"+t.id()+"` is non-numeric)"),!1;if(k<0?k=0:k>1&&(k=1),o.color){var D=n.valueMin[0],M=n.valueMax[0],A=n.valueMin[1],R=n.valueMax[1],O=n.valueMin[2],N=n.valueMax[2],B=n.valueMin[3]==null?1:n.valueMin[3],F=n.valueMax[3]==null?1:n.valueMax[3],V=[Math.round(D+(M-D)*k),Math.round(A+(R-A)*k),Math.round(O+(N-O)*k),Math.round(B+(F-B)*k)];i={bypass:n.bypass,name:n.name,value:V,strValue:"rgb("+V[0]+", "+V[1]+", "+V[2]+")"}}else if(o.number){var X=n.valueMin+(n.valueMax-n.valueMin)*k;i=this.parse(n.name,X,n.bypass,d)}else return!1;if(!i)return y(),!1;i.mapping=n,n=i;break}case s.data:{for(var K=n.field.split("."),U=f.data,H=0;H<K.length&&U;H++){var ee=K[H];U=U[ee]}if(U!=null&&(i=this.parse(n.name,U,n.bypass,d)),!i)return y(),!1;i.mapping=n,n=i;break}case s.fn:{var re=n.value,W=n.fnValue!=null?n.fnValue:re(t);if(n.prevFnValue=W,W==null)return Lt("Custom function mappers may not return null (i.e. `"+n.name+"` for ele `"+t.id()+"` is null)"),!1;if(i=this.parse(n.name,W,n.bypass,d),!i)return Lt("Custom function mappers may not return invalid values for the property type (i.e. `"+n.name+"` for ele `"+t.id()+"` is invalid)"),!1;i.mapping=Ia(n),n=i;break}case void 0:break;default:return!1}return l?(c?n.bypassed=u.bypassed:n.bypassed=u,a[n.name]=n):c?u.bypassed=n:a[n.name]=n,g(),!0};Vr.cleanElements=function(t,e){for(var r=0;r<t.length;r++){var n=t[r];if(this.clearStyleHints(n),n.dirtyCompoundBoundsCache(),n.dirtyBoundingBoxCache(),!e)n._private.style={};else for(var a=n._private.style,i=Object.keys(a),s=0;s<i.length;s++){var o=i[s],l=a[o];l!=null&&(l.bypass?l.bypassed=null:a[o]=null)}}};Vr.update=function(){var t=this._private.cy,e=t.mutableElements();e.updateStyle()};Vr.updateTransitions=function(t,e){var r=this,n=t._private,a=t.pstyle("transition-property").value,i=t.pstyle("transition-duration").pfValue,s=t.pstyle("transition-delay").pfValue;if(a.length>0&&i>0){for(var o={},l=!1,u=0;u<a.length;u++){var c=a[u],f=t.pstyle(c),d=e[c];if(d){var p=d.prev,g=p,y=d.next!=null?d.next:f,x=!1,b=void 0,w=1e-6;g&&(Ie(g.pfValue)&&Ie(y.pfValue)?(x=y.pfValue-g.pfValue,b=g.pfValue+w*x):Ie(g.value)&&Ie(y.value)?(x=y.value-g.value,b=g.value+w*x):Vt(g.value)&&Vt(y.value)&&(x=g.value[0]!==y.value[0]||g.value[1]!==y.value[1]||g.value[2]!==y.value[2],b=g.strValue),x&&(o[c]=y.strValue,this.applyBypass(t,c,b),l=!0))}}if(!l)return;n.transitioning=!0,new Kl(function(_){s>0?t.delayAnimation(s).play().promise().then(_):_()}).then(function(){return t.animation({style:o,duration:i,easing:t.pstyle("transition-timing-function").value,queue:!1}).play().promise()}).then(function(){r.removeBypasses(t,a),t.emitAndNotify("style"),n.transitioning=!1})}else n.transitioning&&(this.removeBypasses(t,a),t.emitAndNotify("style"),n.transitioning=!1)};Vr.checkTrigger=function(t,e,r,n,a,i){var s=this.properties[e],o=a(s);t.removed()||o!=null&&o(r,n,t)&&i(s)};Vr.checkZOrderTrigger=function(t,e,r,n){var a=this;this.checkTrigger(t,e,r,n,function(i){return i.triggersZOrder},function(){a._private.cy.notify("zorder",t)})};Vr.checkBoundsTrigger=function(t,e,r,n){this.checkTrigger(t,e,r,n,function(a){return a.triggersBounds},function(a){t.dirtyCompoundBoundsCache(),t.dirtyBoundingBoxCache()})};Vr.checkConnectedEdgesBoundsTrigger=function(t,e,r,n){this.checkTrigger(t,e,r,n,function(a){return a.triggersBoundsOfConnectedEdges},function(a){t.connectedEdges().forEach(function(i){i.dirtyBoundingBoxCache()})})};Vr.checkParallelEdgesBoundsTrigger=function(t,e,r,n){this.checkTrigger(t,e,r,n,function(a){return a.triggersBoundsOfParallelEdges},function(a){t.parallelEdges().forEach(function(i){i.dirtyBoundingBoxCache()})})};Vr.checkTriggers=function(t,e,r,n){t.dirtyStyleCache(),this.checkZOrderTrigger(t,e,r,n),this.checkBoundsTrigger(t,e,r,n),this.checkConnectedEdgesBoundsTrigger(t,e,r,n),this.checkParallelEdgesBoundsTrigger(t,e,r,n)};var g0={};g0.applyBypass=function(t,e,r,n){var a=this,i=[],s=!0;if(e==="*"||e==="**"){if(r!==void 0)for(var o=0;o<a.properties.length;o++){var l=a.properties[o],u=l.name,c=this.parse(u,r,!0);c&&i.push(c)}}else if(Xe(e)){var f=this.parse(e,r,!0);f&&i.push(f)}else if(kt(e)){var d=e;n=r;for(var p=Object.keys(d),g=0;g<p.length;g++){var y=p[g],x=d[y];if(x===void 0&&(x=d[Zh(y)]),x!==void 0){var b=this.parse(y,x,!0);b&&i.push(b)}}}else return!1;if(i.length===0)return!1;for(var w=!1,_=0;_<t.length;_++){for(var k=t[_],E={},D=void 0,M=0;M<i.length;M++){var A=i[M];if(n){var R=k.pstyle(A.name);D=E[A.name]={prev:R}}w=this.applyParsedProperty(k,Ia(A))||w,n&&(D.next=k.pstyle(A.name))}w&&this.updateStyleHints(k),n&&this.updateTransitions(k,E,s)}return w};g0.overrideBypass=function(t,e,r){e=N2(e);for(var n=0;n<t.length;n++){var a=t[n],i=a._private.style[e],s=this.properties[e].type,o=s.color,l=s.mutiple,u=i?i.pfValue!=null?i.pfValue:i.value:null;!i||!i.bypass?this.applyBypass(a,e,r):(i.value=r,i.pfValue!=null&&(i.pfValue=r),o?i.strValue="rgb("+r.join(",")+")":l?i.strValue=r.join(" "):i.strValue=""+r,this.updateStyleHints(a)),this.checkTriggers(a,e,u,r)}};g0.removeAllBypasses=function(t,e){return this.removeBypasses(t,this.propertyNames,e)};g0.removeBypasses=function(t,e,r){for(var n=!0,a=0;a<t.length;a++){for(var i=t[a],s={},o=0;o<e.length;o++){var l=e[o],u=this.properties[l],c=i.pstyle(u.name);if(!(!c||!c.bypass)){var f="",d=this.parse(l,f,!0),p=s[u.name]={prev:c};this.applyParsedProperty(i,d),p.next=i.pstyle(u.name)}}this.updateStyleHints(i),r&&this.updateTransitions(i,s,n)}};var K2={};K2.getEmSizeInPixels=function(){var t=this.containerCss("font-size");return t!=null?parseFloat(t):1};K2.containerCss=function(t){var e=this._private.cy,r=e.container(),n=e.window();if(n&&r&&n.getComputedStyle)return n.getComputedStyle(r).getPropertyValue(t)};var qa={};qa.getRenderedStyle=function(t,e){return e?this.getStylePropertyValue(t,e,!0):this.getRawStyle(t,!0)};qa.getRawStyle=function(t,e){var r=this;if(t=t[0],t){for(var n={},a=0;a<r.properties.length;a++){var i=r.properties[a],s=r.getStylePropertyValue(t,i.name,e);s!=null&&(n[i.name]=s,n[Zh(i.name)]=s)}return n}};qa.getIndexedStyle=function(t,e,r,n){var a=t.pstyle(e)[r][n];return a??t.cy().style().getDefaultProperty(e)[r][0]};qa.getStylePropertyValue=function(t,e,r){var n=this;if(t=t[0],t){var a=n.properties[e];a.alias&&(a=a.pointsTo);var i=a.type,s=t.pstyle(a.name);if(s){var o=s.value,l=s.units,u=s.strValue;if(r&&i.number&&o!=null&&Ie(o)){var c=t.cy().zoom(),f=function(x){return x*c},d=function(x,b){return f(x)+b},p=Vt(o),g=p?l.every(function(y){return y!=null}):l!=null;return g?p?o.map(function(y,x){return d(y,l[x])}).join(" "):d(o,l):p?o.map(function(y){return Xe(y)?y:""+f(y)}).join(" "):""+f(o)}else if(u!=null)return u}return null}};qa.getAnimationStartStyle=function(t,e){for(var r={},n=0;n<e.length;n++){var a=e[n],i=a.name,s=t.pstyle(i);s!==void 0&&(kt(s)?s=this.parse(i,s.strValue):s=this.parse(i,s)),s&&(r[i]=s)}return r};qa.getPropsList=function(t){var e=this,r=[],n=t,a=e.properties;if(n)for(var i=Object.keys(n),s=0;s<i.length;s++){var o=i[s],l=n[o],u=a[o]||a[N2(o)],c=this.parse(u.name,l);c&&r.push(c)}return r};qa.getNonDefaultPropertiesHash=function(t,e,r){var n=r.slice(),a,i,s,o,l,u;for(l=0;l<e.length;l++)if(a=e[l],i=t.pstyle(a,!1),i!=null)if(i.pfValue!=null)n[0]=Ic(o,n[0]),n[1]=Nc(o,n[1]);else for(s=i.strValue,u=0;u<s.length;u++)o=s.charCodeAt(u),n[0]=Ic(o,n[0]),n[1]=Nc(o,n[1]);return n};qa.getPropertiesHash=qa.getNonDefaultPropertiesHash;var cp={};cp.appendFromJson=function(t){for(var e=this,r=0;r<t.length;r++){var n=t[r],a=n.selector,i=n.style||n.css,s=Object.keys(i);e.selector(a);for(var o=0;o<s.length;o++){var l=s[o],u=i[l];e.css(l,u)}}return e};cp.fromJson=function(t){var e=this;return e.resetToDefault(),e.appendFromJson(t),e};cp.json=function(){for(var t=[],e=this.defaultLength;e<this.length;e++){for(var r=this[e],n=r.selector,a=r.properties,i={},s=0;s<a.length;s++){var o=a[s];i[o.name]=o.strValue}t.push({selector:n?n.toString():"core",style:i})}return t};var Z2={};Z2.appendFromString=function(t){var e=this,r=this,n=""+t,a,i,s;n=n.replace(/[/][*](\s|.)+?[*][/]/g,"");function o(){n.length>a.length?n=n.substr(a.length):n=""}function l(){i.length>s.length?i=i.substr(s.length):i=""}for(;;){var u=n.match(/^\s*$/);if(u)break;var c=n.match(/^\s*((?:.|\s)+?)\s*\{((?:.|\s)+?)\}/);if(!c){Lt("Halting stylesheet parsing: String stylesheet contains more to parse but no selector and block found in: "+n);break}a=c[0];var f=c[1];if(f!=="core"){var d=new ds(f);if(d.invalid){Lt("Skipping parsing of block: Invalid selector found in string stylesheet: "+f),o();continue}}var p=c[2],g=!1;i=p;for(var y=[];;){var x=i.match(/^\s*$/);if(x)break;var b=i.match(/^\s*(.+?)\s*:\s*(.+?)(?:\s*;|\s*$)/);if(!b){Lt("Skipping parsing of block: Invalid formatting of style property and value definitions found in:"+p),g=!0;break}s=b[0];var w=b[1],_=b[2],k=e.properties[w];if(!k){Lt("Skipping property: Invalid property name in: "+s),l();continue}var E=r.parse(w,_);if(!E){Lt("Skipping property: Invalid property definition in: "+s),l();continue}y.push({name:w,val:_}),l()}if(g){o();break}r.selector(f);for(var D=0;D<y.length;D++){var M=y[D];r.css(M.name,M.val)}o()}return r};Z2.fromString=function(t){var e=this;return e.resetToDefault(),e.appendFromString(t),e};var Gr={};(function(){var t=Pr,e=O$,r=N$,n=z$,a=B$,i=function(ve){return"^"+ve+"\\s*\\(\\s*([\\w\\.]+)\\s*\\)$"},s=function(ve){var se=t+"|\\w+|"+e+"|"+r+"|"+n+"|"+a;return"^"+ve+"\\s*\\(([\\w\\.]+)\\s*\\,\\s*("+t+")\\s*\\,\\s*("+t+")\\s*,\\s*("+se+")\\s*\\,\\s*("+se+")\\)$"},o=[`^url\\s*\\(\\s*['"]?(.+?)['"]?\\s*\\)$`,"^(none)$","^(.+)$"];Gr.types={time:{number:!0,min:0,units:"s|ms",implicitUnits:"ms"},percent:{number:!0,min:0,max:100,units:"%",implicitUnits:"%"},percentages:{number:!0,min:0,max:100,units:"%",implicitUnits:"%",multiple:!0},zeroOneNumber:{number:!0,min:0,max:1,unitless:!0},zeroOneNumbers:{number:!0,min:0,max:1,unitless:!0,multiple:!0},nOneOneNumber:{number:!0,min:-1,max:1,unitless:!0},nonNegativeInt:{number:!0,min:0,integer:!0,unitless:!0},nonNegativeNumber:{number:!0,min:0,unitless:!0},position:{enums:["parent","origin"]},nodeSize:{number:!0,min:0,enums:["label"]},number:{number:!0,unitless:!0},numbers:{number:!0,unitless:!0,multiple:!0},positiveNumber:{number:!0,unitless:!0,min:0,strictMin:!0},size:{number:!0,min:0},bidirectionalSize:{number:!0},bidirectionalSizeMaybePercent:{number:!0,allowPercent:!0},bidirectionalSizes:{number:!0,multiple:!0},sizeMaybePercent:{number:!0,min:0,allowPercent:!0},axisDirection:{enums:["horizontal","leftward","rightward","vertical","upward","downward","auto"]},paddingRelativeTo:{enums:["width","height","average","min","max"]},bgWH:{number:!0,min:0,allowPercent:!0,enums:["auto"],multiple:!0},bgPos:{number:!0,allowPercent:!0,multiple:!0},bgRelativeTo:{enums:["inner","include-padding"],multiple:!0},bgRepeat:{enums:["repeat","repeat-x","repeat-y","no-repeat"],multiple:!0},bgFit:{enums:["none","contain","cover"],multiple:!0},bgCrossOrigin:{enums:["anonymous","use-credentials","null"],multiple:!0},bgClip:{enums:["none","node"],multiple:!0},bgContainment:{enums:["inside","over"],multiple:!0},color:{color:!0},colors:{color:!0,multiple:!0},fill:{enums:["solid","linear-gradient","radial-gradient"]},bool:{enums:["yes","no"]},bools:{enums:["yes","no"],multiple:!0},lineStyle:{enums:["solid","dotted","dashed"]},lineCap:{enums:["butt","round","square"]},linePosition:{enums:["center","inside","outside"]},lineJoin:{enums:["round","bevel","miter"]},borderStyle:{enums:["solid","dotted","dashed","double"]},curveStyle:{enums:["bezier","unbundled-bezier","haystack","segments","straight","straight-triangle","taxi","round-segments","round-taxi"]},radiusType:{enums:["arc-radius","influence-radius"],multiple:!0},fontFamily:{regex:'^([\\w- \\"]+(?:\\s*,\\s*[\\w- \\"]+)*)$'},fontStyle:{enums:["italic","normal","oblique"]},fontWeight:{enums:["normal","bold","bolder","lighter","100","200","300","400","500","600","800","900",100,200,300,400,500,600,700,800,900]},textDecoration:{enums:["none","underline","overline","line-through"]},textTransform:{enums:["none","uppercase","lowercase"]},textWrap:{enums:["none","wrap","ellipsis"]},textOverflowWrap:{enums:["whitespace","anywhere"]},textBackgroundShape:{enums:["rectangle","roundrectangle","round-rectangle"]},nodeShape:{enums:["rectangle","roundrectangle","round-rectangle","cutrectangle","cut-rectangle","bottomroundrectangle","bottom-round-rectangle","barrel","ellipse","triangle","round-triangle","square","pentagon","round-pentagon","hexagon","round-hexagon","concavehexagon","concave-hexagon","heptagon","round-heptagon","octagon","round-octagon","tag","round-tag","star","diamond","round-diamond","vee","rhomboid","right-rhomboid","polygon"]},overlayShape:{enums:["roundrectangle","round-rectangle","ellipse"]},cornerRadius:{number:!0,min:0,units:"px|em",implicitUnits:"px",enums:["auto"]},compoundIncludeLabels:{enums:["include","exclude"]},arrowShape:{enums:["tee","triangle","triangle-tee","circle-triangle","triangle-cross","triangle-backcurve","vee","square","circle","diamond","chevron","none"]},arrowFill:{enums:["filled","hollow"]},arrowWidth:{number:!0,units:"%|px|em",implicitUnits:"px",enums:["match-line"]},display:{enums:["element","none"]},visibility:{enums:["hidden","visible"]},zCompoundDepth:{enums:["bottom","orphan","auto","top"]},zIndexCompare:{enums:["auto","manual"]},valign:{enums:["top","center","bottom"]},halign:{enums:["left","center","right"]},justification:{enums:["left","center","right","auto"]},text:{string:!0},data:{mapping:!0,regex:i("data")},layoutData:{mapping:!0,regex:i("layoutData")},scratch:{mapping:!0,regex:i("scratch")},mapData:{mapping:!0,regex:s("mapData")},mapLayoutData:{mapping:!0,regex:s("mapLayoutData")},mapScratch:{mapping:!0,regex:s("mapScratch")},fn:{mapping:!0,fn:!0},url:{regexes:o,singleRegexMatchValue:!0},urls:{regexes:o,singleRegexMatchValue:!0,multiple:!0},propList:{propList:!0},angle:{number:!0,units:"deg|rad",implicitUnits:"rad"},textRotation:{number:!0,units:"deg|rad",implicitUnits:"rad",enums:["none","autorotate"]},polygonPointList:{number:!0,multiple:!0,evenMultiple:!0,min:-1,max:1,unitless:!0},edgeDistances:{enums:["intersection","node-position","endpoints"]},edgeEndpoint:{number:!0,multiple:!0,units:"%|px|em|deg|rad",implicitUnits:"px",enums:["inside-to-node","outside-to-node","outside-to-node-or-label","outside-to-line","outside-to-line-or-label"],singleEnum:!0,validate:function(ve,se){switch(ve.length){case 2:return se[0]!=="deg"&&se[0]!=="rad"&&se[1]!=="deg"&&se[1]!=="rad";case 1:return Xe(ve[0])||se[0]==="deg"||se[0]==="rad";default:return!1}}},easing:{regexes:["^(spring)\\s*\\(\\s*("+t+")\\s*,\\s*("+t+")\\s*\\)$","^(cubic-bezier)\\s*\\(\\s*("+t+")\\s*,\\s*("+t+")\\s*,\\s*("+t+")\\s*,\\s*("+t+")\\s*\\)$"],enums:["linear","ease","ease-in","ease-out","ease-in-out","ease-in-sine","ease-out-sine","ease-in-out-sine","ease-in-quad","ease-out-quad","ease-in-out-quad","ease-in-cubic","ease-out-cubic","ease-in-out-cubic","ease-in-quart","ease-out-quart","ease-in-out-quart","ease-in-quint","ease-out-quint","ease-in-out-quint","ease-in-expo","ease-out-expo","ease-in-out-expo","ease-in-circ","ease-out-circ","ease-in-out-circ"]},gradientDirection:{enums:["to-bottom","to-top","to-left","to-right","to-bottom-right","to-bottom-left","to-top-right","to-top-left","to-right-bottom","to-left-bottom","to-right-top","to-left-top"]},boundsExpansion:{number:!0,multiple:!0,min:0,validate:function(ve){var se=ve.length;return se===1||se===2||se===4}}};var l={zeroNonZero:function(ve,se){return(ve==null||se==null)&&ve!==se||ve==0&&se!=0?!0:ve!=0&&se==0},any:function(ve,se){return ve!=se},emptyNonEmpty:function(ve,se){var ye=us(ve),we=us(se);return ye&&!we||!ye&&we}},u=Gr.types,c=[{name:"label",type:u.text,triggersBounds:l.any,triggersZOrder:l.emptyNonEmpty},{name:"text-rotation",type:u.textRotation,triggersBounds:l.any},{name:"text-margin-x",type:u.bidirectionalSize,triggersBounds:l.any},{name:"text-margin-y",type:u.bidirectionalSize,triggersBounds:l.any}],f=[{name:"source-label",type:u.text,triggersBounds:l.any},{name:"source-text-rotation",type:u.textRotation,triggersBounds:l.any},{name:"source-text-margin-x",type:u.bidirectionalSize,triggersBounds:l.any},{name:"source-text-margin-y",type:u.bidirectionalSize,triggersBounds:l.any},{name:"source-text-offset",type:u.size,triggersBounds:l.any}],d=[{name:"target-label",type:u.text,triggersBounds:l.any},{name:"target-text-rotation",type:u.textRotation,triggersBounds:l.any},{name:"target-text-margin-x",type:u.bidirectionalSize,triggersBounds:l.any},{name:"target-text-margin-y",type:u.bidirectionalSize,triggersBounds:l.any},{name:"target-text-offset",type:u.size,triggersBounds:l.any}],p=[{name:"font-family",type:u.fontFamily,triggersBounds:l.any},{name:"font-style",type:u.fontStyle,triggersBounds:l.any},{name:"font-weight",type:u.fontWeight,triggersBounds:l.any},{name:"font-size",type:u.size,triggersBounds:l.any},{name:"text-transform",type:u.textTransform,triggersBounds:l.any},{name:"text-wrap",type:u.textWrap,triggersBounds:l.any},{name:"text-overflow-wrap",type:u.textOverflowWrap,triggersBounds:l.any},{name:"text-max-width",type:u.size,triggersBounds:l.any},{name:"text-outline-width",type:u.size,triggersBounds:l.any},{name:"line-height",type:u.positiveNumber,triggersBounds:l.any}],g=[{name:"text-valign",type:u.valign,triggersBounds:l.any},{name:"text-halign",type:u.halign,triggersBounds:l.any},{name:"color",type:u.color},{name:"text-outline-color",type:u.color},{name:"text-outline-opacity",type:u.zeroOneNumber},{name:"text-background-color",type:u.color},{name:"text-background-opacity",type:u.zeroOneNumber},{name:"text-background-padding",type:u.size,triggersBounds:l.any},{name:"text-border-opacity",type:u.zeroOneNumber},{name:"text-border-color",type:u.color},{name:"text-border-width",type:u.size,triggersBounds:l.any},{name:"text-border-style",type:u.borderStyle,triggersBounds:l.any},{name:"text-background-shape",type:u.textBackgroundShape,triggersBounds:l.any},{name:"text-justification",type:u.justification}],y=[{name:"events",type:u.bool,triggersZOrder:l.any},{name:"text-events",type:u.bool,triggersZOrder:l.any}],x=[{name:"display",type:u.display,triggersZOrder:l.any,triggersBounds:l.any,triggersBoundsOfConnectedEdges:l.any,triggersBoundsOfParallelEdges:function(ve,se,ye){return ve===se?!1:ye.pstyle("curve-style").value==="bezier"}},{name:"visibility",type:u.visibility,triggersZOrder:l.any},{name:"opacity",type:u.zeroOneNumber,triggersZOrder:l.zeroNonZero},{name:"text-opacity",type:u.zeroOneNumber},{name:"min-zoomed-font-size",type:u.size},{name:"z-compound-depth",type:u.zCompoundDepth,triggersZOrder:l.any},{name:"z-index-compare",type:u.zIndexCompare,triggersZOrder:l.any},{name:"z-index",type:u.number,triggersZOrder:l.any}],b=[{name:"overlay-padding",type:u.size,triggersBounds:l.any},{name:"overlay-color",type:u.color},{name:"overlay-opacity",type:u.zeroOneNumber,triggersBounds:l.zeroNonZero},{name:"overlay-shape",type:u.overlayShape,triggersBounds:l.any},{name:"overlay-corner-radius",type:u.cornerRadius}],w=[{name:"underlay-padding",type:u.size,triggersBounds:l.any},{name:"underlay-color",type:u.color},{name:"underlay-opacity",type:u.zeroOneNumber,triggersBounds:l.zeroNonZero},{name:"underlay-shape",type:u.overlayShape,triggersBounds:l.any},{name:"underlay-corner-radius",type:u.cornerRadius}],_=[{name:"transition-property",type:u.propList},{name:"transition-duration",type:u.time},{name:"transition-delay",type:u.time},{name:"transition-timing-function",type:u.easing}],k=function(ve,se){return se.value==="label"?-ve.poolIndex():se.pfValue},E=[{name:"height",type:u.nodeSize,triggersBounds:l.any,hashOverride:k},{name:"width",type:u.nodeSize,triggersBounds:l.any,hashOverride:k},{name:"shape",type:u.nodeShape,triggersBounds:l.any},{name:"shape-polygon-points",type:u.polygonPointList,triggersBounds:l.any},{name:"corner-radius",type:u.cornerRadius},{name:"background-color",type:u.color},{name:"background-fill",type:u.fill},{name:"background-opacity",type:u.zeroOneNumber},{name:"background-blacken",type:u.nOneOneNumber},{name:"background-gradient-stop-colors",type:u.colors},{name:"background-gradient-stop-positions",type:u.percentages},{name:"background-gradient-direction",type:u.gradientDirection},{name:"padding",type:u.sizeMaybePercent,triggersBounds:l.any},{name:"padding-relative-to",type:u.paddingRelativeTo,triggersBounds:l.any},{name:"bounds-expansion",type:u.boundsExpansion,triggersBounds:l.any}],D=[{name:"border-color",type:u.color},{name:"border-opacity",type:u.zeroOneNumber},{name:"border-width",type:u.size,triggersBounds:l.any},{name:"border-style",type:u.borderStyle},{name:"border-cap",type:u.lineCap},{name:"border-join",type:u.lineJoin},{name:"border-dash-pattern",type:u.numbers},{name:"border-dash-offset",type:u.number},{name:"border-position",type:u.linePosition}],M=[{name:"outline-color",type:u.color},{name:"outline-opacity",type:u.zeroOneNumber},{name:"outline-width",type:u.size,triggersBounds:l.any},{name:"outline-style",type:u.borderStyle},{name:"outline-offset",type:u.size,triggersBounds:l.any}],A=[{name:"background-image",type:u.urls},{name:"background-image-crossorigin",type:u.bgCrossOrigin},{name:"background-image-opacity",type:u.zeroOneNumbers},{name:"background-image-containment",type:u.bgContainment},{name:"background-image-smoothing",type:u.bools},{name:"background-position-x",type:u.bgPos},{name:"background-position-y",type:u.bgPos},{name:"background-width-relative-to",type:u.bgRelativeTo},{name:"background-height-relative-to",type:u.bgRelativeTo},{name:"background-repeat",type:u.bgRepeat},{name:"background-fit",type:u.bgFit},{name:"background-clip",type:u.bgClip},{name:"background-width",type:u.bgWH},{name:"background-height",type:u.bgWH},{name:"background-offset-x",type:u.bgPos},{name:"background-offset-y",type:u.bgPos}],R=[{name:"position",type:u.position,triggersBounds:l.any},{name:"compound-sizing-wrt-labels",type:u.compoundIncludeLabels,triggersBounds:l.any},{name:"min-width",type:u.size,triggersBounds:l.any},{name:"min-width-bias-left",type:u.sizeMaybePercent,triggersBounds:l.any},{name:"min-width-bias-right",type:u.sizeMaybePercent,triggersBounds:l.any},{name:"min-height",type:u.size,triggersBounds:l.any},{name:"min-height-bias-top",type:u.sizeMaybePercent,triggersBounds:l.any},{name:"min-height-bias-bottom",type:u.sizeMaybePercent,triggersBounds:l.any}],O=[{name:"line-style",type:u.lineStyle},{name:"line-color",type:u.color},{name:"line-fill",type:u.fill},{name:"line-cap",type:u.lineCap},{name:"line-opacity",type:u.zeroOneNumber},{name:"line-dash-pattern",type:u.numbers},{name:"line-dash-offset",type:u.number},{name:"line-outline-width",type:u.size},{name:"line-outline-color",type:u.color},{name:"line-gradient-stop-colors",type:u.colors},{name:"line-gradient-stop-positions",type:u.percentages},{name:"curve-style",type:u.curveStyle,triggersBounds:l.any,triggersBoundsOfParallelEdges:function(ve,se){return ve===se?!1:ve==="bezier"||se==="bezier"}},{name:"haystack-radius",type:u.zeroOneNumber,triggersBounds:l.any},{name:"source-endpoint",type:u.edgeEndpoint,triggersBounds:l.any},{name:"target-endpoint",type:u.edgeEndpoint,triggersBounds:l.any},{name:"control-point-step-size",type:u.size,triggersBounds:l.any},{name:"control-point-distances",type:u.bidirectionalSizes,triggersBounds:l.any},{name:"control-point-weights",type:u.numbers,triggersBounds:l.any},{name:"segment-distances",type:u.bidirectionalSizes,triggersBounds:l.any},{name:"segment-weights",type:u.numbers,triggersBounds:l.any},{name:"segment-radii",type:u.numbers,triggersBounds:l.any},{name:"radius-type",type:u.radiusType,triggersBounds:l.any},{name:"taxi-turn",type:u.bidirectionalSizeMaybePercent,triggersBounds:l.any},{name:"taxi-turn-min-distance",type:u.size,triggersBounds:l.any},{name:"taxi-direction",type:u.axisDirection,triggersBounds:l.any},{name:"taxi-radius",type:u.number,triggersBounds:l.any},{name:"edge-distances",type:u.edgeDistances,triggersBounds:l.any},{name:"arrow-scale",type:u.positiveNumber,triggersBounds:l.any},{name:"loop-direction",type:u.angle,triggersBounds:l.any},{name:"loop-sweep",type:u.angle,triggersBounds:l.any},{name:"source-distance-from-node",type:u.size,triggersBounds:l.any},{name:"target-distance-from-node",type:u.size,triggersBounds:l.any}],N=[{name:"ghost",type:u.bool,triggersBounds:l.any},{name:"ghost-offset-x",type:u.bidirectionalSize,triggersBounds:l.any},{name:"ghost-offset-y",type:u.bidirectionalSize,triggersBounds:l.any},{name:"ghost-opacity",type:u.zeroOneNumber}],B=[{name:"selection-box-color",type:u.color},{name:"selection-box-opacity",type:u.zeroOneNumber},{name:"selection-box-border-color",type:u.color},{name:"selection-box-border-width",type:u.size},{name:"active-bg-color",type:u.color},{name:"active-bg-opacity",type:u.zeroOneNumber},{name:"active-bg-size",type:u.size},{name:"outside-texture-bg-color",type:u.color},{name:"outside-texture-bg-opacity",type:u.zeroOneNumber}],F=[];Gr.pieBackgroundN=16,F.push({name:"pie-size",type:u.sizeMaybePercent});for(var V=1;V<=Gr.pieBackgroundN;V++)F.push({name:"pie-"+V+"-background-color",type:u.color}),F.push({name:"pie-"+V+"-background-size",type:u.percent}),F.push({name:"pie-"+V+"-background-opacity",type:u.zeroOneNumber});var X=[],K=Gr.arrowPrefixes=["source","mid-source","target","mid-target"];[{name:"arrow-shape",type:u.arrowShape,triggersBounds:l.any},{name:"arrow-color",type:u.color},{name:"arrow-fill",type:u.arrowFill},{name:"arrow-width",type:u.arrowWidth}].forEach(function(Ee){K.forEach(function(ve){var se=ve+"-"+Ee.name,ye=Ee.type,we=Ee.triggersBounds;X.push({name:se,type:ye,triggersBounds:we})})},{});var U=Gr.properties=[].concat(y,_,x,b,w,N,g,p,c,f,d,E,D,M,A,F,R,O,X,B),H=Gr.propertyGroups={behavior:y,transition:_,visibility:x,overlay:b,underlay:w,ghost:N,commonLabel:g,labelDimensions:p,mainLabel:c,sourceLabel:f,targetLabel:d,nodeBody:E,nodeBorder:D,nodeOutline:M,backgroundImage:A,pie:F,compound:R,edgeLine:O,edgeArrow:X,core:B},ee=Gr.propertyGroupNames={},re=Gr.propertyGroupKeys=Object.keys(H);re.forEach(function(Ee){ee[Ee]=H[Ee].map(function(ve){return ve.name}),H[Ee].forEach(function(ve){return ve.groupKey=Ee})});var W=Gr.aliases=[{name:"content",pointsTo:"label"},{name:"control-point-distance",pointsTo:"control-point-distances"},{name:"control-point-weight",pointsTo:"control-point-weights"},{name:"segment-distance",pointsTo:"segment-distances"},{name:"segment-weight",pointsTo:"segment-weights"},{name:"segment-radius",pointsTo:"segment-radii"},{name:"edge-text-rotation",pointsTo:"text-rotation"},{name:"padding-left",pointsTo:"padding"},{name:"padding-right",pointsTo:"padding"},{name:"padding-top",pointsTo:"padding"},{name:"padding-bottom",pointsTo:"padding"}];Gr.propertyNames=U.map(function(Ee){return Ee.name});for(var Z=0;Z<U.length;Z++){var ue=U[Z];U[ue.name]=ue}for(var pe=0;pe<W.length;pe++){var ge=W[pe],fe=U[ge.pointsTo],Se={name:ge.name,alias:!0,pointsTo:fe};U.push(Se),U[ge.name]=Se}})();Gr.getDefaultProperty=function(t){return this.getDefaultProperties()[t]};Gr.getDefaultProperties=function(){var t=this._private;if(t.defaultProperties!=null)return t.defaultProperties;for(var e=Je({"selection-box-color":"#ddd","selection-box-opacity":.65,"selection-box-border-color":"#aaa","selection-box-border-width":1,"active-bg-color":"black","active-bg-opacity":.15,"active-bg-size":30,"outside-texture-bg-color":"#000","outside-texture-bg-opacity":.125,events:"yes","text-events":"no","text-valign":"top","text-halign":"center","text-justification":"auto","line-height":1,color:"#000","text-outline-color":"#000","text-outline-width":0,"text-outline-opacity":1,"text-opacity":1,"text-decoration":"none","text-transform":"none","text-wrap":"none","text-overflow-wrap":"whitespace","text-max-width":9999,"text-background-color":"#000","text-background-opacity":0,"text-background-shape":"rectangle","text-background-padding":0,"text-border-opacity":0,"text-border-width":0,"text-border-style":"solid","text-border-color":"#000","font-family":"Helvetica Neue, Helvetica, sans-serif","font-style":"normal","font-weight":"normal","font-size":16,"min-zoomed-font-size":0,"text-rotation":"none","source-text-rotation":"none","target-text-rotation":"none",visibility:"visible",display:"element",opacity:1,"z-compound-depth":"auto","z-index-compare":"auto","z-index":0,label:"","text-margin-x":0,"text-margin-y":0,"source-label":"","source-text-offset":0,"source-text-margin-x":0,"source-text-margin-y":0,"target-label":"","target-text-offset":0,"target-text-margin-x":0,"target-text-margin-y":0,"overlay-opacity":0,"overlay-color":"#000","overlay-padding":10,"overlay-shape":"round-rectangle","overlay-corner-radius":"auto","underlay-opacity":0,"underlay-color":"#000","underlay-padding":10,"underlay-shape":"round-rectangle","underlay-corner-radius":"auto","transition-property":"none","transition-duration":0,"transition-delay":0,"transition-timing-function":"linear","background-blacken":0,"background-color":"#999","background-fill":"solid","background-opacity":1,"background-image":"none","background-image-crossorigin":"anonymous","background-image-opacity":1,"background-image-containment":"inside","background-image-smoothing":"yes","background-position-x":"50%","background-position-y":"50%","background-offset-x":0,"background-offset-y":0,"background-width-relative-to":"include-padding","background-height-relative-to":"include-padding","background-repeat":"no-repeat","background-fit":"none","background-clip":"node","background-width":"auto","background-height":"auto","border-color":"#000","border-opacity":1,"border-width":0,"border-style":"solid","border-dash-pattern":[4,2],"border-dash-offset":0,"border-cap":"butt","border-join":"miter","border-position":"center","outline-color":"#999","outline-opacity":1,"outline-width":0,"outline-offset":0,"outline-style":"solid",height:30,width:30,shape:"ellipse","shape-polygon-points":"-1, -1,   1, -1,   1, 1,   -1, 1","corner-radius":"auto","bounds-expansion":0,"background-gradient-direction":"to-bottom","background-gradient-stop-colors":"#999","background-gradient-stop-positions":"0%",ghost:"no","ghost-offset-y":0,"ghost-offset-x":0,"ghost-opacity":0,padding:0,"padding-relative-to":"width",position:"origin","compound-sizing-wrt-labels":"include","min-width":0,"min-width-bias-left":0,"min-width-bias-right":0,"min-height":0,"min-height-bias-top":0,"min-height-bias-bottom":0},{"pie-size":"100%"},[{name:"pie-{{i}}-background-color",value:"black"},{name:"pie-{{i}}-background-size",value:"0%"},{name:"pie-{{i}}-background-opacity",value:1}].reduce(function(l,u){for(var c=1;c<=Gr.pieBackgroundN;c++){var f=u.name.replace("{{i}}",c),d=u.value;l[f]=d}return l},{}),{"line-style":"solid","line-color":"#999","line-fill":"solid","line-cap":"butt","line-opacity":1,"line-outline-width":0,"line-outline-color":"#000","line-gradient-stop-colors":"#999","line-gradient-stop-positions":"0%","control-point-step-size":40,"control-point-weights":.5,"segment-weights":.5,"segment-distances":20,"segment-radii":15,"radius-type":"arc-radius","taxi-turn":"50%","taxi-radius":15,"taxi-turn-min-distance":10,"taxi-direction":"auto","edge-distances":"intersection","curve-style":"haystack","haystack-radius":0,"arrow-scale":1,"loop-direction":"-45deg","loop-sweep":"-90deg","source-distance-from-node":0,"target-distance-from-node":0,"source-endpoint":"outside-to-node","target-endpoint":"outside-to-node","line-dash-pattern":[6,3],"line-dash-offset":0},[{name:"arrow-shape",value:"none"},{name:"arrow-color",value:"#999"},{name:"arrow-fill",value:"filled"},{name:"arrow-width",value:1}].reduce(function(l,u){return Gr.arrowPrefixes.forEach(function(c){var f=c+"-"+u.name,d=u.value;l[f]=d}),l},{})),r={},n=0;n<this.properties.length;n++){var a=this.properties[n];if(!a.pointsTo){var i=a.name,s=e[i],o=this.parse(i,s);r[i]=o}}return t.defaultProperties=r,t.defaultProperties};Gr.addDefaultStylesheet=function(){this.selector(":parent").css({shape:"rectangle",padding:10,"background-color":"#eee","border-color":"#ccc","border-width":1}).selector("edge").css({width:3}).selector(":loop").css({"curve-style":"bezier"}).selector("edge:compound").css({"curve-style":"bezier","source-endpoint":"outside-to-line","target-endpoint":"outside-to-line"}).selector(":selected").css({"background-color":"#0169D9","line-color":"#0169D9","source-arrow-color":"#0169D9","target-arrow-color":"#0169D9","mid-source-arrow-color":"#0169D9","mid-target-arrow-color":"#0169D9"}).selector(":parent:selected").css({"background-color":"#CCE1F9","border-color":"#aec8e5"}).selector(":active").css({"overlay-color":"black","overlay-padding":10,"overlay-opacity":.25}),this.defaultLength=this.length};var fp={};fp.parse=function(t,e,r,n){var a=this;if(ur(e))return a.parseImplWarn(t,e,r,n);var i=n==="mapping"||n===!0||n===!1||n==null?"dontcare":n,s=r?"t":"f",o=""+e,l=lk(t,o,s,i),u=a.propCache=a.propCache||[],c;return(c=u[l])||(c=u[l]=a.parseImplWarn(t,e,r,n)),(r||n==="mapping")&&(c=Ia(c),c&&(c.value=Ia(c.value))),c};fp.parseImplWarn=function(t,e,r,n){var a=this.parseImpl(t,e,r,n);return!a&&e!=null&&Lt("The style property `".concat(t,": ").concat(e,"` is invalid")),a&&(a.name==="width"||a.name==="height")&&e==="label"&&Lt("The style value of `label` is deprecated for `"+a.name+"`"),a};fp.parseImpl=function(t,e,r,n){var a=this;t=N2(t);var i=a.properties[t],s=e,o=a.types;if(!i||e===void 0)return null;i.alias&&(i=i.pointsTo,t=i.name);var l=Xe(e);l&&(e=e.trim());var u=i.type;if(!u)return null;if(r&&(e===""||e===null))return{name:t,value:e,bypass:!0,deleteBypass:!0};if(ur(e))return{name:t,value:e,strValue:"fn",mapped:o.fn,bypass:r};var c,f;if(!(!l||n||e.length<7||e[1]!=="a")){if(e.length>=7&&e[0]==="d"&&(c=new RegExp(o.data.regex).exec(e))){if(r)return!1;var d=o.data;return{name:t,value:c,strValue:""+e,mapped:d,field:c[1],bypass:r}}else if(e.length>=10&&e[0]==="m"&&(f=new RegExp(o.mapData.regex).exec(e))){if(r||u.multiple)return!1;var p=o.mapData;if(!(u.color||u.number))return!1;var g=this.parse(t,f[4]);if(!g||g.mapped)return!1;var y=this.parse(t,f[5]);if(!y||y.mapped)return!1;if(g.pfValue===y.pfValue||g.strValue===y.strValue)return Lt("`"+t+": "+e+"` is not a valid mapper because the output range is zero; converting to `"+t+": "+g.strValue+"`"),this.parse(t,g.strValue);if(u.color){var x=g.value,b=y.value,w=x[0]===b[0]&&x[1]===b[1]&&x[2]===b[2]&&(x[3]===b[3]||(x[3]==null||x[3]===1)&&(b[3]==null||b[3]===1));if(w)return!1}return{name:t,value:f,strValue:""+e,mapped:p,field:f[1],fieldMin:parseFloat(f[2]),fieldMax:parseFloat(f[3]),valueMin:g.value,valueMax:y.value,bypass:r}}}if(u.multiple&&n!=="multiple"){var _;if(l?_=e.split(/\s+/):Vt(e)?_=e:_=[e],u.evenMultiple&&_.length%2!==0)return null;for(var k=[],E=[],D=[],M="",A=!1,R=0;R<_.length;R++){var O=a.parse(t,_[R],r,"multiple");A=A||Xe(O.value),k.push(O.value),D.push(O.pfValue!=null?O.pfValue:O.value),E.push(O.units),M+=(R>0?" ":"")+O.strValue}return u.validate&&!u.validate(k,E)?null:u.singleEnum&&A?k.length===1&&Xe(k[0])?{name:t,value:k[0],strValue:k[0],bypass:r}:null:{name:t,value:k,pfValue:D,strValue:M,bypass:r,units:E}}var N=function(){for(var ve=0;ve<u.enums.length;ve++){var se=u.enums[ve];if(se===e)return{name:t,value:e,strValue:""+e,bypass:r}}return null};if(u.number){var B,F="px";if(u.units&&(B=u.units),u.implicitUnits&&(F=u.implicitUnits),!u.unitless)if(l){var V="px|em"+(u.allowPercent?"|\\%":"");B&&(V=B);var X=e.match("^("+Pr+")("+V+")?$");X&&(e=X[1],B=X[2]||F)}else(!B||u.implicitUnits)&&(B=F);if(e=parseFloat(e),isNaN(e)&&u.enums===void 0)return null;if(isNaN(e)&&u.enums!==void 0)return e=s,N();if(u.integer&&!T$(e)||u.min!==void 0&&(e<u.min||u.strictMin&&e===u.min)||u.max!==void 0&&(e>u.max||u.strictMax&&e===u.max))return null;var K={name:t,value:e,strValue:""+e+(B||""),units:B,bypass:r};return u.unitless||B!=="px"&&B!=="em"?K.pfValue=e:K.pfValue=B==="px"||!B?e:this.getEmSizeInPixels()*e,(B==="ms"||B==="s")&&(K.pfValue=B==="ms"?e:1e3*e),(B==="deg"||B==="rad")&&(K.pfValue=B==="rad"?e:Oq(e)),B==="%"&&(K.pfValue=e/100),K}else if(u.propList){var U=[],H=""+e;if(H!=="none"){for(var ee=H.split(/\s*,\s*|\s+/),re=0;re<ee.length;re++){var W=ee[re].trim();a.properties[W]?U.push(W):Lt("`"+W+"` is not a valid property name")}if(U.length===0)return null}return{name:t,value:U,strValue:U.length===0?"none":U.join(" "),bypass:r}}else if(u.color){var Z=tk(e);return Z?{name:t,value:Z,pfValue:Z,strValue:"rgb("+Z[0]+","+Z[1]+","+Z[2]+")",bypass:r}:null}else if(u.regex||u.regexes){if(u.enums){var ue=N();if(ue)return ue}for(var pe=u.regexes?u.regexes:[u.regex],ge=0;ge<pe.length;ge++){var fe=new RegExp(pe[ge]),Se=fe.exec(e);if(Se)return{name:t,value:u.singleRegexMatchValue?Se[1]:Se,strValue:""+e,bypass:r}}return null}else return u.string?{name:t,value:""+e,strValue:""+e,bypass:r}:u.enums?N():null};var Hr=function(e){if(!(this instanceof Hr))return new Hr(e);if(!I2(e)){sr("A style must have a core reference");return}this._private={cy:e,coreStyle:{}},this.length=0,this.resetToDefault()},on=Hr.prototype;on.instanceString=function(){return"style"};on.clear=function(){for(var t=this._private,e=t.cy,r=e.elements(),n=0;n<this.length;n++)this[n]=void 0;return this.length=0,t.contextStyles={},t.propDiffs={},this.cleanElements(r,!0),r.forEach(function(a){var i=a[0]._private;i.styleDirty=!0,i.appliedInitStyle=!1}),this};on.resetToDefault=function(){return this.clear(),this.addDefaultStylesheet(),this};on.core=function(t){return this._private.coreStyle[t]||this.getDefaultProperty(t)};on.selector=function(t){var e=t==="core"?null:new ds(t),r=this.length++;return this[r]={selector:e,properties:[],mappedProperties:[],index:r},this};on.css=function(){var t=this,e=arguments;if(e.length===1)for(var r=e[0],n=0;n<t.properties.length;n++){var a=t.properties[n],i=r[a.name];i===void 0&&(i=r[Zh(a.name)]),i!==void 0&&this.cssRule(a.name,i)}else e.length===2&&this.cssRule(e[0],e[1]);return this};on.style=on.css;on.cssRule=function(t,e){var r=this.parse(t,e);if(r){var n=this.length-1;this[n].properties.push(r),this[n].properties[r.name]=r,r.name.match(/pie-(\d+)-background-size/)&&r.value&&(this._private.hasPie=!0),r.mapped&&this[n].mappedProperties.push(r);var a=!this[n].selector;a&&(this._private.coreStyle[r.name]=r)}return this};on.append=function(t){return QS(t)?t.appendToStyle(this):Vt(t)?this.appendFromJson(t):Xe(t)&&this.appendFromString(t),this};Hr.fromJson=function(t,e){var r=new Hr(t);return r.fromJson(e),r};Hr.fromString=function(t,e){return new Hr(t).fromString(e)};[Vr,g0,K2,qa,cp,Z2,Gr,fp].forEach(function(t){Je(on,t)});Hr.types=on.types;Hr.properties=on.properties;Hr.propertyGroups=on.propertyGroups;Hr.propertyGroupNames=on.propertyGroupNames;Hr.propertyGroupKeys=on.propertyGroupKeys;var Nj={style:function(e){if(e){var r=this.setStyle(e);r.update()}return this._private.style},setStyle:function(e){var r=this._private;return QS(e)?r.style=e.generateStyle(this):Vt(e)?r.style=Hr.fromJson(this,e):Xe(e)?r.style=Hr.fromString(this,e):r.style=Hr(this),r.style},updateStyle:function(){this.mutableElements().updateStyle()}},zj="single",fo={autolock:function(e){if(e!==void 0)this._private.autolock=!!e;else return this._private.autolock;return this},autoungrabify:function(e){if(e!==void 0)this._private.autoungrabify=!!e;else return this._private.autoungrabify;return this},autounselectify:function(e){if(e!==void 0)this._private.autounselectify=!!e;else return this._private.autounselectify;return this},selectionType:function(e){var r=this._private;if(r.selectionType==null&&(r.selectionType=zj),e!==void 0)(e==="additive"||e==="single")&&(r.selectionType=e);else return r.selectionType;return this},panningEnabled:function(e){if(e!==void 0)this._private.panningEnabled=!!e;else return this._private.panningEnabled;return this},userPanningEnabled:function(e){if(e!==void 0)this._private.userPanningEnabled=!!e;else return this._private.userPanningEnabled;return this},zoomingEnabled:function(e){if(e!==void 0)this._private.zoomingEnabled=!!e;else return this._private.zoomingEnabled;return this},userZoomingEnabled:function(e){if(e!==void 0)this._private.userZoomingEnabled=!!e;else return this._private.userZoomingEnabled;return this},boxSelectionEnabled:function(e){if(e!==void 0)this._private.boxSelectionEnabled=!!e;else return this._private.boxSelectionEnabled;return this},pan:function(){var e=arguments,r=this._private.pan,n,a,i,s,o;switch(e.length){case 0:return r;case 1:if(Xe(e[0]))return n=e[0],r[n];if(kt(e[0])){if(!this._private.panningEnabled)return this;i=e[0],s=i.x,o=i.y,Ie(s)&&(r.x=s),Ie(o)&&(r.y=o),this.emit("pan viewport")}break;case 2:if(!this._private.panningEnabled)return this;n=e[0],a=e[1],(n==="x"||n==="y")&&Ie(a)&&(r[n]=a),this.emit("pan viewport");break}return this.notify("viewport"),this},panBy:function(e,r){var n=arguments,a=this._private.pan,i,s,o,l,u;if(!this._private.panningEnabled)return this;switch(n.length){case 1:kt(e)&&(o=n[0],l=o.x,u=o.y,Ie(l)&&(a.x+=l),Ie(u)&&(a.y+=u),this.emit("pan viewport"));break;case 2:i=e,s=r,(i==="x"||i==="y")&&Ie(s)&&(a[i]+=s),this.emit("pan viewport");break}return this.notify("viewport"),this},gc:function(){this.notify("gc")},fit:function(e,r){var n=this.getFitViewport(e,r);if(n){var a=this._private;a.zoom=n.zoom,a.pan=n.pan,this.emit("pan zoom viewport"),this.notify("viewport")}return this},getFitViewport:function(e,r){if(Ie(e)&&r===void 0&&(r=e,e=void 0),!(!this._private.panningEnabled||!this._private.zoomingEnabled)){var n;if(Xe(e)){var a=e;e=this.$(a)}else if(P$(e)){var i=e;n={x1:i.x1,y1:i.y1,x2:i.x2,y2:i.y2},n.w=n.x2-n.x1,n.h=n.y2-n.y1}else Vn(e)||(e=this.mutableElements());if(!(Vn(e)&&e.empty())){n=n||e.boundingBox();var s=this.width(),o=this.height(),l;if(r=Ie(r)?r:0,!isNaN(s)&&!isNaN(o)&&s>0&&o>0&&!isNaN(n.w)&&!isNaN(n.h)&&n.w>0&&n.h>0){l=Math.min((s-2*r)/n.w,(o-2*r)/n.h),l=l>this._private.maxZoom?this._private.maxZoom:l,l=l<this._private.minZoom?this._private.minZoom:l;var u={x:(s-l*(n.x1+n.x2))/2,y:(o-l*(n.y1+n.y2))/2};return{zoom:l,pan:u}}}}},zoomRange:function(e,r){var n=this._private;if(r==null){var a=e;e=a.min,r=a.max}return Ie(e)&&Ie(r)&&e<=r?(n.minZoom=e,n.maxZoom=r):Ie(e)&&r===void 0&&e<=n.maxZoom?n.minZoom=e:Ie(r)&&e===void 0&&r>=n.minZoom&&(n.maxZoom=r),this},minZoom:function(e){return e===void 0?this._private.minZoom:this.zoomRange({min:e})},maxZoom:function(e){return e===void 0?this._private.maxZoom:this.zoomRange({max:e})},getZoomedViewport:function(e){var r=this._private,n=r.pan,a=r.zoom,i,s,o=!1;if(r.zoomingEnabled||(o=!0),Ie(e)?s=e:kt(e)&&(s=e.level,e.position!=null?i=ep(e.position,a,n):e.renderedPosition!=null&&(i=e.renderedPosition),i!=null&&!r.panningEnabled&&(o=!0)),s=s>r.maxZoom?r.maxZoom:s,s=s<r.minZoom?r.minZoom:s,o||!Ie(s)||s===a||i!=null&&(!Ie(i.x)||!Ie(i.y)))return null;if(i!=null){var l=n,u=a,c=s,f={x:-c/u*(i.x-l.x)+i.x,y:-c/u*(i.y-l.y)+i.y};return{zoomed:!0,panned:!0,zoom:c,pan:f}}else return{zoomed:!0,panned:!1,zoom:s,pan:n}},zoom:function(e){if(e===void 0)return this._private.zoom;var r=this.getZoomedViewport(e),n=this._private;return r==null||!r.zoomed?this:(n.zoom=r.zoom,r.panned&&(n.pan.x=r.pan.x,n.pan.y=r.pan.y),this.emit("zoom"+(r.panned?" pan":"")+" viewport"),this.notify("viewport"),this)},viewport:function(e){var r=this._private,n=!0,a=!0,i=[],s=!1,o=!1;if(!e)return this;if(Ie(e.zoom)||(n=!1),kt(e.pan)||(a=!1),!n&&!a)return this;if(n){var l=e.zoom;l<r.minZoom||l>r.maxZoom||!r.zoomingEnabled?s=!0:(r.zoom=l,i.push("zoom"))}if(a&&(!s||!e.cancelOnFailedZoom)&&r.panningEnabled){var u=e.pan;Ie(u.x)&&(r.pan.x=u.x,o=!1),Ie(u.y)&&(r.pan.y=u.y,o=!1),o||i.push("pan")}return i.length>0&&(i.push("viewport"),this.emit(i.join(" ")),this.notify("viewport")),this},center:function(e){var r=this.getCenterPan(e);return r&&(this._private.pan=r,this.emit("pan viewport"),this.notify("viewport")),this},getCenterPan:function(e,r){if(this._private.panningEnabled){if(Xe(e)){var n=e;e=this.mutableElements().filter(n)}else Vn(e)||(e=this.mutableElements());if(e.length!==0){var a=e.boundingBox(),i=this.width(),s=this.height();r=r===void 0?this._private.zoom:r;var o={x:(i-r*(a.x1+a.x2))/2,y:(s-r*(a.y1+a.y2))/2};return o}}},reset:function(){return!this._private.panningEnabled||!this._private.zoomingEnabled?this:(this.viewport({pan:{x:0,y:0},zoom:1}),this)},invalidateSize:function(){this._private.sizeCache=null},size:function(){var e=this._private,r=e.container,n=this;return e.sizeCache=e.sizeCache||(r?function(){var a=n.window().getComputedStyle(r),i=function(o){return parseFloat(a.getPropertyValue(o))};return{width:r.clientWidth-i("padding-left")-i("padding-right"),height:r.clientHeight-i("padding-top")-i("padding-bottom")}}():{width:1,height:1})},width:function(){return this.size().width},height:function(){return this.size().height},extent:function(){var e=this._private.pan,r=this._private.zoom,n=this.renderedExtent(),a={x1:(n.x1-e.x)/r,x2:(n.x2-e.x)/r,y1:(n.y1-e.y)/r,y2:(n.y2-e.y)/r};return a.w=a.x2-a.x1,a.h=a.y2-a.y1,a},renderedExtent:function(){var e=this.width(),r=this.height();return{x1:0,y1:0,x2:e,y2:r,w:e,h:r}},multiClickDebounceTime:function(e){if(e)this._private.multiClickDebounceTime=e;else return this._private.multiClickDebounceTime;return this}};fo.centre=fo.center;fo.autolockNodes=fo.autolock;fo.autoungrabifyNodes=fo.autoungrabify;var Hc={data:At.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeData:At.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),scratch:At.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:At.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0})};Hc.attr=Hc.data;Hc.removeAttr=Hc.removeData;var Vc=function(e){var r=this;e=Je({},e);var n=e.container;n&&!Jd(n)&&Jd(n[0])&&(n=n[0]);var a=n?n._cyreg:null;a=a||{},a&&a.cy&&(a.cy.destroy(),a={});var i=a.readies=a.readies||[];n&&(n._cyreg=a),a.cy=r;var s=Tr!==void 0&&n!==void 0&&!e.headless,o=e;o.layout=Je({name:s?"grid":"null"},o.layout),o.renderer=Je({name:s?"canvas":"null"},o.renderer);var l=function(g,y,x){return y!==void 0?y:x!==void 0?x:g},u=this._private={container:n,ready:!1,options:o,elements:new Kr(this),listeners:[],aniEles:new Kr(this),data:o.data||{},scratch:{},layout:null,renderer:null,destroyed:!1,notificationsEnabled:!0,minZoom:1e-50,maxZoom:1e50,zoomingEnabled:l(!0,o.zoomingEnabled),userZoomingEnabled:l(!0,o.userZoomingEnabled),panningEnabled:l(!0,o.panningEnabled),userPanningEnabled:l(!0,o.userPanningEnabled),boxSelectionEnabled:l(!0,o.boxSelectionEnabled),autolock:l(!1,o.autolock,o.autolockNodes),autoungrabify:l(!1,o.autoungrabify,o.autoungrabifyNodes),autounselectify:l(!1,o.autounselectify),styleEnabled:o.styleEnabled===void 0?s:o.styleEnabled,zoom:Ie(o.zoom)?o.zoom:1,pan:{x:kt(o.pan)&&Ie(o.pan.x)?o.pan.x:0,y:kt(o.pan)&&Ie(o.pan.y)?o.pan.y:0},animation:{current:[],queue:[]},hasCompoundNodes:!1,multiClickDebounceTime:l(250,o.multiClickDebounceTime)};this.createEmitter(),this.selectionType(o.selectionType),this.zoomRange({min:o.minZoom,max:o.maxZoom});var c=function(g,y){var x=g.some(A$);if(x)return Kl.all(g).then(y);y(g)};u.styleEnabled&&r.setStyle([]);var f=Je({},o,o.renderer);r.initRenderer(f);var d=function(g,y,x){r.notifications(!1);var b=r.mutableElements();b.length>0&&b.remove(),g!=null&&(kt(g)||Vt(g))&&r.add(g),r.one("layoutready",function(_){r.notifications(!0),r.emit(_),r.one("load",y),r.emitAndNotify("load")}).one("layoutstop",function(){r.one("done",x),r.emit("done")});var w=Je({},r._private.options.layout);w.eles=r.elements(),r.layout(w).run()};c([o.style,o.elements],function(p){var g=p[0],y=p[1];u.styleEnabled&&r.style().append(g),d(y,function(){r.startAnimationLoop(),u.ready=!0,ur(o.ready)&&r.on("ready",o.ready);for(var x=0;x<i.length;x++){var b=i[x];r.on("ready",b)}a&&(a.readies=[]),r.emit("ready")},o.done)})},sh=Vc.prototype;Je(sh,{instanceString:function(){return"core"},isReady:function(){return this._private.ready},destroyed:function(){return this._private.destroyed},ready:function(e){return this.isReady()?this.emitter().emit("ready",[],e):this.on("ready",e),this},destroy:function(){var e=this;if(!e.destroyed())return e.stopAnimationLoop(),e.destroyRenderer(),this.emit("destroy"),e._private.destroyed=!0,e},hasElementWithId:function(e){return this._private.elements.hasElementWithId(e)},getElementById:function(e){return this._private.elements.getElementById(e)},hasCompoundNodes:function(){return this._private.hasCompoundNodes},headless:function(){return this._private.renderer.isHeadless()},styleEnabled:function(){return this._private.styleEnabled},addToPool:function(e){return this._private.elements.merge(e),this},removeFromPool:function(e){return this._private.elements.unmerge(e),this},container:function(){return this._private.container||null},window:function(){var e=this._private.container;if(e==null)return Tr;var r=this._private.container.ownerDocument;return r===void 0||r==null?Tr:r.defaultView||Tr},mount:function(e){if(e!=null){var r=this,n=r._private,a=n.options;return!Jd(e)&&Jd(e[0])&&(e=e[0]),r.stopAnimationLoop(),r.destroyRenderer(),n.container=e,n.styleEnabled=!0,r.invalidateSize(),r.initRenderer(Je({},a,a.renderer,{name:a.renderer.name==="null"?"canvas":a.renderer.name})),r.startAnimationLoop(),r.style(a.style),r.emit("mount"),r}},unmount:function(){var e=this;return e.stopAnimationLoop(),e.destroyRenderer(),e.initRenderer({name:"null"}),e.emit("unmount"),e},options:function(){return Ia(this._private.options)},json:function(e){var r=this,n=r._private,a=r.mutableElements(),i=function(k){return r.getElementById(k.id())};if(kt(e)){if(r.startBatch(),e.elements){var s={},o=function(k,E){for(var D=[],M=[],A=0;A<k.length;A++){var R=k[A];if(!R.data.id){Lt("cy.json() cannot handle elements without an ID attribute");continue}var O=""+R.data.id,N=r.getElementById(O);s[O]=!0,N.length!==0?M.push({ele:N,json:R}):(E&&(R.group=E),D.push(R))}r.add(D);for(var B=0;B<M.length;B++){var F=M[B],V=F.ele,X=F.json;V.json(X)}};if(Vt(e.elements))o(e.elements);else for(var l=["nodes","edges"],u=0;u<l.length;u++){var c=l[u],f=e.elements[c];Vt(f)&&o(f,c)}var d=r.collection();a.filter(function(_){return!s[_.id()]}).forEach(function(_){_.isParent()?d.merge(_):_.remove()}),d.forEach(function(_){return _.children().move({parent:null})}),d.forEach(function(_){return i(_).remove()})}e.style&&r.style(e.style),e.zoom!=null&&e.zoom!==n.zoom&&r.zoom(e.zoom),e.pan&&(e.pan.x!==n.pan.x||e.pan.y!==n.pan.y)&&r.pan(e.pan),e.data&&r.data(e.data);for(var p=["minZoom","maxZoom","zoomingEnabled","userZoomingEnabled","panningEnabled","userPanningEnabled","boxSelectionEnabled","autolock","autoungrabify","autounselectify","multiClickDebounceTime"],g=0;g<p.length;g++){var y=p[g];e[y]!=null&&r[y](e[y])}return r.endBatch(),this}else{var x=!!e,b={};x?b.elements=this.elements().map(function(_){return _.json()}):(b.elements={},a.forEach(function(_){var k=_.group();b.elements[k]||(b.elements[k]=[]),b.elements[k].push(_.json())})),this._private.styleEnabled&&(b.style=r.style().json()),b.data=Ia(r.data());var w=n.options;return b.zoomingEnabled=n.zoomingEnabled,b.userZoomingEnabled=n.userZoomingEnabled,b.zoom=n.zoom,b.minZoom=n.minZoom,b.maxZoom=n.maxZoom,b.panningEnabled=n.panningEnabled,b.userPanningEnabled=n.userPanningEnabled,b.pan=Ia(n.pan),b.boxSelectionEnabled=n.boxSelectionEnabled,b.renderer=Ia(w.renderer),b.hideEdgesOnViewport=w.hideEdgesOnViewport,b.textureOnViewport=w.textureOnViewport,b.wheelSensitivity=w.wheelSensitivity,b.motionBlur=w.motionBlur,b.multiClickDebounceTime=w.multiClickDebounceTime,b}}});sh.$id=sh.getElementById;[Cj,Aj,Qk,W1,sd,Rj,G1,od,Nj,fo,Hc].forEach(function(t){Je(sh,t)});var Bj={fit:!0,directed:!1,padding:30,circle:!1,grid:!1,spacingFactor:1.75,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,roots:void 0,depthSort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}},Fj={maximal:!1,acyclic:!1},Ro=function(e){return e.scratch("breadthfirst")},E6=function(e,r){return e.scratch("breadthfirst",r)};function Jk(t){this.options=Je({},Bj,Fj,t)}Jk.prototype.run=function(){var t=this.options,e=t.cy,r=t.eles,n=r.nodes().filter(function(ze){return ze.isChildless()}),a=r,i=t.directed,s=t.acyclic||t.maximal||t.maximalAdjustments>0,o=!!t.boundingBox,l=e.extent(),u=Rn(o?t.boundingBox:{x1:l.x1,y1:l.y1,w:l.w,h:l.h}),c;if(Vn(t.roots))c=t.roots;else if(Vt(t.roots)){for(var f=[],d=0;d<t.roots.length;d++){var p=t.roots[d],g=e.getElementById(p);f.push(g)}c=e.collection(f)}else if(Xe(t.roots))c=e.$(t.roots);else if(i)c=n.roots();else{var y=r.components();c=e.collection();for(var x=function(){var Ne=y[b],Ge=Ne.maxDegree(!1),tt=Ne.filter(function(Ke){return Ke.degree(!1)===Ge});c=c.add(tt)},b=0;b<y.length;b++)x()}var w=[],_={},k=function(Ne,Ge){w[Ge]==null&&(w[Ge]=[]);var tt=w[Ge].length;w[Ge].push(Ne),E6(Ne,{index:tt,depth:Ge})},E=function(Ne,Ge){var tt=Ro(Ne),Ke=tt.depth,et=tt.index;w[Ke][et]=null,Ne.isChildless()&&k(Ne,Ge)};a.bfs({roots:c,directed:t.directed,visit:function(Ne,Ge,tt,Ke,et){var at=Ne[0],lt=at.id();at.isChildless()&&k(at,et),_[lt]=!0}});for(var D=[],M=0;M<n.length;M++){var A=n[M];_[A.id()]||D.push(A)}var R=function(Ne){for(var Ge=w[Ne],tt=0;tt<Ge.length;tt++){var Ke=Ge[tt];if(Ke==null){Ge.splice(tt,1),tt--;continue}E6(Ke,{depth:Ne,index:tt})}},O=function(Ne,Ge){for(var tt=Ro(Ne),Ke=Ne.incomers().filter(function(be){return be.isNode()&&r.has(be)}),et=-1,at=Ne.id(),lt=0;lt<Ke.length;lt++){var Te=Ke[lt],j=Ro(Te);et=Math.max(et,j.depth)}if(tt.depth<=et){if(!t.acyclic&&Ge[at])return null;var le=et+1;return E(Ne,le),Ge[at]=le,!0}return!1};if(i&&s){var N=[],B={},F=function(Ne){return N.push(Ne)},V=function(){return N.shift()};for(n.forEach(function(ze){return N.push(ze)});N.length>0;){var X=V(),K=O(X,B);if(K)X.outgoers().filter(function(ze){return ze.isNode()&&r.has(ze)}).forEach(F);else if(K===null){Lt("Detected double maximal shift for node `"+X.id()+"`.  Bailing maximal adjustment due to cycle.  Use `options.maximal: true` only on DAGs.");break}}}var U=0;if(t.avoidOverlap)for(var H=0;H<n.length;H++){var ee=n[H],re=ee.layoutDimensions(t),W=re.w,Z=re.h;U=Math.max(U,W,Z)}var ue={},pe=function(Ne){if(ue[Ne.id()])return ue[Ne.id()];for(var Ge=Ro(Ne).depth,tt=Ne.neighborhood(),Ke=0,et=0,at=0;at<tt.length;at++){var lt=tt[at];if(!(lt.isEdge()||lt.isParent()||!n.has(lt))){var Te=Ro(lt);if(Te!=null){var j=Te.index,le=Te.depth;if(!(j==null||le==null)){var be=w[le].length;le<Ge&&(Ke+=j/be,et++)}}}}return et=Math.max(1,et),Ke=Ke/et,et===0&&(Ke=0),ue[Ne.id()]=Ke,Ke},ge=function(Ne,Ge){var tt=pe(Ne),Ke=pe(Ge),et=tt-Ke;return et===0?ek(Ne.id(),Ge.id()):et};t.depthSort!==void 0&&(ge=t.depthSort);for(var fe=w.length,Se=0;Se<fe;Se++)w[Se].sort(ge),R(Se);for(var Ee=[],ve=0;ve<D.length;ve++)Ee.push(D[ve]);var se=function(){for(var Ne=0;Ne<fe;Ne++)R(Ne)};Ee.length&&(w.unshift(Ee),fe=w.length,se());for(var ye=0,we=0;we<fe;we++)ye=Math.max(w[we].length,ye);var Le={x:u.x1+u.w/2,y:u.y1+u.h/2},Ve=n.reduce(function(ze,Ne){return function(Ge){return{w:ze.w===-1?Ge.w:(ze.w+Ge.w)/2,h:ze.h===-1?Ge.h:(ze.h+Ge.h)/2}}(Ne.boundingBox({includeLabels:t.nodeDimensionsIncludeLabels}))},{w:-1,h:-1}),it=Math.max(fe===1?0:o?(u.h-t.padding*2-Ve.h)/(fe-1):(u.h-t.padding*2-Ve.h)/(fe+1),U),Rt=w.reduce(function(ze,Ne){return Math.max(ze,Ne.length)},0),Et=function(Ne){var Ge=Ro(Ne),tt=Ge.depth,Ke=Ge.index;if(t.circle){var et=Math.min(u.w/2/fe,u.h/2/fe);et=Math.max(et,U);var at=et*tt+et-(fe>0&&w[0].length<=3?et/2:0),lt=2*Math.PI/w[tt].length*Ke;return tt===0&&w[0].length===1&&(at=1),{x:Le.x+at*Math.cos(lt),y:Le.y+at*Math.sin(lt)}}else{var Te=w[tt].length,j=Math.max(Te===1?0:o?(u.w-t.padding*2-Ve.w)/((t.grid?Rt:Te)-1):(u.w-t.padding*2-Ve.w)/((t.grid?Rt:Te)+1),U),le={x:Le.x+(Ke+1-(Te+1)/2)*j,y:Le.y+(tt+1-(fe+1)/2)*it};return le}};return r.nodes().layoutPositions(this,t,Et),this};var $j={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,radius:void 0,startAngle:3/2*Math.PI,sweep:void 0,clockwise:!0,sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}};function eE(t){this.options=Je({},$j,t)}eE.prototype.run=function(){var t=this.options,e=t,r=t.cy,n=e.eles,a=e.counterclockwise!==void 0?!e.counterclockwise:e.clockwise,i=n.nodes().not(":parent");e.sort&&(i=i.sort(e.sort));for(var s=Rn(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()}),o={x:s.x1+s.w/2,y:s.y1+s.h/2},l=e.sweep===void 0?2*Math.PI-2*Math.PI/i.length:e.sweep,u=l/Math.max(1,i.length-1),c,f=0,d=0;d<i.length;d++){var p=i[d],g=p.layoutDimensions(e),y=g.w,x=g.h;f=Math.max(f,y,x)}if(Ie(e.radius)?c=e.radius:i.length<=1?c=0:c=Math.min(s.h,s.w)/2-f,i.length>1&&e.avoidOverlap){f*=1.75;var b=Math.cos(u)-Math.cos(0),w=Math.sin(u)-Math.sin(0),_=Math.sqrt(f*f/(b*b+w*w));c=Math.max(_,c)}var k=function(D,M){var A=e.startAngle+M*u*(a?1:-1),R=c*Math.cos(A),O=c*Math.sin(A),N={x:o.x+R,y:o.y+O};return N};return n.nodes().layoutPositions(this,e,k),this};var qj={fit:!0,padding:30,startAngle:3/2*Math.PI,sweep:void 0,clockwise:!0,equidistant:!1,minNodeSpacing:10,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,height:void 0,width:void 0,spacingFactor:void 0,concentric:function(e){return e.degree()},levelWidth:function(e){return e.maxDegree()/4},animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}};function tE(t){this.options=Je({},qj,t)}tE.prototype.run=function(){for(var t=this.options,e=t,r=e.counterclockwise!==void 0?!e.counterclockwise:e.clockwise,n=t.cy,a=e.eles,i=a.nodes().not(":parent"),s=Rn(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:n.width(),h:n.height()}),o={x:s.x1+s.w/2,y:s.y1+s.h/2},l=[],u=0,c=0;c<i.length;c++){var f=i[c],d=void 0;d=e.concentric(f),l.push({value:d,node:f}),f._private.scratch.concentric=d}i.updateStyle();for(var p=0;p<i.length;p++){var g=i[p],y=g.layoutDimensions(e);u=Math.max(u,y.w,y.h)}l.sort(function(Ve,it){return it.value-Ve.value});for(var x=e.levelWidth(i),b=[[]],w=b[0],_=0;_<l.length;_++){var k=l[_];if(w.length>0){var E=Math.abs(w[0].value-k.value);E>=x&&(w=[],b.push(w))}w.push(k)}var D=u+e.minNodeSpacing;if(!e.avoidOverlap){var M=b.length>0&&b[0].length>1,A=Math.min(s.w,s.h)/2-D,R=A/(b.length+M?1:0);D=Math.min(D,R)}for(var O=0,N=0;N<b.length;N++){var B=b[N],F=e.sweep===void 0?2*Math.PI-2*Math.PI/B.length:e.sweep,V=B.dTheta=F/Math.max(1,B.length-1);if(B.length>1&&e.avoidOverlap){var X=Math.cos(V)-Math.cos(0),K=Math.sin(V)-Math.sin(0),U=Math.sqrt(D*D/(X*X+K*K));O=Math.max(U,O)}B.r=O,O+=D}if(e.equidistant){for(var H=0,ee=0,re=0;re<b.length;re++){var W=b[re],Z=W.r-ee;H=Math.max(H,Z)}ee=0;for(var ue=0;ue<b.length;ue++){var pe=b[ue];ue===0&&(ee=pe.r),pe.r=ee,ee+=H}}for(var ge={},fe=0;fe<b.length;fe++)for(var Se=b[fe],Ee=Se.dTheta,ve=Se.r,se=0;se<Se.length;se++){var ye=Se[se],we=e.startAngle+(r?1:-1)*Ee*se,Le={x:o.x+ve*Math.cos(we),y:o.y+ve*Math.sin(we)};ge[ye.node.id()]=Le}return a.nodes().layoutPositions(this,e,function(Ve){var it=Ve.id();return ge[it]}),this};var rv,Hj={ready:function(){},stop:function(){},animate:!0,animationEasing:void 0,animationDuration:void 0,animateFilter:function(e,r){return!0},animationThreshold:250,refresh:20,fit:!0,padding:30,boundingBox:void 0,nodeDimensionsIncludeLabels:!1,randomize:!1,componentSpacing:40,nodeRepulsion:function(e){return 2048},nodeOverlap:4,idealEdgeLength:function(e){return 32},edgeElasticity:function(e){return 32},nestingFactor:1.2,gravity:1,numIter:1e3,initialTemp:1e3,coolingFactor:.99,minTemp:1};function dp(t){this.options=Je({},Hj,t),this.options.layout=this;var e=this.options.eles.nodes(),r=this.options.eles.edges(),n=r.filter(function(a){var i=a.source().data("id"),s=a.target().data("id"),o=e.some(function(u){return u.data("id")===i}),l=e.some(function(u){return u.data("id")===s});return!o||!l});this.options.eles=this.options.eles.not(n)}dp.prototype.run=function(){var t=this.options,e=t.cy,r=this;r.stopped=!1,(t.animate===!0||t.animate===!1)&&r.emit({type:"layoutstart",layout:r}),t.debug===!0?rv=!0:rv=!1;var n=Vj(e,r,t);rv&&Uj(n),t.randomize&&Wj(n);var a=yi(),i=function(){Gj(n,e,t),t.fit===!0&&e.fit(t.padding)},s=function(d){return!(r.stopped||d>=t.numIter||(Yj(n,t),n.temperature=n.temperature*t.coolingFactor,n.temperature<t.minTemp))},o=function(){if(t.animate===!0||t.animate===!1)i(),r.one("layoutstop",t.stop),r.emit({type:"layoutstop",layout:r});else{var d=t.eles.nodes(),p=nE(n,t,d);d.layoutPositions(r,t,p)}},l=0,u=!0;if(t.animate===!0){var c=function(){for(var d=0;u&&d<t.refresh;)u=s(l),l++,d++;if(!u)T6(n,t),o();else{var p=yi();p-a>=t.animationThreshold&&i(),eh(c)}};c()}else{for(;u;)u=s(l),l++;T6(n,t),o()}return this};dp.prototype.stop=function(){return this.stopped=!0,this.thread&&this.thread.stop(),this.emit("layoutstop"),this};dp.prototype.destroy=function(){return this.thread&&this.thread.stop(),this};var Vj=function(e,r,n){for(var a=n.eles.edges(),i=n.eles.nodes(),s=Rn(n.boundingBox?n.boundingBox:{x1:0,y1:0,w:e.width(),h:e.height()}),o={isCompound:e.hasCompoundNodes(),layoutNodes:[],idToIndex:{},nodeSize:i.size(),graphSet:[],indexToGraph:[],layoutEdges:[],edgeSize:a.size(),temperature:n.initialTemp,clientWidth:s.w,clientHeight:s.h,boundingBox:s},l=n.eles.components(),u={},c=0;c<l.length;c++)for(var f=l[c],d=0;d<f.length;d++){var p=f[d];u[p.id()]=c}for(var c=0;c<o.nodeSize;c++){var g=i[c],y=g.layoutDimensions(n),x={};x.isLocked=g.locked(),x.id=g.data("id"),x.parentId=g.data("parent"),x.cmptId=u[g.id()],x.children=[],x.positionX=g.position("x"),x.positionY=g.position("y"),x.offsetX=0,x.offsetY=0,x.height=y.w,x.width=y.h,x.maxX=x.positionX+x.width/2,x.minX=x.positionX-x.width/2,x.maxY=x.positionY+x.height/2,x.minY=x.positionY-x.height/2,x.padLeft=parseFloat(g.style("padding")),x.padRight=parseFloat(g.style("padding")),x.padTop=parseFloat(g.style("padding")),x.padBottom=parseFloat(g.style("padding")),x.nodeRepulsion=ur(n.nodeRepulsion)?n.nodeRepulsion(g):n.nodeRepulsion,o.layoutNodes.push(x),o.idToIndex[x.id]=c}for(var b=[],w=0,_=-1,k=[],c=0;c<o.nodeSize;c++){var g=o.layoutNodes[c],E=g.parentId;E!=null?o.layoutNodes[o.idToIndex[E]].children.push(g.id):(b[++_]=g.id,k.push(g.id))}for(o.graphSet.push(k);w<=_;){var D=b[w++],M=o.idToIndex[D],p=o.layoutNodes[M],A=p.children;if(A.length>0){o.graphSet.push(A);for(var c=0;c<A.length;c++)b[++_]=A[c]}}for(var c=0;c<o.graphSet.length;c++)for(var R=o.graphSet[c],d=0;d<R.length;d++){var O=o.idToIndex[R[d]];o.indexToGraph[O]=c}for(var c=0;c<o.edgeSize;c++){var N=a[c],B={};B.id=N.data("id"),B.sourceId=N.data("source"),B.targetId=N.data("target");var F=ur(n.idealEdgeLength)?n.idealEdgeLength(N):n.idealEdgeLength,V=ur(n.edgeElasticity)?n.edgeElasticity(N):n.edgeElasticity,X=o.idToIndex[B.sourceId],K=o.idToIndex[B.targetId],U=o.indexToGraph[X],H=o.indexToGraph[K];if(U!=H){for(var ee=jj(B.sourceId,B.targetId,o),re=o.graphSet[ee],W=0,x=o.layoutNodes[X];re.indexOf(x.id)===-1;)x=o.layoutNodes[o.idToIndex[x.parentId]],W++;for(x=o.layoutNodes[K];re.indexOf(x.id)===-1;)x=o.layoutNodes[o.idToIndex[x.parentId]],W++;F*=W*n.nestingFactor}B.idealLength=F,B.elasticity=V,o.layoutEdges.push(B)}return o},jj=function(e,r,n){var a=rE(e,r,0,n);return 2>a.count?0:a.graph},rE=function(e,r,n,a){var i=a.graphSet[n];if(-1<i.indexOf(e)&&-1<i.indexOf(r))return{count:2,graph:n};for(var s=0,o=0;o<i.length;o++){var l=i[o],u=a.idToIndex[l],c=a.layoutNodes[u].children;if(c.length!==0){var f=a.indexToGraph[a.idToIndex[c[0]]],d=rE(e,r,f,a);if(d.count!==0)if(d.count===1){if(s++,s===2)break}else return d}}return{count:s,graph:n}},Uj,Wj=function(e,r){for(var n=e.clientWidth,a=e.clientHeight,i=0;i<e.nodeSize;i++){var s=e.layoutNodes[i];s.children.length===0&&!s.isLocked&&(s.positionX=Math.random()*n,s.positionY=Math.random()*a)}},nE=function(e,r,n){var a=e.boundingBox,i={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0};return r.boundingBox&&(n.forEach(function(s){var o=e.layoutNodes[e.idToIndex[s.data("id")]];i.x1=Math.min(i.x1,o.positionX),i.x2=Math.max(i.x2,o.positionX),i.y1=Math.min(i.y1,o.positionY),i.y2=Math.max(i.y2,o.positionY)}),i.w=i.x2-i.x1,i.h=i.y2-i.y1),function(s,o){var l=e.layoutNodes[e.idToIndex[s.data("id")]];if(r.boundingBox){var u=(l.positionX-i.x1)/i.w,c=(l.positionY-i.y1)/i.h;return{x:a.x1+u*a.w,y:a.y1+c*a.h}}else return{x:l.positionX,y:l.positionY}}},Gj=function(e,r,n){var a=n.layout,i=n.eles.nodes(),s=nE(e,n,i);i.positions(s),e.ready!==!0&&(e.ready=!0,a.one("layoutready",n.ready),a.emit({type:"layoutready",layout:this}))},Yj=function(e,r,n){Xj(e,r),Qj(e),Jj(e,r),eU(e),tU(e)},Xj=function(e,r){for(var n=0;n<e.graphSet.length;n++)for(var a=e.graphSet[n],i=a.length,s=0;s<i;s++)for(var o=e.layoutNodes[e.idToIndex[a[s]]],l=s+1;l<i;l++){var u=e.layoutNodes[e.idToIndex[a[l]]];Kj(o,u,e,r)}},C6=function(e){return-1+2*e*Math.random()},Kj=function(e,r,n,a){var i=e.cmptId,s=r.cmptId;if(!(i!==s&&!n.isCompound)){var o=r.positionX-e.positionX,l=r.positionY-e.positionY,u=1;o===0&&l===0&&(o=C6(u),l=C6(u));var c=Zj(e,r,o,l);if(c>0)var f=a.nodeOverlap*c,d=Math.sqrt(o*o+l*l),p=f*o/d,g=f*l/d;else var y=oh(e,o,l),x=oh(r,-1*o,-1*l),b=x.x-y.x,w=x.y-y.y,_=b*b+w*w,d=Math.sqrt(_),f=(e.nodeRepulsion+r.nodeRepulsion)/_,p=f*b/d,g=f*w/d;e.isLocked||(e.offsetX-=p,e.offsetY-=g),r.isLocked||(r.offsetX+=p,r.offsetY+=g)}},Zj=function(e,r,n,a){if(n>0)var i=e.maxX-r.minX;else var i=r.maxX-e.minX;if(a>0)var s=e.maxY-r.minY;else var s=r.maxY-e.minY;return i>=0&&s>=0?Math.sqrt(i*i+s*s):0},oh=function(e,r,n){var a=e.positionX,i=e.positionY,s=e.height||1,o=e.width||1,l=n/r,u=s/o,c={};return r===0&&0<n||r===0&&0>n?(c.x=a,c.y=i+s/2,c):0<r&&-1*u<=l&&l<=u?(c.x=a+o/2,c.y=i+o*n/2/r,c):0>r&&-1*u<=l&&l<=u?(c.x=a-o/2,c.y=i-o*n/2/r,c):0<n&&(l<=-1*u||l>=u)?(c.x=a+s*r/2/n,c.y=i+s/2,c):(0>n&&(l<=-1*u||l>=u)&&(c.x=a-s*r/2/n,c.y=i-s/2),c)},Qj=function(e,r){for(var n=0;n<e.edgeSize;n++){var a=e.layoutEdges[n],i=e.idToIndex[a.sourceId],s=e.layoutNodes[i],o=e.idToIndex[a.targetId],l=e.layoutNodes[o],u=l.positionX-s.positionX,c=l.positionY-s.positionY;if(!(u===0&&c===0)){var f=oh(s,u,c),d=oh(l,-1*u,-1*c),p=d.x-f.x,g=d.y-f.y,y=Math.sqrt(p*p+g*g),x=Math.pow(a.idealLength-y,2)/a.elasticity;if(y!==0)var b=x*p/y,w=x*g/y;else var b=0,w=0;s.isLocked||(s.offsetX+=b,s.offsetY+=w),l.isLocked||(l.offsetX-=b,l.offsetY-=w)}}},Jj=function(e,r){if(r.gravity!==0)for(var n=1,a=0;a<e.graphSet.length;a++){var i=e.graphSet[a],s=i.length;if(a===0)var o=e.clientHeight/2,l=e.clientWidth/2;else var u=e.layoutNodes[e.idToIndex[i[0]]],c=e.layoutNodes[e.idToIndex[u.parentId]],o=c.positionX,l=c.positionY;for(var f=0;f<s;f++){var d=e.layoutNodes[e.idToIndex[i[f]]];if(!d.isLocked){var p=o-d.positionX,g=l-d.positionY,y=Math.sqrt(p*p+g*g);if(y>n){var x=r.gravity*p/y,b=r.gravity*g/y;d.offsetX+=x,d.offsetY+=b}}}}},eU=function(e,r){var n=[],a=0,i=-1;for(n.push.apply(n,e.graphSet[0]),i+=e.graphSet[0].length;a<=i;){var s=n[a++],o=e.idToIndex[s],l=e.layoutNodes[o],u=l.children;if(0<u.length&&!l.isLocked){for(var c=l.offsetX,f=l.offsetY,d=0;d<u.length;d++){var p=e.layoutNodes[e.idToIndex[u[d]]];p.offsetX+=c,p.offsetY+=f,n[++i]=u[d]}l.offsetX=0,l.offsetY=0}}},tU=function(e,r){for(var n=0;n<e.nodeSize;n++){var a=e.layoutNodes[n];0<a.children.length&&(a.maxX=void 0,a.minX=void 0,a.maxY=void 0,a.minY=void 0)}for(var n=0;n<e.nodeSize;n++){var a=e.layoutNodes[n];if(!(0<a.children.length||a.isLocked)){var i=rU(a.offsetX,a.offsetY,e.temperature);a.positionX+=i.x,a.positionY+=i.y,a.offsetX=0,a.offsetY=0,a.minX=a.positionX-a.width,a.maxX=a.positionX+a.width,a.minY=a.positionY-a.height,a.maxY=a.positionY+a.height,aE(a,e)}}for(var n=0;n<e.nodeSize;n++){var a=e.layoutNodes[n];0<a.children.length&&!a.isLocked&&(a.positionX=(a.maxX+a.minX)/2,a.positionY=(a.maxY+a.minY)/2,a.width=a.maxX-a.minX,a.height=a.maxY-a.minY)}},rU=function(e,r,n){var a=Math.sqrt(e*e+r*r);if(a>n)var i={x:n*e/a,y:n*r/a};else var i={x:e,y:r};return i},aE=function(e,r){var n=e.parentId;if(n!=null){var a=r.layoutNodes[r.idToIndex[n]],i=!1;if((a.maxX==null||e.maxX+a.padRight>a.maxX)&&(a.maxX=e.maxX+a.padRight,i=!0),(a.minX==null||e.minX-a.padLeft<a.minX)&&(a.minX=e.minX-a.padLeft,i=!0),(a.maxY==null||e.maxY+a.padBottom>a.maxY)&&(a.maxY=e.maxY+a.padBottom,i=!0),(a.minY==null||e.minY-a.padTop<a.minY)&&(a.minY=e.minY-a.padTop,i=!0),i)return aE(a,r)}},T6=function(e,r){for(var n=e.layoutNodes,a=[],i=0;i<n.length;i++){var s=n[i],o=s.cmptId,l=a[o]=a[o]||[];l.push(s)}for(var u=0,i=0;i<a.length;i++){var c=a[i];if(c){c.x1=1/0,c.x2=-1/0,c.y1=1/0,c.y2=-1/0;for(var f=0;f<c.length;f++){var d=c[f];c.x1=Math.min(c.x1,d.positionX-d.width/2),c.x2=Math.max(c.x2,d.positionX+d.width/2),c.y1=Math.min(c.y1,d.positionY-d.height/2),c.y2=Math.max(c.y2,d.positionY+d.height/2)}c.w=c.x2-c.x1,c.h=c.y2-c.y1,u+=c.w*c.h}}a.sort(function(w,_){return _.w*_.h-w.w*w.h});for(var p=0,g=0,y=0,x=0,b=Math.sqrt(u)*e.clientWidth/e.clientHeight,i=0;i<a.length;i++){var c=a[i];if(c){for(var f=0;f<c.length;f++){var d=c[f];d.isLocked||(d.positionX+=p-c.x1,d.positionY+=g-c.y1)}p+=c.w+r.componentSpacing,y+=c.w+r.componentSpacing,x=Math.max(x,c.h),y>b&&(g+=x+r.componentSpacing,p=0,y=0,x=0)}}},nU={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,avoidOverlapPadding:10,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,condense:!1,rows:void 0,cols:void 0,position:function(e){},sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}};function iE(t){this.options=Je({},nU,t)}iE.prototype.run=function(){var t=this.options,e=t,r=t.cy,n=e.eles,a=n.nodes().not(":parent");e.sort&&(a=a.sort(e.sort));var i=Rn(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()});if(i.h===0||i.w===0)n.nodes().layoutPositions(this,e,function(ue){return{x:i.x1,y:i.y1}});else{var s=a.size(),o=Math.sqrt(s*i.h/i.w),l=Math.round(o),u=Math.round(i.w/i.h*o),c=function(pe){if(pe==null)return Math.min(l,u);var ge=Math.min(l,u);ge==l?l=pe:u=pe},f=function(pe){if(pe==null)return Math.max(l,u);var ge=Math.max(l,u);ge==l?l=pe:u=pe},d=e.rows,p=e.cols!=null?e.cols:e.columns;if(d!=null&&p!=null)l=d,u=p;else if(d!=null&&p==null)l=d,u=Math.ceil(s/l);else if(d==null&&p!=null)u=p,l=Math.ceil(s/u);else if(u*l>s){var g=c(),y=f();(g-1)*y>=s?c(g-1):(y-1)*g>=s&&f(y-1)}else for(;u*l<s;){var x=c(),b=f();(b+1)*x>=s?f(b+1):c(x+1)}var w=i.w/u,_=i.h/l;if(e.condense&&(w=0,_=0),e.avoidOverlap)for(var k=0;k<a.length;k++){var E=a[k],D=E._private.position;(D.x==null||D.y==null)&&(D.x=0,D.y=0);var M=E.layoutDimensions(e),A=e.avoidOverlapPadding,R=M.w+A,O=M.h+A;w=Math.max(w,R),_=Math.max(_,O)}for(var N={},B=function(pe,ge){return!!N["c-"+pe+"-"+ge]},F=function(pe,ge){N["c-"+pe+"-"+ge]=!0},V=0,X=0,K=function(){X++,X>=u&&(X=0,V++)},U={},H=0;H<a.length;H++){var ee=a[H],re=e.position(ee);if(re&&(re.row!==void 0||re.col!==void 0)){var W={row:re.row,col:re.col};if(W.col===void 0)for(W.col=0;B(W.row,W.col);)W.col++;else if(W.row===void 0)for(W.row=0;B(W.row,W.col);)W.row++;U[ee.id()]=W,F(W.row,W.col)}}var Z=function(pe,ge){var fe,Se;if(pe.locked()||pe.isParent())return!1;var Ee=U[pe.id()];if(Ee)fe=Ee.col*w+w/2+i.x1,Se=Ee.row*_+_/2+i.y1;else{for(;B(V,X);)K();fe=X*w+w/2+i.x1,Se=V*_+_/2+i.y1,F(V,X),K()}return{x:fe,y:Se}};a.layoutPositions(this,e,Z)}return this};var aU={ready:function(){},stop:function(){}};function Q2(t){this.options=Je({},aU,t)}Q2.prototype.run=function(){var t=this.options,e=t.eles,r=this;return t.cy,r.emit("layoutstart"),e.nodes().positions(function(){return{x:0,y:0}}),r.one("layoutready",t.ready),r.emit("layoutready"),r.one("layoutstop",t.stop),r.emit("layoutstop"),this};Q2.prototype.stop=function(){return this};var iU={positions:void 0,zoom:void 0,pan:void 0,fit:!0,padding:30,spacingFactor:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}};function sE(t){this.options=Je({},iU,t)}sE.prototype.run=function(){var t=this.options,e=t.eles,r=e.nodes(),n=ur(t.positions);function a(i){if(t.positions==null)return Dq(i.position());if(n)return t.positions(i);var s=t.positions[i._private.data.id];return s??null}return r.layoutPositions(this,t,function(i,s){var o=a(i);return i.locked()||o==null?!1:o}),this};var sU={fit:!0,padding:30,boundingBox:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}};function oE(t){this.options=Je({},sU,t)}oE.prototype.run=function(){var t=this.options,e=t.cy,r=t.eles,n=Rn(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:e.width(),h:e.height()}),a=function(s,o){return{x:n.x1+Math.round(Math.random()*n.w),y:n.y1+Math.round(Math.random()*n.h)}};return r.nodes().layoutPositions(this,t,a),this};var oU=[{name:"breadthfirst",impl:Jk},{name:"circle",impl:eE},{name:"concentric",impl:tE},{name:"cose",impl:dp},{name:"grid",impl:iE},{name:"null",impl:Q2},{name:"preset",impl:sE},{name:"random",impl:oE}];function lE(t){this.options=t,this.notifications=0}var M6=function(){},D6=function(){throw new Error("A headless instance can not render images")};lE.prototype={recalculateRenderedStyle:M6,notify:function(){this.notifications++},init:M6,isHeadless:function(){return!0},png:D6,jpg:D6};var J2={};J2.arrowShapeWidth=.3;J2.registerArrowShapes=function(){var t=this.arrowShapes={},e=this,r=function(u,c,f,d,p,g,y){var x=p.x-f/2-y,b=p.x+f/2+y,w=p.y-f/2-y,_=p.y+f/2+y,k=x<=u&&u<=b&&w<=c&&c<=_;return k},n=function(u,c,f,d,p){var g=u*Math.cos(d)-c*Math.sin(d),y=u*Math.sin(d)+c*Math.cos(d),x=g*f,b=y*f,w=x+p.x,_=b+p.y;return{x:w,y:_}},a=function(u,c,f,d){for(var p=[],g=0;g<u.length;g+=2){var y=u[g],x=u[g+1];p.push(n(y,x,c,f,d))}return p},i=function(u){for(var c=[],f=0;f<u.length;f++){var d=u[f];c.push(d.x,d.y)}return c},s=function(u){return u.pstyle("width").pfValue*u.pstyle("arrow-scale").pfValue*2},o=function(u,c){Xe(c)&&(c=t[c]),t[u]=Je({name:u,points:[-.15,-.3,.15,-.3,.15,.3,-.15,.3],collide:function(d,p,g,y,x,b){var w=i(a(this.points,g+2*b,y,x)),_=Tn(d,p,w);return _},roughCollide:r,draw:function(d,p,g,y){var x=a(this.points,p,g,y);e.arrowShapeImpl("polygon")(d,x)},spacing:function(d){return 0},gap:s},c)};o("none",{collide:th,roughCollide:th,draw:F2,spacing:Ux,gap:Ux}),o("triangle",{points:[-.15,-.3,0,0,.15,-.3]}),o("arrow","triangle"),o("triangle-backcurve",{points:t.triangle.points,controlPoint:[0,-.15],roughCollide:r,draw:function(u,c,f,d,p){var g=a(this.points,c,f,d),y=this.controlPoint,x=n(y[0],y[1],c,f,d);e.arrowShapeImpl(this.name)(u,g,x)},gap:function(u){return s(u)*.8}}),o("triangle-tee",{points:[0,0,.15,-.3,-.15,-.3,0,0],pointsTee:[-.15,-.4,-.15,-.5,.15,-.5,.15,-.4],collide:function(u,c,f,d,p,g,y){var x=i(a(this.points,f+2*y,d,p)),b=i(a(this.pointsTee,f+2*y,d,p)),w=Tn(u,c,x)||Tn(u,c,b);return w},draw:function(u,c,f,d,p){var g=a(this.points,c,f,d),y=a(this.pointsTee,c,f,d);e.arrowShapeImpl(this.name)(u,g,y)}}),o("circle-triangle",{radius:.15,pointsTr:[0,-.15,.15,-.45,-.15,-.45,0,-.15],collide:function(u,c,f,d,p,g,y){var x=p,b=Math.pow(x.x-u,2)+Math.pow(x.y-c,2)<=Math.pow((f+2*y)*this.radius,2),w=i(a(this.points,f+2*y,d,p));return Tn(u,c,w)||b},draw:function(u,c,f,d,p){var g=a(this.pointsTr,c,f,d);e.arrowShapeImpl(this.name)(u,g,d.x,d.y,this.radius*c)},spacing:function(u){return e.getArrowWidth(u.pstyle("width").pfValue,u.pstyle("arrow-scale").value)*this.radius}}),o("triangle-cross",{points:[0,0,.15,-.3,-.15,-.3,0,0],baseCrossLinePts:[-.15,-.4,-.15,-.4,.15,-.4,.15,-.4],crossLinePts:function(u,c){var f=this.baseCrossLinePts.slice(),d=c/u,p=3,g=5;return f[p]=f[p]-d,f[g]=f[g]-d,f},collide:function(u,c,f,d,p,g,y){var x=i(a(this.points,f+2*y,d,p)),b=i(a(this.crossLinePts(f,g),f+2*y,d,p)),w=Tn(u,c,x)||Tn(u,c,b);return w},draw:function(u,c,f,d,p){var g=a(this.points,c,f,d),y=a(this.crossLinePts(c,p),c,f,d);e.arrowShapeImpl(this.name)(u,g,y)}}),o("vee",{points:[-.15,-.3,0,0,.15,-.3,0,-.15],gap:function(u){return s(u)*.525}}),o("circle",{radius:.15,collide:function(u,c,f,d,p,g,y){var x=p,b=Math.pow(x.x-u,2)+Math.pow(x.y-c,2)<=Math.pow((f+2*y)*this.radius,2);return b},draw:function(u,c,f,d,p){e.arrowShapeImpl(this.name)(u,d.x,d.y,this.radius*c)},spacing:function(u){return e.getArrowWidth(u.pstyle("width").pfValue,u.pstyle("arrow-scale").value)*this.radius}}),o("tee",{points:[-.15,0,-.15,-.1,.15,-.1,.15,0],spacing:function(u){return 1},gap:function(u){return 1}}),o("square",{points:[-.15,0,.15,0,.15,-.3,-.15,-.3]}),o("diamond",{points:[-.15,-.15,0,-.3,.15,-.15,0,0],gap:function(u){return u.pstyle("width").pfValue*u.pstyle("arrow-scale").value}}),o("chevron",{points:[0,0,-.15,-.15,-.1,-.2,0,-.1,.1,-.2,.15,-.15],gap:function(u){return .95*u.pstyle("width").pfValue*u.pstyle("arrow-scale").value}})};var bo={};bo.projectIntoViewport=function(t,e){var r=this.cy,n=this.findContainerClientCoords(),a=n[0],i=n[1],s=n[4],o=r.pan(),l=r.zoom(),u=((t-a)/s-o.x)/l,c=((e-i)/s-o.y)/l;return[u,c]};bo.findContainerClientCoords=function(){if(this.containerBB)return this.containerBB;var t=this.container,e=t.getBoundingClientRect(),r=this.cy.window().getComputedStyle(t),n=function(b){return parseFloat(r.getPropertyValue(b))},a={left:n("padding-left"),right:n("padding-right"),top:n("padding-top"),bottom:n("padding-bottom")},i={left:n("border-left-width"),right:n("border-right-width"),top:n("border-top-width"),bottom:n("border-bottom-width")},s=t.clientWidth,o=t.clientHeight,l=a.left+a.right,u=a.top+a.bottom,c=i.left+i.right,f=e.width/(s+c),d=s-l,p=o-u,g=e.left+a.left+i.left,y=e.top+a.top+i.top;return this.containerBB=[g,y,d,p,f]};bo.invalidateContainerClientCoordsCache=function(){this.containerBB=null};bo.findNearestElement=function(t,e,r,n){return this.findNearestElements(t,e,r,n)[0]};bo.findNearestElements=function(t,e,r,n){var a=this,i=this,s=i.getCachedZSortedEles(),o=[],l=i.cy.zoom(),u=i.cy.hasCompoundNodes(),c=(n?24:8)/l,f=(n?8:2)/l,d=(n?8:2)/l,p=1/0,g,y;r&&(s=s.interactive);function x(M,A){if(M.isNode()){if(y)return;y=M,o.push(M)}if(M.isEdge()&&(A==null||A<p))if(g){if(g.pstyle("z-compound-depth").value===M.pstyle("z-compound-depth").value&&g.pstyle("z-compound-depth").value===M.pstyle("z-compound-depth").value){for(var R=0;R<o.length;R++)if(o[R].isEdge()){o[R]=M,g=M,p=A??p;break}}}else o.push(M),g=M,p=A??p}function b(M){var A=M.outerWidth()+2*f,R=M.outerHeight()+2*f,O=A/2,N=R/2,B=M.position(),F=M.pstyle("corner-radius").value==="auto"?"auto":M.pstyle("corner-radius").pfValue,V=M._private.rscratch;if(B.x-O<=t&&t<=B.x+O&&B.y-N<=e&&e<=B.y+N){var X=i.nodeShapes[a.getNodeShape(M)];if(X.checkPoint(t,e,0,A,R,B.x,B.y,F,V))return x(M,0),!0}}function w(M){var A=M._private,R=A.rscratch,O=M.pstyle("width").pfValue,N=M.pstyle("arrow-scale").value,B=O/2+c,F=B*B,V=B*2,H=A.source,ee=A.target,X;if(R.edgeType==="segments"||R.edgeType==="straight"||R.edgeType==="haystack"){for(var K=R.allpts,U=0;U+3<K.length;U+=2)if(Hq(t,e,K[U],K[U+1],K[U+2],K[U+3],V)&&F>(X=Gq(t,e,K[U],K[U+1],K[U+2],K[U+3])))return x(M,X),!0}else if(R.edgeType==="bezier"||R.edgeType==="multibezier"||R.edgeType==="self"||R.edgeType==="compound"){for(var K=R.allpts,U=0;U+5<R.allpts.length;U+=4)if(Vq(t,e,K[U],K[U+1],K[U+2],K[U+3],K[U+4],K[U+5],V)&&F>(X=Wq(t,e,K[U],K[U+1],K[U+2],K[U+3],K[U+4],K[U+5])))return x(M,X),!0}for(var H=H||A.source,ee=ee||A.target,re=a.getArrowWidth(O,N),W=[{name:"source",x:R.arrowStartX,y:R.arrowStartY,angle:R.srcArrowAngle},{name:"target",x:R.arrowEndX,y:R.arrowEndY,angle:R.tgtArrowAngle},{name:"mid-source",x:R.midX,y:R.midY,angle:R.midsrcArrowAngle},{name:"mid-target",x:R.midX,y:R.midY,angle:R.midtgtArrowAngle}],U=0;U<W.length;U++){var Z=W[U],ue=i.arrowShapes[M.pstyle(Z.name+"-arrow-shape").value],pe=M.pstyle("width").pfValue;if(ue.roughCollide(t,e,re,Z.angle,{x:Z.x,y:Z.y},pe,c)&&ue.collide(t,e,re,Z.angle,{x:Z.x,y:Z.y},pe,c))return x(M),!0}u&&o.length>0&&(b(H),b(ee))}function _(M,A,R){return na(M,A,R)}function k(M,A){var R=M._private,O=d,N;A?N=A+"-":N="",M.boundingBox();var B=R.labelBounds[A||"main"],F=M.pstyle(N+"label").value,V=M.pstyle("text-events").strValue==="yes";if(!(!V||!F)){var X=_(R.rscratch,"labelX",A),K=_(R.rscratch,"labelY",A),U=_(R.rscratch,"labelAngle",A),H=M.pstyle(N+"text-margin-x").pfValue,ee=M.pstyle(N+"text-margin-y").pfValue,re=B.x1-O-H,W=B.x2+O-H,Z=B.y1-O-ee,ue=B.y2+O-ee;if(U){var pe=Math.cos(U),ge=Math.sin(U),fe=function(Le,Ve){return Le=Le-X,Ve=Ve-K,{x:Le*pe-Ve*ge+X,y:Le*ge+Ve*pe+K}},Se=fe(re,Z),Ee=fe(re,ue),ve=fe(W,Z),se=fe(W,ue),ye=[Se.x+H,Se.y+ee,ve.x+H,ve.y+ee,se.x+H,se.y+ee,Ee.x+H,Ee.y+ee];if(Tn(t,e,ye))return x(M),!0}else if(Bl(B,t,e))return x(M),!0}}for(var E=s.length-1;E>=0;E--){var D=s[E];D.isNode()?b(D)||k(D):w(D)||k(D)||k(D,"source")||k(D,"target")}return o};bo.getAllInBox=function(t,e,r,n){var a=this.getCachedZSortedEles().interactive,i=[],s=Math.min(t,r),o=Math.max(t,r),l=Math.min(e,n),u=Math.max(e,n);t=s,r=o,e=l,n=u;for(var c=Rn({x1:t,y1:e,x2:r,y2:n}),f=0;f<a.length;f++){var d=a[f];if(d.isNode()){var p=d,g=p.boundingBox({includeNodes:!0,includeEdges:!1,includeLabels:!1});H2(c,g)&&!mk(g,c)&&i.push(p)}else{var y=d,x=y._private,b=x.rscratch;if(b.startX!=null&&b.startY!=null&&!Bl(c,b.startX,b.startY)||b.endX!=null&&b.endY!=null&&!Bl(c,b.endX,b.endY))continue;if(b.edgeType==="bezier"||b.edgeType==="multibezier"||b.edgeType==="self"||b.edgeType==="compound"||b.edgeType==="segments"||b.edgeType==="haystack"){for(var w=x.rstyle.bezierPts||x.rstyle.linePts||x.rstyle.haystackPts,_=!0,k=0;k<w.length;k++)if(!qq(c,w[k])){_=!1;break}_&&i.push(y)}else(b.edgeType==="haystack"||b.edgeType==="straight")&&i.push(y)}}return i};var lh={};lh.calculateArrowAngles=function(t){var e=t._private.rscratch,r=e.edgeType==="haystack",n=e.edgeType==="bezier",a=e.edgeType==="multibezier",i=e.edgeType==="segments",s=e.edgeType==="compound",o=e.edgeType==="self",l,u,c,f,d,p,b,w;if(r?(c=e.haystackPts[0],f=e.haystackPts[1],d=e.haystackPts[2],p=e.haystackPts[3]):(c=e.arrowStartX,f=e.arrowStartY,d=e.arrowEndX,p=e.arrowEndY),b=e.midX,w=e.midY,i)l=c-e.segpts[0],u=f-e.segpts[1];else if(a||s||o||n){var g=e.allpts,y=Ir(g[0],g[2],g[4],.1),x=Ir(g[1],g[3],g[5],.1);l=c-y,u=f-x}else l=c-b,u=f-w;e.srcArrowAngle=bf(l,u);var b=e.midX,w=e.midY;if(r&&(b=(c+d)/2,w=(f+p)/2),l=d-c,u=p-f,i){var g=e.allpts;if(g.length/2%2===0){var _=g.length/2,k=_-2;l=g[_]-g[k],u=g[_+1]-g[k+1]}else if(e.isRound)l=e.midVector[1],u=-e.midVector[0];else{var _=g.length/2-1,k=_-2;l=g[_]-g[k],u=g[_+1]-g[k+1]}}else if(a||s||o){var g=e.allpts,E=e.ctrlpts,D,M,A,R;if(E.length/2%2===0){var O=g.length/2-1,N=O+2,B=N+2;D=Ir(g[O],g[N],g[B],0),M=Ir(g[O+1],g[N+1],g[B+1],0),A=Ir(g[O],g[N],g[B],1e-4),R=Ir(g[O+1],g[N+1],g[B+1],1e-4)}else{var N=g.length/2-1,O=N-2,B=N+2;D=Ir(g[O],g[N],g[B],.4999),M=Ir(g[O+1],g[N+1],g[B+1],.4999),A=Ir(g[O],g[N],g[B],.5),R=Ir(g[O+1],g[N+1],g[B+1],.5)}l=A-D,u=R-M}if(e.midtgtArrowAngle=bf(l,u),e.midDispX=l,e.midDispY=u,l*=-1,u*=-1,i){var g=e.allpts;if(g.length/2%2!==0){if(!e.isRound){var _=g.length/2-1,F=_+2;l=-(g[F]-g[_]),u=-(g[F+1]-g[_+1])}}}if(e.midsrcArrowAngle=bf(l,u),i)l=d-e.segpts[e.segpts.length-2],u=p-e.segpts[e.segpts.length-1];else if(a||s||o||n){var g=e.allpts,V=g.length,y=Ir(g[V-6],g[V-4],g[V-2],.9),x=Ir(g[V-5],g[V-3],g[V-1],.9);l=d-y,u=p-x}else l=d-b,u=p-w;e.tgtArrowAngle=bf(l,u)};lh.getArrowWidth=lh.getArrowHeight=function(t,e){var r=this.arrowWidthCache=this.arrowWidthCache||{},n=r[t+", "+e];return n||(n=Math.max(Math.pow(t*13.37,.9),29)*e,r[t+", "+e]=n,n)};var Y1,X1,Da={},ea={},P6,A6,qs,ld,Xa,Rs,$s,Ma,Oo,Tf,uE,cE,K1,Z1,L6,R6=function(e,r,n){n.x=r.x-e.x,n.y=r.y-e.y,n.len=Math.sqrt(n.x*n.x+n.y*n.y),n.nx=n.x/n.len,n.ny=n.y/n.len,n.ang=Math.atan2(n.ny,n.nx)},lU=function(e,r){r.x=e.x*-1,r.y=e.y*-1,r.nx=e.nx*-1,r.ny=e.ny*-1,r.ang=e.ang>0?-(Math.PI-e.ang):Math.PI+e.ang},uU=function(e,r,n,a,i){if(e!==L6?R6(r,e,Da):lU(ea,Da),R6(r,n,ea),P6=Da.nx*ea.ny-Da.ny*ea.nx,A6=Da.nx*ea.nx-Da.ny*-ea.ny,Xa=Math.asin(Math.max(-1,Math.min(1,P6))),Math.abs(Xa)<1e-6){Y1=r.x,X1=r.y,$s=Oo=0;return}qs=1,ld=!1,A6<0?Xa<0?Xa=Math.PI+Xa:(Xa=Math.PI-Xa,qs=-1,ld=!0):Xa>0&&(qs=-1,ld=!0),r.radius!==void 0?Oo=r.radius:Oo=a,Rs=Xa/2,Tf=Math.min(Da.len/2,ea.len/2),i?(Ma=Math.abs(Math.cos(Rs)*Oo/Math.sin(Rs)),Ma>Tf?(Ma=Tf,$s=Math.abs(Ma*Math.sin(Rs)/Math.cos(Rs))):$s=Oo):(Ma=Math.min(Tf,Oo),$s=Math.abs(Ma*Math.sin(Rs)/Math.cos(Rs))),K1=r.x+ea.nx*Ma,Z1=r.y+ea.ny*Ma,Y1=K1-ea.ny*$s*qs,X1=Z1+ea.nx*$s*qs,uE=r.x+Da.nx*Ma,cE=r.y+Da.ny*Ma,L6=r};function fE(t,e){e.radius===0?t.lineTo(e.cx,e.cy):t.arc(e.cx,e.cy,e.radius,e.startAngle,e.endAngle,e.counterClockwise)}function e4(t,e,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0;return n===0||e.radius===0?{cx:e.x,cy:e.y,radius:0,startX:e.x,startY:e.y,stopX:e.x,stopY:e.y,startAngle:void 0,endAngle:void 0,counterClockwise:void 0}:(uU(t,e,r,n,a),{cx:Y1,cy:X1,radius:$s,startX:uE,startY:cE,stopX:K1,stopY:Z1,startAngle:Da.ang+Math.PI/2*qs,endAngle:ea.ang-Math.PI/2*qs,counterClockwise:ld})}var jc=.01,cU=Math.sqrt(2*jc),un={};un.findMidptPtsEtc=function(t,e){var r=e.posPts,n=e.intersectionPts,a=e.vectorNormInverse,i,s=t.pstyle("source-endpoint"),o=t.pstyle("target-endpoint"),l=s.units!=null&&o.units!=null,u=function(E,D,M,A){var R=A-D,O=M-E,N=Math.sqrt(O*O+R*R);return{x:-R/N,y:O/N}},c=t.pstyle("edge-distances").value;switch(c){case"node-position":i=r;break;case"intersection":i=n;break;case"endpoints":{if(l){var f=this.manualEndptToPx(t.source()[0],s),d=Br(f,2),p=d[0],g=d[1],y=this.manualEndptToPx(t.target()[0],o),x=Br(y,2),b=x[0],w=x[1],_={x1:p,y1:g,x2:b,y2:w};a=u(p,g,b,w),i=_}else Lt("Edge ".concat(t.id()," has edge-distances:endpoints specified without manual endpoints specified via source-endpoint and target-endpoint.  Falling back on edge-distances:intersection (default).")),i=n;break}}return{midptPts:i,vectorNormInverse:a}};un.findHaystackPoints=function(t){for(var e=0;e<t.length;e++){var r=t[e],n=r._private,a=n.rscratch;if(!a.haystack){var i=Math.random()*2*Math.PI;a.source={x:Math.cos(i),y:Math.sin(i)},i=Math.random()*2*Math.PI,a.target={x:Math.cos(i),y:Math.sin(i)}}var s=n.source,o=n.target,l=s.position(),u=o.position(),c=s.width(),f=o.width(),d=s.height(),p=o.height(),g=r.pstyle("haystack-radius").value,y=g/2;a.haystackPts=a.allpts=[a.source.x*c*y+l.x,a.source.y*d*y+l.y,a.target.x*f*y+u.x,a.target.y*p*y+u.y],a.midX=(a.allpts[0]+a.allpts[2])/2,a.midY=(a.allpts[1]+a.allpts[3])/2,a.edgeType="haystack",a.haystack=!0,this.storeEdgeProjections(r),this.calculateArrowAngles(r),this.recalculateEdgeLabelProjections(r),this.calculateLabelAngles(r)}};un.findSegmentsPoints=function(t,e){var r=t._private.rscratch,n=t.pstyle("segment-weights"),a=t.pstyle("segment-distances"),i=t.pstyle("segment-radii"),s=t.pstyle("radius-type"),o=Math.min(n.pfValue.length,a.pfValue.length),l=i.pfValue[i.pfValue.length-1],u=s.pfValue[s.pfValue.length-1];r.edgeType="segments",r.segpts=[],r.radii=[],r.isArcRadius=[];for(var c=0;c<o;c++){var f=n.pfValue[c],d=a.pfValue[c],p=1-f,g=f,y=this.findMidptPtsEtc(t,e),x=y.midptPts,b=y.vectorNormInverse,w={x:x.x1*p+x.x2*g,y:x.y1*p+x.y2*g};r.segpts.push(w.x+b.x*d,w.y+b.y*d),r.radii.push(i.pfValue[c]!==void 0?i.pfValue[c]:l),r.isArcRadius.push((s.pfValue[c]!==void 0?s.pfValue[c]:u)==="arc-radius")}};un.findLoopPoints=function(t,e,r,n){var a=t._private.rscratch,i=e.dirCounts,s=e.srcPos,o=t.pstyle("control-point-distances"),l=o?o.pfValue[0]:void 0,u=t.pstyle("loop-direction").pfValue,c=t.pstyle("loop-sweep").pfValue,f=t.pstyle("control-point-step-size").pfValue;a.edgeType="self";var d=r,p=f;n&&(d=0,p=l);var g=u-Math.PI/2,y=g-c/2,x=g+c/2,b=u+"_"+c;d=i[b]===void 0?i[b]=0:++i[b],a.ctrlpts=[s.x+Math.cos(y)*1.4*p*(d/3+1),s.y+Math.sin(y)*1.4*p*(d/3+1),s.x+Math.cos(x)*1.4*p*(d/3+1),s.y+Math.sin(x)*1.4*p*(d/3+1)]};un.findCompoundLoopPoints=function(t,e,r,n){var a=t._private.rscratch;a.edgeType="compound";var i=e.srcPos,s=e.tgtPos,o=e.srcW,l=e.srcH,u=e.tgtW,c=e.tgtH,f=t.pstyle("control-point-step-size").pfValue,d=t.pstyle("control-point-distances"),p=d?d.pfValue[0]:void 0,g=r,y=f;n&&(g=0,y=p);var x=50,b={x:i.x-o/2,y:i.y-l/2},w={x:s.x-u/2,y:s.y-c/2},_={x:Math.min(b.x,w.x),y:Math.min(b.y,w.y)},k=.5,E=Math.max(k,Math.log(o*jc)),D=Math.max(k,Math.log(u*jc));a.ctrlpts=[_.x,_.y-(1+Math.pow(x,1.12)/100)*y*(g/3+1)*E,_.x-(1+Math.pow(x,1.12)/100)*y*(g/3+1)*D,_.y]};un.findStraightEdgePoints=function(t){t._private.rscratch.edgeType="straight"};un.findBezierPoints=function(t,e,r,n,a){var i=t._private.rscratch,s=t.pstyle("control-point-step-size").pfValue,o=t.pstyle("control-point-distances"),l=t.pstyle("control-point-weights"),u=o&&l?Math.min(o.value.length,l.value.length):1,c=o?o.pfValue[0]:void 0,f=l.value[0],d=n;i.edgeType=d?"multibezier":"bezier",i.ctrlpts=[];for(var p=0;p<u;p++){var g=(.5-e.eles.length/2+r)*s*(a?-1:1),y=void 0,x=pk(g);d&&(c=o?o.pfValue[p]:s,f=l.value[p]),n?y=c:y=c!==void 0?x*c:void 0;var b=y!==void 0?y:g,w=1-f,_=f,k=this.findMidptPtsEtc(t,e),E=k.midptPts,D=k.vectorNormInverse,M={x:E.x1*w+E.x2*_,y:E.y1*w+E.y2*_};i.ctrlpts.push(M.x+D.x*b,M.y+D.y*b)}};un.findTaxiPoints=function(t,e){var r=t._private.rscratch;r.edgeType="segments";var n="vertical",a="horizontal",i="leftward",s="rightward",o="downward",l="upward",u="auto",c=e.posPts,f=e.srcW,d=e.srcH,p=e.tgtW,g=e.tgtH,y=t.pstyle("edge-distances").value,x=y!=="node-position",b=t.pstyle("taxi-direction").value,w=b,_=t.pstyle("taxi-turn"),k=_.units==="%",E=_.pfValue,D=E<0,M=t.pstyle("taxi-turn-min-distance").pfValue,A=x?(f+p)/2:0,R=x?(d+g)/2:0,O=c.x2-c.x1,N=c.y2-c.y1,B=function(ke,Me){return ke>0?Math.max(ke-Me,0):Math.min(ke+Me,0)},F=B(O,A),V=B(N,R),X=!1;w===u?b=Math.abs(F)>Math.abs(V)?a:n:w===l||w===o?(b=n,X=!0):(w===i||w===s)&&(b=a,X=!0);var K=b===n,U=K?V:F,H=K?N:O,ee=pk(H),re=!1;!(X&&(k||D))&&(w===o&&H<0||w===l&&H>0||w===i&&H>0||w===s&&H<0)&&(ee*=-1,U=ee*Math.abs(U),re=!0);var W;if(k){var Z=E<0?1+E:E;W=Z*U}else{var ue=E<0?U:0;W=ue+E*ee}var pe=function(ke){return Math.abs(ke)<M||Math.abs(ke)>=Math.abs(U)},ge=pe(W),fe=pe(Math.abs(U)-Math.abs(W)),Se=ge||fe;if(Se&&!re)if(K){var Ee=Math.abs(H)<=d/2,ve=Math.abs(O)<=p/2;if(Ee){var se=(c.x1+c.x2)/2,ye=c.y1,we=c.y2;r.segpts=[se,ye,se,we]}else if(ve){var Le=(c.y1+c.y2)/2,Ve=c.x1,it=c.x2;r.segpts=[Ve,Le,it,Le]}else r.segpts=[c.x1,c.y2]}else{var Rt=Math.abs(H)<=f/2,Et=Math.abs(N)<=g/2;if(Rt){var ze=(c.y1+c.y2)/2,Ne=c.x1,Ge=c.x2;r.segpts=[Ne,ze,Ge,ze]}else if(Et){var tt=(c.x1+c.x2)/2,Ke=c.y1,et=c.y2;r.segpts=[tt,Ke,tt,et]}else r.segpts=[c.x2,c.y1]}else if(K){var at=c.y1+W+(x?d/2*ee:0),lt=c.x1,Te=c.x2;r.segpts=[lt,at,Te,at]}else{var j=c.x1+W+(x?f/2*ee:0),le=c.y1,be=c.y2;r.segpts=[j,le,j,be]}if(r.isRound){var oe=t.pstyle("taxi-radius").value,he=t.pstyle("radius-type").value[0]==="arc-radius";r.radii=new Array(r.segpts.length/2).fill(oe),r.isArcRadius=new Array(r.segpts.length/2).fill(he)}};un.tryToCorrectInvalidPoints=function(t,e){var r=t._private.rscratch;if(r.edgeType==="bezier"){var n=e.srcPos,a=e.tgtPos,i=e.srcW,s=e.srcH,o=e.tgtW,l=e.tgtH,u=e.srcShape,c=e.tgtShape,f=e.srcCornerRadius,d=e.tgtCornerRadius,p=e.srcRs,g=e.tgtRs,y=!Ie(r.startX)||!Ie(r.startY),x=!Ie(r.arrowStartX)||!Ie(r.arrowStartY),b=!Ie(r.endX)||!Ie(r.endY),w=!Ie(r.arrowEndX)||!Ie(r.arrowEndY),_=3,k=this.getArrowWidth(t.pstyle("width").pfValue,t.pstyle("arrow-scale").value)*this.arrowShapeWidth,E=_*k,D=lo({x:r.ctrlpts[0],y:r.ctrlpts[1]},{x:r.startX,y:r.startY}),M=D<E,A=lo({x:r.ctrlpts[0],y:r.ctrlpts[1]},{x:r.endX,y:r.endY}),R=A<E,O=!1;if(y||x||M){O=!0;var N={x:r.ctrlpts[0]-n.x,y:r.ctrlpts[1]-n.y},B=Math.sqrt(N.x*N.x+N.y*N.y),F={x:N.x/B,y:N.y/B},V=Math.max(i,s),X={x:r.ctrlpts[0]+F.x*2*V,y:r.ctrlpts[1]+F.y*2*V},K=u.intersectLine(n.x,n.y,i,s,X.x,X.y,0,f,p);M?(r.ctrlpts[0]=r.ctrlpts[0]+F.x*(E-D),r.ctrlpts[1]=r.ctrlpts[1]+F.y*(E-D)):(r.ctrlpts[0]=K[0]+F.x*E,r.ctrlpts[1]=K[1]+F.y*E)}if(b||w||R){O=!0;var U={x:r.ctrlpts[0]-a.x,y:r.ctrlpts[1]-a.y},H=Math.sqrt(U.x*U.x+U.y*U.y),ee={x:U.x/H,y:U.y/H},re=Math.max(i,s),W={x:r.ctrlpts[0]+ee.x*2*re,y:r.ctrlpts[1]+ee.y*2*re},Z=c.intersectLine(a.x,a.y,o,l,W.x,W.y,0,d,g);R?(r.ctrlpts[0]=r.ctrlpts[0]+ee.x*(E-A),r.ctrlpts[1]=r.ctrlpts[1]+ee.y*(E-A)):(r.ctrlpts[0]=Z[0]+ee.x*E,r.ctrlpts[1]=Z[1]+ee.y*E)}O&&this.findEndpoints(t)}};un.storeAllpts=function(t){var e=t._private.rscratch;if(e.edgeType==="multibezier"||e.edgeType==="bezier"||e.edgeType==="self"||e.edgeType==="compound"){e.allpts=[],e.allpts.push(e.startX,e.startY);for(var r=0;r+1<e.ctrlpts.length;r+=2)e.allpts.push(e.ctrlpts[r],e.ctrlpts[r+1]),r+3<e.ctrlpts.length&&e.allpts.push((e.ctrlpts[r]+e.ctrlpts[r+2])/2,(e.ctrlpts[r+1]+e.ctrlpts[r+3])/2);e.allpts.push(e.endX,e.endY);var n,a;e.ctrlpts.length/2%2===0?(n=e.allpts.length/2-1,e.midX=e.allpts[n],e.midY=e.allpts[n+1]):(n=e.allpts.length/2-3,a=.5,e.midX=Ir(e.allpts[n],e.allpts[n+2],e.allpts[n+4],a),e.midY=Ir(e.allpts[n+1],e.allpts[n+3],e.allpts[n+5],a))}else if(e.edgeType==="straight")e.allpts=[e.startX,e.startY,e.endX,e.endY],e.midX=(e.startX+e.endX+e.arrowStartX+e.arrowEndX)/4,e.midY=(e.startY+e.endY+e.arrowStartY+e.arrowEndY)/4;else if(e.edgeType==="segments"){if(e.allpts=[],e.allpts.push(e.startX,e.startY),e.allpts.push.apply(e.allpts,e.segpts),e.allpts.push(e.endX,e.endY),e.isRound){e.roundCorners=[];for(var i=2;i+3<e.allpts.length;i+=2){var s=e.radii[i/2-1],o=e.isArcRadius[i/2-1];e.roundCorners.push(e4({x:e.allpts[i-2],y:e.allpts[i-1]},{x:e.allpts[i],y:e.allpts[i+1],radius:s},{x:e.allpts[i+2],y:e.allpts[i+3]},s,o))}}if(e.segpts.length%4===0){var l=e.segpts.length/2,u=l-2;e.midX=(e.segpts[u]+e.segpts[l])/2,e.midY=(e.segpts[u+1]+e.segpts[l+1])/2}else{var c=e.segpts.length/2-1;if(!e.isRound)e.midX=e.segpts[c],e.midY=e.segpts[c+1];else{var f={x:e.segpts[c],y:e.segpts[c+1]},d=e.roundCorners[c/2];if(d.radius===0){var p={x:e.segpts[c+2],y:e.segpts[c+3]};e.midX=f.x,e.midY=f.y,e.midVector=[f.y-p.y,p.x-f.x]}else{var g=[f.x-d.cx,f.y-d.cy],y=d.radius/Math.sqrt(Math.pow(g[0],2)+Math.pow(g[1],2));g=g.map(function(x){return x*y}),e.midX=d.cx+g[0],e.midY=d.cy+g[1],e.midVector=g}}}}};un.checkForInvalidEdgeWarning=function(t){var e=t[0]._private.rscratch;e.nodesOverlap||Ie(e.startX)&&Ie(e.startY)&&Ie(e.endX)&&Ie(e.endY)?e.loggedErr=!1:e.loggedErr||(e.loggedErr=!0,Lt("Edge `"+t.id()+"` has invalid endpoints and so it is impossible to draw.  Adjust your edge style (e.g. control points) accordingly or use an alternative edge type.  This is expected behaviour when the source node and the target node overlap."))};un.findEdgeControlPoints=function(t){var e=this;if(!(!t||t.length===0)){for(var r=this,n=r.cy,a=n.hasCompoundNodes(),i=new li,s=function(R,O){return[].concat(YS(R),[O?1:0]).join("-")},o=[],l=[],u=0;u<t.length;u++){var c=t[u],f=c._private,d=c.pstyle("curve-style").value;if(!(c.removed()||!c.takesUpSpace())){if(d==="haystack"){l.push(c);continue}var p=d==="unbundled-bezier"||d.endsWith("segments")||d==="straight"||d==="straight-triangle"||d.endsWith("taxi"),g=d==="unbundled-bezier"||d==="bezier",y=f.source,x=f.target,b=y.poolIndex(),w=x.poolIndex(),_=[b,w].sort(),k=s(_,p),E=i.get(k);E==null&&(E={eles:[]},o.push({pairId:_,edgeIsUnbundled:p}),i.set(k,E)),E.eles.push(c),p&&(E.hasUnbundled=!0),g&&(E.hasBezier=!0)}}for(var D=function(){var R=o[M],O=R.pairId,N=R.edgeIsUnbundled,B=s(O,N),F=i.get(B),V;if(!F.hasUnbundled){var X=F.eles[0].parallelEdges().filter(function(he){return he.isBundledBezier()});$2(F.eles),X.forEach(function(he){return F.eles.push(he)}),F.eles.sort(function(he,Oe){return he.poolIndex()-Oe.poolIndex()})}var K=F.eles[0],U=K.source(),H=K.target();if(U.poolIndex()>H.poolIndex()){var ee=U;U=H,H=ee}var re=F.srcPos=U.position(),W=F.tgtPos=H.position(),Z=F.srcW=U.outerWidth(),ue=F.srcH=U.outerHeight(),pe=F.tgtW=H.outerWidth(),ge=F.tgtH=H.outerHeight(),fe=F.srcShape=r.nodeShapes[e.getNodeShape(U)],Se=F.tgtShape=r.nodeShapes[e.getNodeShape(H)],Ee=F.srcCornerRadius=U.pstyle("corner-radius").value==="auto"?"auto":U.pstyle("corner-radius").pfValue,ve=F.tgtCornerRadius=H.pstyle("corner-radius").value==="auto"?"auto":H.pstyle("corner-radius").pfValue,se=F.tgtRs=H._private.rscratch,ye=F.srcRs=U._private.rscratch;F.dirCounts={north:0,west:0,south:0,east:0,northwest:0,southwest:0,northeast:0,southeast:0};for(var we=0;we<F.eles.length;we++){var Le=F.eles[we],Ve=Le[0]._private.rscratch,it=Le.pstyle("curve-style").value,Rt=it==="unbundled-bezier"||it.endsWith("segments")||it.endsWith("taxi"),Et=!U.same(Le.source());if(!F.calculatedIntersection&&U!==H&&(F.hasBezier||F.hasUnbundled)){F.calculatedIntersection=!0;var ze=fe.intersectLine(re.x,re.y,Z,ue,W.x,W.y,0,Ee,ye),Ne=F.srcIntn=ze,Ge=Se.intersectLine(W.x,W.y,pe,ge,re.x,re.y,0,ve,se),tt=F.tgtIntn=Ge,Ke=F.intersectionPts={x1:ze[0],x2:Ge[0],y1:ze[1],y2:Ge[1]},et=F.posPts={x1:re.x,x2:W.x,y1:re.y,y2:W.y},at=Math.abs(Ge[1]-ze[1]),lt=Math.abs(Ge[0]-ze[0]),Te=Math.sqrt(lt*lt+at*at);Ie(Te)&&Te>=cU||(Te=Math.sqrt(Math.max(lt*lt,jc)+Math.max(at*at,jc)));var j=F.vector={x:lt,y:at},le=F.vectorNorm={x:j.x/Te,y:j.y/Te},be={x:-le.y,y:le.x};F.nodesOverlap=!Ie(Te)||Se.checkPoint(ze[0],ze[1],0,pe,ge,W.x,W.y,ve,se)||fe.checkPoint(Ge[0],Ge[1],0,Z,ue,re.x,re.y,Ee,ye),F.vectorNormInverse=be,V={nodesOverlap:F.nodesOverlap,dirCounts:F.dirCounts,calculatedIntersection:!0,hasBezier:F.hasBezier,hasUnbundled:F.hasUnbundled,eles:F.eles,srcPos:W,srcRs:se,tgtPos:re,tgtRs:ye,srcW:pe,srcH:ge,tgtW:Z,tgtH:ue,srcIntn:tt,tgtIntn:Ne,srcShape:Se,tgtShape:fe,posPts:{x1:et.x2,y1:et.y2,x2:et.x1,y2:et.y1},intersectionPts:{x1:Ke.x2,y1:Ke.y2,x2:Ke.x1,y2:Ke.y1},vector:{x:-j.x,y:-j.y},vectorNorm:{x:-le.x,y:-le.y},vectorNormInverse:{x:-be.x,y:-be.y}}}var oe=Et?V:F;Ve.nodesOverlap=oe.nodesOverlap,Ve.srcIntn=oe.srcIntn,Ve.tgtIntn=oe.tgtIntn,Ve.isRound=it.startsWith("round"),a&&(U.isParent()||U.isChild()||H.isParent()||H.isChild())&&(U.parents().anySame(H)||H.parents().anySame(U)||U.same(H)&&U.isParent())?e.findCompoundLoopPoints(Le,oe,we,Rt):U===H?e.findLoopPoints(Le,oe,we,Rt):it.endsWith("segments")?e.findSegmentsPoints(Le,oe):it.endsWith("taxi")?e.findTaxiPoints(Le,oe):it==="straight"||!Rt&&F.eles.length%2===1&&we===Math.floor(F.eles.length/2)?e.findStraightEdgePoints(Le):e.findBezierPoints(Le,oe,we,Rt,Et),e.findEndpoints(Le),e.tryToCorrectInvalidPoints(Le,oe),e.checkForInvalidEdgeWarning(Le),e.storeAllpts(Le),e.storeEdgeProjections(Le),e.calculateArrowAngles(Le),e.recalculateEdgeLabelProjections(Le),e.calculateLabelAngles(Le)}},M=0;M<o.length;M++)D();this.findHaystackPoints(l)}};function dE(t){var e=[];if(t!=null){for(var r=0;r<t.length;r+=2){var n=t[r],a=t[r+1];e.push({x:n,y:a})}return e}}un.getSegmentPoints=function(t){var e=t[0]._private.rscratch;this.recalculateRenderedStyle(t);var r=e.edgeType;if(r==="segments")return dE(e.segpts)};un.getControlPoints=function(t){var e=t[0]._private.rscratch;this.recalculateRenderedStyle(t);var r=e.edgeType;if(r==="bezier"||r==="multibezier"||r==="self"||r==="compound")return dE(e.ctrlpts)};un.getEdgeMidpoint=function(t){var e=t[0]._private.rscratch;return this.recalculateRenderedStyle(t),{x:e.midX,y:e.midY}};var m0={};m0.manualEndptToPx=function(t,e){var r=this,n=t.position(),a=t.outerWidth(),i=t.outerHeight(),s=t._private.rscratch;if(e.value.length===2){var o=[e.pfValue[0],e.pfValue[1]];return e.units[0]==="%"&&(o[0]=o[0]*a),e.units[1]==="%"&&(o[1]=o[1]*i),o[0]+=n.x,o[1]+=n.y,o}else{var l=e.pfValue[0];l=-Math.PI/2+l;var u=2*Math.max(a,i),c=[n.x+Math.cos(l)*u,n.y+Math.sin(l)*u];return r.nodeShapes[this.getNodeShape(t)].intersectLine(n.x,n.y,a,i,c[0],c[1],0,t.pstyle("corner-radius").value==="auto"?"auto":t.pstyle("corner-radius").pfValue,s)}};m0.findEndpoints=function(t){var e=this,r,n=t.source()[0],a=t.target()[0],i=n.position(),s=a.position(),o=t.pstyle("target-arrow-shape").value,l=t.pstyle("source-arrow-shape").value,u=t.pstyle("target-distance-from-node").pfValue,c=t.pstyle("source-distance-from-node").pfValue,f=n._private.rscratch,d=a._private.rscratch,p=t.pstyle("curve-style").value,g=t._private.rscratch,y=g.edgeType,x=p==="taxi",b=y==="self"||y==="compound",w=y==="bezier"||y==="multibezier"||b,_=y!=="bezier",k=y==="straight"||y==="segments",E=y==="segments",D=w||_||k,M=b||x,A=t.pstyle("source-endpoint"),R=M?"outside-to-node":A.value,O=n.pstyle("corner-radius").value==="auto"?"auto":n.pstyle("corner-radius").pfValue,N=t.pstyle("target-endpoint"),B=M?"outside-to-node":N.value,F=a.pstyle("corner-radius").value==="auto"?"auto":a.pstyle("corner-radius").pfValue;g.srcManEndpt=A,g.tgtManEndpt=N;var V,X,K,U;if(w){var H=[g.ctrlpts[0],g.ctrlpts[1]],ee=_?[g.ctrlpts[g.ctrlpts.length-2],g.ctrlpts[g.ctrlpts.length-1]]:H;V=ee,X=H}else if(k){var re=E?g.segpts.slice(0,2):[s.x,s.y],W=E?g.segpts.slice(g.segpts.length-2):[i.x,i.y];V=W,X=re}if(B==="inside-to-node")r=[s.x,s.y];else if(N.units)r=this.manualEndptToPx(a,N);else if(B==="outside-to-line")r=g.tgtIntn;else if(B==="outside-to-node"||B==="outside-to-node-or-label"?K=V:(B==="outside-to-line"||B==="outside-to-line-or-label")&&(K=[i.x,i.y]),r=e.nodeShapes[this.getNodeShape(a)].intersectLine(s.x,s.y,a.outerWidth(),a.outerHeight(),K[0],K[1],0,F,d),B==="outside-to-node-or-label"||B==="outside-to-line-or-label"){var Z=a._private.rscratch,ue=Z.labelWidth,pe=Z.labelHeight,ge=Z.labelX,fe=Z.labelY,Se=ue/2,Ee=pe/2,ve=a.pstyle("text-valign").value;ve==="top"?fe-=Ee:ve==="bottom"&&(fe+=Ee);var se=a.pstyle("text-halign").value;se==="left"?ge-=Se:se==="right"&&(ge+=Se);var ye=Fc(K[0],K[1],[ge-Se,fe-Ee,ge+Se,fe-Ee,ge+Se,fe+Ee,ge-Se,fe+Ee],s.x,s.y);if(ye.length>0){var we=i,Le=Bs(we,al(r)),Ve=Bs(we,al(ye)),it=Le;if(Ve<Le&&(r=ye,it=Ve),ye.length>2){var Rt=Bs(we,{x:ye[2],y:ye[3]});Rt<it&&(r=[ye[2],ye[3]])}}}var Et=xf(r,V,e.arrowShapes[o].spacing(t)+u),ze=xf(r,V,e.arrowShapes[o].gap(t)+u);if(g.endX=ze[0],g.endY=ze[1],g.arrowEndX=Et[0],g.arrowEndY=Et[1],R==="inside-to-node")r=[i.x,i.y];else if(A.units)r=this.manualEndptToPx(n,A);else if(R==="outside-to-line")r=g.srcIntn;else if(R==="outside-to-node"||R==="outside-to-node-or-label"?U=X:(R==="outside-to-line"||R==="outside-to-line-or-label")&&(U=[s.x,s.y]),r=e.nodeShapes[this.getNodeShape(n)].intersectLine(i.x,i.y,n.outerWidth(),n.outerHeight(),U[0],U[1],0,O,f),R==="outside-to-node-or-label"||R==="outside-to-line-or-label"){var Ne=n._private.rscratch,Ge=Ne.labelWidth,tt=Ne.labelHeight,Ke=Ne.labelX,et=Ne.labelY,at=Ge/2,lt=tt/2,Te=n.pstyle("text-valign").value;Te==="top"?et-=lt:Te==="bottom"&&(et+=lt);var j=n.pstyle("text-halign").value;j==="left"?Ke-=at:j==="right"&&(Ke+=at);var le=Fc(U[0],U[1],[Ke-at,et-lt,Ke+at,et-lt,Ke+at,et+lt,Ke-at,et+lt],i.x,i.y);if(le.length>0){var be=s,oe=Bs(be,al(r)),he=Bs(be,al(le)),Oe=oe;if(he<oe&&(r=[le[0],le[1]],Oe=he),le.length>2){var ke=Bs(be,{x:le[2],y:le[3]});ke<Oe&&(r=[le[2],le[3]])}}}var Me=xf(r,X,e.arrowShapes[l].spacing(t)+c),xe=xf(r,X,e.arrowShapes[l].gap(t)+c);g.startX=xe[0],g.startY=xe[1],g.arrowStartX=Me[0],g.arrowStartY=Me[1],D&&(!Ie(g.startX)||!Ie(g.startY)||!Ie(g.endX)||!Ie(g.endY)?g.badLine=!0:g.badLine=!1)};m0.getSourceEndpoint=function(t){var e=t[0]._private.rscratch;switch(this.recalculateRenderedStyle(t),e.edgeType){case"haystack":return{x:e.haystackPts[0],y:e.haystackPts[1]};default:return{x:e.arrowStartX,y:e.arrowStartY}}};m0.getTargetEndpoint=function(t){var e=t[0]._private.rscratch;switch(this.recalculateRenderedStyle(t),e.edgeType){case"haystack":return{x:e.haystackPts[2],y:e.haystackPts[3]};default:return{x:e.arrowEndX,y:e.arrowEndY}}};var t4={};function fU(t,e,r){for(var n=function(u,c,f,d){return Ir(u,c,f,d)},a=e._private,i=a.rstyle.bezierPts,s=0;s<t.bezierProjPcts.length;s++){var o=t.bezierProjPcts[s];i.push({x:n(r[0],r[2],r[4],o),y:n(r[1],r[3],r[5],o)})}}t4.storeEdgeProjections=function(t){var e=t._private,r=e.rscratch,n=r.edgeType;if(e.rstyle.bezierPts=null,e.rstyle.linePts=null,e.rstyle.haystackPts=null,n==="multibezier"||n==="bezier"||n==="self"||n==="compound"){e.rstyle.bezierPts=[];for(var a=0;a+5<r.allpts.length;a+=4)fU(this,t,r.allpts.slice(a,a+6))}else if(n==="segments")for(var i=e.rstyle.linePts=[],a=0;a+1<r.allpts.length;a+=2)i.push({x:r.allpts[a],y:r.allpts[a+1]});else if(n==="haystack"){var s=r.haystackPts;e.rstyle.haystackPts=[{x:s[0],y:s[1]},{x:s[2],y:s[3]}]}e.rstyle.arrowWidth=this.getArrowWidth(t.pstyle("width").pfValue,t.pstyle("arrow-scale").value)*this.arrowShapeWidth};t4.recalculateEdgeProjections=function(t){this.findEdgeControlPoints(t)};var Va={};Va.recalculateNodeLabelProjection=function(t){var e=t.pstyle("label").strValue;if(!us(e)){var r,n,a=t._private,i=t.width(),s=t.height(),o=t.padding(),l=t.position(),u=t.pstyle("text-halign").strValue,c=t.pstyle("text-valign").strValue,f=a.rscratch,d=a.rstyle;switch(u){case"left":r=l.x-i/2-o;break;case"right":r=l.x+i/2+o;break;default:r=l.x}switch(c){case"top":n=l.y-s/2-o;break;case"bottom":n=l.y+s/2+o;break;default:n=l.y}f.labelX=r,f.labelY=n,d.labelX=r,d.labelY=n,this.calculateLabelAngles(t),this.applyLabelDimensions(t)}};var hE=function(e,r){var n=Math.atan(r/e);return e===0&&n<0&&(n=n*-1),n},pE=function(e,r){var n=r.x-e.x,a=r.y-e.y;return hE(n,a)},dU=function(e,r,n,a){var i=Bc(0,a-.001,1),s=Bc(0,a+.001,1),o=vl(e,r,n,i),l=vl(e,r,n,s);return pE(o,l)};Va.recalculateEdgeLabelProjections=function(t){var e,r=t._private,n=r.rscratch,a=this,i={mid:t.pstyle("label").strValue,source:t.pstyle("source-label").strValue,target:t.pstyle("target-label").strValue};if(i.mid||i.source||i.target){e={x:n.midX,y:n.midY};var s=function(f,d,p){ti(r.rscratch,f,d,p),ti(r.rstyle,f,d,p)};s("labelX",null,e.x),s("labelY",null,e.y);var o=hE(n.midDispX,n.midDispY);s("labelAutoAngle",null,o);var l=function(){if(l.cache)return l.cache;for(var f=[],d=0;d+5<n.allpts.length;d+=4){var p={x:n.allpts[d],y:n.allpts[d+1]},g={x:n.allpts[d+2],y:n.allpts[d+3]},y={x:n.allpts[d+4],y:n.allpts[d+5]};f.push({p0:p,p1:g,p2:y,startDist:0,length:0,segments:[]})}var x=r.rstyle.bezierPts,b=a.bezierProjPcts.length;function w(M,A,R,O,N){var B=lo(A,R),F=M.segments[M.segments.length-1],V={p0:A,p1:R,t0:O,t1:N,startDist:F?F.startDist+F.length:0,length:B};M.segments.push(V),M.length+=B}for(var _=0;_<f.length;_++){var k=f[_],E=f[_-1];E&&(k.startDist=E.startDist+E.length),w(k,k.p0,x[_*b],0,a.bezierProjPcts[0]);for(var D=0;D<b-1;D++)w(k,x[_*b+D],x[_*b+D+1],a.bezierProjPcts[D],a.bezierProjPcts[D+1]);w(k,x[_*b+b-1],k.p2,a.bezierProjPcts[b-1],1)}return l.cache=f},u=function(f){var d,p=f==="source";if(i[f]){var g=t.pstyle(f+"-text-offset").pfValue;switch(n.edgeType){case"self":case"compound":case"bezier":case"multibezier":{for(var y=l(),x,b=0,w=0,_=0;_<y.length;_++){for(var k=y[p?_:y.length-1-_],E=0;E<k.segments.length;E++){var D=k.segments[p?E:k.segments.length-1-E],M=_===y.length-1&&E===k.segments.length-1;if(b=w,w+=D.length,w>=g||M){x={cp:k,segment:D};break}}if(x)break}var A=x.cp,R=x.segment,O=(g-b)/R.length,N=R.t1-R.t0,B=p?R.t0+N*O:R.t1-N*O;B=Bc(0,B,1),e=vl(A.p0,A.p1,A.p2,B),d=dU(A.p0,A.p1,A.p2,B);break}case"straight":case"segments":case"haystack":{for(var F=0,V,X,K,U,H=n.allpts.length,ee=0;ee+3<H&&(p?(K={x:n.allpts[ee],y:n.allpts[ee+1]},U={x:n.allpts[ee+2],y:n.allpts[ee+3]}):(K={x:n.allpts[H-2-ee],y:n.allpts[H-1-ee]},U={x:n.allpts[H-4-ee],y:n.allpts[H-3-ee]}),V=lo(K,U),X=F,F+=V,!(F>=g));ee+=2);var re=g-X,W=re/V;W=Bc(0,W,1),e=Nq(K,U,W),d=pE(K,U);break}}s("labelX",f,e.x),s("labelY",f,e.y),s("labelAutoAngle",f,d)}};u("source"),u("target"),this.applyLabelDimensions(t)}};Va.applyLabelDimensions=function(t){this.applyPrefixedLabelDimensions(t),t.isEdge()&&(this.applyPrefixedLabelDimensions(t,"source"),this.applyPrefixedLabelDimensions(t,"target"))};Va.applyPrefixedLabelDimensions=function(t,e){var r=t._private,n=this.getLabelText(t,e),a=cs(n,t._private.labelDimsKey);if(na(r.rscratch,"prefixedLabelDimsKey",e)!==a){ti(r.rscratch,"prefixedLabelDimsKey",e,a);var i=this.calculateLabelDimensions(t,n),s=t.pstyle("line-height").pfValue,o=t.pstyle("text-wrap").strValue,l=na(r.rscratch,"labelWrapCachedLines",e)||[],u=o!=="wrap"?1:Math.max(l.length,1),c=i.height/u,f=c*s,d=i.width,p=i.height+(u-1)*(s-1)*c;ti(r.rstyle,"labelWidth",e,d),ti(r.rscratch,"labelWidth",e,d),ti(r.rstyle,"labelHeight",e,p),ti(r.rscratch,"labelHeight",e,p),ti(r.rscratch,"labelLineHeight",e,f)}};Va.getLabelText=function(t,e){var r=t._private,n=e?e+"-":"",a=t.pstyle(n+"label").strValue,i=t.pstyle("text-transform").value,s=function(ue,pe){return pe?(ti(r.rscratch,ue,e,pe),pe):na(r.rscratch,ue,e)};if(!a)return"";i=="none"||(i=="uppercase"?a=a.toUpperCase():i=="lowercase"&&(a=a.toLowerCase()));var o=t.pstyle("text-wrap").value;if(o==="wrap"){var l=s("labelKey");if(l!=null&&s("labelWrapKey")===l)return s("labelWrapCachedText");for(var u="",c=a.split(`
`),f=t.pstyle("text-max-width").pfValue,d=t.pstyle("text-overflow-wrap").value,p=d==="anywhere",g=[],y=/[\s\u200b]+|$/g,x=0;x<c.length;x++){var b=c[x],w=this.calculateLabelDimensions(t,b),_=w.width;if(p){var k=b.split("").join(u);b=k}if(_>f){var E=b.matchAll(y),D="",M=0,A=va(E),R;try{for(A.s();!(R=A.n()).done;){var O=R.value,N=O[0],B=b.substring(M,O.index);M=O.index+N.length;var F=D.length===0?B:D+B+N,V=this.calculateLabelDimensions(t,F),X=V.width;X<=f?D+=B+N:(D&&g.push(D),D=B+N)}}catch(Z){A.e(Z)}finally{A.f()}D.match(/^[\s\u200b]+$/)||g.push(D)}else g.push(b)}s("labelWrapCachedLines",g),a=s("labelWrapCachedText",g.join(`
`)),s("labelWrapKey",l)}else if(o==="ellipsis"){var K=t.pstyle("text-max-width").pfValue,U="",H="",ee=!1;if(this.calculateLabelDimensions(t,a).width<K)return a;for(var re=0;re<a.length;re++){var W=this.calculateLabelDimensions(t,U+a[re]+H).width;if(W>K)break;U+=a[re],re===a.length-1&&(ee=!0)}return ee||(U+=H),U}return a};Va.getLabelJustification=function(t){var e=t.pstyle("text-justification").strValue,r=t.pstyle("text-halign").strValue;if(e==="auto")if(t.isNode())switch(r){case"left":return"right";case"right":return"left";default:return"center"}else return"center";else return e};Va.calculateLabelDimensions=function(t,e){var r=this,n=r.cy.window(),a=n.document,i=0,s=t.pstyle("font-style").strValue,o=t.pstyle("font-size").pfValue,l=t.pstyle("font-family").strValue,u=t.pstyle("font-weight").strValue,c=this.labelCalcCanvas,f=this.labelCalcCanvasContext;if(!c){c=this.labelCalcCanvas=a.createElement("canvas"),f=this.labelCalcCanvasContext=c.getContext("2d");var d=c.style;d.position="absolute",d.left="-9999px",d.top="-9999px",d.zIndex="-1",d.visibility="hidden",d.pointerEvents="none"}f.font="".concat(s," ").concat(u," ").concat(o,"px ").concat(l);for(var p=0,g=0,y=e.split(`
`),x=0;x<y.length;x++){var b=y[x],w=f.measureText(b),_=Math.ceil(w.width),k=o;p=Math.max(_,p),g+=k}return p+=i,g+=i,{width:p,height:g}};Va.calculateLabelAngle=function(t,e){var r=t._private,n=r.rscratch,a=t.isEdge(),i=e?e+"-":"",s=t.pstyle(i+"text-rotation"),o=s.strValue;return o==="none"?0:a&&o==="autorotate"?n.labelAutoAngle:o==="autorotate"?0:s.pfValue};Va.calculateLabelAngles=function(t){var e=this,r=t.isEdge(),n=t._private,a=n.rscratch;a.labelAngle=e.calculateLabelAngle(t),r&&(a.sourceLabelAngle=e.calculateLabelAngle(t,"source"),a.targetLabelAngle=e.calculateLabelAngle(t,"target"))};var gE={},O6=28,I6=!1;gE.getNodeShape=function(t){var e=this,r=t.pstyle("shape").value;if(r==="cutrectangle"&&(t.width()<O6||t.height()<O6))return I6||(Lt("The `cutrectangle` node shape can not be used at small sizes so `rectangle` is used instead"),I6=!0),"rectangle";if(t.isParent())return r==="rectangle"||r==="roundrectangle"||r==="round-rectangle"||r==="cutrectangle"||r==="cut-rectangle"||r==="barrel"?r:"rectangle";if(r==="polygon"){var n=t.pstyle("shape-polygon-points").value;return e.nodeShapes.makePolygon(n).name}return r};var hp={};hp.registerCalculationListeners=function(){var t=this.cy,e=t.collection(),r=this,n=function(s){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e.merge(s),o)for(var l=0;l<s.length;l++){var u=s[l],c=u._private,f=c.rstyle;f.clean=!1,f.cleanConnected=!1}};r.binder(t).on("bounds.* dirty.*",function(s){var o=s.target;n(o)}).on("style.* background.*",function(s){var o=s.target;n(o,!1)});var a=function(s){if(s){var o=r.onUpdateEleCalcsFns;e.cleanStyle();for(var l=0;l<e.length;l++){var u=e[l],c=u._private.rstyle;u.isNode()&&!c.cleanConnected&&(n(u.connectedEdges()),c.cleanConnected=!0)}if(o)for(var f=0;f<o.length;f++){var d=o[f];d(s,e)}r.recalculateRenderedStyle(e),e=t.collection()}};r.flushRenderedStyleQueue=function(){a(!0)},r.beforeRender(a,r.beforeRenderPriorities.eleCalcs)};hp.onUpdateEleCalcs=function(t){var e=this.onUpdateEleCalcsFns=this.onUpdateEleCalcsFns||[];e.push(t)};hp.recalculateRenderedStyle=function(t,e){var r=function(k){return k._private.rstyle.cleanConnected};if(t.length!==0){var n=[],a=[];if(!this.destroyed){e===void 0&&(e=!0);for(var i=0;i<t.length;i++){var s=t[i],o=s._private,l=o.rstyle;s.isEdge()&&(!r(s.source())||!r(s.target()))&&(l.clean=!1),s.isEdge()&&s.isBundledBezier()&&s.parallelEdges().some(function(_){return!_._private.rstyle.clean&&_.isBundledBezier()})&&(l.clean=!1),!(e&&l.clean||s.removed())&&s.pstyle("display").value!=="none"&&(o.group==="nodes"?a.push(s):n.push(s),l.clean=!0)}for(var u=0;u<a.length;u++){var c=a[u],f=c._private,d=f.rstyle,p=c.position();this.recalculateNodeLabelProjection(c),d.nodeX=p.x,d.nodeY=p.y,d.nodeW=c.pstyle("width").pfValue,d.nodeH=c.pstyle("height").pfValue}this.recalculateEdgeProjections(n);for(var g=0;g<n.length;g++){var y=n[g],x=y._private,b=x.rstyle,w=x.rscratch;b.srcX=w.arrowStartX,b.srcY=w.arrowStartY,b.tgtX=w.arrowEndX,b.tgtY=w.arrowEndY,b.midX=w.midX,b.midY=w.midY,b.labelAngle=w.labelAngle,b.sourceLabelAngle=w.sourceLabelAngle,b.targetLabelAngle=w.targetLabelAngle}}}};var pp={};pp.updateCachedGrabbedEles=function(){var t=this.cachedZSortedEles;if(t){t.drag=[],t.nondrag=[];for(var e=[],r=0;r<t.length;r++){var n=t[r],a=n._private.rscratch;n.grabbed()&&!n.isParent()?e.push(n):a.inDragLayer?t.drag.push(n):t.nondrag.push(n)}for(var r=0;r<e.length;r++){var n=e[r];t.drag.push(n)}}};pp.invalidateCachedZSortedEles=function(){this.cachedZSortedEles=null};pp.getCachedZSortedEles=function(t){if(t||!this.cachedZSortedEles){var e=this.cy.mutableElements().toArray();e.sort(Kk),e.interactive=e.filter(function(r){return r.interactive()}),this.cachedZSortedEles=e,this.updateCachedGrabbedEles()}else e=this.cachedZSortedEles;return e};var mE={};[bo,lh,un,m0,t4,Va,gE,hp,pp].forEach(function(t){Je(mE,t)});var vE={};vE.getCachedImage=function(t,e,r){var n=this,a=n.imageCache=n.imageCache||{},i=a[t];if(i)return i.image.complete||i.image.addEventListener("load",r),i.image;i=a[t]=a[t]||{};var s=i.image=new Image;s.addEventListener("load",r),s.addEventListener("error",function(){s.error=!0});var o="data:",l=t.substring(0,o.length).toLowerCase()===o;return l||(e=e==="null"?null:e,s.crossOrigin=e),s.src=t,s};var Jl={};Jl.registerBinding=function(t,e,r,n){var a=Array.prototype.slice.apply(arguments,[1]);if(Array.isArray(t)){for(var i=[],s=0;s<t.length;s++){var o=t[s];if(o!==void 0){var l=this.binder(o);i.push(l.on.apply(l,a))}}return i}var l=this.binder(t);return l.on.apply(l,a)};Jl.binder=function(t){var e=this,r=e.cy.window(),n=t===r||t===r.document||t===r.document.body||D$(t);if(e.supportsPassiveEvents==null){var a=!1;try{var i=Object.defineProperty({},"passive",{get:function(){return a=!0,!0}});r.addEventListener("test",null,i)}catch{}e.supportsPassiveEvents=a}var s=function(l,u,c){var f=Array.prototype.slice.call(arguments);return n&&e.supportsPassiveEvents&&(f[2]={capture:c??!1,passive:!1,once:!1}),e.bindings.push({target:t,args:f}),(t.addEventListener||t.on).apply(t,f),this};return{on:s,addEventListener:s,addListener:s,bind:s}};Jl.nodeIsDraggable=function(t){return t&&t.isNode()&&!t.locked()&&t.grabbable()};Jl.nodeIsGrabbable=function(t){return this.nodeIsDraggable(t)&&t.interactive()};Jl.load=function(){var t=this,e=t.cy.window(),r=function(j){return j.selected()},n=function(j){var le=j.getRootNode();if(le&&le.nodeType===11&&le.host!==void 0)return le},a=function(j,le,be,oe){j==null&&(j=t.cy);for(var he=0;he<le.length;he++){var Oe=le[he];j.emit({originalEvent:be,type:Oe,position:oe})}},i=function(j){return j.shiftKey||j.metaKey||j.ctrlKey},s=function(j,le){var be=!0;if(t.cy.hasCompoundNodes()&&j&&j.pannable())for(var oe=0;le&&oe<le.length;oe++){var j=le[oe];if(j.isNode()&&j.isParent()&&!j.pannable()){be=!1;break}}else be=!0;return be},o=function(j){j[0]._private.grabbed=!0},l=function(j){j[0]._private.grabbed=!1},u=function(j){j[0]._private.rscratch.inDragLayer=!0},c=function(j){j[0]._private.rscratch.inDragLayer=!1},f=function(j){j[0]._private.rscratch.isGrabTarget=!0},d=function(j){j[0]._private.rscratch.isGrabTarget=!1},p=function(j,le){var be=le.addToList,oe=be.has(j);!oe&&j.grabbable()&&!j.locked()&&(be.merge(j),o(j))},g=function(j,le){if(j.cy().hasCompoundNodes()&&!(le.inDragLayer==null&&le.addToList==null)){var be=j.descendants();le.inDragLayer&&(be.forEach(u),be.connectedEdges().forEach(u)),le.addToList&&p(be,le)}},y=function(j,le){le=le||{};var be=j.cy().hasCompoundNodes();le.inDragLayer&&(j.forEach(u),j.neighborhood().stdFilter(function(oe){return!be||oe.isEdge()}).forEach(u)),le.addToList&&j.forEach(function(oe){p(oe,le)}),g(j,le),w(j,{inDragLayer:le.inDragLayer}),t.updateCachedGrabbedEles()},x=y,b=function(j){j&&(t.getCachedZSortedEles().forEach(function(le){l(le),c(le),d(le)}),t.updateCachedGrabbedEles())},w=function(j,le){if(!(le.inDragLayer==null&&le.addToList==null)&&j.cy().hasCompoundNodes()){var be=j.ancestors().orphans();if(!be.same(j)){var oe=be.descendants().spawnSelf().merge(be).unmerge(j).unmerge(j.descendants()),he=oe.connectedEdges();le.inDragLayer&&(he.forEach(u),oe.forEach(u)),le.addToList&&oe.forEach(function(Oe){p(Oe,le)})}}},_=function(){document.activeElement!=null&&document.activeElement.blur!=null&&document.activeElement.blur()},k=typeof MutationObserver<"u",E=typeof ResizeObserver<"u";k?(t.removeObserver=new MutationObserver(function(Te){for(var j=0;j<Te.length;j++){var le=Te[j],be=le.removedNodes;if(be)for(var oe=0;oe<be.length;oe++){var he=be[oe];if(he===t.container){t.destroy();break}}}}),t.container.parentNode&&t.removeObserver.observe(t.container.parentNode,{childList:!0})):t.registerBinding(t.container,"DOMNodeRemoved",function(Te){t.destroy()});var D=d0(function(){t.cy.resize()},100);k&&(t.styleObserver=new MutationObserver(D),t.styleObserver.observe(t.container,{attributes:!0})),t.registerBinding(e,"resize",D),E&&(t.resizeObserver=new ResizeObserver(D),t.resizeObserver.observe(t.container));var M=function(j,le){for(;j!=null;)le(j),j=j.parentNode},A=function(){t.invalidateContainerClientCoordsCache()};M(t.container,function(Te){t.registerBinding(Te,"transitionend",A),t.registerBinding(Te,"animationend",A),t.registerBinding(Te,"scroll",A)}),t.registerBinding(t.container,"contextmenu",function(Te){Te.preventDefault()});var R=function(){return t.selection[4]!==0},O=function(j){for(var le=t.findContainerClientCoords(),be=le[0],oe=le[1],he=le[2],Oe=le[3],ke=j.touches?j.touches:[j],Me=!1,xe=0;xe<ke.length;xe++){var Qe=ke[xe];if(be<=Qe.clientX&&Qe.clientX<=be+he&&oe<=Qe.clientY&&Qe.clientY<=oe+Oe){Me=!0;break}}if(!Me)return!1;for(var je=t.container,rt=j.target,nt=rt.parentNode,Ye=!1;nt;){if(nt===je){Ye=!0;break}nt=nt.parentNode}return!!Ye};t.registerBinding(t.container,"mousedown",function(j){if(O(j)&&!(t.hoverData.which===1&&j.which!==1)){j.preventDefault(),_(),t.hoverData.capture=!0,t.hoverData.which=j.which;var le=t.cy,be=[j.clientX,j.clientY],oe=t.projectIntoViewport(be[0],be[1]),he=t.selection,Oe=t.findNearestElements(oe[0],oe[1],!0,!1),ke=Oe[0],Me=t.dragData.possibleDragElements;t.hoverData.mdownPos=oe,t.hoverData.mdownGPos=be;var xe=function(){t.hoverData.tapholdCancelled=!1,clearTimeout(t.hoverData.tapholdTimeout),t.hoverData.tapholdTimeout=setTimeout(function(){if(!t.hoverData.tapholdCancelled){var Dt=t.hoverData.down;Dt?Dt.emit({originalEvent:j,type:"taphold",position:{x:oe[0],y:oe[1]}}):le.emit({originalEvent:j,type:"taphold",position:{x:oe[0],y:oe[1]}})}},t.tapholdDuration)};if(j.which==3){t.hoverData.cxtStarted=!0;var Qe={originalEvent:j,type:"cxttapstart",position:{x:oe[0],y:oe[1]}};ke?(ke.activate(),ke.emit(Qe),t.hoverData.down=ke):le.emit(Qe),t.hoverData.downTime=new Date().getTime(),t.hoverData.cxtDragged=!1}else if(j.which==1){ke&&ke.activate();{if(ke!=null&&t.nodeIsGrabbable(ke)){var je=function(Dt){return{originalEvent:j,type:Dt,position:{x:oe[0],y:oe[1]}}},rt=function(Dt){Dt.emit(je("grab"))};if(f(ke),!ke.selected())Me=t.dragData.possibleDragElements=le.collection(),x(ke,{addToList:Me}),ke.emit(je("grabon")).emit(je("grab"));else{Me=t.dragData.possibleDragElements=le.collection();var nt=le.$(function(Ye){return Ye.isNode()&&Ye.selected()&&t.nodeIsGrabbable(Ye)});y(nt,{addToList:Me}),ke.emit(je("grabon")),nt.forEach(rt)}t.redrawHint("eles",!0),t.redrawHint("drag",!0)}t.hoverData.down=ke,t.hoverData.downs=Oe,t.hoverData.downTime=new Date().getTime()}a(ke,["mousedown","tapstart","vmousedown"],j,{x:oe[0],y:oe[1]}),ke==null?(he[4]=1,t.data.bgActivePosistion={x:oe[0],y:oe[1]},t.redrawHint("select",!0),t.redraw()):ke.pannable()&&(he[4]=1),xe()}he[0]=he[2]=oe[0],he[1]=he[3]=oe[1]}},!1);var N=n(t.container);t.registerBinding([e,N],"mousemove",function(j){var le=t.hoverData.capture;if(!(!le&&!O(j))){var be=!1,oe=t.cy,he=oe.zoom(),Oe=[j.clientX,j.clientY],ke=t.projectIntoViewport(Oe[0],Oe[1]),Me=t.hoverData.mdownPos,xe=t.hoverData.mdownGPos,Qe=t.selection,je=null;!t.hoverData.draggingEles&&!t.hoverData.dragging&&!t.hoverData.selecting&&(je=t.findNearestElement(ke[0],ke[1],!0,!1));var rt=t.hoverData.last,nt=t.hoverData.down,Ye=[ke[0]-Qe[2],ke[1]-Qe[3]],Dt=t.dragData.possibleDragElements,Xt;if(xe){var fn=Oe[0]-xe[0],jt=fn*fn,Ot=Oe[1]-xe[1],$t=Ot*Ot,fr=jt+$t;t.hoverData.isOverThresholdDrag=Xt=fr>=t.desktopTapThreshold2}var Or=i(j);Xt&&(t.hoverData.tapholdCancelled=!0);var jr=function(){var pt=t.hoverData.dragDelta=t.hoverData.dragDelta||[];pt.length===0?(pt.push(Ye[0]),pt.push(Ye[1])):(pt[0]+=Ye[0],pt[1]+=Ye[1])};be=!0,a(je,["mousemove","vmousemove","tapdrag"],j,{x:ke[0],y:ke[1]});var Gn=function(){t.data.bgActivePosistion=void 0,t.hoverData.selecting||oe.emit({originalEvent:j,type:"boxstart",position:{x:ke[0],y:ke[1]}}),Qe[4]=1,t.hoverData.selecting=!0,t.redrawHint("select",!0),t.redraw()};if(t.hoverData.which===3){if(Xt){var Sn={originalEvent:j,type:"cxtdrag",position:{x:ke[0],y:ke[1]}};nt?nt.emit(Sn):oe.emit(Sn),t.hoverData.cxtDragged=!0,(!t.hoverData.cxtOver||je!==t.hoverData.cxtOver)&&(t.hoverData.cxtOver&&t.hoverData.cxtOver.emit({originalEvent:j,type:"cxtdragout",position:{x:ke[0],y:ke[1]}}),t.hoverData.cxtOver=je,je&&je.emit({originalEvent:j,type:"cxtdragover",position:{x:ke[0],y:ke[1]}}))}}else if(t.hoverData.dragging){if(be=!0,oe.panningEnabled()&&oe.userPanningEnabled()){var dn;if(t.hoverData.justStartedPan){var vt=t.hoverData.mdownPos;dn={x:(ke[0]-vt[0])*he,y:(ke[1]-vt[1])*he},t.hoverData.justStartedPan=!1}else dn={x:Ye[0]*he,y:Ye[1]*he};oe.panBy(dn),oe.emit("dragpan"),t.hoverData.dragged=!0}ke=t.projectIntoViewport(j.clientX,j.clientY)}else if(Qe[4]==1&&(nt==null||nt.pannable())){if(Xt){if(!t.hoverData.dragging&&oe.boxSelectionEnabled()&&(Or||!oe.panningEnabled()||!oe.userPanningEnabled()))Gn();else if(!t.hoverData.selecting&&oe.panningEnabled()&&oe.userPanningEnabled()){var T=s(nt,t.hoverData.downs);T&&(t.hoverData.dragging=!0,t.hoverData.justStartedPan=!0,Qe[4]=0,t.data.bgActivePosistion=al(Me),t.redrawHint("select",!0),t.redraw())}nt&&nt.pannable()&&nt.active()&&nt.unactivate()}}else{if(nt&&nt.pannable()&&nt.active()&&nt.unactivate(),(!nt||!nt.grabbed())&&je!=rt&&(rt&&a(rt,["mouseout","tapdragout"],j,{x:ke[0],y:ke[1]}),je&&a(je,["mouseover","tapdragover"],j,{x:ke[0],y:ke[1]}),t.hoverData.last=je),nt)if(Xt){if(oe.boxSelectionEnabled()&&Or)nt&&nt.grabbed()&&(b(Dt),nt.emit("freeon"),Dt.emit("free"),t.dragData.didDrag&&(nt.emit("dragfreeon"),Dt.emit("dragfree"))),Gn();else if(nt&&nt.grabbed()&&t.nodeIsDraggable(nt)){var P=!t.dragData.didDrag;P&&t.redrawHint("eles",!0),t.dragData.didDrag=!0,t.hoverData.draggingEles||y(Dt,{inDragLayer:!0});var _e={x:0,y:0};if(Ie(Ye[0])&&Ie(Ye[1])&&(_e.x+=Ye[0],_e.y+=Ye[1],P)){var z=t.hoverData.dragDelta;z&&Ie(z[0])&&Ie(z[1])&&(_e.x+=z[0],_e.y+=z[1])}t.hoverData.draggingEles=!0,Dt.silentShift(_e).emit("position drag"),t.redrawHint("drag",!0),t.redraw()}}else jr();be=!0}if(Qe[2]=ke[0],Qe[3]=ke[1],be)return j.stopPropagation&&j.stopPropagation(),j.preventDefault&&j.preventDefault(),!1}},!1);var B,F,V;t.registerBinding(e,"mouseup",function(j){if(!(t.hoverData.which===1&&j.which!==1&&t.hoverData.capture)){var le=t.hoverData.capture;if(le){t.hoverData.capture=!1;var be=t.cy,oe=t.projectIntoViewport(j.clientX,j.clientY),he=t.selection,Oe=t.findNearestElement(oe[0],oe[1],!0,!1),ke=t.dragData.possibleDragElements,Me=t.hoverData.down,xe=i(j);if(t.data.bgActivePosistion&&(t.redrawHint("select",!0),t.redraw()),t.hoverData.tapholdCancelled=!0,t.data.bgActivePosistion=void 0,Me&&Me.unactivate(),t.hoverData.which===3){var Qe={originalEvent:j,type:"cxttapend",position:{x:oe[0],y:oe[1]}};if(Me?Me.emit(Qe):be.emit(Qe),!t.hoverData.cxtDragged){var je={originalEvent:j,type:"cxttap",position:{x:oe[0],y:oe[1]}};Me?Me.emit(je):be.emit(je)}t.hoverData.cxtDragged=!1,t.hoverData.which=null}else if(t.hoverData.which===1){if(a(Oe,["mouseup","tapend","vmouseup"],j,{x:oe[0],y:oe[1]}),!t.dragData.didDrag&&!t.hoverData.dragged&&!t.hoverData.selecting&&!t.hoverData.isOverThresholdDrag&&(a(Me,["click","tap","vclick"],j,{x:oe[0],y:oe[1]}),F=!1,j.timeStamp-V<=be.multiClickDebounceTime()?(B&&clearTimeout(B),F=!0,V=null,a(Me,["dblclick","dbltap","vdblclick"],j,{x:oe[0],y:oe[1]})):(B=setTimeout(function(){F||a(Me,["oneclick","onetap","voneclick"],j,{x:oe[0],y:oe[1]})},be.multiClickDebounceTime()),V=j.timeStamp)),Me==null&&!t.dragData.didDrag&&!t.hoverData.selecting&&!t.hoverData.dragged&&!i(j)&&(be.$(r).unselect(["tapunselect"]),ke.length>0&&t.redrawHint("eles",!0),t.dragData.possibleDragElements=ke=be.collection()),Oe==Me&&!t.dragData.didDrag&&!t.hoverData.selecting&&Oe!=null&&Oe._private.selectable&&(t.hoverData.dragging||(be.selectionType()==="additive"||xe?Oe.selected()?Oe.unselect(["tapunselect"]):Oe.select(["tapselect"]):xe||(be.$(r).unmerge(Oe).unselect(["tapunselect"]),Oe.select(["tapselect"]))),t.redrawHint("eles",!0)),t.hoverData.selecting){var rt=be.collection(t.getAllInBox(he[0],he[1],he[2],he[3]));t.redrawHint("select",!0),rt.length>0&&t.redrawHint("eles",!0),be.emit({type:"boxend",originalEvent:j,position:{x:oe[0],y:oe[1]}});var nt=function(Xt){return Xt.selectable()&&!Xt.selected()};be.selectionType()==="additive"||xe||be.$(r).unmerge(rt).unselect(),rt.emit("box").stdFilter(nt).select().emit("boxselect"),t.redraw()}if(t.hoverData.dragging&&(t.hoverData.dragging=!1,t.redrawHint("select",!0),t.redrawHint("eles",!0),t.redraw()),!he[4]){t.redrawHint("drag",!0),t.redrawHint("eles",!0);var Ye=Me&&Me.grabbed();b(ke),Ye&&(Me.emit("freeon"),ke.emit("free"),t.dragData.didDrag&&(Me.emit("dragfreeon"),ke.emit("dragfree")))}}he[4]=0,t.hoverData.down=null,t.hoverData.cxtStarted=!1,t.hoverData.draggingEles=!1,t.hoverData.selecting=!1,t.hoverData.isOverThresholdDrag=!1,t.dragData.didDrag=!1,t.hoverData.dragged=!1,t.hoverData.dragDelta=[],t.hoverData.mdownPos=null,t.hoverData.mdownGPos=null,t.hoverData.which=null}}},!1);var X=function(j){if(!t.scrollingPage){var le=t.cy,be=le.zoom(),oe=le.pan(),he=t.projectIntoViewport(j.clientX,j.clientY),Oe=[he[0]*be+oe.x,he[1]*be+oe.y];if(t.hoverData.draggingEles||t.hoverData.dragging||t.hoverData.cxtStarted||R()){j.preventDefault();return}if(le.panningEnabled()&&le.userPanningEnabled()&&le.zoomingEnabled()&&le.userZoomingEnabled()){j.preventDefault(),t.data.wheelZooming=!0,clearTimeout(t.data.wheelTimeout),t.data.wheelTimeout=setTimeout(function(){t.data.wheelZooming=!1,t.redrawHint("eles",!0),t.redraw()},150);var ke;j.deltaY!=null?ke=j.deltaY/-250:j.wheelDeltaY!=null?ke=j.wheelDeltaY/1e3:ke=j.wheelDelta/1e3,ke=ke*t.wheelSensitivity;var Me=j.deltaMode===1;Me&&(ke*=33);var xe=le.zoom()*Math.pow(10,ke);j.type==="gesturechange"&&(xe=t.gestureStartZoom*j.scale),le.zoom({level:xe,renderedPosition:{x:Oe[0],y:Oe[1]}}),le.emit(j.type==="gesturechange"?"pinchzoom":"scrollzoom")}}};t.registerBinding(t.container,"wheel",X,!0),t.registerBinding(e,"scroll",function(j){t.scrollingPage=!0,clearTimeout(t.scrollingPageTimeout),t.scrollingPageTimeout=setTimeout(function(){t.scrollingPage=!1},250)},!0),t.registerBinding(t.container,"gesturestart",function(j){t.gestureStartZoom=t.cy.zoom(),t.hasTouchStarted||j.preventDefault()},!0),t.registerBinding(t.container,"gesturechange",function(Te){t.hasTouchStarted||X(Te)},!0),t.registerBinding(t.container,"mouseout",function(j){var le=t.projectIntoViewport(j.clientX,j.clientY);t.cy.emit({originalEvent:j,type:"mouseout",position:{x:le[0],y:le[1]}})},!1),t.registerBinding(t.container,"mouseover",function(j){var le=t.projectIntoViewport(j.clientX,j.clientY);t.cy.emit({originalEvent:j,type:"mouseover",position:{x:le[0],y:le[1]}})},!1);var K,U,H,ee,re,W,Z,ue,pe,ge,fe,Se,Ee,ve=function(j,le,be,oe){return Math.sqrt((be-j)*(be-j)+(oe-le)*(oe-le))},se=function(j,le,be,oe){return(be-j)*(be-j)+(oe-le)*(oe-le)},ye;t.registerBinding(t.container,"touchstart",ye=function(j){if(t.hasTouchStarted=!0,!!O(j)){_(),t.touchData.capture=!0,t.data.bgActivePosistion=void 0;var le=t.cy,be=t.touchData.now,oe=t.touchData.earlier;if(j.touches[0]){var he=t.projectIntoViewport(j.touches[0].clientX,j.touches[0].clientY);be[0]=he[0],be[1]=he[1]}if(j.touches[1]){var he=t.projectIntoViewport(j.touches[1].clientX,j.touches[1].clientY);be[2]=he[0],be[3]=he[1]}if(j.touches[2]){var he=t.projectIntoViewport(j.touches[2].clientX,j.touches[2].clientY);be[4]=he[0],be[5]=he[1]}if(j.touches[1]){t.touchData.singleTouchMoved=!0,b(t.dragData.touchDragEles);var Oe=t.findContainerClientCoords();pe=Oe[0],ge=Oe[1],fe=Oe[2],Se=Oe[3],K=j.touches[0].clientX-pe,U=j.touches[0].clientY-ge,H=j.touches[1].clientX-pe,ee=j.touches[1].clientY-ge,Ee=0<=K&&K<=fe&&0<=H&&H<=fe&&0<=U&&U<=Se&&0<=ee&&ee<=Se;var ke=le.pan(),Me=le.zoom();re=ve(K,U,H,ee),W=se(K,U,H,ee),Z=[(K+H)/2,(U+ee)/2],ue=[(Z[0]-ke.x)/Me,(Z[1]-ke.y)/Me];var xe=200,Qe=xe*xe;if(W<Qe&&!j.touches[2]){var je=t.findNearestElement(be[0],be[1],!0,!0),rt=t.findNearestElement(be[2],be[3],!0,!0);je&&je.isNode()?(je.activate().emit({originalEvent:j,type:"cxttapstart",position:{x:be[0],y:be[1]}}),t.touchData.start=je):rt&&rt.isNode()?(rt.activate().emit({originalEvent:j,type:"cxttapstart",position:{x:be[0],y:be[1]}}),t.touchData.start=rt):le.emit({originalEvent:j,type:"cxttapstart",position:{x:be[0],y:be[1]}}),t.touchData.start&&(t.touchData.start._private.grabbed=!1),t.touchData.cxt=!0,t.touchData.cxtDragged=!1,t.data.bgActivePosistion=void 0,t.redraw();return}}if(j.touches[2])le.boxSelectionEnabled()&&j.preventDefault();else if(!j.touches[1]){if(j.touches[0]){var nt=t.findNearestElements(be[0],be[1],!0,!0),Ye=nt[0];if(Ye!=null&&(Ye.activate(),t.touchData.start=Ye,t.touchData.starts=nt,t.nodeIsGrabbable(Ye))){var Dt=t.dragData.touchDragEles=le.collection(),Xt=null;t.redrawHint("eles",!0),t.redrawHint("drag",!0),Ye.selected()?(Xt=le.$(function(fr){return fr.selected()&&t.nodeIsGrabbable(fr)}),y(Xt,{addToList:Dt})):x(Ye,{addToList:Dt}),f(Ye);var fn=function(Or){return{originalEvent:j,type:Or,position:{x:be[0],y:be[1]}}};Ye.emit(fn("grabon")),Xt?Xt.forEach(function(fr){fr.emit(fn("grab"))}):Ye.emit(fn("grab"))}a(Ye,["touchstart","tapstart","vmousedown"],j,{x:be[0],y:be[1]}),Ye==null&&(t.data.bgActivePosistion={x:he[0],y:he[1]},t.redrawHint("select",!0),t.redraw()),t.touchData.singleTouchMoved=!1,t.touchData.singleTouchStartTime=+new Date,clearTimeout(t.touchData.tapholdTimeout),t.touchData.tapholdTimeout=setTimeout(function(){t.touchData.singleTouchMoved===!1&&!t.pinching&&!t.touchData.selecting&&a(t.touchData.start,["taphold"],j,{x:be[0],y:be[1]})},t.tapholdDuration)}}if(j.touches.length>=1){for(var jt=t.touchData.startPosition=[null,null,null,null,null,null],Ot=0;Ot<be.length;Ot++)jt[Ot]=oe[Ot]=be[Ot];var $t=j.touches[0];t.touchData.startGPosition=[$t.clientX,$t.clientY]}}},!1);var we;t.registerBinding(e,"touchmove",we=function(j){var le=t.touchData.capture;if(!(!le&&!O(j))){var be=t.selection,oe=t.cy,he=t.touchData.now,Oe=t.touchData.earlier,ke=oe.zoom();if(j.touches[0]){var Me=t.projectIntoViewport(j.touches[0].clientX,j.touches[0].clientY);he[0]=Me[0],he[1]=Me[1]}if(j.touches[1]){var Me=t.projectIntoViewport(j.touches[1].clientX,j.touches[1].clientY);he[2]=Me[0],he[3]=Me[1]}if(j.touches[2]){var Me=t.projectIntoViewport(j.touches[2].clientX,j.touches[2].clientY);he[4]=Me[0],he[5]=Me[1]}var xe=t.touchData.startGPosition,Qe;if(le&&j.touches[0]&&xe){for(var je=[],rt=0;rt<he.length;rt++)je[rt]=he[rt]-Oe[rt];var nt=j.touches[0].clientX-xe[0],Ye=nt*nt,Dt=j.touches[0].clientY-xe[1],Xt=Dt*Dt,fn=Ye+Xt;Qe=fn>=t.touchTapThreshold2}if(le&&t.touchData.cxt){j.preventDefault();var jt=j.touches[0].clientX-pe,Ot=j.touches[0].clientY-ge,$t=j.touches[1].clientX-pe,fr=j.touches[1].clientY-ge,Or=se(jt,Ot,$t,fr),jr=Or/W,Gn=150,Sn=Gn*Gn,dn=1.5,vt=dn*dn;if(jr>=vt||Or>=Sn){t.touchData.cxt=!1,t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);var T={originalEvent:j,type:"cxttapend",position:{x:he[0],y:he[1]}};t.touchData.start?(t.touchData.start.unactivate().emit(T),t.touchData.start=null):oe.emit(T)}}if(le&&t.touchData.cxt){var T={originalEvent:j,type:"cxtdrag",position:{x:he[0],y:he[1]}};t.data.bgActivePosistion=void 0,t.redrawHint("select",!0),t.touchData.start?t.touchData.start.emit(T):oe.emit(T),t.touchData.start&&(t.touchData.start._private.grabbed=!1),t.touchData.cxtDragged=!0;var P=t.findNearestElement(he[0],he[1],!0,!0);(!t.touchData.cxtOver||P!==t.touchData.cxtOver)&&(t.touchData.cxtOver&&t.touchData.cxtOver.emit({originalEvent:j,type:"cxtdragout",position:{x:he[0],y:he[1]}}),t.touchData.cxtOver=P,P&&P.emit({originalEvent:j,type:"cxtdragover",position:{x:he[0],y:he[1]}}))}else if(le&&j.touches[2]&&oe.boxSelectionEnabled())j.preventDefault(),t.data.bgActivePosistion=void 0,this.lastThreeTouch=+new Date,t.touchData.selecting||oe.emit({originalEvent:j,type:"boxstart",position:{x:he[0],y:he[1]}}),t.touchData.selecting=!0,t.touchData.didSelect=!0,be[4]=1,!be||be.length===0||be[0]===void 0?(be[0]=(he[0]+he[2]+he[4])/3,be[1]=(he[1]+he[3]+he[5])/3,be[2]=(he[0]+he[2]+he[4])/3+1,be[3]=(he[1]+he[3]+he[5])/3+1):(be[2]=(he[0]+he[2]+he[4])/3,be[3]=(he[1]+he[3]+he[5])/3),t.redrawHint("select",!0),t.redraw();else if(le&&j.touches[1]&&!t.touchData.didSelect&&oe.zoomingEnabled()&&oe.panningEnabled()&&oe.userZoomingEnabled()&&oe.userPanningEnabled()){j.preventDefault(),t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);var _e=t.dragData.touchDragEles;if(_e){t.redrawHint("drag",!0);for(var z=0;z<_e.length;z++){var J=_e[z]._private;J.grabbed=!1,J.rscratch.inDragLayer=!1}}var pt=t.touchData.start,jt=j.touches[0].clientX-pe,Ot=j.touches[0].clientY-ge,$t=j.touches[1].clientX-pe,fr=j.touches[1].clientY-ge,Fe=ve(jt,Ot,$t,fr),Ur=Fe/re;if(Ee){var ki=jt-K,Ze=Ot-U,dr=$t-H,hn=fr-ee,wo=(ki+dr)/2,te=(Ze+hn)/2,pn=oe.zoom(),ae=pn*Ur,ks=oe.pan(),ru=ue[0]*pn+ks.x,nu=ue[1]*pn+ks.y,_o={x:-ae/pn*(ru-ks.x-wo)+ru,y:-ae/pn*(nu-ks.y-te)+nu};if(pt&&pt.active()){var _e=t.dragData.touchDragEles;b(_e),t.redrawHint("drag",!0),t.redrawHint("eles",!0),pt.unactivate().emit("freeon"),_e.emit("free"),t.dragData.didDrag&&(pt.emit("dragfreeon"),_e.emit("dragfree"))}oe.viewport({zoom:ae,pan:_o,cancelOnFailedZoom:!0}),oe.emit("pinchzoom"),re=Fe,K=jt,U=Ot,H=$t,ee=fr,t.pinching=!0}if(j.touches[0]){var Me=t.projectIntoViewport(j.touches[0].clientX,j.touches[0].clientY);he[0]=Me[0],he[1]=Me[1]}if(j.touches[1]){var Me=t.projectIntoViewport(j.touches[1].clientX,j.touches[1].clientY);he[2]=Me[0],he[3]=Me[1]}if(j.touches[2]){var Me=t.projectIntoViewport(j.touches[2].clientX,j.touches[2].clientY);he[4]=Me[0],he[5]=Me[1]}}else if(j.touches[0]&&!t.touchData.didSelect){var Ue=t.touchData.start,Es=t.touchData.last,P;if(!t.hoverData.draggingEles&&!t.swipePanning&&(P=t.findNearestElement(he[0],he[1],!0,!0)),le&&Ue!=null&&j.preventDefault(),le&&Ue!=null&&t.nodeIsDraggable(Ue))if(Qe){var _e=t.dragData.touchDragEles,Cs=!t.dragData.didDrag;Cs&&y(_e,{inDragLayer:!0}),t.dragData.didDrag=!0;var Ei={x:0,y:0};if(Ie(je[0])&&Ie(je[1])&&(Ei.x+=je[0],Ei.y+=je[1],Cs)){t.redrawHint("eles",!0);var On=t.touchData.dragDelta;On&&Ie(On[0])&&Ie(On[1])&&(Ei.x+=On[0],Ei.y+=On[1])}t.hoverData.draggingEles=!0,_e.silentShift(Ei).emit("position drag"),t.redrawHint("drag",!0),t.touchData.startPosition[0]==Oe[0]&&t.touchData.startPosition[1]==Oe[1]&&t.redrawHint("eles",!0),t.redraw()}else{var On=t.touchData.dragDelta=t.touchData.dragDelta||[];On.length===0?(On.push(je[0]),On.push(je[1])):(On[0]+=je[0],On[1]+=je[1])}if(a(Ue||P,["touchmove","tapdrag","vmousemove"],j,{x:he[0],y:he[1]}),(!Ue||!Ue.grabbed())&&P!=Es&&(Es&&Es.emit({originalEvent:j,type:"tapdragout",position:{x:he[0],y:he[1]}}),P&&P.emit({originalEvent:j,type:"tapdragover",position:{x:he[0],y:he[1]}})),t.touchData.last=P,le)for(var z=0;z<he.length;z++)he[z]&&t.touchData.startPosition[z]&&Qe&&(t.touchData.singleTouchMoved=!0);if(le&&(Ue==null||Ue.pannable())&&oe.panningEnabled()&&oe.userPanningEnabled()){var So=s(Ue,t.touchData.starts);So&&(j.preventDefault(),t.data.bgActivePosistion||(t.data.bgActivePosistion=al(t.touchData.startPosition)),t.swipePanning?(oe.panBy({x:je[0]*ke,y:je[1]*ke}),oe.emit("dragpan")):Qe&&(t.swipePanning=!0,oe.panBy({x:nt*ke,y:Dt*ke}),oe.emit("dragpan"),Ue&&(Ue.unactivate(),t.redrawHint("select",!0),t.touchData.start=null)));var Me=t.projectIntoViewport(j.touches[0].clientX,j.touches[0].clientY);he[0]=Me[0],he[1]=Me[1]}}for(var rt=0;rt<he.length;rt++)Oe[rt]=he[rt];le&&j.touches.length>0&&!t.hoverData.draggingEles&&!t.swipePanning&&t.data.bgActivePosistion!=null&&(t.data.bgActivePosistion=void 0,t.redrawHint("select",!0),t.redraw())}},!1);var Le;t.registerBinding(e,"touchcancel",Le=function(j){var le=t.touchData.start;t.touchData.capture=!1,le&&le.unactivate()});var Ve,it,Rt,Et;if(t.registerBinding(e,"touchend",Ve=function(j){var le=t.touchData.start,be=t.touchData.capture;if(be)j.touches.length===0&&(t.touchData.capture=!1),j.preventDefault();else return;var oe=t.selection;t.swipePanning=!1,t.hoverData.draggingEles=!1;var he=t.cy,Oe=he.zoom(),ke=t.touchData.now,Me=t.touchData.earlier;if(j.touches[0]){var xe=t.projectIntoViewport(j.touches[0].clientX,j.touches[0].clientY);ke[0]=xe[0],ke[1]=xe[1]}if(j.touches[1]){var xe=t.projectIntoViewport(j.touches[1].clientX,j.touches[1].clientY);ke[2]=xe[0],ke[3]=xe[1]}if(j.touches[2]){var xe=t.projectIntoViewport(j.touches[2].clientX,j.touches[2].clientY);ke[4]=xe[0],ke[5]=xe[1]}le&&le.unactivate();var Qe;if(t.touchData.cxt){if(Qe={originalEvent:j,type:"cxttapend",position:{x:ke[0],y:ke[1]}},le?le.emit(Qe):he.emit(Qe),!t.touchData.cxtDragged){var je={originalEvent:j,type:"cxttap",position:{x:ke[0],y:ke[1]}};le?le.emit(je):he.emit(je)}t.touchData.start&&(t.touchData.start._private.grabbed=!1),t.touchData.cxt=!1,t.touchData.start=null,t.redraw();return}if(!j.touches[2]&&he.boxSelectionEnabled()&&t.touchData.selecting){t.touchData.selecting=!1;var rt=he.collection(t.getAllInBox(oe[0],oe[1],oe[2],oe[3]));oe[0]=void 0,oe[1]=void 0,oe[2]=void 0,oe[3]=void 0,oe[4]=0,t.redrawHint("select",!0),he.emit({type:"boxend",originalEvent:j,position:{x:ke[0],y:ke[1]}});var nt=function(Sn){return Sn.selectable()&&!Sn.selected()};rt.emit("box").stdFilter(nt).select().emit("boxselect"),rt.nonempty()&&t.redrawHint("eles",!0),t.redraw()}if(le!=null&&le.unactivate(),j.touches[2])t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);else if(!j.touches[1]){if(!j.touches[0]){if(!j.touches[0]){t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);var Ye=t.dragData.touchDragEles;if(le!=null){var Dt=le._private.grabbed;b(Ye),t.redrawHint("drag",!0),t.redrawHint("eles",!0),Dt&&(le.emit("freeon"),Ye.emit("free"),t.dragData.didDrag&&(le.emit("dragfreeon"),Ye.emit("dragfree"))),a(le,["touchend","tapend","vmouseup","tapdragout"],j,{x:ke[0],y:ke[1]}),le.unactivate(),t.touchData.start=null}else{var Xt=t.findNearestElement(ke[0],ke[1],!0,!0);a(Xt,["touchend","tapend","vmouseup","tapdragout"],j,{x:ke[0],y:ke[1]})}var fn=t.touchData.startPosition[0]-ke[0],jt=fn*fn,Ot=t.touchData.startPosition[1]-ke[1],$t=Ot*Ot,fr=jt+$t,Or=fr*Oe*Oe;t.touchData.singleTouchMoved||(le||he.$(":selected").unselect(["tapunselect"]),a(le,["tap","vclick"],j,{x:ke[0],y:ke[1]}),it=!1,j.timeStamp-Et<=he.multiClickDebounceTime()?(Rt&&clearTimeout(Rt),it=!0,Et=null,a(le,["dbltap","vdblclick"],j,{x:ke[0],y:ke[1]})):(Rt=setTimeout(function(){it||a(le,["onetap","voneclick"],j,{x:ke[0],y:ke[1]})},he.multiClickDebounceTime()),Et=j.timeStamp)),le!=null&&!t.dragData.didDrag&&le._private.selectable&&Or<t.touchTapThreshold2&&!t.pinching&&(he.selectionType()==="single"?(he.$(r).unmerge(le).unselect(["tapunselect"]),le.select(["tapselect"])):le.selected()?le.unselect(["tapunselect"]):le.select(["tapselect"]),t.redrawHint("eles",!0)),t.touchData.singleTouchMoved=!0}}}for(var jr=0;jr<ke.length;jr++)Me[jr]=ke[jr];t.dragData.didDrag=!1,j.touches.length===0&&(t.touchData.dragDelta=[],t.touchData.startPosition=[null,null,null,null,null,null],t.touchData.startGPosition=null,t.touchData.didSelect=!1),j.touches.length<2&&(j.touches.length===1&&(t.touchData.startGPosition=[j.touches[0].clientX,j.touches[0].clientY]),t.pinching=!1,t.redrawHint("eles",!0),t.redraw())},!1),typeof TouchEvent>"u"){var ze=[],Ne=function(j){return{clientX:j.clientX,clientY:j.clientY,force:1,identifier:j.pointerId,pageX:j.pageX,pageY:j.pageY,radiusX:j.width/2,radiusY:j.height/2,screenX:j.screenX,screenY:j.screenY,target:j.target}},Ge=function(j){return{event:j,touch:Ne(j)}},tt=function(j){ze.push(Ge(j))},Ke=function(j){for(var le=0;le<ze.length;le++){var be=ze[le];if(be.event.pointerId===j.pointerId){ze.splice(le,1);return}}},et=function(j){var le=ze.filter(function(be){return be.event.pointerId===j.pointerId})[0];le.event=j,le.touch=Ne(j)},at=function(j){j.touches=ze.map(function(le){return le.touch})},lt=function(j){return j.pointerType==="mouse"||j.pointerType===4};t.registerBinding(t.container,"pointerdown",function(Te){lt(Te)||(Te.preventDefault(),tt(Te),at(Te),ye(Te))}),t.registerBinding(t.container,"pointerup",function(Te){lt(Te)||(Ke(Te),at(Te),Ve(Te))}),t.registerBinding(t.container,"pointercancel",function(Te){lt(Te)||(Ke(Te),at(Te),Le(Te))}),t.registerBinding(t.container,"pointermove",function(Te){lt(Te)||(Te.preventDefault(),et(Te),at(Te),we(Te))})}};var _i={};_i.generatePolygon=function(t,e){return this.nodeShapes[t]={renderer:this,name:t,points:e,draw:function(n,a,i,s,o,l){this.renderer.nodeShapeImpl("polygon",n,a,i,s,o,this.points)},intersectLine:function(n,a,i,s,o,l,u,c){return Fc(o,l,this.points,n,a,i/2,s/2,u)},checkPoint:function(n,a,i,s,o,l,u,c){return bi(n,a,this.points,l,u,s,o,[0,-1],i)}}};_i.generateEllipse=function(){return this.nodeShapes.ellipse={renderer:this,name:"ellipse",draw:function(e,r,n,a,i,s){this.renderer.nodeShapeImpl(this.name,e,r,n,a,i)},intersectLine:function(e,r,n,a,i,s,o,l){return Xq(i,s,e,r,n/2+o,a/2+o)},checkPoint:function(e,r,n,a,i,s,o,l){return Gs(e,r,a,i,s,o,n)}}};_i.generateRoundPolygon=function(t,e){return this.nodeShapes[t]={renderer:this,name:t,points:e,getOrCreateCorners:function(n,a,i,s,o,l,u){if(l[u]!==void 0&&l[u+"-cx"]===n&&l[u+"-cy"]===a)return l[u];l[u]=new Array(e.length/2),l[u+"-cx"]=n,l[u+"-cy"]=a;var c=i/2,f=s/2;o=o==="auto"?bk(i,s):o;for(var d=new Array(e.length/2),p=0;p<e.length/2;p++)d[p]={x:n+c*e[p*2],y:a+f*e[p*2+1]};var g,y,x,b,w=d.length;for(y=d[w-1],g=0;g<w;g++)x=d[g%w],b=d[(g+1)%w],l[u][g]=e4(y,x,b,o),y=x,x=b;return l[u]},draw:function(n,a,i,s,o,l,u){this.renderer.nodeShapeImpl("round-polygon",n,a,i,s,o,this.points,this.getOrCreateCorners(a,i,s,o,l,u,"drawCorners"))},intersectLine:function(n,a,i,s,o,l,u,c,f){return Kq(o,l,this.points,n,a,i,s,u,this.getOrCreateCorners(n,a,i,s,c,f,"corners"))},checkPoint:function(n,a,i,s,o,l,u,c,f){return Yq(n,a,this.points,l,u,s,o,this.getOrCreateCorners(l,u,s,o,c,f,"corners"))}}};_i.generateRoundRectangle=function(){return this.nodeShapes["round-rectangle"]=this.nodeShapes.roundrectangle={renderer:this,name:"round-rectangle",points:mn(4,0),draw:function(e,r,n,a,i,s){this.renderer.nodeShapeImpl(this.name,e,r,n,a,i,this.points,s)},intersectLine:function(e,r,n,a,i,s,o,l){return vk(i,s,e,r,n,a,o,l)},checkPoint:function(e,r,n,a,i,s,o,l){var u=a/2,c=i/2;l=l==="auto"?uo(a,i):l,l=Math.min(u,c,l);var f=l*2;return!!(bi(e,r,this.points,s,o,a,i-f,[0,-1],n)||bi(e,r,this.points,s,o,a-f,i,[0,-1],n)||Gs(e,r,f,f,s-u+l,o-c+l,n)||Gs(e,r,f,f,s+u-l,o-c+l,n)||Gs(e,r,f,f,s+u-l,o+c-l,n)||Gs(e,r,f,f,s-u+l,o+c-l,n))}}};_i.generateCutRectangle=function(){return this.nodeShapes["cut-rectangle"]=this.nodeShapes.cutrectangle={renderer:this,name:"cut-rectangle",cornerLength:V2(),points:mn(4,0),draw:function(e,r,n,a,i,s){this.renderer.nodeShapeImpl(this.name,e,r,n,a,i,null,s)},generateCutTrianglePts:function(e,r,n,a,i){var s=i==="auto"?this.cornerLength:i,o=r/2,l=e/2,u=n-l,c=n+l,f=a-o,d=a+o;return{topLeft:[u,f+s,u+s,f,u+s,f+s],topRight:[c-s,f,c,f+s,c-s,f+s],bottomRight:[c,d-s,c-s,d,c-s,d-s],bottomLeft:[u+s,d,u,d-s,u+s,d-s]}},intersectLine:function(e,r,n,a,i,s,o,l){var u=this.generateCutTrianglePts(n+2*o,a+2*o,e,r,l),c=[].concat.apply([],[u.topLeft.splice(0,4),u.topRight.splice(0,4),u.bottomRight.splice(0,4),u.bottomLeft.splice(0,4)]);return Fc(i,s,c,e,r)},checkPoint:function(e,r,n,a,i,s,o,l){var u=l==="auto"?this.cornerLength:l;if(bi(e,r,this.points,s,o,a,i-2*u,[0,-1],n)||bi(e,r,this.points,s,o,a-2*u,i,[0,-1],n))return!0;var c=this.generateCutTrianglePts(a,i,s,o);return Tn(e,r,c.topLeft)||Tn(e,r,c.topRight)||Tn(e,r,c.bottomRight)||Tn(e,r,c.bottomLeft)}}};_i.generateBarrel=function(){return this.nodeShapes.barrel={renderer:this,name:"barrel",points:mn(4,0),draw:function(e,r,n,a,i,s){this.renderer.nodeShapeImpl(this.name,e,r,n,a,i)},intersectLine:function(e,r,n,a,i,s,o,l){var u=.15,c=.5,f=.85,d=this.generateBarrelBezierPts(n+2*o,a+2*o,e,r),p=function(x){var b=vl({x:x[0],y:x[1]},{x:x[2],y:x[3]},{x:x[4],y:x[5]},u),w=vl({x:x[0],y:x[1]},{x:x[2],y:x[3]},{x:x[4],y:x[5]},c),_=vl({x:x[0],y:x[1]},{x:x[2],y:x[3]},{x:x[4],y:x[5]},f);return[x[0],x[1],b.x,b.y,w.x,w.y,_.x,_.y,x[4],x[5]]},g=[].concat(p(d.topLeft),p(d.topRight),p(d.bottomRight),p(d.bottomLeft));return Fc(i,s,g,e,r)},generateBarrelBezierPts:function(e,r,n,a){var i=r/2,s=e/2,o=n-s,l=n+s,u=a-i,c=a+i,f=F1(e,r),d=f.heightOffset,p=f.widthOffset,g=f.ctrlPtOffsetPct*e,y={topLeft:[o,u+d,o+g,u,o+p,u],topRight:[l-p,u,l-g,u,l,u+d],bottomRight:[l,c-d,l-g,c,l-p,c],bottomLeft:[o+p,c,o+g,c,o,c-d]};return y.topLeft.isTop=!0,y.topRight.isTop=!0,y.bottomLeft.isBottom=!0,y.bottomRight.isBottom=!0,y},checkPoint:function(e,r,n,a,i,s,o,l){var u=F1(a,i),c=u.heightOffset,f=u.widthOffset;if(bi(e,r,this.points,s,o,a,i-2*c,[0,-1],n)||bi(e,r,this.points,s,o,a-2*f,i,[0,-1],n))return!0;for(var d=this.generateBarrelBezierPts(a,i,s,o),p=function(A,R,O){var N=O[4],B=O[2],F=O[0],V=O[5],X=O[1],K=Math.min(N,F),U=Math.max(N,F),H=Math.min(V,X),ee=Math.max(V,X);if(K<=A&&A<=U&&H<=R&&R<=ee){var re=Zq(N,B,F),W=jq(re[0],re[1],re[2],A),Z=W.filter(function(ue){return 0<=ue&&ue<=1});if(Z.length>0)return Z[0]}return null},g=Object.keys(d),y=0;y<g.length;y++){var x=g[y],b=d[x],w=p(e,r,b);if(w!=null){var _=b[5],k=b[3],E=b[1],D=Ir(_,k,E,w);if(b.isTop&&D<=r||b.isBottom&&r<=D)return!0}}return!1}}};_i.generateBottomRoundrectangle=function(){return this.nodeShapes["bottom-round-rectangle"]=this.nodeShapes.bottomroundrectangle={renderer:this,name:"bottom-round-rectangle",points:mn(4,0),draw:function(e,r,n,a,i,s){this.renderer.nodeShapeImpl(this.name,e,r,n,a,i,this.points,s)},intersectLine:function(e,r,n,a,i,s,o,l){var u=e-(n/2+o),c=r-(a/2+o),f=c,d=e+(n/2+o),p=ji(i,s,e,r,u,c,d,f,!1);return p.length>0?p:vk(i,s,e,r,n,a,o,l)},checkPoint:function(e,r,n,a,i,s,o,l){l=l==="auto"?uo(a,i):l;var u=2*l;if(bi(e,r,this.points,s,o,a,i-u,[0,-1],n)||bi(e,r,this.points,s,o,a-u,i,[0,-1],n))return!0;var c=a/2+2*n,f=i/2+2*n,d=[s-c,o-f,s-c,o,s+c,o,s+c,o-f];return!!(Tn(e,r,d)||Gs(e,r,u,u,s+a/2-l,o+i/2-l,n)||Gs(e,r,u,u,s-a/2+l,o+i/2-l,n))}}};_i.registerNodeShapes=function(){var t=this.nodeShapes={},e=this;this.generateEllipse(),this.generatePolygon("triangle",mn(3,0)),this.generateRoundPolygon("round-triangle",mn(3,0)),this.generatePolygon("rectangle",mn(4,0)),t.square=t.rectangle,this.generateRoundRectangle(),this.generateCutRectangle(),this.generateBarrel(),this.generateBottomRoundrectangle();{var r=[0,1,1,0,0,-1,-1,0];this.generatePolygon("diamond",r),this.generateRoundPolygon("round-diamond",r)}this.generatePolygon("pentagon",mn(5,0)),this.generateRoundPolygon("round-pentagon",mn(5,0)),this.generatePolygon("hexagon",mn(6,0)),this.generateRoundPolygon("round-hexagon",mn(6,0)),this.generatePolygon("heptagon",mn(7,0)),this.generateRoundPolygon("round-heptagon",mn(7,0)),this.generatePolygon("octagon",mn(8,0)),this.generateRoundPolygon("round-octagon",mn(8,0));var n=new Array(20);{var a=B1(5,0),i=B1(5,Math.PI/5),s=.5*(3-Math.sqrt(5));s*=1.57;for(var o=0;o<i.length/2;o++)i[o*2]*=s,i[o*2+1]*=s;for(var o=0;o<20/4;o++)n[o*4]=a[o*2],n[o*4+1]=a[o*2+1],n[o*4+2]=i[o*2],n[o*4+3]=i[o*2+1]}n=yk(n),this.generatePolygon("star",n),this.generatePolygon("vee",[-1,-1,0,-.333,1,-1,0,1]),this.generatePolygon("rhomboid",[-1,-1,.333,-1,1,1,-.333,1]),this.generatePolygon("right-rhomboid",[-.333,-1,1,-1,.333,1,-1,1]),this.nodeShapes.concavehexagon=this.generatePolygon("concave-hexagon",[-1,-.95,-.75,0,-1,.95,1,.95,.75,0,1,-.95]);{var l=[-1,-1,.25,-1,1,0,.25,1,-1,1];this.generatePolygon("tag",l),this.generateRoundPolygon("round-tag",l)}t.makePolygon=function(u){var c=u.join("$"),f="polygon-"+c,d;return(d=this[f])?d:e.generatePolygon(f,u)}};var v0={};v0.timeToRender=function(){return this.redrawTotalTime/this.redrawCount};v0.redraw=function(t){t=t||dk();var e=this;e.averageRedrawTime===void 0&&(e.averageRedrawTime=0),e.lastRedrawTime===void 0&&(e.lastRedrawTime=0),e.lastDrawTime===void 0&&(e.lastDrawTime=0),e.requestedFrame=!0,e.renderOptions=t};v0.beforeRender=function(t,e){if(!this.destroyed){e==null&&sr("Priority is not optional for beforeRender");var r=this.beforeRenderCallbacks;r.push({fn:t,priority:e}),r.sort(function(n,a){return a.priority-n.priority})}};var N6=function(e,r,n){for(var a=e.beforeRenderCallbacks,i=0;i<a.length;i++)a[i].fn(r,n)};v0.startRenderLoop=function(){var t=this,e=t.cy;if(!t.renderLoopStarted){t.renderLoopStarted=!0;var r=function(a){if(!t.destroyed){if(!e.batching())if(t.requestedFrame&&!t.skipFrame){N6(t,!0,a);var i=yi();t.render(t.renderOptions);var s=t.lastDrawTime=yi();t.averageRedrawTime===void 0&&(t.averageRedrawTime=s-i),t.redrawCount===void 0&&(t.redrawCount=0),t.redrawCount++,t.redrawTotalTime===void 0&&(t.redrawTotalTime=0);var o=s-i;t.redrawTotalTime+=o,t.lastRedrawTime=o,t.averageRedrawTime=t.averageRedrawTime/2+o/2,t.requestedFrame=!1}else N6(t,!1,a);t.skipFrame=!1,eh(r)}};eh(r)}};var hU=function(e){this.init(e)},yE=hU,eu=yE.prototype;eu.clientFunctions=["redrawHint","render","renderTo","matchCanvasSize","nodeShapeImpl","arrowShapeImpl"];eu.init=function(t){var e=this;e.options=t,e.cy=t.cy;var r=e.container=t.cy.container(),n=e.cy.window();if(n){var a=n.document,i=a.head,s="__________cytoscape_stylesheet",o="__________cytoscape_container",l=a.getElementById(s)!=null;if(r.className.indexOf(o)<0&&(r.className=(r.className||"")+" "+o),!l){var u=a.createElement("style");u.id=s,u.textContent="."+o+" { position: relative; }",i.insertBefore(u,i.children[0])}var c=n.getComputedStyle(r),f=c.getPropertyValue("position");f==="static"&&Lt("A Cytoscape container has style position:static and so can not use UI extensions properly")}e.selection=[void 0,void 0,void 0,void 0,0],e.bezierProjPcts=[.05,.225,.4,.5,.6,.775,.95],e.hoverData={down:null,last:null,downTime:null,triggerMode:null,dragging:!1,initialPan:[null,null],capture:!1},e.dragData={possibleDragElements:[]},e.touchData={start:null,capture:!1,startPosition:[null,null,null,null,null,null],singleTouchStartTime:null,singleTouchMoved:!0,now:[null,null,null,null,null,null],earlier:[null,null,null,null,null,null]},e.redraws=0,e.showFps=t.showFps,e.debug=t.debug,e.webgl=t.webgl,e.hideEdgesOnViewport=t.hideEdgesOnViewport,e.textureOnViewport=t.textureOnViewport,e.wheelSensitivity=t.wheelSensitivity,e.motionBlurEnabled=t.motionBlur,e.forcedPixelRatio=Ie(t.pixelRatio)?t.pixelRatio:null,e.motionBlur=t.motionBlur,e.motionBlurOpacity=t.motionBlurOpacity,e.motionBlurTransparency=1-e.motionBlurOpacity,e.motionBlurPxRatio=1,e.mbPxRBlurry=1,e.minMbLowQualFrames=4,e.fullQualityMb=!1,e.clearedForMotionBlur=[],e.desktopTapThreshold=t.desktopTapThreshold,e.desktopTapThreshold2=t.desktopTapThreshold*t.desktopTapThreshold,e.touchTapThreshold=t.touchTapThreshold,e.touchTapThreshold2=t.touchTapThreshold*t.touchTapThreshold,e.tapholdDuration=500,e.bindings=[],e.beforeRenderCallbacks=[],e.beforeRenderPriorities={animations:400,eleCalcs:300,eleTxrDeq:200,lyrTxrDeq:150,lyrTxrSkip:100},e.registerNodeShapes(),e.registerArrowShapes(),e.registerCalculationListeners()};eu.notify=function(t,e){var r=this,n=r.cy;if(!this.destroyed){if(t==="init"){r.load();return}if(t==="destroy"){r.destroy();return}(t==="add"||t==="remove"||t==="move"&&n.hasCompoundNodes()||t==="load"||t==="zorder"||t==="mount")&&r.invalidateCachedZSortedEles(),t==="viewport"&&r.redrawHint("select",!0),t==="gc"&&r.redrawHint("gc",!0),(t==="load"||t==="resize"||t==="mount")&&(r.invalidateContainerClientCoordsCache(),r.matchCanvasSize(r.container)),r.redrawHint("eles",!0),r.redrawHint("drag",!0),this.startRenderLoop(),this.redraw()}};eu.destroy=function(){var t=this;t.destroyed=!0,t.cy.stopAnimationLoop();for(var e=0;e<t.bindings.length;e++){var r=t.bindings[e],n=r,a=n.target;(a.off||a.removeEventListener).apply(a,n.args)}if(t.bindings=[],t.beforeRenderCallbacks=[],t.onUpdateEleCalcsFns=[],t.removeObserver&&t.removeObserver.disconnect(),t.styleObserver&&t.styleObserver.disconnect(),t.resizeObserver&&t.resizeObserver.disconnect(),t.labelCalcDiv)try{document.body.removeChild(t.labelCalcDiv)}catch{}};eu.isHeadless=function(){return!1};[J2,mE,vE,Jl,_i,v0].forEach(function(t){Je(eu,t)});var nv=1e3/60,bE={setupDequeueing:function(e){return function(){var n=this,a=this.renderer;if(!n.dequeueingSetup){n.dequeueingSetup=!0;var i=d0(function(){a.redrawHint("eles",!0),a.redrawHint("drag",!0),a.redraw()},e.deqRedrawThreshold),s=function(u,c){var f=yi(),d=a.averageRedrawTime,p=a.lastRedrawTime,g=[],y=a.cy.extent(),x=a.getPixelRatio();for(u||a.flushRenderedStyleQueue();;){var b=yi(),w=b-f,_=b-c;if(p<nv){var k=nv-(u?d:0);if(_>=e.deqFastCost*k)break}else if(u){if(w>=e.deqCost*p||w>=e.deqAvgCost*d)break}else if(_>=e.deqNoDrawCost*nv)break;var E=e.deq(n,x,y);if(E.length>0)for(var D=0;D<E.length;D++)g.push(E[D]);else break}g.length>0&&(e.onDeqd(n,g),!u&&e.shouldRedraw(n,g,x,y)&&i())},o=e.priority||F2;a.beforeRender(s,o(n))}}}},pU=function(){function t(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:th;xs(this,t),this.idsByKey=new li,this.keyForId=new li,this.cachesByLvl=new li,this.lvls=[],this.getKey=e,this.doesEleInvalidateKey=r}return ws(t,[{key:"getIdsFor",value:function(r){r==null&&sr("Can not get id list for null key");var n=this.idsByKey,a=this.idsByKey.get(r);return a||(a=new Xl,n.set(r,a)),a}},{key:"addIdForKey",value:function(r,n){r!=null&&this.getIdsFor(r).add(n)}},{key:"deleteIdForKey",value:function(r,n){r!=null&&this.getIdsFor(r).delete(n)}},{key:"getNumberOfIdsForKey",value:function(r){return r==null?0:this.getIdsFor(r).size}},{key:"updateKeyMappingFor",value:function(r){var n=r.id(),a=this.keyForId.get(n),i=this.getKey(r);this.deleteIdForKey(a,n),this.addIdForKey(i,n),this.keyForId.set(n,i)}},{key:"deleteKeyMappingFor",value:function(r){var n=r.id(),a=this.keyForId.get(n);this.deleteIdForKey(a,n),this.keyForId.delete(n)}},{key:"keyHasChangedFor",value:function(r){var n=r.id(),a=this.keyForId.get(n),i=this.getKey(r);return a!==i}},{key:"isInvalid",value:function(r){return this.keyHasChangedFor(r)||this.doesEleInvalidateKey(r)}},{key:"getCachesAt",value:function(r){var n=this.cachesByLvl,a=this.lvls,i=n.get(r);return i||(i=new li,n.set(r,i),a.push(r)),i}},{key:"getCache",value:function(r,n){return this.getCachesAt(n).get(r)}},{key:"get",value:function(r,n){var a=this.getKey(r),i=this.getCache(a,n);return i!=null&&this.updateKeyMappingFor(r),i}},{key:"getForCachedKey",value:function(r,n){var a=this.keyForId.get(r.id()),i=this.getCache(a,n);return i}},{key:"hasCache",value:function(r,n){return this.getCachesAt(n).has(r)}},{key:"has",value:function(r,n){var a=this.getKey(r);return this.hasCache(a,n)}},{key:"setCache",value:function(r,n,a){a.key=r,this.getCachesAt(n).set(r,a)}},{key:"set",value:function(r,n,a){var i=this.getKey(r);this.setCache(i,n,a),this.updateKeyMappingFor(r)}},{key:"deleteCache",value:function(r,n){this.getCachesAt(n).delete(r)}},{key:"delete",value:function(r,n){var a=this.getKey(r);this.deleteCache(a,n)}},{key:"invalidateKey",value:function(r){var n=this;this.lvls.forEach(function(a){return n.deleteCache(r,a)})}},{key:"invalidate",value:function(r){var n=r.id(),a=this.keyForId.get(n);this.deleteKeyMappingFor(r);var i=this.doesEleInvalidateKey(r);return i&&this.invalidateKey(a),i||this.getNumberOfIdsForKey(a)===0}}])}(),z6=25,Mf=50,ud=-4,Q1=3,xE=7.99,gU=8,mU=1024,vU=1024,yU=1024,bU=.2,xU=.8,wU=10,_U=.15,SU=.1,kU=.9,EU=.9,CU=100,TU=1,sl={dequeue:"dequeue",downscale:"downscale",highQuality:"highQuality"},MU=Lr({getKey:null,doesEleInvalidateKey:th,drawElement:null,getBoundingBox:null,getRotationPoint:null,getRotationOffset:null,isVisible:uk,allowEdgeTxrCaching:!0,allowParentTxrCaching:!0}),qu=function(e,r){var n=this;n.renderer=e,n.onDequeues=[];var a=MU(r);Je(n,a),n.lookup=new pU(a.getKey,a.doesEleInvalidateKey),n.setupDequeueing()},Rr=qu.prototype;Rr.reasons=sl;Rr.getTextureQueue=function(t){var e=this;return e.eleImgCaches=e.eleImgCaches||{},e.eleImgCaches[t]=e.eleImgCaches[t]||[]};Rr.getRetiredTextureQueue=function(t){var e=this,r=e.eleImgCaches.retired=e.eleImgCaches.retired||{},n=r[t]=r[t]||[];return n};Rr.getElementQueue=function(){var t=this,e=t.eleCacheQueue=t.eleCacheQueue||new h0(function(r,n){return n.reqs-r.reqs});return e};Rr.getElementKeyToQueue=function(){var t=this,e=t.eleKeyToCacheQueue=t.eleKeyToCacheQueue||{};return e};Rr.getElement=function(t,e,r,n,a){var i=this,s=this.renderer,o=s.cy.zoom(),l=this.lookup;if(!e||e.w===0||e.h===0||isNaN(e.w)||isNaN(e.h)||!t.visible()||t.removed()||!i.allowEdgeTxrCaching&&t.isEdge()||!i.allowParentTxrCaching&&t.isParent())return null;if(n==null&&(n=Math.ceil(q2(o*r))),n<ud)n=ud;else if(o>=xE||n>Q1)return null;var u=Math.pow(2,n),c=e.h*u,f=e.w*u,d=s.eleTextBiggerThanMin(t,u);if(!this.isVisible(t,d))return null;var p=l.get(t,n);if(p&&p.invalidated&&(p.invalidated=!1,p.texture.invalidatedWidth-=p.width),p)return p;var g;if(c<=z6?g=z6:c<=Mf?g=Mf:g=Math.ceil(c/Mf)*Mf,c>yU||f>vU)return null;var y=i.getTextureQueue(g),x=y[y.length-2],b=function(){return i.recycleTexture(g,f)||i.addTexture(g,f)};x||(x=y[y.length-1]),x||(x=b()),x.width-x.usedWidth<f&&(x=b());for(var w=function(K){return K&&K.scaledLabelShown===d},_=a&&a===sl.dequeue,k=a&&a===sl.highQuality,E=a&&a===sl.downscale,D,M=n+1;M<=Q1;M++){var A=l.get(t,M);if(A){D=A;break}}var R=D&&D.level===n+1?D:null,O=function(){x.context.drawImage(R.texture.canvas,R.x,0,R.width,R.height,x.usedWidth,0,f,c)};if(x.context.setTransform(1,0,0,1,0,0),x.context.clearRect(x.usedWidth,0,f,g),w(R))O();else if(w(D))if(k){for(var N=D.level;N>n;N--)R=i.getElement(t,e,r,N,sl.downscale);O()}else return i.queueElement(t,D.level-1),D;else{var B;if(!_&&!k&&!E)for(var F=n-1;F>=ud;F--){var V=l.get(t,F);if(V){B=V;break}}if(w(B))return i.queueElement(t,n),B;x.context.translate(x.usedWidth,0),x.context.scale(u,u),this.drawElement(x.context,t,e,d,!1),x.context.scale(1/u,1/u),x.context.translate(-x.usedWidth,0)}return p={x:x.usedWidth,texture:x,level:n,scale:u,width:f,height:c,scaledLabelShown:d},x.usedWidth+=Math.ceil(f+gU),x.eleCaches.push(p),l.set(t,n,p),i.checkTextureFullness(x),p};Rr.invalidateElements=function(t){for(var e=0;e<t.length;e++)this.invalidateElement(t[e])};Rr.invalidateElement=function(t){var e=this,r=e.lookup,n=[],a=r.isInvalid(t);if(a){for(var i=ud;i<=Q1;i++){var s=r.getForCachedKey(t,i);s&&n.push(s)}var o=r.invalidate(t);if(o)for(var l=0;l<n.length;l++){var u=n[l],c=u.texture;c.invalidatedWidth+=u.width,u.invalidated=!0,e.checkTextureUtility(c)}e.removeFromQueue(t)}};Rr.checkTextureUtility=function(t){t.invalidatedWidth>=bU*t.width&&this.retireTexture(t)};Rr.checkTextureFullness=function(t){var e=this,r=e.getTextureQueue(t.height);t.usedWidth/t.width>xU&&t.fullnessChecks>=wU?fs(r,t):t.fullnessChecks++};Rr.retireTexture=function(t){var e=this,r=t.height,n=e.getTextureQueue(r),a=this.lookup;fs(n,t),t.retired=!0;for(var i=t.eleCaches,s=0;s<i.length;s++){var o=i[s];a.deleteCache(o.key,o.level)}$2(i);var l=e.getRetiredTextureQueue(r);l.push(t)};Rr.addTexture=function(t,e){var r=this,n=r.getTextureQueue(t),a={};return n.push(a),a.eleCaches=[],a.height=t,a.width=Math.max(mU,e),a.usedWidth=0,a.invalidatedWidth=0,a.fullnessChecks=0,a.canvas=r.renderer.makeOffscreenCanvas(a.width,a.height),a.context=a.canvas.getContext("2d"),a};Rr.recycleTexture=function(t,e){for(var r=this,n=r.getTextureQueue(t),a=r.getRetiredTextureQueue(t),i=0;i<a.length;i++){var s=a[i];if(s.width>=e)return s.retired=!1,s.usedWidth=0,s.invalidatedWidth=0,s.fullnessChecks=0,$2(s.eleCaches),s.context.setTransform(1,0,0,1,0,0),s.context.clearRect(0,0,s.width,s.height),fs(a,s),n.push(s),s}};Rr.queueElement=function(t,e){var r=this,n=r.getElementQueue(),a=r.getElementKeyToQueue(),i=this.getKey(t),s=a[i];if(s)s.level=Math.max(s.level,e),s.eles.merge(t),s.reqs++,n.updateItem(s);else{var o={eles:t.spawn().merge(t),level:e,reqs:1,key:i};n.push(o),a[i]=o}};Rr.dequeue=function(t){for(var e=this,r=e.getElementQueue(),n=e.getElementKeyToQueue(),a=[],i=e.lookup,s=0;s<TU&&r.size()>0;s++){var o=r.pop(),l=o.key,u=o.eles[0],c=i.hasCache(u,o.level);if(n[l]=null,c)continue;a.push(o);var f=e.getBoundingBox(u);e.getElement(u,f,t,o.level,sl.dequeue)}return a};Rr.removeFromQueue=function(t){var e=this,r=e.getElementQueue(),n=e.getElementKeyToQueue(),a=this.getKey(t),i=n[a];i!=null&&(i.eles.length===1?(i.reqs=B2,r.updateItem(i),r.pop(),n[a]=null):i.eles.unmerge(t))};Rr.onDequeue=function(t){this.onDequeues.push(t)};Rr.offDequeue=function(t){fs(this.onDequeues,t)};Rr.setupDequeueing=bE.setupDequeueing({deqRedrawThreshold:CU,deqCost:_U,deqAvgCost:SU,deqNoDrawCost:kU,deqFastCost:EU,deq:function(e,r,n){return e.dequeue(r,n)},onDeqd:function(e,r){for(var n=0;n<e.onDequeues.length;n++){var a=e.onDequeues[n];a(r)}},shouldRedraw:function(e,r,n,a){for(var i=0;i<r.length;i++)for(var s=r[i].eles,o=0;o<s.length;o++){var l=s[o].boundingBox();if(H2(l,a))return!0}return!1},priority:function(e){return e.renderer.beforeRenderPriorities.eleTxrDeq}});var DU=1,ic=-4,uh=2,PU=3.99,AU=50,LU=50,RU=.15,OU=.1,IU=.9,NU=.9,zU=1,B6=250,BU=4e3*4e3,F6=32767,FU=!0,wE=function(e){var r=this,n=r.renderer=e,a=n.cy;r.layersByLevel={},r.firstGet=!0,r.lastInvalidationTime=yi()-2*B6,r.skipping=!1,r.eleTxrDeqs=a.collection(),r.scheduleElementRefinement=d0(function(){r.refineElementTextures(r.eleTxrDeqs),r.eleTxrDeqs.unmerge(r.eleTxrDeqs)},LU),n.beforeRender(function(s,o){o-r.lastInvalidationTime<=B6?r.skipping=!0:r.skipping=!1},n.beforeRenderPriorities.lyrTxrSkip);var i=function(o,l){return l.reqs-o.reqs};r.layersQueue=new h0(i),r.setupDequeueing()},Jr=wE.prototype,$6=0,$U=Math.pow(2,53)-1;Jr.makeLayer=function(t,e){var r=Math.pow(2,e),n=Math.ceil(t.w*r),a=Math.ceil(t.h*r),i=this.renderer.makeOffscreenCanvas(n,a),s={id:$6=++$6%$U,bb:t,level:e,width:n,height:a,canvas:i,context:i.getContext("2d"),eles:[],elesQueue:[],reqs:0},o=s.context,l=-s.bb.x1,u=-s.bb.y1;return o.scale(r,r),o.translate(l,u),s};Jr.getLayers=function(t,e,r){var n=this,a=n.renderer,i=a.cy,s=i.zoom(),o=n.firstGet;if(n.firstGet=!1,r==null){if(r=Math.ceil(q2(s*e)),r<ic)r=ic;else if(s>=PU||r>uh)return null}n.validateLayersElesOrdering(r,t);var l=n.layersByLevel,u=Math.pow(2,r),c=l[r]=l[r]||[],f,d=n.levelIsComplete(r,t),p,g=function(){var O=function(X){if(n.validateLayersElesOrdering(X,t),n.levelIsComplete(X,t))return p=l[X],!0},N=function(X){if(!p)for(var K=r+X;ic<=K&&K<=uh&&!O(K);K+=X);};N(1),N(-1);for(var B=c.length-1;B>=0;B--){var F=c[B];F.invalid&&fs(c,F)}};if(!d)g();else return c;var y=function(){if(!f){f=Rn();for(var O=0;O<t.length;O++)gk(f,t[O].boundingBox())}return f},x=function(O){O=O||{};var N=O.after;y();var B=Math.ceil(f.w*u),F=Math.ceil(f.h*u);if(B>F6||F>F6)return null;var V=B*F;if(V>BU)return null;var X=n.makeLayer(f,r);if(N!=null){var K=c.indexOf(N)+1;c.splice(K,0,X)}else(O.insert===void 0||O.insert)&&c.unshift(X);return X};if(n.skipping&&!o)return null;for(var b=null,w=t.length/DU,_=!o,k=0;k<t.length;k++){var E=t[k],D=E._private.rscratch,M=D.imgLayerCaches=D.imgLayerCaches||{},A=M[r];if(A){b=A;continue}if((!b||b.eles.length>=w||!mk(b.bb,E.boundingBox()))&&(b=x({insert:!0,after:b}),!b))return null;p||_?n.queueLayer(b,E):n.drawEleInLayer(b,E,r,e),b.eles.push(E),M[r]=b}return p||(_?null:c)};Jr.getEleLevelForLayerLevel=function(t,e){return t};Jr.drawEleInLayer=function(t,e,r,n){var a=this,i=this.renderer,s=t.context,o=e.boundingBox();o.w===0||o.h===0||!e.visible()||(r=a.getEleLevelForLayerLevel(r,n),i.setImgSmoothing(s,!1),i.drawCachedElement(s,e,null,null,r,FU),i.setImgSmoothing(s,!0))};Jr.levelIsComplete=function(t,e){var r=this,n=r.layersByLevel[t];if(!n||n.length===0)return!1;for(var a=0,i=0;i<n.length;i++){var s=n[i];if(s.reqs>0||s.invalid)return!1;a+=s.eles.length}return a===e.length};Jr.validateLayersElesOrdering=function(t,e){var r=this.layersByLevel[t];if(r)for(var n=0;n<r.length;n++){for(var a=r[n],i=-1,s=0;s<e.length;s++)if(a.eles[0]===e[s]){i=s;break}if(i<0){this.invalidateLayer(a);continue}for(var o=i,s=0;s<a.eles.length;s++)if(a.eles[s]!==e[o+s]){this.invalidateLayer(a);break}}};Jr.updateElementsInLayers=function(t,e){for(var r=this,n=l0(t[0]),a=0;a<t.length;a++)for(var i=n?null:t[a],s=n?t[a]:t[a].ele,o=s._private.rscratch,l=o.imgLayerCaches=o.imgLayerCaches||{},u=ic;u<=uh;u++){var c=l[u];c&&(i&&r.getEleLevelForLayerLevel(c.level)!==i.level||e(c,s,i))}};Jr.haveLayers=function(){for(var t=this,e=!1,r=ic;r<=uh;r++){var n=t.layersByLevel[r];if(n&&n.length>0){e=!0;break}}return e};Jr.invalidateElements=function(t){var e=this;t.length!==0&&(e.lastInvalidationTime=yi(),!(t.length===0||!e.haveLayers())&&e.updateElementsInLayers(t,function(n,a,i){e.invalidateLayer(n)}))};Jr.invalidateLayer=function(t){if(this.lastInvalidationTime=yi(),!t.invalid){var e=t.level,r=t.eles,n=this.layersByLevel[e];fs(n,t),t.elesQueue=[],t.invalid=!0,t.replacement&&(t.replacement.invalid=!0);for(var a=0;a<r.length;a++){var i=r[a]._private.rscratch.imgLayerCaches;i&&(i[e]=null)}}};Jr.refineElementTextures=function(t){var e=this;e.updateElementsInLayers(t,function(n,a,i){var s=n.replacement;if(s||(s=n.replacement=e.makeLayer(n.bb,n.level),s.replaces=n,s.eles=n.eles),!s.reqs)for(var o=0;o<s.eles.length;o++)e.queueLayer(s,s.eles[o])})};Jr.enqueueElementRefinement=function(t){this.eleTxrDeqs.merge(t),this.scheduleElementRefinement()};Jr.queueLayer=function(t,e){var r=this,n=r.layersQueue,a=t.elesQueue,i=a.hasId=a.hasId||{};if(!t.replacement){if(e){if(i[e.id()])return;a.push(e),i[e.id()]=!0}t.reqs?(t.reqs++,n.updateItem(t)):(t.reqs=1,n.push(t))}};Jr.dequeue=function(t){for(var e=this,r=e.layersQueue,n=[],a=0;a<zU&&r.size()!==0;){var i=r.peek();if(i.replacement){r.pop();continue}if(i.replaces&&i!==i.replaces.replacement){r.pop();continue}if(i.invalid){r.pop();continue}var s=i.elesQueue.shift();s&&(e.drawEleInLayer(i,s,i.level,t),a++),n.length===0&&n.push(!0),i.elesQueue.length===0&&(r.pop(),i.reqs=0,i.replaces&&e.applyLayerReplacement(i),e.requestRedraw())}return n};Jr.applyLayerReplacement=function(t){var e=this,r=e.layersByLevel[t.level],n=t.replaces,a=r.indexOf(n);if(!(a<0||n.invalid)){r[a]=t;for(var i=0;i<t.eles.length;i++){var s=t.eles[i]._private,o=s.imgLayerCaches=s.imgLayerCaches||{};o&&(o[t.level]=t)}e.requestRedraw()}};Jr.requestRedraw=d0(function(){var t=this.renderer;t.redrawHint("eles",!0),t.redrawHint("drag",!0),t.redraw()},100);Jr.setupDequeueing=bE.setupDequeueing({deqRedrawThreshold:AU,deqCost:RU,deqAvgCost:OU,deqNoDrawCost:IU,deqFastCost:NU,deq:function(e,r){return e.dequeue(r)},onDeqd:F2,shouldRedraw:uk,priority:function(e){return e.renderer.beforeRenderPriorities.lyrTxrDeq}});var _E={},q6;function qU(t,e){for(var r=0;r<e.length;r++){var n=e[r];t.lineTo(n.x,n.y)}}function HU(t,e,r){for(var n,a=0;a<e.length;a++){var i=e[a];a===0&&(n=i),t.lineTo(i.x,i.y)}t.quadraticCurveTo(r.x,r.y,n.x,n.y)}function H6(t,e,r){t.beginPath&&t.beginPath();for(var n=e,a=0;a<n.length;a++){var i=n[a];t.lineTo(i.x,i.y)}var s=r,o=r[0];t.moveTo(o.x,o.y);for(var a=1;a<s.length;a++){var i=s[a];t.lineTo(i.x,i.y)}t.closePath&&t.closePath()}function VU(t,e,r,n,a){t.beginPath&&t.beginPath(),t.arc(r,n,a,0,Math.PI*2,!1);var i=e,s=i[0];t.moveTo(s.x,s.y);for(var o=0;o<i.length;o++){var l=i[o];t.lineTo(l.x,l.y)}t.closePath&&t.closePath()}function jU(t,e,r,n){t.arc(e,r,n,0,Math.PI*2,!1)}_E.arrowShapeImpl=function(t){return(q6||(q6={polygon:qU,"triangle-backcurve":HU,"triangle-tee":H6,"circle-triangle":VU,"triangle-cross":H6,circle:jU}))[t]};var ja={};ja.drawElement=function(t,e,r,n,a,i){var s=this;e.isNode()?s.drawNode(t,e,r,n,a,i):s.drawEdge(t,e,r,n,a,i)};ja.drawElementOverlay=function(t,e){var r=this;e.isNode()?r.drawNodeOverlay(t,e):r.drawEdgeOverlay(t,e)};ja.drawElementUnderlay=function(t,e){var r=this;e.isNode()?r.drawNodeUnderlay(t,e):r.drawEdgeUnderlay(t,e)};ja.drawCachedElementPortion=function(t,e,r,n,a,i,s,o){var l=this,u=r.getBoundingBox(e);if(!(u.w===0||u.h===0)){var c=r.getElement(e,u,n,a,i);if(c!=null){var f=o(l,e);if(f===0)return;var d=s(l,e),p=u.x1,g=u.y1,y=u.w,x=u.h,b,w,_,k,E;if(d!==0){var D=r.getRotationPoint(e);_=D.x,k=D.y,t.translate(_,k),t.rotate(d),E=l.getImgSmoothing(t),E||l.setImgSmoothing(t,!0);var M=r.getRotationOffset(e);b=M.x,w=M.y}else b=p,w=g;var A;f!==1&&(A=t.globalAlpha,t.globalAlpha=A*f),t.drawImage(c.texture.canvas,c.x,0,c.width,c.height,b,w,y,x),f!==1&&(t.globalAlpha=A),d!==0&&(t.rotate(-d),t.translate(-_,-k),E||l.setImgSmoothing(t,!1))}else r.drawElement(t,e)}};var UU=function(){return 0},WU=function(e,r){return e.getTextAngle(r,null)},GU=function(e,r){return e.getTextAngle(r,"source")},YU=function(e,r){return e.getTextAngle(r,"target")},XU=function(e,r){return r.effectiveOpacity()},av=function(e,r){return r.pstyle("text-opacity").pfValue*r.effectiveOpacity()};ja.drawCachedElement=function(t,e,r,n,a,i){var s=this,o=s.data,l=o.eleTxrCache,u=o.lblTxrCache,c=o.slbTxrCache,f=o.tlbTxrCache,d=e.boundingBox(),p=i===!0?l.reasons.highQuality:null;if(!(d.w===0||d.h===0||!e.visible())&&(!n||H2(d,n))){var g=e.isEdge(),y=e.element()._private.rscratch.badLine;s.drawElementUnderlay(t,e),s.drawCachedElementPortion(t,e,l,r,a,p,UU,XU),(!g||!y)&&s.drawCachedElementPortion(t,e,u,r,a,p,WU,av),g&&!y&&(s.drawCachedElementPortion(t,e,c,r,a,p,GU,av),s.drawCachedElementPortion(t,e,f,r,a,p,YU,av)),s.drawElementOverlay(t,e)}};ja.drawElements=function(t,e){for(var r=this,n=0;n<e.length;n++){var a=e[n];r.drawElement(t,a)}};ja.drawCachedElements=function(t,e,r,n){for(var a=this,i=0;i<e.length;i++){var s=e[i];a.drawCachedElement(t,s,r,n)}};ja.drawCachedNodes=function(t,e,r,n){for(var a=this,i=0;i<e.length;i++){var s=e[i];s.isNode()&&a.drawCachedElement(t,s,r,n)}};ja.drawLayeredElements=function(t,e,r,n){var a=this,i=a.data.lyrTxrCache.getLayers(e,r);if(i)for(var s=0;s<i.length;s++){var o=i[s],l=o.bb;l.w===0||l.h===0||t.drawImage(o.canvas,l.x1,l.y1,l.w,l.h)}else a.drawCachedElements(t,e,r,n)};var Si={};Si.drawEdge=function(t,e,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,i=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,s=this,o=e._private.rscratch;if(!(i&&!e.visible())&&!(o.badLine||o.allpts==null||isNaN(o.allpts[0]))){var l;r&&(l=r,t.translate(-l.x1,-l.y1));var u=i?e.pstyle("opacity").value:1,c=i?e.pstyle("line-opacity").value:1,f=e.pstyle("curve-style").value,d=e.pstyle("line-style").value,p=e.pstyle("width").pfValue,g=e.pstyle("line-cap").value,y=e.pstyle("line-outline-width").value,x=e.pstyle("line-outline-color").value,b=u*c,w=u*c,_=function(){var X=arguments.length>0&&arguments[0]!==void 0?arguments[0]:b;f==="straight-triangle"?(s.eleStrokeStyle(t,e,X),s.drawEdgeTrianglePath(e,t,o.allpts)):(t.lineWidth=p,t.lineCap=g,s.eleStrokeStyle(t,e,X),s.drawEdgePath(e,t,o.allpts,d),t.lineCap="butt")},k=function(){var X=arguments.length>0&&arguments[0]!==void 0?arguments[0]:b;if(t.lineWidth=p+y,t.lineCap=g,y>0)s.colorStrokeStyle(t,x[0],x[1],x[2],X);else{t.lineCap="butt";return}f==="straight-triangle"?s.drawEdgeTrianglePath(e,t,o.allpts):(s.drawEdgePath(e,t,o.allpts,d),t.lineCap="butt")},E=function(){a&&s.drawEdgeOverlay(t,e)},D=function(){a&&s.drawEdgeUnderlay(t,e)},M=function(){var X=arguments.length>0&&arguments[0]!==void 0?arguments[0]:w;s.drawArrowheads(t,e,X)},A=function(){s.drawElementText(t,e,null,n)};t.lineJoin="round";var R=e.pstyle("ghost").value==="yes";if(R){var O=e.pstyle("ghost-offset-x").pfValue,N=e.pstyle("ghost-offset-y").pfValue,B=e.pstyle("ghost-opacity").value,F=b*B;t.translate(O,N),_(F),M(F),t.translate(-O,-N)}else k();D(),_(),M(),E(),A(),r&&t.translate(l.x1,l.y1)}};var SE=function(e){if(!["overlay","underlay"].includes(e))throw new Error("Invalid state");return function(r,n){if(n.visible()){var a=n.pstyle("".concat(e,"-opacity")).value;if(a!==0){var i=this,s=i.usePaths(),o=n._private.rscratch,l=n.pstyle("".concat(e,"-padding")).pfValue,u=2*l,c=n.pstyle("".concat(e,"-color")).value;r.lineWidth=u,o.edgeType==="self"&&!s?r.lineCap="butt":r.lineCap="round",i.colorStrokeStyle(r,c[0],c[1],c[2],a),i.drawEdgePath(n,r,o.allpts,"solid")}}}};Si.drawEdgeOverlay=SE("overlay");Si.drawEdgeUnderlay=SE("underlay");Si.drawEdgePath=function(t,e,r,n){var a=t._private.rscratch,i=e,s,o=!1,l=this.usePaths(),u=t.pstyle("line-dash-pattern").pfValue,c=t.pstyle("line-dash-offset").pfValue;if(l){var f=r.join("$"),d=a.pathCacheKey&&a.pathCacheKey===f;d?(s=e=a.pathCache,o=!0):(s=e=new Path2D,a.pathCacheKey=f,a.pathCache=s)}if(i.setLineDash)switch(n){case"dotted":i.setLineDash([1,1]);break;case"dashed":i.setLineDash(u),i.lineDashOffset=c;break;case"solid":i.setLineDash([]);break}if(!o&&!a.badLine)switch(e.beginPath&&e.beginPath(),e.moveTo(r[0],r[1]),a.edgeType){case"bezier":case"self":case"compound":case"multibezier":for(var p=2;p+3<r.length;p+=4)e.quadraticCurveTo(r[p],r[p+1],r[p+2],r[p+3]);break;case"straight":case"haystack":for(var g=2;g+1<r.length;g+=2)e.lineTo(r[g],r[g+1]);break;case"segments":if(a.isRound){var y=va(a.roundCorners),x;try{for(y.s();!(x=y.n()).done;){var b=x.value;fE(e,b)}}catch(_){y.e(_)}finally{y.f()}e.lineTo(r[r.length-2],r[r.length-1])}else for(var w=2;w+1<r.length;w+=2)e.lineTo(r[w],r[w+1]);break}e=i,l?e.stroke(s):e.stroke(),e.setLineDash&&e.setLineDash([])};Si.drawEdgeTrianglePath=function(t,e,r){e.fillStyle=e.strokeStyle;for(var n=t.pstyle("width").pfValue,a=0;a+1<r.length;a+=2){var i=[r[a+2]-r[a],r[a+3]-r[a+1]],s=Math.sqrt(i[0]*i[0]+i[1]*i[1]),o=[i[1]/s,-i[0]/s],l=[o[0]*n/2,o[1]*n/2];e.beginPath(),e.moveTo(r[a]-l[0],r[a+1]-l[1]),e.lineTo(r[a]+l[0],r[a+1]+l[1]),e.lineTo(r[a+2],r[a+3]),e.closePath(),e.fill()}};Si.drawArrowheads=function(t,e,r){var n=e._private.rscratch,a=n.edgeType==="haystack";a||this.drawArrowhead(t,e,"source",n.arrowStartX,n.arrowStartY,n.srcArrowAngle,r),this.drawArrowhead(t,e,"mid-target",n.midX,n.midY,n.midtgtArrowAngle,r),this.drawArrowhead(t,e,"mid-source",n.midX,n.midY,n.midsrcArrowAngle,r),a||this.drawArrowhead(t,e,"target",n.arrowEndX,n.arrowEndY,n.tgtArrowAngle,r)};Si.drawArrowhead=function(t,e,r,n,a,i,s){if(!(isNaN(n)||n==null||isNaN(a)||a==null||isNaN(i)||i==null)){var o=this,l=e.pstyle(r+"-arrow-shape").value;if(l!=="none"){var u=e.pstyle(r+"-arrow-fill").value==="hollow"?"both":"filled",c=e.pstyle(r+"-arrow-fill").value,f=e.pstyle("width").pfValue,d=e.pstyle(r+"-arrow-width"),p=d.value==="match-line"?f:d.pfValue;d.units==="%"&&(p*=f);var g=e.pstyle("opacity").value;s===void 0&&(s=g);var y=t.globalCompositeOperation;(s!==1||c==="hollow")&&(t.globalCompositeOperation="destination-out",o.colorFillStyle(t,255,255,255,1),o.colorStrokeStyle(t,255,255,255,1),o.drawArrowShape(e,t,u,f,l,p,n,a,i),t.globalCompositeOperation=y);var x=e.pstyle(r+"-arrow-color").value;o.colorFillStyle(t,x[0],x[1],x[2],s),o.colorStrokeStyle(t,x[0],x[1],x[2],s),o.drawArrowShape(e,t,c,f,l,p,n,a,i)}}};Si.drawArrowShape=function(t,e,r,n,a,i,s,o,l){var u=this,c=this.usePaths()&&a!=="triangle-cross",f=!1,d,p=e,g={x:s,y:o},y=t.pstyle("arrow-scale").value,x=this.getArrowWidth(n,y),b=u.arrowShapes[a];if(c){var w=u.arrowPathCache=u.arrowPathCache||[],_=cs(a),k=w[_];k!=null?(d=e=k,f=!0):(d=e=new Path2D,w[_]=d)}f||(e.beginPath&&e.beginPath(),c?b.draw(e,1,0,{x:0,y:0},1):b.draw(e,x,l,g,n),e.closePath&&e.closePath()),e=p,c&&(e.translate(s,o),e.rotate(l),e.scale(x,x)),(r==="filled"||r==="both")&&(c?e.fill(d):e.fill()),(r==="hollow"||r==="both")&&(e.lineWidth=i/(c?x:1),e.lineJoin="miter",c?e.stroke(d):e.stroke()),c&&(e.scale(1/x,1/x),e.rotate(-l),e.translate(-s,-o))};var r4={};r4.safeDrawImage=function(t,e,r,n,a,i,s,o,l,u){if(!(a<=0||i<=0||l<=0||u<=0))try{t.drawImage(e,r,n,a,i,s,o,l,u)}catch(c){Lt(c)}};r4.drawInscribedImage=function(t,e,r,n,a){var i=this,s=r.position(),o=s.x,l=s.y,u=r.cy().style(),c=u.getIndexedStyle.bind(u),f=c(r,"background-fit","value",n),d=c(r,"background-repeat","value",n),p=r.width(),g=r.height(),y=r.padding()*2,x=p+(c(r,"background-width-relative-to","value",n)==="inner"?0:y),b=g+(c(r,"background-height-relative-to","value",n)==="inner"?0:y),w=r._private.rscratch,_=c(r,"background-clip","value",n),k=_==="node",E=c(r,"background-image-opacity","value",n)*a,D=c(r,"background-image-smoothing","value",n),M=r.pstyle("corner-radius").value;M!=="auto"&&(M=r.pstyle("corner-radius").pfValue);var A=e.width||e.cachedW,R=e.height||e.cachedH;(A==null||R==null)&&(document.body.appendChild(e),A=e.cachedW=e.width||e.offsetWidth,R=e.cachedH=e.height||e.offsetHeight,document.body.removeChild(e));var O=A,N=R;if(c(r,"background-width","value",n)!=="auto"&&(c(r,"background-width","units",n)==="%"?O=c(r,"background-width","pfValue",n)*x:O=c(r,"background-width","pfValue",n)),c(r,"background-height","value",n)!=="auto"&&(c(r,"background-height","units",n)==="%"?N=c(r,"background-height","pfValue",n)*b:N=c(r,"background-height","pfValue",n)),!(O===0||N===0)){if(f==="contain"){var B=Math.min(x/O,b/N);O*=B,N*=B}else if(f==="cover"){var B=Math.max(x/O,b/N);O*=B,N*=B}var F=o-x/2,V=c(r,"background-position-x","units",n),X=c(r,"background-position-x","pfValue",n);V==="%"?F+=(x-O)*X:F+=X;var K=c(r,"background-offset-x","units",n),U=c(r,"background-offset-x","pfValue",n);K==="%"?F+=(x-O)*U:F+=U;var H=l-b/2,ee=c(r,"background-position-y","units",n),re=c(r,"background-position-y","pfValue",n);ee==="%"?H+=(b-N)*re:H+=re;var W=c(r,"background-offset-y","units",n),Z=c(r,"background-offset-y","pfValue",n);W==="%"?H+=(b-N)*Z:H+=Z,w.pathCache&&(F-=o,H-=l,o=0,l=0);var ue=t.globalAlpha;t.globalAlpha=E;var pe=i.getImgSmoothing(t),ge=!1;if(D==="no"&&pe?(i.setImgSmoothing(t,!1),ge=!0):D==="yes"&&!pe&&(i.setImgSmoothing(t,!0),ge=!0),d==="no-repeat")k&&(t.save(),w.pathCache?t.clip(w.pathCache):(i.nodeShapes[i.getNodeShape(r)].draw(t,o,l,x,b,M,w),t.clip())),i.safeDrawImage(t,e,0,0,A,R,F,H,O,N),k&&t.restore();else{var fe=t.createPattern(e,d);t.fillStyle=fe,i.nodeShapes[i.getNodeShape(r)].draw(t,o,l,x,b,M,w),t.translate(F,H),t.fill(),t.translate(-F,-H)}t.globalAlpha=ue,ge&&i.setImgSmoothing(t,pe)}};var xo={};xo.eleTextBiggerThanMin=function(t,e){if(!e){var r=t.cy().zoom(),n=this.getPixelRatio(),a=Math.ceil(q2(r*n));e=Math.pow(2,a)}var i=t.pstyle("font-size").pfValue*e,s=t.pstyle("min-zoomed-font-size").pfValue;return!(i<s)};xo.drawElementText=function(t,e,r,n,a){var i=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,s=this;if(n==null){if(i&&!s.eleTextBiggerThanMin(e))return}else if(n===!1)return;if(e.isNode()){var o=e.pstyle("label");if(!o||!o.value)return;var l=s.getLabelJustification(e);t.textAlign=l,t.textBaseline="bottom"}else{var u=e.element()._private.rscratch.badLine,c=e.pstyle("label"),f=e.pstyle("source-label"),d=e.pstyle("target-label");if(u||(!c||!c.value)&&(!f||!f.value)&&(!d||!d.value))return;t.textAlign="center",t.textBaseline="bottom"}var p=!r,g;r&&(g=r,t.translate(-g.x1,-g.y1)),a==null?(s.drawText(t,e,null,p,i),e.isEdge()&&(s.drawText(t,e,"source",p,i),s.drawText(t,e,"target",p,i))):s.drawText(t,e,a,p,i),r&&t.translate(g.x1,g.y1)};xo.getFontCache=function(t){var e;this.fontCaches=this.fontCaches||[];for(var r=0;r<this.fontCaches.length;r++)if(e=this.fontCaches[r],e.context===t)return e;return e={context:t},this.fontCaches.push(e),e};xo.setupTextStyle=function(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,n=e.pstyle("font-style").strValue,a=e.pstyle("font-size").pfValue+"px",i=e.pstyle("font-family").strValue,s=e.pstyle("font-weight").strValue,o=r?e.effectiveOpacity()*e.pstyle("text-opacity").value:1,l=e.pstyle("text-outline-opacity").value*o,u=e.pstyle("color").value,c=e.pstyle("text-outline-color").value;t.font=n+" "+s+" "+a+" "+i,t.lineJoin="round",this.colorFillStyle(t,u[0],u[1],u[2],o),this.colorStrokeStyle(t,c[0],c[1],c[2],l)};function iv(t,e,r,n,a){var i=arguments.length>5&&arguments[5]!==void 0?arguments[5]:5,s=arguments.length>6?arguments[6]:void 0;t.beginPath(),t.moveTo(e+i,r),t.lineTo(e+n-i,r),t.quadraticCurveTo(e+n,r,e+n,r+i),t.lineTo(e+n,r+a-i),t.quadraticCurveTo(e+n,r+a,e+n-i,r+a),t.lineTo(e+i,r+a),t.quadraticCurveTo(e,r+a,e,r+a-i),t.lineTo(e,r+i),t.quadraticCurveTo(e,r,e+i,r),t.closePath(),s?t.stroke():t.fill()}xo.getTextAngle=function(t,e){var r,n=t._private,a=n.rscratch,i=e?e+"-":"",s=t.pstyle(i+"text-rotation");if(s.strValue==="autorotate"){var o=na(a,"labelAngle",e);r=t.isEdge()?o:0}else s.strValue==="none"?r=0:r=s.pfValue;return r};xo.drawText=function(t,e,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,i=e._private,s=i.rscratch,o=a?e.effectiveOpacity():1;if(!(a&&(o===0||e.pstyle("text-opacity").value===0))){r==="main"&&(r=null);var l=na(s,"labelX",r),u=na(s,"labelY",r),c,f,d=this.getLabelText(e,r);if(d!=null&&d!==""&&!isNaN(l)&&!isNaN(u)){this.setupTextStyle(t,e,a);var p=r?r+"-":"",g=na(s,"labelWidth",r),y=na(s,"labelHeight",r),x=e.pstyle(p+"text-margin-x").pfValue,b=e.pstyle(p+"text-margin-y").pfValue,w=e.isEdge(),_=e.pstyle("text-halign").value,k=e.pstyle("text-valign").value;w&&(_="center",k="center"),l+=x,u+=b;var E;switch(n?E=this.getTextAngle(e,r):E=0,E!==0&&(c=l,f=u,t.translate(c,f),t.rotate(E),l=0,u=0),k){case"top":break;case"center":u+=y/2;break;case"bottom":u+=y;break}var D=e.pstyle("text-background-opacity").value,M=e.pstyle("text-border-opacity").value,A=e.pstyle("text-border-width").pfValue,R=e.pstyle("text-background-padding").pfValue,O=e.pstyle("text-background-shape").strValue,N=O.indexOf("round")===0,B=2;if(D>0||A>0&&M>0){var F=l-R;switch(_){case"left":F-=g;break;case"center":F-=g/2;break}var V=u-y-R,X=g+2*R,K=y+2*R;if(D>0){var U=t.fillStyle,H=e.pstyle("text-background-color").value;t.fillStyle="rgba("+H[0]+","+H[1]+","+H[2]+","+D*o+")",N?iv(t,F,V,X,K,B):t.fillRect(F,V,X,K),t.fillStyle=U}if(A>0&&M>0){var ee=t.strokeStyle,re=t.lineWidth,W=e.pstyle("text-border-color").value,Z=e.pstyle("text-border-style").value;if(t.strokeStyle="rgba("+W[0]+","+W[1]+","+W[2]+","+M*o+")",t.lineWidth=A,t.setLineDash)switch(Z){case"dotted":t.setLineDash([1,1]);break;case"dashed":t.setLineDash([4,2]);break;case"double":t.lineWidth=A/4,t.setLineDash([]);break;case"solid":t.setLineDash([]);break}if(N?iv(t,F,V,X,K,B,"stroke"):t.strokeRect(F,V,X,K),Z==="double"){var ue=A/2;N?iv(t,F+ue,V+ue,X-ue*2,K-ue*2,B,"stroke"):t.strokeRect(F+ue,V+ue,X-ue*2,K-ue*2)}t.setLineDash&&t.setLineDash([]),t.lineWidth=re,t.strokeStyle=ee}}var pe=2*e.pstyle("text-outline-width").pfValue;if(pe>0&&(t.lineWidth=pe),e.pstyle("text-wrap").value==="wrap"){var ge=na(s,"labelWrapCachedLines",r),fe=na(s,"labelLineHeight",r),Se=g/2,Ee=this.getLabelJustification(e);switch(Ee==="auto"||(_==="left"?Ee==="left"?l+=-g:Ee==="center"&&(l+=-Se):_==="center"?Ee==="left"?l+=-Se:Ee==="right"&&(l+=Se):_==="right"&&(Ee==="center"?l+=Se:Ee==="right"&&(l+=g))),k){case"top":u-=(ge.length-1)*fe;break;case"center":case"bottom":u-=(ge.length-1)*fe;break}for(var ve=0;ve<ge.length;ve++)pe>0&&t.strokeText(ge[ve],l,u),t.fillText(ge[ve],l,u),u+=fe}else pe>0&&t.strokeText(d,l,u),t.fillText(d,l,u);E!==0&&(t.rotate(-E),t.translate(-c,-f))}}};var tu={};tu.drawNode=function(t,e,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,i=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,s=this,o,l,u=e._private,c=u.rscratch,f=e.position();if(!(!Ie(f.x)||!Ie(f.y))&&!(i&&!e.visible())){var d=i?e.effectiveOpacity():1,p=s.usePaths(),g,y=!1,x=e.padding();o=e.width()+2*x,l=e.height()+2*x;var b;r&&(b=r,t.translate(-b.x1,-b.y1));for(var w=e.pstyle("background-image"),_=w.value,k=new Array(_.length),E=new Array(_.length),D=0,M=0;M<_.length;M++){var A=_[M],R=k[M]=A!=null&&A!=="none";if(R){var O=e.cy().style().getIndexedStyle(e,"background-image-crossorigin","value",M);D++,E[M]=s.getCachedImage(A,O,function(){u.backgroundTimestamp=Date.now(),e.emitAndNotify("background")})}}var N=e.pstyle("background-blacken").value,B=e.pstyle("border-width").pfValue,F=e.pstyle("background-opacity").value*d,V=e.pstyle("border-color").value,X=e.pstyle("border-style").value,K=e.pstyle("border-join").value,U=e.pstyle("border-cap").value,H=e.pstyle("border-position").value,ee=e.pstyle("border-dash-pattern").pfValue,re=e.pstyle("border-dash-offset").pfValue,W=e.pstyle("border-opacity").value*d,Z=e.pstyle("outline-width").pfValue,ue=e.pstyle("outline-color").value,pe=e.pstyle("outline-style").value,ge=e.pstyle("outline-opacity").value*d,fe=e.pstyle("outline-offset").value,Se=e.pstyle("corner-radius").value;Se!=="auto"&&(Se=e.pstyle("corner-radius").pfValue);var Ee=function(){var oe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:F;s.eleFillStyle(t,e,oe)},ve=function(){var oe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:W;s.colorStrokeStyle(t,V[0],V[1],V[2],oe)},se=function(){var oe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:ge;s.colorStrokeStyle(t,ue[0],ue[1],ue[2],oe)},ye=function(oe,he,Oe,ke){var Me=s.nodePathCache=s.nodePathCache||[],xe=lk(Oe==="polygon"?Oe+","+ke.join(","):Oe,""+he,""+oe,""+Se),Qe=Me[xe],je,rt=!1;return Qe!=null?(je=Qe,rt=!0,c.pathCache=je):(je=new Path2D,Me[xe]=c.pathCache=je),{path:je,cacheHit:rt}},we=e.pstyle("shape").strValue,Le=e.pstyle("shape-polygon-points").pfValue;if(p){t.translate(f.x,f.y);var Ve=ye(o,l,we,Le);g=Ve.path,y=Ve.cacheHit}var it=function(){if(!y){var oe=f;p&&(oe={x:0,y:0}),s.nodeShapes[s.getNodeShape(e)].draw(g||t,oe.x,oe.y,o,l,Se,c)}p?t.fill(g):t.fill()},Rt=function(){for(var oe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:d,he=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,Oe=u.backgrounding,ke=0,Me=0;Me<E.length;Me++){var xe=e.cy().style().getIndexedStyle(e,"background-image-containment","value",Me);if(he&&xe==="over"||!he&&xe==="inside"){ke++;continue}k[Me]&&E[Me].complete&&!E[Me].error&&(ke++,s.drawInscribedImage(t,E[Me],e,Me,oe))}u.backgrounding=ke!==D,Oe!==u.backgrounding&&e.updateStyle(!1)},Et=function(){var oe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,he=arguments.length>1&&arguments[1]!==void 0?arguments[1]:d;s.hasPie(e)&&(s.drawPie(t,e,he),oe&&(p||s.nodeShapes[s.getNodeShape(e)].draw(t,f.x,f.y,o,l,Se,c)))},ze=function(){var oe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:d,he=(N>0?N:-N)*oe,Oe=N>0?0:255;N!==0&&(s.colorFillStyle(t,Oe,Oe,Oe,he),p?t.fill(g):t.fill())},Ne=function(){if(B>0){if(t.lineWidth=B,t.lineCap=U,t.lineJoin=K,t.setLineDash)switch(X){case"dotted":t.setLineDash([1,1]);break;case"dashed":t.setLineDash(ee),t.lineDashOffset=re;break;case"solid":case"double":t.setLineDash([]);break}if(H!=="center"){if(t.save(),t.lineWidth*=2,H==="inside")p?t.clip(g):t.clip();else{var oe=new Path2D;oe.rect(-o/2-B,-l/2-B,o+2*B,l+2*B),oe.addPath(g),t.clip(oe,"evenodd")}p?t.stroke(g):t.stroke(),t.restore()}else p?t.stroke(g):t.stroke();if(X==="double"){t.lineWidth=B/3;var he=t.globalCompositeOperation;t.globalCompositeOperation="destination-out",p?t.stroke(g):t.stroke(),t.globalCompositeOperation=he}t.setLineDash&&t.setLineDash([])}},Ge=function(){if(Z>0){if(t.lineWidth=Z,t.lineCap="butt",t.setLineDash)switch(pe){case"dotted":t.setLineDash([1,1]);break;case"dashed":t.setLineDash([4,2]);break;case"solid":case"double":t.setLineDash([]);break}var oe=f;p&&(oe={x:0,y:0});var he=s.getNodeShape(e),Oe=B;H==="inside"&&(Oe=0),H==="outside"&&(Oe*=2);var ke=(o+Oe+(Z+fe))/o,Me=(l+Oe+(Z+fe))/l,xe=o*ke,Qe=l*Me,je=s.nodeShapes[he].points,rt;if(p){var nt=ye(xe,Qe,he,je);rt=nt.path}if(he==="ellipse")s.drawEllipsePath(rt||t,oe.x,oe.y,xe,Qe);else if(["round-diamond","round-heptagon","round-hexagon","round-octagon","round-pentagon","round-polygon","round-triangle","round-tag"].includes(he)){var Ye=0,Dt=0,Xt=0;he==="round-diamond"?Ye=(Oe+fe+Z)*1.4:he==="round-heptagon"?(Ye=(Oe+fe+Z)*1.075,Xt=-(Oe/2+fe+Z)/35):he==="round-hexagon"?Ye=(Oe+fe+Z)*1.12:he==="round-pentagon"?(Ye=(Oe+fe+Z)*1.13,Xt=-(Oe/2+fe+Z)/15):he==="round-tag"?(Ye=(Oe+fe+Z)*1.12,Dt=(Oe/2+Z+fe)*.07):he==="round-triangle"&&(Ye=(Oe+fe+Z)*(Math.PI/2),Xt=-(Oe+fe/2+Z)/Math.PI),Ye!==0&&(ke=(o+Ye)/o,xe=o*ke,["round-hexagon","round-tag"].includes(he)||(Me=(l+Ye)/l,Qe=l*Me)),Se=Se==="auto"?bk(xe,Qe):Se;for(var fn=xe/2,jt=Qe/2,Ot=Se+(Oe+Z+fe)/2,$t=new Array(je.length/2),fr=new Array(je.length/2),Or=0;Or<je.length/2;Or++)$t[Or]={x:oe.x+Dt+fn*je[Or*2],y:oe.y+Xt+jt*je[Or*2+1]};var jr,Gn,Sn,dn,vt=$t.length;for(Gn=$t[vt-1],jr=0;jr<vt;jr++)Sn=$t[jr%vt],dn=$t[(jr+1)%vt],fr[jr]=e4(Gn,Sn,dn,Ot),Gn=Sn,Sn=dn;s.drawRoundPolygonPath(rt||t,oe.x+Dt,oe.y+Xt,o*ke,l*Me,je,fr)}else if(["roundrectangle","round-rectangle"].includes(he))Se=Se==="auto"?uo(xe,Qe):Se,s.drawRoundRectanglePath(rt||t,oe.x,oe.y,xe,Qe,Se+(Oe+Z+fe)/2);else if(["cutrectangle","cut-rectangle"].includes(he))Se=Se==="auto"?V2():Se,s.drawCutRectanglePath(rt||t,oe.x,oe.y,xe,Qe,null,Se+(Oe+Z+fe)/4);else if(["bottomroundrectangle","bottom-round-rectangle"].includes(he))Se=Se==="auto"?uo(xe,Qe):Se,s.drawBottomRoundRectanglePath(rt||t,oe.x,oe.y,xe,Qe,Se+(Oe+Z+fe)/2);else if(he==="barrel")s.drawBarrelPath(rt||t,oe.x,oe.y,xe,Qe);else if(he.startsWith("polygon")||["rhomboid","right-rhomboid","round-tag","tag","vee"].includes(he)){var T=(Oe+Z+fe)/o;je=rh(nh(je,T)),s.drawPolygonPath(rt||t,oe.x,oe.y,o,l,je)}else{var P=(Oe+Z+fe)/o;je=rh(nh(je,-P)),s.drawPolygonPath(rt||t,oe.x,oe.y,o,l,je)}if(p?t.stroke(rt):t.stroke(),pe==="double"){t.lineWidth=Oe/3;var _e=t.globalCompositeOperation;t.globalCompositeOperation="destination-out",p?t.stroke(rt):t.stroke(),t.globalCompositeOperation=_e}t.setLineDash&&t.setLineDash([])}},tt=function(){a&&s.drawNodeOverlay(t,e,f,o,l)},Ke=function(){a&&s.drawNodeUnderlay(t,e,f,o,l)},et=function(){s.drawElementText(t,e,null,n)},at=e.pstyle("ghost").value==="yes";if(at){var lt=e.pstyle("ghost-offset-x").pfValue,Te=e.pstyle("ghost-offset-y").pfValue,j=e.pstyle("ghost-opacity").value,le=j*d;t.translate(lt,Te),se(),Ge(),Ee(j*F),it(),Rt(le,!0),ve(j*W),Ne(),Et(N!==0||B!==0),Rt(le,!1),ze(le),t.translate(-lt,-Te)}p&&t.translate(-f.x,-f.y),Ke(),p&&t.translate(f.x,f.y),se(),Ge(),Ee(),it(),Rt(d,!0),ve(),Ne(),Et(N!==0||B!==0),Rt(d,!1),ze(),p&&t.translate(-f.x,-f.y),et(),tt(),r&&t.translate(b.x1,b.y1)}};var kE=function(e){if(!["overlay","underlay"].includes(e))throw new Error("Invalid state");return function(r,n,a,i,s){var o=this;if(n.visible()){var l=n.pstyle("".concat(e,"-padding")).pfValue,u=n.pstyle("".concat(e,"-opacity")).value,c=n.pstyle("".concat(e,"-color")).value,f=n.pstyle("".concat(e,"-shape")).value,d=n.pstyle("".concat(e,"-corner-radius")).value;if(u>0){if(a=a||n.position(),i==null||s==null){var p=n.padding();i=n.width()+2*p,s=n.height()+2*p}o.colorFillStyle(r,c[0],c[1],c[2],u),o.nodeShapes[f].draw(r,a.x,a.y,i+l*2,s+l*2,d),r.fill()}}}};tu.drawNodeOverlay=kE("overlay");tu.drawNodeUnderlay=kE("underlay");tu.hasPie=function(t){return t=t[0],t._private.hasPie};tu.drawPie=function(t,e,r,n){e=e[0],n=n||e.position();var a=e.cy().style(),i=e.pstyle("pie-size"),s=n.x,o=n.y,l=e.width(),u=e.height(),c=Math.min(l,u)/2,f=0,d=this.usePaths();d&&(s=0,o=0),i.units==="%"?c=c*i.pfValue:i.pfValue!==void 0&&(c=i.pfValue/2);for(var p=1;p<=a.pieBackgroundN;p++){var g=e.pstyle("pie-"+p+"-background-size").value,y=e.pstyle("pie-"+p+"-background-color").value,x=e.pstyle("pie-"+p+"-background-opacity").value*r,b=g/100;b+f>1&&(b=1-f);var w=1.5*Math.PI+2*Math.PI*f,_=2*Math.PI*b,k=w+_;g===0||f>=1||f+b>1||(t.beginPath(),t.moveTo(s,o),t.arc(s,o,c,w,k),t.closePath(),this.colorFillStyle(t,y[0],y[1],y[2],x),t.fill(),f+=b)}};var _n={},KU=100;_n.getPixelRatio=function(){var t=this.data.contexts[0];if(this.forcedPixelRatio!=null)return this.forcedPixelRatio;var e=this.cy.window(),r=t.backingStorePixelRatio||t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1;return(e.devicePixelRatio||1)/r};_n.paintCache=function(t){for(var e=this.paintCaches=this.paintCaches||[],r=!0,n,a=0;a<e.length;a++)if(n=e[a],n.context===t){r=!1;break}return r&&(n={context:t},e.push(n)),n};_n.createGradientStyleFor=function(t,e,r,n,a){var i,s=this.usePaths(),o=r.pstyle(e+"-gradient-stop-colors").value,l=r.pstyle(e+"-gradient-stop-positions").pfValue;if(n==="radial-gradient")if(r.isEdge()){var u=r.sourceEndpoint(),c=r.targetEndpoint(),f=r.midpoint(),d=lo(u,f),p=lo(c,f);i=t.createRadialGradient(f.x,f.y,0,f.x,f.y,Math.max(d,p))}else{var g=s?{x:0,y:0}:r.position(),y=r.paddedWidth(),x=r.paddedHeight();i=t.createRadialGradient(g.x,g.y,0,g.x,g.y,Math.max(y,x))}else if(r.isEdge()){var b=r.sourceEndpoint(),w=r.targetEndpoint();i=t.createLinearGradient(b.x,b.y,w.x,w.y)}else{var _=s?{x:0,y:0}:r.position(),k=r.paddedWidth(),E=r.paddedHeight(),D=k/2,M=E/2,A=r.pstyle("background-gradient-direction").value;switch(A){case"to-bottom":i=t.createLinearGradient(_.x,_.y-M,_.x,_.y+M);break;case"to-top":i=t.createLinearGradient(_.x,_.y+M,_.x,_.y-M);break;case"to-left":i=t.createLinearGradient(_.x+D,_.y,_.x-D,_.y);break;case"to-right":i=t.createLinearGradient(_.x-D,_.y,_.x+D,_.y);break;case"to-bottom-right":case"to-right-bottom":i=t.createLinearGradient(_.x-D,_.y-M,_.x+D,_.y+M);break;case"to-top-right":case"to-right-top":i=t.createLinearGradient(_.x-D,_.y+M,_.x+D,_.y-M);break;case"to-bottom-left":case"to-left-bottom":i=t.createLinearGradient(_.x+D,_.y-M,_.x-D,_.y+M);break;case"to-top-left":case"to-left-top":i=t.createLinearGradient(_.x+D,_.y+M,_.x-D,_.y-M);break}}if(!i)return null;for(var R=l.length===o.length,O=o.length,N=0;N<O;N++)i.addColorStop(R?l[N]:N/(O-1),"rgba("+o[N][0]+","+o[N][1]+","+o[N][2]+","+a+")");return i};_n.gradientFillStyle=function(t,e,r,n){var a=this.createGradientStyleFor(t,"background",e,r,n);if(!a)return null;t.fillStyle=a};_n.colorFillStyle=function(t,e,r,n,a){t.fillStyle="rgba("+e+","+r+","+n+","+a+")"};_n.eleFillStyle=function(t,e,r){var n=e.pstyle("background-fill").value;if(n==="linear-gradient"||n==="radial-gradient")this.gradientFillStyle(t,e,n,r);else{var a=e.pstyle("background-color").value;this.colorFillStyle(t,a[0],a[1],a[2],r)}};_n.gradientStrokeStyle=function(t,e,r,n){var a=this.createGradientStyleFor(t,"line",e,r,n);if(!a)return null;t.strokeStyle=a};_n.colorStrokeStyle=function(t,e,r,n,a){t.strokeStyle="rgba("+e+","+r+","+n+","+a+")"};_n.eleStrokeStyle=function(t,e,r){var n=e.pstyle("line-fill").value;if(n==="linear-gradient"||n==="radial-gradient")this.gradientStrokeStyle(t,e,n,r);else{var a=e.pstyle("line-color").value;this.colorStrokeStyle(t,a[0],a[1],a[2],r)}};_n.matchCanvasSize=function(t){var e=this,r=e.data,n=e.findContainerClientCoords(),a=n[2],i=n[3],s=e.getPixelRatio(),o=e.motionBlurPxRatio;(t===e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_NODE]||t===e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_DRAG])&&(s=o);var l=a*s,u=i*s,c;if(!(l===e.canvasWidth&&u===e.canvasHeight)){e.fontCaches=null;var f=r.canvasContainer;f.style.width=a+"px",f.style.height=i+"px";for(var d=0;d<e.CANVAS_LAYERS;d++)c=r.canvases[d],c.width=l,c.height=u,c.style.width=a+"px",c.style.height=i+"px";for(var d=0;d<e.BUFFER_COUNT;d++)c=r.bufferCanvases[d],c.width=l,c.height=u,c.style.width=a+"px",c.style.height=i+"px";e.textureMult=1,s<=1&&(c=r.bufferCanvases[e.TEXTURE_BUFFER],e.textureMult=2,c.width=l*e.textureMult,c.height=u*e.textureMult),e.canvasWidth=l,e.canvasHeight=u,e.pixelRatio=s}};_n.renderTo=function(t,e,r,n){this.render({forcedContext:t,forcedZoom:e,forcedPan:r,drawAllLayers:!0,forcedPxRatio:n})};_n.clearCanvas=function(){var t=this,e=t.data;function r(n){n.clearRect(0,0,t.canvasWidth,t.canvasHeight)}r(e.contexts[t.NODE]),r(e.contexts[t.DRAG])};_n.render=function(t){var e=this;t=t||dk();var r=e.cy,n=t.forcedContext,a=t.drawAllLayers,i=t.drawOnlyNodeLayer,s=t.forcedZoom,o=t.forcedPan,l=t.forcedPxRatio===void 0?this.getPixelRatio():t.forcedPxRatio,u=e.data,c=u.canvasNeedsRedraw,f=e.textureOnViewport&&!n&&(e.pinching||e.hoverData.dragging||e.swipePanning||e.data.wheelZooming),d=t.motionBlur!==void 0?t.motionBlur:e.motionBlur,p=e.motionBlurPxRatio,g=r.hasCompoundNodes(),y=e.hoverData.draggingEles,x=!!(e.hoverData.selecting||e.touchData.selecting);d=d&&!n&&e.motionBlurEnabled&&!x;var b=d;n||(e.prevPxRatio!==l&&(e.invalidateContainerClientCoordsCache(),e.matchCanvasSize(e.container),e.redrawHint("eles",!0),e.redrawHint("drag",!0)),e.prevPxRatio=l),!n&&e.motionBlurTimeout&&clearTimeout(e.motionBlurTimeout),d&&(e.mbFrames==null&&(e.mbFrames=0),e.mbFrames++,e.mbFrames<3&&(b=!1),e.mbFrames>e.minMbLowQualFrames&&(e.motionBlurPxRatio=e.mbPxRBlurry)),e.clearingMotionBlur&&(e.motionBlurPxRatio=1),e.textureDrawLastFrame&&!f&&(c[e.NODE]=!0,c[e.SELECT_BOX]=!0);var w=r.style(),_=r.zoom(),k=s!==void 0?s:_,E=r.pan(),D={x:E.x,y:E.y},M={zoom:_,pan:{x:E.x,y:E.y}},A=e.prevViewport,R=A===void 0||M.zoom!==A.zoom||M.pan.x!==A.pan.x||M.pan.y!==A.pan.y;!R&&!(y&&!g)&&(e.motionBlurPxRatio=1),o&&(D=o),k*=l,D.x*=l,D.y*=l;var O=e.getCachedZSortedEles();function N(ve,se,ye,we,Le){var Ve=ve.globalCompositeOperation;ve.globalCompositeOperation="destination-out",e.colorFillStyle(ve,255,255,255,e.motionBlurTransparency),ve.fillRect(se,ye,we,Le),ve.globalCompositeOperation=Ve}function B(ve,se){var ye,we,Le,Ve;!e.clearingMotionBlur&&(ve===u.bufferContexts[e.MOTIONBLUR_BUFFER_NODE]||ve===u.bufferContexts[e.MOTIONBLUR_BUFFER_DRAG])?(ye={x:E.x*p,y:E.y*p},we=_*p,Le=e.canvasWidth*p,Ve=e.canvasHeight*p):(ye=D,we=k,Le=e.canvasWidth,Ve=e.canvasHeight),ve.setTransform(1,0,0,1,0,0),se==="motionBlur"?N(ve,0,0,Le,Ve):!n&&(se===void 0||se)&&ve.clearRect(0,0,Le,Ve),a||(ve.translate(ye.x,ye.y),ve.scale(we,we)),o&&ve.translate(o.x,o.y),s&&ve.scale(s,s)}if(f||(e.textureDrawLastFrame=!1),f){if(e.textureDrawLastFrame=!0,!e.textureCache){e.textureCache={},e.textureCache.bb=r.mutableElements().boundingBox(),e.textureCache.texture=e.data.bufferCanvases[e.TEXTURE_BUFFER];var F=e.data.bufferContexts[e.TEXTURE_BUFFER];F.setTransform(1,0,0,1,0,0),F.clearRect(0,0,e.canvasWidth*e.textureMult,e.canvasHeight*e.textureMult),e.render({forcedContext:F,drawOnlyNodeLayer:!0,forcedPxRatio:l*e.textureMult});var M=e.textureCache.viewport={zoom:r.zoom(),pan:r.pan(),width:e.canvasWidth,height:e.canvasHeight};M.mpan={x:(0-M.pan.x)/M.zoom,y:(0-M.pan.y)/M.zoom}}c[e.DRAG]=!1,c[e.NODE]=!1;var V=u.contexts[e.NODE],X=e.textureCache.texture,M=e.textureCache.viewport;V.setTransform(1,0,0,1,0,0),d?N(V,0,0,M.width,M.height):V.clearRect(0,0,M.width,M.height);var K=w.core("outside-texture-bg-color").value,U=w.core("outside-texture-bg-opacity").value;e.colorFillStyle(V,K[0],K[1],K[2],U),V.fillRect(0,0,M.width,M.height);var _=r.zoom();B(V,!1),V.clearRect(M.mpan.x,M.mpan.y,M.width/M.zoom/l,M.height/M.zoom/l),V.drawImage(X,M.mpan.x,M.mpan.y,M.width/M.zoom/l,M.height/M.zoom/l)}else e.textureOnViewport&&!n&&(e.textureCache=null);var H=r.extent(),ee=e.pinching||e.hoverData.dragging||e.swipePanning||e.data.wheelZooming||e.hoverData.draggingEles||e.cy.animated(),re=e.hideEdgesOnViewport&&ee,W=[];if(W[e.NODE]=!c[e.NODE]&&d&&!e.clearedForMotionBlur[e.NODE]||e.clearingMotionBlur,W[e.NODE]&&(e.clearedForMotionBlur[e.NODE]=!0),W[e.DRAG]=!c[e.DRAG]&&d&&!e.clearedForMotionBlur[e.DRAG]||e.clearingMotionBlur,W[e.DRAG]&&(e.clearedForMotionBlur[e.DRAG]=!0),c[e.NODE]||a||i||W[e.NODE]){var Z=d&&!W[e.NODE]&&p!==1,V=n||(Z?e.data.bufferContexts[e.MOTIONBLUR_BUFFER_NODE]:u.contexts[e.NODE]),ue=d&&!Z?"motionBlur":void 0;B(V,ue),re?e.drawCachedNodes(V,O.nondrag,l,H):e.drawLayeredElements(V,O.nondrag,l,H),e.debug&&e.drawDebugPoints(V,O.nondrag),!a&&!d&&(c[e.NODE]=!1)}if(!i&&(c[e.DRAG]||a||W[e.DRAG])){var Z=d&&!W[e.DRAG]&&p!==1,V=n||(Z?e.data.bufferContexts[e.MOTIONBLUR_BUFFER_DRAG]:u.contexts[e.DRAG]);B(V,d&&!Z?"motionBlur":void 0),re?e.drawCachedNodes(V,O.drag,l,H):e.drawCachedElements(V,O.drag,l,H),e.debug&&e.drawDebugPoints(V,O.drag),!a&&!d&&(c[e.DRAG]=!1)}if(this.drawSelectionRectangle(t,B),d&&p!==1){var pe=u.contexts[e.NODE],ge=e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_NODE],fe=u.contexts[e.DRAG],Se=e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_DRAG],Ee=function(se,ye,we){se.setTransform(1,0,0,1,0,0),we||!b?se.clearRect(0,0,e.canvasWidth,e.canvasHeight):N(se,0,0,e.canvasWidth,e.canvasHeight);var Le=p;se.drawImage(ye,0,0,e.canvasWidth*Le,e.canvasHeight*Le,0,0,e.canvasWidth,e.canvasHeight)};(c[e.NODE]||W[e.NODE])&&(Ee(pe,ge,W[e.NODE]),c[e.NODE]=!1),(c[e.DRAG]||W[e.DRAG])&&(Ee(fe,Se,W[e.DRAG]),c[e.DRAG]=!1)}e.prevViewport=M,e.clearingMotionBlur&&(e.clearingMotionBlur=!1,e.motionBlurCleared=!0,e.motionBlur=!0),d&&(e.motionBlurTimeout=setTimeout(function(){e.motionBlurTimeout=null,e.clearedForMotionBlur[e.NODE]=!1,e.clearedForMotionBlur[e.DRAG]=!1,e.motionBlur=!1,e.clearingMotionBlur=!f,e.mbFrames=0,c[e.NODE]=!0,c[e.DRAG]=!0,e.redraw()},KU)),n||r.emit("render")};var Tu;_n.drawSelectionRectangle=function(t,e){var r=this,n=r.cy,a=r.data,i=n.style(),s=t.drawOnlyNodeLayer,o=t.drawAllLayers,l=a.canvasNeedsRedraw,u=t.forcedContext;if(r.showFps||!s&&l[r.SELECT_BOX]&&!o){var c=u||a.contexts[r.SELECT_BOX];if(e(c),r.selection[4]==1&&(r.hoverData.selecting||r.touchData.selecting)){var f=r.cy.zoom(),d=i.core("selection-box-border-width").value/f;c.lineWidth=d,c.fillStyle="rgba("+i.core("selection-box-color").value[0]+","+i.core("selection-box-color").value[1]+","+i.core("selection-box-color").value[2]+","+i.core("selection-box-opacity").value+")",c.fillRect(r.selection[0],r.selection[1],r.selection[2]-r.selection[0],r.selection[3]-r.selection[1]),d>0&&(c.strokeStyle="rgba("+i.core("selection-box-border-color").value[0]+","+i.core("selection-box-border-color").value[1]+","+i.core("selection-box-border-color").value[2]+","+i.core("selection-box-opacity").value+")",c.strokeRect(r.selection[0],r.selection[1],r.selection[2]-r.selection[0],r.selection[3]-r.selection[1]))}if(a.bgActivePosistion&&!r.hoverData.selecting){var f=r.cy.zoom(),p=a.bgActivePosistion;c.fillStyle="rgba("+i.core("active-bg-color").value[0]+","+i.core("active-bg-color").value[1]+","+i.core("active-bg-color").value[2]+","+i.core("active-bg-opacity").value+")",c.beginPath(),c.arc(p.x,p.y,i.core("active-bg-size").pfValue/f,0,2*Math.PI),c.fill()}var g=r.lastRedrawTime;if(r.showFps&&g){g=Math.round(g);var y=Math.round(1e3/g),x="1 frame = "+g+" ms = "+y+" fps";if(c.setTransform(1,0,0,1,0,0),c.fillStyle="rgba(255, 0, 0, 0.75)",c.strokeStyle="rgba(255, 0, 0, 0.75)",c.font="30px Arial",!Tu){var b=c.measureText(x);Tu=b.actualBoundingBoxAscent}c.fillText(x,0,Tu);var w=60;c.strokeRect(0,Tu+10,250,20),c.fillRect(0,Tu+10,250*Math.min(y/w,1),20)}o||(l[r.SELECT_BOX]=!1)}};function V6(t,e,r){var n=t.createShader(e);if(t.shaderSource(n,r),t.compileShader(n),!t.getShaderParameter(n,t.COMPILE_STATUS))throw new Error(t.getShaderInfoLog(n));return n}function ZU(t,e,r){var n=V6(t,t.VERTEX_SHADER,e),a=V6(t,t.FRAGMENT_SHADER,r),i=t.createProgram();if(t.attachShader(i,n),t.attachShader(i,a),t.linkProgram(i),!t.getProgramParameter(i,t.LINK_STATUS))throw new Error("Could not initialize shaders");return i}function QU(t,e,r){r===void 0&&(r=e);var n=t.makeOffscreenCanvas(e,r),a=n.context=n.getContext("2d");return n.clear=function(){return a.clearRect(0,0,n.width,n.height)},n.clear(),n}function n4(t){var e=t.pixelRatio,r=t.cy.zoom(),n=t.cy.pan();return{zoom:r*e,pan:{x:n.x*e,y:n.y*e}}}function JU(t,e,r,n,a){var i=n*r+e.x,s=a*r+e.y;return s=Math.round(t.canvasHeight-s),[i,s]}function Mu(t,e,r){var n=t[0]/255,a=t[1]/255,i=t[2]/255,s=e,o=r||new Array(4);return o[0]=n*s,o[1]=a*s,o[2]=i*s,o[3]=s,o}function Io(t,e){var r=e||new Array(4);return r[0]=(t>>0&255)/255,r[1]=(t>>8&255)/255,r[2]=(t>>16&255)/255,r[3]=(t>>24&255)/255,r}function eW(t){return t[0]+(t[1]<<8)+(t[2]<<16)+(t[3]<<24)}function tW(t,e){var r=t.createTexture();return r.buffer=function(n){t.bindTexture(t.TEXTURE_2D,r),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR_MIPMAP_NEAREST),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,n),t.generateMipmap(t.TEXTURE_2D),t.bindTexture(t.TEXTURE_2D,null)},r.deleteTexture=function(){t.deleteTexture(r)},r}function EE(t,e){switch(e){case"float":return[1,t.FLOAT,4];case"vec2":return[2,t.FLOAT,4];case"vec3":return[3,t.FLOAT,4];case"vec4":return[4,t.FLOAT,4];case"int":return[1,t.INT,4];case"ivec2":return[2,t.INT,4]}}function CE(t,e,r){switch(e){case t.FLOAT:return new Float32Array(r);case t.INT:return new Int32Array(r)}}function rW(t,e,r,n,a,i){switch(e){case t.FLOAT:return new Float32Array(r.buffer,i*n,a);case t.INT:return new Int32Array(r.buffer,i*n,a)}}function nW(t,e,r,n){var a=EE(t,e),i=Br(a,2),s=i[0],o=i[1],l=CE(t,o,n),u=t.createBuffer();return t.bindBuffer(t.ARRAY_BUFFER,u),t.bufferData(t.ARRAY_BUFFER,l,t.STATIC_DRAW),o===t.FLOAT?t.vertexAttribPointer(r,s,o,!1,0,0):o===t.INT&&t.vertexAttribIPointer(r,s,o,0,0),t.enableVertexAttribArray(r),t.bindBuffer(t.ARRAY_BUFFER,null),u}function Li(t,e,r,n){var a=EE(t,r),i=Br(a,3),s=i[0],o=i[1],l=i[2],u=CE(t,o,e*s),c=s*l,f=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,f),t.bufferData(t.ARRAY_BUFFER,e*c,t.DYNAMIC_DRAW),t.enableVertexAttribArray(n),o===t.FLOAT?t.vertexAttribPointer(n,s,o,!1,c,0):o===t.INT&&t.vertexAttribIPointer(n,s,o,c,0),t.vertexAttribDivisor(n,1),t.bindBuffer(t.ARRAY_BUFFER,null);for(var d=new Array(e),p=0;p<e;p++)d[p]=rW(t,o,u,c,s,p);return f.dataArray=u,f.stride=c,f.size=s,f.getView=function(g){return d[g]},f.setPoint=function(g,y,x){var b=d[g];b[0]=y,b[1]=x},f.bufferSubData=function(g){t.bindBuffer(t.ARRAY_BUFFER,f),g?t.bufferSubData(t.ARRAY_BUFFER,0,u,0,g*s):t.bufferSubData(t.ARRAY_BUFFER,0,u)},f}function aW(t,e,r){for(var n=9,a=new Float32Array(e*n),i=new Array(e),s=0;s<e;s++){var o=s*n*4;i[s]=new Float32Array(a.buffer,o,n)}var l=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,l),t.bufferData(t.ARRAY_BUFFER,a.byteLength,t.DYNAMIC_DRAW);for(var u=0;u<3;u++){var c=r+u;t.enableVertexAttribArray(c),t.vertexAttribPointer(c,3,t.FLOAT,!1,3*12,u*12),t.vertexAttribDivisor(c,1)}return t.bindBuffer(t.ARRAY_BUFFER,null),l.getMatrixView=function(f){return i[f]},l.setData=function(f,d){i[d].set(f,0)},l.bufferSubData=function(){t.bindBuffer(t.ARRAY_BUFFER,l),t.bufferSubData(t.ARRAY_BUFFER,0,a)},l}function iW(t){var e=t.createFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,e);var r=t.createTexture();return t.bindTexture(t.TEXTURE_2D,r),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,r,0),t.bindFramebuffer(t.FRAMEBUFFER,null),e.setFramebufferAttachmentSizes=function(n,a){t.bindTexture(t.TEXTURE_2D,r),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,n,a,0,t.RGBA,t.UNSIGNED_BYTE,null)},e}var j6=typeof Float32Array<"u"?Float32Array:Array;Math.hypot||(Math.hypot=function(){for(var t=0,e=arguments.length;e--;)t+=arguments[e]*arguments[e];return Math.sqrt(t)});function cd(){var t=new j6(9);return j6!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t}function TE(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function sW(t,e,r){var n=e[0],a=e[1],i=e[2],s=e[3],o=e[4],l=e[5],u=e[6],c=e[7],f=e[8],d=r[0],p=r[1],g=r[2],y=r[3],x=r[4],b=r[5],w=r[6],_=r[7],k=r[8];return t[0]=d*n+p*s+g*u,t[1]=d*a+p*o+g*c,t[2]=d*i+p*l+g*f,t[3]=y*n+x*s+b*u,t[4]=y*a+x*o+b*c,t[5]=y*i+x*l+b*f,t[6]=w*n+_*s+k*u,t[7]=w*a+_*o+k*c,t[8]=w*i+_*l+k*f,t}function ch(t,e,r){var n=e[0],a=e[1],i=e[2],s=e[3],o=e[4],l=e[5],u=e[6],c=e[7],f=e[8],d=r[0],p=r[1];return t[0]=n,t[1]=a,t[2]=i,t[3]=s,t[4]=o,t[5]=l,t[6]=d*n+p*s+u,t[7]=d*a+p*o+c,t[8]=d*i+p*l+f,t}function ME(t,e,r){var n=e[0],a=e[1],i=e[2],s=e[3],o=e[4],l=e[5],u=e[6],c=e[7],f=e[8],d=Math.sin(r),p=Math.cos(r);return t[0]=p*n+d*s,t[1]=p*a+d*o,t[2]=p*i+d*l,t[3]=p*s-d*n,t[4]=p*o-d*a,t[5]=p*l-d*i,t[6]=u,t[7]=c,t[8]=f,t}function a4(t,e,r){var n=r[0],a=r[1];return t[0]=n*e[0],t[1]=n*e[1],t[2]=n*e[2],t[3]=a*e[3],t[4]=a*e[4],t[5]=a*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function oW(t,e,r){return t[0]=2/e,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/r,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t}var sc={SCREEN:{name:"screen",screen:!0},PICKING:{name:"picking",picking:!0}},U6=Lr({texRows:24}),No=Lr({collection:"default",getKey:null,drawElement:null,getBoundingBox:null,getRotation:null,getRotationPoint:null,getRotationOffset:null,isVisible:function(){return!0},getPadding:0}),lW=function(){function t(e,r,n,a){xs(this,t),this.debugID=Math.floor(Math.random()*1e4),this.r=e,this.texSize=r,this.texRows=n,this.texHeight=Math.floor(r/n),this.enableWrapping=!0,this.locked=!1,this.texture=null,this.needsBuffer=!0,this.freePointer={x:0,row:0},this.keyToLocation=new Map,this.canvas=a(e,r,r),this.scratch=a(e,r,this.texHeight,"scratch")}return ws(t,[{key:"lock",value:function(){this.locked=!0}},{key:"getKeys",value:function(){return new Set(this.keyToLocation.keys())}},{key:"getScale",value:function(r){var n=r.w,a=r.h,i=this.texHeight,s=this.texSize,o=i/a,l=n*o,u=a*o;return l>s&&(o=s/n,l=n*o,u=a*o),{scale:o,texW:l,texH:u}}},{key:"draw",value:function(r,n,a){var i=this;if(this.locked)throw new Error("can't draw, atlas is locked");var s=this.texSize,o=this.texRows,l=this.texHeight,u=this.getScale(n),c=u.scale,f=u.texW,d=u.texH,p=[null,null],g=function(_,k){if(a&&k){var E=k.context,D=_.x,M=_.row,A=D,R=l*M;E.save(),E.translate(A,R),E.scale(c,c),a(E,n),E.restore()}},y=function(){g(i.freePointer,i.canvas),p[0]={x:i.freePointer.x,y:i.freePointer.row*l,w:f,h:d},p[1]={x:i.freePointer.x+f,y:i.freePointer.row*l,w:0,h:d},i.freePointer.x+=f,i.freePointer.x==s&&(i.freePointer.x=0,i.freePointer.row++)},x=function(){var _=i.scratch,k=i.canvas;_.clear(),g({x:0,row:0},_);var E=s-i.freePointer.x,D=f-E,M=l;{var A=i.freePointer.x,R=i.freePointer.row*l,O=E;k.context.drawImage(_,0,0,O,M,A,R,O,M),p[0]={x:A,y:R,w:O,h:d}}{var N=E,B=(i.freePointer.row+1)*l,F=D;k&&k.context.drawImage(_,N,0,F,M,0,B,F,M),p[1]={x:0,y:B,w:F,h:d}}i.freePointer.x=D,i.freePointer.row++},b=function(){i.freePointer.x=0,i.freePointer.row++};if(this.freePointer.x+f<=s)y();else{if(this.freePointer.row>=o-1)return!1;this.freePointer.x===s?(b(),y()):this.enableWrapping?x():(b(),y())}return this.keyToLocation.set(r,p),this.needsBuffer=!0,p}},{key:"getOffsets",value:function(r){return this.keyToLocation.get(r)}},{key:"isEmpty",value:function(){return this.freePointer.x===0&&this.freePointer.row===0}},{key:"canFit",value:function(r){if(this.locked)return!1;var n=this.texSize,a=this.texRows,i=this.getScale(r),s=i.texW;return this.freePointer.x+s>n?this.freePointer.row<a-1:!0}},{key:"bufferIfNeeded",value:function(r){this.texture||(this.texture=tW(r,this.debugID)),this.needsBuffer&&(this.texture.buffer(this.canvas),this.needsBuffer=!1,this.locked&&(this.canvas=null,this.scratch=null))}},{key:"dispose",value:function(){this.texture&&(this.texture.deleteTexture(),this.texture=null),this.canvas=null,this.scratch=null,this.locked=!0}}])}(),uW=function(){function t(e,r,n,a){xs(this,t),this.r=e,this.texSize=r,this.texRows=n,this.createTextureCanvas=a,this.atlases=[],this.styleKeyToAtlas=new Map,this.markedKeys=new Set}return ws(t,[{key:"getKeys",value:function(){return new Set(this.styleKeyToAtlas.keys())}},{key:"_createAtlas",value:function(){var r=this.r,n=this.texSize,a=this.texRows,i=this.createTextureCanvas;return new lW(r,n,a,i)}},{key:"_getScratchCanvas",value:function(){if(!this.scratch){var r=this.r,n=this.texSize,a=this.texRows,i=this.createTextureCanvas,s=Math.floor(n/a);this.scratch=i(r,n,s,"scratch")}return this.scratch}},{key:"draw",value:function(r,n,a){var i=this.styleKeyToAtlas.get(r);return i||(i=this.atlases[this.atlases.length-1],(!i||!i.canFit(n))&&(i&&i.lock(),i=this._createAtlas(),this.atlases.push(i)),i.draw(r,n,a),this.styleKeyToAtlas.set(r,i)),i}},{key:"getAtlas",value:function(r){return this.styleKeyToAtlas.get(r)}},{key:"hasAtlas",value:function(r){return this.styleKeyToAtlas.has(r)}},{key:"markKeyForGC",value:function(r){this.markedKeys.add(r)}},{key:"gc",value:function(){var r=this,n=this.markedKeys;if(n.size===0){console.log("nothing to garbage collect");return}var a=[],i=new Map,s=null,o=va(this.atlases),l;try{var u=function(){var f=l.value,d=f.getKeys(),p=cW(n,d);if(p.size===0)return a.push(f),d.forEach(function(E){return i.set(E,f)}),1;s||(s=r._createAtlas(),a.push(s));var g=va(d),y;try{for(g.s();!(y=g.n()).done;){var x=y.value;if(!p.has(x)){var b=f.getOffsets(x),w=Br(b,2),_=w[0],k=w[1];s.canFit({w:_.w+k.w,h:_.h})||(s.lock(),s=r._createAtlas(),a.push(s)),r._copyTextureToNewAtlas(x,f,s),i.set(x,s)}}}catch(E){g.e(E)}finally{g.f()}f.dispose()};for(o.s();!(l=o.n()).done;)u()}catch(c){o.e(c)}finally{o.f()}this.atlases=a,this.styleKeyToAtlas=i,this.markedKeys=new Set}},{key:"_copyTextureToNewAtlas",value:function(r,n,a){var i=n.getOffsets(r),s=Br(i,2),o=s[0],l=s[1];if(l.w===0)a.draw(r,o,function(d){d.drawImage(n.canvas,o.x,o.y,o.w,o.h,0,0,o.w,o.h)});else{var u=this._getScratchCanvas();u.clear(),u.context.drawImage(n.canvas,o.x,o.y,o.w,o.h,0,0,o.w,o.h),u.context.drawImage(n.canvas,l.x,l.y,l.w,l.h,o.w,0,l.w,l.h);var c=o.w+l.w,f=o.h;a.draw(r,{w:c,h:f},function(d){d.drawImage(u,0,0,c,f,0,0,c,f)})}}},{key:"getCounts",value:function(){return{keyCount:this.styleKeyToAtlas.size,atlasCount:new Set(this.styleKeyToAtlas.values()).size}}}])}();function cW(t,e){return t.intersection?t.intersection(e):new Set(YS(t).filter(function(r){return e.has(r)}))}var fW=function(){function t(e,r){xs(this,t),this.r=e,this.globalOptions=r,this.atlasSize=r.webglTexSize,this.maxAtlasesPerBatch=r.webglTexPerBatch,this.renderTypes=new Map,this.collections=new Map,this.typeAndIdToKey=new Map,this.batchAtlases=[]}return ws(t,[{key:"getAtlasSize",value:function(){return this.atlasSize}},{key:"getMaxAtlasesPerBatch",value:function(){return this.maxAtlasesPerBatch}},{key:"addAtlasCollection",value:function(r,n){var a=this.globalOptions,i=a.webglTexSize,s=a.createTextureCanvas,o=n.texRows,l=this._cacheScratchCanvas(s),u=new uW(this.r,i,o,l);this.collections.set(r,u)}},{key:"addRenderType",value:function(r,n){var a=n.collection;if(!this.collections.has(a))throw new Error("invalid atlas collection name '".concat(a,"'"));var i=this.collections.get(a),s=Je({type:r,atlasCollection:i},n);this.renderTypes.set(r,s)}},{key:"getRenderTypeOpts",value:function(r){return this.renderTypes.get(r)}},{key:"getAtlasCollection",value:function(r){return this.collections.get(r)}},{key:"_cacheScratchCanvas",value:function(r){var n=-1,a=-1,i=null;return function(s,o,l,u){return u?((!i||o!=n||l!=a)&&(n=o,a=l,i=r(s,o,l)),i):r(s,o,l)}}},{key:"_key",value:function(r,n){return"".concat(r,"-").concat(n)}},{key:"invalidate",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.forceRedraw,i=a===void 0?!1:a,s=n.filterEle,o=s===void 0?function(){return!0}:s,l=n.filterType,u=l===void 0?function(){return!0}:l,c=!1,f=!1,d=va(r),p;try{for(d.s();!(p=d.n()).done;){var g=p.value;if(o(g)){var y=va(this.renderTypes.values()),x;try{for(y.s();!(x=y.n()).done;){var b=x.value,w=b.type;if(u(w)){var _=b.getKey(g),k=this.collections.get(b.collection);if(i)k.markKeyForGC(_),f=!0;else{var E=b.getID?b.getID(g):g.id(),D=this._key(w,E),M=this.typeAndIdToKey.get(D);M!==void 0&&M!==_&&(this.typeAndIdToKey.delete(D),k.markKeyForGC(M),c=!0)}}}}catch(A){y.e(A)}finally{y.f()}}}}catch(A){d.e(A)}finally{d.f()}return f&&(this.gc(),c=!1),c}},{key:"gc",value:function(){var r=va(this.collections.values()),n;try{for(r.s();!(n=r.n()).done;){var a=n.value;a.gc()}}catch(i){r.e(i)}finally{r.f()}}},{key:"getOrCreateAtlas",value:function(r,n,a){var i=this.renderTypes.get(n),s=i.getKey(r);a||(a=i.getBoundingBox(r));var o=this.collections.get(i.collection),l=!1,u=o.draw(s,a,function(d){i.drawElement(d,r,a,!0,!0),l=!0});if(l){var c=i.getID?i.getID(r):r.id(),f=this._key(n,c);this.typeAndIdToKey.set(f,s)}return u}},{key:"startBatch",value:function(){this.batchAtlases=[]}},{key:"getAtlasCount",value:function(){return this.batchAtlases.length}},{key:"getAtlases",value:function(){return this.batchAtlases}},{key:"canAddToCurrentBatch",value:function(r,n){if(this.batchAtlases.length===this.maxAtlasesPerBatch){var a=this.renderTypes.get(n),i=a.getKey(r),s=this.collections.get(a.collection),o=s.getAtlas(i);return!!o&&this.batchAtlases.includes(o)}return!0}},{key:"getAtlasIndexForBatch",value:function(r){var n=this.batchAtlases.indexOf(r);if(n<0){if(this.batchAtlases.length===this.maxAtlasesPerBatch)return;this.batchAtlases.push(r),n=this.batchAtlases.length-1}return n}},{key:"getIndexArray",value:function(){return Array.from({length:this.maxAtlasesPerBatch},function(r,n){return n})}},{key:"getAtlasInfo",value:function(r,n){var a=this.renderTypes.get(n),i=a.getBoundingBox(r),s=this.getOrCreateAtlas(r,n,i),o=this.getAtlasIndexForBatch(s);if(o!==void 0){var l=a.getKey(r),u=s.getOffsets(l),c=Br(u,2),f=c[0],d=c[1];return{index:o,tex1:f,tex2:d,bb:i}}}},{key:"setTransformMatrix",value:function(r,n,a,i){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,o=this.getRenderTypeOpts(a),l=o.getPadding?o.getPadding(r):0;if(i){var u=i.bb,c=i.tex1,f=i.tex2,d=c.w/(c.w+f.w);s||(d=1-d);var p=this.getAdjustedBB(u,l,s,d);this._applyTransformMatrix(n,p,o,r)}else{var g=o.getBoundingBox(r),y=this.getAdjustedBB(g,l,!0,1);this._applyTransformMatrix(n,y,o,r)}}},{key:"_applyTransformMatrix",value:function(r,n,a,i){var s,o;TE(r);var l=a.getRotation?a.getRotation(i):0;if(l!==0){var u=a.getRotationPoint(i),c=u.x,f=u.y;ch(r,r,[c,f]),ME(r,r,l);var d=a.getRotationOffset(i);s=d.x+n.xOffset,o=d.y}else s=n.x1,o=n.y1;ch(r,r,[s,o]),a4(r,r,[n.w,n.h])}},{key:"getAdjustedBB",value:function(r,n,a,i){var s=r.x1,o=r.y1,l=r.w,u=r.h;n&&(s-=n,o-=n,l+=2*n,u+=2*n);var c=0,f=l*i;return a&&i<1?l=f:!a&&i<1&&(c=l-f,s+=c,l=f),{x1:s,y1:o,w:l,h:u,xOffset:c}}},{key:"getDebugInfo",value:function(){var r=[],n=va(this.collections),a;try{for(n.s();!(a=n.n()).done;){var i=Br(a.value,2),s=i[0],o=i[1],l=o.getCounts(),u=l.keyCount,c=l.atlasCount;r.push({type:s,keyCount:u,atlasCount:c})}}catch(f){n.e(f)}finally{n.f()}return r}}])}(),Df=0,W6=1,G6=2,sv=3,Y6=4,dW=function(){function t(e,r,n){xs(this,t),this.r=e,this.gl=r,this.maxInstances=n.webglBatchSize,this.atlasSize=n.webglTexSize,this.bgColor=n.bgColor,this.debug=n.webglDebug,this.batchDebugInfo=[],n.enableWrapping=!0,n.createTextureCanvas=QU,this.atlasManager=new fW(e,n),this.program=this.createShaderProgram(sc.SCREEN),this.pickingProgram=this.createShaderProgram(sc.PICKING),this.vao=this.createVAO()}return ws(t,[{key:"addAtlasCollection",value:function(r,n){this.atlasManager.addAtlasCollection(r,n)}},{key:"addAtlasRenderType",value:function(r,n){this.atlasManager.addRenderType(r,n)}},{key:"invalidate",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.type,i=this.atlasManager;return a?i.invalidate(r,{filterType:function(o){return o===a},forceRedraw:!0}):i.invalidate(r)}},{key:"gc",value:function(){this.atlasManager.gc()}},{key:"createShaderProgram",value:function(r){var n=this.gl,a=`#version 300 es
      precision highp float;

      uniform mat3 uPanZoomMatrix;
      uniform int  uAtlasSize;
      
      // instanced
      in vec2 aPosition; 

      in mat3 aTransform;

      // what are we rendering?
      in int aVertType;

      // for picking
      in vec4 aIndex;
      
      // For textures
      in int aAtlasId; // which shader unit/atlas to use
      in vec4 aTex; // x/y/w/h of texture in atlas

      // for edges
      in vec4 aPointAPointB;
      in vec4 aPointCPointD;
      in float aLineWidth;
      in vec4 aColor;

      out vec2 vTexCoord;
      out vec4 vColor;
      flat out int vAtlasId;
      flat out vec4 vIndex;
      flat out int vVertType;

      void main(void) {
        int vid = gl_VertexID;
        vec2 position = aPosition;

        if(aVertType == `.concat(Df,`) {
          float texX = aTex.x;
          float texY = aTex.y;
          float texW = aTex.z;
          float texH = aTex.w;

          int vid = gl_VertexID;

          if(vid == 1 || vid == 2 || vid == 4) {
            texX += texW;
          }
          if(vid == 2 || vid == 4 || vid == 5) {
            texY += texH;
          }

          float d = float(uAtlasSize);
          vTexCoord = vec2(texX / d, texY / d); // tex coords must be between 0 and 1

          gl_Position = vec4(uPanZoomMatrix * aTransform * vec3(position, 1.0), 1.0);
        }
        else if(aVertType == `).concat(Y6,`) {
          gl_Position = vec4(uPanZoomMatrix * aTransform * vec3(position, 1.0), 1.0);
          vColor = aColor;
        }
        else if(aVertType == `).concat(W6,`) {
          vec2 source = aPointAPointB.xy;
          vec2 target = aPointAPointB.zw;

          // adjust the geometry so that the line is centered on the edge
          position.y = position.y - 0.5;

          vec2 xBasis = target - source;
          vec2 yBasis = normalize(vec2(-xBasis.y, xBasis.x));
          vec2 point = source + xBasis * position.x + yBasis * aLineWidth * position.y;

          gl_Position = vec4(uPanZoomMatrix * vec3(point, 1.0), 1.0);
          vColor = aColor;
        } 
        else if(aVertType == `).concat(G6,`) {
          vec2 pointA = aPointAPointB.xy;
          vec2 pointB = aPointAPointB.zw;
          vec2 pointC = aPointCPointD.xy;
          vec2 pointD = aPointCPointD.zw;

          // adjust the geometry so that the line is centered on the edge
          position.y = position.y - 0.5;

          vec2 p0 = pointA;
          vec2 p1 = pointB;
          vec2 p2 = pointC;
          vec2 pos = position;
          if(position.x == 1.0) {
            p0 = pointD;
            p1 = pointC;
            p2 = pointB;
            pos = vec2(0.0, -position.y);
          }

          vec2 p01 = p1 - p0;
          vec2 p12 = p2 - p1;
          vec2 p21 = p1 - p2;

          // Find the normal vector.
          vec2 tangent = normalize(normalize(p12) + normalize(p01));
          vec2 normal = vec2(-tangent.y, tangent.x);

          // Find the vector perpendicular to p0 -> p1.
          vec2 p01Norm = normalize(vec2(-p01.y, p01.x));

          // Determine the bend direction.
          float sigma = sign(dot(p01 + p21, normal));
          float width = aLineWidth;

          if(sign(pos.y) == -sigma) {
            // This is an intersecting vertex. Adjust the position so that there's no overlap.
            vec2 point = 0.5 * width * normal * -sigma / dot(normal, p01Norm);
            gl_Position = vec4(uPanZoomMatrix * vec3(p1 + point, 1.0), 1.0);
          } else {
            // This is a non-intersecting vertex. Treat it like a mitre join.
            vec2 point = 0.5 * width * normal * sigma * dot(normal, p01Norm);
            gl_Position = vec4(uPanZoomMatrix * vec3(p1 + point, 1.0), 1.0);
          }

          vColor = aColor;
        } 
        else if(aVertType == `).concat(sv,` && vid < 3) {
          // massage the first triangle into an edge arrow
          if(vid == 0)
            position = vec2(-0.15, -0.3);
          if(vid == 1)
            position = vec2( 0.0,   0.0);
          if(vid == 2)
            position = vec2( 0.15, -0.3);

          gl_Position = vec4(uPanZoomMatrix * aTransform * vec3(position, 1.0), 1.0);
          vColor = aColor;
        }
        else {
          gl_Position = vec4(2.0, 0.0, 0.0, 1.0); // discard vertex by putting it outside webgl clip space
        }

        vAtlasId = aAtlasId;
        vIndex = aIndex;
        vVertType = aVertType;
      }
    `),i=this.atlasManager.getIndexArray(),s=`#version 300 es
      precision highp float;

      // define texture unit for each node in the batch
      `.concat(i.map(function(u){return"uniform sampler2D uTexture".concat(u,";")}).join(`
	`),`

      uniform vec4 uBGColor;

      in vec2 vTexCoord;
      in vec4 vColor;
      flat in int vAtlasId;
      flat in vec4 vIndex;
      flat in int vVertType;

      out vec4 outColor;

      void main(void) {
        if(vVertType == `).concat(Df,`) {
          `).concat(i.map(function(u){return"if(vAtlasId == ".concat(u,") outColor = texture(uTexture").concat(u,", vTexCoord);")}).join(`
	else `),`
        } else if(vVertType == `).concat(sv,`) {
          // blend arrow color with background (using premultiplied alpha)
          outColor.rgb = vColor.rgb + (uBGColor.rgb * (1.0 - vColor.a)); 
          outColor.a = 1.0; // make opaque, masks out line under arrow
        } else {
          outColor = vColor;
        }

        `).concat(r.picking?`if(outColor.a == 0.0) discard;
             else outColor = vIndex;`:"",`
      }
    `),o=ZU(n,a,s);o.aPosition=n.getAttribLocation(o,"aPosition"),o.aIndex=n.getAttribLocation(o,"aIndex"),o.aVertType=n.getAttribLocation(o,"aVertType"),o.aTransform=n.getAttribLocation(o,"aTransform"),o.aAtlasId=n.getAttribLocation(o,"aAtlasId"),o.aTex=n.getAttribLocation(o,"aTex"),o.aPointAPointB=n.getAttribLocation(o,"aPointAPointB"),o.aPointCPointD=n.getAttribLocation(o,"aPointCPointD"),o.aLineWidth=n.getAttribLocation(o,"aLineWidth"),o.aColor=n.getAttribLocation(o,"aColor"),o.uPanZoomMatrix=n.getUniformLocation(o,"uPanZoomMatrix"),o.uAtlasSize=n.getUniformLocation(o,"uAtlasSize"),o.uBGColor=n.getUniformLocation(o,"uBGColor"),o.uTextures=[];for(var l=0;l<this.atlasManager.getMaxAtlasesPerBatch();l++)o.uTextures.push(n.getUniformLocation(o,"uTexture".concat(l)));return o}},{key:"createVAO",value:function(){var r=[0,0,1,0,1,1,0,0,1,1,0,1];this.vertexCount=r.length/2;var n=this.maxInstances,a=this.gl,i=this.program,s=a.createVertexArray();return a.bindVertexArray(s),nW(a,"vec2",i.aPosition,r),this.transformBuffer=aW(a,n,i.aTransform),this.indexBuffer=Li(a,n,"vec4",i.aIndex),this.vertTypeBuffer=Li(a,n,"int",i.aVertType),this.atlasIdBuffer=Li(a,n,"int",i.aAtlasId),this.texBuffer=Li(a,n,"vec4",i.aTex),this.pointAPointBBuffer=Li(a,n,"vec4",i.aPointAPointB),this.pointCPointDBuffer=Li(a,n,"vec4",i.aPointCPointD),this.lineWidthBuffer=Li(a,n,"float",i.aLineWidth),this.colorBuffer=Li(a,n,"vec4",i.aColor),a.bindVertexArray(null),s}},{key:"buffers",get:function(){var r=this;return this._buffers||(this._buffers=Object.keys(this).filter(function(n){return n.endsWith("Buffer")}).map(function(n){return r[n]})),this._buffers}},{key:"startFrame",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:sc.SCREEN;this.panZoomMatrix=r,this.renderTarget=n,this.batchDebugInfo=[],this.wrappedCount=0,this.rectangleCount=0,this.startBatch()}},{key:"startBatch",value:function(){this.instanceCount=0,this.atlasManager.startBatch()}},{key:"endFrame",value:function(){this.endBatch()}},{key:"getTempMatrix",value:function(){return this.tempMatrix=this.tempMatrix||cd()}},{key:"drawTexture",value:function(r,n,a){var i=this.atlasManager;if(r.visible()&&i.getRenderTypeOpts(a).isVisible(r)){i.canAddToCurrentBatch(r,a)||this.endBatch(),this.instanceCount+1>=this.maxInstances&&this.endBatch();var s=this.instanceCount;this.vertTypeBuffer.getView(s)[0]=Df;var o=this.indexBuffer.getView(s);Io(n,o);var l=i.getAtlasInfo(r,a),u=l.index,c=l.tex1,f=l.tex2;f.w>0&&this.wrappedCount++;for(var d=!0,p=0,g=[c,f];p<g.length;p++){var y=g[p];if(y.w!=0){var x=this.instanceCount;this.vertTypeBuffer.getView(x)[0]=Df;var b=this.indexBuffer.getView(x);Io(n,b);var w=this.atlasIdBuffer.getView(x);w[0]=u;var _=this.texBuffer.getView(x);_[0]=y.x,_[1]=y.y,_[2]=y.w,_[3]=y.h;var k=this.transformBuffer.getMatrixView(x);i.setTransformMatrix(r,k,a,l,d),this.instanceCount++}d=!1}this.instanceCount>=this.maxInstances&&this.endBatch()}}},{key:"drawSimpleRectangle",value:function(r,n,a){if(r.visible()){var i=this.atlasManager,s=this.instanceCount;this.vertTypeBuffer.getView(s)[0]=Y6;var o=this.indexBuffer.getView(s);Io(n,o);var l=r.pstyle("background-color").value,u=r.pstyle("background-opacity").value,c=this.colorBuffer.getView(s);Mu(l,u,c);var f=this.transformBuffer.getMatrixView(s);i.setTransformMatrix(r,f,a),this.rectangleCount++,this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}},{key:"drawEdgeArrow",value:function(r,n,a){if(r.visible()){var i=r._private.rscratch,s,o,l;if(a==="source"?(s=i.arrowStartX,o=i.arrowStartY,l=i.srcArrowAngle):(s=i.arrowEndX,o=i.arrowEndY,l=i.tgtArrowAngle),!(isNaN(s)||s==null||isNaN(o)||o==null||isNaN(l)||l==null)){var u=r.pstyle(a+"-arrow-shape").value;if(u!=="none"){var c=r.pstyle(a+"-arrow-color").value,f=r.pstyle("opacity").value,d=r.pstyle("line-opacity").value,p=f*d,g=r.pstyle("width").pfValue,y=r.pstyle("arrow-scale").value,x=this.r.getArrowWidth(g,y),b=this.instanceCount,w=this.transformBuffer.getMatrixView(b);TE(w),ch(w,w,[s,o]),a4(w,w,[x,x]),ME(w,w,l),this.vertTypeBuffer.getView(b)[0]=sv;var _=this.indexBuffer.getView(b);Io(n,_);var k=this.colorBuffer.getView(b);Mu(c,p,k),this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}}}},{key:"drawEdgeLine",value:function(r,n){if(r.visible()){var a=this.getEdgePoints(r);if(a){var i=r.pstyle("opacity").value,s=r.pstyle("line-opacity").value,o=r.pstyle("width").pfValue,l=r.pstyle("line-color").value,u=i*s;if(a.length/2+this.instanceCount>this.maxInstances&&this.endBatch(),a.length==4){var c=this.instanceCount;this.vertTypeBuffer.getView(c)[0]=W6;var f=this.indexBuffer.getView(c);Io(n,f);var d=this.colorBuffer.getView(c);Mu(l,u,d);var p=this.lineWidthBuffer.getView(c);p[0]=o;var g=this.pointAPointBBuffer.getView(c);g[0]=a[0],g[1]=a[1],g[2]=a[2],g[3]=a[3],this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}else for(var y=0;y<a.length-2;y+=2){var x=this.instanceCount;this.vertTypeBuffer.getView(x)[0]=G6;var b=this.indexBuffer.getView(x);Io(n,b);var w=this.colorBuffer.getView(x);Mu(l,u,w);var _=this.lineWidthBuffer.getView(x);_[0]=o;var k=a[y-2],E=a[y-1],D=a[y],M=a[y+1],A=a[y+2],R=a[y+3],O=a[y+4],N=a[y+5];y==0&&(k=2*D-A+.001,E=2*M-R+.001),y==a.length-4&&(O=2*A-D+.001,N=2*R-M+.001);var B=this.pointAPointBBuffer.getView(x);B[0]=k,B[1]=E,B[2]=D,B[3]=M;var F=this.pointCPointDBuffer.getView(x);F[0]=A,F[1]=R,F[2]=O,F[3]=N,this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}}}},{key:"getEdgePoints",value:function(r){var n=r._private.rscratch;if(!(n.badLine||n.allpts==null||isNaN(n.allpts[0]))){var a=n.allpts;if(a.length==4)return a;var i=this.getNumSegments(r);return this.getCurveSegmentPoints(a,i)}}},{key:"getNumSegments",value:function(r){var n=15;return Math.min(Math.max(n,5),this.maxInstances)}},{key:"getCurveSegmentPoints",value:function(r,n){if(r.length==4)return r;for(var a=Array((n+1)*2),i=0;i<=n;i++)if(i==0)a[0]=r[0],a[1]=r[1];else if(i==n)a[i*2]=r[r.length-2],a[i*2+1]=r[r.length-1];else{var s=i/n;this.setCurvePoint(r,s,a,i*2)}return a}},{key:"setCurvePoint",value:function(r,n,a,i){if(r.length<=2)a[i]=r[0],a[i+1]=r[1];else{for(var s=Array(r.length-2),o=0;o<s.length;o+=2){var l=(1-n)*r[o]+n*r[o+2],u=(1-n)*r[o+1]+n*r[o+3];s[o]=l,s[o+1]=u}return this.setCurvePoint(s,n,a,i)}}},{key:"endBatch",value:function(){var r=this.gl,n=this.vao,a=this.vertexCount,i=this.instanceCount;if(i!==0){var s=this.renderTarget.picking?this.pickingProgram:this.program;r.useProgram(s),r.bindVertexArray(n);var o=va(this.buffers),l;try{for(o.s();!(l=o.n()).done;){var u=l.value;u.bufferSubData(i)}}catch(g){o.e(g)}finally{o.f()}for(var c=this.atlasManager.getAtlases(),f=0;f<c.length;f++)c[f].bufferIfNeeded(r);for(var d=0;d<c.length;d++)r.activeTexture(r.TEXTURE0+d),r.bindTexture(r.TEXTURE_2D,c[d].texture),r.uniform1i(s.uTextures[d],d);r.uniformMatrix3fv(s.uPanZoomMatrix,!1,this.panZoomMatrix),r.uniform1i(s.uAtlasSize,this.atlasManager.getAtlasSize());var p=Mu(this.bgColor,1);r.uniform4fv(s.uBGColor,p),r.drawArraysInstanced(r.TRIANGLES,0,a,i),r.bindVertexArray(null),r.bindTexture(r.TEXTURE_2D,null),this.debug&&this.batchDebugInfo.push({count:i,atlasCount:c.length}),this.startBatch()}}},{key:"getDebugInfo",value:function(){var r=this.atlasManager.getDebugInfo(),n=r.reduce(function(s,o){return s+o.atlasCount},0),a=this.batchDebugInfo,i=a.reduce(function(s,o){return s+o.count},0);return{atlasInfo:r,totalAtlases:n,wrappedCount:this.wrappedCount,rectangleCount:this.rectangleCount,batchCount:a.length,batchInfo:a,totalInstances:i}}}])}();function X6(t,e){return"rgba(".concat(t[0],", ").concat(t[1],", ").concat(t[2],", ").concat(e,")")}var hW=function(){function t(e){xs(this,t),this.r=e}return ws(t,[{key:"getStyleKey",value:function(r,n){var a=this.getStyle(r,n),i=a.shape,s=a.opacity,o=a.color;if(!i)return null;var l=n.width(),u=n.height(),c=X6(o,s);return cs("".concat(i,"-").concat(l,"-").concat(u,"-").concat(c))}},{key:"isVisible",value:function(r,n){var a=n.pstyle("".concat(r,"-opacity")).value;return a>0}},{key:"getStyle",value:function(r,n){var a=n.pstyle("".concat(r,"-opacity")).value,i=n.pstyle("".concat(r,"-color")).value,s=n.pstyle("".concat(r,"-shape")).value;return{opacity:a,color:i,shape:s}}},{key:"getPadding",value:function(r,n){return n.pstyle("".concat(r,"-padding")).pfValue}},{key:"draw",value:function(r,n,a,i){if(this.isVisible(r,a)){var s=this.r,o=i.w,l=i.h,u=o/2,c=l/2,f=this.getStyle(r,a),d=f.shape,p=f.color,g=f.opacity;n.save(),n.fillStyle=X6(p,g),d==="round-rectangle"||d==="roundrectangle"?s.drawRoundRectanglePath(n,u,c,o,l,"auto"):d==="ellipse"&&s.drawEllipsePath(n,u,c,o,l),n.fill(),n.restore()}}}])}(),DE={};DE.initWebgl=function(t,e){var r=this,n=r.data.contexts[r.WEBGL];t.bgColor=pW(r),t.webglTexSize=Math.min(t.webglTexSize,n.getParameter(n.MAX_TEXTURE_SIZE)),t.webglTexRows=Math.min(t.webglTexRows,54),t.webglTexRowsNodes=Math.min(t.webglTexRowsNodes,54),t.webglBatchSize=Math.min(t.webglBatchSize,16384),t.webglTexPerBatch=Math.min(t.webglTexPerBatch,n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS)),r.webglDebug=t.webglDebug,r.webglDebugShowAtlases=t.webglDebugShowAtlases,r.pickingFrameBuffer=iW(n),r.pickingFrameBuffer.needsDraw=!0;var a=function(u){return function(c){return r.getTextAngle(c,u)}},i=function(u){return function(c){var f=c.pstyle(u);return f&&f.value}};r.drawing=new dW(r,n,t);var s=new hW(r);r.drawing.addAtlasCollection("node",U6({texRows:t.webglTexRowsNodes})),r.drawing.addAtlasCollection("label",U6({texRows:t.webglTexRows})),r.drawing.addAtlasRenderType("node-body",No({collection:"node",getKey:e.getStyleKey,getBoundingBox:e.getElementBox,drawElement:e.drawElement})),r.drawing.addAtlasRenderType("label",No({collection:"label",getKey:e.getLabelKey,getBoundingBox:e.getLabelBox,drawElement:e.drawLabel,getRotation:a(null),getRotationPoint:e.getLabelRotationPoint,getRotationOffset:e.getLabelRotationOffset,isVisible:i("label")})),r.drawing.addAtlasRenderType("node-overlay",No({collection:"node",getBoundingBox:e.getElementBox,getKey:function(u){return s.getStyleKey("overlay",u)},drawElement:function(u,c,f){return s.draw("overlay",u,c,f)},isVisible:function(u){return s.isVisible("overlay",u)},getPadding:function(u){return s.getPadding("overlay",u)}})),r.drawing.addAtlasRenderType("node-underlay",No({collection:"node",getBoundingBox:e.getElementBox,getKey:function(u){return s.getStyleKey("underlay",u)},drawElement:function(u,c,f){return s.draw("underlay",u,c,f)},isVisible:function(u){return s.isVisible("underlay",u)},getPadding:function(u){return s.getPadding("underlay",u)}})),r.drawing.addAtlasRenderType("edge-source-label",No({collection:"label",getKey:e.getSourceLabelKey,getBoundingBox:e.getSourceLabelBox,drawElement:e.drawSourceLabel,getRotation:a("source"),getRotationPoint:e.getSourceLabelRotationPoint,getRotationOffset:e.getSourceLabelRotationOffset,isVisible:i("source-label")})),r.drawing.addAtlasRenderType("edge-target-label",No({collection:"label",getKey:e.getTargetLabelKey,getBoundingBox:e.getTargetLabelBox,drawElement:e.drawTargetLabel,getRotation:a("target"),getRotationPoint:e.getTargetLabelRotationPoint,getRotationOffset:e.getTargetLabelRotationOffset,isVisible:i("target-label")}));var o=d0(function(){console.log("garbage collect flag set"),r.data.gc=!0},1e4);r.onUpdateEleCalcs(function(l,u){var c=!1;u&&u.length>0&&(c|=r.drawing.invalidate(u)),c&&o()}),gW(r)};function pW(t){var e=t.cy.container(),r=e&&e.style&&e.style.backgroundColor||"white";return tk(r)}function gW(t){{var e=t.render;t.render=function(i){i=i||{};var s=t.cy;t.webgl&&(s.zoom()>xE?(mW(t),e.call(t,i)):(vW(t),AE(t,i,sc.SCREEN)))}}{var r=t.matchCanvasSize;t.matchCanvasSize=function(i){r.call(t,i),t.pickingFrameBuffer.setFramebufferAttachmentSizes(t.canvasWidth,t.canvasHeight),t.pickingFrameBuffer.needsDraw=!0}}t.findNearestElements=function(i,s,o,l){return SW(t,i,s)};{var n=t.invalidateCachedZSortedEles;t.invalidateCachedZSortedEles=function(){n.call(t),t.pickingFrameBuffer.needsDraw=!0}}{var a=t.notify;t.notify=function(i,s){a.call(t,i,s),i==="viewport"||i==="bounds"?t.pickingFrameBuffer.needsDraw=!0:i==="background"&&t.drawing.invalidate(s,{type:"node-body"})}}}function mW(t){var e=t.data.contexts[t.WEBGL];e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT)}function vW(t){var e=function(n){n.save(),n.setTransform(1,0,0,1,0,0),n.clearRect(0,0,t.canvasWidth,t.canvasHeight),n.restore()};e(t.data.contexts[t.NODE]),e(t.data.contexts[t.DRAG])}function yW(t){var e=t.canvasWidth,r=t.canvasHeight,n=n4(t),a=n.pan,i=n.zoom,s=cd();ch(s,s,[a.x,a.y]),a4(s,s,[i,i]);var o=cd();oW(o,e,r);var l=cd();return sW(l,o,s),l}function PE(t,e){var r=t.canvasWidth,n=t.canvasHeight,a=n4(t),i=a.pan,s=a.zoom;e.setTransform(1,0,0,1,0,0),e.clearRect(0,0,r,n),e.translate(i.x,i.y),e.scale(s,s)}function bW(t,e){t.drawSelectionRectangle(e,function(r){return PE(t,r)})}function xW(t){var e=t.data.contexts[t.NODE];e.save(),PE(t,e),e.strokeStyle="rgba(0, 0, 0, 0.3)",e.beginPath(),e.moveTo(-1e3,0),e.lineTo(1e3,0),e.stroke(),e.beginPath(),e.moveTo(0,-1e3),e.lineTo(0,1e3),e.stroke(),e.restore()}function wW(t){var e=function(a,i,s){for(var o=a.atlasManager.getAtlasCollection(i),l=t.data.contexts[t.NODE],u=.125,c=o.atlases,f=0;f<c.length;f++){var d=c[f],p=d.canvas;if(p){var g=p.width,y=p.height,x=g*f,b=p.height*s;l.save(),l.scale(u,u),l.drawImage(p,x,b),l.strokeStyle="black",l.rect(x,b,g,y),l.stroke(),l.restore()}}},r=0;e(t.drawing,"node",r++),e(t.drawing,"label",r++)}function _W(t,e,r,n,a){var i,s,o,l,u=n4(t),c=u.pan,f=u.zoom;{var d=JU(t,c,f,e,r),p=Br(d,2),g=p[0],y=p[1],x=6;i=g-x/2,s=y-x/2,o=x,l=x}if(o===0||l===0)return[];var b=t.data.contexts[t.WEBGL];b.bindFramebuffer(b.FRAMEBUFFER,t.pickingFrameBuffer),t.pickingFrameBuffer.needsDraw&&(b.viewport(0,0,b.canvas.width,b.canvas.height),AE(t,null,sc.PICKING),t.pickingFrameBuffer.needsDraw=!1);var w=o*l,_=new Uint8Array(w*4);b.readPixels(i,s,o,l,b.RGBA,b.UNSIGNED_BYTE,_),b.bindFramebuffer(b.FRAMEBUFFER,null);for(var k=new Set,E=0;E<w;E++){var D=_.slice(E*4,E*4+4),M=eW(D)-1;M>=0&&k.add(M)}return k}function SW(t,e,r){var n=_W(t,e,r),a=t.getCachedZSortedEles(),i,s,o=va(n),l;try{for(o.s();!(l=o.n()).done;){var u=l.value,c=a[u];if(!i&&c.isNode()&&(i=c),!s&&c.isEdge()&&(s=c),i&&s)break}}catch(f){o.e(f)}finally{o.f()}return[i,s].filter(Boolean)}function kW(t){return t.pstyle("shape").value==="rectangle"&&t.pstyle("background-fill").value==="solid"&&t.pstyle("border-width").pfValue===0&&t.pstyle("background-image").strValue==="none"}function ov(t,e,r){var n=t.drawing;e+=1,r.isNode()?(n.drawTexture(r,e,"node-underlay"),kW(r)?n.drawSimpleRectangle(r,e,"node-body"):n.drawTexture(r,e,"node-body"),n.drawTexture(r,e,"label"),n.drawTexture(r,e,"node-overlay")):(n.drawEdgeLine(r,e),n.drawEdgeArrow(r,e,"source"),n.drawEdgeArrow(r,e,"target"),n.drawTexture(r,e,"label"),n.drawTexture(r,e,"edge-source-label"),n.drawTexture(r,e,"edge-target-label"))}function AE(t,e,r){var n;t.webglDebug&&(n=performance.now());var a=t.drawing,i=0;if(r.screen&&t.data.canvasNeedsRedraw[t.SELECT_BOX]&&bW(t,e),t.data.canvasNeedsRedraw[t.NODE]||r.picking){var s=t.data.contexts[t.WEBGL];r.screen?(s.clearColor(0,0,0,0),s.enable(s.BLEND),s.blendFunc(s.ONE,s.ONE_MINUS_SRC_ALPHA)):s.disable(s.BLEND),s.clear(s.COLOR_BUFFER_BIT|s.DEPTH_BUFFER_BIT),s.viewport(0,0,s.canvas.width,s.canvas.height);var o=yW(t),l=t.getCachedZSortedEles();if(i=l.length,a.startFrame(o,r),r.screen){for(var u=0;u<l.nondrag.length;u++)ov(t,u,l.nondrag[u]);for(var c=0;c<l.drag.length;c++)ov(t,c,l.drag[c])}else if(r.picking)for(var f=0;f<l.length;f++)ov(t,f,l[f]);a.endFrame(),r.screen&&t.webglDebugShowAtlases&&(xW(t),wW(t)),t.data.canvasNeedsRedraw[t.NODE]=!1,t.data.canvasNeedsRedraw[t.DRAG]=!1}if(t.webglDebug){var d=performance.now(),p=!1,g=Math.ceil(d-n),y=a.getDebugInfo(),x=["".concat(i," elements"),"".concat(y.totalInstances," instances"),"".concat(y.batchCount," batches"),"".concat(y.totalAtlases," atlases"),"".concat(y.wrappedCount," wrapped textures"),"".concat(y.rectangleCount," simple rectangles")].join(", ");if(p)console.log("WebGL (".concat(r.name,") - time ").concat(g,"ms, ").concat(x));else{console.log("WebGL (".concat(r.name,") - frame time ").concat(g,"ms")),console.log("Totals:"),console.log("  ".concat(x)),console.log("Texture Atlases Used:");var b=y.atlasInfo,w=va(b),_;try{for(w.s();!(_=w.n()).done;){var k=_.value;console.log("  ".concat(k.type,": ").concat(k.keyCount," keys, ").concat(k.atlasCount," atlases"))}}catch(E){w.e(E)}finally{w.f()}console.log("")}}t.data.gc&&(console.log("Garbage Collect!"),t.data.gc=!1,a.gc())}var Ss={};Ss.drawPolygonPath=function(t,e,r,n,a,i){var s=n/2,o=a/2;t.beginPath&&t.beginPath(),t.moveTo(e+s*i[0],r+o*i[1]);for(var l=1;l<i.length/2;l++)t.lineTo(e+s*i[l*2],r+o*i[l*2+1]);t.closePath()};Ss.drawRoundPolygonPath=function(t,e,r,n,a,i,s){s.forEach(function(o){return fE(t,o)}),t.closePath()};Ss.drawRoundRectanglePath=function(t,e,r,n,a,i){var s=n/2,o=a/2,l=i==="auto"?uo(n,a):Math.min(i,o,s);t.beginPath&&t.beginPath(),t.moveTo(e,r-o),t.arcTo(e+s,r-o,e+s,r,l),t.arcTo(e+s,r+o,e,r+o,l),t.arcTo(e-s,r+o,e-s,r,l),t.arcTo(e-s,r-o,e,r-o,l),t.lineTo(e,r-o),t.closePath()};Ss.drawBottomRoundRectanglePath=function(t,e,r,n,a,i){var s=n/2,o=a/2,l=i==="auto"?uo(n,a):i;t.beginPath&&t.beginPath(),t.moveTo(e,r-o),t.lineTo(e+s,r-o),t.lineTo(e+s,r),t.arcTo(e+s,r+o,e,r+o,l),t.arcTo(e-s,r+o,e-s,r,l),t.lineTo(e-s,r-o),t.lineTo(e,r-o),t.closePath()};Ss.drawCutRectanglePath=function(t,e,r,n,a,i,s){var o=n/2,l=a/2,u=s==="auto"?V2():s;t.beginPath&&t.beginPath(),t.moveTo(e-o+u,r-l),t.lineTo(e+o-u,r-l),t.lineTo(e+o,r-l+u),t.lineTo(e+o,r+l-u),t.lineTo(e+o-u,r+l),t.lineTo(e-o+u,r+l),t.lineTo(e-o,r+l-u),t.lineTo(e-o,r-l+u),t.closePath()};Ss.drawBarrelPath=function(t,e,r,n,a){var i=n/2,s=a/2,o=e-i,l=e+i,u=r-s,c=r+s,f=F1(n,a),d=f.widthOffset,p=f.heightOffset,g=f.ctrlPtOffsetPct*d;t.beginPath&&t.beginPath(),t.moveTo(o,u+p),t.lineTo(o,c-p),t.quadraticCurveTo(o+g,c,o+d,c),t.lineTo(l-d,c),t.quadraticCurveTo(l-g,c,l,c-p),t.lineTo(l,u+p),t.quadraticCurveTo(l-g,u,l-d,u),t.lineTo(o+d,u),t.quadraticCurveTo(o+g,u,o,u+p),t.closePath()};var K6=Math.sin(0),Z6=Math.cos(0),J1={},ey={},LE=Math.PI/40;for(var zo=0*Math.PI;zo<2*Math.PI;zo+=LE)J1[zo]=Math.sin(zo),ey[zo]=Math.cos(zo);Ss.drawEllipsePath=function(t,e,r,n,a){if(t.beginPath&&t.beginPath(),t.ellipse)t.ellipse(e,r,n/2,a/2,0,0,2*Math.PI);else for(var i,s,o=n/2,l=a/2,u=0*Math.PI;u<2*Math.PI;u+=LE)i=e-o*J1[u]*K6+o*ey[u]*Z6,s=r+l*ey[u]*K6+l*J1[u]*Z6,u===0?t.moveTo(i,s):t.lineTo(i,s);t.closePath()};var y0={};y0.createBuffer=function(t,e){var r=document.createElement("canvas");return r.width=t,r.height=e,[r,r.getContext("2d")]};y0.bufferCanvasImage=function(t){var e=this.cy,r=e.mutableElements(),n=r.boundingBox(),a=this.findContainerClientCoords(),i=t.full?Math.ceil(n.w):a[2],s=t.full?Math.ceil(n.h):a[3],o=Ie(t.maxWidth)||Ie(t.maxHeight),l=this.getPixelRatio(),u=1;if(t.scale!==void 0)i*=t.scale,s*=t.scale,u=t.scale;else if(o){var c=1/0,f=1/0;Ie(t.maxWidth)&&(c=u*t.maxWidth/i),Ie(t.maxHeight)&&(f=u*t.maxHeight/s),u=Math.min(c,f),i*=u,s*=u}o||(i*=l,s*=l,u*=l);var d=document.createElement("canvas");d.width=i,d.height=s,d.style.width=i+"px",d.style.height=s+"px";var p=d.getContext("2d");if(i>0&&s>0){p.clearRect(0,0,i,s),p.globalCompositeOperation="source-over";var g=this.getCachedZSortedEles();if(t.full)p.translate(-n.x1*u,-n.y1*u),p.scale(u,u),this.drawElements(p,g),p.scale(1/u,1/u),p.translate(n.x1*u,n.y1*u);else{var y=e.pan(),x={x:y.x*u,y:y.y*u};u*=e.zoom(),p.translate(x.x,x.y),p.scale(u,u),this.drawElements(p,g),p.scale(1/u,1/u),p.translate(-x.x,-x.y)}t.bg&&(p.globalCompositeOperation="destination-over",p.fillStyle=t.bg,p.rect(0,0,i,s),p.fill())}return d};function EW(t,e){for(var r=atob(t),n=new ArrayBuffer(r.length),a=new Uint8Array(n),i=0;i<r.length;i++)a[i]=r.charCodeAt(i);return new Blob([n],{type:e})}function Q6(t){var e=t.indexOf(",");return t.substr(e+1)}function RE(t,e,r){var n=function(){return e.toDataURL(r,t.quality)};switch(t.output){case"blob-promise":return new Kl(function(a,i){try{e.toBlob(function(s){s!=null?a(s):i(new Error("`canvas.toBlob()` sent a null value in its callback"))},r,t.quality)}catch(s){i(s)}});case"blob":return EW(Q6(n()),r);case"base64":return Q6(n());case"base64uri":default:return n()}}y0.png=function(t){return RE(t,this.bufferCanvasImage(t),"image/png")};y0.jpg=function(t){return RE(t,this.bufferCanvasImage(t),"image/jpeg")};var OE={};OE.nodeShapeImpl=function(t,e,r,n,a,i,s,o){switch(t){case"ellipse":return this.drawEllipsePath(e,r,n,a,i);case"polygon":return this.drawPolygonPath(e,r,n,a,i,s);case"round-polygon":return this.drawRoundPolygonPath(e,r,n,a,i,s,o);case"roundrectangle":case"round-rectangle":return this.drawRoundRectanglePath(e,r,n,a,i,o);case"cutrectangle":case"cut-rectangle":return this.drawCutRectanglePath(e,r,n,a,i,s,o);case"bottomroundrectangle":case"bottom-round-rectangle":return this.drawBottomRoundRectanglePath(e,r,n,a,i,o);case"barrel":return this.drawBarrelPath(e,r,n,a,i)}};var CW=IE,ct=IE.prototype;ct.CANVAS_LAYERS=3;ct.SELECT_BOX=0;ct.DRAG=1;ct.NODE=2;ct.WEBGL=3;ct.CANVAS_TYPES=["2d","2d","2d","webgl2"];ct.BUFFER_COUNT=3;ct.TEXTURE_BUFFER=0;ct.MOTIONBLUR_BUFFER_NODE=1;ct.MOTIONBLUR_BUFFER_DRAG=2;function IE(t){var e=this,r=e.cy.window(),n=r.document;t.webgl&&(ct.CANVAS_LAYERS=e.CANVAS_LAYERS=4,console.log("webgl rendering enabled")),e.data={canvases:new Array(ct.CANVAS_LAYERS),contexts:new Array(ct.CANVAS_LAYERS),canvasNeedsRedraw:new Array(ct.CANVAS_LAYERS),bufferCanvases:new Array(ct.BUFFER_COUNT),bufferContexts:new Array(ct.CANVAS_LAYERS)};var a="-webkit-tap-highlight-color",i="rgba(0,0,0,0)";e.data.canvasContainer=n.createElement("div");var s=e.data.canvasContainer.style;e.data.canvasContainer.style[a]=i,s.position="relative",s.zIndex="0",s.overflow="hidden";var o=t.cy.container();o.appendChild(e.data.canvasContainer),o.style[a]=i;var l={"-webkit-user-select":"none","-moz-user-select":"-moz-none","user-select":"none","-webkit-tap-highlight-color":"rgba(0,0,0,0)","outline-style":"none"};L$()&&(l["-ms-touch-action"]="none",l["touch-action"]="none");for(var u=0;u<ct.CANVAS_LAYERS;u++){var c=e.data.canvases[u]=n.createElement("canvas"),f=ct.CANVAS_TYPES[u];e.data.contexts[u]=c.getContext(f),e.data.contexts[u]||sr("Could not create canvas of type "+f),Object.keys(l).forEach(function(ve){c.style[ve]=l[ve]}),c.style.position="absolute",c.setAttribute("data-id","layer"+u),c.style.zIndex=String(ct.CANVAS_LAYERS-u),e.data.canvasContainer.appendChild(c),e.data.canvasNeedsRedraw[u]=!1}e.data.topCanvas=e.data.canvases[0],e.data.canvases[ct.NODE].setAttribute("data-id","layer"+ct.NODE+"-node"),e.data.canvases[ct.SELECT_BOX].setAttribute("data-id","layer"+ct.SELECT_BOX+"-selectbox"),e.data.canvases[ct.DRAG].setAttribute("data-id","layer"+ct.DRAG+"-drag"),e.data.canvases[ct.WEBGL]&&e.data.canvases[ct.WEBGL].setAttribute("data-id","layer"+ct.WEBGL+"-webgl");for(var u=0;u<ct.BUFFER_COUNT;u++)e.data.bufferCanvases[u]=n.createElement("canvas"),e.data.bufferContexts[u]=e.data.bufferCanvases[u].getContext("2d"),e.data.bufferCanvases[u].style.position="absolute",e.data.bufferCanvases[u].setAttribute("data-id","buffer"+u),e.data.bufferCanvases[u].style.zIndex=String(-u-1),e.data.bufferCanvases[u].style.visibility="hidden";e.pathsEnabled=!0;var d=Rn(),p=function(se){return{x:(se.x1+se.x2)/2,y:(se.y1+se.y2)/2}},g=function(se){return{x:-se.w/2,y:-se.h/2}},y=function(se){var ye=se[0]._private,we=ye.oldBackgroundTimestamp===ye.backgroundTimestamp;return!we},x=function(se){return se[0]._private.nodeKey},b=function(se){return se[0]._private.labelStyleKey},w=function(se){return se[0]._private.sourceLabelStyleKey},_=function(se){return se[0]._private.targetLabelStyleKey},k=function(se,ye,we,Le,Ve){return e.drawElement(se,ye,we,!1,!1,Ve)},E=function(se,ye,we,Le,Ve){return e.drawElementText(se,ye,we,Le,"main",Ve)},D=function(se,ye,we,Le,Ve){return e.drawElementText(se,ye,we,Le,"source",Ve)},M=function(se,ye,we,Le,Ve){return e.drawElementText(se,ye,we,Le,"target",Ve)},A=function(se){return se.boundingBox(),se[0]._private.bodyBounds},R=function(se){return se.boundingBox(),se[0]._private.labelBounds.main||d},O=function(se){return se.boundingBox(),se[0]._private.labelBounds.source||d},N=function(se){return se.boundingBox(),se[0]._private.labelBounds.target||d},B=function(se,ye){return ye},F=function(se){return p(A(se))},V=function(se,ye,we){var Le=se?se+"-":"";return{x:ye.x+we.pstyle(Le+"text-margin-x").pfValue,y:ye.y+we.pstyle(Le+"text-margin-y").pfValue}},X=function(se,ye,we){var Le=se[0]._private.rscratch;return{x:Le[ye],y:Le[we]}},K=function(se){return V("",X(se,"labelX","labelY"),se)},U=function(se){return V("source",X(se,"sourceLabelX","sourceLabelY"),se)},H=function(se){return V("target",X(se,"targetLabelX","targetLabelY"),se)},ee=function(se){return g(A(se))},re=function(se){return g(O(se))},W=function(se){return g(N(se))},Z=function(se){var ye=R(se),we=g(R(se));if(se.isNode()){switch(se.pstyle("text-halign").value){case"left":we.x=-ye.w-(ye.leftPad||0);break;case"right":we.x=-(ye.rightPad||0);break}switch(se.pstyle("text-valign").value){case"top":we.y=-ye.h-(ye.topPad||0);break;case"bottom":we.y=-(ye.botPad||0);break}}return we},ue=e.data.eleTxrCache=new qu(e,{getKey:x,doesEleInvalidateKey:y,drawElement:k,getBoundingBox:A,getRotationPoint:F,getRotationOffset:ee,allowEdgeTxrCaching:!1,allowParentTxrCaching:!1}),pe=e.data.lblTxrCache=new qu(e,{getKey:b,drawElement:E,getBoundingBox:R,getRotationPoint:K,getRotationOffset:Z,isVisible:B}),ge=e.data.slbTxrCache=new qu(e,{getKey:w,drawElement:D,getBoundingBox:O,getRotationPoint:U,getRotationOffset:re,isVisible:B}),fe=e.data.tlbTxrCache=new qu(e,{getKey:_,drawElement:M,getBoundingBox:N,getRotationPoint:H,getRotationOffset:W,isVisible:B}),Se=e.data.lyrTxrCache=new wE(e);e.onUpdateEleCalcs(function(se,ye){ue.invalidateElements(ye),pe.invalidateElements(ye),ge.invalidateElements(ye),fe.invalidateElements(ye),Se.invalidateElements(ye);for(var we=0;we<ye.length;we++){var Le=ye[we]._private;Le.oldBackgroundTimestamp=Le.backgroundTimestamp}});var Ee=function(se){for(var ye=0;ye<se.length;ye++)Se.enqueueElementRefinement(se[ye].ele)};ue.onDequeue(Ee),pe.onDequeue(Ee),ge.onDequeue(Ee),fe.onDequeue(Ee),t.webgl&&e.initWebgl(t,{getStyleKey:x,getLabelKey:b,getSourceLabelKey:w,getTargetLabelKey:_,drawElement:k,drawLabel:E,drawSourceLabel:D,drawTargetLabel:M,getElementBox:A,getLabelBox:R,getSourceLabelBox:O,getTargetLabelBox:N,getElementRotationPoint:F,getElementRotationOffset:ee,getLabelRotationPoint:K,getSourceLabelRotationPoint:U,getTargetLabelRotationPoint:H,getLabelRotationOffset:Z,getSourceLabelRotationOffset:re,getTargetLabelRotationOffset:W})}ct.redrawHint=function(t,e){var r=this;switch(t){case"eles":r.data.canvasNeedsRedraw[ct.NODE]=e;break;case"drag":r.data.canvasNeedsRedraw[ct.DRAG]=e;break;case"select":r.data.canvasNeedsRedraw[ct.SELECT_BOX]=e;break;case"gc":r.data.gc=!0;break}};var TW=typeof Path2D<"u";ct.path2dEnabled=function(t){if(t===void 0)return this.pathsEnabled;this.pathsEnabled=!!t};ct.usePaths=function(){return TW&&this.pathsEnabled};ct.setImgSmoothing=function(t,e){t.imageSmoothingEnabled!=null?t.imageSmoothingEnabled=e:(t.webkitImageSmoothingEnabled=e,t.mozImageSmoothingEnabled=e,t.msImageSmoothingEnabled=e)};ct.getImgSmoothing=function(t){return t.imageSmoothingEnabled!=null?t.imageSmoothingEnabled:t.webkitImageSmoothingEnabled||t.mozImageSmoothingEnabled||t.msImageSmoothingEnabled};ct.makeOffscreenCanvas=function(t,e){var r;if((typeof OffscreenCanvas>"u"?"undefined":Ar(OffscreenCanvas))!=="undefined")r=new OffscreenCanvas(t,e);else{var n=this.cy.window(),a=n.document;r=a.createElement("canvas"),r.width=t,r.height=e}return r};[_E,ja,Si,r4,xo,tu,_n,DE,Ss,y0,OE].forEach(function(t){Je(ct,t)});var MW=[{name:"null",impl:lE},{name:"base",impl:yE},{name:"canvas",impl:CW}],DW=[{type:"layout",extensions:oU},{type:"renderer",extensions:MW}],NE={},zE={};function BE(t,e,r){var n=r,a=function(A){Lt("Can not register `"+e+"` for `"+t+"` since `"+A+"` already exists in the prototype and can not be overridden")};if(t==="core"){if(Vc.prototype[e])return a(e);Vc.prototype[e]=r}else if(t==="collection"){if(Kr.prototype[e])return a(e);Kr.prototype[e]=r}else if(t==="layout"){for(var i=function(A){this.options=A,r.call(this,A),kt(this._private)||(this._private={}),this._private.cy=A.cy,this._private.listeners=[],this.createEmitter()},s=i.prototype=Object.create(r.prototype),o=[],l=0;l<o.length;l++){var u=o[l];s[u]=s[u]||function(){return this}}s.start&&!s.run?s.run=function(){return this.start(),this}:!s.start&&s.run&&(s.start=function(){return this.run(),this});var c=r.prototype.stop;s.stop=function(){var M=this.options;if(M&&M.animate){var A=this.animations;if(A)for(var R=0;R<A.length;R++)A[R].stop()}return c?c.call(this):this.emit("layoutstop"),this},s.destroy||(s.destroy=function(){return this}),s.cy=function(){return this._private.cy};var f=function(A){return A._private.cy},d={addEventFields:function(A,R){R.layout=A,R.cy=f(A),R.target=A},bubble:function(){return!0},parent:function(A){return f(A)}};Je(s,{createEmitter:function(){return this._private.emitter=new op(d,this),this},emitter:function(){return this._private.emitter},on:function(A,R){return this.emitter().on(A,R),this},one:function(A,R){return this.emitter().one(A,R),this},once:function(A,R){return this.emitter().one(A,R),this},removeListener:function(A,R){return this.emitter().removeListener(A,R),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},emit:function(A,R){return this.emitter().emit(A,R),this}}),At.eventAliasesOn(s),n=i}else if(t==="renderer"&&e!=="null"&&e!=="base"){var p=FE("renderer","base"),g=p.prototype,y=r,x=r.prototype,b=function(){p.apply(this,arguments),y.apply(this,arguments)},w=b.prototype;for(var _ in g){var k=g[_],E=x[_]!=null;if(E)return a(_);w[_]=k}for(var D in x)w[D]=x[D];g.clientFunctions.forEach(function(M){w[M]=w[M]||function(){sr("Renderer does not implement `renderer."+M+"()` on its prototype")}}),n=b}else if(t==="__proto__"||t==="constructor"||t==="prototype")return sr(t+" is an illegal type to be registered, possibly lead to prototype pollutions");return rk({map:NE,keys:[t,e],value:n})}function FE(t,e){return nk({map:NE,keys:[t,e]})}function PW(t,e,r,n,a){return rk({map:zE,keys:[t,e,r,n],value:a})}function AW(t,e,r,n){return nk({map:zE,keys:[t,e,r,n]})}var ty=function(){if(arguments.length===2)return FE.apply(null,arguments);if(arguments.length===3)return BE.apply(null,arguments);if(arguments.length===4)return AW.apply(null,arguments);if(arguments.length===5)return PW.apply(null,arguments);sr("Invalid extension access syntax")};Vc.prototype.extension=ty;DW.forEach(function(t){t.extensions.forEach(function(e){BE(t.type,e.name,e.impl)})});var fh=function(){if(!(this instanceof fh))return new fh;this.length=0},ho=fh.prototype;ho.instanceString=function(){return"stylesheet"};ho.selector=function(t){var e=this.length++;return this[e]={selector:t,properties:[]},this};ho.css=function(t,e){var r=this.length-1;if(Xe(t))this[r].properties.push({name:t,value:e});else if(kt(t))for(var n=t,a=Object.keys(n),i=0;i<a.length;i++){var s=a[i],o=n[s];if(o!=null){var l=Hr.properties[s]||Hr.properties[Zh(s)];if(l!=null){var u=l.name,c=o;this[r].properties.push({name:u,value:c})}}}return this};ho.style=ho.css;ho.generateStyle=function(t){var e=new Hr(t);return this.appendToStyle(e)};ho.appendToStyle=function(t){for(var e=0;e<this.length;e++){var r=this[e],n=r.selector,a=r.properties;t.selector(n);for(var i=0;i<a.length;i++){var s=a[i];t.css(s.name,s.value)}}return t};var LW="3.31.2",gs=function(e){if(e===void 0&&(e={}),kt(e))return new Vc(e);if(Xe(e))return ty.apply(ty,arguments)};gs.use=function(t){var e=Array.prototype.slice.call(arguments,1);return e.unshift(gs),t.apply(null,e),this};gs.warnings=function(t){return ck(t)};gs.version=LW;gs.stylesheet=gs.Stylesheet=fh;var $E={exports:{}},lv={exports:{}},uv={exports:{}},J6;function RW(){return J6||(J6=1,function(t,e){(function(n,a){t.exports=a()})(iy,function(){return function(r){var n={};function a(i){if(n[i])return n[i].exports;var s=n[i]={i,l:!1,exports:{}};return r[i].call(s.exports,s,s.exports,a),s.l=!0,s.exports}return a.m=r,a.c=n,a.i=function(i){return i},a.d=function(i,s,o){a.o(i,s)||Object.defineProperty(i,s,{configurable:!1,enumerable:!0,get:o})},a.n=function(i){var s=i&&i.__esModule?function(){return i.default}:function(){return i};return a.d(s,"a",s),s},a.o=function(i,s){return Object.prototype.hasOwnProperty.call(i,s)},a.p="",a(a.s=26)}([function(r,n,a){function i(){}i.QUALITY=1,i.DEFAULT_CREATE_BENDS_AS_NEEDED=!1,i.DEFAULT_INCREMENTAL=!1,i.DEFAULT_ANIMATION_ON_LAYOUT=!0,i.DEFAULT_ANIMATION_DURING_LAYOUT=!1,i.DEFAULT_ANIMATION_PERIOD=50,i.DEFAULT_UNIFORM_LEAF_NODE_SIZES=!1,i.DEFAULT_GRAPH_MARGIN=15,i.NODE_DIMENSIONS_INCLUDE_LABELS=!1,i.SIMPLE_NODE_SIZE=40,i.SIMPLE_NODE_HALF_SIZE=i.SIMPLE_NODE_SIZE/2,i.EMPTY_COMPOUND_NODE_SIZE=40,i.MIN_EDGE_LENGTH=1,i.WORLD_BOUNDARY=1e6,i.INITIAL_WORLD_BOUNDARY=i.WORLD_BOUNDARY/1e3,i.WORLD_CENTER_X=1200,i.WORLD_CENTER_Y=900,r.exports=i},function(r,n,a){var i=a(2),s=a(8),o=a(9);function l(c,f,d){i.call(this,d),this.isOverlapingSourceAndTarget=!1,this.vGraphObject=d,this.bendpoints=[],this.source=c,this.target=f}l.prototype=Object.create(i.prototype);for(var u in i)l[u]=i[u];l.prototype.getSource=function(){return this.source},l.prototype.getTarget=function(){return this.target},l.prototype.isInterGraph=function(){return this.isInterGraph},l.prototype.getLength=function(){return this.length},l.prototype.isOverlapingSourceAndTarget=function(){return this.isOverlapingSourceAndTarget},l.prototype.getBendpoints=function(){return this.bendpoints},l.prototype.getLca=function(){return this.lca},l.prototype.getSourceInLca=function(){return this.sourceInLca},l.prototype.getTargetInLca=function(){return this.targetInLca},l.prototype.getOtherEnd=function(c){if(this.source===c)return this.target;if(this.target===c)return this.source;throw"Node is not incident with this edge"},l.prototype.getOtherEndInGraph=function(c,f){for(var d=this.getOtherEnd(c),p=f.getGraphManager().getRoot();;){if(d.getOwner()==f)return d;if(d.getOwner()==p)break;d=d.getOwner().getParent()}return null},l.prototype.updateLength=function(){var c=new Array(4);this.isOverlapingSourceAndTarget=s.getIntersection(this.target.getRect(),this.source.getRect(),c),this.isOverlapingSourceAndTarget||(this.lengthX=c[0]-c[2],this.lengthY=c[1]-c[3],Math.abs(this.lengthX)<1&&(this.lengthX=o.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=o.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY))},l.prototype.updateLengthSimple=function(){this.lengthX=this.target.getCenterX()-this.source.getCenterX(),this.lengthY=this.target.getCenterY()-this.source.getCenterY(),Math.abs(this.lengthX)<1&&(this.lengthX=o.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=o.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY)},r.exports=l},function(r,n,a){function i(s){this.vGraphObject=s}r.exports=i},function(r,n,a){var i=a(2),s=a(10),o=a(13),l=a(0),u=a(16),c=a(4);function f(p,g,y,x){y==null&&x==null&&(x=g),i.call(this,x),p.graphManager!=null&&(p=p.graphManager),this.estimatedSize=s.MIN_VALUE,this.inclusionTreeDepth=s.MAX_VALUE,this.vGraphObject=x,this.edges=[],this.graphManager=p,y!=null&&g!=null?this.rect=new o(g.x,g.y,y.width,y.height):this.rect=new o}f.prototype=Object.create(i.prototype);for(var d in i)f[d]=i[d];f.prototype.getEdges=function(){return this.edges},f.prototype.getChild=function(){return this.child},f.prototype.getOwner=function(){return this.owner},f.prototype.getWidth=function(){return this.rect.width},f.prototype.setWidth=function(p){this.rect.width=p},f.prototype.getHeight=function(){return this.rect.height},f.prototype.setHeight=function(p){this.rect.height=p},f.prototype.getCenterX=function(){return this.rect.x+this.rect.width/2},f.prototype.getCenterY=function(){return this.rect.y+this.rect.height/2},f.prototype.getCenter=function(){return new c(this.rect.x+this.rect.width/2,this.rect.y+this.rect.height/2)},f.prototype.getLocation=function(){return new c(this.rect.x,this.rect.y)},f.prototype.getRect=function(){return this.rect},f.prototype.getDiagonal=function(){return Math.sqrt(this.rect.width*this.rect.width+this.rect.height*this.rect.height)},f.prototype.getHalfTheDiagonal=function(){return Math.sqrt(this.rect.height*this.rect.height+this.rect.width*this.rect.width)/2},f.prototype.setRect=function(p,g){this.rect.x=p.x,this.rect.y=p.y,this.rect.width=g.width,this.rect.height=g.height},f.prototype.setCenter=function(p,g){this.rect.x=p-this.rect.width/2,this.rect.y=g-this.rect.height/2},f.prototype.setLocation=function(p,g){this.rect.x=p,this.rect.y=g},f.prototype.moveBy=function(p,g){this.rect.x+=p,this.rect.y+=g},f.prototype.getEdgeListToNode=function(p){var g=[],y=this;return y.edges.forEach(function(x){if(x.target==p){if(x.source!=y)throw"Incorrect edge source!";g.push(x)}}),g},f.prototype.getEdgesBetween=function(p){var g=[],y=this;return y.edges.forEach(function(x){if(!(x.source==y||x.target==y))throw"Incorrect edge source and/or target";(x.target==p||x.source==p)&&g.push(x)}),g},f.prototype.getNeighborsList=function(){var p=new Set,g=this;return g.edges.forEach(function(y){if(y.source==g)p.add(y.target);else{if(y.target!=g)throw"Incorrect incidency!";p.add(y.source)}}),p},f.prototype.withChildren=function(){var p=new Set,g,y;if(p.add(this),this.child!=null)for(var x=this.child.getNodes(),b=0;b<x.length;b++)g=x[b],y=g.withChildren(),y.forEach(function(w){p.add(w)});return p},f.prototype.getNoOfChildren=function(){var p=0,g;if(this.child==null)p=1;else for(var y=this.child.getNodes(),x=0;x<y.length;x++)g=y[x],p+=g.getNoOfChildren();return p==0&&(p=1),p},f.prototype.getEstimatedSize=function(){if(this.estimatedSize==s.MIN_VALUE)throw"assert failed";return this.estimatedSize},f.prototype.calcEstimatedSize=function(){return this.child==null?this.estimatedSize=(this.rect.width+this.rect.height)/2:(this.estimatedSize=this.child.calcEstimatedSize(),this.rect.width=this.estimatedSize,this.rect.height=this.estimatedSize,this.estimatedSize)},f.prototype.scatter=function(){var p,g,y=-l.INITIAL_WORLD_BOUNDARY,x=l.INITIAL_WORLD_BOUNDARY;p=l.WORLD_CENTER_X+u.nextDouble()*(x-y)+y;var b=-l.INITIAL_WORLD_BOUNDARY,w=l.INITIAL_WORLD_BOUNDARY;g=l.WORLD_CENTER_Y+u.nextDouble()*(w-b)+b,this.rect.x=p,this.rect.y=g},f.prototype.updateBounds=function(){if(this.getChild()==null)throw"assert failed";if(this.getChild().getNodes().length!=0){var p=this.getChild();if(p.updateBounds(!0),this.rect.x=p.getLeft(),this.rect.y=p.getTop(),this.setWidth(p.getRight()-p.getLeft()),this.setHeight(p.getBottom()-p.getTop()),l.NODE_DIMENSIONS_INCLUDE_LABELS){var g=p.getRight()-p.getLeft(),y=p.getBottom()-p.getTop();this.labelWidth>g&&(this.rect.x-=(this.labelWidth-g)/2,this.setWidth(this.labelWidth)),this.labelHeight>y&&(this.labelPos=="center"?this.rect.y-=(this.labelHeight-y)/2:this.labelPos=="top"&&(this.rect.y-=this.labelHeight-y),this.setHeight(this.labelHeight))}}},f.prototype.getInclusionTreeDepth=function(){if(this.inclusionTreeDepth==s.MAX_VALUE)throw"assert failed";return this.inclusionTreeDepth},f.prototype.transform=function(p){var g=this.rect.x;g>l.WORLD_BOUNDARY?g=l.WORLD_BOUNDARY:g<-l.WORLD_BOUNDARY&&(g=-l.WORLD_BOUNDARY);var y=this.rect.y;y>l.WORLD_BOUNDARY?y=l.WORLD_BOUNDARY:y<-l.WORLD_BOUNDARY&&(y=-l.WORLD_BOUNDARY);var x=new c(g,y),b=p.inverseTransformPoint(x);this.setLocation(b.x,b.y)},f.prototype.getLeft=function(){return this.rect.x},f.prototype.getRight=function(){return this.rect.x+this.rect.width},f.prototype.getTop=function(){return this.rect.y},f.prototype.getBottom=function(){return this.rect.y+this.rect.height},f.prototype.getParent=function(){return this.owner==null?null:this.owner.getParent()},r.exports=f},function(r,n,a){function i(s,o){s==null&&o==null?(this.x=0,this.y=0):(this.x=s,this.y=o)}i.prototype.getX=function(){return this.x},i.prototype.getY=function(){return this.y},i.prototype.setX=function(s){this.x=s},i.prototype.setY=function(s){this.y=s},i.prototype.getDifference=function(s){return new DimensionD(this.x-s.x,this.y-s.y)},i.prototype.getCopy=function(){return new i(this.x,this.y)},i.prototype.translate=function(s){return this.x+=s.width,this.y+=s.height,this},r.exports=i},function(r,n,a){var i=a(2),s=a(10),o=a(0),l=a(6),u=a(3),c=a(1),f=a(13),d=a(12),p=a(11);function g(x,b,w){i.call(this,w),this.estimatedSize=s.MIN_VALUE,this.margin=o.DEFAULT_GRAPH_MARGIN,this.edges=[],this.nodes=[],this.isConnected=!1,this.parent=x,b!=null&&b instanceof l?this.graphManager=b:b!=null&&b instanceof Layout&&(this.graphManager=b.graphManager)}g.prototype=Object.create(i.prototype);for(var y in i)g[y]=i[y];g.prototype.getNodes=function(){return this.nodes},g.prototype.getEdges=function(){return this.edges},g.prototype.getGraphManager=function(){return this.graphManager},g.prototype.getParent=function(){return this.parent},g.prototype.getLeft=function(){return this.left},g.prototype.getRight=function(){return this.right},g.prototype.getTop=function(){return this.top},g.prototype.getBottom=function(){return this.bottom},g.prototype.isConnected=function(){return this.isConnected},g.prototype.add=function(x,b,w){if(b==null&&w==null){var _=x;if(this.graphManager==null)throw"Graph has no graph mgr!";if(this.getNodes().indexOf(_)>-1)throw"Node already in graph!";return _.owner=this,this.getNodes().push(_),_}else{var k=x;if(!(this.getNodes().indexOf(b)>-1&&this.getNodes().indexOf(w)>-1))throw"Source or target not in graph!";if(!(b.owner==w.owner&&b.owner==this))throw"Both owners must be this graph!";return b.owner!=w.owner?null:(k.source=b,k.target=w,k.isInterGraph=!1,this.getEdges().push(k),b.edges.push(k),w!=b&&w.edges.push(k),k)}},g.prototype.remove=function(x){var b=x;if(x instanceof u){if(b==null)throw"Node is null!";if(!(b.owner!=null&&b.owner==this))throw"Owner graph is invalid!";if(this.graphManager==null)throw"Owner graph manager is invalid!";for(var w=b.edges.slice(),_,k=w.length,E=0;E<k;E++)_=w[E],_.isInterGraph?this.graphManager.remove(_):_.source.owner.remove(_);var D=this.nodes.indexOf(b);if(D==-1)throw"Node not in owner node list!";this.nodes.splice(D,1)}else if(x instanceof c){var _=x;if(_==null)throw"Edge is null!";if(!(_.source!=null&&_.target!=null))throw"Source and/or target is null!";if(!(_.source.owner!=null&&_.target.owner!=null&&_.source.owner==this&&_.target.owner==this))throw"Source and/or target owner is invalid!";var M=_.source.edges.indexOf(_),A=_.target.edges.indexOf(_);if(!(M>-1&&A>-1))throw"Source and/or target doesn't know this edge!";_.source.edges.splice(M,1),_.target!=_.source&&_.target.edges.splice(A,1);var D=_.source.owner.getEdges().indexOf(_);if(D==-1)throw"Not in owner's edge list!";_.source.owner.getEdges().splice(D,1)}},g.prototype.updateLeftTop=function(){for(var x=s.MAX_VALUE,b=s.MAX_VALUE,w,_,k,E=this.getNodes(),D=E.length,M=0;M<D;M++){var A=E[M];w=A.getTop(),_=A.getLeft(),x>w&&(x=w),b>_&&(b=_)}return x==s.MAX_VALUE?null:(E[0].getParent().paddingLeft!=null?k=E[0].getParent().paddingLeft:k=this.margin,this.left=b-k,this.top=x-k,new d(this.left,this.top))},g.prototype.updateBounds=function(x){for(var b=s.MAX_VALUE,w=-s.MAX_VALUE,_=s.MAX_VALUE,k=-s.MAX_VALUE,E,D,M,A,R,O=this.nodes,N=O.length,B=0;B<N;B++){var F=O[B];x&&F.child!=null&&F.updateBounds(),E=F.getLeft(),D=F.getRight(),M=F.getTop(),A=F.getBottom(),b>E&&(b=E),w<D&&(w=D),_>M&&(_=M),k<A&&(k=A)}var V=new f(b,_,w-b,k-_);b==s.MAX_VALUE&&(this.left=this.parent.getLeft(),this.right=this.parent.getRight(),this.top=this.parent.getTop(),this.bottom=this.parent.getBottom()),O[0].getParent().paddingLeft!=null?R=O[0].getParent().paddingLeft:R=this.margin,this.left=V.x-R,this.right=V.x+V.width+R,this.top=V.y-R,this.bottom=V.y+V.height+R},g.calculateBounds=function(x){for(var b=s.MAX_VALUE,w=-s.MAX_VALUE,_=s.MAX_VALUE,k=-s.MAX_VALUE,E,D,M,A,R=x.length,O=0;O<R;O++){var N=x[O];E=N.getLeft(),D=N.getRight(),M=N.getTop(),A=N.getBottom(),b>E&&(b=E),w<D&&(w=D),_>M&&(_=M),k<A&&(k=A)}var B=new f(b,_,w-b,k-_);return B},g.prototype.getInclusionTreeDepth=function(){return this==this.graphManager.getRoot()?1:this.parent.getInclusionTreeDepth()},g.prototype.getEstimatedSize=function(){if(this.estimatedSize==s.MIN_VALUE)throw"assert failed";return this.estimatedSize},g.prototype.calcEstimatedSize=function(){for(var x=0,b=this.nodes,w=b.length,_=0;_<w;_++){var k=b[_];x+=k.calcEstimatedSize()}return x==0?this.estimatedSize=o.EMPTY_COMPOUND_NODE_SIZE:this.estimatedSize=x/Math.sqrt(this.nodes.length),this.estimatedSize},g.prototype.updateConnected=function(){var x=this;if(this.nodes.length==0){this.isConnected=!0;return}var b=new p,w=new Set,_=this.nodes[0],k,E,D=_.withChildren();for(D.forEach(function(B){b.push(B),w.add(B)});b.length!==0;){_=b.shift(),k=_.getEdges();for(var M=k.length,A=0;A<M;A++){var R=k[A];if(E=R.getOtherEndInGraph(_,this),E!=null&&!w.has(E)){var O=E.withChildren();O.forEach(function(B){b.push(B),w.add(B)})}}}if(this.isConnected=!1,w.size>=this.nodes.length){var N=0;w.forEach(function(B){B.owner==x&&N++}),N==this.nodes.length&&(this.isConnected=!0)}},r.exports=g},function(r,n,a){var i,s=a(1);function o(l){i=a(5),this.layout=l,this.graphs=[],this.edges=[]}o.prototype.addRoot=function(){var l=this.layout.newGraph(),u=this.layout.newNode(null),c=this.add(l,u);return this.setRootGraph(c),this.rootGraph},o.prototype.add=function(l,u,c,f,d){if(c==null&&f==null&&d==null){if(l==null)throw"Graph is null!";if(u==null)throw"Parent node is null!";if(this.graphs.indexOf(l)>-1)throw"Graph already in this graph mgr!";if(this.graphs.push(l),l.parent!=null)throw"Already has a parent!";if(u.child!=null)throw"Already has a child!";return l.parent=u,u.child=l,l}else{d=c,f=u,c=l;var p=f.getOwner(),g=d.getOwner();if(!(p!=null&&p.getGraphManager()==this))throw"Source not in this graph mgr!";if(!(g!=null&&g.getGraphManager()==this))throw"Target not in this graph mgr!";if(p==g)return c.isInterGraph=!1,p.add(c,f,d);if(c.isInterGraph=!0,c.source=f,c.target=d,this.edges.indexOf(c)>-1)throw"Edge already in inter-graph edge list!";if(this.edges.push(c),!(c.source!=null&&c.target!=null))throw"Edge source and/or target is null!";if(!(c.source.edges.indexOf(c)==-1&&c.target.edges.indexOf(c)==-1))throw"Edge already in source and/or target incidency list!";return c.source.edges.push(c),c.target.edges.push(c),c}},o.prototype.remove=function(l){if(l instanceof i){var u=l;if(u.getGraphManager()!=this)throw"Graph not in this graph mgr";if(!(u==this.rootGraph||u.parent!=null&&u.parent.graphManager==this))throw"Invalid parent node!";var c=[];c=c.concat(u.getEdges());for(var f,d=c.length,p=0;p<d;p++)f=c[p],u.remove(f);var g=[];g=g.concat(u.getNodes());var y;d=g.length;for(var p=0;p<d;p++)y=g[p],u.remove(y);u==this.rootGraph&&this.setRootGraph(null);var x=this.graphs.indexOf(u);this.graphs.splice(x,1),u.parent=null}else if(l instanceof s){if(f=l,f==null)throw"Edge is null!";if(!f.isInterGraph)throw"Not an inter-graph edge!";if(!(f.source!=null&&f.target!=null))throw"Source and/or target is null!";if(!(f.source.edges.indexOf(f)!=-1&&f.target.edges.indexOf(f)!=-1))throw"Source and/or target doesn't know this edge!";var x=f.source.edges.indexOf(f);if(f.source.edges.splice(x,1),x=f.target.edges.indexOf(f),f.target.edges.splice(x,1),!(f.source.owner!=null&&f.source.owner.getGraphManager()!=null))throw"Edge owner graph or owner graph manager is null!";if(f.source.owner.getGraphManager().edges.indexOf(f)==-1)throw"Not in owner graph manager's edge list!";var x=f.source.owner.getGraphManager().edges.indexOf(f);f.source.owner.getGraphManager().edges.splice(x,1)}},o.prototype.updateBounds=function(){this.rootGraph.updateBounds(!0)},o.prototype.getGraphs=function(){return this.graphs},o.prototype.getAllNodes=function(){if(this.allNodes==null){for(var l=[],u=this.getGraphs(),c=u.length,f=0;f<c;f++)l=l.concat(u[f].getNodes());this.allNodes=l}return this.allNodes},o.prototype.resetAllNodes=function(){this.allNodes=null},o.prototype.resetAllEdges=function(){this.allEdges=null},o.prototype.resetAllNodesToApplyGravitation=function(){this.allNodesToApplyGravitation=null},o.prototype.getAllEdges=function(){if(this.allEdges==null){var l=[],u=this.getGraphs();u.length;for(var c=0;c<u.length;c++)l=l.concat(u[c].getEdges());l=l.concat(this.edges),this.allEdges=l}return this.allEdges},o.prototype.getAllNodesToApplyGravitation=function(){return this.allNodesToApplyGravitation},o.prototype.setAllNodesToApplyGravitation=function(l){if(this.allNodesToApplyGravitation!=null)throw"assert failed";this.allNodesToApplyGravitation=l},o.prototype.getRoot=function(){return this.rootGraph},o.prototype.setRootGraph=function(l){if(l.getGraphManager()!=this)throw"Root not in this graph mgr!";this.rootGraph=l,l.parent==null&&(l.parent=this.layout.newNode("Root node"))},o.prototype.getLayout=function(){return this.layout},o.prototype.isOneAncestorOfOther=function(l,u){if(!(l!=null&&u!=null))throw"assert failed";if(l==u)return!0;var c=l.getOwner(),f;do{if(f=c.getParent(),f==null)break;if(f==u)return!0;if(c=f.getOwner(),c==null)break}while(!0);c=u.getOwner();do{if(f=c.getParent(),f==null)break;if(f==l)return!0;if(c=f.getOwner(),c==null)break}while(!0);return!1},o.prototype.calcLowestCommonAncestors=function(){for(var l,u,c,f,d,p=this.getAllEdges(),g=p.length,y=0;y<g;y++){if(l=p[y],u=l.source,c=l.target,l.lca=null,l.sourceInLca=u,l.targetInLca=c,u==c){l.lca=u.getOwner();continue}for(f=u.getOwner();l.lca==null;){for(l.targetInLca=c,d=c.getOwner();l.lca==null;){if(d==f){l.lca=d;break}if(d==this.rootGraph)break;if(l.lca!=null)throw"assert failed";l.targetInLca=d.getParent(),d=l.targetInLca.getOwner()}if(f==this.rootGraph)break;l.lca==null&&(l.sourceInLca=f.getParent(),f=l.sourceInLca.getOwner())}if(l.lca==null)throw"assert failed"}},o.prototype.calcLowestCommonAncestor=function(l,u){if(l==u)return l.getOwner();var c=l.getOwner();do{if(c==null)break;var f=u.getOwner();do{if(f==null)break;if(f==c)return f;f=f.getParent().getOwner()}while(!0);c=c.getParent().getOwner()}while(!0);return c},o.prototype.calcInclusionTreeDepths=function(l,u){l==null&&u==null&&(l=this.rootGraph,u=1);for(var c,f=l.getNodes(),d=f.length,p=0;p<d;p++)c=f[p],c.inclusionTreeDepth=u,c.child!=null&&this.calcInclusionTreeDepths(c.child,u+1)},o.prototype.includesInvalidEdge=function(){for(var l,u=this.edges.length,c=0;c<u;c++)if(l=this.edges[c],this.isOneAncestorOfOther(l.source,l.target))return!0;return!1},r.exports=o},function(r,n,a){var i=a(0);function s(){}for(var o in i)s[o]=i[o];s.MAX_ITERATIONS=2500,s.DEFAULT_EDGE_LENGTH=50,s.DEFAULT_SPRING_STRENGTH=.45,s.DEFAULT_REPULSION_STRENGTH=4500,s.DEFAULT_GRAVITY_STRENGTH=.4,s.DEFAULT_COMPOUND_GRAVITY_STRENGTH=1,s.DEFAULT_GRAVITY_RANGE_FACTOR=3.8,s.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=1.5,s.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION=!0,s.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION=!0,s.DEFAULT_COOLING_FACTOR_INCREMENTAL=.3,s.COOLING_ADAPTATION_FACTOR=.33,s.ADAPTATION_LOWER_NODE_LIMIT=1e3,s.ADAPTATION_UPPER_NODE_LIMIT=5e3,s.MAX_NODE_DISPLACEMENT_INCREMENTAL=100,s.MAX_NODE_DISPLACEMENT=s.MAX_NODE_DISPLACEMENT_INCREMENTAL*3,s.MIN_REPULSION_DIST=s.DEFAULT_EDGE_LENGTH/10,s.CONVERGENCE_CHECK_PERIOD=100,s.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=.1,s.MIN_EDGE_LENGTH=1,s.GRID_CALCULATION_CHECK_PERIOD=10,r.exports=s},function(r,n,a){var i=a(12);function s(){}s.calcSeparationAmount=function(o,l,u,c){if(!o.intersects(l))throw"assert failed";var f=new Array(2);this.decideDirectionsForOverlappingNodes(o,l,f),u[0]=Math.min(o.getRight(),l.getRight())-Math.max(o.x,l.x),u[1]=Math.min(o.getBottom(),l.getBottom())-Math.max(o.y,l.y),o.getX()<=l.getX()&&o.getRight()>=l.getRight()?u[0]+=Math.min(l.getX()-o.getX(),o.getRight()-l.getRight()):l.getX()<=o.getX()&&l.getRight()>=o.getRight()&&(u[0]+=Math.min(o.getX()-l.getX(),l.getRight()-o.getRight())),o.getY()<=l.getY()&&o.getBottom()>=l.getBottom()?u[1]+=Math.min(l.getY()-o.getY(),o.getBottom()-l.getBottom()):l.getY()<=o.getY()&&l.getBottom()>=o.getBottom()&&(u[1]+=Math.min(o.getY()-l.getY(),l.getBottom()-o.getBottom()));var d=Math.abs((l.getCenterY()-o.getCenterY())/(l.getCenterX()-o.getCenterX()));l.getCenterY()===o.getCenterY()&&l.getCenterX()===o.getCenterX()&&(d=1);var p=d*u[0],g=u[1]/d;u[0]<g?g=u[0]:p=u[1],u[0]=-1*f[0]*(g/2+c),u[1]=-1*f[1]*(p/2+c)},s.decideDirectionsForOverlappingNodes=function(o,l,u){o.getCenterX()<l.getCenterX()?u[0]=-1:u[0]=1,o.getCenterY()<l.getCenterY()?u[1]=-1:u[1]=1},s.getIntersection2=function(o,l,u){var c=o.getCenterX(),f=o.getCenterY(),d=l.getCenterX(),p=l.getCenterY();if(o.intersects(l))return u[0]=c,u[1]=f,u[2]=d,u[3]=p,!0;var g=o.getX(),y=o.getY(),x=o.getRight(),b=o.getX(),w=o.getBottom(),_=o.getRight(),k=o.getWidthHalf(),E=o.getHeightHalf(),D=l.getX(),M=l.getY(),A=l.getRight(),R=l.getX(),O=l.getBottom(),N=l.getRight(),B=l.getWidthHalf(),F=l.getHeightHalf(),V=!1,X=!1;if(c===d){if(f>p)return u[0]=c,u[1]=y,u[2]=d,u[3]=O,!1;if(f<p)return u[0]=c,u[1]=w,u[2]=d,u[3]=M,!1}else if(f===p){if(c>d)return u[0]=g,u[1]=f,u[2]=A,u[3]=p,!1;if(c<d)return u[0]=x,u[1]=f,u[2]=D,u[3]=p,!1}else{var K=o.height/o.width,U=l.height/l.width,H=(p-f)/(d-c),ee=void 0,re=void 0,W=void 0,Z=void 0,ue=void 0,pe=void 0;if(-K===H?c>d?(u[0]=b,u[1]=w,V=!0):(u[0]=x,u[1]=y,V=!0):K===H&&(c>d?(u[0]=g,u[1]=y,V=!0):(u[0]=_,u[1]=w,V=!0)),-U===H?d>c?(u[2]=R,u[3]=O,X=!0):(u[2]=A,u[3]=M,X=!0):U===H&&(d>c?(u[2]=D,u[3]=M,X=!0):(u[2]=N,u[3]=O,X=!0)),V&&X)return!1;if(c>d?f>p?(ee=this.getCardinalDirection(K,H,4),re=this.getCardinalDirection(U,H,2)):(ee=this.getCardinalDirection(-K,H,3),re=this.getCardinalDirection(-U,H,1)):f>p?(ee=this.getCardinalDirection(-K,H,1),re=this.getCardinalDirection(-U,H,3)):(ee=this.getCardinalDirection(K,H,2),re=this.getCardinalDirection(U,H,4)),!V)switch(ee){case 1:Z=y,W=c+-E/H,u[0]=W,u[1]=Z;break;case 2:W=_,Z=f+k*H,u[0]=W,u[1]=Z;break;case 3:Z=w,W=c+E/H,u[0]=W,u[1]=Z;break;case 4:W=b,Z=f+-k*H,u[0]=W,u[1]=Z;break}if(!X)switch(re){case 1:pe=M,ue=d+-F/H,u[2]=ue,u[3]=pe;break;case 2:ue=N,pe=p+B*H,u[2]=ue,u[3]=pe;break;case 3:pe=O,ue=d+F/H,u[2]=ue,u[3]=pe;break;case 4:ue=R,pe=p+-B*H,u[2]=ue,u[3]=pe;break}}return!1},s.getCardinalDirection=function(o,l,u){return o>l?u:1+u%4},s.getIntersection=function(o,l,u,c){if(c==null)return this.getIntersection2(o,l,u);var f=o.x,d=o.y,p=l.x,g=l.y,y=u.x,x=u.y,b=c.x,w=c.y,_=void 0,k=void 0,E=void 0,D=void 0,M=void 0,A=void 0,R=void 0,O=void 0,N=void 0;return E=g-d,M=f-p,R=p*d-f*g,D=w-x,A=y-b,O=b*x-y*w,N=E*A-D*M,N===0?null:(_=(M*O-A*R)/N,k=(D*R-E*O)/N,new i(_,k))},s.angleOfVector=function(o,l,u,c){var f=void 0;return o!==u?(f=Math.atan((c-l)/(u-o)),u<o?f+=Math.PI:c<l&&(f+=this.TWO_PI)):c<l?f=this.ONE_AND_HALF_PI:f=this.HALF_PI,f},s.doIntersect=function(o,l,u,c){var f=o.x,d=o.y,p=l.x,g=l.y,y=u.x,x=u.y,b=c.x,w=c.y,_=(p-f)*(w-x)-(b-y)*(g-d);if(_===0)return!1;var k=((w-x)*(b-f)+(y-b)*(w-d))/_,E=((d-g)*(b-f)+(p-f)*(w-d))/_;return 0<k&&k<1&&0<E&&E<1},s.HALF_PI=.5*Math.PI,s.ONE_AND_HALF_PI=1.5*Math.PI,s.TWO_PI=2*Math.PI,s.THREE_PI=3*Math.PI,r.exports=s},function(r,n,a){function i(){}i.sign=function(s){return s>0?1:s<0?-1:0},i.floor=function(s){return s<0?Math.ceil(s):Math.floor(s)},i.ceil=function(s){return s<0?Math.floor(s):Math.ceil(s)},r.exports=i},function(r,n,a){function i(){}i.MAX_VALUE=2147483647,i.MIN_VALUE=-2147483648,r.exports=i},function(r,n,a){var i=function(){function f(d,p){for(var g=0;g<p.length;g++){var y=p[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(d,y.key,y)}}return function(d,p,g){return p&&f(d.prototype,p),g&&f(d,g),d}}();function s(f,d){if(!(f instanceof d))throw new TypeError("Cannot call a class as a function")}var o=function(d){return{value:d,next:null,prev:null}},l=function(d,p,g,y){return d!==null?d.next=p:y.head=p,g!==null?g.prev=p:y.tail=p,p.prev=d,p.next=g,y.length++,p},u=function(d,p){var g=d.prev,y=d.next;return g!==null?g.next=y:p.head=y,y!==null?y.prev=g:p.tail=g,d.prev=d.next=null,p.length--,d},c=function(){function f(d){var p=this;s(this,f),this.length=0,this.head=null,this.tail=null,d!=null&&d.forEach(function(g){return p.push(g)})}return i(f,[{key:"size",value:function(){return this.length}},{key:"insertBefore",value:function(p,g){return l(g.prev,o(p),g,this)}},{key:"insertAfter",value:function(p,g){return l(g,o(p),g.next,this)}},{key:"insertNodeBefore",value:function(p,g){return l(g.prev,p,g,this)}},{key:"insertNodeAfter",value:function(p,g){return l(g,p,g.next,this)}},{key:"push",value:function(p){return l(this.tail,o(p),null,this)}},{key:"unshift",value:function(p){return l(null,o(p),this.head,this)}},{key:"remove",value:function(p){return u(p,this)}},{key:"pop",value:function(){return u(this.tail,this).value}},{key:"popNode",value:function(){return u(this.tail,this)}},{key:"shift",value:function(){return u(this.head,this).value}},{key:"shiftNode",value:function(){return u(this.head,this)}},{key:"get_object_at",value:function(p){if(p<=this.length()){for(var g=1,y=this.head;g<p;)y=y.next,g++;return y.value}}},{key:"set_object_at",value:function(p,g){if(p<=this.length()){for(var y=1,x=this.head;y<p;)x=x.next,y++;x.value=g}}}]),f}();r.exports=c},function(r,n,a){function i(s,o,l){this.x=null,this.y=null,s==null&&o==null&&l==null?(this.x=0,this.y=0):typeof s=="number"&&typeof o=="number"&&l==null?(this.x=s,this.y=o):s.constructor.name=="Point"&&o==null&&l==null&&(l=s,this.x=l.x,this.y=l.y)}i.prototype.getX=function(){return this.x},i.prototype.getY=function(){return this.y},i.prototype.getLocation=function(){return new i(this.x,this.y)},i.prototype.setLocation=function(s,o,l){s.constructor.name=="Point"&&o==null&&l==null?(l=s,this.setLocation(l.x,l.y)):typeof s=="number"&&typeof o=="number"&&l==null&&(parseInt(s)==s&&parseInt(o)==o?this.move(s,o):(this.x=Math.floor(s+.5),this.y=Math.floor(o+.5)))},i.prototype.move=function(s,o){this.x=s,this.y=o},i.prototype.translate=function(s,o){this.x+=s,this.y+=o},i.prototype.equals=function(s){if(s.constructor.name=="Point"){var o=s;return this.x==o.x&&this.y==o.y}return this==s},i.prototype.toString=function(){return new i().constructor.name+"[x="+this.x+",y="+this.y+"]"},r.exports=i},function(r,n,a){function i(s,o,l,u){this.x=0,this.y=0,this.width=0,this.height=0,s!=null&&o!=null&&l!=null&&u!=null&&(this.x=s,this.y=o,this.width=l,this.height=u)}i.prototype.getX=function(){return this.x},i.prototype.setX=function(s){this.x=s},i.prototype.getY=function(){return this.y},i.prototype.setY=function(s){this.y=s},i.prototype.getWidth=function(){return this.width},i.prototype.setWidth=function(s){this.width=s},i.prototype.getHeight=function(){return this.height},i.prototype.setHeight=function(s){this.height=s},i.prototype.getRight=function(){return this.x+this.width},i.prototype.getBottom=function(){return this.y+this.height},i.prototype.intersects=function(s){return!(this.getRight()<s.x||this.getBottom()<s.y||s.getRight()<this.x||s.getBottom()<this.y)},i.prototype.getCenterX=function(){return this.x+this.width/2},i.prototype.getMinX=function(){return this.getX()},i.prototype.getMaxX=function(){return this.getX()+this.width},i.prototype.getCenterY=function(){return this.y+this.height/2},i.prototype.getMinY=function(){return this.getY()},i.prototype.getMaxY=function(){return this.getY()+this.height},i.prototype.getWidthHalf=function(){return this.width/2},i.prototype.getHeightHalf=function(){return this.height/2},r.exports=i},function(r,n,a){var i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o};function s(){}s.lastID=0,s.createID=function(o){return s.isPrimitive(o)?o:(o.uniqueID!=null||(o.uniqueID=s.getString(),s.lastID++),o.uniqueID)},s.getString=function(o){return o==null&&(o=s.lastID),"Object#"+o},s.isPrimitive=function(o){var l=typeof o>"u"?"undefined":i(o);return o==null||l!="object"&&l!="function"},r.exports=s},function(r,n,a){function i(y){if(Array.isArray(y)){for(var x=0,b=Array(y.length);x<y.length;x++)b[x]=y[x];return b}else return Array.from(y)}var s=a(0),o=a(6),l=a(3),u=a(1),c=a(5),f=a(4),d=a(17),p=a(27);function g(y){p.call(this),this.layoutQuality=s.QUALITY,this.createBendsAsNeeded=s.DEFAULT_CREATE_BENDS_AS_NEEDED,this.incremental=s.DEFAULT_INCREMENTAL,this.animationOnLayout=s.DEFAULT_ANIMATION_ON_LAYOUT,this.animationDuringLayout=s.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=s.DEFAULT_ANIMATION_PERIOD,this.uniformLeafNodeSizes=s.DEFAULT_UNIFORM_LEAF_NODE_SIZES,this.edgeToDummyNodes=new Map,this.graphManager=new o(this),this.isLayoutFinished=!1,this.isSubLayout=!1,this.isRemoteUse=!1,y!=null&&(this.isRemoteUse=y)}g.RANDOM_SEED=1,g.prototype=Object.create(p.prototype),g.prototype.getGraphManager=function(){return this.graphManager},g.prototype.getAllNodes=function(){return this.graphManager.getAllNodes()},g.prototype.getAllEdges=function(){return this.graphManager.getAllEdges()},g.prototype.getAllNodesToApplyGravitation=function(){return this.graphManager.getAllNodesToApplyGravitation()},g.prototype.newGraphManager=function(){var y=new o(this);return this.graphManager=y,y},g.prototype.newGraph=function(y){return new c(null,this.graphManager,y)},g.prototype.newNode=function(y){return new l(this.graphManager,y)},g.prototype.newEdge=function(y){return new u(null,null,y)},g.prototype.checkLayoutSuccess=function(){return this.graphManager.getRoot()==null||this.graphManager.getRoot().getNodes().length==0||this.graphManager.includesInvalidEdge()},g.prototype.runLayout=function(){this.isLayoutFinished=!1,this.tilingPreLayout&&this.tilingPreLayout(),this.initParameters();var y;return this.checkLayoutSuccess()?y=!1:y=this.layout(),s.ANIMATE==="during"?!1:(y&&(this.isSubLayout||this.doPostLayout()),this.tilingPostLayout&&this.tilingPostLayout(),this.isLayoutFinished=!0,y)},g.prototype.doPostLayout=function(){this.incremental||this.transform(),this.update()},g.prototype.update2=function(){if(this.createBendsAsNeeded&&(this.createBendpointsFromDummyNodes(),this.graphManager.resetAllEdges()),!this.isRemoteUse){for(var y=this.graphManager.getAllEdges(),x=0;x<y.length;x++)y[x];for(var b=this.graphManager.getRoot().getNodes(),x=0;x<b.length;x++)b[x];this.update(this.graphManager.getRoot())}},g.prototype.update=function(y){if(y==null)this.update2();else if(y instanceof l){var x=y;if(x.getChild()!=null)for(var b=x.getChild().getNodes(),w=0;w<b.length;w++)update(b[w]);if(x.vGraphObject!=null){var _=x.vGraphObject;_.update(x)}}else if(y instanceof u){var k=y;if(k.vGraphObject!=null){var E=k.vGraphObject;E.update(k)}}else if(y instanceof c){var D=y;if(D.vGraphObject!=null){var M=D.vGraphObject;M.update(D)}}},g.prototype.initParameters=function(){this.isSubLayout||(this.layoutQuality=s.QUALITY,this.animationDuringLayout=s.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=s.DEFAULT_ANIMATION_PERIOD,this.animationOnLayout=s.DEFAULT_ANIMATION_ON_LAYOUT,this.incremental=s.DEFAULT_INCREMENTAL,this.createBendsAsNeeded=s.DEFAULT_CREATE_BENDS_AS_NEEDED,this.uniformLeafNodeSizes=s.DEFAULT_UNIFORM_LEAF_NODE_SIZES),this.animationDuringLayout&&(this.animationOnLayout=!1)},g.prototype.transform=function(y){if(y==null)this.transform(new f(0,0));else{var x=new d,b=this.graphManager.getRoot().updateLeftTop();if(b!=null){x.setWorldOrgX(y.x),x.setWorldOrgY(y.y),x.setDeviceOrgX(b.x),x.setDeviceOrgY(b.y);for(var w=this.getAllNodes(),_,k=0;k<w.length;k++)_=w[k],_.transform(x)}}},g.prototype.positionNodesRandomly=function(y){if(y==null)this.positionNodesRandomly(this.getGraphManager().getRoot()),this.getGraphManager().getRoot().updateBounds(!0);else for(var x,b,w=y.getNodes(),_=0;_<w.length;_++)x=w[_],b=x.getChild(),b==null||b.getNodes().length==0?x.scatter():(this.positionNodesRandomly(b),x.updateBounds())},g.prototype.getFlatForest=function(){for(var y=[],x=!0,b=this.graphManager.getRoot().getNodes(),w=!0,_=0;_<b.length;_++)b[_].getChild()!=null&&(w=!1);if(!w)return y;var k=new Set,E=[],D=new Map,M=[];for(M=M.concat(b);M.length>0&&x;){for(E.push(M[0]);E.length>0&&x;){var A=E[0];E.splice(0,1),k.add(A);for(var R=A.getEdges(),_=0;_<R.length;_++){var O=R[_].getOtherEnd(A);if(D.get(A)!=O)if(!k.has(O))E.push(O),D.set(O,A);else{x=!1;break}}}if(!x)y=[];else{var N=[].concat(i(k));y.push(N);for(var _=0;_<N.length;_++){var B=N[_],F=M.indexOf(B);F>-1&&M.splice(F,1)}k=new Set,D=new Map}}return y},g.prototype.createDummyNodesForBendpoints=function(y){for(var x=[],b=y.source,w=this.graphManager.calcLowestCommonAncestor(y.source,y.target),_=0;_<y.bendpoints.length;_++){var k=this.newNode(null);k.setRect(new Point(0,0),new Dimension(1,1)),w.add(k);var E=this.newEdge(null);this.graphManager.add(E,b,k),x.add(k),b=k}var E=this.newEdge(null);return this.graphManager.add(E,b,y.target),this.edgeToDummyNodes.set(y,x),y.isInterGraph()?this.graphManager.remove(y):w.remove(y),x},g.prototype.createBendpointsFromDummyNodes=function(){var y=[];y=y.concat(this.graphManager.getAllEdges()),y=[].concat(i(this.edgeToDummyNodes.keys())).concat(y);for(var x=0;x<y.length;x++){var b=y[x];if(b.bendpoints.length>0){for(var w=this.edgeToDummyNodes.get(b),_=0;_<w.length;_++){var k=w[_],E=new f(k.getCenterX(),k.getCenterY()),D=b.bendpoints.get(_);D.x=E.x,D.y=E.y,k.getOwner().remove(k)}this.graphManager.add(b,b.source,b.target)}}},g.transform=function(y,x,b,w){if(b!=null&&w!=null){var _=x;if(y<=50){var k=x/b;_-=(x-k)/50*(50-y)}else{var E=x*w;_+=(E-x)/50*(y-50)}return _}else{var D,M;return y<=50?(D=9*x/500,M=x/10):(D=9*x/50,M=-8*x),D*y+M}},g.findCenterOfTree=function(y){var x=[];x=x.concat(y);var b=[],w=new Map,_=!1,k=null;(x.length==1||x.length==2)&&(_=!0,k=x[0]);for(var E=0;E<x.length;E++){var D=x[E],M=D.getNeighborsList().size;w.set(D,D.getNeighborsList().size),M==1&&b.push(D)}var A=[];for(A=A.concat(b);!_;){var R=[];R=R.concat(A),A=[];for(var E=0;E<x.length;E++){var D=x[E],O=x.indexOf(D);O>=0&&x.splice(O,1);var N=D.getNeighborsList();N.forEach(function(V){if(b.indexOf(V)<0){var X=w.get(V),K=X-1;K==1&&A.push(V),w.set(V,K)}})}b=b.concat(A),(x.length==1||x.length==2)&&(_=!0,k=x[0])}return k},g.prototype.setGraphManager=function(y){this.graphManager=y},r.exports=g},function(r,n,a){function i(){}i.seed=1,i.x=0,i.nextDouble=function(){return i.x=Math.sin(i.seed++)*1e4,i.x-Math.floor(i.x)},r.exports=i},function(r,n,a){var i=a(4);function s(o,l){this.lworldOrgX=0,this.lworldOrgY=0,this.ldeviceOrgX=0,this.ldeviceOrgY=0,this.lworldExtX=1,this.lworldExtY=1,this.ldeviceExtX=1,this.ldeviceExtY=1}s.prototype.getWorldOrgX=function(){return this.lworldOrgX},s.prototype.setWorldOrgX=function(o){this.lworldOrgX=o},s.prototype.getWorldOrgY=function(){return this.lworldOrgY},s.prototype.setWorldOrgY=function(o){this.lworldOrgY=o},s.prototype.getWorldExtX=function(){return this.lworldExtX},s.prototype.setWorldExtX=function(o){this.lworldExtX=o},s.prototype.getWorldExtY=function(){return this.lworldExtY},s.prototype.setWorldExtY=function(o){this.lworldExtY=o},s.prototype.getDeviceOrgX=function(){return this.ldeviceOrgX},s.prototype.setDeviceOrgX=function(o){this.ldeviceOrgX=o},s.prototype.getDeviceOrgY=function(){return this.ldeviceOrgY},s.prototype.setDeviceOrgY=function(o){this.ldeviceOrgY=o},s.prototype.getDeviceExtX=function(){return this.ldeviceExtX},s.prototype.setDeviceExtX=function(o){this.ldeviceExtX=o},s.prototype.getDeviceExtY=function(){return this.ldeviceExtY},s.prototype.setDeviceExtY=function(o){this.ldeviceExtY=o},s.prototype.transformX=function(o){var l=0,u=this.lworldExtX;return u!=0&&(l=this.ldeviceOrgX+(o-this.lworldOrgX)*this.ldeviceExtX/u),l},s.prototype.transformY=function(o){var l=0,u=this.lworldExtY;return u!=0&&(l=this.ldeviceOrgY+(o-this.lworldOrgY)*this.ldeviceExtY/u),l},s.prototype.inverseTransformX=function(o){var l=0,u=this.ldeviceExtX;return u!=0&&(l=this.lworldOrgX+(o-this.ldeviceOrgX)*this.lworldExtX/u),l},s.prototype.inverseTransformY=function(o){var l=0,u=this.ldeviceExtY;return u!=0&&(l=this.lworldOrgY+(o-this.ldeviceOrgY)*this.lworldExtY/u),l},s.prototype.inverseTransformPoint=function(o){var l=new i(this.inverseTransformX(o.x),this.inverseTransformY(o.y));return l},r.exports=s},function(r,n,a){function i(p){if(Array.isArray(p)){for(var g=0,y=Array(p.length);g<p.length;g++)y[g]=p[g];return y}else return Array.from(p)}var s=a(15),o=a(7),l=a(0),u=a(8),c=a(9);function f(){s.call(this),this.useSmartIdealEdgeLengthCalculation=o.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.idealEdgeLength=o.DEFAULT_EDGE_LENGTH,this.springConstant=o.DEFAULT_SPRING_STRENGTH,this.repulsionConstant=o.DEFAULT_REPULSION_STRENGTH,this.gravityConstant=o.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=o.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=o.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=o.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.displacementThresholdPerNode=3*o.DEFAULT_EDGE_LENGTH/100,this.coolingFactor=o.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.initialCoolingFactor=o.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.totalDisplacement=0,this.oldTotalDisplacement=0,this.maxIterations=o.MAX_ITERATIONS}f.prototype=Object.create(s.prototype);for(var d in s)f[d]=s[d];f.prototype.initParameters=function(){s.prototype.initParameters.call(this,arguments),this.totalIterations=0,this.notAnimatedIterations=0,this.useFRGridVariant=o.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION,this.grid=[]},f.prototype.calcIdealEdgeLengths=function(){for(var p,g,y,x,b,w,_=this.getGraphManager().getAllEdges(),k=0;k<_.length;k++)p=_[k],p.idealLength=this.idealEdgeLength,p.isInterGraph&&(y=p.getSource(),x=p.getTarget(),b=p.getSourceInLca().getEstimatedSize(),w=p.getTargetInLca().getEstimatedSize(),this.useSmartIdealEdgeLengthCalculation&&(p.idealLength+=b+w-2*l.SIMPLE_NODE_SIZE),g=p.getLca().getInclusionTreeDepth(),p.idealLength+=o.DEFAULT_EDGE_LENGTH*o.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR*(y.getInclusionTreeDepth()+x.getInclusionTreeDepth()-2*g))},f.prototype.initSpringEmbedder=function(){var p=this.getAllNodes().length;this.incremental?(p>o.ADAPTATION_LOWER_NODE_LIMIT&&(this.coolingFactor=Math.max(this.coolingFactor*o.COOLING_ADAPTATION_FACTOR,this.coolingFactor-(p-o.ADAPTATION_LOWER_NODE_LIMIT)/(o.ADAPTATION_UPPER_NODE_LIMIT-o.ADAPTATION_LOWER_NODE_LIMIT)*this.coolingFactor*(1-o.COOLING_ADAPTATION_FACTOR))),this.maxNodeDisplacement=o.MAX_NODE_DISPLACEMENT_INCREMENTAL):(p>o.ADAPTATION_LOWER_NODE_LIMIT?this.coolingFactor=Math.max(o.COOLING_ADAPTATION_FACTOR,1-(p-o.ADAPTATION_LOWER_NODE_LIMIT)/(o.ADAPTATION_UPPER_NODE_LIMIT-o.ADAPTATION_LOWER_NODE_LIMIT)*(1-o.COOLING_ADAPTATION_FACTOR)):this.coolingFactor=1,this.initialCoolingFactor=this.coolingFactor,this.maxNodeDisplacement=o.MAX_NODE_DISPLACEMENT),this.maxIterations=Math.max(this.getAllNodes().length*5,this.maxIterations),this.totalDisplacementThreshold=this.displacementThresholdPerNode*this.getAllNodes().length,this.repulsionRange=this.calcRepulsionRange()},f.prototype.calcSpringForces=function(){for(var p=this.getAllEdges(),g,y=0;y<p.length;y++)g=p[y],this.calcSpringForce(g,g.idealLength)},f.prototype.calcRepulsionForces=function(){var p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,y,x,b,w,_=this.getAllNodes(),k;if(this.useFRGridVariant)for(this.totalIterations%o.GRID_CALCULATION_CHECK_PERIOD==1&&p&&this.updateGrid(),k=new Set,y=0;y<_.length;y++)b=_[y],this.calculateRepulsionForceOfANode(b,k,p,g),k.add(b);else for(y=0;y<_.length;y++)for(b=_[y],x=y+1;x<_.length;x++)w=_[x],b.getOwner()==w.getOwner()&&this.calcRepulsionForce(b,w)},f.prototype.calcGravitationalForces=function(){for(var p,g=this.getAllNodesToApplyGravitation(),y=0;y<g.length;y++)p=g[y],this.calcGravitationalForce(p)},f.prototype.moveNodes=function(){for(var p=this.getAllNodes(),g,y=0;y<p.length;y++)g=p[y],g.move()},f.prototype.calcSpringForce=function(p,g){var y=p.getSource(),x=p.getTarget(),b,w,_,k;if(this.uniformLeafNodeSizes&&y.getChild()==null&&x.getChild()==null)p.updateLengthSimple();else if(p.updateLength(),p.isOverlapingSourceAndTarget)return;b=p.getLength(),b!=0&&(w=this.springConstant*(b-g),_=w*(p.lengthX/b),k=w*(p.lengthY/b),y.springForceX+=_,y.springForceY+=k,x.springForceX-=_,x.springForceY-=k)},f.prototype.calcRepulsionForce=function(p,g){var y=p.getRect(),x=g.getRect(),b=new Array(2),w=new Array(4),_,k,E,D,M,A,R;if(y.intersects(x)){u.calcSeparationAmount(y,x,b,o.DEFAULT_EDGE_LENGTH/2),A=2*b[0],R=2*b[1];var O=p.noOfChildren*g.noOfChildren/(p.noOfChildren+g.noOfChildren);p.repulsionForceX-=O*A,p.repulsionForceY-=O*R,g.repulsionForceX+=O*A,g.repulsionForceY+=O*R}else this.uniformLeafNodeSizes&&p.getChild()==null&&g.getChild()==null?(_=x.getCenterX()-y.getCenterX(),k=x.getCenterY()-y.getCenterY()):(u.getIntersection(y,x,w),_=w[2]-w[0],k=w[3]-w[1]),Math.abs(_)<o.MIN_REPULSION_DIST&&(_=c.sign(_)*o.MIN_REPULSION_DIST),Math.abs(k)<o.MIN_REPULSION_DIST&&(k=c.sign(k)*o.MIN_REPULSION_DIST),E=_*_+k*k,D=Math.sqrt(E),M=this.repulsionConstant*p.noOfChildren*g.noOfChildren/E,A=M*_/D,R=M*k/D,p.repulsionForceX-=A,p.repulsionForceY-=R,g.repulsionForceX+=A,g.repulsionForceY+=R},f.prototype.calcGravitationalForce=function(p){var g,y,x,b,w,_,k,E;g=p.getOwner(),y=(g.getRight()+g.getLeft())/2,x=(g.getTop()+g.getBottom())/2,b=p.getCenterX()-y,w=p.getCenterY()-x,_=Math.abs(b)+p.getWidth()/2,k=Math.abs(w)+p.getHeight()/2,p.getOwner()==this.graphManager.getRoot()?(E=g.getEstimatedSize()*this.gravityRangeFactor,(_>E||k>E)&&(p.gravitationForceX=-this.gravityConstant*b,p.gravitationForceY=-this.gravityConstant*w)):(E=g.getEstimatedSize()*this.compoundGravityRangeFactor,(_>E||k>E)&&(p.gravitationForceX=-this.gravityConstant*b*this.compoundGravityConstant,p.gravitationForceY=-this.gravityConstant*w*this.compoundGravityConstant))},f.prototype.isConverged=function(){var p,g=!1;return this.totalIterations>this.maxIterations/3&&(g=Math.abs(this.totalDisplacement-this.oldTotalDisplacement)<2),p=this.totalDisplacement<this.totalDisplacementThreshold,this.oldTotalDisplacement=this.totalDisplacement,p||g},f.prototype.animate=function(){this.animationDuringLayout&&!this.isSubLayout&&(this.notAnimatedIterations==this.animationPeriod?(this.update(),this.notAnimatedIterations=0):this.notAnimatedIterations++)},f.prototype.calcNoOfChildrenForAllNodes=function(){for(var p,g=this.graphManager.getAllNodes(),y=0;y<g.length;y++)p=g[y],p.noOfChildren=p.getNoOfChildren()},f.prototype.calcGrid=function(p){var g=0,y=0;g=parseInt(Math.ceil((p.getRight()-p.getLeft())/this.repulsionRange)),y=parseInt(Math.ceil((p.getBottom()-p.getTop())/this.repulsionRange));for(var x=new Array(g),b=0;b<g;b++)x[b]=new Array(y);for(var b=0;b<g;b++)for(var w=0;w<y;w++)x[b][w]=new Array;return x},f.prototype.addNodeToGrid=function(p,g,y){var x=0,b=0,w=0,_=0;x=parseInt(Math.floor((p.getRect().x-g)/this.repulsionRange)),b=parseInt(Math.floor((p.getRect().width+p.getRect().x-g)/this.repulsionRange)),w=parseInt(Math.floor((p.getRect().y-y)/this.repulsionRange)),_=parseInt(Math.floor((p.getRect().height+p.getRect().y-y)/this.repulsionRange));for(var k=x;k<=b;k++)for(var E=w;E<=_;E++)this.grid[k][E].push(p),p.setGridCoordinates(x,b,w,_)},f.prototype.updateGrid=function(){var p,g,y=this.getAllNodes();for(this.grid=this.calcGrid(this.graphManager.getRoot()),p=0;p<y.length;p++)g=y[p],this.addNodeToGrid(g,this.graphManager.getRoot().getLeft(),this.graphManager.getRoot().getTop())},f.prototype.calculateRepulsionForceOfANode=function(p,g,y,x){if(this.totalIterations%o.GRID_CALCULATION_CHECK_PERIOD==1&&y||x){var b=new Set;p.surrounding=new Array;for(var w,_=this.grid,k=p.startX-1;k<p.finishX+2;k++)for(var E=p.startY-1;E<p.finishY+2;E++)if(!(k<0||E<0||k>=_.length||E>=_[0].length)){for(var D=0;D<_[k][E].length;D++)if(w=_[k][E][D],!(p.getOwner()!=w.getOwner()||p==w)&&!g.has(w)&&!b.has(w)){var M=Math.abs(p.getCenterX()-w.getCenterX())-(p.getWidth()/2+w.getWidth()/2),A=Math.abs(p.getCenterY()-w.getCenterY())-(p.getHeight()/2+w.getHeight()/2);M<=this.repulsionRange&&A<=this.repulsionRange&&b.add(w)}}p.surrounding=[].concat(i(b))}for(k=0;k<p.surrounding.length;k++)this.calcRepulsionForce(p,p.surrounding[k])},f.prototype.calcRepulsionRange=function(){return 0},r.exports=f},function(r,n,a){var i=a(1),s=a(7);function o(u,c,f){i.call(this,u,c,f),this.idealLength=s.DEFAULT_EDGE_LENGTH}o.prototype=Object.create(i.prototype);for(var l in i)o[l]=i[l];r.exports=o},function(r,n,a){var i=a(3);function s(l,u,c,f){i.call(this,l,u,c,f),this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0,this.startX=0,this.finishX=0,this.startY=0,this.finishY=0,this.surrounding=[]}s.prototype=Object.create(i.prototype);for(var o in i)s[o]=i[o];s.prototype.setGridCoordinates=function(l,u,c,f){this.startX=l,this.finishX=u,this.startY=c,this.finishY=f},r.exports=s},function(r,n,a){function i(s,o){this.width=0,this.height=0,s!==null&&o!==null&&(this.height=o,this.width=s)}i.prototype.getWidth=function(){return this.width},i.prototype.setWidth=function(s){this.width=s},i.prototype.getHeight=function(){return this.height},i.prototype.setHeight=function(s){this.height=s},r.exports=i},function(r,n,a){var i=a(14);function s(){this.map={},this.keys=[]}s.prototype.put=function(o,l){var u=i.createID(o);this.contains(u)||(this.map[u]=l,this.keys.push(o))},s.prototype.contains=function(o){return i.createID(o),this.map[o]!=null},s.prototype.get=function(o){var l=i.createID(o);return this.map[l]},s.prototype.keySet=function(){return this.keys},r.exports=s},function(r,n,a){var i=a(14);function s(){this.set={}}s.prototype.add=function(o){var l=i.createID(o);this.contains(l)||(this.set[l]=o)},s.prototype.remove=function(o){delete this.set[i.createID(o)]},s.prototype.clear=function(){this.set={}},s.prototype.contains=function(o){return this.set[i.createID(o)]==o},s.prototype.isEmpty=function(){return this.size()===0},s.prototype.size=function(){return Object.keys(this.set).length},s.prototype.addAllTo=function(o){for(var l=Object.keys(this.set),u=l.length,c=0;c<u;c++)o.push(this.set[l[c]])},s.prototype.size=function(){return Object.keys(this.set).length},s.prototype.addAll=function(o){for(var l=o.length,u=0;u<l;u++){var c=o[u];this.add(c)}},r.exports=s},function(r,n,a){var i=function(){function u(c,f){for(var d=0;d<f.length;d++){var p=f[d];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(c,p.key,p)}}return function(c,f,d){return f&&u(c.prototype,f),d&&u(c,d),c}}();function s(u,c){if(!(u instanceof c))throw new TypeError("Cannot call a class as a function")}var o=a(11),l=function(){function u(c,f){s(this,u),(f!==null||f!==void 0)&&(this.compareFunction=this._defaultCompareFunction);var d=void 0;c instanceof o?d=c.size():d=c.length,this._quicksort(c,0,d-1)}return i(u,[{key:"_quicksort",value:function(f,d,p){if(d<p){var g=this._partition(f,d,p);this._quicksort(f,d,g),this._quicksort(f,g+1,p)}}},{key:"_partition",value:function(f,d,p){for(var g=this._get(f,d),y=d,x=p;;){for(;this.compareFunction(g,this._get(f,x));)x--;for(;this.compareFunction(this._get(f,y),g);)y++;if(y<x)this._swap(f,y,x),y++,x--;else return x}}},{key:"_get",value:function(f,d){return f instanceof o?f.get_object_at(d):f[d]}},{key:"_set",value:function(f,d,p){f instanceof o?f.set_object_at(d,p):f[d]=p}},{key:"_swap",value:function(f,d,p){var g=this._get(f,d);this._set(f,d,this._get(f,p)),this._set(f,p,g)}},{key:"_defaultCompareFunction",value:function(f,d){return d>f}}]),u}();r.exports=l},function(r,n,a){var i=function(){function l(u,c){for(var f=0;f<c.length;f++){var d=c[f];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(u,d.key,d)}}return function(u,c,f){return c&&l(u.prototype,c),f&&l(u,f),u}}();function s(l,u){if(!(l instanceof u))throw new TypeError("Cannot call a class as a function")}var o=function(){function l(u,c){var f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,d=arguments.length>3&&arguments[3]!==void 0?arguments[3]:-1,p=arguments.length>4&&arguments[4]!==void 0?arguments[4]:-1;s(this,l),this.sequence1=u,this.sequence2=c,this.match_score=f,this.mismatch_penalty=d,this.gap_penalty=p,this.iMax=u.length+1,this.jMax=c.length+1,this.grid=new Array(this.iMax);for(var g=0;g<this.iMax;g++){this.grid[g]=new Array(this.jMax);for(var y=0;y<this.jMax;y++)this.grid[g][y]=0}this.tracebackGrid=new Array(this.iMax);for(var x=0;x<this.iMax;x++){this.tracebackGrid[x]=new Array(this.jMax);for(var b=0;b<this.jMax;b++)this.tracebackGrid[x][b]=[null,null,null]}this.alignments=[],this.score=-1,this.computeGrids()}return i(l,[{key:"getScore",value:function(){return this.score}},{key:"getAlignments",value:function(){return this.alignments}},{key:"computeGrids",value:function(){for(var c=1;c<this.jMax;c++)this.grid[0][c]=this.grid[0][c-1]+this.gap_penalty,this.tracebackGrid[0][c]=[!1,!1,!0];for(var f=1;f<this.iMax;f++)this.grid[f][0]=this.grid[f-1][0]+this.gap_penalty,this.tracebackGrid[f][0]=[!1,!0,!1];for(var d=1;d<this.iMax;d++)for(var p=1;p<this.jMax;p++){var g=void 0;this.sequence1[d-1]===this.sequence2[p-1]?g=this.grid[d-1][p-1]+this.match_score:g=this.grid[d-1][p-1]+this.mismatch_penalty;var y=this.grid[d-1][p]+this.gap_penalty,x=this.grid[d][p-1]+this.gap_penalty,b=[g,y,x],w=this.arrayAllMaxIndexes(b);this.grid[d][p]=b[w[0]],this.tracebackGrid[d][p]=[w.includes(0),w.includes(1),w.includes(2)]}this.score=this.grid[this.iMax-1][this.jMax-1]}},{key:"alignmentTraceback",value:function(){var c=[];for(c.push({pos:[this.sequence1.length,this.sequence2.length],seq1:"",seq2:""});c[0];){var f=c[0],d=this.tracebackGrid[f.pos[0]][f.pos[1]];d[0]&&c.push({pos:[f.pos[0]-1,f.pos[1]-1],seq1:this.sequence1[f.pos[0]-1]+f.seq1,seq2:this.sequence2[f.pos[1]-1]+f.seq2}),d[1]&&c.push({pos:[f.pos[0]-1,f.pos[1]],seq1:this.sequence1[f.pos[0]-1]+f.seq1,seq2:"-"+f.seq2}),d[2]&&c.push({pos:[f.pos[0],f.pos[1]-1],seq1:"-"+f.seq1,seq2:this.sequence2[f.pos[1]-1]+f.seq2}),f.pos[0]===0&&f.pos[1]===0&&this.alignments.push({sequence1:f.seq1,sequence2:f.seq2}),c.shift()}return this.alignments}},{key:"getAllIndexes",value:function(c,f){for(var d=[],p=-1;(p=c.indexOf(f,p+1))!==-1;)d.push(p);return d}},{key:"arrayAllMaxIndexes",value:function(c){return this.getAllIndexes(c,Math.max.apply(null,c))}}]),l}();r.exports=o},function(r,n,a){var i=function(){};i.FDLayout=a(18),i.FDLayoutConstants=a(7),i.FDLayoutEdge=a(19),i.FDLayoutNode=a(20),i.DimensionD=a(21),i.HashMap=a(22),i.HashSet=a(23),i.IGeometry=a(8),i.IMath=a(9),i.Integer=a(10),i.Point=a(12),i.PointD=a(4),i.RandomSeed=a(16),i.RectangleD=a(13),i.Transform=a(17),i.UniqueIDGeneretor=a(14),i.Quicksort=a(24),i.LinkedList=a(11),i.LGraphObject=a(2),i.LGraph=a(5),i.LEdge=a(1),i.LGraphManager=a(6),i.LNode=a(3),i.Layout=a(15),i.LayoutConstants=a(0),i.NeedlemanWunsch=a(25),r.exports=i},function(r,n,a){function i(){this.listeners=[]}var s=i.prototype;s.addListener=function(o,l){this.listeners.push({event:o,callback:l})},s.removeListener=function(o,l){for(var u=this.listeners.length;u>=0;u--){var c=this.listeners[u];c.event===o&&c.callback===l&&this.listeners.splice(u,1)}},s.emit=function(o,l){for(var u=0;u<this.listeners.length;u++){var c=this.listeners[u];o===c.event&&c.callback(l)}},r.exports=i}])})}(uv)),uv.exports}var e7;function OW(){return e7||(e7=1,function(t,e){(function(n,a){t.exports=a(RW())})(iy,function(r){return function(n){var a={};function i(s){if(a[s])return a[s].exports;var o=a[s]={i:s,l:!1,exports:{}};return n[s].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=n,i.c=a,i.i=function(s){return s},i.d=function(s,o,l){i.o(s,o)||Object.defineProperty(s,o,{configurable:!1,enumerable:!0,get:l})},i.n=function(s){var o=s&&s.__esModule?function(){return s.default}:function(){return s};return i.d(o,"a",o),o},i.o=function(s,o){return Object.prototype.hasOwnProperty.call(s,o)},i.p="",i(i.s=6)}([function(n,a){n.exports=r},function(n,a,i){var s=i(0).LGraph;function o(u,c,f){s.call(this,u,c,f),this.inOrder=void 0,this.currentIndex=0,this.nodeSeparation=void 0,this.stack=[],this.perimeter=0,this.centerX=0,this.centerY=0,this.radius=0}o.prototype=Object.create(s.prototype);for(var l in s)o[l]=s[l];o.prototype.initOrdering=function(){this.inOrder=[]},o.prototype.getOrder=function(){return this.inOrder},o.prototype.getCenterX=function(){return this.centerX},o.prototype.getCenterY=function(){return this.centerY},o.prototype.getRadius=function(){return this.radius},o.prototype.getSize=function(){return this.getNodes().length},o.prototype.getTotalCrossingOfCircle=function(){var u=this,c=0;for(var f in u.inOrder){var d=f.getTotalCrossingOfEdges();if(d===-1)return-1;c+=d}return c/4},o.prototype.hasFinishedOrdering=function(){return this.currentIndex===this.getNodes().length},o.prototype.getNodeSeparation=function(){return this.nodeSeparation},o.prototype.setNodeSeparation=function(u){this.nodeSeparation=u},o.prototype.correctAngles=function(){var u=this;u.currentIndex=0,u.inOrder.forEach(function(c){return u.putInOrder(c)})},o.prototype.putInOrder=function(u){for(var c=this,f=c.getNodes(),d=!1,p=0;p<f.length;p++)if(f[p].id==u.id){d=!0;break}if(!d)throw"The node must be a member of LGraph";c.inOrder[c.currentIndex]=u,u.setIndex(c.currentIndex),c.currentIndex===0?u.setAngle(0):u.setAngle(c.inOrder[c.currentIndex-1].getAngle()+2*Math.PI*(u.getDiagonal()/2+c.nodeSeparation+c.inOrder[c.currentIndex-1].getDiagonal()/2)/c.perimeter),c.currentIndex++},o.prototype.findNodeToPlace=function(){var u=this,c=void 0;if(u.stack.length===0)c=u.findUnorderedSmallestDegreeNode();else{for(var f=!1;!f&&u.stack.length!==0;)c=u.stack.pop(),f=!c.isOrdered();f||(c=void 0)}if(c===void 0&&(c=u.findUnorderedSmallestDegreeNode()),c!==void 0)for(var d=c.getNeighborsSortedByDegree(),p=d.length-1;p>=0;p--){var g=d[p];g.isOrdered()||u.stack.push(g)}return c},o.prototype.calculateRadius=function(){var u=this,c=0;u.getNodes().forEach(function(d){return c+=Math.sqrt(d.getWidth()*d.getWidth()+d.getHeight()*d.getHeight())}),u.perimeter=c+u.getNodes().length*u.nodeSeparation;var f=u.perimeter/(2*Math.PI);u.getParent().setWidth(2*f),u.getParent().setHeight(2*f),u.getParent().setCenter(u.getParent().getWidth(),u.getParent().getHeight()),u.centerX=u.getParent().getCenterX(),u.centerY=u.getParent().getCenterY(),u.radius=u.getParent().getHeight()/2},o.prototype.calculateEdgeCrossingsOfNodes=function(){this.getNodes().forEach(function(u){return u.calculateTotalCrossing()})},o.prototype.loadOldIndicesOfNodes=function(){for(var u=this,c=0;c<this.inOrder.length;c++)u.inOrder[c].setIndex(c)},o.prototype.reOrderVertices=function(){var u=this;this.getNodes().forEach(function(c){return u.inOrder[c.getIndex()]=c})},o.prototype.findUnorderedSmallestDegreeNode=function(){var u=Number.MAX_SAFE_INTEGER,c=void 0;return this.getNodes().forEach(function(f){f.getDegree()<u&&!f.isOrdered()&&(u=f.getDegree(),c=f)}),c},n.exports=o},function(n,a,i){var s=i(0).LayoutConstants;function o(){}for(var l in s)o[l]=s[l];o.DEFAULT_NODE_SEPARATION=60,n.exports=o},function(n,a,i){var s=i(0).LEdge;function o(u,c,f){s.call(this,u,c,f)}o.prototype=Object.create(s.prototype);for(var l in s)o[l]=s[l];o.prototype.getOtherEnd=function(u){return s.prototype.getOtherEnd(u)},o.prototype.crossesWithEdge=function(u){var c=this,f=c.getSource().getIndex(),d=c.getTarget().getIndex(),p=u.getSource().getIndex(),g=u.getTarget().getIndex();if(f===-1||d===-1||p===-1||g===-1)return!1;var y=u.getSource().getCircDistWithTheNode(c.getSource()),x=u.getTarget().getCircDistWithTheNode(c.getSource()),b=c.getTarget().getCircDistWithTheNode(c.getSource());return b<Math.max(y,x)&&b>Math.min(y,x)&&x!==0&&y!==0},o.prototype.crossingWithEdge=function(u){var c=this,f=c.crossesWithEdge(u);return f?1:0},o.prototype.calculateTotalCrossingWithList=function(u){var c=this,f=0;return u.forEach(function(d){return f+=c.crossingWithEdge(d)}),f},n.exports=o},function(n,a,i){var s=i(0).LNode;i(0).Quicksort;function o(u,c,f,d){f!==void 0&&d!==void 0?s.call(this,u,c,f,d):s.call(this,u,c),this.angle=0,this.circleIndex=-1,this.totalCrossingOfEdges=-1,this.isCrossingNumberValid=!1}o.prototype=Object.create(s.prototype);for(var l in s)o[l]=s[l];o.prototype.getCircle=function(){return this.getOwner()},o.prototype.setIndex=function(u){this.circleIndex=u,this.isCrossingNumberValid=!1},o.prototype.getIndex=function(){return this.circleIndex},o.prototype.getNeighborsSortedByDegree=function(){var u=this,c=Array.from(u.getNeighborsList());return c=c.filter(function(f){return f.getIndex()===-1}),c.sort(function(f,d){return f.getDegree()-d.getDegree()}),c},o.prototype.getDegree=function(){return this.getEdges().length},o.prototype.isOrdered=function(){return this.getIndex()>-1},o.prototype.setAngle=function(u){this.angle=u},o.prototype.getAngle=function(){return this.angle},o.prototype.getCircDistWithTheNode=function(u){var c=this,f=u.getIndex();if(f===-1||c.getIndex()===-1)return-1;var d=c.getIndex()-f;return d<0&&(d+=c.getCircle().getSize()),d},o.prototype.getCrossingNumberWithNode=function(u){var c=this,f=0;return c.getEdges().forEach(function(d){u.getEdges().forEach(function(p){f+=d.crossingWithEdge(p)})}),f},o.prototype.getTotalCrossingOfEdges=function(){var u=this;return u.isCrossingNumberValid||(u.calculateTotalCrossing(),u.isCrossingNumberValid=!0),u.totalCrossingOfEdges},o.prototype.calculateTotalCrossing=function(){var u=this,c=0,f=[];f.push.apply(f,u.getCircle().getEdges()),f=f.filter(function(d){return u.getEdges().indexOf(d)<0}),u.getEdges().forEach(function(d){return c+=d.calculateTotalCrossingWithList(f)}),u.totalCrossingOfEdges=c},n.exports=o},function(n,a,i){var s=i(0).Layout,o=i(2),l=i(1),u=i(4),c=i(3);function f(){s.call(this),this.nodeSeparation=o.DEFAULT_NODE_SEPARATION}f.prototype=Object.create(s.prototype);for(var d in s)f[d]=s[d];f.prototype.newGraph=function(p){return this.avsdfCircle=new l(null,this.graphManager,p),this.avsdfCircle},f.prototype.newNode=function(p){return new u(this.graphManager,p)},f.prototype.newEdge=function(p){return new c(null,null,p)},f.prototype.getPositionsData=function(){for(var p=this.graphManager.getAllNodes(),g={},y=0;y<p.length;y++){var x=p[y].rect,b=p[y].id;g[b]={id:b,x:x.getCenterX(),y:x.getCenterY(),w:x.width,h:x.height}}return g},f.prototype.layout=function(){var p=this;if(p.graphManager.getGraphs().length>1)return!1;var g=this.avsdfCircle;for(g.setNodeSeparation(this.nodeSeparation),g.calculateRadius(),g.initOrdering();!g.hasFinishedOrdering();){var y=g.findNodeToPlace();g.putInOrder(y)}return!0},f.prototype.updateNodeAngles=function(){this.graphManager.getRoot().correctAngles()},f.prototype.updateNodeCoordinates=function(){var p=this.graphManager.getRoot();p.getNodes().forEach(function(g){g.setCenter(p.getCenterX()+p.getRadius()*Math.cos(g.getAngle()),p.getCenterY()+p.getRadius()*Math.sin(g.getAngle()))})},f.prototype.initPostProcess=function(){this.avsdfCircle.calculateEdgeCrossingsOfNodes();var p=this.avsdfCircle.getNodes();return p.sort(function(g,y){return y.getTotalCrossingOfEdges()-g.getTotalCrossingOfEdges()}),p},f.prototype.oneStepPostProcess=function(p){for(var g=this,y=p.getTotalCrossingOfEdges(),x=void 0,b=Array.from(p.getNeighborsList()),w=0;w<b.length;w++){var _=b[w],k=p.getIndex(),E=(_.getIndex()+1)%g.avsdfCircle.getSize();if(k!==E){p.setIndex(E),k<p.getIndex()&&(k+=g.avsdfCircle.getSize());for(var D=p.getIndex();D<k;){var M=g.avsdfCircle.getOrder()[D%g.avsdfCircle.getSize()];M.setIndex((M.getIndex()+1)%g.avsdfCircle.getSize()),D+=1}p.calculateTotalCrossing(),x=p.getTotalCrossingOfEdges(),x>=y?g.avsdfCircle.loadOldIndicesOfNodes():(g.avsdfCircle.reOrderVertices(),y=x)}}},n.exports=f},function(n,a,i){var s={};s.layoutBase=i(0),s.AVSDFConstants=i(2),s.AVSDFEdge=i(3),s.AVSDFCircle=i(1),s.AVSDFLayout=i(5),s.AVSDFNode=i(4),n.exports=s}])})}(lv)),lv.exports}(function(t,e){(function(n,a){t.exports=a(OW())})(iy,function(r){return function(n){var a={};function i(s){if(a[s])return a[s].exports;var o=a[s]={i:s,l:!1,exports:{}};return n[s].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=n,i.c=a,i.i=function(s){return s},i.d=function(s,o,l){i.o(s,o)||Object.defineProperty(s,o,{configurable:!1,enumerable:!0,get:l})},i.n=function(s){var o=s&&s.__esModule?function(){return s.default}:function(){return s};return i.d(o,"a",o),o},i.o=function(s,o){return Object.prototype.hasOwnProperty.call(s,o)},i.p="",i(i.s=3)}([function(n,a){n.exports=r},function(n,a,i){n.exports=Object.assign!=null?Object.assign.bind(Object):function(s){for(var o=arguments.length,l=Array(o>1?o-1:0),u=1;u<o;u++)l[u-1]=arguments[u];return l.forEach(function(c){Object.keys(c).forEach(function(f){return s[f]=c[f]})}),s}},function(n,a,i){n.exports=i(4)},function(n,a,i){var s=i(2),o=function(u){u&&u("layout","avsdf",s)};typeof cytoscape<"u"&&o(cytoscape),n.exports=o},function(n,a,i){var s=function(){function k(E,D){for(var M=0;M<D.length;M++){var A=D[M];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(E,A.key,A)}}return function(E,D,M){return D&&k(E.prototype,D),M&&k(E,M),E}}(),o=function k(E,D,M){E===null&&(E=Function.prototype);var A=Object.getOwnPropertyDescriptor(E,D);if(A===void 0){var R=Object.getPrototypeOf(E);return R===null?void 0:k(R,D,M)}else{if("value"in A)return A.value;var O=A.get;return O===void 0?void 0:O.call(M)}};function l(k,E){if(!(k instanceof E))throw new TypeError("Cannot call a class as a function")}function u(k,E){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:k}function c(k,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);k.prototype=Object.create(E&&E.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(k,E):k.__proto__=E)}var f=i(0).AVSDFLayout,d=i(0).AVSDFNode,p=i(0).AVSDFConstants,g=i(0).layoutBase.PointD,y=i(0).layoutBase.DimensionD,x=i(1),b=i(6),w={ready:function(){},stop:function(){},refresh:30,fit:!0,padding:10,randomize:!1,animate:"end",animationDuration:500,nodeSeparation:60},_=function(k){c(E,k);function E(D){l(this,E);var M=u(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,x({},w,D)));return D.nodeSeparation!=null?p.DEFAULT_NODE_SEPARATION=D.nodeSeparation:p.DEFAULT_NODE_SEPARATION=w.nodeSeparation,M}return s(E,[{key:"prerun",value:function(){var M=this.state,A=this.avsdfLayout=new f,R=this.graphManager=A.newGraphManager(),O=this.root=R.addRoot(),N=M.nodes,B=M.edges;this.idToLNode={},this.processChildrenList(O,N,A);for(var F=0;F<B.length;F++){var V=B[F],X=this.idToLNode[V.data("source")],K=this.idToLNode[V.data("target")];if(X!==K&&X.getEdgesBetween(K).length===0){var U=R.add(A.newEdge(),X,K);U.id=V.id()}}A.layout(),A.updateNodeCoordinates(),this.sortedByDegreeList=A.initPostProcess()}},{key:"tick",value:function(){var M=this,A=this.state,R=this.avsdfLayout.getPositionsData();if(A.nodes.forEach(function(O){var N=M.getScratch(O);N.x=R[O.data("id")].x,N.y=R[O.data("id")].y}),A.tickIndex>=A.nodes.size())return!0;this.avsdfLayout.oneStepPostProcess(this.sortedByDegreeList[A.tickIndex]),this.avsdfLayout.updateNodeAngles(),this.avsdfLayout.updateNodeCoordinates()}},{key:"postrun",value:function(){}},{key:"destroy",value:function(){return o(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"destroy",this).call(this),this}},{key:"processChildrenList",value:function(M,A,R){for(var O=A.length,N=0;N<O;N++){var B=A[N],F=void 0,V=B.layoutDimensions({nodeDimensionsIncludeLabels:!1});B.outerWidth()!=null&&B.outerHeight()!=null?F=M.add(new d(R.graphManager,null,new g(B.position("x")-V.w/2,B.position("y")-V.h/2),new y(parseFloat(V.w),parseFloat(V.h)))):F=M.add(new d(this.graphManager)),F.id=B.data("id"),F.paddingLeft=parseInt(B.css("padding")),F.paddingTop=parseInt(B.css("padding")),F.paddingRight=parseInt(B.css("padding")),F.paddingBottom=parseInt(B.css("padding")),this.idToLNode[B.data("id")]=F,isNaN(F.rect.x)&&(F.rect.x=0),isNaN(F.rect.y)&&(F.rect.y=0)}}}]),E}(b);n.exports=_},function(n,a,i){n.exports=Object.freeze({animate:!0,refresh:10,maxIterations:1e3,ungrabifyWhileSimulating:!1,fit:!0,padding:30,boundingBox:void 0,ready:function(){},stop:function(){},randomize:!1,infinite:!1})},function(n,a,i){var s=function(){function w(_,k){for(var E=0;E<k.length;E++){var D=k[E];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(_,D.key,D)}}return function(_,k,E){return k&&w(_.prototype,k),E&&w(_,E),_}}();function o(w,_){if(!(w instanceof _))throw new TypeError("Cannot call a class as a function")}var l=i(1),u=i(5),c=i(7),f=i(8),d=f.setInitialPositionState,p=f.refreshPositions,g=f.getNodePositionData,y=i(9),x=y.multitick,b=function(){function w(_){o(this,w);var k=this.options=l({},u,_),E=this.state=l({},k,{layout:this,nodes:k.eles.nodes(),edges:k.eles.edges(),tickIndex:0,firstUpdate:!0});E.animateEnd=k.animate&&k.animate==="end",E.animateContinuously=k.animate&&!E.animateEnd}return s(w,[{key:"getScratch",value:function(k){var E=this.state.name,D=k.scratch(E);return D||(D={},k.scratch(E,D)),D}},{key:"run",value:function(){var k=this,E=this.state;if(E.tickIndex=0,E.firstUpdate=!0,E.startTime=Date.now(),E.running=!0,E.currentBoundingBox=c(E.boundingBox,E.cy),E.ready&&k.one("ready",E.ready),E.stop&&k.one("stop",E.stop),E.nodes.forEach(function(W){return d(W,E)}),k.prerun(E),E.animateContinuously){var D=function(Z){if(E.ungrabifyWhileSimulating){var ue=g(Z,E).grabbable=Z.grabbable();ue&&Z.ungrabify()}},M=function(Z){if(E.ungrabifyWhileSimulating){var ue=g(Z,E).grabbable;ue&&Z.grabify()}},A=function(Z){return g(Z,E).grabbed=Z.grabbed()},R=function(Z){var ue=Z.target;A(ue)},O=R,N=function(Z){var ue=Z.target,pe=g(ue,E),ge=ue.position();pe.x=ge.x,pe.y=ge.y},B=function(Z){Z.on("grab",R),Z.on("free",O),Z.on("drag",N)},F=function(Z){Z.removeListener("grab",R),Z.removeListener("free",O),Z.removeListener("drag",N)},V=function(){E.fit&&E.animateContinuously&&E.cy.fit(E.padding)},X=function(){p(E.nodes,E),V(),requestAnimationFrame(K)},K=function(){x(E,X,U)},U=function(){p(E.nodes,E),V(),E.nodes.forEach(function(Z){M(Z),F(Z)}),E.running=!1,k.emit("layoutstop")};k.emit("layoutstart"),E.nodes.forEach(function(W){D(W),B(W)}),K()}else{for(var H=!1,ee=function(){},re=function(){return H=!0};!H;)x(E,ee,re);E.eles.layoutPositions(this,E,function(W){var Z=g(W,E);return{x:Z.x,y:Z.y}})}return k.postrun(E),this}},{key:"prerun",value:function(){}},{key:"postrun",value:function(){}},{key:"tick",value:function(){}},{key:"stop",value:function(){return this.state.running=!1,this}},{key:"destroy",value:function(){return this}}]),w}();n.exports=b},function(n,a,i){n.exports=function(s,o){return s==null?s={x1:0,y1:0,w:o.width(),h:o.height()}:s={x1:s.x1,x2:s.x2,y1:s.y1,y2:s.y2,w:s.w,h:s.h},s.x2==null&&(s.x2=s.x1+s.w),s.w==null&&(s.w=s.x2-s.x1),s.y2==null&&(s.y2=s.y1+s.h),s.h==null&&(s.h=s.y2-s.y1),s}},function(n,a,i){var s=i(1),o=function(f,d){var p=f.position(),g=d.currentBoundingBox,y=f.scratch(d.name);y==null&&(y={},f.scratch(d.name,y)),s(y,d.randomize?{x:g.x1+Math.round(Math.random()*g.w),y:g.y1+Math.round(Math.random()*g.h)}:{x:p.x,y:p.y}),y.locked=f.locked()},l=function(f,d){return f.scratch(d.name)},u=function(f,d){f.positions(function(p){var g=p.scratch(d.name);return{x:g.x,y:g.y}})};n.exports={setInitialPositionState:o,getNodePositionData:l,refreshPositions:u}},function(n,a,i){var s=function(){},o=function(c){var f=c,d=c.layout,p=d.tick(f);return f.firstUpdate&&(f.animateContinuously&&f.layout.emit("layoutready"),f.firstUpdate=!1),f.tickIndex++,Date.now()-f.startTime,!f.infinite&&p},l=function(c){for(var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:s,d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:s,p=!1,g=c,y=0;y<g.refresh&&(p=!g.running||o(g),!p);y++);p?d():f()};n.exports={tick:o,multitick:l}}])})})($E);var IW=$E.exports;const NW=T7(IW),zW=({qTable:t,rewardsTable:e,currentStateIx:r,currentActionIx:n,actionStatus:a,markovChainMode:i,epsilon:s})=>{const o=i2(),l=Q.useRef(null),u=Q.useMemo(()=>i==="rewards"?e:i==="qTable"?t:t.map((g,y)=>{const x=Math.max(...g.filter(w=>w!=null)),b=g.findIndex(w=>w===x);return g.map((w,_)=>{if(y!==_)return _==b?1-2*s/3:s/3})}),[i,t,e,s]);gs.use(NW);const c=Q.useMemo(()=>{const g=u.length,y=[];for(let x=0;x<g;x++)y.push({data:{id:`n${x}`,label:`State ${x}`,type:"ellipse",bgImage:`/crawler/state_${x}.png`,active:x===r?"true":"false"},grabbable:!1});for(let x=0;x<g;x++)for(let b=0;b<g;b++){const w=u[x][b];w!==void 0&&y.push({data:{id:`e${x}-${b}`,source:`n${x}`,target:`n${b}`,weight:w!==null?w:x===r&&b===n?0:"?",label:i==="epsilon"?"":w!==null?w>0?`+${w}`:`${w}`:"?",active:x===r&&b===n?"true":"false"}})}return y},[n,r,u,i]),f=[{selector:"node",style:{height:20,width:20,"background-color":"#fafafa","background-image":"data(bgImage)","background-fit":"cover","font-size":8,"border-width":.2,"border-color":"#080808","overlay-opacity":0}},{selector:'node[active = "true"]',style:{height:22,width:22,"background-color":"#ddd","transition-property":"width","transition-duration":.2}},{selector:"edge",style:{"curve-style":"bezier","control-point-step-size":10,"line-color":"#ddd",width:.5,"target-arrow-shape":"triangle","target-arrow-color":"#ddd","arrow-scale":.3,label:"data(label)","font-size":3,"font-weight":700,"font-family":"Lato",color:"#ddd","text-outline-width":.5,"text-outline-color":"#fff","overlay-opacity":0}},{selector:"edge[weight > 0]",style:{"line-color":o.green,"target-arrow-color":o.green,color:o.green}},{selector:"edge[weight < 0]",style:{"line-color":o.red,"target-arrow-color":o.red,color:o.red}},{selector:"edge[weight = 0]",style:{"line-color":o.darkGray,"target-arrow-color":o.darkGray,color:o.darkGray}},{selector:'edge[active = "true"]',style:{"line-style":"dashed","line-dash-pattern":[2,1],"line-dash-offset":0,width:.75,"arrow-scale":.45,"font-size":4,"text-outline-width":.75}},{selector:'edge[active = "true"][weight="?"]',style:{"line-color":o.black,"target-arrow-color":o.black,color:o.black}},{selector:'edge[active = "true"][weight=0]',style:{"line-color":o.black,"target-arrow-color":o.black,color:o.black}},{selector:'edge[active = "true"][weight>0]',style:{"line-color":o.darkGreen,"target-arrow-color":o.darkGreen,color:o.darkGreen}},{selector:'edge[active = "true"][weight<0]',style:{"line-color":o.darkRed,"target-arrow-color":o.darkRed,color:o.darkRed}}],d=Q.useRef(null),p=Q.useRef(null);return Q.useEffect(()=>{if(l.current)return d.current=gs({container:l.current,elements:c,style:f,layout:{name:"avsdf"},userZoomingEnabled:!1,userPanningEnabled:!1,zoom:1}),()=>{var g;(g=d.current)==null||g.destroy()}},[]),Q.useEffect(()=>{if(!d.current)return;const g=d.current;if(g.elements('[active="true"]').removeClass("active").data("active","false"),g.getElementById(`n${r}`).addClass("active").data("active","true"),n!==null){const y=g.getElementById(`e${r}-${n}`);if(y.addClass("active").data("active","true"),a==="started"){let x=0;p.current&&clearInterval(p.current),p.current=setInterval(()=>{x-=.3,y.style("line-dash-offset",x)},50)}}return()=>{p.current&&clearInterval(p.current)}},[r,n,a]),Q.useEffect(()=>{if(!d.current)return;const g=d.current;u.forEach((y,x)=>{y.forEach((b,w)=>{const _=g.getElementById(`e${x}-${w}`);_&&_.data({weight:b??"?",label:b!=null?b>0?`+${b}`:`${b}`:"?"})})})},[u]),Y.jsx("div",{ref:l,style:{width:"100%",aspectRatio:"1/1"}})},BW=({waitBeforeNextMove:t,handleWaitBeforeNextMoveChange:e,explorationModes:r,currentExplorationMode:n,handleExplorationModeChange:a,handleContinue:i,handlePause:s,handleReset:o,actionType:l,thinkFuture:u,handleThinkFutureChange:c})=>{const{t:f}=Qr();return Y.jsxs($W,{children:[Y.jsx(Tt.Text,{children:f("Crawler.controls")}),Y.jsxs(FW,{children:[Y.jsx(oi,{onClick:i,icon:Y.jsx(US,{})}),Y.jsx(oi,{onClick:s,icon:Y.jsx(qB,{})}),Y.jsx(oi,{onClick:o,icon:Y.jsx(BB,{})})]}),Y.jsx(Oc,{text:f("Crawler.modeLabel"),value:t,handleChange:e}),Y.jsx(Oc,{text:f("Crawler.thinkFutureLabel"),value:u,handleChange:c}),Y.jsx(P2,{segments:r,currentId:n,handleSelectOption:a,label:f("Crawler.explorationLabel")}),Y.jsx(Tt.Text,{children:f("Crawler.actionTypeLabel")}),Y.jsxs(qW,{children:[Y.jsxs(t7,{$active:l==="exploitation",children:[Y.jsx(Tt.Text,{children:f("Crawler.actionType.exploitation")}),Y.jsx(r7,{style:{backgroundImage:"url(/crawler/exploitation.png)"}})]}),Y.jsxs(t7,{$active:l==="exploration",children:[Y.jsx(Tt.Text,{children:f("Crawler.actionType.exploration")}),Y.jsx(r7,{style:{backgroundImage:"url(/crawler/exploration.png)"}})]})]})]})},FW=Re.div.withConfig({displayName:"CrawlerControls__ButtonRow",componentId:"sc-c4uqox-0"})(["display:grid;grid-template-columns:1fr 1fr 1fr;gap:10px;width:100%;"]),$W=Re.div.withConfig({displayName:"CrawlerControls__Wrapper",componentId:"sc-c4uqox-1"})(["width:100%;padding:0 5px 30px 0;display:flex;flex-direction:column;justify-content:flex-start;align-items:flex-start;& > p{font-weight:600;}"]),qW=Re.div.withConfig({displayName:"CrawlerControls__ActionTypesWrapper",componentId:"sc-c4uqox-2"})(["display:flex;justify-content:center;gap:50px;width:100%;padding:10px 0;"]),t7=Re.div.withConfig({displayName:"CrawlerControls__ActionTypeBlock",componentId:"sc-c4uqox-3"})(["display:flex;flex-direction:column;& > p{font-weight:700;text-align:center;font-size:16px;}transition:all 0.3s ease-in;& div{filter:",";}padding:0 10px 5px;border-radius:5px;",";"],({$active:t})=>t?"none":"grayscale(100%)",({$active:t})=>t?`
transform: scale(1.1);
border: 2px solid black;
  `:`
transform: scale(0.9);
border: 0px solid black;
  `),r7=Re.div.withConfig({displayName:"CrawlerControls__ActionImageWrapper",componentId:"sc-c4uqox-4"})(["height:100px;width:100%;align-self:center;background-size:contain;background-position:center;background-repeat:no-repeat;"]),HW=({active:t,handleClose:e,crawlerSettings:r,setCrawlerSettings:n})=>{const{t:a}=Qr();return Y.jsx(A2,{$active:t,handleClose:e,children:Y.jsxs(Y.Fragment,{children:[Y.jsx(Tt.H3,{children:a("Settings.title")}),Y.jsxs(Du,{children:[Y.jsx(Tt.Text,{children:a("Settings.distanceSensorPort")}),Y.jsx(Fa,{options:ts.map(i=>({id:i,text:i})),currentOptionId:r.distanceSensorPort,handleOptionSelect:i=>n(s=>({...s,distanceSensorPort:i})),width:"100px"})]}),Y.jsxs(Du,{children:[Y.jsx(Tt.Text,{children:a("Settings.bigMotorPort")}),Y.jsx(Fa,{options:ts.map(i=>({id:i,text:i})),currentOptionId:r.bigMotorPort,handleOptionSelect:i=>n(s=>({...s,bigMotorPort:i})),width:"100px"})]}),Y.jsxs(Du,{children:[Y.jsx(Tt.Text,{children:a("Settings.smallMotorPort")}),Y.jsx(Fa,{options:ts.map(i=>({id:i,text:i})),currentOptionId:r.smallMotorPort,handleOptionSelect:i=>n(s=>({...s,smallMotorPort:i})),width:"100px"})]}),Y.jsx(Du,{children:Y.jsx(ml,{value:r.bigMotorSpeed,label:a("Settings.bigMotorSpeed"),minValue:5,maxValue:20,onChange:i=>n(s=>({...s,bigMotorSpeed:i})),writeValue:!0})}),Y.jsx(Du,{children:Y.jsx(ml,{value:r.smallMotorSpeed,label:a("Settings.smallMotorSpeed"),minValue:5,maxValue:20,onChange:i=>n(s=>({...s,smallMotorSpeed:i})),writeValue:!0})})]})})},Du=Re.div.withConfig({displayName:"CrawlerSettingsPopup__Row",componentId:"sc-m3jj5e-0"})(["display:flex;column-gap:15px;align-items:center;margin:10px;"]),VW={distanceSensorPort:"C",bigMotorPort:"D",smallMotorPort:"B",bigMotorSpeed:5,smallMotorSpeed:15},jW=()=>{var pe;const{t}=Qr(),{sendTunnelData:e,subscribe:r}=Uh(),n=4,a=[{id:"high",text:t("Crawler.explorations.high"),epsilon:.7},{id:"low",text:t("Crawler.explorations.low"),epsilon:.3},{id:"no",text:t("Crawler.explorations.no"),epsilon:0}],i=Array.from({length:n},(ge,fe)=>Array.from({length:n},(Se,Ee)=>fe===Ee?void 0:0)),s=Array.from({length:n},(ge,fe)=>Array.from({length:n},(Se,Ee)=>fe===Ee?void 0:null)),o="no",[l,u]=Q.useState(()=>xr("crawler_epsilonMode",o)),[c,f]=Q.useState(()=>xr("crawler_thinkFuture",!1)),[d,p]=Q.useState(()=>xr("crawler_waitBeforeNextMove",!0)),[g,y]=Q.useState(()=>xr("crawler_rewardsTable",s)),[x,b]=Q.useState(()=>xr("crawler_currentStateIx",0)),[w,_]=Q.useState(null),[k,E]=Q.useState(!1),D="rewards",[M,A]=Q.useState("unpicked"),[R,O]=Q.useState(null),[N,B]=Q.useState(VW),[F,V]=Q.useState(()=>xr("crawler_qTable",i)),X=()=>{const ge=d;p(fe=>!fe),e({action:"wait_before_next_move_update",payload:{wait_before_next_move:!ge}}).then(()=>{})},K=()=>{const ge=c;f(fe=>!fe),e({action:"think_future_update",payload:{think_future:!ge}}).then(()=>{})},U=ge=>{var fe;u(ge),e({action:"epsilon_update",payload:{epsilon:((fe=a.find(Se=>Se.id===ge))==null?void 0:fe.epsilon)||0}}).then(()=>{})},H=async()=>{var ge;r(Z),e({action:"code_start",payload:{epsilon:((ge=a.find(fe=>fe.id===l))==null?void 0:ge.epsilon)||0,wait_before_next_move:d,current_state:x,q_table:F,think_future:c}}).then(()=>_t.success(t("Crawler.toasts.codeStarted"),{position:"bottom-left"}))},ee=()=>{e({action:"continue",payload:{}}).then(()=>{})},re=()=>{e({action:"pause",payload:{}}).then(()=>{})},W=()=>{V(i),y(s),A("unpicked"),O(null),_(null),b(0),p(!1),u(o),f(!1),e({action:"reset",payload:{}}).then(()=>{})},Z=ge=>{const fe=ge.payload;switch(ge.action){case"action_update":_(fe.action!==void 0?fe.action:null),fe.type&&O(fe.type),A(fe.status);break;case"state_update":b(fe.state);break;case"too_close":_t.warning(t("Crawler.toasts.tooClose"),{position:"bottom-left"});break;case"too_far":_t.warning(t("Crawler.toasts.tooFar"),{position:"bottom-left"});break;case"tables_update":const{action:Se,state:Ee,reward:ve,q:se}=fe;y(ye=>{const we=[...ye];return we[Ee]&&we[Ee][Se]!==void 0&&(we[Ee][Se]=ve),we}),V(ye=>{const we=[...ye];return we[Ee]&&we[Ee][Se]!==void 0&&(we[Ee][Se]=se),we});break;default:return}},ue=Q.useMemo(()=>R2.crawler(N),[N]);return Q.useEffect(()=>{localStorage.setItem("crawler_epsilonMode",JSON.stringify(l))},[l]),Q.useEffect(()=>{localStorage.setItem("crawler_waitBeforeNextMove",JSON.stringify(d))},[d]),Q.useEffect(()=>{localStorage.setItem("crawler_rewardsTable",JSON.stringify(g.map(ge=>ge.map(fe=>fe===void 0?"__undefined__":fe))))},[g]),Q.useEffect(()=>{localStorage.setItem("crawler_currentStateIx",JSON.stringify(x))},[x]),Q.useEffect(()=>{localStorage.setItem("crawler_thinkFuture",JSON.stringify(c))},[c]),Q.useEffect(()=>{localStorage.setItem("crawler_qTable",JSON.stringify(F.map(ge=>ge.map(fe=>fe===void 0?"__undefined__":fe))))},[F]),Y.jsxs(UW,{children:[Y.jsx(Tt.H1,{children:t("Crawler.title")}),Y.jsx(Tt.Text,{children:t("Crawler.description")}),Y.jsx(L2,{code:ue,onStart:H}),Y.jsxs(WW,{children:[Y.jsxs(n7,{children:[Y.jsx(Tt.Text,{children:t("Crawler.actionQualityTable")}),Y.jsx(d$,{table:F,currentStateIx:x,currentActionIx:w})]}),Y.jsxs(n7,{children:[Y.jsx(Tt.Text,{children:t("Crawler.rewardDiagram")}),Y.jsx(zW,{rewardsTable:g,qTable:F,currentStateIx:x,currentActionIx:w,actionStatus:M,markovChainMode:D,epsilon:((pe=a.find(ge=>ge.id===l))==null?void 0:pe.epsilon)||0})]}),Y.jsx(BW,{waitBeforeNextMove:d,handleWaitBeforeNextMoveChange:X,explorationModes:a,currentExplorationMode:l,handleExplorationModeChange:U,handleContinue:ee,handlePause:re,handleReset:W,actionType:R,thinkFuture:c,handleThinkFutureChange:K})]}),Y.jsx(HW,{active:k,handleClose:()=>E(!1),crawlerSettings:N,setCrawlerSettings:B})]})},UW=Re.div.withConfig({displayName:"crawler__Wrapper",componentId:"sc-rfjkgp-0"})([""]),WW=Re.div.withConfig({displayName:"crawler__DiagramRow",componentId:"sc-rfjkgp-1"})(["display:grid;grid-template-columns:1fr 1fr 1fr;column-gap:20px;align-items:start;"]),n7=Re.div.withConfig({displayName:"crawler__Box",componentId:"sc-rfjkgp-2"})(["width:100%;& > p{font-weight:600;}"]),GW=({expId:t})=>{const{t:e}=Qr();return Y.jsx(t0,{to:`/experiments/${t}`,children:Y.jsxs(YW,{children:[Y.jsx(XW,{$expId:t}),Y.jsxs(KW,{children:[Y.jsx(Tt.H3,{children:e(`Experiments.Cards.${t}.title`)}),Y.jsx(Tt.Text,{children:e(`Experiments.Cards.${t}.description`)})]})]})})},YW=Re.div.withConfig({displayName:"ExperimentCard__Wrapper",componentId:"sc-1akgw1w-0"})(["width:100%;border-radius:10px;position:relative;overflow:hidden;border:1px solid black;cursor:pointer;transition:all 0.15s ease;box-shadow:0 2px 3px rgba(0,0,0,0.1);&:hover{transform:translateY(-5px);}height:100%;"]),XW=Re.div.withConfig({displayName:"ExperimentCard__ImageDiv",componentId:"sc-1akgw1w-1"})(["width:100%;aspect-ratio:4/3;background-image:",";background-size:cover;background-position:center;margin:0;border-bottom:1px solid ",";"],({$expId:t})=>`url(/experiments/${t}.webp)`,({theme:t})=>t.black),KW=Re.div.withConfig({displayName:"ExperimentCard__InfoWrap",componentId:"sc-1akgw1w-2"})(["padding:0 15px 10px;"]),ZW=["fruit-predictor","ping-ponger","crawler"],QW=()=>{const{t}=Qr();return Y.jsxs(JW,{children:[Y.jsx(Tt.H1,{children:t("Experiments.title")}),Y.jsx(Tt.Text,{children:t("Experiments.text")}),Y.jsx(eG,{children:ZW.map(e=>Y.jsx(GW,{expId:e},e))})]})},JW=Re.div.withConfig({displayName:"experiments__Wrapper",componentId:"sc-118zeqn-0"})([""]),eG=Re.div.withConfig({displayName:"experiments__CardGrid",componentId:"sc-118zeqn-1"})(["width:100%;display:grid;grid-template-columns:1fr 1fr 1fr;margin-top:30px;gap:20px;grid-auto-rows:1fr;@media (max-width:1024px){grid-template-columns:1fr 1fr;}"]);function tG(){return Y.jsx(DP,{theme:_R,children:Y.jsx(KR,{children:Y.jsxs(Y.Fragment,{children:[Y.jsx(SR,{}),Y.jsx(wR,{children:Y.jsxs(ZA,{children:[Y.jsx(Ho,{path:"/experiments/fruit-predictor",element:Y.jsx(TF,{})}),Y.jsx(Ho,{path:"/experiments/ping-ponger",element:Y.jsx(i$,{})}),Y.jsx(Ho,{path:"/experiments/crawler",element:Y.jsx(jW,{})}),Y.jsx(Ho,{path:"/experiments",element:Y.jsx(QW,{})}),Y.jsx(Ho,{path:"*",element:Y.jsx("div",{children:Y.jsx("h2",{children:"404 Not Found"})})})]})})]})})})}const st=t=>typeof t=="string",Pu=()=>{let t,e;const r=new Promise((n,a)=>{t=n,e=a});return r.resolve=t,r.reject=e,r},a7=t=>t==null?"":""+t,rG=(t,e,r)=>{t.forEach(n=>{e[n]&&(r[n]=e[n])})},nG=/###/g,i7=t=>t&&t.indexOf("###")>-1?t.replace(nG,"."):t,s7=t=>!t||st(t),oc=(t,e,r)=>{const n=st(e)?e.split("."):e;let a=0;for(;a<n.length-1;){if(s7(t))return{};const i=i7(n[a]);!t[i]&&r&&(t[i]=new r),Object.prototype.hasOwnProperty.call(t,i)?t=t[i]:t={},++a}return s7(t)?{}:{obj:t,k:i7(n[a])}},o7=(t,e,r)=>{const{obj:n,k:a}=oc(t,e,Object);if(n!==void 0||e.length===1){n[a]=r;return}let i=e[e.length-1],s=e.slice(0,e.length-1),o=oc(t,s,Object);for(;o.obj===void 0&&s.length;)i=`${s[s.length-1]}.${i}`,s=s.slice(0,s.length-1),o=oc(t,s,Object),o!=null&&o.obj&&typeof o.obj[`${o.k}.${i}`]<"u"&&(o.obj=void 0);o.obj[`${o.k}.${i}`]=r},aG=(t,e,r,n)=>{const{obj:a,k:i}=oc(t,e,Object);a[i]=a[i]||[],a[i].push(r)},dh=(t,e)=>{const{obj:r,k:n}=oc(t,e);if(r&&Object.prototype.hasOwnProperty.call(r,n))return r[n]},iG=(t,e,r)=>{const n=dh(t,r);return n!==void 0?n:dh(e,r)},qE=(t,e,r)=>{for(const n in e)n!=="__proto__"&&n!=="constructor"&&(n in t?st(t[n])||t[n]instanceof String||st(e[n])||e[n]instanceof String?r&&(t[n]=e[n]):qE(t[n],e[n],r):t[n]=e[n]);return t},Bo=t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var sG={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const oG=t=>st(t)?t.replace(/[&<>"'\/]/g,e=>sG[e]):t;class lG{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const r=this.regExpMap.get(e);if(r!==void 0)return r;const n=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,n),this.regExpQueue.push(e),n}}const uG=[" ",",","?","!",";"],cG=new lG(20),fG=(t,e,r)=>{e=e||"",r=r||"";const n=uG.filter(s=>e.indexOf(s)<0&&r.indexOf(s)<0);if(n.length===0)return!0;const a=cG.getRegExp(`(${n.map(s=>s==="?"?"\\?":s).join("|")})`);let i=!a.test(t);if(!i){const s=t.indexOf(r);s>0&&!a.test(t.substring(0,s))&&(i=!0)}return i},ry=function(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!t)return;if(t[e])return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0;const n=e.split(r);let a=t;for(let i=0;i<n.length;){if(!a||typeof a!="object")return;let s,o="";for(let l=i;l<n.length;++l)if(l!==i&&(o+=r),o+=n[l],s=a[o],s!==void 0){if(["string","number","boolean"].indexOf(typeof s)>-1&&l<n.length-1)continue;i+=l-i+1;break}a=s}return a},hh=t=>t==null?void 0:t.replace("_","-"),dG={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){var r,n;(n=(r=console==null?void 0:console[t])==null?void 0:r.apply)==null||n.call(r,console,e)}};class ph{constructor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(e,r)}init(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=r.prefix||"i18next:",this.logger=e||dG,this.options=r,this.debug=r.debug}log(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return this.forward(r,"log","",!0)}warn(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return this.forward(r,"warn","",!0)}error(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return this.forward(r,"error","")}deprecate(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return this.forward(r,"warn","WARNING DEPRECATED: ",!0)}forward(e,r,n,a){return a&&!this.debug?null:(st(e[0])&&(e[0]=`${n}${this.prefix} ${e[0]}`),this.logger[r](e))}create(e){return new ph(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new ph(this.logger,e)}}var Na=new ph;class gp{constructor(){this.observers={}}on(e,r){return e.split(" ").forEach(n=>{this.observers[n]||(this.observers[n]=new Map);const a=this.observers[n].get(r)||0;this.observers[n].set(r,a+1)}),this}off(e,r){if(this.observers[e]){if(!r){delete this.observers[e];return}this.observers[e].delete(r)}}emit(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];this.observers[e]&&Array.from(this.observers[e].entries()).forEach(s=>{let[o,l]=s;for(let u=0;u<l;u++)o(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(s=>{let[o,l]=s;for(let u=0;u<l;u++)o.apply(o,[e,...n])})}}class l7 extends gp{constructor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const r=this.options.ns.indexOf(e);r>-1&&this.options.ns.splice(r,1)}getResource(e,r,n){var u,c;let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const i=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,s=a.ignoreJSONStructure!==void 0?a.ignoreJSONStructure:this.options.ignoreJSONStructure;let o;e.indexOf(".")>-1?o=e.split("."):(o=[e,r],n&&(Array.isArray(n)?o.push(...n):st(n)&&i?o.push(...n.split(i)):o.push(n)));const l=dh(this.data,o);return!l&&!r&&!n&&e.indexOf(".")>-1&&(e=o[0],r=o[1],n=o.slice(2).join(".")),l||!s||!st(n)?l:ry((c=(u=this.data)==null?void 0:u[e])==null?void 0:c[r],n,i)}addResource(e,r,n,a){let i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const s=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator;let o=[e,r];n&&(o=o.concat(s?n.split(s):n)),e.indexOf(".")>-1&&(o=e.split("."),a=r,r=o[1]),this.addNamespaces(r),o7(this.data,o,a),i.silent||this.emit("added",e,r,n,a)}addResources(e,r,n){let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const i in n)(st(n[i])||Array.isArray(n[i]))&&this.addResource(e,r,i,n[i],{silent:!0});a.silent||this.emit("added",e,r,n)}addResourceBundle(e,r,n,a,i){let s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},o=[e,r];e.indexOf(".")>-1&&(o=e.split("."),a=n,n=r,r=o[1]),this.addNamespaces(r);let l=dh(this.data,o)||{};s.skipCopy||(n=JSON.parse(JSON.stringify(n))),a?qE(l,n,i):l={...l,...n},o7(this.data,o,l),s.silent||this.emit("added",e,r,n)}removeResourceBundle(e,r){this.hasResourceBundle(e,r)&&delete this.data[e][r],this.removeNamespaces(r),this.emit("removed",e,r)}hasResourceBundle(e,r){return this.getResource(e,r)!==void 0}getResourceBundle(e,r){return r||(r=this.options.defaultNS),this.getResource(e,r)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const r=this.getDataByLanguage(e);return!!(r&&Object.keys(r)||[]).find(a=>r[a]&&Object.keys(r[a]).length>0)}toJSON(){return this.data}}var HE={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,r,n,a){return t.forEach(i=>{var s;e=((s=this.processors[i])==null?void 0:s.process(e,r,n,a))??e}),e}};const u7={},c7=t=>!st(t)&&typeof t!="boolean"&&typeof t!="number";class gh extends gp{constructor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),rG(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Na.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(e==null)return!1;const n=this.resolve(e,r);return(n==null?void 0:n.res)!==void 0}extractFromKey(e,r){let n=r.nsSeparator!==void 0?r.nsSeparator:this.options.nsSeparator;n===void 0&&(n=":");const a=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator;let i=r.ns||this.options.defaultNS||[];const s=n&&e.indexOf(n)>-1,o=!this.options.userDefinedKeySeparator&&!r.keySeparator&&!this.options.userDefinedNsSeparator&&!r.nsSeparator&&!fG(e,n,a);if(s&&!o){const l=e.match(this.interpolator.nestingRegexp);if(l&&l.length>0)return{key:e,namespaces:st(i)?[i]:i};const u=e.split(n);(n!==a||n===a&&this.options.ns.indexOf(u[0])>-1)&&(i=u.shift()),e=u.join(a)}return{key:e,namespaces:st(i)?[i]:i}}translate(e,r,n){if(typeof r!="object"&&this.options.overloadTranslationOptionHandler&&(r=this.options.overloadTranslationOptionHandler(arguments)),typeof r=="object"&&(r={...r}),r||(r={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const a=r.returnDetails!==void 0?r.returnDetails:this.options.returnDetails,i=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator,{key:s,namespaces:o}=this.extractFromKey(e[e.length-1],r),l=o[o.length-1],u=r.lng||this.language,c=r.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((u==null?void 0:u.toLowerCase())==="cimode"){if(c){const N=r.nsSeparator||this.options.nsSeparator;return a?{res:`${l}${N}${s}`,usedKey:s,exactUsedKey:s,usedLng:u,usedNS:l,usedParams:this.getUsedParamsDetails(r)}:`${l}${N}${s}`}return a?{res:s,usedKey:s,exactUsedKey:s,usedLng:u,usedNS:l,usedParams:this.getUsedParamsDetails(r)}:s}const f=this.resolve(e,r);let d=f==null?void 0:f.res;const p=(f==null?void 0:f.usedKey)||s,g=(f==null?void 0:f.exactUsedKey)||s,y=["[object Number]","[object Function]","[object RegExp]"],x=r.joinArrays!==void 0?r.joinArrays:this.options.joinArrays,b=!this.i18nFormat||this.i18nFormat.handleAsObject,w=r.count!==void 0&&!st(r.count),_=gh.hasDefaultValue(r),k=w?this.pluralResolver.getSuffix(u,r.count,r):"",E=r.ordinal&&w?this.pluralResolver.getSuffix(u,r.count,{ordinal:!1}):"",D=w&&!r.ordinal&&r.count===0,M=D&&r[`defaultValue${this.options.pluralSeparator}zero`]||r[`defaultValue${k}`]||r[`defaultValue${E}`]||r.defaultValue;let A=d;b&&!d&&_&&(A=M);const R=c7(A),O=Object.prototype.toString.apply(A);if(b&&A&&R&&y.indexOf(O)<0&&!(st(x)&&Array.isArray(A))){if(!r.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const N=this.options.returnedObjectHandler?this.options.returnedObjectHandler(p,A,{...r,ns:o}):`key '${s} (${this.language})' returned an object instead of string.`;return a?(f.res=N,f.usedParams=this.getUsedParamsDetails(r),f):N}if(i){const N=Array.isArray(A),B=N?[]:{},F=N?g:p;for(const V in A)if(Object.prototype.hasOwnProperty.call(A,V)){const X=`${F}${i}${V}`;_&&!d?B[V]=this.translate(X,{...r,defaultValue:c7(M)?M[V]:void 0,joinArrays:!1,ns:o}):B[V]=this.translate(X,{...r,joinArrays:!1,ns:o}),B[V]===X&&(B[V]=A[V])}d=B}}else if(b&&st(x)&&Array.isArray(d))d=d.join(x),d&&(d=this.extendTranslation(d,e,r,n));else{let N=!1,B=!1;!this.isValidLookup(d)&&_&&(N=!0,d=M),this.isValidLookup(d)||(B=!0,d=s);const V=(r.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&B?void 0:d,X=_&&M!==d&&this.options.updateMissing;if(B||N||X){if(this.logger.log(X?"updateKey":"missingKey",u,l,s,X?M:d),i){const ee=this.resolve(s,{...r,keySeparator:!1});ee&&ee.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let K=[];const U=this.languageUtils.getFallbackCodes(this.options.fallbackLng,r.lng||this.language);if(this.options.saveMissingTo==="fallback"&&U&&U[0])for(let ee=0;ee<U.length;ee++)K.push(U[ee]);else this.options.saveMissingTo==="all"?K=this.languageUtils.toResolveHierarchy(r.lng||this.language):K.push(r.lng||this.language);const H=(ee,re,W)=>{var ue;const Z=_&&W!==d?W:V;this.options.missingKeyHandler?this.options.missingKeyHandler(ee,l,re,Z,X,r):(ue=this.backendConnector)!=null&&ue.saveMissing&&this.backendConnector.saveMissing(ee,l,re,Z,X,r),this.emit("missingKey",ee,l,re,d)};this.options.saveMissing&&(this.options.saveMissingPlurals&&w?K.forEach(ee=>{const re=this.pluralResolver.getSuffixes(ee,r);D&&r[`defaultValue${this.options.pluralSeparator}zero`]&&re.indexOf(`${this.options.pluralSeparator}zero`)<0&&re.push(`${this.options.pluralSeparator}zero`),re.forEach(W=>{H([ee],s+W,r[`defaultValue${W}`]||M)})}):H(K,s,M))}d=this.extendTranslation(d,e,r,f,n),B&&d===s&&this.options.appendNamespaceToMissingKey&&(d=`${l}:${s}`),(B||N)&&this.options.parseMissingKeyHandler&&(d=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${l}:${s}`:s,N?d:void 0))}return a?(f.res=d,f.usedParams=this.getUsedParamsDetails(r),f):d}extendTranslation(e,r,n,a,i){var u,c;var s=this;if((u=this.i18nFormat)!=null&&u.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...n},n.lng||this.language||a.usedLng,a.usedNS,a.usedKey,{resolved:a});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init({...n,interpolation:{...this.options.interpolation,...n.interpolation}});const f=st(e)&&(((c=n==null?void 0:n.interpolation)==null?void 0:c.skipOnVariables)!==void 0?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let d;if(f){const g=e.match(this.interpolator.nestingRegexp);d=g&&g.length}let p=n.replace&&!st(n.replace)?n.replace:n;if(this.options.interpolation.defaultVariables&&(p={...this.options.interpolation.defaultVariables,...p}),e=this.interpolator.interpolate(e,p,n.lng||this.language||a.usedLng,n),f){const g=e.match(this.interpolator.nestingRegexp),y=g&&g.length;d<y&&(n.nest=!1)}!n.lng&&a&&a.res&&(n.lng=this.language||a.usedLng),n.nest!==!1&&(e=this.interpolator.nest(e,function(){for(var g=arguments.length,y=new Array(g),x=0;x<g;x++)y[x]=arguments[x];return(i==null?void 0:i[0])===y[0]&&!n.context?(s.logger.warn(`It seems you are nesting recursively key: ${y[0]} in key: ${r[0]}`),null):s.translate(...y,r)},n)),n.interpolation&&this.interpolator.reset()}const o=n.postProcess||this.options.postProcess,l=st(o)?[o]:o;return e!=null&&(l!=null&&l.length)&&n.applyPostProcessor!==!1&&(e=HE.handle(l,e,r,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...a,usedParams:this.getUsedParamsDetails(n)},...n}:n,this)),e}resolve(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n,a,i,s,o;return st(e)&&(e=[e]),e.forEach(l=>{if(this.isValidLookup(n))return;const u=this.extractFromKey(l,r),c=u.key;a=c;let f=u.namespaces;this.options.fallbackNS&&(f=f.concat(this.options.fallbackNS));const d=r.count!==void 0&&!st(r.count),p=d&&!r.ordinal&&r.count===0,g=r.context!==void 0&&(st(r.context)||typeof r.context=="number")&&r.context!=="",y=r.lngs?r.lngs:this.languageUtils.toResolveHierarchy(r.lng||this.language,r.fallbackLng);f.forEach(x=>{var b,w;this.isValidLookup(n)||(o=x,!u7[`${y[0]}-${x}`]&&((b=this.utils)!=null&&b.hasLoadedNamespace)&&!((w=this.utils)!=null&&w.hasLoadedNamespace(o))&&(u7[`${y[0]}-${x}`]=!0,this.logger.warn(`key "${a}" for languages "${y.join(", ")}" won't get resolved as namespace "${o}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),y.forEach(_=>{var D;if(this.isValidLookup(n))return;s=_;const k=[c];if((D=this.i18nFormat)!=null&&D.addLookupKeys)this.i18nFormat.addLookupKeys(k,c,_,x,r);else{let M;d&&(M=this.pluralResolver.getSuffix(_,r.count,r));const A=`${this.options.pluralSeparator}zero`,R=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(d&&(k.push(c+M),r.ordinal&&M.indexOf(R)===0&&k.push(c+M.replace(R,this.options.pluralSeparator)),p&&k.push(c+A)),g){const O=`${c}${this.options.contextSeparator}${r.context}`;k.push(O),d&&(k.push(O+M),r.ordinal&&M.indexOf(R)===0&&k.push(O+M.replace(R,this.options.pluralSeparator)),p&&k.push(O+A))}}let E;for(;E=k.pop();)this.isValidLookup(n)||(i=E,n=this.getResource(_,x,E,r))}))})}),{res:n,usedKey:a,exactUsedKey:i,usedLng:s,usedNS:o}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,r,n){var i;let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return(i=this.i18nFormat)!=null&&i.getResource?this.i18nFormat.getResource(e,r,n,a):this.resourceStore.getResource(e,r,n,a)}getUsedParamsDetails(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const r=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],n=e.replace&&!st(e.replace);let a=n?e.replace:e;if(n&&typeof e.count<"u"&&(a.count=e.count),this.options.interpolation.defaultVariables&&(a={...this.options.interpolation.defaultVariables,...a}),!n){a={...a};for(const i of r)delete a[i]}return a}static hasDefaultValue(e){const r="defaultValue";for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&r===n.substring(0,r.length)&&e[n]!==void 0)return!0;return!1}}class f7{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Na.create("languageUtils")}getScriptPartFromCode(e){if(e=hh(e),!e||e.indexOf("-")<0)return null;const r=e.split("-");return r.length===2||(r.pop(),r[r.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(r.join("-"))}getLanguagePartFromCode(e){if(e=hh(e),!e||e.indexOf("-")<0)return e;const r=e.split("-");return this.formatLanguageCode(r[0])}formatLanguageCode(e){if(st(e)&&e.indexOf("-")>-1){let r;try{r=Intl.getCanonicalLocales(e)[0]}catch{}return r&&this.options.lowerCaseLng&&(r=r.toLowerCase()),r||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let r;return e.forEach(n=>{if(r)return;const a=this.formatLanguageCode(n);(!this.options.supportedLngs||this.isSupportedCode(a))&&(r=a)}),!r&&this.options.supportedLngs&&e.forEach(n=>{if(r)return;const a=this.getLanguagePartFromCode(n);if(this.isSupportedCode(a))return r=a;r=this.options.supportedLngs.find(i=>{if(i===a)return i;if(!(i.indexOf("-")<0&&a.indexOf("-")<0)&&(i.indexOf("-")>0&&a.indexOf("-")<0&&i.substring(0,i.indexOf("-"))===a||i.indexOf(a)===0&&a.length>1))return i})}),r||(r=this.getFallbackCodes(this.options.fallbackLng)[0]),r}getFallbackCodes(e,r){if(!e)return[];if(typeof e=="function"&&(e=e(r)),st(e)&&(e=[e]),Array.isArray(e))return e;if(!r)return e.default||[];let n=e[r];return n||(n=e[this.getScriptPartFromCode(r)]),n||(n=e[this.formatLanguageCode(r)]),n||(n=e[this.getLanguagePartFromCode(r)]),n||(n=e.default),n||[]}toResolveHierarchy(e,r){const n=this.getFallbackCodes(r||this.options.fallbackLng||[],e),a=[],i=s=>{s&&(this.isSupportedCode(s)?a.push(s):this.logger.warn(`rejecting language code not found in supportedLngs: ${s}`))};return st(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&i(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&i(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&i(this.getLanguagePartFromCode(e))):st(e)&&i(this.formatLanguageCode(e)),n.forEach(s=>{a.indexOf(s)<0&&i(this.formatLanguageCode(s))}),a}}const d7={zero:0,one:1,two:2,few:3,many:4,other:5},h7={select:t=>t===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class hG{constructor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=e,this.options=r,this.logger=Na.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,r){this.rules[e]=r}clearCache(){this.pluralRulesCache={}}getRule(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=hh(e==="dev"?"en":e),a=r.ordinal?"ordinal":"cardinal",i=JSON.stringify({cleanedCode:n,type:a});if(i in this.pluralRulesCache)return this.pluralRulesCache[i];let s;try{s=new Intl.PluralRules(n,{type:a})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),h7;if(!e.match(/-|_/))return h7;const l=this.languageUtils.getLanguagePartFromCode(e);s=this.getRule(l,r)}return this.pluralRulesCache[i]=s,s}needsPlural(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=this.getRule(e,r);return n||(n=this.getRule("dev",r)),(n==null?void 0:n.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(e,n).map(a=>`${r}${a}`)}getSuffixes(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=this.getRule(e,r);return n||(n=this.getRule("dev",r)),n?n.resolvedOptions().pluralCategories.sort((a,i)=>d7[a]-d7[i]).map(a=>`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${a}`):[]}getSuffix(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const a=this.getRule(e,n);return a?`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${a.select(r)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",r,n))}}const p7=function(t,e,r){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,i=iG(t,e,r);return!i&&a&&st(r)&&(i=ry(t,r,n),i===void 0&&(i=ry(e,r,n))),i},cv=t=>t.replace(/\$/g,"$$$$");class pG{constructor(){var r;let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=Na.create("interpolator"),this.options=e,this.format=((r=e==null?void 0:e.interpolation)==null?void 0:r.format)||(n=>n),this.init(e)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});const{escape:r,escapeValue:n,useRawValueToEscape:a,prefix:i,prefixEscaped:s,suffix:o,suffixEscaped:l,formatSeparator:u,unescapeSuffix:c,unescapePrefix:f,nestingPrefix:d,nestingPrefixEscaped:p,nestingSuffix:g,nestingSuffixEscaped:y,nestingOptionsSeparator:x,maxReplaces:b,alwaysFormat:w}=e.interpolation;this.escape=r!==void 0?r:oG,this.escapeValue=n!==void 0?n:!0,this.useRawValueToEscape=a!==void 0?a:!1,this.prefix=i?Bo(i):s||"{{",this.suffix=o?Bo(o):l||"}}",this.formatSeparator=u||",",this.unescapePrefix=c?"":f||"-",this.unescapeSuffix=this.unescapePrefix?"":c||"",this.nestingPrefix=d?Bo(d):p||Bo("$t("),this.nestingSuffix=g?Bo(g):y||Bo(")"),this.nestingOptionsSeparator=x||",",this.maxReplaces=b||1e3,this.alwaysFormat=w!==void 0?w:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(r,n)=>(r==null?void 0:r.source)===n?(r.lastIndex=0,r):new RegExp(n,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,r,n,a){var p;let i,s,o;const l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},u=g=>{if(g.indexOf(this.formatSeparator)<0){const w=p7(r,l,g,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(w,void 0,n,{...a,...r,interpolationkey:g}):w}const y=g.split(this.formatSeparator),x=y.shift().trim(),b=y.join(this.formatSeparator).trim();return this.format(p7(r,l,x,this.options.keySeparator,this.options.ignoreJSONStructure),b,n,{...a,...r,interpolationkey:x})};this.resetRegExp();const c=(a==null?void 0:a.missingInterpolationHandler)||this.options.missingInterpolationHandler,f=((p=a==null?void 0:a.interpolation)==null?void 0:p.skipOnVariables)!==void 0?a.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:g=>cv(g)},{regex:this.regexp,safeValue:g=>this.escapeValue?cv(this.escape(g)):cv(g)}].forEach(g=>{for(o=0;i=g.regex.exec(e);){const y=i[1].trim();if(s=u(y),s===void 0)if(typeof c=="function"){const b=c(e,i,a);s=st(b)?b:""}else if(a&&Object.prototype.hasOwnProperty.call(a,y))s="";else if(f){s=i[0];continue}else this.logger.warn(`missed to pass in variable ${y} for interpolating ${e}`),s="";else!st(s)&&!this.useRawValueToEscape&&(s=a7(s));const x=g.safeValue(s);if(e=e.replace(i[0],x),f?(g.regex.lastIndex+=s.length,g.regex.lastIndex-=i[0].length):g.regex.lastIndex=0,o++,o>=this.maxReplaces)break}}),e}nest(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a,i,s;const o=(l,u)=>{const c=this.nestingOptionsSeparator;if(l.indexOf(c)<0)return l;const f=l.split(new RegExp(`${c}[ ]*{`));let d=`{${f[1]}`;l=f[0],d=this.interpolate(d,s);const p=d.match(/'/g),g=d.match(/"/g);(((p==null?void 0:p.length)??0)%2===0&&!g||g.length%2!==0)&&(d=d.replace(/'/g,'"'));try{s=JSON.parse(d),u&&(s={...u,...s})}catch(y){return this.logger.warn(`failed parsing options string in nesting for key ${l}`,y),`${l}${c}${d}`}return s.defaultValue&&s.defaultValue.indexOf(this.prefix)>-1&&delete s.defaultValue,l};for(;a=this.nestingRegexp.exec(e);){let l=[];s={...n},s=s.replace&&!st(s.replace)?s.replace:s,s.applyPostProcessor=!1,delete s.defaultValue;let u=!1;if(a[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(a[1])){const c=a[1].split(this.formatSeparator).map(f=>f.trim());a[1]=c.shift(),l=c,u=!0}if(i=r(o.call(this,a[1].trim(),s),s),i&&a[0]===e&&!st(i))return i;st(i)||(i=a7(i)),i||(this.logger.warn(`missed to resolve ${a[1]} for nesting ${e}`),i=""),u&&(i=l.reduce((c,f)=>this.format(c,f,n.lng,{...n,interpolationkey:a[1].trim()}),i.trim())),e=e.replace(a[0],i),this.regexp.lastIndex=0}return e}}const gG=t=>{let e=t.toLowerCase().trim();const r={};if(t.indexOf("(")>-1){const n=t.split("(");e=n[0].toLowerCase().trim();const a=n[1].substring(0,n[1].length-1);e==="currency"&&a.indexOf(":")<0?r.currency||(r.currency=a.trim()):e==="relativetime"&&a.indexOf(":")<0?r.range||(r.range=a.trim()):a.split(";").forEach(s=>{if(s){const[o,...l]=s.split(":"),u=l.join(":").trim().replace(/^'+|'+$/g,""),c=o.trim();r[c]||(r[c]=u),u==="false"&&(r[c]=!1),u==="true"&&(r[c]=!0),isNaN(u)||(r[c]=parseInt(u,10))}})}return{formatName:e,formatOptions:r}},Fo=t=>{const e={};return(r,n,a)=>{let i=a;a&&a.interpolationkey&&a.formatParams&&a.formatParams[a.interpolationkey]&&a[a.interpolationkey]&&(i={...i,[a.interpolationkey]:void 0});const s=n+JSON.stringify(i);let o=e[s];return o||(o=t(hh(n),a),e[s]=o),o(r)}};class mG{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=Na.create("formatter"),this.options=e,this.formats={number:Fo((r,n)=>{const a=new Intl.NumberFormat(r,{...n});return i=>a.format(i)}),currency:Fo((r,n)=>{const a=new Intl.NumberFormat(r,{...n,style:"currency"});return i=>a.format(i)}),datetime:Fo((r,n)=>{const a=new Intl.DateTimeFormat(r,{...n});return i=>a.format(i)}),relativetime:Fo((r,n)=>{const a=new Intl.RelativeTimeFormat(r,{...n});return i=>a.format(i,n.range||"day")}),list:Fo((r,n)=>{const a=new Intl.ListFormat(r,{...n});return i=>a.format(i)})},this.init(e)}init(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};this.formatSeparator=r.interpolation.formatSeparator||","}add(e,r){this.formats[e.toLowerCase().trim()]=r}addCached(e,r){this.formats[e.toLowerCase().trim()]=Fo(r)}format(e,r,n){let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const i=r.split(this.formatSeparator);if(i.length>1&&i[0].indexOf("(")>1&&i[0].indexOf(")")<0&&i.find(o=>o.indexOf(")")>-1)){const o=i.findIndex(l=>l.indexOf(")")>-1);i[0]=[i[0],...i.splice(1,o)].join(this.formatSeparator)}return i.reduce((o,l)=>{var f;const{formatName:u,formatOptions:c}=gG(l);if(this.formats[u]){let d=o;try{const p=((f=a==null?void 0:a.formatParams)==null?void 0:f[a.interpolationkey])||{},g=p.locale||p.lng||a.locale||a.lng||n;d=this.formats[u](o,g,{...c,...a,...p})}catch(p){this.logger.warn(p)}return d}else this.logger.warn(`there was no format function for ${u}`);return o},e)}}const vG=(t,e)=>{t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)};class yG extends gp{constructor(e,r,n){var i,s;let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=e,this.store=r,this.services=n,this.languageUtils=n.languageUtils,this.options=a,this.logger=Na.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=a.maxParallelReads||10,this.readingCalls=0,this.maxRetries=a.maxRetries>=0?a.maxRetries:5,this.retryTimeout=a.retryTimeout>=1?a.retryTimeout:350,this.state={},this.queue=[],(s=(i=this.backend)==null?void 0:i.init)==null||s.call(i,n,a.backend,a)}queueLoad(e,r,n,a){const i={},s={},o={},l={};return e.forEach(u=>{let c=!0;r.forEach(f=>{const d=`${u}|${f}`;!n.reload&&this.store.hasResourceBundle(u,f)?this.state[d]=2:this.state[d]<0||(this.state[d]===1?s[d]===void 0&&(s[d]=!0):(this.state[d]=1,c=!1,s[d]===void 0&&(s[d]=!0),i[d]===void 0&&(i[d]=!0),l[f]===void 0&&(l[f]=!0)))}),c||(o[u]=!0)}),(Object.keys(i).length||Object.keys(s).length)&&this.queue.push({pending:s,pendingCount:Object.keys(s).length,loaded:{},errors:[],callback:a}),{toLoad:Object.keys(i),pending:Object.keys(s),toLoadLanguages:Object.keys(o),toLoadNamespaces:Object.keys(l)}}loaded(e,r,n){const a=e.split("|"),i=a[0],s=a[1];r&&this.emit("failedLoading",i,s,r),!r&&n&&this.store.addResourceBundle(i,s,n,void 0,void 0,{skipCopy:!0}),this.state[e]=r?-1:2,r&&n&&(this.state[e]=0);const o={};this.queue.forEach(l=>{aG(l.loaded,[i],s),vG(l,e),r&&l.errors.push(r),l.pendingCount===0&&!l.done&&(Object.keys(l.loaded).forEach(u=>{o[u]||(o[u]={});const c=l.loaded[u];c.length&&c.forEach(f=>{o[u][f]===void 0&&(o[u][f]=!0)})}),l.done=!0,l.errors.length?l.callback(l.errors):l.callback())}),this.emit("loaded",o),this.queue=this.queue.filter(l=>!l.done)}read(e,r,n){let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,s=arguments.length>5?arguments[5]:void 0;if(!e.length)return s(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:r,fcName:n,tried:a,wait:i,callback:s});return}this.readingCalls++;const o=(u,c)=>{if(this.readingCalls--,this.waitingReads.length>0){const f=this.waitingReads.shift();this.read(f.lng,f.ns,f.fcName,f.tried,f.wait,f.callback)}if(u&&c&&a<this.maxRetries){setTimeout(()=>{this.read.call(this,e,r,n,a+1,i*2,s)},i);return}s(u,c)},l=this.backend[n].bind(this.backend);if(l.length===2){try{const u=l(e,r);u&&typeof u.then=="function"?u.then(c=>o(null,c)).catch(o):o(null,u)}catch(u){o(u)}return}return l(e,r,o)}prepareLoading(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),a&&a();st(e)&&(e=this.languageUtils.toResolveHierarchy(e)),st(r)&&(r=[r]);const i=this.queueLoad(e,r,n,a);if(!i.toLoad.length)return i.pending.length||a(),null;i.toLoad.forEach(s=>{this.loadOne(s)})}load(e,r,n){this.prepareLoading(e,r,{},n)}reload(e,r,n){this.prepareLoading(e,r,{reload:!0},n)}loadOne(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const n=e.split("|"),a=n[0],i=n[1];this.read(a,i,"read",void 0,void 0,(s,o)=>{s&&this.logger.warn(`${r}loading namespace ${i} for language ${a} failed`,s),!s&&o&&this.logger.log(`${r}loaded namespace ${i} for language ${a}`,o),this.loaded(e,s,o)})}saveMissing(e,r,n,a,i){var l,u,c,f,d;let s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},o=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if((u=(l=this.services)==null?void 0:l.utils)!=null&&u.hasLoadedNamespace&&!((f=(c=this.services)==null?void 0:c.utils)!=null&&f.hasLoadedNamespace(r))){this.logger.warn(`did not save key "${n}" as the namespace "${r}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(n==null||n==="")){if((d=this.backend)!=null&&d.create){const p={...s,isUpdate:i},g=this.backend.create.bind(this.backend);if(g.length<6)try{let y;g.length===5?y=g(e,r,n,a,p):y=g(e,r,n,a),y&&typeof y.then=="function"?y.then(x=>o(null,x)).catch(o):o(null,y)}catch(y){o(y)}else g(e,r,n,a,o,p)}!e||!e[0]||this.store.addResource(e[0],r,n,a)}}}const g7=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:t=>{let e={};if(typeof t[1]=="object"&&(e=t[1]),st(t[1])&&(e.defaultValue=t[1]),st(t[2])&&(e.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){const r=t[3]||t[2];Object.keys(r).forEach(n=>{e[n]=r[n]})}return e},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),m7=t=>{var e,r;return st(t.ns)&&(t.ns=[t.ns]),st(t.fallbackLng)&&(t.fallbackLng=[t.fallbackLng]),st(t.fallbackNS)&&(t.fallbackNS=[t.fallbackNS]),((r=(e=t.supportedLngs)==null?void 0:e.indexOf)==null?void 0:r.call(e,"cimode"))<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),typeof t.initImmediate=="boolean"&&(t.initAsync=t.initImmediate),t},Pf=()=>{},bG=t=>{Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(r=>{typeof t[r]=="function"&&(t[r]=t[r].bind(t))})};class Uc extends gp{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;if(super(),this.options=m7(e),this.services={},this.logger=Na,this.modules={external:[]},bG(this),r&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,r),this;setTimeout(()=>{this.init(e,r)},0)}}init(){var e=this;let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof r=="function"&&(n=r,r={}),r.defaultNS==null&&r.ns&&(st(r.ns)?r.defaultNS=r.ns:r.ns.indexOf("translation")<0&&(r.defaultNS=r.ns[0]));const a=g7();this.options={...a,...this.options,...m7(r)},this.options.interpolation={...a.interpolation,...this.options.interpolation},r.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=r.keySeparator),r.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=r.nsSeparator);const i=c=>c?typeof c=="function"?new c:c:null;if(!this.options.isClone){this.modules.logger?Na.init(i(this.modules.logger),this.options):Na.init(null,this.options);let c;this.modules.formatter?c=this.modules.formatter:c=mG;const f=new f7(this.options);this.store=new l7(this.options.resources,this.options);const d=this.services;d.logger=Na,d.resourceStore=this.store,d.languageUtils=f,d.pluralResolver=new hG(f,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),c&&(!this.options.interpolation.format||this.options.interpolation.format===a.interpolation.format)&&(d.formatter=i(c),d.formatter.init(d,this.options),this.options.interpolation.format=d.formatter.format.bind(d.formatter)),d.interpolator=new pG(this.options),d.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},d.backendConnector=new yG(i(this.modules.backend),d.resourceStore,d,this.options),d.backendConnector.on("*",function(p){for(var g=arguments.length,y=new Array(g>1?g-1:0),x=1;x<g;x++)y[x-1]=arguments[x];e.emit(p,...y)}),this.modules.languageDetector&&(d.languageDetector=i(this.modules.languageDetector),d.languageDetector.init&&d.languageDetector.init(d,this.options.detection,this.options)),this.modules.i18nFormat&&(d.i18nFormat=i(this.modules.i18nFormat),d.i18nFormat.init&&d.i18nFormat.init(this)),this.translator=new gh(this.services,this.options),this.translator.on("*",function(p){for(var g=arguments.length,y=new Array(g>1?g-1:0),x=1;x<g;x++)y[x-1]=arguments[x];e.emit(p,...y)}),this.modules.external.forEach(p=>{p.init&&p.init(this)})}if(this.format=this.options.interpolation.format,n||(n=Pf),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const c=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);c.length>0&&c[0]!=="dev"&&(this.options.lng=c[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(c=>{this[c]=function(){return e.store[c](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(c=>{this[c]=function(){return e.store[c](...arguments),e}});const l=Pu(),u=()=>{const c=(f,d)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),l.resolve(d),n(f,d)};if(this.languages&&!this.isInitialized)return c(null,this.t.bind(this));this.changeLanguage(this.options.lng,c)};return this.options.resources||!this.options.initAsync?u():setTimeout(u,0),l}loadResources(e){var i,s;let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Pf;const a=st(e)?e:this.language;if(typeof e=="function"&&(n=e),!this.options.resources||this.options.partialBundledLanguages){if((a==null?void 0:a.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return n();const o=[],l=u=>{if(!u||u==="cimode")return;this.services.languageUtils.toResolveHierarchy(u).forEach(f=>{f!=="cimode"&&o.indexOf(f)<0&&o.push(f)})};a?l(a):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(c=>l(c)),(s=(i=this.options.preload)==null?void 0:i.forEach)==null||s.call(i,u=>l(u)),this.services.backendConnector.load(o,this.options.ns,u=>{!u&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),n(u)})}else n(null)}reloadResources(e,r,n){const a=Pu();return typeof e=="function"&&(n=e,e=void 0),typeof r=="function"&&(n=r,r=void 0),e||(e=this.languages),r||(r=this.options.ns),n||(n=Pf),this.services.backendConnector.reload(e,r,i=>{a.resolve(),n(i)}),a}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&HE.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1))for(let r=0;r<this.languages.length;r++){const n=this.languages[r];if(!(["cimode","dev"].indexOf(n)>-1)&&this.store.hasLanguageSomeTranslations(n)){this.resolvedLanguage=n;break}}}changeLanguage(e,r){var n=this;this.isLanguageChangingTo=e;const a=Pu();this.emit("languageChanging",e);const i=l=>{this.language=l,this.languages=this.services.languageUtils.toResolveHierarchy(l),this.resolvedLanguage=void 0,this.setResolvedLanguage(l)},s=(l,u)=>{u?(i(u),this.translator.changeLanguage(u),this.isLanguageChangingTo=void 0,this.emit("languageChanged",u),this.logger.log("languageChanged",u)):this.isLanguageChangingTo=void 0,a.resolve(function(){return n.t(...arguments)}),r&&r(l,function(){return n.t(...arguments)})},o=l=>{var c,f;!e&&!l&&this.services.languageDetector&&(l=[]);const u=st(l)?l:this.services.languageUtils.getBestMatchFromCodes(l);u&&(this.language||i(u),this.translator.language||this.translator.changeLanguage(u),(f=(c=this.services.languageDetector)==null?void 0:c.cacheUserLanguage)==null||f.call(c,u)),this.loadResources(u,d=>{s(d,u)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?o(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(o):this.services.languageDetector.detect(o):o(e),a}getFixedT(e,r,n){var a=this;const i=function(s,o){let l;if(typeof o!="object"){for(var u=arguments.length,c=new Array(u>2?u-2:0),f=2;f<u;f++)c[f-2]=arguments[f];l=a.options.overloadTranslationOptionHandler([s,o].concat(c))}else l={...o};l.lng=l.lng||i.lng,l.lngs=l.lngs||i.lngs,l.ns=l.ns||i.ns,l.keyPrefix!==""&&(l.keyPrefix=l.keyPrefix||n||i.keyPrefix);const d=a.options.keySeparator||".";let p;return l.keyPrefix&&Array.isArray(s)?p=s.map(g=>`${l.keyPrefix}${d}${g}`):p=l.keyPrefix?`${l.keyPrefix}${d}${s}`:s,a.t(p,l)};return st(e)?i.lng=e:i.lngs=e,i.ns=r,i.keyPrefix=n,i}t(){var a;for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return(a=this.translator)==null?void 0:a.translate(...r)}exists(){var a;for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return(a=this.translator)==null?void 0:a.exists(...r)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const n=r.lng||this.resolvedLanguage||this.languages[0],a=this.options?this.options.fallbackLng:!1,i=this.languages[this.languages.length-1];if(n.toLowerCase()==="cimode")return!0;const s=(o,l)=>{const u=this.services.backendConnector.state[`${o}|${l}`];return u===-1||u===0||u===2};if(r.precheck){const o=r.precheck(this,s);if(o!==void 0)return o}return!!(this.hasResourceBundle(n,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||s(n,e)&&(!a||s(i,e)))}loadNamespaces(e,r){const n=Pu();return this.options.ns?(st(e)&&(e=[e]),e.forEach(a=>{this.options.ns.indexOf(a)<0&&this.options.ns.push(a)}),this.loadResources(a=>{n.resolve(),r&&r(a)}),n):(r&&r(),Promise.resolve())}loadLanguages(e,r){const n=Pu();st(e)&&(e=[e]);const a=this.options.preload||[],i=e.filter(s=>a.indexOf(s)<0&&this.services.languageUtils.isSupportedCode(s));return i.length?(this.options.preload=a.concat(i),this.loadResources(s=>{n.resolve(),r&&r(s)}),n):(r&&r(),Promise.resolve())}dir(e){var a,i;if(e||(e=this.resolvedLanguage||(((a=this.languages)==null?void 0:a.length)>0?this.languages[0]:this.language)),!e)return"rtl";const r=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],n=((i=this.services)==null?void 0:i.languageUtils)||new f7(g7());return r.indexOf(n.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;return new Uc(e,r)}cloneInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Pf;const n=e.forkResourceStore;n&&delete e.forkResourceStore;const a={...this.options,...e,isClone:!0},i=new Uc(a);if((e.debug!==void 0||e.prefix!==void 0)&&(i.logger=i.logger.clone(e)),["store","services","language"].forEach(o=>{i[o]=this[o]}),i.services={...this.services},i.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},n){const o=Object.keys(this.store.data).reduce((l,u)=>(l[u]={...this.store.data[u]},Object.keys(l[u]).reduce((c,f)=>(c[f]={...l[u][f]},c),{})),{});i.store=new l7(o,a),i.services.resourceStore=i.store}return i.translator=new gh(i.services,a),i.translator.on("*",function(o){for(var l=arguments.length,u=new Array(l>1?l-1:0),c=1;c<l;c++)u[c-1]=arguments[c];i.emit(o,...u)}),i.init(a,r),i.translator.options=a,i.translator.backendConnector.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},i}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const cn=Uc.createInstance();cn.createInstance=Uc.createInstance;cn.createInstance;cn.dir;cn.init;cn.loadResources;cn.reloadResources;cn.use;cn.changeLanguage;cn.getFixedT;cn.t;cn.exists;cn.setDefaultNamespace;cn.hasLoadedNamespace;cn.loadNamespaces;cn.loadLanguages;function ny(t){"@babel/helpers - typeof";return ny=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ny(t)}function VE(){return typeof XMLHttpRequest=="function"||(typeof XMLHttpRequest>"u"?"undefined":ny(XMLHttpRequest))==="object"}function xG(t){return!!t&&typeof t.then=="function"}function wG(t){return xG(t)?t:Promise.resolve(t)}function v7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function y7(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?v7(Object(r),!0).forEach(function(n){_G(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):v7(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function _G(t,e,r){return(e=SG(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function SG(t){var e=kG(t,"string");return po(e)=="symbol"?e:e+""}function kG(t,e){if(po(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(po(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function po(t){"@babel/helpers - typeof";return po=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},po(t)}var ms=typeof fetch=="function"?fetch:void 0;typeof global<"u"&&global.fetch?ms=global.fetch:typeof window<"u"&&window.fetch&&(ms=window.fetch);var Wc;VE()&&(typeof global<"u"&&global.XMLHttpRequest?Wc=global.XMLHttpRequest:typeof window<"u"&&window.XMLHttpRequest&&(Wc=window.XMLHttpRequest));var mh;typeof ActiveXObject=="function"&&(typeof global<"u"&&global.ActiveXObject?mh=global.ActiveXObject:typeof window<"u"&&window.ActiveXObject&&(mh=window.ActiveXObject));typeof ms!="function"&&(ms=void 0);if(!ms&&!Wc&&!mh)try{v_(()=>import("./browser-ponyfill-b6880b6a.js").then(t=>t.b),[]).then(function(t){ms=t.default}).catch(function(){})}catch{}var ay=function(e,r){if(r&&po(r)==="object"){var n="";for(var a in r)n+="&"+encodeURIComponent(a)+"="+encodeURIComponent(r[a]);if(!n)return e;e=e+(e.indexOf("?")!==-1?"&":"?")+n.slice(1)}return e},b7=function(e,r,n,a){var i=function(l){if(!l.ok)return n(l.statusText||"Error",{status:l.status});l.text().then(function(u){n(null,{status:l.status,data:u})}).catch(n)};if(a){var s=a(e,r);if(s instanceof Promise){s.then(i).catch(n);return}}typeof fetch=="function"?fetch(e,r).then(i).catch(n):ms(e,r).then(i).catch(n)},x7=!1,EG=function(e,r,n,a){e.queryStringParams&&(r=ay(r,e.queryStringParams));var i=y7({},typeof e.customHeaders=="function"?e.customHeaders():e.customHeaders);typeof window>"u"&&typeof global<"u"&&typeof global.process<"u"&&global.process.versions&&global.process.versions.node&&(i["User-Agent"]="i18next-http-backend (node/".concat(global.process.version,"; ").concat(global.process.platform," ").concat(global.process.arch,")")),n&&(i["Content-Type"]="application/json");var s=typeof e.requestOptions=="function"?e.requestOptions(n):e.requestOptions,o=y7({method:n?"POST":"GET",body:n?e.stringify(n):void 0,headers:i},x7?{}:s),l=typeof e.alternateFetch=="function"&&e.alternateFetch.length>=1?e.alternateFetch:void 0;try{b7(r,o,a,l)}catch(u){if(!s||Object.keys(s).length===0||!u.message||u.message.indexOf("not implemented")<0)return a(u);try{Object.keys(s).forEach(function(c){delete o[c]}),b7(r,o,a,l),x7=!0}catch(c){a(c)}}},CG=function(e,r,n,a){n&&po(n)==="object"&&(n=ay("",n).slice(1)),e.queryStringParams&&(r=ay(r,e.queryStringParams));try{var i=Wc?new Wc:new mh("MSXML2.XMLHTTP.3.0");i.open(n?"POST":"GET",r,1),e.crossDomain||i.setRequestHeader("X-Requested-With","XMLHttpRequest"),i.withCredentials=!!e.withCredentials,n&&i.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),i.overrideMimeType&&i.overrideMimeType("application/json");var s=e.customHeaders;if(s=typeof s=="function"?s():s,s)for(var o in s)i.setRequestHeader(o,s[o]);i.onreadystatechange=function(){i.readyState>3&&a(i.status>=400?i.statusText:null,{status:i.status,data:i.responseText})},i.send(n)}catch(l){console&&console.log(l)}},TG=function(e,r,n,a){if(typeof n=="function"&&(a=n,n=void 0),a=a||function(){},ms&&r.indexOf("file:")!==0)return EG(e,r,n,a);if(VE()||typeof ActiveXObject=="function")return CG(e,r,n,a);a(new Error("No fetch and no xhr implementation found!"))};function ql(t){"@babel/helpers - typeof";return ql=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ql(t)}function w7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function fv(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?w7(Object(r),!0).forEach(function(n){jE(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):w7(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function MG(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _7(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,UE(n.key),n)}}function DG(t,e,r){return e&&_7(t.prototype,e),r&&_7(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function jE(t,e,r){return(e=UE(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function UE(t){var e=PG(t,"string");return ql(e)=="symbol"?e:e+""}function PG(t,e){if(ql(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(ql(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var AG=function(){return{loadPath:"/locales/{{lng}}/{{ns}}.json",addPath:"/locales/add/{{lng}}/{{ns}}",parse:function(r){return JSON.parse(r)},stringify:JSON.stringify,parsePayload:function(r,n,a){return jE({},n,a||"")},parseLoadPayload:function(r,n){},request:TG,reloadInterval:typeof window<"u"?!1:60*60*1e3,customHeaders:{},queryStringParams:{},crossDomain:!1,withCredentials:!1,overrideMimeType:!1,requestOptions:{mode:"cors",credentials:"same-origin",cache:"default"}}},WE=function(){function t(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};MG(this,t),this.services=e,this.options=r,this.allOptions=n,this.type="backend",this.init(e,r,n)}return DG(t,[{key:"init",value:function(r){var n=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(this.services=r,this.options=fv(fv(fv({},AG()),this.options||{}),a),this.allOptions=i,this.services&&this.options.reloadInterval){var s=setInterval(function(){return n.reload()},this.options.reloadInterval);ql(s)==="object"&&typeof s.unref=="function"&&s.unref()}}},{key:"readMulti",value:function(r,n,a){this._readAny(r,r,n,n,a)}},{key:"read",value:function(r,n,a){this._readAny([r],r,[n],n,a)}},{key:"_readAny",value:function(r,n,a,i,s){var o=this,l=this.options.loadPath;typeof this.options.loadPath=="function"&&(l=this.options.loadPath(r,a)),l=wG(l),l.then(function(u){if(!u)return s(null,{});var c=o.services.interpolator.interpolate(u,{lng:r.join("+"),ns:a.join("+")});o.loadUrl(c,s,n,i)})}},{key:"loadUrl",value:function(r,n,a,i){var s=this,o=typeof a=="string"?[a]:a,l=typeof i=="string"?[i]:i,u=this.options.parseLoadPayload(o,l);this.options.request(this.options,r,u,function(c,f){if(f&&(f.status>=500&&f.status<600||!f.status))return n("failed loading "+r+"; status code: "+f.status,!0);if(f&&f.status>=400&&f.status<500)return n("failed loading "+r+"; status code: "+f.status,!1);if(!f&&c&&c.message){var d=c.message.toLowerCase(),p=["failed","fetch","network","load"].find(function(x){return d.indexOf(x)>-1});if(p)return n("failed loading "+r+": "+c.message,!0)}if(c)return n(c,!1);var g,y;try{typeof f.data=="string"?g=s.options.parse(f.data,a,i):g=f.data}catch{y="failed parsing "+r+" to json"}if(y)return n(y,!1);n(null,g)})}},{key:"create",value:function(r,n,a,i,s){var o=this;if(this.options.addPath){typeof r=="string"&&(r=[r]);var l=this.options.parsePayload(n,a,i),u=0,c=[],f=[];r.forEach(function(d){var p=o.options.addPath;typeof o.options.addPath=="function"&&(p=o.options.addPath(d,n));var g=o.services.interpolator.interpolate(p,{lng:d,ns:n});o.options.request(o.options,g,l,function(y,x){u+=1,c.push(y),f.push(x),u===r.length&&typeof s=="function"&&s(c,f)})})}}},{key:"reload",value:function(){var r=this,n=this.services,a=n.backendConnector,i=n.languageUtils,s=n.logger,o=a.language;if(!(o&&o.toLowerCase()==="cimode")){var l=[],u=function(f){var d=i.toResolveHierarchy(f);d.forEach(function(p){l.indexOf(p)<0&&l.push(p)})};u(o),this.allOptions.preload&&this.allOptions.preload.forEach(function(c){return u(c)}),l.forEach(function(c){r.allOptions.ns.forEach(function(f){a.read(c,f,"read",null,null,function(d,p){d&&s.warn("loading namespace ".concat(f," for language ").concat(c," failed"),d),!d&&p&&s.log("loaded namespace ".concat(f," for language ").concat(c),p),a.loaded("".concat(c,"|").concat(f),d,p)})})})}}}])}();WE.type="backend";const{slice:LG,forEach:RG}=[];function OG(t){return RG.call(LG.call(arguments,1),e=>{if(e)for(const r in e)t[r]===void 0&&(t[r]=e[r])}),t}const S7=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,IG=function(t,e){const n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},a=encodeURIComponent(e);let i=`${t}=${a}`;if(n.maxAge>0){const s=n.maxAge-0;if(Number.isNaN(s))throw new Error("maxAge should be a Number");i+=`; Max-Age=${Math.floor(s)}`}if(n.domain){if(!S7.test(n.domain))throw new TypeError("option domain is invalid");i+=`; Domain=${n.domain}`}if(n.path){if(!S7.test(n.path))throw new TypeError("option path is invalid");i+=`; Path=${n.path}`}if(n.expires){if(typeof n.expires.toUTCString!="function")throw new TypeError("option expires is invalid");i+=`; Expires=${n.expires.toUTCString()}`}if(n.httpOnly&&(i+="; HttpOnly"),n.secure&&(i+="; Secure"),n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case!0:i+="; SameSite=Strict";break;case"lax":i+="; SameSite=Lax";break;case"strict":i+="; SameSite=Strict";break;case"none":i+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return i},k7={create(t,e,r,n){let a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};r&&(a.expires=new Date,a.expires.setTime(a.expires.getTime()+r*60*1e3)),n&&(a.domain=n),document.cookie=IG(t,encodeURIComponent(e),a)},read(t){const e=`${t}=`,r=document.cookie.split(";");for(let n=0;n<r.length;n++){let a=r[n];for(;a.charAt(0)===" ";)a=a.substring(1,a.length);if(a.indexOf(e)===0)return a.substring(e.length,a.length)}return null},remove(t){this.create(t,"",-1)}};var NG={name:"cookie",lookup(t){let{lookupCookie:e}=t;if(e&&typeof document<"u")return k7.read(e)||void 0},cacheUserLanguage(t,e){let{lookupCookie:r,cookieMinutes:n,cookieDomain:a,cookieOptions:i}=e;r&&typeof document<"u"&&k7.create(r,t,n,a,i)}},zG={name:"querystring",lookup(t){var n;let{lookupQuerystring:e}=t,r;if(typeof window<"u"){let{search:a}=window.location;!window.location.search&&((n=window.location.hash)==null?void 0:n.indexOf("?"))>-1&&(a=window.location.hash.substring(window.location.hash.indexOf("?")));const s=a.substring(1).split("&");for(let o=0;o<s.length;o++){const l=s[o].indexOf("=");l>0&&s[o].substring(0,l)===e&&(r=s[o].substring(l+1))}}return r}};let $o=null;const E7=()=>{if($o!==null)return $o;try{if($o=typeof window<"u"&&window.localStorage!==null,!$o)return!1;const t="i18next.translate.boo";window.localStorage.setItem(t,"foo"),window.localStorage.removeItem(t)}catch{$o=!1}return $o};var BG={name:"localStorage",lookup(t){let{lookupLocalStorage:e}=t;if(e&&E7())return window.localStorage.getItem(e)||void 0},cacheUserLanguage(t,e){let{lookupLocalStorage:r}=e;r&&E7()&&window.localStorage.setItem(r,t)}};let qo=null;const C7=()=>{if(qo!==null)return qo;try{if(qo=typeof window<"u"&&window.sessionStorage!==null,!qo)return!1;const t="i18next.translate.boo";window.sessionStorage.setItem(t,"foo"),window.sessionStorage.removeItem(t)}catch{qo=!1}return qo};var FG={name:"sessionStorage",lookup(t){let{lookupSessionStorage:e}=t;if(e&&C7())return window.sessionStorage.getItem(e)||void 0},cacheUserLanguage(t,e){let{lookupSessionStorage:r}=e;r&&C7()&&window.sessionStorage.setItem(r,t)}},$G={name:"navigator",lookup(t){const e=[];if(typeof navigator<"u"){const{languages:r,userLanguage:n,language:a}=navigator;if(r)for(let i=0;i<r.length;i++)e.push(r[i]);n&&e.push(n),a&&e.push(a)}return e.length>0?e:void 0}},qG={name:"htmlTag",lookup(t){let{htmlTag:e}=t,r;const n=e||(typeof document<"u"?document.documentElement:null);return n&&typeof n.getAttribute=="function"&&(r=n.getAttribute("lang")),r}},HG={name:"path",lookup(t){var a;let{lookupFromPathIndex:e}=t;if(typeof window>"u")return;const r=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(r)?(a=r[typeof e=="number"?e:0])==null?void 0:a.replace("/",""):void 0}},VG={name:"subdomain",lookup(t){var a,i;let{lookupFromSubdomainIndex:e}=t;const r=typeof e=="number"?e+1:1,n=typeof window<"u"&&((i=(a=window.location)==null?void 0:a.hostname)==null?void 0:i.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i));if(n)return n[r]}};let GE=!1;try{document.cookie,GE=!0}catch{}const YE=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];GE||YE.splice(1,1);const jG=()=>({order:YE,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:t=>t});class XE{constructor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(e,r)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=e,this.options=OG(r,this.options||{},jG()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=a=>a.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=n,this.addDetector(NG),this.addDetector(zG),this.addDetector(BG),this.addDetector(FG),this.addDetector($G),this.addDetector(qG),this.addDetector(HG),this.addDetector(VG)}addDetector(e){return this.detectors[e.name]=e,this}detect(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,r=[];return e.forEach(n=>{if(this.detectors[n]){let a=this.detectors[n].lookup(this.options);a&&typeof a=="string"&&(a=[a]),a&&(r=r.concat(a))}}),r=r.map(n=>this.options.convertDetectedLanguage(n)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?r:r.length>0?r[0]:null}cacheUserLanguage(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;r&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||r.forEach(n=>{this.detectors[n]&&this.detectors[n].cacheUserLanguage(e,this.options)}))}}XE.type="languageDetector";const UG=[{loadPath:"/ml-with-bricks/locales/{{lng}}.json"},{loadPath:"/locales/{{lng}}.json"}];cn.use(WE).use(XE).use(UP).init({debug:!0,load:"languageOnly",fallbackLng:"en",backend:UG});dv.createRoot(document.getElementById("root")).render(Y.jsx(ft.StrictMode,{children:Y.jsx(wL,{basename:"/ml-with-bricks/",children:Y.jsx(tG,{})})}));export{iy as c,T7 as g};
