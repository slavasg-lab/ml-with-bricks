var sI=Object.defineProperty;var oI=(e,t,n)=>t in e?sI(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Ne=(e,t,n)=>(oI(e,typeof t!="symbol"?t+"":t,n),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var w4=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function el(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var hS={exports:{}},Op={},dS={exports:{}},_t={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gf=Symbol.for("react.element"),lI=Symbol.for("react.portal"),uI=Symbol.for("react.fragment"),cI=Symbol.for("react.strict_mode"),fI=Symbol.for("react.profiler"),hI=Symbol.for("react.provider"),dI=Symbol.for("react.context"),pI=Symbol.for("react.forward_ref"),gI=Symbol.for("react.suspense"),mI=Symbol.for("react.memo"),vI=Symbol.for("react.lazy"),tw=Symbol.iterator;function yI(e){return e===null||typeof e!="object"?null:(e=tw&&e[tw]||e["@@iterator"],typeof e=="function"?e:null)}var pS={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},gS=Object.assign,mS={};function Ou(e,t,n){this.props=e,this.context=t,this.refs=mS,this.updater=n||pS}Ou.prototype.isReactComponent={};Ou.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ou.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function vS(){}vS.prototype=Ou.prototype;function k4(e,t,n){this.props=e,this.context=t,this.refs=mS,this.updater=n||pS}var S4=k4.prototype=new vS;S4.constructor=k4;gS(S4,Ou.prototype);S4.isPureReactComponent=!0;var nw=Array.isArray,yS=Object.prototype.hasOwnProperty,_4={current:null},xS={key:!0,ref:!0,__self:!0,__source:!0};function bS(e,t,n){var r,i={},a=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(a=""+t.key),t)yS.call(t,r)&&!xS.hasOwnProperty(r)&&(i[r]=t[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(r in o=e.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return{$$typeof:Gf,type:e,key:a,ref:s,props:i,_owner:_4.current}}function xI(e,t){return{$$typeof:Gf,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function C4(e){return typeof e=="object"&&e!==null&&e.$$typeof===Gf}function bI(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var rw=/\/+/g;function Pm(e,t){return typeof e=="object"&&e!==null&&e.key!=null?bI(""+e.key):t.toString(36)}function qh(e,t,n,r,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(a){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case Gf:case lI:s=!0}}if(s)return s=e,i=i(s),e=r===""?"."+Pm(s,0):r,nw(i)?(n="",e!=null&&(n=e.replace(rw,"$&/")+"/"),qh(i,t,n,"",function(u){return u})):i!=null&&(C4(i)&&(i=xI(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(rw,"$&/")+"/")+e)),t.push(i)),1;if(s=0,r=r===""?".":r+":",nw(e))for(var o=0;o<e.length;o++){a=e[o];var l=r+Pm(a,o);s+=qh(a,t,n,l,i)}else if(l=yI(e),typeof l=="function")for(e=l.call(e),o=0;!(a=e.next()).done;)a=a.value,l=r+Pm(a,o++),s+=qh(a,t,n,l,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function $0(e,t,n){if(e==null)return e;var r=[],i=0;return qh(e,r,"","",function(a){return t.call(n,a,i++)}),r}function wI(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Rr={current:null},Hh={transition:null},kI={ReactCurrentDispatcher:Rr,ReactCurrentBatchConfig:Hh,ReactCurrentOwner:_4};function wS(){throw Error("act(...) is not supported in production builds of React.")}_t.Children={map:$0,forEach:function(e,t,n){$0(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return $0(e,function(){t++}),t},toArray:function(e){return $0(e,function(t){return t})||[]},only:function(e){if(!C4(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};_t.Component=Ou;_t.Fragment=uI;_t.Profiler=fI;_t.PureComponent=k4;_t.StrictMode=cI;_t.Suspense=gI;_t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=kI;_t.act=wS;_t.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=gS({},e.props),i=e.key,a=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,s=_4.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(l in t)yS.call(t,l)&&!xS.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&o!==void 0?o[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];r.children=o}return{$$typeof:Gf,type:e.type,key:i,ref:a,props:r,_owner:s}};_t.createContext=function(e){return e={$$typeof:dI,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:hI,_context:e},e.Consumer=e};_t.createElement=bS;_t.createFactory=function(e){var t=bS.bind(null,e);return t.type=e,t};_t.createRef=function(){return{current:null}};_t.forwardRef=function(e){return{$$typeof:pI,render:e}};_t.isValidElement=C4;_t.lazy=function(e){return{$$typeof:vI,_payload:{_status:-1,_result:e},_init:wI}};_t.memo=function(e,t){return{$$typeof:mI,type:e,compare:t===void 0?null:t}};_t.startTransition=function(e){var t=Hh.transition;Hh.transition={};try{e()}finally{Hh.transition=t}};_t.unstable_act=wS;_t.useCallback=function(e,t){return Rr.current.useCallback(e,t)};_t.useContext=function(e){return Rr.current.useContext(e)};_t.useDebugValue=function(){};_t.useDeferredValue=function(e){return Rr.current.useDeferredValue(e)};_t.useEffect=function(e,t){return Rr.current.useEffect(e,t)};_t.useId=function(){return Rr.current.useId()};_t.useImperativeHandle=function(e,t,n){return Rr.current.useImperativeHandle(e,t,n)};_t.useInsertionEffect=function(e,t){return Rr.current.useInsertionEffect(e,t)};_t.useLayoutEffect=function(e,t){return Rr.current.useLayoutEffect(e,t)};_t.useMemo=function(e,t){return Rr.current.useMemo(e,t)};_t.useReducer=function(e,t,n){return Rr.current.useReducer(e,t,n)};_t.useRef=function(e){return Rr.current.useRef(e)};_t.useState=function(e){return Rr.current.useState(e)};_t.useSyncExternalStore=function(e,t,n){return Rr.current.useSyncExternalStore(e,t,n)};_t.useTransition=function(){return Rr.current.useTransition()};_t.version="18.3.1";dS.exports=_t;var te=dS.exports;const pt=el(te);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SI=te,_I=Symbol.for("react.element"),CI=Symbol.for("react.fragment"),TI=Object.prototype.hasOwnProperty,EI=SI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,PI={key:!0,ref:!0,__self:!0,__source:!0};function kS(e,t,n){var r,i={},a=null,s=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)TI.call(t,r)&&!PI.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:_I,type:e,key:a,ref:s,props:i,_owner:EI.current}}Op.Fragment=CI;Op.jsx=kS;Op.jsxs=kS;hS.exports=Op;var O=hS.exports,fy={},SS={exports:{}},fi={},_S={exports:{}},CS={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(G,ee){var B=G.length;G.push(ee);e:for(;0<B;){var K=B-1>>>1,J=G[K];if(0<i(J,ee))G[K]=ee,G[B]=J,B=K;else break e}}function n(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var ee=G[0],B=G.pop();if(B!==ee){G[0]=B;e:for(var K=0,J=G.length,q=J>>>1;K<q;){var he=2*(K+1)-1,de=G[he],oe=he+1,ke=G[oe];if(0>i(de,B))oe<J&&0>i(ke,de)?(G[K]=ke,G[oe]=B,K=oe):(G[K]=de,G[he]=B,K=he);else if(oe<J&&0>i(ke,B))G[K]=ke,G[oe]=B,K=oe;else break e}}return ee}function i(G,ee){var B=G.sortIndex-ee.sortIndex;return B!==0?B:G.id-ee.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();e.unstable_now=function(){return s.now()-o}}var l=[],u=[],c=1,f=null,h=3,d=!1,p=!1,v=!1,x=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(G){for(var ee=n(u);ee!==null;){if(ee.callback===null)r(u);else if(ee.startTime<=G)r(u),ee.sortIndex=ee.expirationTime,t(l,ee);else break;ee=n(u)}}function _(G){if(v=!1,k(G),!p)if(n(l)!==null)p=!0,Z(C);else{var ee=n(u);ee!==null&&X(_,ee.startTime-G)}}function C(G,ee){p=!1,v&&(v=!1,y(A),A=-1),d=!0;var B=h;try{for(k(ee),f=n(l);f!==null&&(!(f.expirationTime>ee)||G&&!N());){var K=f.callback;if(typeof K=="function"){f.callback=null,h=f.priorityLevel;var J=K(f.expirationTime<=ee);ee=e.unstable_now(),typeof J=="function"?f.callback=J:f===n(l)&&r(l),k(ee)}else r(l);f=n(l)}if(f!==null)var q=!0;else{var he=n(u);he!==null&&X(_,he.startTime-ee),q=!1}return q}finally{f=null,h=B,d=!1}}var T=!1,E=null,A=-1,R=5,D=-1;function N(){return!(e.unstable_now()-D<R)}function z(){if(E!==null){var G=e.unstable_now();D=G;var ee=!0;try{ee=E(!0,G)}finally{ee?j():(T=!1,E=null)}}else T=!1}var j;if(typeof w=="function")j=function(){w(z)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,Y=V.port2;V.port1.onmessage=z,j=function(){Y.postMessage(null)}}else j=function(){x(z,0)};function Z(G){E=G,T||(T=!0,j())}function X(G,ee){A=x(function(){G(e.unstable_now())},ee)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(G){G.callback=null},e.unstable_continueExecution=function(){p||d||(p=!0,Z(C))},e.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<G?Math.floor(1e3/G):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(G){switch(h){case 1:case 2:case 3:var ee=3;break;default:ee=h}var B=h;h=ee;try{return G()}finally{h=B}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(G,ee){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var B=h;h=G;try{return ee()}finally{h=B}},e.unstable_scheduleCallback=function(G,ee,B){var K=e.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?K+B:K):B=K,G){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=B+J,G={id:c++,callback:ee,priorityLevel:G,startTime:B,expirationTime:J,sortIndex:-1},B>K?(G.sortIndex=B,t(u,G),n(l)===null&&G===n(u)&&(v?(y(A),A=-1):v=!0,X(_,B-K))):(G.sortIndex=J,t(l,G),p||d||(p=!0,Z(C))),G},e.unstable_shouldYield=N,e.unstable_wrapCallback=function(G){var ee=h;return function(){var B=h;h=ee;try{return G.apply(this,arguments)}finally{h=B}}}})(CS);_S.exports=CS;var MI=_S.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AI=te,ci=MI;function Le(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var TS=new Set,af={};function tl(e,t){hu(e,t),hu(e+"Capture",t)}function hu(e,t){for(af[e]=t,e=0;e<t.length;e++)TS.add(t[e])}var qa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),hy=Object.prototype.hasOwnProperty,DI=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,iw={},aw={};function II(e){return hy.call(aw,e)?!0:hy.call(iw,e)?!1:DI.test(e)?aw[e]=!0:(iw[e]=!0,!1)}function LI(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function OI(e,t,n,r){if(t===null||typeof t>"u"||LI(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Nr(e,t,n,r,i,a,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=s}var yr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){yr[e]=new Nr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];yr[t]=new Nr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){yr[e]=new Nr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){yr[e]=new Nr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){yr[e]=new Nr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){yr[e]=new Nr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){yr[e]=new Nr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){yr[e]=new Nr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){yr[e]=new Nr(e,5,!1,e.toLowerCase(),null,!1,!1)});var T4=/[\-:]([a-z])/g;function E4(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(T4,E4);yr[t]=new Nr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(T4,E4);yr[t]=new Nr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(T4,E4);yr[t]=new Nr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){yr[e]=new Nr(e,1,!1,e.toLowerCase(),null,!1,!1)});yr.xlinkHref=new Nr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){yr[e]=new Nr(e,1,!1,e.toLowerCase(),null,!0,!0)});function P4(e,t,n,r){var i=yr.hasOwnProperty(t)?yr[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(OI(t,n,i,r)&&(n=null),r||i===null?II(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Qa=AI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,j0=Symbol.for("react.element"),Dl=Symbol.for("react.portal"),Il=Symbol.for("react.fragment"),M4=Symbol.for("react.strict_mode"),dy=Symbol.for("react.profiler"),ES=Symbol.for("react.provider"),PS=Symbol.for("react.context"),A4=Symbol.for("react.forward_ref"),py=Symbol.for("react.suspense"),gy=Symbol.for("react.suspense_list"),D4=Symbol.for("react.memo"),hs=Symbol.for("react.lazy"),MS=Symbol.for("react.offscreen"),sw=Symbol.iterator;function tc(e){return e===null||typeof e!="object"?null:(e=sw&&e[sw]||e["@@iterator"],typeof e=="function"?e:null)}var An=Object.assign,Mm;function Tc(e){if(Mm===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Mm=t&&t[1]||""}return`
`+Mm+e}var Am=!1;function Dm(e,t){if(!e||Am)return"";Am=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),a=r.stack.split(`
`),s=i.length-1,o=a.length-1;1<=s&&0<=o&&i[s]!==a[o];)o--;for(;1<=s&&0<=o;s--,o--)if(i[s]!==a[o]){if(s!==1||o!==1)do if(s--,o--,0>o||i[s]!==a[o]){var l=`
`+i[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=s&&0<=o);break}}}finally{Am=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Tc(e):""}function RI(e){switch(e.tag){case 5:return Tc(e.type);case 16:return Tc("Lazy");case 13:return Tc("Suspense");case 19:return Tc("SuspenseList");case 0:case 2:case 15:return e=Dm(e.type,!1),e;case 11:return e=Dm(e.type.render,!1),e;case 1:return e=Dm(e.type,!0),e;default:return""}}function my(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Il:return"Fragment";case Dl:return"Portal";case dy:return"Profiler";case M4:return"StrictMode";case py:return"Suspense";case gy:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case PS:return(e.displayName||"Context")+".Consumer";case ES:return(e._context.displayName||"Context")+".Provider";case A4:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case D4:return t=e.displayName||null,t!==null?t:my(e.type)||"Memo";case hs:t=e._payload,e=e._init;try{return my(e(t))}catch{}}return null}function NI(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return my(t);case 8:return t===M4?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Rs(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function AS(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function zI(e){var t=AS(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,a.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function q0(e){e._valueTracker||(e._valueTracker=zI(e))}function DS(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=AS(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function _d(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function vy(e,t){var n=t.checked;return An({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function ow(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Rs(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function IS(e,t){t=t.checked,t!=null&&P4(e,"checked",t,!1)}function yy(e,t){IS(e,t);var n=Rs(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?xy(e,t.type,n):t.hasOwnProperty("defaultValue")&&xy(e,t.type,Rs(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function lw(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function xy(e,t,n){(t!=="number"||_d(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Ec=Array.isArray;function Xl(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Rs(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function by(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Le(91));return An({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function uw(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(Le(92));if(Ec(n)){if(1<n.length)throw Error(Le(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Rs(n)}}function LS(e,t){var n=Rs(t.value),r=Rs(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function cw(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function OS(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function wy(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?OS(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var H0,RS=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(H0=H0||document.createElement("div"),H0.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=H0.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function sf(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Nc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},BI=["Webkit","ms","Moz","O"];Object.keys(Nc).forEach(function(e){BI.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Nc[t]=Nc[e]})});function NS(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Nc.hasOwnProperty(e)&&Nc[e]?(""+t).trim():t+"px"}function zS(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=NS(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var FI=An({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ky(e,t){if(t){if(FI[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Le(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Le(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Le(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Le(62))}}function Sy(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _y=null;function I4(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Cy=null,Kl=null,Ql=null;function fw(e){if(e=Kf(e)){if(typeof Cy!="function")throw Error(Le(280));var t=e.stateNode;t&&(t=Fp(t),Cy(e.stateNode,e.type,t))}}function BS(e){Kl?Ql?Ql.push(e):Ql=[e]:Kl=e}function FS(){if(Kl){var e=Kl,t=Ql;if(Ql=Kl=null,fw(e),t)for(e=0;e<t.length;e++)fw(t[e])}}function $S(e,t){return e(t)}function jS(){}var Im=!1;function qS(e,t,n){if(Im)return e(t,n);Im=!0;try{return $S(e,t,n)}finally{Im=!1,(Kl!==null||Ql!==null)&&(jS(),FS())}}function of(e,t){var n=e.stateNode;if(n===null)return null;var r=Fp(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Le(231,t,typeof n));return n}var Ty=!1;if(qa)try{var nc={};Object.defineProperty(nc,"passive",{get:function(){Ty=!0}}),window.addEventListener("test",nc,nc),window.removeEventListener("test",nc,nc)}catch{Ty=!1}function $I(e,t,n,r,i,a,s,o,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var zc=!1,Cd=null,Td=!1,Ey=null,jI={onError:function(e){zc=!0,Cd=e}};function qI(e,t,n,r,i,a,s,o,l){zc=!1,Cd=null,$I.apply(jI,arguments)}function HI(e,t,n,r,i,a,s,o,l){if(qI.apply(this,arguments),zc){if(zc){var u=Cd;zc=!1,Cd=null}else throw Error(Le(198));Td||(Td=!0,Ey=u)}}function nl(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function HS(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function hw(e){if(nl(e)!==e)throw Error(Le(188))}function VI(e){var t=e.alternate;if(!t){if(t=nl(e),t===null)throw Error(Le(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return hw(i),e;if(a===r)return hw(i),t;a=a.sibling}throw Error(Le(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,o=i.child;o;){if(o===n){s=!0,n=i,r=a;break}if(o===r){s=!0,r=i,n=a;break}o=o.sibling}if(!s){for(o=a.child;o;){if(o===n){s=!0,n=a,r=i;break}if(o===r){s=!0,r=a,n=i;break}o=o.sibling}if(!s)throw Error(Le(189))}}if(n.alternate!==r)throw Error(Le(190))}if(n.tag!==3)throw Error(Le(188));return n.stateNode.current===n?e:t}function VS(e){return e=VI(e),e!==null?US(e):null}function US(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=US(e);if(t!==null)return t;e=e.sibling}return null}var WS=ci.unstable_scheduleCallback,dw=ci.unstable_cancelCallback,UI=ci.unstable_shouldYield,WI=ci.unstable_requestPaint,jn=ci.unstable_now,GI=ci.unstable_getCurrentPriorityLevel,L4=ci.unstable_ImmediatePriority,GS=ci.unstable_UserBlockingPriority,Ed=ci.unstable_NormalPriority,YI=ci.unstable_LowPriority,YS=ci.unstable_IdlePriority,Rp=null,fa=null;function XI(e){if(fa&&typeof fa.onCommitFiberRoot=="function")try{fa.onCommitFiberRoot(Rp,e,void 0,(e.current.flags&128)===128)}catch{}}var Fi=Math.clz32?Math.clz32:ZI,KI=Math.log,QI=Math.LN2;function ZI(e){return e>>>=0,e===0?32:31-(KI(e)/QI|0)|0}var V0=64,U0=4194304;function Pc(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Pd(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,s=n&268435455;if(s!==0){var o=s&~i;o!==0?r=Pc(o):(a&=s,a!==0&&(r=Pc(a)))}else s=n&~i,s!==0?r=Pc(s):a!==0&&(r=Pc(a));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Fi(t),i=1<<n,r|=e[n],t&=~i;return r}function JI(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function eL(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var s=31-Fi(a),o=1<<s,l=i[s];l===-1?(!(o&n)||o&r)&&(i[s]=JI(o,t)):l<=t&&(e.expiredLanes|=o),a&=~o}}function Py(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function XS(){var e=V0;return V0<<=1,!(V0&4194240)&&(V0=64),e}function Lm(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Yf(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Fi(t),e[t]=n}function tL(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Fi(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}function O4(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Fi(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Gt=0;function KS(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var QS,R4,ZS,JS,e_,My=!1,W0=[],ks=null,Ss=null,_s=null,lf=new Map,uf=new Map,ps=[],nL="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pw(e,t){switch(e){case"focusin":case"focusout":ks=null;break;case"dragenter":case"dragleave":Ss=null;break;case"mouseover":case"mouseout":_s=null;break;case"pointerover":case"pointerout":lf.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":uf.delete(t.pointerId)}}function rc(e,t,n,r,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},t!==null&&(t=Kf(t),t!==null&&R4(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function rL(e,t,n,r,i){switch(t){case"focusin":return ks=rc(ks,e,t,n,r,i),!0;case"dragenter":return Ss=rc(Ss,e,t,n,r,i),!0;case"mouseover":return _s=rc(_s,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return lf.set(a,rc(lf.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,uf.set(a,rc(uf.get(a)||null,e,t,n,r,i)),!0}return!1}function t_(e){var t=Eo(e.target);if(t!==null){var n=nl(t);if(n!==null){if(t=n.tag,t===13){if(t=HS(n),t!==null){e.blockedOn=t,e_(e.priority,function(){ZS(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Vh(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Ay(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);_y=r,n.target.dispatchEvent(r),_y=null}else return t=Kf(n),t!==null&&R4(t),e.blockedOn=n,!1;t.shift()}return!0}function gw(e,t,n){Vh(e)&&n.delete(t)}function iL(){My=!1,ks!==null&&Vh(ks)&&(ks=null),Ss!==null&&Vh(Ss)&&(Ss=null),_s!==null&&Vh(_s)&&(_s=null),lf.forEach(gw),uf.forEach(gw)}function ic(e,t){e.blockedOn===t&&(e.blockedOn=null,My||(My=!0,ci.unstable_scheduleCallback(ci.unstable_NormalPriority,iL)))}function cf(e){function t(i){return ic(i,e)}if(0<W0.length){ic(W0[0],e);for(var n=1;n<W0.length;n++){var r=W0[n];r.blockedOn===e&&(r.blockedOn=null)}}for(ks!==null&&ic(ks,e),Ss!==null&&ic(Ss,e),_s!==null&&ic(_s,e),lf.forEach(t),uf.forEach(t),n=0;n<ps.length;n++)r=ps[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<ps.length&&(n=ps[0],n.blockedOn===null);)t_(n),n.blockedOn===null&&ps.shift()}var Zl=Qa.ReactCurrentBatchConfig,Md=!0;function aL(e,t,n,r){var i=Gt,a=Zl.transition;Zl.transition=null;try{Gt=1,N4(e,t,n,r)}finally{Gt=i,Zl.transition=a}}function sL(e,t,n,r){var i=Gt,a=Zl.transition;Zl.transition=null;try{Gt=4,N4(e,t,n,r)}finally{Gt=i,Zl.transition=a}}function N4(e,t,n,r){if(Md){var i=Ay(e,t,n,r);if(i===null)Hm(e,t,r,Ad,n),pw(e,r);else if(rL(i,e,t,n,r))r.stopPropagation();else if(pw(e,r),t&4&&-1<nL.indexOf(e)){for(;i!==null;){var a=Kf(i);if(a!==null&&QS(a),a=Ay(e,t,n,r),a===null&&Hm(e,t,r,Ad,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else Hm(e,t,r,null,n)}}var Ad=null;function Ay(e,t,n,r){if(Ad=null,e=I4(r),e=Eo(e),e!==null)if(t=nl(e),t===null)e=null;else if(n=t.tag,n===13){if(e=HS(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ad=e,null}function n_(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(GI()){case L4:return 1;case GS:return 4;case Ed:case YI:return 16;case YS:return 536870912;default:return 16}default:return 16}}var ms=null,z4=null,Uh=null;function r_(){if(Uh)return Uh;var e,t=z4,n=t.length,r,i="value"in ms?ms.value:ms.textContent,a=i.length;for(e=0;e<n&&t[e]===i[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===i[a-r];r++);return Uh=i.slice(e,1<r?1-r:void 0)}function Wh(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function G0(){return!0}function mw(){return!1}function hi(e){function t(n,r,i,a,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?G0:mw,this.isPropagationStopped=mw,this}return An(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=G0)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=G0)},persist:function(){},isPersistent:G0}),t}var Ru={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},B4=hi(Ru),Xf=An({},Ru,{view:0,detail:0}),oL=hi(Xf),Om,Rm,ac,Np=An({},Xf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:F4,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ac&&(ac&&e.type==="mousemove"?(Om=e.screenX-ac.screenX,Rm=e.screenY-ac.screenY):Rm=Om=0,ac=e),Om)},movementY:function(e){return"movementY"in e?e.movementY:Rm}}),vw=hi(Np),lL=An({},Np,{dataTransfer:0}),uL=hi(lL),cL=An({},Xf,{relatedTarget:0}),Nm=hi(cL),fL=An({},Ru,{animationName:0,elapsedTime:0,pseudoElement:0}),hL=hi(fL),dL=An({},Ru,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),pL=hi(dL),gL=An({},Ru,{data:0}),yw=hi(gL),mL={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vL={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yL={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xL(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=yL[e])?!!t[e]:!1}function F4(){return xL}var bL=An({},Xf,{key:function(e){if(e.key){var t=mL[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Wh(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?vL[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:F4,charCode:function(e){return e.type==="keypress"?Wh(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Wh(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),wL=hi(bL),kL=An({},Np,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xw=hi(kL),SL=An({},Xf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:F4}),_L=hi(SL),CL=An({},Ru,{propertyName:0,elapsedTime:0,pseudoElement:0}),TL=hi(CL),EL=An({},Np,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),PL=hi(EL),ML=[9,13,27,32],$4=qa&&"CompositionEvent"in window,Bc=null;qa&&"documentMode"in document&&(Bc=document.documentMode);var AL=qa&&"TextEvent"in window&&!Bc,i_=qa&&(!$4||Bc&&8<Bc&&11>=Bc),bw=String.fromCharCode(32),ww=!1;function a_(e,t){switch(e){case"keyup":return ML.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function s_(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ll=!1;function DL(e,t){switch(e){case"compositionend":return s_(t);case"keypress":return t.which!==32?null:(ww=!0,bw);case"textInput":return e=t.data,e===bw&&ww?null:e;default:return null}}function IL(e,t){if(Ll)return e==="compositionend"||!$4&&a_(e,t)?(e=r_(),Uh=z4=ms=null,Ll=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return i_&&t.locale!=="ko"?null:t.data;default:return null}}var LL={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function kw(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!LL[e.type]:t==="textarea"}function o_(e,t,n,r){BS(r),t=Dd(t,"onChange"),0<t.length&&(n=new B4("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Fc=null,ff=null;function OL(e){y_(e,0)}function zp(e){var t=Nl(e);if(DS(t))return e}function RL(e,t){if(e==="change")return t}var l_=!1;if(qa){var zm;if(qa){var Bm="oninput"in document;if(!Bm){var Sw=document.createElement("div");Sw.setAttribute("oninput","return;"),Bm=typeof Sw.oninput=="function"}zm=Bm}else zm=!1;l_=zm&&(!document.documentMode||9<document.documentMode)}function _w(){Fc&&(Fc.detachEvent("onpropertychange",u_),ff=Fc=null)}function u_(e){if(e.propertyName==="value"&&zp(ff)){var t=[];o_(t,ff,e,I4(e)),qS(OL,t)}}function NL(e,t,n){e==="focusin"?(_w(),Fc=t,ff=n,Fc.attachEvent("onpropertychange",u_)):e==="focusout"&&_w()}function zL(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return zp(ff)}function BL(e,t){if(e==="click")return zp(t)}function FL(e,t){if(e==="input"||e==="change")return zp(t)}function $L(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Hi=typeof Object.is=="function"?Object.is:$L;function hf(e,t){if(Hi(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!hy.call(t,i)||!Hi(e[i],t[i]))return!1}return!0}function Cw(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Tw(e,t){var n=Cw(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Cw(n)}}function c_(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?c_(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function f_(){for(var e=window,t=_d();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=_d(e.document)}return t}function j4(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function jL(e){var t=f_(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&c_(n.ownerDocument.documentElement,n)){if(r!==null&&j4(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=r.end===void 0?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=Tw(n,a);var s=Tw(n,r);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var qL=qa&&"documentMode"in document&&11>=document.documentMode,Ol=null,Dy=null,$c=null,Iy=!1;function Ew(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Iy||Ol==null||Ol!==_d(r)||(r=Ol,"selectionStart"in r&&j4(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),$c&&hf($c,r)||($c=r,r=Dd(Dy,"onSelect"),0<r.length&&(t=new B4("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Ol)))}function Y0(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Rl={animationend:Y0("Animation","AnimationEnd"),animationiteration:Y0("Animation","AnimationIteration"),animationstart:Y0("Animation","AnimationStart"),transitionend:Y0("Transition","TransitionEnd")},Fm={},h_={};qa&&(h_=document.createElement("div").style,"AnimationEvent"in window||(delete Rl.animationend.animation,delete Rl.animationiteration.animation,delete Rl.animationstart.animation),"TransitionEvent"in window||delete Rl.transitionend.transition);function Bp(e){if(Fm[e])return Fm[e];if(!Rl[e])return e;var t=Rl[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in h_)return Fm[e]=t[n];return e}var d_=Bp("animationend"),p_=Bp("animationiteration"),g_=Bp("animationstart"),m_=Bp("transitionend"),v_=new Map,Pw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ys(e,t){v_.set(e,t),tl(t,[e])}for(var $m=0;$m<Pw.length;$m++){var jm=Pw[$m],HL=jm.toLowerCase(),VL=jm[0].toUpperCase()+jm.slice(1);Ys(HL,"on"+VL)}Ys(d_,"onAnimationEnd");Ys(p_,"onAnimationIteration");Ys(g_,"onAnimationStart");Ys("dblclick","onDoubleClick");Ys("focusin","onFocus");Ys("focusout","onBlur");Ys(m_,"onTransitionEnd");hu("onMouseEnter",["mouseout","mouseover"]);hu("onMouseLeave",["mouseout","mouseover"]);hu("onPointerEnter",["pointerout","pointerover"]);hu("onPointerLeave",["pointerout","pointerover"]);tl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));tl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));tl("onBeforeInput",["compositionend","keypress","textInput","paste"]);tl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));tl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));tl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),UL=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mc));function Mw(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,HI(r,t,void 0,e),e.currentTarget=null}function y_(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var s=r.length-1;0<=s;s--){var o=r[s],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==a&&i.isPropagationStopped())break e;Mw(i,o,u),a=l}else for(s=0;s<r.length;s++){if(o=r[s],l=o.instance,u=o.currentTarget,o=o.listener,l!==a&&i.isPropagationStopped())break e;Mw(i,o,u),a=l}}}if(Td)throw e=Ey,Td=!1,Ey=null,e}function fn(e,t){var n=t[zy];n===void 0&&(n=t[zy]=new Set);var r=e+"__bubble";n.has(r)||(x_(t,e,2,!1),n.add(r))}function qm(e,t,n){var r=0;t&&(r|=4),x_(n,e,r,t)}var X0="_reactListening"+Math.random().toString(36).slice(2);function df(e){if(!e[X0]){e[X0]=!0,TS.forEach(function(n){n!=="selectionchange"&&(UL.has(n)||qm(n,!1,e),qm(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[X0]||(t[X0]=!0,qm("selectionchange",!1,t))}}function x_(e,t,n,r){switch(n_(t)){case 1:var i=aL;break;case 4:i=sL;break;default:i=N4}n=i.bind(null,t,n,e),i=void 0,!Ty||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Hm(e,t,n,r,i){var a=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var o=r.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;o!==null;){if(s=Eo(o),s===null)return;if(l=s.tag,l===5||l===6){r=a=s;continue e}o=o.parentNode}}r=r.return}qS(function(){var u=a,c=I4(n),f=[];e:{var h=v_.get(e);if(h!==void 0){var d=B4,p=e;switch(e){case"keypress":if(Wh(n)===0)break e;case"keydown":case"keyup":d=wL;break;case"focusin":p="focus",d=Nm;break;case"focusout":p="blur",d=Nm;break;case"beforeblur":case"afterblur":d=Nm;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":d=vw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":d=uL;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":d=_L;break;case d_:case p_:case g_:d=hL;break;case m_:d=TL;break;case"scroll":d=oL;break;case"wheel":d=PL;break;case"copy":case"cut":case"paste":d=pL;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":d=xw}var v=(t&4)!==0,x=!v&&e==="scroll",y=v?h!==null?h+"Capture":null:h;v=[];for(var w=u,k;w!==null;){k=w;var _=k.stateNode;if(k.tag===5&&_!==null&&(k=_,y!==null&&(_=of(w,y),_!=null&&v.push(pf(w,_,k)))),x)break;w=w.return}0<v.length&&(h=new d(h,p,null,n,c),f.push({event:h,listeners:v}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",d=e==="mouseout"||e==="pointerout",h&&n!==_y&&(p=n.relatedTarget||n.fromElement)&&(Eo(p)||p[Ha]))break e;if((d||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,d?(p=n.relatedTarget||n.toElement,d=u,p=p?Eo(p):null,p!==null&&(x=nl(p),p!==x||p.tag!==5&&p.tag!==6)&&(p=null)):(d=null,p=u),d!==p)){if(v=vw,_="onMouseLeave",y="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(v=xw,_="onPointerLeave",y="onPointerEnter",w="pointer"),x=d==null?h:Nl(d),k=p==null?h:Nl(p),h=new v(_,w+"leave",d,n,c),h.target=x,h.relatedTarget=k,_=null,Eo(c)===u&&(v=new v(y,w+"enter",p,n,c),v.target=k,v.relatedTarget=x,_=v),x=_,d&&p)t:{for(v=d,y=p,w=0,k=v;k;k=dl(k))w++;for(k=0,_=y;_;_=dl(_))k++;for(;0<w-k;)v=dl(v),w--;for(;0<k-w;)y=dl(y),k--;for(;w--;){if(v===y||y!==null&&v===y.alternate)break t;v=dl(v),y=dl(y)}v=null}else v=null;d!==null&&Aw(f,h,d,v,!1),p!==null&&x!==null&&Aw(f,x,p,v,!0)}}e:{if(h=u?Nl(u):window,d=h.nodeName&&h.nodeName.toLowerCase(),d==="select"||d==="input"&&h.type==="file")var C=RL;else if(kw(h))if(l_)C=FL;else{C=zL;var T=NL}else(d=h.nodeName)&&d.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(C=BL);if(C&&(C=C(e,u))){o_(f,C,n,c);break e}T&&T(e,h,u),e==="focusout"&&(T=h._wrapperState)&&T.controlled&&h.type==="number"&&xy(h,"number",h.value)}switch(T=u?Nl(u):window,e){case"focusin":(kw(T)||T.contentEditable==="true")&&(Ol=T,Dy=u,$c=null);break;case"focusout":$c=Dy=Ol=null;break;case"mousedown":Iy=!0;break;case"contextmenu":case"mouseup":case"dragend":Iy=!1,Ew(f,n,c);break;case"selectionchange":if(qL)break;case"keydown":case"keyup":Ew(f,n,c)}var E;if($4)e:{switch(e){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else Ll?a_(e,n)&&(A="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(A="onCompositionStart");A&&(i_&&n.locale!=="ko"&&(Ll||A!=="onCompositionStart"?A==="onCompositionEnd"&&Ll&&(E=r_()):(ms=c,z4="value"in ms?ms.value:ms.textContent,Ll=!0)),T=Dd(u,A),0<T.length&&(A=new yw(A,e,null,n,c),f.push({event:A,listeners:T}),E?A.data=E:(E=s_(n),E!==null&&(A.data=E)))),(E=AL?DL(e,n):IL(e,n))&&(u=Dd(u,"onBeforeInput"),0<u.length&&(c=new yw("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:u}),c.data=E))}y_(f,t)})}function pf(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Dd(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=of(e,n),a!=null&&r.unshift(pf(e,a,i)),a=of(e,t),a!=null&&r.push(pf(e,a,i))),e=e.return}return r}function dl(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Aw(e,t,n,r,i){for(var a=t._reactName,s=[];n!==null&&n!==r;){var o=n,l=o.alternate,u=o.stateNode;if(l!==null&&l===r)break;o.tag===5&&u!==null&&(o=u,i?(l=of(n,a),l!=null&&s.unshift(pf(n,l,o))):i||(l=of(n,a),l!=null&&s.push(pf(n,l,o)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var WL=/\r\n?/g,GL=/\u0000|\uFFFD/g;function Dw(e){return(typeof e=="string"?e:""+e).replace(WL,`
`).replace(GL,"")}function K0(e,t,n){if(t=Dw(t),Dw(e)!==t&&n)throw Error(Le(425))}function Id(){}var Ly=null,Oy=null;function Ry(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ny=typeof setTimeout=="function"?setTimeout:void 0,YL=typeof clearTimeout=="function"?clearTimeout:void 0,Iw=typeof Promise=="function"?Promise:void 0,XL=typeof queueMicrotask=="function"?queueMicrotask:typeof Iw<"u"?function(e){return Iw.resolve(null).then(e).catch(KL)}:Ny;function KL(e){setTimeout(function(){throw e})}function Vm(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),cf(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);cf(t)}function Cs(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Lw(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Nu=Math.random().toString(36).slice(2),oa="__reactFiber$"+Nu,gf="__reactProps$"+Nu,Ha="__reactContainer$"+Nu,zy="__reactEvents$"+Nu,QL="__reactListeners$"+Nu,ZL="__reactHandles$"+Nu;function Eo(e){var t=e[oa];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ha]||n[oa]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Lw(e);e!==null;){if(n=e[oa])return n;e=Lw(e)}return t}e=n,n=e.parentNode}return null}function Kf(e){return e=e[oa]||e[Ha],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Nl(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Le(33))}function Fp(e){return e[gf]||null}var By=[],zl=-1;function Xs(e){return{current:e}}function dn(e){0>zl||(e.current=By[zl],By[zl]=null,zl--)}function sn(e,t){zl++,By[zl]=e.current,e.current=t}var Ns={},Cr=Xs(Ns),Gr=Xs(!1),$o=Ns;function du(e,t){var n=e.type.contextTypes;if(!n)return Ns;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in n)i[a]=t[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Yr(e){return e=e.childContextTypes,e!=null}function Ld(){dn(Gr),dn(Cr)}function Ow(e,t,n){if(Cr.current!==Ns)throw Error(Le(168));sn(Cr,t),sn(Gr,n)}function b_(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(Le(108,NI(e)||"Unknown",i));return An({},n,r)}function Od(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ns,$o=Cr.current,sn(Cr,e),sn(Gr,Gr.current),!0}function Rw(e,t,n){var r=e.stateNode;if(!r)throw Error(Le(169));n?(e=b_(e,t,$o),r.__reactInternalMemoizedMergedChildContext=e,dn(Gr),dn(Cr),sn(Cr,e)):dn(Gr),sn(Gr,n)}var Ma=null,$p=!1,Um=!1;function w_(e){Ma===null?Ma=[e]:Ma.push(e)}function JL(e){$p=!0,w_(e)}function Ks(){if(!Um&&Ma!==null){Um=!0;var e=0,t=Gt;try{var n=Ma;for(Gt=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Ma=null,$p=!1}catch(i){throw Ma!==null&&(Ma=Ma.slice(e+1)),WS(L4,Ks),i}finally{Gt=t,Um=!1}}return null}var Bl=[],Fl=0,Rd=null,Nd=0,bi=[],wi=0,jo=null,Ia=1,La="";function mo(e,t){Bl[Fl++]=Nd,Bl[Fl++]=Rd,Rd=e,Nd=t}function k_(e,t,n){bi[wi++]=Ia,bi[wi++]=La,bi[wi++]=jo,jo=e;var r=Ia;e=La;var i=32-Fi(r)-1;r&=~(1<<i),n+=1;var a=32-Fi(t)+i;if(30<a){var s=i-i%5;a=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Ia=1<<32-Fi(t)+i|n<<i|r,La=a+e}else Ia=1<<a|n<<i|r,La=e}function q4(e){e.return!==null&&(mo(e,1),k_(e,1,0))}function H4(e){for(;e===Rd;)Rd=Bl[--Fl],Bl[Fl]=null,Nd=Bl[--Fl],Bl[Fl]=null;for(;e===jo;)jo=bi[--wi],bi[wi]=null,La=bi[--wi],bi[wi]=null,Ia=bi[--wi],bi[wi]=null}var oi=null,ii=null,yn=!1,Bi=null;function S_(e,t){var n=_i(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Nw(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,oi=e,ii=Cs(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,oi=e,ii=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=jo!==null?{id:Ia,overflow:La}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=_i(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,oi=e,ii=null,!0):!1;default:return!1}}function Fy(e){return(e.mode&1)!==0&&(e.flags&128)===0}function $y(e){if(yn){var t=ii;if(t){var n=t;if(!Nw(e,t)){if(Fy(e))throw Error(Le(418));t=Cs(n.nextSibling);var r=oi;t&&Nw(e,t)?S_(r,n):(e.flags=e.flags&-4097|2,yn=!1,oi=e)}}else{if(Fy(e))throw Error(Le(418));e.flags=e.flags&-4097|2,yn=!1,oi=e}}}function zw(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;oi=e}function Q0(e){if(e!==oi)return!1;if(!yn)return zw(e),yn=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ry(e.type,e.memoizedProps)),t&&(t=ii)){if(Fy(e))throw __(),Error(Le(418));for(;t;)S_(e,t),t=Cs(t.nextSibling)}if(zw(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Le(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){ii=Cs(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}ii=null}}else ii=oi?Cs(e.stateNode.nextSibling):null;return!0}function __(){for(var e=ii;e;)e=Cs(e.nextSibling)}function pu(){ii=oi=null,yn=!1}function V4(e){Bi===null?Bi=[e]:Bi.push(e)}var eO=Qa.ReactCurrentBatchConfig;function sc(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Le(309));var r=n.stateNode}if(!r)throw Error(Le(147,e));var i=r,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(s){var o=i.refs;s===null?delete o[a]:o[a]=s},t._stringRef=a,t)}if(typeof e!="string")throw Error(Le(284));if(!n._owner)throw Error(Le(290,e))}return e}function Z0(e,t){throw e=Object.prototype.toString.call(t),Error(Le(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Bw(e){var t=e._init;return t(e._payload)}function C_(e){function t(y,w){if(e){var k=y.deletions;k===null?(y.deletions=[w],y.flags|=16):k.push(w)}}function n(y,w){if(!e)return null;for(;w!==null;)t(y,w),w=w.sibling;return null}function r(y,w){for(y=new Map;w!==null;)w.key!==null?y.set(w.key,w):y.set(w.index,w),w=w.sibling;return y}function i(y,w){return y=Ms(y,w),y.index=0,y.sibling=null,y}function a(y,w,k){return y.index=k,e?(k=y.alternate,k!==null?(k=k.index,k<w?(y.flags|=2,w):k):(y.flags|=2,w)):(y.flags|=1048576,w)}function s(y){return e&&y.alternate===null&&(y.flags|=2),y}function o(y,w,k,_){return w===null||w.tag!==6?(w=Zm(k,y.mode,_),w.return=y,w):(w=i(w,k),w.return=y,w)}function l(y,w,k,_){var C=k.type;return C===Il?c(y,w,k.props.children,_,k.key):w!==null&&(w.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===hs&&Bw(C)===w.type)?(_=i(w,k.props),_.ref=sc(y,w,k),_.return=y,_):(_=Jh(k.type,k.key,k.props,null,y.mode,_),_.ref=sc(y,w,k),_.return=y,_)}function u(y,w,k,_){return w===null||w.tag!==4||w.stateNode.containerInfo!==k.containerInfo||w.stateNode.implementation!==k.implementation?(w=Jm(k,y.mode,_),w.return=y,w):(w=i(w,k.children||[]),w.return=y,w)}function c(y,w,k,_,C){return w===null||w.tag!==7?(w=Ro(k,y.mode,_,C),w.return=y,w):(w=i(w,k),w.return=y,w)}function f(y,w,k){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Zm(""+w,y.mode,k),w.return=y,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case j0:return k=Jh(w.type,w.key,w.props,null,y.mode,k),k.ref=sc(y,null,w),k.return=y,k;case Dl:return w=Jm(w,y.mode,k),w.return=y,w;case hs:var _=w._init;return f(y,_(w._payload),k)}if(Ec(w)||tc(w))return w=Ro(w,y.mode,k,null),w.return=y,w;Z0(y,w)}return null}function h(y,w,k,_){var C=w!==null?w.key:null;if(typeof k=="string"&&k!==""||typeof k=="number")return C!==null?null:o(y,w,""+k,_);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case j0:return k.key===C?l(y,w,k,_):null;case Dl:return k.key===C?u(y,w,k,_):null;case hs:return C=k._init,h(y,w,C(k._payload),_)}if(Ec(k)||tc(k))return C!==null?null:c(y,w,k,_,null);Z0(y,k)}return null}function d(y,w,k,_,C){if(typeof _=="string"&&_!==""||typeof _=="number")return y=y.get(k)||null,o(w,y,""+_,C);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case j0:return y=y.get(_.key===null?k:_.key)||null,l(w,y,_,C);case Dl:return y=y.get(_.key===null?k:_.key)||null,u(w,y,_,C);case hs:var T=_._init;return d(y,w,k,T(_._payload),C)}if(Ec(_)||tc(_))return y=y.get(k)||null,c(w,y,_,C,null);Z0(w,_)}return null}function p(y,w,k,_){for(var C=null,T=null,E=w,A=w=0,R=null;E!==null&&A<k.length;A++){E.index>A?(R=E,E=null):R=E.sibling;var D=h(y,E,k[A],_);if(D===null){E===null&&(E=R);break}e&&E&&D.alternate===null&&t(y,E),w=a(D,w,A),T===null?C=D:T.sibling=D,T=D,E=R}if(A===k.length)return n(y,E),yn&&mo(y,A),C;if(E===null){for(;A<k.length;A++)E=f(y,k[A],_),E!==null&&(w=a(E,w,A),T===null?C=E:T.sibling=E,T=E);return yn&&mo(y,A),C}for(E=r(y,E);A<k.length;A++)R=d(E,y,A,k[A],_),R!==null&&(e&&R.alternate!==null&&E.delete(R.key===null?A:R.key),w=a(R,w,A),T===null?C=R:T.sibling=R,T=R);return e&&E.forEach(function(N){return t(y,N)}),yn&&mo(y,A),C}function v(y,w,k,_){var C=tc(k);if(typeof C!="function")throw Error(Le(150));if(k=C.call(k),k==null)throw Error(Le(151));for(var T=C=null,E=w,A=w=0,R=null,D=k.next();E!==null&&!D.done;A++,D=k.next()){E.index>A?(R=E,E=null):R=E.sibling;var N=h(y,E,D.value,_);if(N===null){E===null&&(E=R);break}e&&E&&N.alternate===null&&t(y,E),w=a(N,w,A),T===null?C=N:T.sibling=N,T=N,E=R}if(D.done)return n(y,E),yn&&mo(y,A),C;if(E===null){for(;!D.done;A++,D=k.next())D=f(y,D.value,_),D!==null&&(w=a(D,w,A),T===null?C=D:T.sibling=D,T=D);return yn&&mo(y,A),C}for(E=r(y,E);!D.done;A++,D=k.next())D=d(E,y,A,D.value,_),D!==null&&(e&&D.alternate!==null&&E.delete(D.key===null?A:D.key),w=a(D,w,A),T===null?C=D:T.sibling=D,T=D);return e&&E.forEach(function(z){return t(y,z)}),yn&&mo(y,A),C}function x(y,w,k,_){if(typeof k=="object"&&k!==null&&k.type===Il&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case j0:e:{for(var C=k.key,T=w;T!==null;){if(T.key===C){if(C=k.type,C===Il){if(T.tag===7){n(y,T.sibling),w=i(T,k.props.children),w.return=y,y=w;break e}}else if(T.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===hs&&Bw(C)===T.type){n(y,T.sibling),w=i(T,k.props),w.ref=sc(y,T,k),w.return=y,y=w;break e}n(y,T);break}else t(y,T);T=T.sibling}k.type===Il?(w=Ro(k.props.children,y.mode,_,k.key),w.return=y,y=w):(_=Jh(k.type,k.key,k.props,null,y.mode,_),_.ref=sc(y,w,k),_.return=y,y=_)}return s(y);case Dl:e:{for(T=k.key;w!==null;){if(w.key===T)if(w.tag===4&&w.stateNode.containerInfo===k.containerInfo&&w.stateNode.implementation===k.implementation){n(y,w.sibling),w=i(w,k.children||[]),w.return=y,y=w;break e}else{n(y,w);break}else t(y,w);w=w.sibling}w=Jm(k,y.mode,_),w.return=y,y=w}return s(y);case hs:return T=k._init,x(y,w,T(k._payload),_)}if(Ec(k))return p(y,w,k,_);if(tc(k))return v(y,w,k,_);Z0(y,k)}return typeof k=="string"&&k!==""||typeof k=="number"?(k=""+k,w!==null&&w.tag===6?(n(y,w.sibling),w=i(w,k),w.return=y,y=w):(n(y,w),w=Zm(k,y.mode,_),w.return=y,y=w),s(y)):n(y,w)}return x}var gu=C_(!0),T_=C_(!1),zd=Xs(null),Bd=null,$l=null,U4=null;function W4(){U4=$l=Bd=null}function G4(e){var t=zd.current;dn(zd),e._currentValue=t}function jy(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Jl(e,t){Bd=e,U4=$l=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ur=!0),e.firstContext=null)}function Ei(e){var t=e._currentValue;if(U4!==e)if(e={context:e,memoizedValue:t,next:null},$l===null){if(Bd===null)throw Error(Le(308));$l=e,Bd.dependencies={lanes:0,firstContext:e}}else $l=$l.next=e;return t}var Po=null;function Y4(e){Po===null?Po=[e]:Po.push(e)}function E_(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,Y4(t)):(n.next=i.next,i.next=n),t.interleaved=n,Va(e,r)}function Va(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var ds=!1;function X4(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function P_(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function $a(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ts(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Dt&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Va(e,n)}return i=r.interleaved,i===null?(t.next=t,Y4(r)):(t.next=i.next,i.next=t),r.interleaved=t,Va(e,n)}function Gh(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,O4(e,n)}}function Fw(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?i=a=s:a=a.next=s,n=n.next}while(n!==null);a===null?i=a=t:a=a.next=t}else i=a=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Fd(e,t,n,r){var i=e.updateQueue;ds=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,u=l.next;l.next=null,s===null?a=u:s.next=u,s=l;var c=e.alternate;c!==null&&(c=c.updateQueue,o=c.lastBaseUpdate,o!==s&&(o===null?c.firstBaseUpdate=u:o.next=u,c.lastBaseUpdate=l))}if(a!==null){var f=i.baseState;s=0,c=u=l=null,o=a;do{var h=o.lane,d=o.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:d,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,v=o;switch(h=t,d=n,v.tag){case 1:if(p=v.payload,typeof p=="function"){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=v.payload,h=typeof p=="function"?p.call(d,f,h):p,h==null)break e;f=An({},f,h);break e;case 2:ds=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[o]:h.push(o))}else d={eventTime:d,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},c===null?(u=c=d,l=f):c=c.next=d,s|=h;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;h=o,o=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(1);if(c===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);Ho|=s,e.lanes=s,e.memoizedState=f}}function $w(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Le(191,i));i.call(r)}}}var Qf={},ha=Xs(Qf),mf=Xs(Qf),vf=Xs(Qf);function Mo(e){if(e===Qf)throw Error(Le(174));return e}function K4(e,t){switch(sn(vf,t),sn(mf,e),sn(ha,Qf),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:wy(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=wy(t,e)}dn(ha),sn(ha,t)}function mu(){dn(ha),dn(mf),dn(vf)}function M_(e){Mo(vf.current);var t=Mo(ha.current),n=wy(t,e.type);t!==n&&(sn(mf,e),sn(ha,n))}function Q4(e){mf.current===e&&(dn(ha),dn(mf))}var Cn=Xs(0);function $d(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Wm=[];function Z4(){for(var e=0;e<Wm.length;e++)Wm[e]._workInProgressVersionPrimary=null;Wm.length=0}var Yh=Qa.ReactCurrentDispatcher,Gm=Qa.ReactCurrentBatchConfig,qo=0,En=null,er=null,or=null,jd=!1,jc=!1,yf=0,tO=0;function wr(){throw Error(Le(321))}function J4(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Hi(e[n],t[n]))return!1;return!0}function ex(e,t,n,r,i,a){if(qo=a,En=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Yh.current=e===null||e.memoizedState===null?aO:sO,e=n(r,i),jc){a=0;do{if(jc=!1,yf=0,25<=a)throw Error(Le(301));a+=1,or=er=null,t.updateQueue=null,Yh.current=oO,e=n(r,i)}while(jc)}if(Yh.current=qd,t=er!==null&&er.next!==null,qo=0,or=er=En=null,jd=!1,t)throw Error(Le(300));return e}function tx(){var e=yf!==0;return yf=0,e}function ea(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return or===null?En.memoizedState=or=e:or=or.next=e,or}function Pi(){if(er===null){var e=En.alternate;e=e!==null?e.memoizedState:null}else e=er.next;var t=or===null?En.memoizedState:or.next;if(t!==null)or=t,er=e;else{if(e===null)throw Error(Le(310));er=e,e={memoizedState:er.memoizedState,baseState:er.baseState,baseQueue:er.baseQueue,queue:er.queue,next:null},or===null?En.memoizedState=or=e:or=or.next=e}return or}function xf(e,t){return typeof t=="function"?t(e):t}function Ym(e){var t=Pi(),n=t.queue;if(n===null)throw Error(Le(311));n.lastRenderedReducer=e;var r=er,i=r.baseQueue,a=n.pending;if(a!==null){if(i!==null){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(i!==null){a=i.next,r=r.baseState;var o=s=null,l=null,u=a;do{var c=u.lane;if((qo&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(o=l=f,s=r):l=l.next=f,En.lanes|=c,Ho|=c}u=u.next}while(u!==null&&u!==a);l===null?s=r:l.next=o,Hi(r,t.memoizedState)||(Ur=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do a=i.lane,En.lanes|=a,Ho|=a,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Xm(e){var t=Pi(),n=t.queue;if(n===null)throw Error(Le(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do a=e(a,s.action),s=s.next;while(s!==i);Hi(a,t.memoizedState)||(Ur=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function A_(){}function D_(e,t){var n=En,r=Pi(),i=t(),a=!Hi(r.memoizedState,i);if(a&&(r.memoizedState=i,Ur=!0),r=r.queue,nx(O_.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||or!==null&&or.memoizedState.tag&1){if(n.flags|=2048,bf(9,L_.bind(null,n,r,i,t),void 0,null),cr===null)throw Error(Le(349));qo&30||I_(n,t,i)}return i}function I_(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=En.updateQueue,t===null?(t={lastEffect:null,stores:null},En.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function L_(e,t,n,r){t.value=n,t.getSnapshot=r,R_(t)&&N_(e)}function O_(e,t,n){return n(function(){R_(t)&&N_(e)})}function R_(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Hi(e,n)}catch{return!0}}function N_(e){var t=Va(e,1);t!==null&&$i(t,e,1,-1)}function jw(e){var t=ea();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xf,lastRenderedState:e},t.queue=e,e=e.dispatch=iO.bind(null,En,e),[t.memoizedState,e]}function bf(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=En.updateQueue,t===null?(t={lastEffect:null,stores:null},En.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function z_(){return Pi().memoizedState}function Xh(e,t,n,r){var i=ea();En.flags|=e,i.memoizedState=bf(1|t,n,void 0,r===void 0?null:r)}function jp(e,t,n,r){var i=Pi();r=r===void 0?null:r;var a=void 0;if(er!==null){var s=er.memoizedState;if(a=s.destroy,r!==null&&J4(r,s.deps)){i.memoizedState=bf(t,n,a,r);return}}En.flags|=e,i.memoizedState=bf(1|t,n,a,r)}function qw(e,t){return Xh(8390656,8,e,t)}function nx(e,t){return jp(2048,8,e,t)}function B_(e,t){return jp(4,2,e,t)}function F_(e,t){return jp(4,4,e,t)}function $_(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function j_(e,t,n){return n=n!=null?n.concat([e]):null,jp(4,4,$_.bind(null,t,e),n)}function rx(){}function q_(e,t){var n=Pi();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&J4(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function H_(e,t){var n=Pi();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&J4(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function V_(e,t,n){return qo&21?(Hi(n,t)||(n=XS(),En.lanes|=n,Ho|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ur=!0),e.memoizedState=n)}function nO(e,t){var n=Gt;Gt=n!==0&&4>n?n:4,e(!0);var r=Gm.transition;Gm.transition={};try{e(!1),t()}finally{Gt=n,Gm.transition=r}}function U_(){return Pi().memoizedState}function rO(e,t,n){var r=Ps(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},W_(e))G_(t,n);else if(n=E_(e,t,n,r),n!==null){var i=Or();$i(n,e,r,i),Y_(n,t,r)}}function iO(e,t,n){var r=Ps(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(W_(e))G_(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var s=t.lastRenderedState,o=a(s,n);if(i.hasEagerState=!0,i.eagerState=o,Hi(o,s)){var l=t.interleaved;l===null?(i.next=i,Y4(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=E_(e,t,i,r),n!==null&&(i=Or(),$i(n,e,r,i),Y_(n,t,r))}}function W_(e){var t=e.alternate;return e===En||t!==null&&t===En}function G_(e,t){jc=jd=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Y_(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,O4(e,n)}}var qd={readContext:Ei,useCallback:wr,useContext:wr,useEffect:wr,useImperativeHandle:wr,useInsertionEffect:wr,useLayoutEffect:wr,useMemo:wr,useReducer:wr,useRef:wr,useState:wr,useDebugValue:wr,useDeferredValue:wr,useTransition:wr,useMutableSource:wr,useSyncExternalStore:wr,useId:wr,unstable_isNewReconciler:!1},aO={readContext:Ei,useCallback:function(e,t){return ea().memoizedState=[e,t===void 0?null:t],e},useContext:Ei,useEffect:qw,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Xh(4194308,4,$_.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Xh(4194308,4,e,t)},useInsertionEffect:function(e,t){return Xh(4,2,e,t)},useMemo:function(e,t){var n=ea();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ea();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=rO.bind(null,En,e),[r.memoizedState,e]},useRef:function(e){var t=ea();return e={current:e},t.memoizedState=e},useState:jw,useDebugValue:rx,useDeferredValue:function(e){return ea().memoizedState=e},useTransition:function(){var e=jw(!1),t=e[0];return e=nO.bind(null,e[1]),ea().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=En,i=ea();if(yn){if(n===void 0)throw Error(Le(407));n=n()}else{if(n=t(),cr===null)throw Error(Le(349));qo&30||I_(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,qw(O_.bind(null,r,a,e),[e]),r.flags|=2048,bf(9,L_.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=ea(),t=cr.identifierPrefix;if(yn){var n=La,r=Ia;n=(r&~(1<<32-Fi(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=yf++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=tO++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},sO={readContext:Ei,useCallback:q_,useContext:Ei,useEffect:nx,useImperativeHandle:j_,useInsertionEffect:B_,useLayoutEffect:F_,useMemo:H_,useReducer:Ym,useRef:z_,useState:function(){return Ym(xf)},useDebugValue:rx,useDeferredValue:function(e){var t=Pi();return V_(t,er.memoizedState,e)},useTransition:function(){var e=Ym(xf)[0],t=Pi().memoizedState;return[e,t]},useMutableSource:A_,useSyncExternalStore:D_,useId:U_,unstable_isNewReconciler:!1},oO={readContext:Ei,useCallback:q_,useContext:Ei,useEffect:nx,useImperativeHandle:j_,useInsertionEffect:B_,useLayoutEffect:F_,useMemo:H_,useReducer:Xm,useRef:z_,useState:function(){return Xm(xf)},useDebugValue:rx,useDeferredValue:function(e){var t=Pi();return er===null?t.memoizedState=e:V_(t,er.memoizedState,e)},useTransition:function(){var e=Xm(xf)[0],t=Pi().memoizedState;return[e,t]},useMutableSource:A_,useSyncExternalStore:D_,useId:U_,unstable_isNewReconciler:!1};function Ri(e,t){if(e&&e.defaultProps){t=An({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function qy(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:An({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var qp={isMounted:function(e){return(e=e._reactInternals)?nl(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Or(),i=Ps(e),a=$a(r,i);a.payload=t,n!=null&&(a.callback=n),t=Ts(e,a,i),t!==null&&($i(t,e,i,r),Gh(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Or(),i=Ps(e),a=$a(r,i);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=Ts(e,a,i),t!==null&&($i(t,e,i,r),Gh(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Or(),r=Ps(e),i=$a(n,r);i.tag=2,t!=null&&(i.callback=t),t=Ts(e,i,r),t!==null&&($i(t,e,r,n),Gh(t,e,r))}};function Hw(e,t,n,r,i,a,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,s):t.prototype&&t.prototype.isPureReactComponent?!hf(n,r)||!hf(i,a):!0}function X_(e,t,n){var r=!1,i=Ns,a=t.contextType;return typeof a=="object"&&a!==null?a=Ei(a):(i=Yr(t)?$o:Cr.current,r=t.contextTypes,a=(r=r!=null)?du(e,i):Ns),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=qp,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Vw(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&qp.enqueueReplaceState(t,t.state,null)}function Hy(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},X4(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=Ei(a):(a=Yr(t)?$o:Cr.current,i.context=du(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(qy(e,t,a,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&qp.enqueueReplaceState(i,i.state,null),Fd(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function vu(e,t){try{var n="",r=t;do n+=RI(r),r=r.return;while(r);var i=n}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function Km(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Vy(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var lO=typeof WeakMap=="function"?WeakMap:Map;function K_(e,t,n){n=$a(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Vd||(Vd=!0,e2=r),Vy(e,t)},n}function Q_(e,t,n){n=$a(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Vy(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){Vy(e,t),typeof r!="function"&&(Es===null?Es=new Set([this]):Es.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function Uw(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new lO;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=kO.bind(null,e,t,n),t.then(e,e))}function Ww(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Gw(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=$a(-1,1),t.tag=2,Ts(n,t,1))),n.lanes|=1),e)}var uO=Qa.ReactCurrentOwner,Ur=!1;function Ir(e,t,n,r){t.child=e===null?T_(t,null,n,r):gu(t,e.child,n,r)}function Yw(e,t,n,r,i){n=n.render;var a=t.ref;return Jl(t,i),r=ex(e,t,n,r,a,i),n=tx(),e!==null&&!Ur?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ua(e,t,i)):(yn&&n&&q4(t),t.flags|=1,Ir(e,t,r,i),t.child)}function Xw(e,t,n,r,i){if(e===null){var a=n.type;return typeof a=="function"&&!fx(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,Z_(e,t,a,r,i)):(e=Jh(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var s=a.memoizedProps;if(n=n.compare,n=n!==null?n:hf,n(s,r)&&e.ref===t.ref)return Ua(e,t,i)}return t.flags|=1,e=Ms(a,r),e.ref=t.ref,e.return=t,t.child=e}function Z_(e,t,n,r,i){if(e!==null){var a=e.memoizedProps;if(hf(a,r)&&e.ref===t.ref)if(Ur=!1,t.pendingProps=r=a,(e.lanes&i)!==0)e.flags&131072&&(Ur=!0);else return t.lanes=e.lanes,Ua(e,t,i)}return Uy(e,t,n,r,i)}function J_(e,t,n){var r=t.pendingProps,i=r.children,a=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},sn(ql,ni),ni|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,sn(ql,ni),ni|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,sn(ql,ni),ni|=r}else a!==null?(r=a.baseLanes|n,t.memoizedState=null):r=n,sn(ql,ni),ni|=r;return Ir(e,t,i,n),t.child}function eC(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Uy(e,t,n,r,i){var a=Yr(n)?$o:Cr.current;return a=du(t,a),Jl(t,i),n=ex(e,t,n,r,a,i),r=tx(),e!==null&&!Ur?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ua(e,t,i)):(yn&&r&&q4(t),t.flags|=1,Ir(e,t,n,i),t.child)}function Kw(e,t,n,r,i){if(Yr(n)){var a=!0;Od(t)}else a=!1;if(Jl(t,i),t.stateNode===null)Kh(e,t),X_(t,n,r),Hy(t,n,r,i),r=!0;else if(e===null){var s=t.stateNode,o=t.memoizedProps;s.props=o;var l=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=Ei(u):(u=Yr(n)?$o:Cr.current,u=du(t,u));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==r||l!==u)&&Vw(t,s,r,u),ds=!1;var h=t.memoizedState;s.state=h,Fd(t,r,s,i),l=t.memoizedState,o!==r||h!==l||Gr.current||ds?(typeof c=="function"&&(qy(t,n,c,r),l=t.memoizedState),(o=ds||Hw(t,n,o,r,h,l,u))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=u,r=o):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,P_(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:Ri(t.type,o),s.props=u,f=t.pendingProps,h=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=Ei(l):(l=Yr(n)?$o:Cr.current,l=du(t,l));var d=n.getDerivedStateFromProps;(c=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==f||h!==l)&&Vw(t,s,r,l),ds=!1,h=t.memoizedState,s.state=h,Fd(t,r,s,i);var p=t.memoizedState;o!==f||h!==p||Gr.current||ds?(typeof d=="function"&&(qy(t,n,d,r),p=t.memoizedState),(u=ds||Hw(t,n,u,r,h,p,l)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,p,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,p,l)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),s.props=r,s.state=p,s.context=l,r=u):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Wy(e,t,n,r,a,i)}function Wy(e,t,n,r,i,a){eC(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return i&&Rw(t,n,!1),Ua(e,t,a);r=t.stateNode,uO.current=t;var o=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=gu(t,e.child,null,a),t.child=gu(t,null,o,a)):Ir(e,t,o,a),t.memoizedState=r.state,i&&Rw(t,n,!0),t.child}function tC(e){var t=e.stateNode;t.pendingContext?Ow(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Ow(e,t.context,!1),K4(e,t.containerInfo)}function Qw(e,t,n,r,i){return pu(),V4(i),t.flags|=256,Ir(e,t,n,r),t.child}var Gy={dehydrated:null,treeContext:null,retryLane:0};function Yy(e){return{baseLanes:e,cachePool:null,transitions:null}}function nC(e,t,n){var r=t.pendingProps,i=Cn.current,a=!1,s=(t.flags&128)!==0,o;if((o=s)||(o=e!==null&&e.memoizedState===null?!1:(i&2)!==0),o?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),sn(Cn,i&1),e===null)return $y(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,a?(r=t.mode,a=t.child,s={mode:"hidden",children:s},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=s):a=Up(s,r,0,null),e=Ro(e,r,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Yy(n),t.memoizedState=Gy,e):ix(t,s));if(i=e.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return cO(e,t,s,r,o,i,n);if(a){a=r.fallback,s=t.mode,i=e.child,o=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=Ms(i,l),r.subtreeFlags=i.subtreeFlags&14680064),o!==null?a=Ms(o,a):(a=Ro(a,s,n,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,s=e.child.memoizedState,s=s===null?Yy(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},a.memoizedState=s,a.childLanes=e.childLanes&~n,t.memoizedState=Gy,r}return a=e.child,e=a.sibling,r=Ms(a,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function ix(e,t){return t=Up({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function J0(e,t,n,r){return r!==null&&V4(r),gu(t,e.child,null,n),e=ix(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function cO(e,t,n,r,i,a,s){if(n)return t.flags&256?(t.flags&=-257,r=Km(Error(Le(422))),J0(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=Up({mode:"visible",children:r.children},i,0,null),a=Ro(a,i,s,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,t.mode&1&&gu(t,e.child,null,s),t.child.memoizedState=Yy(s),t.memoizedState=Gy,a);if(!(t.mode&1))return J0(e,t,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var o=r.dgst;return r=o,a=Error(Le(419)),r=Km(a,r,void 0),J0(e,t,s,r)}if(o=(s&e.childLanes)!==0,Ur||o){if(r=cr,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,Va(e,i),$i(r,e,i,-1))}return cx(),r=Km(Error(Le(421))),J0(e,t,s,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=SO.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,ii=Cs(i.nextSibling),oi=t,yn=!0,Bi=null,e!==null&&(bi[wi++]=Ia,bi[wi++]=La,bi[wi++]=jo,Ia=e.id,La=e.overflow,jo=t),t=ix(t,r.children),t.flags|=4096,t)}function Zw(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),jy(e.return,t,n)}function Qm(e,t,n,r,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function rC(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Ir(e,t,r.children,n),r=Cn.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Zw(e,n,t);else if(e.tag===19)Zw(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(sn(Cn,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&$d(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Qm(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&$d(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Qm(t,!0,n,null,a);break;case"together":Qm(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Kh(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ua(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Ho|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Le(153));if(t.child!==null){for(e=t.child,n=Ms(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Ms(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function fO(e,t,n){switch(t.tag){case 3:tC(t),pu();break;case 5:M_(t);break;case 1:Yr(t.type)&&Od(t);break;case 4:K4(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;sn(zd,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(sn(Cn,Cn.current&1),t.flags|=128,null):n&t.child.childLanes?nC(e,t,n):(sn(Cn,Cn.current&1),e=Ua(e,t,n),e!==null?e.sibling:null);sn(Cn,Cn.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return rC(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),sn(Cn,Cn.current),r)break;return null;case 22:case 23:return t.lanes=0,J_(e,t,n)}return Ua(e,t,n)}var iC,Xy,aC,sC;iC=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Xy=function(){};aC=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Mo(ha.current);var a=null;switch(n){case"input":i=vy(e,i),r=vy(e,r),a=[];break;case"select":i=An({},i,{value:void 0}),r=An({},r,{value:void 0}),a=[];break;case"textarea":i=by(e,i),r=by(e,r),a=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Id)}ky(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var o=i[u];for(s in o)o.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(af.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var l=r[u];if(o=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==o&&(l!=null||o!=null))if(u==="style")if(o){for(s in o)!o.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&o[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(a||(a=[]),a.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(a=a||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(af.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&fn("scroll",e),a||o===l||(a=[])):(a=a||[]).push(u,l))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};sC=function(e,t,n,r){n!==r&&(t.flags|=4)};function oc(e,t){if(!yn)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function kr(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function hO(e,t,n){var r=t.pendingProps;switch(H4(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return kr(t),null;case 1:return Yr(t.type)&&Ld(),kr(t),null;case 3:return r=t.stateNode,mu(),dn(Gr),dn(Cr),Z4(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Q0(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Bi!==null&&(r2(Bi),Bi=null))),Xy(e,t),kr(t),null;case 5:Q4(t);var i=Mo(vf.current);if(n=t.type,e!==null&&t.stateNode!=null)aC(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(Le(166));return kr(t),null}if(e=Mo(ha.current),Q0(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[oa]=t,r[gf]=a,e=(t.mode&1)!==0,n){case"dialog":fn("cancel",r),fn("close",r);break;case"iframe":case"object":case"embed":fn("load",r);break;case"video":case"audio":for(i=0;i<Mc.length;i++)fn(Mc[i],r);break;case"source":fn("error",r);break;case"img":case"image":case"link":fn("error",r),fn("load",r);break;case"details":fn("toggle",r);break;case"input":ow(r,a),fn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},fn("invalid",r);break;case"textarea":uw(r,a),fn("invalid",r)}ky(n,a),i=null;for(var s in a)if(a.hasOwnProperty(s)){var o=a[s];s==="children"?typeof o=="string"?r.textContent!==o&&(a.suppressHydrationWarning!==!0&&K0(r.textContent,o,e),i=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&K0(r.textContent,o,e),i=["children",""+o]):af.hasOwnProperty(s)&&o!=null&&s==="onScroll"&&fn("scroll",r)}switch(n){case"input":q0(r),lw(r,a,!0);break;case"textarea":q0(r),cw(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=Id)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=OS(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[oa]=t,e[gf]=r,iC(e,t,!1,!1),t.stateNode=e;e:{switch(s=Sy(n,r),n){case"dialog":fn("cancel",e),fn("close",e),i=r;break;case"iframe":case"object":case"embed":fn("load",e),i=r;break;case"video":case"audio":for(i=0;i<Mc.length;i++)fn(Mc[i],e);i=r;break;case"source":fn("error",e),i=r;break;case"img":case"image":case"link":fn("error",e),fn("load",e),i=r;break;case"details":fn("toggle",e),i=r;break;case"input":ow(e,r),i=vy(e,r),fn("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=An({},r,{value:void 0}),fn("invalid",e);break;case"textarea":uw(e,r),i=by(e,r),fn("invalid",e);break;default:i=r}ky(n,i),o=i;for(a in o)if(o.hasOwnProperty(a)){var l=o[a];a==="style"?zS(e,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&RS(e,l)):a==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&sf(e,l):typeof l=="number"&&sf(e,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(af.hasOwnProperty(a)?l!=null&&a==="onScroll"&&fn("scroll",e):l!=null&&P4(e,a,l,s))}switch(n){case"input":q0(e),lw(e,r,!1);break;case"textarea":q0(e),cw(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Rs(r.value));break;case"select":e.multiple=!!r.multiple,a=r.value,a!=null?Xl(e,!!r.multiple,a,!1):r.defaultValue!=null&&Xl(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Id)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return kr(t),null;case 6:if(e&&t.stateNode!=null)sC(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(Le(166));if(n=Mo(vf.current),Mo(ha.current),Q0(t)){if(r=t.stateNode,n=t.memoizedProps,r[oa]=t,(a=r.nodeValue!==n)&&(e=oi,e!==null))switch(e.tag){case 3:K0(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&K0(r.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[oa]=t,t.stateNode=r}return kr(t),null;case 13:if(dn(Cn),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(yn&&ii!==null&&t.mode&1&&!(t.flags&128))__(),pu(),t.flags|=98560,a=!1;else if(a=Q0(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(Le(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(Le(317));a[oa]=t}else pu(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;kr(t),a=!1}else Bi!==null&&(r2(Bi),Bi=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Cn.current&1?nr===0&&(nr=3):cx())),t.updateQueue!==null&&(t.flags|=4),kr(t),null);case 4:return mu(),Xy(e,t),e===null&&df(t.stateNode.containerInfo),kr(t),null;case 10:return G4(t.type._context),kr(t),null;case 17:return Yr(t.type)&&Ld(),kr(t),null;case 19:if(dn(Cn),a=t.memoizedState,a===null)return kr(t),null;if(r=(t.flags&128)!==0,s=a.rendering,s===null)if(r)oc(a,!1);else{if(nr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=$d(e),s!==null){for(t.flags|=128,oc(a,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)a=n,e=r,a.flags&=14680066,s=a.alternate,s===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,e=s.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return sn(Cn,Cn.current&1|2),t.child}e=e.sibling}a.tail!==null&&jn()>yu&&(t.flags|=128,r=!0,oc(a,!1),t.lanes=4194304)}else{if(!r)if(e=$d(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),oc(a,!0),a.tail===null&&a.tailMode==="hidden"&&!s.alternate&&!yn)return kr(t),null}else 2*jn()-a.renderingStartTime>yu&&n!==1073741824&&(t.flags|=128,r=!0,oc(a,!1),t.lanes=4194304);a.isBackwards?(s.sibling=t.child,t.child=s):(n=a.last,n!==null?n.sibling=s:t.child=s,a.last=s)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=jn(),t.sibling=null,n=Cn.current,sn(Cn,r?n&1|2:n&1),t):(kr(t),null);case 22:case 23:return ux(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?ni&1073741824&&(kr(t),t.subtreeFlags&6&&(t.flags|=8192)):kr(t),null;case 24:return null;case 25:return null}throw Error(Le(156,t.tag))}function dO(e,t){switch(H4(t),t.tag){case 1:return Yr(t.type)&&Ld(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return mu(),dn(Gr),dn(Cr),Z4(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Q4(t),null;case 13:if(dn(Cn),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Le(340));pu()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return dn(Cn),null;case 4:return mu(),null;case 10:return G4(t.type._context),null;case 22:case 23:return ux(),null;case 24:return null;default:return null}}var eh=!1,_r=!1,pO=typeof WeakSet=="function"?WeakSet:Set,Ge=null;function jl(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){On(e,t,r)}else n.current=null}function Ky(e,t,n){try{n()}catch(r){On(e,t,r)}}var Jw=!1;function gO(e,t){if(Ly=Md,e=f_(),j4(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var s=0,o=-1,l=-1,u=0,c=0,f=e,h=null;t:for(;;){for(var d;f!==n||i!==0&&f.nodeType!==3||(o=s+i),f!==a||r!==0&&f.nodeType!==3||(l=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(d=f.firstChild)!==null;)h=f,f=d;for(;;){if(f===e)break t;if(h===n&&++u===i&&(o=s),h===a&&++c===r&&(l=s),(d=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=d}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Oy={focusedElem:e,selectionRange:n},Md=!1,Ge=t;Ge!==null;)if(t=Ge,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ge=e;else for(;Ge!==null;){t=Ge;try{var p=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var v=p.memoizedProps,x=p.memoizedState,y=t.stateNode,w=y.getSnapshotBeforeUpdate(t.elementType===t.type?v:Ri(t.type,v),x);y.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var k=t.stateNode.containerInfo;k.nodeType===1?k.textContent="":k.nodeType===9&&k.documentElement&&k.removeChild(k.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Le(163))}}catch(_){On(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,Ge=e;break}Ge=t.return}return p=Jw,Jw=!1,p}function qc(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&Ky(t,n,a)}i=i.next}while(i!==r)}}function Hp(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Qy(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function oC(e){var t=e.alternate;t!==null&&(e.alternate=null,oC(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[oa],delete t[gf],delete t[zy],delete t[QL],delete t[ZL])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function lC(e){return e.tag===5||e.tag===3||e.tag===4}function e3(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||lC(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Zy(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Id));else if(r!==4&&(e=e.child,e!==null))for(Zy(e,t,n),e=e.sibling;e!==null;)Zy(e,t,n),e=e.sibling}function Jy(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Jy(e,t,n),e=e.sibling;e!==null;)Jy(e,t,n),e=e.sibling}var pr=null,Ni=!1;function ss(e,t,n){for(n=n.child;n!==null;)uC(e,t,n),n=n.sibling}function uC(e,t,n){if(fa&&typeof fa.onCommitFiberUnmount=="function")try{fa.onCommitFiberUnmount(Rp,n)}catch{}switch(n.tag){case 5:_r||jl(n,t);case 6:var r=pr,i=Ni;pr=null,ss(e,t,n),pr=r,Ni=i,pr!==null&&(Ni?(e=pr,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):pr.removeChild(n.stateNode));break;case 18:pr!==null&&(Ni?(e=pr,n=n.stateNode,e.nodeType===8?Vm(e.parentNode,n):e.nodeType===1&&Vm(e,n),cf(e)):Vm(pr,n.stateNode));break;case 4:r=pr,i=Ni,pr=n.stateNode.containerInfo,Ni=!0,ss(e,t,n),pr=r,Ni=i;break;case 0:case 11:case 14:case 15:if(!_r&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var a=i,s=a.destroy;a=a.tag,s!==void 0&&(a&2||a&4)&&Ky(n,t,s),i=i.next}while(i!==r)}ss(e,t,n);break;case 1:if(!_r&&(jl(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){On(n,t,o)}ss(e,t,n);break;case 21:ss(e,t,n);break;case 22:n.mode&1?(_r=(r=_r)||n.memoizedState!==null,ss(e,t,n),_r=r):ss(e,t,n);break;default:ss(e,t,n)}}function t3(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new pO),t.forEach(function(r){var i=_O.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Oi(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,s=t,o=s;e:for(;o!==null;){switch(o.tag){case 5:pr=o.stateNode,Ni=!1;break e;case 3:pr=o.stateNode.containerInfo,Ni=!0;break e;case 4:pr=o.stateNode.containerInfo,Ni=!0;break e}o=o.return}if(pr===null)throw Error(Le(160));uC(a,s,i),pr=null,Ni=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){On(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)cC(t,e),t=t.sibling}function cC(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Oi(t,e),Xi(e),r&4){try{qc(3,e,e.return),Hp(3,e)}catch(v){On(e,e.return,v)}try{qc(5,e,e.return)}catch(v){On(e,e.return,v)}}break;case 1:Oi(t,e),Xi(e),r&512&&n!==null&&jl(n,n.return);break;case 5:if(Oi(t,e),Xi(e),r&512&&n!==null&&jl(n,n.return),e.flags&32){var i=e.stateNode;try{sf(i,"")}catch(v){On(e,e.return,v)}}if(r&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,s=n!==null?n.memoizedProps:a,o=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&IS(i,a),Sy(o,s);var u=Sy(o,a);for(s=0;s<l.length;s+=2){var c=l[s],f=l[s+1];c==="style"?zS(i,f):c==="dangerouslySetInnerHTML"?RS(i,f):c==="children"?sf(i,f):P4(i,c,f,u)}switch(o){case"input":yy(i,a);break;case"textarea":LS(i,a);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var d=a.value;d!=null?Xl(i,!!a.multiple,d,!1):h!==!!a.multiple&&(a.defaultValue!=null?Xl(i,!!a.multiple,a.defaultValue,!0):Xl(i,!!a.multiple,a.multiple?[]:"",!1))}i[gf]=a}catch(v){On(e,e.return,v)}}break;case 6:if(Oi(t,e),Xi(e),r&4){if(e.stateNode===null)throw Error(Le(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(v){On(e,e.return,v)}}break;case 3:if(Oi(t,e),Xi(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{cf(t.containerInfo)}catch(v){On(e,e.return,v)}break;case 4:Oi(t,e),Xi(e);break;case 13:Oi(t,e),Xi(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(ox=jn())),r&4&&t3(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(_r=(u=_r)||c,Oi(t,e),_r=u):Oi(t,e),Xi(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(Ge=e,c=e.child;c!==null;){for(f=Ge=c;Ge!==null;){switch(h=Ge,d=h.child,h.tag){case 0:case 11:case 14:case 15:qc(4,h,h.return);break;case 1:jl(h,h.return);var p=h.stateNode;if(typeof p.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(v){On(r,n,v)}}break;case 5:jl(h,h.return);break;case 22:if(h.memoizedState!==null){r3(f);continue}}d!==null?(d.return=h,Ge=d):r3(f)}c=c.sibling}e:for(c=null,f=e;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,u?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=NS("display",s))}catch(v){On(e,e.return,v)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(v){On(e,e.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Oi(t,e),Xi(e),r&4&&t3(e);break;case 21:break;default:Oi(t,e),Xi(e)}}function Xi(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(lC(n)){var r=n;break e}n=n.return}throw Error(Le(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(sf(i,""),r.flags&=-33);var a=e3(e);Jy(e,a,i);break;case 3:case 4:var s=r.stateNode.containerInfo,o=e3(e);Zy(e,o,s);break;default:throw Error(Le(161))}}catch(l){On(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function mO(e,t,n){Ge=e,fC(e)}function fC(e,t,n){for(var r=(e.mode&1)!==0;Ge!==null;){var i=Ge,a=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||eh;if(!s){var o=i.alternate,l=o!==null&&o.memoizedState!==null||_r;o=eh;var u=_r;if(eh=s,(_r=l)&&!u)for(Ge=i;Ge!==null;)s=Ge,l=s.child,s.tag===22&&s.memoizedState!==null?i3(i):l!==null?(l.return=s,Ge=l):i3(i);for(;a!==null;)Ge=a,fC(a),a=a.sibling;Ge=i,eh=o,_r=u}n3(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,Ge=a):n3(e)}}function n3(e){for(;Ge!==null;){var t=Ge;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:_r||Hp(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!_r)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Ri(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&$w(t,a,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}$w(t,s,n)}break;case 5:var o=t.stateNode;if(n===null&&t.flags&4){n=o;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&cf(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Le(163))}_r||t.flags&512&&Qy(t)}catch(h){On(t,t.return,h)}}if(t===e){Ge=null;break}if(n=t.sibling,n!==null){n.return=t.return,Ge=n;break}Ge=t.return}}function r3(e){for(;Ge!==null;){var t=Ge;if(t===e){Ge=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Ge=n;break}Ge=t.return}}function i3(e){for(;Ge!==null;){var t=Ge;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Hp(4,t)}catch(l){On(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){On(t,i,l)}}var a=t.return;try{Qy(t)}catch(l){On(t,a,l)}break;case 5:var s=t.return;try{Qy(t)}catch(l){On(t,s,l)}}}catch(l){On(t,t.return,l)}if(t===e){Ge=null;break}var o=t.sibling;if(o!==null){o.return=t.return,Ge=o;break}Ge=t.return}}var vO=Math.ceil,Hd=Qa.ReactCurrentDispatcher,ax=Qa.ReactCurrentOwner,Ti=Qa.ReactCurrentBatchConfig,Dt=0,cr=null,Xn=null,gr=0,ni=0,ql=Xs(0),nr=0,wf=null,Ho=0,Vp=0,sx=0,Hc=null,jr=null,ox=0,yu=1/0,Ea=null,Vd=!1,e2=null,Es=null,th=!1,vs=null,Ud=0,Vc=0,t2=null,Qh=-1,Zh=0;function Or(){return Dt&6?jn():Qh!==-1?Qh:Qh=jn()}function Ps(e){return e.mode&1?Dt&2&&gr!==0?gr&-gr:eO.transition!==null?(Zh===0&&(Zh=XS()),Zh):(e=Gt,e!==0||(e=window.event,e=e===void 0?16:n_(e.type)),e):1}function $i(e,t,n,r){if(50<Vc)throw Vc=0,t2=null,Error(Le(185));Yf(e,n,r),(!(Dt&2)||e!==cr)&&(e===cr&&(!(Dt&2)&&(Vp|=n),nr===4&&gs(e,gr)),Xr(e,r),n===1&&Dt===0&&!(t.mode&1)&&(yu=jn()+500,$p&&Ks()))}function Xr(e,t){var n=e.callbackNode;eL(e,t);var r=Pd(e,e===cr?gr:0);if(r===0)n!==null&&dw(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&dw(n),t===1)e.tag===0?JL(a3.bind(null,e)):w_(a3.bind(null,e)),XL(function(){!(Dt&6)&&Ks()}),n=null;else{switch(KS(r)){case 1:n=L4;break;case 4:n=GS;break;case 16:n=Ed;break;case 536870912:n=YS;break;default:n=Ed}n=xC(n,hC.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function hC(e,t){if(Qh=-1,Zh=0,Dt&6)throw Error(Le(327));var n=e.callbackNode;if(eu()&&e.callbackNode!==n)return null;var r=Pd(e,e===cr?gr:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Wd(e,r);else{t=r;var i=Dt;Dt|=2;var a=pC();(cr!==e||gr!==t)&&(Ea=null,yu=jn()+500,Oo(e,t));do try{bO();break}catch(o){dC(e,o)}while(1);W4(),Hd.current=a,Dt=i,Xn!==null?t=0:(cr=null,gr=0,t=nr)}if(t!==0){if(t===2&&(i=Py(e),i!==0&&(r=i,t=n2(e,i))),t===1)throw n=wf,Oo(e,0),gs(e,r),Xr(e,jn()),n;if(t===6)gs(e,r);else{if(i=e.current.alternate,!(r&30)&&!yO(i)&&(t=Wd(e,r),t===2&&(a=Py(e),a!==0&&(r=a,t=n2(e,a))),t===1))throw n=wf,Oo(e,0),gs(e,r),Xr(e,jn()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(Le(345));case 2:vo(e,jr,Ea);break;case 3:if(gs(e,r),(r&130023424)===r&&(t=ox+500-jn(),10<t)){if(Pd(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Or(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Ny(vo.bind(null,e,jr,Ea),t);break}vo(e,jr,Ea);break;case 4:if(gs(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-Fi(r);a=1<<s,s=t[s],s>i&&(i=s),r&=~a}if(r=i,r=jn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*vO(r/1960))-r,10<r){e.timeoutHandle=Ny(vo.bind(null,e,jr,Ea),r);break}vo(e,jr,Ea);break;case 5:vo(e,jr,Ea);break;default:throw Error(Le(329))}}}return Xr(e,jn()),e.callbackNode===n?hC.bind(null,e):null}function n2(e,t){var n=Hc;return e.current.memoizedState.isDehydrated&&(Oo(e,t).flags|=256),e=Wd(e,t),e!==2&&(t=jr,jr=n,t!==null&&r2(t)),e}function r2(e){jr===null?jr=e:jr.push.apply(jr,e)}function yO(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!Hi(a(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function gs(e,t){for(t&=~sx,t&=~Vp,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Fi(t),r=1<<n;e[n]=-1,t&=~r}}function a3(e){if(Dt&6)throw Error(Le(327));eu();var t=Pd(e,0);if(!(t&1))return Xr(e,jn()),null;var n=Wd(e,t);if(e.tag!==0&&n===2){var r=Py(e);r!==0&&(t=r,n=n2(e,r))}if(n===1)throw n=wf,Oo(e,0),gs(e,t),Xr(e,jn()),n;if(n===6)throw Error(Le(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,vo(e,jr,Ea),Xr(e,jn()),null}function lx(e,t){var n=Dt;Dt|=1;try{return e(t)}finally{Dt=n,Dt===0&&(yu=jn()+500,$p&&Ks())}}function Vo(e){vs!==null&&vs.tag===0&&!(Dt&6)&&eu();var t=Dt;Dt|=1;var n=Ti.transition,r=Gt;try{if(Ti.transition=null,Gt=1,e)return e()}finally{Gt=r,Ti.transition=n,Dt=t,!(Dt&6)&&Ks()}}function ux(){ni=ql.current,dn(ql)}function Oo(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,YL(n)),Xn!==null)for(n=Xn.return;n!==null;){var r=n;switch(H4(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ld();break;case 3:mu(),dn(Gr),dn(Cr),Z4();break;case 5:Q4(r);break;case 4:mu();break;case 13:dn(Cn);break;case 19:dn(Cn);break;case 10:G4(r.type._context);break;case 22:case 23:ux()}n=n.return}if(cr=e,Xn=e=Ms(e.current,null),gr=ni=t,nr=0,wf=null,sx=Vp=Ho=0,jr=Hc=null,Po!==null){for(t=0;t<Po.length;t++)if(n=Po[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,a=n.pending;if(a!==null){var s=a.next;a.next=i,r.next=s}n.pending=r}Po=null}return e}function dC(e,t){do{var n=Xn;try{if(W4(),Yh.current=qd,jd){for(var r=En.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}jd=!1}if(qo=0,or=er=En=null,jc=!1,yf=0,ax.current=null,n===null||n.return===null){nr=1,wf=t,Xn=null;break}e:{var a=e,s=n.return,o=n,l=t;if(t=gr,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=o,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var d=Ww(s);if(d!==null){d.flags&=-257,Gw(d,s,o,a,t),d.mode&1&&Uw(a,u,t),t=d,l=u;var p=t.updateQueue;if(p===null){var v=new Set;v.add(l),t.updateQueue=v}else p.add(l);break e}else{if(!(t&1)){Uw(a,u,t),cx();break e}l=Error(Le(426))}}else if(yn&&o.mode&1){var x=Ww(s);if(x!==null){!(x.flags&65536)&&(x.flags|=256),Gw(x,s,o,a,t),V4(vu(l,o));break e}}a=l=vu(l,o),nr!==4&&(nr=2),Hc===null?Hc=[a]:Hc.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var y=K_(a,l,t);Fw(a,y);break e;case 1:o=l;var w=a.type,k=a.stateNode;if(!(a.flags&128)&&(typeof w.getDerivedStateFromError=="function"||k!==null&&typeof k.componentDidCatch=="function"&&(Es===null||!Es.has(k)))){a.flags|=65536,t&=-t,a.lanes|=t;var _=Q_(a,o,t);Fw(a,_);break e}}a=a.return}while(a!==null)}mC(n)}catch(C){t=C,Xn===n&&n!==null&&(Xn=n=n.return);continue}break}while(1)}function pC(){var e=Hd.current;return Hd.current=qd,e===null?qd:e}function cx(){(nr===0||nr===3||nr===2)&&(nr=4),cr===null||!(Ho&268435455)&&!(Vp&268435455)||gs(cr,gr)}function Wd(e,t){var n=Dt;Dt|=2;var r=pC();(cr!==e||gr!==t)&&(Ea=null,Oo(e,t));do try{xO();break}catch(i){dC(e,i)}while(1);if(W4(),Dt=n,Hd.current=r,Xn!==null)throw Error(Le(261));return cr=null,gr=0,nr}function xO(){for(;Xn!==null;)gC(Xn)}function bO(){for(;Xn!==null&&!UI();)gC(Xn)}function gC(e){var t=yC(e.alternate,e,ni);e.memoizedProps=e.pendingProps,t===null?mC(e):Xn=t,ax.current=null}function mC(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=dO(n,t),n!==null){n.flags&=32767,Xn=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{nr=6,Xn=null;return}}else if(n=hO(n,t,ni),n!==null){Xn=n;return}if(t=t.sibling,t!==null){Xn=t;return}Xn=t=e}while(t!==null);nr===0&&(nr=5)}function vo(e,t,n){var r=Gt,i=Ti.transition;try{Ti.transition=null,Gt=1,wO(e,t,n,r)}finally{Ti.transition=i,Gt=r}return null}function wO(e,t,n,r){do eu();while(vs!==null);if(Dt&6)throw Error(Le(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(Le(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(tL(e,a),e===cr&&(Xn=cr=null,gr=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||th||(th=!0,xC(Ed,function(){return eu(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=Ti.transition,Ti.transition=null;var s=Gt;Gt=1;var o=Dt;Dt|=4,ax.current=null,gO(e,n),cC(n,e),jL(Oy),Md=!!Ly,Oy=Ly=null,e.current=n,mO(n),WI(),Dt=o,Gt=s,Ti.transition=a}else e.current=n;if(th&&(th=!1,vs=e,Ud=i),a=e.pendingLanes,a===0&&(Es=null),XI(n.stateNode),Xr(e,jn()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Vd)throw Vd=!1,e=e2,e2=null,e;return Ud&1&&e.tag!==0&&eu(),a=e.pendingLanes,a&1?e===t2?Vc++:(Vc=0,t2=e):Vc=0,Ks(),null}function eu(){if(vs!==null){var e=KS(Ud),t=Ti.transition,n=Gt;try{if(Ti.transition=null,Gt=16>e?16:e,vs===null)var r=!1;else{if(e=vs,vs=null,Ud=0,Dt&6)throw Error(Le(331));var i=Dt;for(Dt|=4,Ge=e.current;Ge!==null;){var a=Ge,s=a.child;if(Ge.flags&16){var o=a.deletions;if(o!==null){for(var l=0;l<o.length;l++){var u=o[l];for(Ge=u;Ge!==null;){var c=Ge;switch(c.tag){case 0:case 11:case 15:qc(8,c,a)}var f=c.child;if(f!==null)f.return=c,Ge=f;else for(;Ge!==null;){c=Ge;var h=c.sibling,d=c.return;if(oC(c),c===u){Ge=null;break}if(h!==null){h.return=d,Ge=h;break}Ge=d}}}var p=a.alternate;if(p!==null){var v=p.child;if(v!==null){p.child=null;do{var x=v.sibling;v.sibling=null,v=x}while(v!==null)}}Ge=a}}if(a.subtreeFlags&2064&&s!==null)s.return=a,Ge=s;else e:for(;Ge!==null;){if(a=Ge,a.flags&2048)switch(a.tag){case 0:case 11:case 15:qc(9,a,a.return)}var y=a.sibling;if(y!==null){y.return=a.return,Ge=y;break e}Ge=a.return}}var w=e.current;for(Ge=w;Ge!==null;){s=Ge;var k=s.child;if(s.subtreeFlags&2064&&k!==null)k.return=s,Ge=k;else e:for(s=w;Ge!==null;){if(o=Ge,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Hp(9,o)}}catch(C){On(o,o.return,C)}if(o===s){Ge=null;break e}var _=o.sibling;if(_!==null){_.return=o.return,Ge=_;break e}Ge=o.return}}if(Dt=i,Ks(),fa&&typeof fa.onPostCommitFiberRoot=="function")try{fa.onPostCommitFiberRoot(Rp,e)}catch{}r=!0}return r}finally{Gt=n,Ti.transition=t}}return!1}function s3(e,t,n){t=vu(n,t),t=K_(e,t,1),e=Ts(e,t,1),t=Or(),e!==null&&(Yf(e,1,t),Xr(e,t))}function On(e,t,n){if(e.tag===3)s3(e,e,n);else for(;t!==null;){if(t.tag===3){s3(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Es===null||!Es.has(r))){e=vu(n,e),e=Q_(t,e,1),t=Ts(t,e,1),e=Or(),t!==null&&(Yf(t,1,e),Xr(t,e));break}}t=t.return}}function kO(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Or(),e.pingedLanes|=e.suspendedLanes&n,cr===e&&(gr&n)===n&&(nr===4||nr===3&&(gr&130023424)===gr&&500>jn()-ox?Oo(e,0):sx|=n),Xr(e,t)}function vC(e,t){t===0&&(e.mode&1?(t=U0,U0<<=1,!(U0&130023424)&&(U0=4194304)):t=1);var n=Or();e=Va(e,t),e!==null&&(Yf(e,t,n),Xr(e,n))}function SO(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),vC(e,n)}function _O(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(Le(314))}r!==null&&r.delete(t),vC(e,n)}var yC;yC=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Gr.current)Ur=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Ur=!1,fO(e,t,n);Ur=!!(e.flags&131072)}else Ur=!1,yn&&t.flags&1048576&&k_(t,Nd,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Kh(e,t),e=t.pendingProps;var i=du(t,Cr.current);Jl(t,n),i=ex(null,t,r,e,i,n);var a=tx();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Yr(r)?(a=!0,Od(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,X4(t),i.updater=qp,t.stateNode=i,i._reactInternals=t,Hy(t,r,e,n),t=Wy(null,t,r,!0,a,n)):(t.tag=0,yn&&a&&q4(t),Ir(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Kh(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=TO(r),e=Ri(r,e),i){case 0:t=Uy(null,t,r,e,n);break e;case 1:t=Kw(null,t,r,e,n);break e;case 11:t=Yw(null,t,r,e,n);break e;case 14:t=Xw(null,t,r,Ri(r.type,e),n);break e}throw Error(Le(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ri(r,i),Uy(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ri(r,i),Kw(e,t,r,i,n);case 3:e:{if(tC(t),e===null)throw Error(Le(387));r=t.pendingProps,a=t.memoizedState,i=a.element,P_(e,t),Fd(t,r,null,n);var s=t.memoizedState;if(r=s.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=vu(Error(Le(423)),t),t=Qw(e,t,r,n,i);break e}else if(r!==i){i=vu(Error(Le(424)),t),t=Qw(e,t,r,n,i);break e}else for(ii=Cs(t.stateNode.containerInfo.firstChild),oi=t,yn=!0,Bi=null,n=T_(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(pu(),r===i){t=Ua(e,t,n);break e}Ir(e,t,r,n)}t=t.child}return t;case 5:return M_(t),e===null&&$y(t),r=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,s=i.children,Ry(r,i)?s=null:a!==null&&Ry(r,a)&&(t.flags|=32),eC(e,t),Ir(e,t,s,n),t.child;case 6:return e===null&&$y(t),null;case 13:return nC(e,t,n);case 4:return K4(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=gu(t,null,r,n):Ir(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ri(r,i),Yw(e,t,r,i,n);case 7:return Ir(e,t,t.pendingProps,n),t.child;case 8:return Ir(e,t,t.pendingProps.children,n),t.child;case 12:return Ir(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value,sn(zd,r._currentValue),r._currentValue=s,a!==null)if(Hi(a.value,s)){if(a.children===i.children&&!Gr.current){t=Ua(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var o=a.dependencies;if(o!==null){s=a.child;for(var l=o.firstContext;l!==null;){if(l.context===r){if(a.tag===1){l=$a(-1,n&-n),l.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),jy(a.return,n,t),o.lanes|=n;break}l=l.next}}else if(a.tag===10)s=a.type===t.type?null:a.child;else if(a.tag===18){if(s=a.return,s===null)throw Error(Le(341));s.lanes|=n,o=s.alternate,o!==null&&(o.lanes|=n),jy(s,n,t),s=a.sibling}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===t){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}Ir(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Jl(t,n),i=Ei(i),r=r(i),t.flags|=1,Ir(e,t,r,n),t.child;case 14:return r=t.type,i=Ri(r,t.pendingProps),i=Ri(r.type,i),Xw(e,t,r,i,n);case 15:return Z_(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ri(r,i),Kh(e,t),t.tag=1,Yr(r)?(e=!0,Od(t)):e=!1,Jl(t,n),X_(t,r,i),Hy(t,r,i,n),Wy(null,t,r,!0,e,n);case 19:return rC(e,t,n);case 22:return J_(e,t,n)}throw Error(Le(156,t.tag))};function xC(e,t){return WS(e,t)}function CO(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _i(e,t,n,r){return new CO(e,t,n,r)}function fx(e){return e=e.prototype,!(!e||!e.isReactComponent)}function TO(e){if(typeof e=="function")return fx(e)?1:0;if(e!=null){if(e=e.$$typeof,e===A4)return 11;if(e===D4)return 14}return 2}function Ms(e,t){var n=e.alternate;return n===null?(n=_i(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Jh(e,t,n,r,i,a){var s=2;if(r=e,typeof e=="function")fx(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case Il:return Ro(n.children,i,a,t);case M4:s=8,i|=8;break;case dy:return e=_i(12,n,t,i|2),e.elementType=dy,e.lanes=a,e;case py:return e=_i(13,n,t,i),e.elementType=py,e.lanes=a,e;case gy:return e=_i(19,n,t,i),e.elementType=gy,e.lanes=a,e;case MS:return Up(n,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ES:s=10;break e;case PS:s=9;break e;case A4:s=11;break e;case D4:s=14;break e;case hs:s=16,r=null;break e}throw Error(Le(130,e==null?e:typeof e,""))}return t=_i(s,n,t,i),t.elementType=e,t.type=r,t.lanes=a,t}function Ro(e,t,n,r){return e=_i(7,e,r,t),e.lanes=n,e}function Up(e,t,n,r){return e=_i(22,e,r,t),e.elementType=MS,e.lanes=n,e.stateNode={isHidden:!1},e}function Zm(e,t,n){return e=_i(6,e,null,t),e.lanes=n,e}function Jm(e,t,n){return t=_i(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function EO(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Lm(0),this.expirationTimes=Lm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Lm(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function hx(e,t,n,r,i,a,s,o,l){return e=new EO(e,t,n,o,l),t===1?(t=1,a===!0&&(t|=8)):t=0,a=_i(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},X4(a),e}function PO(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Dl,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function bC(e){if(!e)return Ns;e=e._reactInternals;e:{if(nl(e)!==e||e.tag!==1)throw Error(Le(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Yr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Le(171))}if(e.tag===1){var n=e.type;if(Yr(n))return b_(e,n,t)}return t}function wC(e,t,n,r,i,a,s,o,l){return e=hx(n,r,!0,e,i,a,s,o,l),e.context=bC(null),n=e.current,r=Or(),i=Ps(n),a=$a(r,i),a.callback=t??null,Ts(n,a,i),e.current.lanes=i,Yf(e,i,r),Xr(e,r),e}function Wp(e,t,n,r){var i=t.current,a=Or(),s=Ps(i);return n=bC(n),t.context===null?t.context=n:t.pendingContext=n,t=$a(a,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Ts(i,t,s),e!==null&&($i(e,i,s,a),Gh(e,i,s)),s}function Gd(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function o3(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function dx(e,t){o3(e,t),(e=e.alternate)&&o3(e,t)}function MO(){return null}var kC=typeof reportError=="function"?reportError:function(e){console.error(e)};function px(e){this._internalRoot=e}Gp.prototype.render=px.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Le(409));Wp(e,t,null,null)};Gp.prototype.unmount=px.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Vo(function(){Wp(null,e,null,null)}),t[Ha]=null}};function Gp(e){this._internalRoot=e}Gp.prototype.unstable_scheduleHydration=function(e){if(e){var t=JS();e={blockedOn:null,target:e,priority:t};for(var n=0;n<ps.length&&t!==0&&t<ps[n].priority;n++);ps.splice(n,0,e),n===0&&t_(e)}};function gx(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Yp(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function l3(){}function AO(e,t,n,r,i){if(i){if(typeof r=="function"){var a=r;r=function(){var u=Gd(s);a.call(u)}}var s=wC(t,r,e,0,null,!1,!1,"",l3);return e._reactRootContainer=s,e[Ha]=s.current,df(e.nodeType===8?e.parentNode:e),Vo(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var o=r;r=function(){var u=Gd(l);o.call(u)}}var l=hx(e,0,!1,null,null,!1,!1,"",l3);return e._reactRootContainer=l,e[Ha]=l.current,df(e.nodeType===8?e.parentNode:e),Vo(function(){Wp(t,l,n,r)}),l}function Xp(e,t,n,r,i){var a=n._reactRootContainer;if(a){var s=a;if(typeof i=="function"){var o=i;i=function(){var l=Gd(s);o.call(l)}}Wp(t,s,e,i)}else s=AO(n,t,e,i,r);return Gd(s)}QS=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Pc(t.pendingLanes);n!==0&&(O4(t,n|1),Xr(t,jn()),!(Dt&6)&&(yu=jn()+500,Ks()))}break;case 13:Vo(function(){var r=Va(e,1);if(r!==null){var i=Or();$i(r,e,1,i)}}),dx(e,1)}};R4=function(e){if(e.tag===13){var t=Va(e,134217728);if(t!==null){var n=Or();$i(t,e,134217728,n)}dx(e,134217728)}};ZS=function(e){if(e.tag===13){var t=Ps(e),n=Va(e,t);if(n!==null){var r=Or();$i(n,e,t,r)}dx(e,t)}};JS=function(){return Gt};e_=function(e,t){var n=Gt;try{return Gt=e,t()}finally{Gt=n}};Cy=function(e,t,n){switch(t){case"input":if(yy(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Fp(r);if(!i)throw Error(Le(90));DS(r),yy(r,i)}}}break;case"textarea":LS(e,n);break;case"select":t=n.value,t!=null&&Xl(e,!!n.multiple,t,!1)}};$S=lx;jS=Vo;var DO={usingClientEntryPoint:!1,Events:[Kf,Nl,Fp,BS,FS,lx]},lc={findFiberByHostInstance:Eo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},IO={bundleType:lc.bundleType,version:lc.version,rendererPackageName:lc.rendererPackageName,rendererConfig:lc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Qa.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=VS(e),e===null?null:e.stateNode},findFiberByHostInstance:lc.findFiberByHostInstance||MO,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nh.isDisabled&&nh.supportsFiber)try{Rp=nh.inject(IO),fa=nh}catch{}}fi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=DO;fi.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!gx(t))throw Error(Le(200));return PO(e,t,null,n)};fi.createRoot=function(e,t){if(!gx(e))throw Error(Le(299));var n=!1,r="",i=kC;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=hx(e,1,!1,null,null,n,!1,r,i),e[Ha]=t.current,df(e.nodeType===8?e.parentNode:e),new px(t)};fi.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Le(188)):(e=Object.keys(e).join(","),Error(Le(268,e)));return e=VS(t),e=e===null?null:e.stateNode,e};fi.flushSync=function(e){return Vo(e)};fi.hydrate=function(e,t,n){if(!Yp(t))throw Error(Le(200));return Xp(null,e,t,!0,n)};fi.hydrateRoot=function(e,t,n){if(!gx(e))throw Error(Le(405));var r=n!=null&&n.hydratedSources||null,i=!1,a="",s=kC;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=wC(t,null,e,1,n??null,i,!1,a,s),e[Ha]=t.current,df(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Gp(t)};fi.render=function(e,t,n){if(!Yp(t))throw Error(Le(200));return Xp(null,e,t,!1,n)};fi.unmountComponentAtNode=function(e){if(!Yp(e))throw Error(Le(40));return e._reactRootContainer?(Vo(function(){Xp(null,null,e,!1,function(){e._reactRootContainer=null,e[Ha]=null})}),!0):!1};fi.unstable_batchedUpdates=lx;fi.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Yp(n))throw Error(Le(200));if(e==null||e._reactInternals===void 0)throw Error(Le(38));return Xp(e,t,n,!1,r)};fi.version="18.3.1-next-f1338f8080-20240426";function SC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(SC)}catch(e){console.error(e)}}SC(),SS.exports=fi;var LO=SS.exports,u3=LO;fy.createRoot=u3.createRoot,fy.hydrateRoot=u3.hydrateRoot;function OO(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var _C={exports:{}},Hn=_C.exports={},ia,aa;function i2(){throw new Error("setTimeout has not been defined")}function a2(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?ia=setTimeout:ia=i2}catch{ia=i2}try{typeof clearTimeout=="function"?aa=clearTimeout:aa=a2}catch{aa=a2}})();function CC(e){if(ia===setTimeout)return setTimeout(e,0);if((ia===i2||!ia)&&setTimeout)return ia=setTimeout,setTimeout(e,0);try{return ia(e,0)}catch{try{return ia.call(null,e,0)}catch{return ia.call(this,e,0)}}}function RO(e){if(aa===clearTimeout)return clearTimeout(e);if((aa===a2||!aa)&&clearTimeout)return aa=clearTimeout,clearTimeout(e);try{return aa(e)}catch{try{return aa.call(null,e)}catch{return aa.call(this,e)}}}var Oa=[],tu=!1,Ao,ed=-1;function NO(){!tu||!Ao||(tu=!1,Ao.length?Oa=Ao.concat(Oa):ed=-1,Oa.length&&TC())}function TC(){if(!tu){var e=CC(NO);tu=!0;for(var t=Oa.length;t;){for(Ao=Oa,Oa=[];++ed<t;)Ao&&Ao[ed].run();ed=-1,t=Oa.length}Ao=null,tu=!1,RO(e)}}Hn.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];Oa.push(new EC(e,t)),Oa.length===1&&!tu&&CC(TC)};function EC(e,t){this.fun=e,this.array=t}EC.prototype.run=function(){this.fun.apply(null,this.array)};Hn.title="browser";Hn.browser=!0;Hn.env={};Hn.argv=[];Hn.version="";Hn.versions={};function Za(){}Hn.on=Za;Hn.addListener=Za;Hn.once=Za;Hn.off=Za;Hn.removeListener=Za;Hn.removeAllListeners=Za;Hn.emit=Za;Hn.prependListener=Za;Hn.prependOnceListener=Za;Hn.listeners=function(e){return[]};Hn.binding=function(e){throw new Error("process.binding is not supported")};Hn.cwd=function(){return"/"};Hn.chdir=function(e){throw new Error("process.chdir is not supported")};Hn.umask=function(){return 0};var zO=_C.exports;const Hl=OO(zO);var ur=function(){return ur=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},ur.apply(this,arguments)};function kf(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,a;r<i;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}var hn="-ms-",Uc="-moz-",qt="-webkit-",PC="comm",Kp="rule",mx="decl",BO="@import",MC="@keyframes",FO="@layer",AC=Math.abs,vx=String.fromCharCode,s2=Object.assign;function $O(e,t){return lr(e,0)^45?(((t<<2^lr(e,0))<<2^lr(e,1))<<2^lr(e,2))<<2^lr(e,3):0}function DC(e){return e.trim()}function Pa(e,t){return(e=t.exec(e))?e[0]:e}function xt(e,t,n){return e.replace(t,n)}function td(e,t,n){return e.indexOf(t,n)}function lr(e,t){return e.charCodeAt(t)|0}function xu(e,t,n){return e.slice(t,n)}function sa(e){return e.length}function IC(e){return e.length}function Ac(e,t){return t.push(e),e}function jO(e,t){return e.map(t).join("")}function c3(e,t){return e.filter(function(n){return!Pa(n,t)})}var Qp=1,bu=1,LC=0,Mi=0,Yn=0,zu="";function Zp(e,t,n,r,i,a,s,o){return{value:e,root:t,parent:n,type:r,props:i,children:a,line:Qp,column:bu,length:s,return:"",siblings:o}}function fs(e,t){return s2(Zp("",null,null,"",null,null,0,e.siblings),e,{length:-e.length},t)}function pl(e){for(;e.root;)e=fs(e.root,{children:[e]});Ac(e,e.siblings)}function qO(){return Yn}function HO(){return Yn=Mi>0?lr(zu,--Mi):0,bu--,Yn===10&&(bu=1,Qp--),Yn}function ji(){return Yn=Mi<LC?lr(zu,Mi++):0,bu++,Yn===10&&(bu=1,Qp++),Yn}function No(){return lr(zu,Mi)}function nd(){return Mi}function Jp(e,t){return xu(zu,e,t)}function o2(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function VO(e){return Qp=bu=1,LC=sa(zu=e),Mi=0,[]}function UO(e){return zu="",e}function ev(e){return DC(Jp(Mi-1,l2(e===91?e+2:e===40?e+1:e)))}function WO(e){for(;(Yn=No())&&Yn<33;)ji();return o2(e)>2||o2(Yn)>3?"":" "}function GO(e,t){for(;--t&&ji()&&!(Yn<48||Yn>102||Yn>57&&Yn<65||Yn>70&&Yn<97););return Jp(e,nd()+(t<6&&No()==32&&ji()==32))}function l2(e){for(;ji();)switch(Yn){case e:return Mi;case 34:case 39:e!==34&&e!==39&&l2(Yn);break;case 40:e===41&&l2(e);break;case 92:ji();break}return Mi}function YO(e,t){for(;ji()&&e+Yn!==47+10;)if(e+Yn===42+42&&No()===47)break;return"/*"+Jp(t,Mi-1)+"*"+vx(e===47?e:ji())}function XO(e){for(;!o2(No());)ji();return Jp(e,Mi)}function KO(e){return UO(rd("",null,null,null,[""],e=VO(e),0,[0],e))}function rd(e,t,n,r,i,a,s,o,l){for(var u=0,c=0,f=s,h=0,d=0,p=0,v=1,x=1,y=1,w=0,k="",_=i,C=a,T=r,E=k;x;)switch(p=w,w=ji()){case 40:if(p!=108&&lr(E,f-1)==58){td(E+=xt(ev(w),"&","&\f"),"&\f",AC(u?o[u-1]:0))!=-1&&(y=-1);break}case 34:case 39:case 91:E+=ev(w);break;case 9:case 10:case 13:case 32:E+=WO(p);break;case 92:E+=GO(nd()-1,7);continue;case 47:switch(No()){case 42:case 47:Ac(QO(YO(ji(),nd()),t,n,l),l);break;default:E+="/"}break;case 123*v:o[u++]=sa(E)*y;case 125*v:case 59:case 0:switch(w){case 0:case 125:x=0;case 59+c:y==-1&&(E=xt(E,/\f/g,"")),d>0&&sa(E)-f&&Ac(d>32?h3(E+";",r,n,f-1,l):h3(xt(E," ","")+";",r,n,f-2,l),l);break;case 59:E+=";";default:if(Ac(T=f3(E,t,n,u,c,i,o,k,_=[],C=[],f,a),a),w===123)if(c===0)rd(E,t,T,T,_,a,f,o,C);else switch(h===99&&lr(E,3)===110?100:h){case 100:case 108:case 109:case 115:rd(e,T,T,r&&Ac(f3(e,T,T,0,0,i,o,k,i,_=[],f,C),C),i,C,f,o,r?_:C);break;default:rd(E,T,T,T,[""],C,0,o,C)}}u=c=d=0,v=y=1,k=E="",f=s;break;case 58:f=1+sa(E),d=p;default:if(v<1){if(w==123)--v;else if(w==125&&v++==0&&HO()==125)continue}switch(E+=vx(w),w*v){case 38:y=c>0?1:(E+="\f",-1);break;case 44:o[u++]=(sa(E)-1)*y,y=1;break;case 64:No()===45&&(E+=ev(ji())),h=No(),c=f=sa(k=E+=XO(nd())),w++;break;case 45:p===45&&sa(E)==2&&(v=0)}}return a}function f3(e,t,n,r,i,a,s,o,l,u,c,f){for(var h=i-1,d=i===0?a:[""],p=IC(d),v=0,x=0,y=0;v<r;++v)for(var w=0,k=xu(e,h+1,h=AC(x=s[v])),_=e;w<p;++w)(_=DC(x>0?d[w]+" "+k:xt(k,/&\f/g,d[w])))&&(l[y++]=_);return Zp(e,t,n,i===0?Kp:o,l,u,c,f)}function QO(e,t,n,r){return Zp(e,t,n,PC,vx(qO()),xu(e,2,-2),0,r)}function h3(e,t,n,r,i){return Zp(e,t,n,mx,xu(e,0,r),xu(e,r+1,-1),r,i)}function OC(e,t,n){switch($O(e,t)){case 5103:return qt+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return qt+e+e;case 4789:return Uc+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return qt+e+Uc+e+hn+e+e;case 5936:switch(lr(e,t+11)){case 114:return qt+e+hn+xt(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return qt+e+hn+xt(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return qt+e+hn+xt(e,/[svh]\w+-[tblr]{2}/,"lr")+e}case 6828:case 4268:case 2903:return qt+e+hn+e+e;case 6165:return qt+e+hn+"flex-"+e+e;case 5187:return qt+e+xt(e,/(\w+).+(:[^]+)/,qt+"box-$1$2"+hn+"flex-$1$2")+e;case 5443:return qt+e+hn+"flex-item-"+xt(e,/flex-|-self/g,"")+(Pa(e,/flex-|baseline/)?"":hn+"grid-row-"+xt(e,/flex-|-self/g,""))+e;case 4675:return qt+e+hn+"flex-line-pack"+xt(e,/align-content|flex-|-self/g,"")+e;case 5548:return qt+e+hn+xt(e,"shrink","negative")+e;case 5292:return qt+e+hn+xt(e,"basis","preferred-size")+e;case 6060:return qt+"box-"+xt(e,"-grow","")+qt+e+hn+xt(e,"grow","positive")+e;case 4554:return qt+xt(e,/([^-])(transform)/g,"$1"+qt+"$2")+e;case 6187:return xt(xt(xt(e,/(zoom-|grab)/,qt+"$1"),/(image-set)/,qt+"$1"),e,"")+e;case 5495:case 3959:return xt(e,/(image-set\([^]*)/,qt+"$1$`$1");case 4968:return xt(xt(e,/(.+:)(flex-)?(.*)/,qt+"box-pack:$3"+hn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+qt+e+e;case 4200:if(!Pa(e,/flex-|baseline/))return hn+"grid-column-align"+xu(e,t)+e;break;case 2592:case 3360:return hn+xt(e,"template-","")+e;case 4384:case 3616:return n&&n.some(function(r,i){return t=i,Pa(r.props,/grid-\w+-end/)})?~td(e+(n=n[t].value),"span",0)?e:hn+xt(e,"-start","")+e+hn+"grid-row-span:"+(~td(n,"span",0)?Pa(n,/\d+/):+Pa(n,/\d+/)-+Pa(e,/\d+/))+";":hn+xt(e,"-start","")+e;case 4896:case 4128:return n&&n.some(function(r){return Pa(r.props,/grid-\w+-start/)})?e:hn+xt(xt(e,"-end","-span"),"span ","")+e;case 4095:case 3583:case 4068:case 2532:return xt(e,/(.+)-inline(.+)/,qt+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(sa(e)-1-t>6)switch(lr(e,t+1)){case 109:if(lr(e,t+4)!==45)break;case 102:return xt(e,/(.+:)(.+)-([^]+)/,"$1"+qt+"$2-$3$1"+Uc+(lr(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~td(e,"stretch",0)?OC(xt(e,"stretch","fill-available"),t,n)+e:e}break;case 5152:case 5920:return xt(e,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(r,i,a,s,o,l,u){return hn+i+":"+a+u+(s?hn+i+"-span:"+(o?l:+l-+a)+u:"")+e});case 4949:if(lr(e,t+6)===121)return xt(e,":",":"+qt)+e;break;case 6444:switch(lr(e,lr(e,14)===45?18:11)){case 120:return xt(e,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+qt+(lr(e,14)===45?"inline-":"")+"box$3$1"+qt+"$2$3$1"+hn+"$2box$3")+e;case 100:return xt(e,":",":"+hn)+e}break;case 5719:case 2647:case 2135:case 3927:case 2391:return xt(e,"scroll-","scroll-snap-")+e}return e}function Yd(e,t){for(var n="",r=0;r<e.length;r++)n+=t(e[r],r,e,t)||"";return n}function ZO(e,t,n,r){switch(e.type){case FO:if(e.children.length)break;case BO:case mx:return e.return=e.return||e.value;case PC:return"";case MC:return e.return=e.value+"{"+Yd(e.children,r)+"}";case Kp:if(!sa(e.value=e.props.join(",")))return""}return sa(n=Yd(e.children,r))?e.return=e.value+"{"+n+"}":""}function JO(e){var t=IC(e);return function(n,r,i,a){for(var s="",o=0;o<t;o++)s+=e[o](n,r,i,a)||"";return s}}function eR(e){return function(t){t.root||(t=t.return)&&e(t)}}function tR(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case mx:e.return=OC(e.value,e.length,n);return;case MC:return Yd([fs(e,{value:xt(e.value,"@","@"+qt)})],r);case Kp:if(e.length)return jO(n=e.props,function(i){switch(Pa(i,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":pl(fs(e,{props:[xt(i,/:(read-\w+)/,":"+Uc+"$1")]})),pl(fs(e,{props:[i]})),s2(e,{props:c3(n,r)});break;case"::placeholder":pl(fs(e,{props:[xt(i,/:(plac\w+)/,":"+qt+"input-$1")]})),pl(fs(e,{props:[xt(i,/:(plac\w+)/,":"+Uc+"$1")]})),pl(fs(e,{props:[xt(i,/:(plac\w+)/,hn+"input-$1")]})),pl(fs(e,{props:[i]})),s2(e,{props:c3(n,r)});break}return""})}}var nR={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},wu=typeof Hl<"u"&&Hl.env!==void 0&&({}.REACT_APP_SC_ATTR||{}.SC_ATTR)||"data-styled",RC="active",NC="data-styled-version",eg="6.1.18",yx=`/*!sc*/
`,Xd=typeof window<"u"&&typeof document<"u",rR=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof Hl<"u"&&Hl.env!==void 0&&{}.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&{}.REACT_APP_SC_DISABLE_SPEEDY!==""?{}.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&{}.REACT_APP_SC_DISABLE_SPEEDY:typeof Hl<"u"&&Hl.env!==void 0&&{}.SC_DISABLE_SPEEDY!==void 0&&{}.SC_DISABLE_SPEEDY!==""&&{}.SC_DISABLE_SPEEDY!=="false"&&{}.SC_DISABLE_SPEEDY),iR={},tg=Object.freeze([]),ku=Object.freeze({});function zC(e,t,n){return n===void 0&&(n=ku),e.theme!==n.theme&&e.theme||t||n.theme}var BC=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),aR=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,sR=/(^-|-$)/g;function d3(e){return e.replace(aR,"-").replace(sR,"")}var oR=/(a)(d)/gi,rh=52,p3=function(e){return String.fromCharCode(e+(e>25?39:97))};function u2(e){var t,n="";for(t=Math.abs(e);t>rh;t=t/rh|0)n=p3(t%rh)+n;return(p3(t%rh)+n).replace(oR,"$1-$2")}var tv,FC=5381,Vl=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},$C=function(e){return Vl(FC,e)};function jC(e){return u2($C(e)>>>0)}function lR(e){return e.displayName||e.name||"Component"}function nv(e){return typeof e=="string"&&!0}var qC=typeof Symbol=="function"&&Symbol.for,HC=qC?Symbol.for("react.memo"):60115,uR=qC?Symbol.for("react.forward_ref"):60112,cR={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},fR={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},VC={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},hR=((tv={})[uR]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},tv[HC]=VC,tv);function g3(e){return("type"in(t=e)&&t.type.$$typeof)===HC?VC:"$$typeof"in e?hR[e.$$typeof]:cR;var t}var dR=Object.defineProperty,pR=Object.getOwnPropertyNames,m3=Object.getOwnPropertySymbols,gR=Object.getOwnPropertyDescriptor,mR=Object.getPrototypeOf,v3=Object.prototype;function UC(e,t,n){if(typeof t!="string"){if(v3){var r=mR(t);r&&r!==v3&&UC(e,r,n)}var i=pR(t);m3&&(i=i.concat(m3(t)));for(var a=g3(e),s=g3(t),o=0;o<i.length;++o){var l=i[o];if(!(l in fR||n&&n[l]||s&&l in s||a&&l in a)){var u=gR(t,l);try{dR(e,l,u)}catch{}}}}return e}function Uo(e){return typeof e=="function"}function xx(e){return typeof e=="object"&&"styledComponentId"in e}function Do(e,t){return e&&t?"".concat(e," ").concat(t):e||t||""}function c2(e,t){if(e.length===0)return"";for(var n=e[0],r=1;r<e.length;r++)n+=t?t+e[r]:e[r];return n}function Sf(e){return e!==null&&typeof e=="object"&&e.constructor.name===Object.name&&!("props"in e&&e.$$typeof)}function f2(e,t,n){if(n===void 0&&(n=!1),!n&&!Sf(e)&&!Array.isArray(e))return t;if(Array.isArray(t))for(var r=0;r<t.length;r++)e[r]=f2(e[r],t[r]);else if(Sf(t))for(var r in t)e[r]=f2(e[r],t[r]);return e}function bx(e,t){Object.defineProperty(e,"toString",{value:t})}function zs(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(e," for more information.").concat(t.length>0?" Args: ".concat(t.join(", ")):""))}var vR=function(){function e(t){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=t}return e.prototype.indexOfGroup=function(t){for(var n=0,r=0;r<t;r++)n+=this.groupSizes[r];return n},e.prototype.insertRules=function(t,n){if(t>=this.groupSizes.length){for(var r=this.groupSizes,i=r.length,a=i;t>=a;)if((a<<=1)<0)throw zs(16,"".concat(t));this.groupSizes=new Uint32Array(a),this.groupSizes.set(r),this.length=a;for(var s=i;s<a;s++)this.groupSizes[s]=0}for(var o=this.indexOfGroup(t+1),l=(s=0,n.length);s<l;s++)this.tag.insertRule(o,n[s])&&(this.groupSizes[t]++,o++)},e.prototype.clearGroup=function(t){if(t<this.length){var n=this.groupSizes[t],r=this.indexOfGroup(t),i=r+n;this.groupSizes[t]=0;for(var a=r;a<i;a++)this.tag.deleteRule(r)}},e.prototype.getGroup=function(t){var n="";if(t>=this.length||this.groupSizes[t]===0)return n;for(var r=this.groupSizes[t],i=this.indexOfGroup(t),a=i+r,s=i;s<a;s++)n+="".concat(this.tag.getRule(s)).concat(yx);return n},e}(),id=new Map,Kd=new Map,ad=1,ih=function(e){if(id.has(e))return id.get(e);for(;Kd.has(ad);)ad++;var t=ad++;return id.set(e,t),Kd.set(t,e),t},yR=function(e,t){ad=t+1,id.set(e,t),Kd.set(t,e)},xR="style[".concat(wu,"][").concat(NC,'="').concat(eg,'"]'),bR=new RegExp("^".concat(wu,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),wR=function(e,t,n){for(var r,i=n.split(","),a=0,s=i.length;a<s;a++)(r=i[a])&&e.registerName(t,r)},kR=function(e,t){for(var n,r=((n=t.textContent)!==null&&n!==void 0?n:"").split(yx),i=[],a=0,s=r.length;a<s;a++){var o=r[a].trim();if(o){var l=o.match(bR);if(l){var u=0|parseInt(l[1],10),c=l[2];u!==0&&(yR(c,u),wR(e,c,l[3]),e.getTag().insertRules(u,i)),i.length=0}else i.push(o)}}},y3=function(e){for(var t=document.querySelectorAll(xR),n=0,r=t.length;n<r;n++){var i=t[n];i&&i.getAttribute(wu)!==RC&&(kR(e,i),i.parentNode&&i.parentNode.removeChild(i))}};function SR(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var WC=function(e){var t=document.head,n=e||t,r=document.createElement("style"),i=function(o){var l=Array.from(o.querySelectorAll("style[".concat(wu,"]")));return l[l.length-1]}(n),a=i!==void 0?i.nextSibling:null;r.setAttribute(wu,RC),r.setAttribute(NC,eg);var s=SR();return s&&r.setAttribute("nonce",s),n.insertBefore(r,a),r},_R=function(){function e(t){this.element=WC(t),this.element.appendChild(document.createTextNode("")),this.sheet=function(n){if(n.sheet)return n.sheet;for(var r=document.styleSheets,i=0,a=r.length;i<a;i++){var s=r[i];if(s.ownerNode===n)return s}throw zs(17)}(this.element),this.length=0}return e.prototype.insertRule=function(t,n){try{return this.sheet.insertRule(n,t),this.length++,!0}catch{return!1}},e.prototype.deleteRule=function(t){this.sheet.deleteRule(t),this.length--},e.prototype.getRule=function(t){var n=this.sheet.cssRules[t];return n&&n.cssText?n.cssText:""},e}(),CR=function(){function e(t){this.element=WC(t),this.nodes=this.element.childNodes,this.length=0}return e.prototype.insertRule=function(t,n){if(t<=this.length&&t>=0){var r=document.createTextNode(n);return this.element.insertBefore(r,this.nodes[t]||null),this.length++,!0}return!1},e.prototype.deleteRule=function(t){this.element.removeChild(this.nodes[t]),this.length--},e.prototype.getRule=function(t){return t<this.length?this.nodes[t].textContent:""},e}(),TR=function(){function e(t){this.rules=[],this.length=0}return e.prototype.insertRule=function(t,n){return t<=this.length&&(this.rules.splice(t,0,n),this.length++,!0)},e.prototype.deleteRule=function(t){this.rules.splice(t,1),this.length--},e.prototype.getRule=function(t){return t<this.length?this.rules[t]:""},e}(),x3=Xd,ER={isServer:!Xd,useCSSOMInjection:!rR},Qd=function(){function e(t,n,r){t===void 0&&(t=ku),n===void 0&&(n={});var i=this;this.options=ur(ur({},ER),t),this.gs=n,this.names=new Map(r),this.server=!!t.isServer,!this.server&&Xd&&x3&&(x3=!1,y3(this)),bx(this,function(){return function(a){for(var s=a.getTag(),o=s.length,l="",u=function(f){var h=function(y){return Kd.get(y)}(f);if(h===void 0)return"continue";var d=a.names.get(h),p=s.getGroup(f);if(d===void 0||!d.size||p.length===0)return"continue";var v="".concat(wu,".g").concat(f,'[id="').concat(h,'"]'),x="";d!==void 0&&d.forEach(function(y){y.length>0&&(x+="".concat(y,","))}),l+="".concat(p).concat(v,'{content:"').concat(x,'"}').concat(yx)},c=0;c<o;c++)u(c);return l}(i)})}return e.registerId=function(t){return ih(t)},e.prototype.rehydrate=function(){!this.server&&Xd&&y3(this)},e.prototype.reconstructWithOptions=function(t,n){return n===void 0&&(n=!0),new e(ur(ur({},this.options),t),this.gs,n&&this.names||void 0)},e.prototype.allocateGSInstance=function(t){return this.gs[t]=(this.gs[t]||0)+1},e.prototype.getTag=function(){return this.tag||(this.tag=(t=function(n){var r=n.useCSSOMInjection,i=n.target;return n.isServer?new TR(i):r?new _R(i):new CR(i)}(this.options),new vR(t)));var t},e.prototype.hasNameForId=function(t,n){return this.names.has(t)&&this.names.get(t).has(n)},e.prototype.registerName=function(t,n){if(ih(t),this.names.has(t))this.names.get(t).add(n);else{var r=new Set;r.add(n),this.names.set(t,r)}},e.prototype.insertRules=function(t,n,r){this.registerName(t,n),this.getTag().insertRules(ih(t),r)},e.prototype.clearNames=function(t){this.names.has(t)&&this.names.get(t).clear()},e.prototype.clearRules=function(t){this.getTag().clearGroup(ih(t)),this.clearNames(t)},e.prototype.clearTag=function(){this.tag=void 0},e}(),PR=/&/g,MR=/^\s*\/\/.*$/gm;function GC(e,t){return e.map(function(n){return n.type==="rule"&&(n.value="".concat(t," ").concat(n.value),n.value=n.value.replaceAll(",",",".concat(t," ")),n.props=n.props.map(function(r){return"".concat(t," ").concat(r)})),Array.isArray(n.children)&&n.type!=="@keyframes"&&(n.children=GC(n.children,t)),n})}function AR(e){var t,n,r,i=e===void 0?ku:e,a=i.options,s=a===void 0?ku:a,o=i.plugins,l=o===void 0?tg:o,u=function(h,d,p){return p.startsWith(n)&&p.endsWith(n)&&p.replaceAll(n,"").length>0?".".concat(t):h},c=l.slice();c.push(function(h){h.type===Kp&&h.value.includes("&")&&(h.props[0]=h.props[0].replace(PR,n).replace(r,u))}),s.prefix&&c.push(tR),c.push(ZO);var f=function(h,d,p,v){d===void 0&&(d=""),p===void 0&&(p=""),v===void 0&&(v="&"),t=v,n=d,r=new RegExp("\\".concat(n,"\\b"),"g");var x=h.replace(MR,""),y=KO(p||d?"".concat(p," ").concat(d," { ").concat(x," }"):x);s.namespace&&(y=GC(y,s.namespace));var w=[];return Yd(y,JO(c.concat(eR(function(k){return w.push(k)})))),w};return f.hash=l.length?l.reduce(function(h,d){return d.name||zs(15),Vl(h,d.name)},FC).toString():"",f}var DR=new Qd,h2=AR(),YC=pt.createContext({shouldForwardProp:void 0,styleSheet:DR,stylis:h2});YC.Consumer;pt.createContext(void 0);function d2(){return te.useContext(YC)}var IR=function(){function e(t,n){var r=this;this.inject=function(i,a){a===void 0&&(a=h2);var s=r.name+a.hash;i.hasNameForId(r.id,s)||i.insertRules(r.id,s,a(r.rules,s,"@keyframes"))},this.name=t,this.id="sc-keyframes-".concat(t),this.rules=n,bx(this,function(){throw zs(12,String(r.name))})}return e.prototype.getName=function(t){return t===void 0&&(t=h2),this.name+t.hash},e}(),LR=function(e){return e>="A"&&e<="Z"};function b3(e){for(var t="",n=0;n<e.length;n++){var r=e[n];if(n===1&&r==="-"&&e[0]==="-")return e;LR(r)?t+="-"+r.toLowerCase():t+=r}return t.startsWith("ms-")?"-"+t:t}var XC=function(e){return e==null||e===!1||e===""},KC=function(e){var t,n,r=[];for(var i in e){var a=e[i];e.hasOwnProperty(i)&&!XC(a)&&(Array.isArray(a)&&a.isCss||Uo(a)?r.push("".concat(b3(i),":"),a,";"):Sf(a)?r.push.apply(r,kf(kf(["".concat(i," {")],KC(a),!1),["}"],!1)):r.push("".concat(b3(i),": ").concat((t=i,(n=a)==null||typeof n=="boolean"||n===""?"":typeof n!="number"||n===0||t in nR||t.startsWith("--")?String(n).trim():"".concat(n,"px")),";")))}return r};function As(e,t,n,r){if(XC(e))return[];if(xx(e))return[".".concat(e.styledComponentId)];if(Uo(e)){if(!Uo(a=e)||a.prototype&&a.prototype.isReactComponent||!t)return[e];var i=e(t);return As(i,t,n,r)}var a;return e instanceof IR?n?(e.inject(n,r),[e.getName(r)]):[e]:Sf(e)?KC(e):Array.isArray(e)?Array.prototype.concat.apply(tg,e.map(function(s){return As(s,t,n,r)})):[e.toString()]}function QC(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(Uo(n)&&!xx(n))return!1}return!0}var OR=$C(eg),RR=function(){function e(t,n,r){this.rules=t,this.staticRulesId="",this.isStatic=(r===void 0||r.isStatic)&&QC(t),this.componentId=n,this.baseHash=Vl(OR,n),this.baseStyle=r,Qd.registerId(n)}return e.prototype.generateAndInjectStyles=function(t,n,r){var i=this.baseStyle?this.baseStyle.generateAndInjectStyles(t,n,r):"";if(this.isStatic&&!r.hash)if(this.staticRulesId&&n.hasNameForId(this.componentId,this.staticRulesId))i=Do(i,this.staticRulesId);else{var a=c2(As(this.rules,t,n,r)),s=u2(Vl(this.baseHash,a)>>>0);if(!n.hasNameForId(this.componentId,s)){var o=r(a,".".concat(s),void 0,this.componentId);n.insertRules(this.componentId,s,o)}i=Do(i,s),this.staticRulesId=s}else{for(var l=Vl(this.baseHash,r.hash),u="",c=0;c<this.rules.length;c++){var f=this.rules[c];if(typeof f=="string")u+=f;else if(f){var h=c2(As(f,t,n,r));l=Vl(l,h+c),u+=h}}if(u){var d=u2(l>>>0);n.hasNameForId(this.componentId,d)||n.insertRules(this.componentId,d,r(u,".".concat(d),void 0,this.componentId)),i=Do(i,d)}}return i},e}(),Su=pt.createContext(void 0);Su.Consumer;function wx(){var e=te.useContext(Su);if(!e)throw zs(18);return e}function NR(e){var t=pt.useContext(Su),n=te.useMemo(function(){return function(r,i){if(!r)throw zs(14);if(Uo(r)){var a=r(i);return a}if(Array.isArray(r)||typeof r!="object")throw zs(8);return i?ur(ur({},i),r):r}(e.theme,t)},[e.theme,t]);return e.children?pt.createElement(Su.Provider,{value:n},e.children):null}var rv={};function zR(e,t,n){var r=xx(e),i=e,a=!nv(e),s=t.attrs,o=s===void 0?tg:s,l=t.componentId,u=l===void 0?function(_,C){var T=typeof _!="string"?"sc":d3(_);rv[T]=(rv[T]||0)+1;var E="".concat(T,"-").concat(jC(eg+T+rv[T]));return C?"".concat(C,"-").concat(E):E}(t.displayName,t.parentComponentId):l,c=t.displayName,f=c===void 0?function(_){return nv(_)?"styled.".concat(_):"Styled(".concat(lR(_),")")}(e):c,h=t.displayName&&t.componentId?"".concat(d3(t.displayName),"-").concat(t.componentId):t.componentId||u,d=r&&i.attrs?i.attrs.concat(o).filter(Boolean):o,p=t.shouldForwardProp;if(r&&i.shouldForwardProp){var v=i.shouldForwardProp;if(t.shouldForwardProp){var x=t.shouldForwardProp;p=function(_,C){return v(_,C)&&x(_,C)}}else p=v}var y=new RR(n,h,r?i.componentStyle:void 0);function w(_,C){return function(T,E,A){var R=T.attrs,D=T.componentStyle,N=T.defaultProps,z=T.foldedComponentIds,j=T.styledComponentId,V=T.target,Y=pt.useContext(Su),Z=d2(),X=T.shouldForwardProp||Z.shouldForwardProp,G=zC(E,Y,N)||ku,ee=function(de,oe,ke){for(var Ae,Se=ur(ur({},oe),{className:void 0,theme:ke}),ce=0;ce<de.length;ce+=1){var ge=Uo(Ae=de[ce])?Ae(Se):Ae;for(var me in ge)Se[me]=me==="className"?Do(Se[me],ge[me]):me==="style"?ur(ur({},Se[me]),ge[me]):ge[me]}return oe.className&&(Se.className=Do(Se.className,oe.className)),Se}(R,E,G),B=ee.as||V,K={};for(var J in ee)ee[J]===void 0||J[0]==="$"||J==="as"||J==="theme"&&ee.theme===G||(J==="forwardedAs"?K.as=ee.forwardedAs:X&&!X(J,B)||(K[J]=ee[J]));var q=function(de,oe){var ke=d2(),Ae=de.generateAndInjectStyles(oe,ke.styleSheet,ke.stylis);return Ae}(D,ee),he=Do(z,j);return q&&(he+=" "+q),ee.className&&(he+=" "+ee.className),K[nv(B)&&!BC.has(B)?"class":"className"]=he,A&&(K.ref=A),te.createElement(B,K)}(k,_,C)}w.displayName=f;var k=pt.forwardRef(w);return k.attrs=d,k.componentStyle=y,k.displayName=f,k.shouldForwardProp=p,k.foldedComponentIds=r?Do(i.foldedComponentIds,i.styledComponentId):"",k.styledComponentId=h,k.target=r?i.target:e,Object.defineProperty(k,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(_){this._foldedDefaultProps=r?function(C){for(var T=[],E=1;E<arguments.length;E++)T[E-1]=arguments[E];for(var A=0,R=T;A<R.length;A++)f2(C,R[A],!0);return C}({},i.defaultProps,_):_}}),bx(k,function(){return".".concat(k.styledComponentId)}),a&&UC(k,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),k}function w3(e,t){for(var n=[e[0]],r=0,i=t.length;r<i;r+=1)n.push(t[r],e[r+1]);return n}var k3=function(e){return Object.assign(e,{isCss:!0})};function ZC(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Uo(e)||Sf(e))return k3(As(w3(tg,kf([e],t,!0))));var r=e;return t.length===0&&r.length===1&&typeof r[0]=="string"?As(r):k3(As(w3(r,t)))}function p2(e,t,n){if(n===void 0&&(n=ku),!t)throw zs(1,t);var r=function(i){for(var a=[],s=1;s<arguments.length;s++)a[s-1]=arguments[s];return e(t,n,ZC.apply(void 0,kf([i],a,!1)))};return r.attrs=function(i){return p2(e,t,ur(ur({},n),{attrs:Array.prototype.concat(n.attrs,i).filter(Boolean)}))},r.withConfig=function(i){return p2(e,t,ur(ur({},n),i))},r}var JC=function(e){return p2(zR,e)},Pe=JC;BC.forEach(function(e){Pe[e]=JC(e)});var BR=function(){function e(t,n){this.rules=t,this.componentId=n,this.isStatic=QC(t),Qd.registerId(this.componentId+1)}return e.prototype.createStyles=function(t,n,r,i){var a=i(c2(As(this.rules,n,r,i)),""),s=this.componentId+t;r.insertRules(s,s,a)},e.prototype.removeStyles=function(t,n){n.clearRules(this.componentId+t)},e.prototype.renderStyles=function(t,n,r,i){t>2&&Qd.registerId(this.componentId+t),this.removeStyles(t,r),this.createStyles(t,n,r,i)},e}();function FR(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=ZC.apply(void 0,kf([e],t,!1)),i="sc-global-".concat(jC(JSON.stringify(r))),a=new BR(r,i),s=function(l){var u=d2(),c=pt.useContext(Su),f=pt.useRef(u.styleSheet.allocateGSInstance(i)).current;return u.styleSheet.server&&o(f,l,u.styleSheet,c,u.stylis),pt.useLayoutEffect(function(){if(!u.styleSheet.server)return o(f,l,u.styleSheet,c,u.stylis),function(){return a.removeStyles(f,u.styleSheet)}},[f,l,u.styleSheet,c,u.stylis]),null};function o(l,u,c,f,h){if(a.isStatic)a.renderStyles(l,iR,c,h);else{var d=ur(ur({},u),{theme:zC(u,f,s.defaultProps)});a.renderStyles(l,d,c,h)}}return pt.memo(s)}const kx=({children:e})=>O.jsx($R,{children:e}),$R=Pe.div.withConfig({displayName:"Container__Wrapper",componentId:"sc-qct6p6-0"})(["width:1450px;max-width:90vw;margin:0 auto;flex:1;@media (max-width:1600px){width:1140px;}@media (max-width:768px){width:100%;}"]),jR=(e,t,n,r)=>{var a,s,o,l;const i=[n,{code:t,...r||{}}];if((s=(a=e==null?void 0:e.services)==null?void 0:a.logger)!=null&&s.forward)return e.services.logger.forward(i,"warn","react-i18next::",!0);zo(i[0])&&(i[0]=`react-i18next:: ${i[0]}`),(l=(o=e==null?void 0:e.services)==null?void 0:o.logger)!=null&&l.warn?e.services.logger.warn(...i):console!=null&&console.warn&&console.warn(...i)},S3={},g2=(e,t,n,r)=>{zo(n)&&S3[n]||(zo(n)&&(S3[n]=new Date),jR(e,t,n,r))},eT=(e,t)=>()=>{if(e.isInitialized)t();else{const n=()=>{setTimeout(()=>{e.off("initialized",n)},0),t()};e.on("initialized",n)}},m2=(e,t,n)=>{e.loadNamespaces(t,eT(e,n))},_3=(e,t,n,r)=>{if(zo(n)&&(n=[n]),e.options.preload&&e.options.preload.indexOf(t)>-1)return m2(e,n,r);n.forEach(i=>{e.options.ns.indexOf(i)<0&&e.options.ns.push(i)}),e.loadLanguages(t,eT(e,r))},qR=(e,t,n={})=>!t.languages||!t.languages.length?(g2(t,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:t.languages}),!0):t.hasLoadedNamespace(e,{lng:n.lng,precheck:(r,i)=>{var a;if(((a=n.bindI18n)==null?void 0:a.indexOf("languageChanging"))>-1&&r.services.backendConnector.backend&&r.isLanguageChangingTo&&!i(r.isLanguageChangingTo,e))return!1}}),zo=e=>typeof e=="string",HR=e=>typeof e=="object"&&e!==null,VR=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,UR={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},WR=e=>UR[e],GR=e=>e.replace(VR,WR);let v2={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:GR};const YR=(e={})=>{v2={...v2,...e}},XR=()=>v2;let tT;const KR=e=>{tT=e},QR=()=>tT,ZR={type:"3rdParty",init(e){YR(e.options.react),KR(e)}},JR=te.createContext();class eN{constructor(){this.usedNamespaces={}}addUsedNamespaces(t){t.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const tN=(e,t)=>{const n=te.useRef();return te.useEffect(()=>{n.current=t?n.current:e},[e,t]),n.current},nT=(e,t,n,r)=>e.getFixedT(t,n,r),nN=(e,t,n,r)=>te.useCallback(nT(e,t,n,r),[e,t,n,r]),tn=(e,t={})=>{var _,C,T,E;const{i18n:n}=t,{i18n:r,defaultNS:i}=te.useContext(JR)||{},a=n||r||QR();if(a&&!a.reportNamespaces&&(a.reportNamespaces=new eN),!a){g2(a,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const A=(D,N)=>zo(N)?N:HR(N)&&zo(N.defaultValue)?N.defaultValue:Array.isArray(D)?D[D.length-1]:D,R=[A,{},!1];return R.t=A,R.i18n={},R.ready=!1,R}(_=a.options.react)!=null&&_.wait&&g2(a,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const s={...XR(),...a.options.react,...t},{useSuspense:o,keyPrefix:l}=s;let u=e||i||((C=a.options)==null?void 0:C.defaultNS);u=zo(u)?[u]:u||["translation"],(E=(T=a.reportNamespaces).addUsedNamespaces)==null||E.call(T,u);const c=(a.isInitialized||a.initializedStoreOnce)&&u.every(A=>qR(A,a,s)),f=nN(a,t.lng||null,s.nsMode==="fallback"?u:u[0],l),h=()=>f,d=()=>nT(a,t.lng||null,s.nsMode==="fallback"?u:u[0],l),[p,v]=te.useState(h);let x=u.join();t.lng&&(x=`${t.lng}${x}`);const y=tN(x),w=te.useRef(!0);te.useEffect(()=>{const{bindI18n:A,bindI18nStore:R}=s;w.current=!0,!c&&!o&&(t.lng?_3(a,t.lng,u,()=>{w.current&&v(d)}):m2(a,u,()=>{w.current&&v(d)})),c&&y&&y!==x&&w.current&&v(d);const D=()=>{w.current&&v(d)};return A&&(a==null||a.on(A,D)),R&&(a==null||a.store.on(R,D)),()=>{w.current=!1,a&&(A==null||A.split(" ").forEach(N=>a.off(N,D))),R&&a&&R.split(" ").forEach(N=>a.store.off(N,D))}},[a,x]),te.useEffect(()=>{w.current&&c&&v(h)},[a,l,c]);const k=[p,a,c];if(k.t=p,k.i18n=a,k.ready=c,c||!c&&!o)return k;throw new Promise(A=>{t.lng?_3(a,t.lng,u,()=>A()):m2(a,u,()=>A())})},rN=()=>O.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"20px",viewBox:"0 -960 960 960",width:"20px",fill:"#FFFFFF",children:O.jsx("path",{d:"M432.31-280.46H283.54q-82.81 0-141.17-58.47Q84-397.4 84-480.35q0-82.96 58.37-141.07 58.36-58.12 141.17-58.12h148.77v78H283.54q-50.39 0-85.96 35.58Q162-530.38 162-480q0 50.38 35.58 85.96 35.57 35.58 85.96 35.58h148.77v78ZM328-442v-78h304v78H328Zm199.69 161.54v-78h148.77q50.39 0 85.96-35.58Q798-429.62 798-480q0-50.38-35.58-85.96-35.57-35.58-85.96-35.58H527.69v-78h148.77q82.81 0 141.17 58.47Q876-562.6 876-479.65q0 82.96-58.37 141.07-58.36 58.12-141.17 58.12H527.69Z"})}),iN=()=>O.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"20px",viewBox:"0 -960 960 960",width:"20px",fill:"#FFFFFF",children:O.jsx("path",{d:"M760.38-302.85 699-360.46q42.16-12.3 69.58-45.42Q796-439 796-480q0-50.38-35.38-85.96-35.39-35.58-85.39-35.58H524.92v-78h150.31q82.39 0 140.58 58.45Q874-562.65 874-479.78q0 56.52-31.04 103.19-31.04 46.67-82.58 73.74ZM617.23-442l-78-78h90v78h-12ZM768.85-76.85l-692-694L133-825l692 692-56.15 56.15ZM433.08-280.46H285.54q-82.78 0-141.16-58.38Q86-397.22 86-480q0-62.62 35.96-112.5t104.81-81.34H236l69.31 72.3h-18.77q-51.39 0-86.96 35.58Q164-530.38 164-480q0 50.38 35.58 85.96 35.57 35.58 85.96 35.58h147.54v78ZM330.77-442v-78h50.69l77 78H330.77Z"})}),Sx=()=>O.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"20px",viewBox:"0 -960 960 960",width:"20px",fill:"#FFFFFF",children:O.jsx("path",{d:"m370-286 304-194-304-194v388ZM480.28-64q-85.92 0-161.76-32.52-75.84-32.52-132.66-89.34-56.82-56.82-89.34-132.62Q64-394.28 64-480.46q0-86.44 32.58-162 32.58-75.57 89.5-132.55Q243-832 318.7-864q75.69-32 161.76-32 86.43 0 161.98 32Q718-832 775-775t89 132.81q32 75.81 32 162T864-318.5q-32 75.5-88.99 132.42-56.98 56.92-132.77 89.5Q566.45-64 480.28-64Zm-.28-98q132.51 0 225.26-92.74Q798-347.49 798-480t-92.74-225.26Q612.51-798 480-798t-225.26 92.74Q162-612.51 162-480t92.74 225.26Q347.49-162 480-162Zm0-318Z"})}),aN=()=>O.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"20px",viewBox:"0 -960 960 960",width:"20px",fill:"#FFFFFF",children:O.jsx("path",{d:"M333-333h294v-294H333v294ZM480.34-84q-81.75 0-153.96-30.94-72.21-30.94-126.34-85.05-54.13-54.11-85.09-126.25Q84-398.37 84-480.39q0-82.28 31-154.21t85.21-126.23q54.21-54.3 126.25-84.74Q398.49-876 480.39-876q82.27 0 154.19 30.42 71.93 30.42 126.24 84.71 54.31 54.29 84.75 126.44Q876-562.29 876-480.26q0 82.03-30.42 153.9t-84.7 126.1q-54.28 54.23-126.4 85.25Q562.35-84 480.34-84Zm-.34-78q132.51 0 225.26-92.74Q798-347.49 798-480t-92.74-225.26Q612.51-798 480-798t-225.26 92.74Q162-612.51 162-480t92.74 225.26Q347.49-162 480-162Zm0-318Z"})}),rT=()=>O.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"20px",viewBox:"0 -960 960 960",width:"20px",fill:"#FFFFFF",children:O.jsx("path",{d:"m501.85-481-186-186L376-727.15 622.15-481 376-234.85 315.85-295l186-186Z"})}),sN=()=>O.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"20px",viewBox:"0 -960 960 960",width:"20px",fill:"#FFFFFF",children:O.jsx("path",{d:"M431-168q-93-18-155-91t-62-171q0-45 11.5-84t29.5-77l32 32q-12 29-19.5 62.5T260-430q0 80 49 138t122 77v47Zm98 2v-47q74-20 123-78.5T701-430q0-90-60-155.5T492-651h-33l60 60-33 33-116-116 116-116 33 34-59 59h32q107 0 181 79t74 188q0 100-62.5 172.5T529-166Z"})}),oN=()=>O.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"20px",viewBox:"0 -960 960 960",width:"20px",fill:"#FFFFFF",children:O.jsx("path",{d:"M142-203v-560l694.46 280L142-203Zm62-94 464-187-464-187v118.69L410.92-484 204-415.69V-297Zm0 0v-374 374Z"})}),lN=()=>O.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"20px",viewBox:"0 -960 960 960",width:"20px",fill:"#FFFFFF",children:O.jsx("path",{d:"M373.15-225v-78h78.62l117.46-127-117.46-126h-68.39l-62 305.92q-14.53 60.16-50.53 94.12-36 33.96-79.93 33.96-43 0-74.3-30.19-31.31-30.2-31.31-67.96 0-24 15.61-40.93Q116.54-278 141.31-278q22.77 0 36.88 14.81 14.12 14.81 14.12 37.96 0 6.08-4.08 14.19-4.08 8.12-10.31 11.58 3.92 2.92 8.39 4.27 4.46 1.34 10.69 1.34 18.08 1.39 27.89-11.53 9.8-12.93 14.88-39.7L305.16-556H199.85v-78h120.46l17.23-71.38q14.77-65.23 48.31-99.93Q419.39-840 466.69-840q44.39 0 75.69 27.62 31.31 27.61 31.31 66.76 0 26.77-15.61 43.7Q542.46-685 517.69-685q-22.77 0-36.88-14.62-14.12-14.61-14.12-36.38 0-6.08 4.08-14.19 4.08-8.12 10.69-11.58-3.92-3.31-8.96-4.85-5.04-1.53-11.27-1.53-15.54-2.77-25.96 9.5-10.42 12.27-14.35 34.42l-22 90.23h191.23v78h-36.92l67.92 76.39L690.08-556h-37.93v-78h217v78h-77.61L672.08-430l120.84 127h76.23v78h-217v-78h37.93l-68.93-75-68.92 75h37.92v78h-217Z"})}),uN=()=>O.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"20px",viewBox:"0 -960 960 960",width:"20px",fill:"#FFFFFF",children:O.jsx("path",{d:"M354.16-330h77.99v-300h-77.99v300Zm173.69 0h77.99v-300h-77.99v300ZM480.34-84q-81.75 0-153.96-30.94-72.21-30.94-126.34-85.05-54.13-54.11-85.09-126.25Q84-398.37 84-480.39q0-82.28 31-154.21t85.21-126.23q54.21-54.3 126.25-84.74Q398.49-876 480.39-876q82.27 0 154.19 30.42 71.93 30.42 126.24 84.71 54.31 54.29 84.75 126.44Q876-562.29 876-480.26q0 82.03-30.42 153.9t-84.7 126.1q-54.28 54.23-126.4 85.25Q562.35-84 480.34-84Zm-.34-78q132.51 0 225.26-92.74Q798-347.49 798-480t-92.74-225.26Q612.51-798 480-798t-225.26 92.74Q162-612.51 162-480t92.74 225.26Q347.49-162 480-162Zm0-318Z"})}),cN=()=>O.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"20px",viewBox:"0 -960 960 960",width:"20px",fill:"#FFFFFF",children:O.jsx("path",{d:"m337-281.85 143-143 143 143L678.15-337l-143-143 143-143L623-678.15l-143 143-143-143L281.85-623l143 143-143 143L337-281.85ZM480.07-84q-81.48 0-153.69-30.94t-126.34-85.05q-54.13-54.11-85.09-126.29Q84-398.46 84-479.93q0-82.74 31-154.67 31-71.93 85.21-126.23 54.21-54.3 126.29-84.74Q398.57-876 479.93-876q82.73 0 154.65 30.42 71.93 30.42 126.24 84.71 54.31 54.29 84.75 126.21Q876-562.74 876-479.98q0 81.75-30.42 153.62t-84.7 126.1q-54.28 54.23-126.18 85.25Q562.8-84 480.07-84Zm-.07-78q132.51 0 225.26-92.74Q798-347.49 798-480t-92.74-225.26Q612.51-798 480-798t-225.26 92.74Q162-612.51 162-480t92.74 225.26Q347.49-162 480-162Zm0-318Z"})}),fN=()=>O.jsx("svg",{height:"20px",viewBox:"0 -960 960 960",width:"20px",fill:"#1f1f1f",version:"1.1",xmlns:"http://www.w3.org/2000/svg",children:O.jsxs("g",{id:"g5",transform:"matrix(1.0338603,0,0,1.0338603,-47.049303,47.049303)",style:{strokeWidth:.967249},children:[O.jsx("circle",{style:{fill:"none",stroke:"#1f1f1f",strokeWidth:97.8343,strokeOpacity:1},id:"path2",cx:"660.93024",cy:"-660.93024",r:"194.39052"}),O.jsx("path",{style:{fill:"none",stroke:"#1f1f1f",strokeWidth:88.2131,strokeOpacity:1},d:"M 180.78321,-408.81133 344.32319,-572.35131",id:"path3"}),O.jsx("path",{style:{fill:"none",stroke:"#1f1f1f",strokeWidth:88.2131,strokeOpacity:1},d:"M 408.81133,-180.78321 572.35131,-344.32319",id:"path3-5"}),O.jsx("path",{style:{fill:"none",stroke:"#1f1f1f",strokeWidth:88.2131,strokeOpacity:1},d:"M 146.52561,-146.52561 383.72215,-383.72215",id:"path3-8"})]})}),hN=()=>O.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"20px",viewBox:"0 -960 960 960",width:"20px",fill:"#1f1f1f",children:O.jsx("path",{d:"M76.05-182q-37.75 0-63.9-26.3Q-14-234.61-14-272.36v-415.59q0-37.75 26.3-63.9Q38.59-778 76.34-778h807.61q37.75 0 63.9 26.3Q974-725.39 974-687.64v415.59q0 37.75-26.3 63.9Q921.41-182 883.66-182H76.05Zm.26-78h807.38q4.62 0 8.46-3.85 3.85-3.84 3.85-8.46v-415.38q0-4.62-3.85-8.46-3.84-3.85-8.46-3.85H727v204.61h-78V-700H519v204.61h-78V-700H311v204.61h-78V-700H76.31q-4.62 0-8.46 3.85-3.85 3.84-3.85 8.46v415.38q0 4.62 3.85 8.46 3.84 3.85 8.46 3.85ZM233-495.39h78-78Zm208 0h78-78Zm208 0h78-78ZM480-480Z"})}),dN=()=>O.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 -960 960 960",width:"24px",fill:"#1f1f1f",children:O.jsx("path",{d:"M30.62-122 480-870l449.38 748H30.62ZM169-200h622L480-718 169-200Zm311.79-44.69q16.94 0 29.23-12.08t12.29-29.02q0-16.94-12.08-29.23t-29.02-12.29q-16.94 0-29.23 12.08t-12.29 29.02q0 16.94 12.08 29.23t29.02 12.29ZM442-372.31h78v-196h-78v196ZM480-459Z"})}),C3=[{id:"en",text:"🇬🇧"},{id:"de",text:"🇩🇪"}],pN=({width:e="auto"})=>{var s;const[t,n]=te.useState(!1),{i18n:r}=tn(),i=o=>{n(!1),r.changeLanguage(o)},a=((s=C3.find(o=>o.id===r.language))==null?void 0:s.text)||"";return O.jsxs(gN,{width:e,children:[O.jsxs(mN,{onClick:()=>n(o=>!o),$open:t,children:[a,O.jsx(xN,{$open:t,children:O.jsx(rT,{})})]}),O.jsx(vN,{$open:t,children:C3.filter(o=>o.id!==r.language).map(o=>O.jsx(yN,{onClick:()=>i(o.id),children:o.text},o.id))})]})},gN=Pe.div.withConfig({displayName:"LanguageDropdown__Wrapper",componentId:"sc-jn4j0r-0"})(["width:",";background-color:white;position:relative;font-family:var(--main-font);font-size:14px;"],({width:e})=>e),mN=Pe.div.withConfig({displayName:"LanguageDropdown__Header",componentId:"sc-jn4j0r-1"})(["padding:3px 8px;cursor:pointer;display:flex;column-gap:10px;justify-content:space-between;align-items:center;border:1px solid ",";border-radius:3px;"],({theme:e})=>e.lightGray),vN=Pe.ul.withConfig({displayName:"LanguageDropdown__Body",componentId:"sc-jn4j0r-2"})(["border:1px solid ",";display:",";position:absolute;background-color:white;border-bottom-left-radius:3px;border-bottom-right-radius:3px;z-index:100;width:100%;margin-top:-1px;"],({theme:e})=>e.lightGray,({$open:e})=>e?"block":"none"),yN=Pe.li.withConfig({displayName:"LanguageDropdown__Item",componentId:"sc-jn4j0r-3"})(["padding:3px 8px;list-style:none;border-bottom:1px solid ",";&:last-of-type{border-bottom:none;}&:hover{cursor:pointer;background-color:",";}"],({theme:e})=>e.lightGray,({theme:e})=>e.lightGray),xN=Pe.div.withConfig({displayName:"LanguageDropdown__IconBlock",componentId:"sc-jn4j0r-4"})(["display:flex;align-items:center;justify-content:center;& > svg{fill:",";transition:all 0.2s ease-in-out;width:14px;height:14px;transform:",";}"],({theme:e})=>e.gray,({$open:e})=>e?"rotate(0deg)":"rotate(90deg)"),bN=()=>O.jsx(wN,{children:O.jsx(pN,{})}),wN=Pe.ul.withConfig({displayName:"Navbar__Wrapper",componentId:"sc-d32984-0"})(["display:flex;gap:50px;"]),kN="modulepreload",SN=function(e){return"/ml-with-bricks/"+e},T3={},iT=function(t,n,r){if(!n||n.length===0)return t();const i=document.getElementsByTagName("link");return Promise.all(n.map(a=>{if(a=SN(a),a in T3)return;T3[a]=!0;const s=a.endsWith(".css"),o=s?'[rel="stylesheet"]':"";if(!!r)for(let c=i.length-1;c>=0;c--){const f=i[c];if(f.href===a&&(!s||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${a}"]${o}`))return;const u=document.createElement("link");if(u.rel=s?"stylesheet":kN,s||(u.as="script",u.crossOrigin=""),u.href=a,document.head.appendChild(u),s)return new Promise((c,f)=>{u.addEventListener("load",c),u.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${a}`)))})})).then(()=>t()).catch(a=>{const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=a,window.dispatchEvent(s),!s.defaultPrevented)throw a})},Gn=globalThis||void 0||self;var _x={};Object.defineProperty(_x,"__esModule",{value:!0});_x.parse=AN;_x.serialize=DN;const _N=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,CN=/^[\u0021-\u003A\u003C-\u007E]*$/,TN=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,EN=/^[\u0020-\u003A\u003D-\u007E]*$/,PN=Object.prototype.toString,MN=(()=>{const e=function(){};return e.prototype=Object.create(null),e})();function AN(e,t){const n=new MN,r=e.length;if(r<2)return n;const i=(t==null?void 0:t.decode)||IN;let a=0;do{const s=e.indexOf("=",a);if(s===-1)break;const o=e.indexOf(";",a),l=o===-1?r:o;if(s>l){a=e.lastIndexOf(";",s-1)+1;continue}const u=E3(e,a,s),c=P3(e,s,u),f=e.slice(u,c);if(n[f]===void 0){let h=E3(e,s+1,l),d=P3(e,l,h);const p=i(e.slice(h,d));n[f]=p}a=l+1}while(a<r);return n}function E3(e,t,n){do{const r=e.charCodeAt(t);if(r!==32&&r!==9)return t}while(++t<n);return n}function P3(e,t,n){for(;t>n;){const r=e.charCodeAt(--t);if(r!==32&&r!==9)return t+1}return n}function DN(e,t,n){const r=(n==null?void 0:n.encode)||encodeURIComponent;if(!_N.test(e))throw new TypeError(`argument name is invalid: ${e}`);const i=r(t);if(!CN.test(i))throw new TypeError(`argument val is invalid: ${t}`);let a=e+"="+i;if(!n)return a;if(n.maxAge!==void 0){if(!Number.isInteger(n.maxAge))throw new TypeError(`option maxAge is invalid: ${n.maxAge}`);a+="; Max-Age="+n.maxAge}if(n.domain){if(!TN.test(n.domain))throw new TypeError(`option domain is invalid: ${n.domain}`);a+="; Domain="+n.domain}if(n.path){if(!EN.test(n.path))throw new TypeError(`option path is invalid: ${n.path}`);a+="; Path="+n.path}if(n.expires){if(!LN(n.expires)||!Number.isFinite(n.expires.valueOf()))throw new TypeError(`option expires is invalid: ${n.expires}`);a+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(a+="; HttpOnly"),n.secure&&(a+="; Secure"),n.partitioned&&(a+="; Partitioned"),n.priority)switch(typeof n.priority=="string"?n.priority.toLowerCase():void 0){case"low":a+="; Priority=Low";break;case"medium":a+="; Priority=Medium";break;case"high":a+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${n.priority}`)}if(n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case!0:case"strict":a+="; SameSite=Strict";break;case"lax":a+="; SameSite=Lax";break;case"none":a+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${n.sameSite}`)}return a}function IN(e){if(e.indexOf("%")===-1)return e;try{return decodeURIComponent(e)}catch{return e}}function LN(e){return PN.call(e)==="[object Date]"}var M3="popstate";function ON(e={}){function t(i,a){let{pathname:s="/",search:o="",hash:l=""}=rl(i.location.hash.substring(1));return!s.startsWith("/")&&!s.startsWith(".")&&(s="/"+s),y2("",{pathname:s,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(i,a){let s=i.document.querySelector("base"),o="";if(s&&s.getAttribute("href")){let l=i.location.href,u=l.indexOf("#");o=u===-1?l:l.slice(0,u)}return o+"#"+(typeof a=="string"?a:_f(a))}function r(i,a){Vi(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(a)})`)}return NN(t,n,r,e)}function Pn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Vi(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function RN(){return Math.random().toString(36).substring(2,10)}function A3(e,t){return{usr:e.state,key:e.key,idx:t}}function y2(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?rl(t):t,state:n,key:t&&t.key||r||RN()}}function _f({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function rl(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function NN(e,t,n,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,s=i.history,o="POP",l=null,u=c();u==null&&(u=0,s.replaceState({...s.state,idx:u},""));function c(){return(s.state||{idx:null}).idx}function f(){o="POP";let x=c(),y=x==null?null:x-u;u=x,l&&l({action:o,location:v.location,delta:y})}function h(x,y){o="PUSH";let w=y2(v.location,x,y);n&&n(w,x),u=c()+1;let k=A3(w,u),_=v.createHref(w);try{s.pushState(k,"",_)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;i.location.assign(_)}a&&l&&l({action:o,location:v.location,delta:1})}function d(x,y){o="REPLACE";let w=y2(v.location,x,y);n&&n(w,x),u=c();let k=A3(w,u),_=v.createHref(w);s.replaceState(k,"",_),a&&l&&l({action:o,location:v.location,delta:0})}function p(x){return zN(x)}let v={get action(){return o},get location(){return e(i,s)},listen(x){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(M3,f),l=x,()=>{i.removeEventListener(M3,f),l=null}},createHref(x){return t(i,x)},createURL:p,encodeLocation(x){let y=p(x);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:h,replace:d,go(x){return s.go(x)}};return v}function zN(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Pn(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:_f(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function aT(e,t,n="/"){return BN(e,t,n,!1)}function BN(e,t,n,r){let i=typeof t=="string"?rl(t):t,a=Wa(i.pathname||"/",n);if(a==null)return null;let s=sT(e);FN(s);let o=null;for(let l=0;o==null&&l<s.length;++l){let u=KN(a);o=YN(s[l],u,r)}return o}function sT(e,t=[],n=[],r=""){let i=(a,s,o)=>{let l={relativePath:o===void 0?a.path||"":o,caseSensitive:a.caseSensitive===!0,childrenIndex:s,route:a};l.relativePath.startsWith("/")&&(Pn(l.relativePath.startsWith(r),`Absolute route path "${l.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),l.relativePath=l.relativePath.slice(r.length));let u=ja([r,l.relativePath]),c=n.concat(l);a.children&&a.children.length>0&&(Pn(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${u}".`),sT(a.children,t,c,u)),!(a.path==null&&!a.index)&&t.push({path:u,score:WN(u,a.index),routesMeta:c})};return e.forEach((a,s)=>{var o;if(a.path===""||!((o=a.path)!=null&&o.includes("?")))i(a,s);else for(let l of oT(a.path))i(a,s,l)}),t}function oT(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let s=oT(r.join("/")),o=[];return o.push(...s.map(l=>l===""?a:[a,l].join("/"))),i&&o.push(...s),o.map(l=>e.startsWith("/")&&l===""?"/":l)}function FN(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:GN(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var $N=/^:[\w-]+$/,jN=3,qN=2,HN=1,VN=10,UN=-2,D3=e=>e==="*";function WN(e,t){let n=e.split("/"),r=n.length;return n.some(D3)&&(r+=UN),t&&(r+=qN),n.filter(i=>!D3(i)).reduce((i,a)=>i+($N.test(a)?jN:a===""?HN:VN),r)}function GN(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function YN(e,t,n=!1){let{routesMeta:r}=e,i={},a="/",s=[];for(let o=0;o<r.length;++o){let l=r[o],u=o===r.length-1,c=a==="/"?t:t.slice(a.length)||"/",f=Zd({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),h=l.route;if(!f&&u&&n&&!r[r.length-1].route.index&&(f=Zd({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},c)),!f)return null;Object.assign(i,f.params),s.push({params:i,pathname:ja([a,f.pathname]),pathnameBase:ez(ja([a,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(a=ja([a,f.pathnameBase]))}return s}function Zd(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=XN(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((u,{paramName:c,isOptional:f},h)=>{if(c==="*"){let p=o[h]||"";s=a.slice(0,a.length-p.length).replace(/(.)\/+$/,"$1")}const d=o[h];return f&&!d?u[c]=void 0:u[c]=(d||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:s,pattern:e}}function XN(e,t=!1,n=!0){Vi(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,o,l)=>(r.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function KN(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Vi(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Wa(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function QN(e,t="/"){let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?rl(e):e;return{pathname:n?n.startsWith("/")?n:ZN(n,t):t,search:tz(r),hash:nz(i)}}function ZN(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function iv(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function JN(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function lT(e){let t=JN(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function uT(e,t,n,r=!1){let i;typeof e=="string"?i=rl(e):(i={...e},Pn(!i.pathname||!i.pathname.includes("?"),iv("?","pathname","search",i)),Pn(!i.pathname||!i.pathname.includes("#"),iv("#","pathname","hash",i)),Pn(!i.search||!i.search.includes("#"),iv("#","search","hash",i)));let a=e===""||i.pathname==="",s=a?"/":i.pathname,o;if(s==null)o=n;else{let f=t.length-1;if(!r&&s.startsWith("..")){let h=s.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}o=f>=0?t[f]:"/"}let l=QN(i,o),u=s&&s!=="/"&&s.endsWith("/"),c=(a||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}var ja=e=>e.join("/").replace(/\/\/+/g,"/"),ez=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),tz=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,nz=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function rz(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var cT=["POST","PUT","PATCH","DELETE"];new Set(cT);var iz=["GET",...cT];new Set(iz);var Bu=te.createContext(null);Bu.displayName="DataRouter";var ng=te.createContext(null);ng.displayName="DataRouterState";var fT=te.createContext({isTransitioning:!1});fT.displayName="ViewTransition";var az=te.createContext(new Map);az.displayName="Fetchers";var sz=te.createContext(null);sz.displayName="Await";var ma=te.createContext(null);ma.displayName="Navigation";var Zf=te.createContext(null);Zf.displayName="Location";var Ja=te.createContext({outlet:null,matches:[],isDataRoute:!1});Ja.displayName="Route";var Cx=te.createContext(null);Cx.displayName="RouteError";function oz(e,{relative:t}={}){Pn(Jf(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=te.useContext(ma),{hash:i,pathname:a,search:s}=e0(e,{relative:t}),o=a;return n!=="/"&&(o=a==="/"?n:ja([n,a])),r.createHref({pathname:o,search:s,hash:i})}function Jf(){return te.useContext(Zf)!=null}function il(){return Pn(Jf(),"useLocation() may be used only in the context of a <Router> component."),te.useContext(Zf).location}var hT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function dT(e){te.useContext(ma).static||te.useLayoutEffect(e)}function lz(){let{isDataRoute:e}=te.useContext(Ja);return e?wz():uz()}function uz(){Pn(Jf(),"useNavigate() may be used only in the context of a <Router> component.");let e=te.useContext(Bu),{basename:t,navigator:n}=te.useContext(ma),{matches:r}=te.useContext(Ja),{pathname:i}=il(),a=JSON.stringify(lT(r)),s=te.useRef(!1);return dT(()=>{s.current=!0}),te.useCallback((l,u={})=>{if(Vi(s.current,hT),!s.current)return;if(typeof l=="number"){n.go(l);return}let c=uT(l,JSON.parse(a),i,u.relative==="path");e==null&&t!=="/"&&(c.pathname=c.pathname==="/"?t:ja([t,c.pathname])),(u.replace?n.replace:n.push)(c,u.state,u)},[t,n,a,i,e])}te.createContext(null);function e0(e,{relative:t}={}){let{matches:n}=te.useContext(Ja),{pathname:r}=il(),i=JSON.stringify(lT(n));return te.useMemo(()=>uT(e,JSON.parse(i),r,t==="path"),[e,i,r,t])}function cz(e,t){return pT(e,t)}function pT(e,t,n,r){var y;Pn(Jf(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=te.useContext(ma),{matches:a}=te.useContext(Ja),s=a[a.length-1],o=s?s.params:{},l=s?s.pathname:"/",u=s?s.pathnameBase:"/",c=s&&s.route;{let w=c&&c.path||"";gT(l,!c||w.endsWith("*")||w.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${l}" (under <Route path="${w}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${w}"> to <Route path="${w==="/"?"*":`${w}/*`}">.`)}let f=il(),h;if(t){let w=typeof t=="string"?rl(t):t;Pn(u==="/"||((y=w.pathname)==null?void 0:y.startsWith(u)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${w.pathname}" was given in the \`location\` prop.`),h=w}else h=f;let d=h.pathname||"/",p=d;if(u!=="/"){let w=u.replace(/^\//,"").split("/");p="/"+d.replace(/^\//,"").split("/").slice(w.length).join("/")}let v=aT(e,{pathname:p});Vi(c||v!=null,`No routes matched location "${h.pathname}${h.search}${h.hash}" `),Vi(v==null||v[v.length-1].route.element!==void 0||v[v.length-1].route.Component!==void 0||v[v.length-1].route.lazy!==void 0,`Matched leaf route at location "${h.pathname}${h.search}${h.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let x=gz(v&&v.map(w=>Object.assign({},w,{params:Object.assign({},o,w.params),pathname:ja([u,i.encodeLocation?i.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?u:ja([u,i.encodeLocation?i.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),a,n,r);return t&&x?te.createElement(Zf.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...h},navigationType:"POP"}},x):x}function fz(){let e=bz(),t=rz(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},s=null;return console.error("Error handled by React Router default ErrorBoundary:",e),s=te.createElement(te.Fragment,null,te.createElement("p",null,"💿 Hey developer 👋"),te.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",te.createElement("code",{style:a},"ErrorBoundary")," or"," ",te.createElement("code",{style:a},"errorElement")," prop on your route.")),te.createElement(te.Fragment,null,te.createElement("h2",null,"Unexpected Application Error!"),te.createElement("h3",{style:{fontStyle:"italic"}},t),n?te.createElement("pre",{style:i},n):null,s)}var hz=te.createElement(fz,null),dz=class extends te.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?te.createElement(Ja.Provider,{value:this.props.routeContext},te.createElement(Cx.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function pz({routeContext:e,match:t,children:n}){let r=te.useContext(Bu);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),te.createElement(Ja.Provider,{value:e},n)}function gz(e,t=[],n=null,r=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let i=e,a=n==null?void 0:n.errors;if(a!=null){let l=i.findIndex(u=>u.route.id&&(a==null?void 0:a[u.route.id])!==void 0);Pn(l>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),i=i.slice(0,Math.min(i.length,l+1))}let s=!1,o=-1;if(n)for(let l=0;l<i.length;l++){let u=i[l];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(o=l),u.route.id){let{loaderData:c,errors:f}=n,h=u.route.loader&&!c.hasOwnProperty(u.route.id)&&(!f||f[u.route.id]===void 0);if(u.route.lazy||h){s=!0,o>=0?i=i.slice(0,o+1):i=[i[0]];break}}}return i.reduceRight((l,u,c)=>{let f,h=!1,d=null,p=null;n&&(f=a&&u.route.id?a[u.route.id]:void 0,d=u.route.errorElement||hz,s&&(o<0&&c===0?(gT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),h=!0,p=null):o===c&&(h=!0,p=u.route.hydrateFallbackElement||null)));let v=t.concat(i.slice(0,c+1)),x=()=>{let y;return f?y=d:h?y=p:u.route.Component?y=te.createElement(u.route.Component,null):u.route.element?y=u.route.element:y=l,te.createElement(pz,{match:u,routeContext:{outlet:l,matches:v,isDataRoute:n!=null},children:y})};return n&&(u.route.ErrorBoundary||u.route.errorElement||c===0)?te.createElement(dz,{location:n.location,revalidation:n.revalidation,component:d,error:f,children:x(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):x()},null)}function Tx(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function mz(e){let t=te.useContext(Bu);return Pn(t,Tx(e)),t}function vz(e){let t=te.useContext(ng);return Pn(t,Tx(e)),t}function yz(e){let t=te.useContext(Ja);return Pn(t,Tx(e)),t}function Ex(e){let t=yz(e),n=t.matches[t.matches.length-1];return Pn(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function xz(){return Ex("useRouteId")}function bz(){var r;let e=te.useContext(Cx),t=vz("useRouteError"),n=Ex("useRouteError");return e!==void 0?e:(r=t.errors)==null?void 0:r[n]}function wz(){let{router:e}=mz("useNavigate"),t=Ex("useNavigate"),n=te.useRef(!1);return dT(()=>{n.current=!0}),te.useCallback(async(i,a={})=>{Vi(n.current,hT),n.current&&(typeof i=="number"?e.navigate(i):await e.navigate(i,{fromRouteId:t,...a}))},[e,t])}var I3={};function gT(e,t,n){!t&&!I3[e]&&(I3[e]=!0,Vi(!1,n))}te.memo(kz);function kz({routes:e,future:t,state:n}){return pT(e,void 0,n,t)}function Zi(e){Pn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Sz({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:i,static:a=!1}){Pn(!Jf(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let s=e.replace(/^\/*/,"/"),o=te.useMemo(()=>({basename:s,navigator:i,static:a,future:{}}),[s,i,a]);typeof n=="string"&&(n=rl(n));let{pathname:l="/",search:u="",hash:c="",state:f=null,key:h="default"}=n,d=te.useMemo(()=>{let p=Wa(l,s);return p==null?null:{location:{pathname:p,search:u,hash:c,state:f,key:h},navigationType:r}},[s,l,u,c,f,h,r]);return Vi(d!=null,`<Router basename="${s}"> is not able to match the URL "${l}${u}${c}" because it does not start with the basename, so the <Router> won't render anything.`),d==null?null:te.createElement(ma.Provider,{value:o},te.createElement(Zf.Provider,{children:t,value:d}))}function _z({children:e,location:t}){return cz(x2(e),t)}function x2(e,t=[]){let n=[];return te.Children.forEach(e,(r,i)=>{if(!te.isValidElement(r))return;let a=[...t,i];if(r.type===te.Fragment){n.push.apply(n,x2(r.props.children,a));return}Pn(r.type===Zi,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Pn(!r.props.index||!r.props.children,"An index route cannot have child routes.");let s={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=x2(r.props.children,a)),n.push(s)}),n}var sd="get",od="application/x-www-form-urlencoded";function rg(e){return e!=null&&typeof e.tagName=="string"}function Cz(e){return rg(e)&&e.tagName.toLowerCase()==="button"}function Tz(e){return rg(e)&&e.tagName.toLowerCase()==="form"}function Ez(e){return rg(e)&&e.tagName.toLowerCase()==="input"}function Pz(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Mz(e,t){return e.button===0&&(!t||t==="_self")&&!Pz(e)}var ah=null;function Az(){if(ah===null)try{new FormData(document.createElement("form"),0),ah=!1}catch{ah=!0}return ah}var Dz=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function av(e){return e!=null&&!Dz.has(e)?(Vi(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${od}"`),null):e}function Iz(e,t){let n,r,i,a,s;if(Tz(e)){let o=e.getAttribute("action");r=o?Wa(o,t):null,n=e.getAttribute("method")||sd,i=av(e.getAttribute("enctype"))||od,a=new FormData(e)}else if(Cz(e)||Ez(e)&&(e.type==="submit"||e.type==="image")){let o=e.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=e.getAttribute("formaction")||o.getAttribute("action");if(r=l?Wa(l,t):null,n=e.getAttribute("formmethod")||o.getAttribute("method")||sd,i=av(e.getAttribute("formenctype"))||av(o.getAttribute("enctype"))||od,a=new FormData(o,e),!Az()){let{name:u,type:c,value:f}=e;if(c==="image"){let h=u?`${u}.`:"";a.append(`${h}x`,"0"),a.append(`${h}y`,"0")}else u&&a.append(u,f)}}else{if(rg(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=sd,r=null,i=od,s=e}return a&&i==="text/plain"&&(s=a,a=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:a,body:s}}function Px(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}async function Lz(e,t){if(e.id in t)return t[e.id];try{let n=await iT(()=>import(e.module),[]);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Oz(e){return e!=null&&typeof e.page=="string"}function Rz(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function Nz(e,t,n){let r=await Promise.all(e.map(async i=>{let a=t.routes[i.route.id];if(a){let s=await Lz(a,n);return s.links?s.links():[]}return[]}));return $z(r.flat(1).filter(Rz).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function L3(e,t,n,r,i,a){let s=(l,u)=>n[u]?l.route.id!==n[u].route.id:!0,o=(l,u)=>{var c;return n[u].pathname!==l.pathname||((c=n[u].route.path)==null?void 0:c.endsWith("*"))&&n[u].params["*"]!==l.params["*"]};return a==="assets"?t.filter((l,u)=>s(l,u)||o(l,u)):a==="data"?t.filter((l,u)=>{var f;let c=r.routes[l.route.id];if(!c||!c.hasLoader)return!1;if(s(l,u)||o(l,u))return!0;if(l.route.shouldRevalidate){let h=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((f=n[0])==null?void 0:f.params)||{},nextUrl:new URL(e,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof h=="boolean")return h}return!0}):[]}function zz(e,t,{includeHydrateFallback:n}={}){return Bz(e.map(r=>{let i=t.routes[r.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function Bz(e){return[...new Set(e)]}function Fz(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function $z(e,t){let n=new Set,r=new Set(t);return e.reduce((i,a)=>{if(t&&!Oz(a)&&a.as==="script"&&a.href&&r.has(a.href))return i;let o=JSON.stringify(Fz(a));return n.has(o)||(n.add(o),i.push({key:o,link:a})),i},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var jz=new Set([100,101,204,205]);function qz(e,t){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname="_root.data":t&&Wa(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function mT(){let e=te.useContext(Bu);return Px(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function Hz(){let e=te.useContext(ng);return Px(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Mx=te.createContext(void 0);Mx.displayName="FrameworkContext";function vT(){let e=te.useContext(Mx);return Px(e,"You must render this element inside a <HydratedRouter> element"),e}function Vz(e,t){let n=te.useContext(Mx),[r,i]=te.useState(!1),[a,s]=te.useState(!1),{onFocus:o,onBlur:l,onMouseEnter:u,onMouseLeave:c,onTouchStart:f}=t,h=te.useRef(null);te.useEffect(()=>{if(e==="render"&&s(!0),e==="viewport"){let v=y=>{y.forEach(w=>{s(w.isIntersecting)})},x=new IntersectionObserver(v,{threshold:.5});return h.current&&x.observe(h.current),()=>{x.disconnect()}}},[e]),te.useEffect(()=>{if(r){let v=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(v)}}},[r]);let d=()=>{i(!0)},p=()=>{i(!1),s(!1)};return n?e!=="intent"?[a,h,{}]:[a,h,{onFocus:uc(o,d),onBlur:uc(l,p),onMouseEnter:uc(u,d),onMouseLeave:uc(c,p),onTouchStart:uc(f,d)}]:[!1,h,{}]}function uc(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function Uz({page:e,...t}){let{router:n}=mT(),r=te.useMemo(()=>aT(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?te.createElement(Gz,{page:e,matches:r,...t}):null}function Wz(e){let{manifest:t,routeModules:n}=vT(),[r,i]=te.useState([]);return te.useEffect(()=>{let a=!1;return Nz(e,t,n).then(s=>{a||i(s)}),()=>{a=!0}},[e,t,n]),r}function Gz({page:e,matches:t,...n}){let r=il(),{manifest:i,routeModules:a}=vT(),{basename:s}=mT(),{loaderData:o,matches:l}=Hz(),u=te.useMemo(()=>L3(e,t,l,i,r,"data"),[e,t,l,i,r]),c=te.useMemo(()=>L3(e,t,l,i,r,"assets"),[e,t,l,i,r]),f=te.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let p=new Set,v=!1;if(t.forEach(y=>{var k;let w=i.routes[y.route.id];!w||!w.hasLoader||(!u.some(_=>_.route.id===y.route.id)&&y.route.id in o&&((k=a[y.route.id])!=null&&k.shouldRevalidate)||w.hasClientLoader?v=!0:p.add(y.route.id))}),p.size===0)return[];let x=qz(e,s);return v&&p.size>0&&x.searchParams.set("_routes",t.filter(y=>p.has(y.route.id)).map(y=>y.route.id).join(",")),[x.pathname+x.search]},[s,o,r,i,u,t,e,a]),h=te.useMemo(()=>zz(c,i),[c,i]),d=Wz(c);return te.createElement(te.Fragment,null,f.map(p=>te.createElement("link",{key:p,rel:"prefetch",as:"fetch",href:p,...n})),h.map(p=>te.createElement("link",{key:p,rel:"modulepreload",href:p,...n})),d.map(({key:p,link:v})=>te.createElement("link",{key:p,...v})))}function Yz(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var yT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{yT&&(window.__reactRouterVersion="7.6.1")}catch{}function Xz({basename:e,children:t,window:n}){let r=te.useRef();r.current==null&&(r.current=ON({window:n,v5Compat:!0}));let i=r.current,[a,s]=te.useState({action:i.action,location:i.location}),o=te.useCallback(l=>{te.startTransition(()=>s(l))},[s]);return te.useLayoutEffect(()=>i.listen(o),[i,o]),te.createElement(Sz,{basename:e,children:t,location:a.location,navigationType:a.action,navigator:i})}var xT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,t0=te.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:i,reloadDocument:a,replace:s,state:o,target:l,to:u,preventScrollReset:c,viewTransition:f,...h},d){let{basename:p}=te.useContext(ma),v=typeof u=="string"&&xT.test(u),x,y=!1;if(typeof u=="string"&&v&&(x=u,yT))try{let R=new URL(window.location.href),D=u.startsWith("//")?new URL(R.protocol+u):new URL(u),N=Wa(D.pathname,p);D.origin===R.origin&&N!=null?u=N+D.search+D.hash:y=!0}catch{Vi(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let w=oz(u,{relative:i}),[k,_,C]=Vz(r,h),T=Jz(u,{replace:s,state:o,target:l,preventScrollReset:c,relative:i,viewTransition:f});function E(R){t&&t(R),R.defaultPrevented||T(R)}let A=te.createElement("a",{...h,...C,href:x||w,onClick:y||a?t:E,ref:Yz(d,_),target:l,"data-discover":!v&&n==="render"?"true":void 0});return k&&!v?te.createElement(te.Fragment,null,A,te.createElement(Uz,{page:w})):A});t0.displayName="Link";var Kz=te.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:i=!1,style:a,to:s,viewTransition:o,children:l,...u},c){let f=e0(s,{relative:u.relative}),h=il(),d=te.useContext(ng),{navigator:p,basename:v}=te.useContext(ma),x=d!=null&&iB(f)&&o===!0,y=p.encodeLocation?p.encodeLocation(f).pathname:f.pathname,w=h.pathname,k=d&&d.navigation&&d.navigation.location?d.navigation.location.pathname:null;n||(w=w.toLowerCase(),k=k?k.toLowerCase():null,y=y.toLowerCase()),k&&v&&(k=Wa(k,v)||k);const _=y!=="/"&&y.endsWith("/")?y.length-1:y.length;let C=w===y||!i&&w.startsWith(y)&&w.charAt(_)==="/",T=k!=null&&(k===y||!i&&k.startsWith(y)&&k.charAt(y.length)==="/"),E={isActive:C,isPending:T,isTransitioning:x},A=C?t:void 0,R;typeof r=="function"?R=r(E):R=[r,C?"active":null,T?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let D=typeof a=="function"?a(E):a;return te.createElement(t0,{...u,"aria-current":A,className:R,ref:c,style:D,to:s,viewTransition:o},typeof l=="function"?l(E):l)});Kz.displayName="NavLink";var Qz=te.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:i,state:a,method:s=sd,action:o,onSubmit:l,relative:u,preventScrollReset:c,viewTransition:f,...h},d)=>{let p=nB(),v=rB(o,{relative:u}),x=s.toLowerCase()==="get"?"get":"post",y=typeof o=="string"&&xT.test(o),w=k=>{if(l&&l(k),k.defaultPrevented)return;k.preventDefault();let _=k.nativeEvent.submitter,C=(_==null?void 0:_.getAttribute("formmethod"))||s;p(_||k.currentTarget,{fetcherKey:t,method:C,navigate:n,replace:i,state:a,relative:u,preventScrollReset:c,viewTransition:f})};return te.createElement("form",{ref:d,method:x,action:v,onSubmit:r?l:w,...h,"data-discover":!y&&e==="render"?"true":void 0})});Qz.displayName="Form";function Zz(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function bT(e){let t=te.useContext(Bu);return Pn(t,Zz(e)),t}function Jz(e,{target:t,replace:n,state:r,preventScrollReset:i,relative:a,viewTransition:s}={}){let o=lz(),l=il(),u=e0(e,{relative:a});return te.useCallback(c=>{if(Mz(c,t)){c.preventDefault();let f=n!==void 0?n:_f(l)===_f(u);o(e,{replace:f,state:r,preventScrollReset:i,relative:a,viewTransition:s})}},[l,o,u,n,r,t,e,i,a,s])}var eB=0,tB=()=>`__${String(++eB)}__`;function nB(){let{router:e}=bT("useSubmit"),{basename:t}=te.useContext(ma),n=xz();return te.useCallback(async(r,i={})=>{let{action:a,method:s,encType:o,formData:l,body:u}=Iz(r,t);if(i.navigate===!1){let c=i.fetcherKey||tB();await e.fetch(c,n,i.action||a,{preventScrollReset:i.preventScrollReset,formData:l,body:u,formMethod:i.method||s,formEncType:i.encType||o,flushSync:i.flushSync})}else await e.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:l,body:u,formMethod:i.method||s,formEncType:i.encType||o,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,t,n])}function rB(e,{relative:t}={}){let{basename:n}=te.useContext(ma),r=te.useContext(Ja);Pn(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={...e0(e||".",{relative:t})},s=il();if(e==null){a.search=s.search;let o=new URLSearchParams(a.search),l=o.getAll("index");if(l.some(c=>c==="")){o.delete("index"),l.filter(f=>f).forEach(f=>o.append("index",f));let c=o.toString();a.search=c?`?${c}`:""}}return(!e||e===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:ja([n,a.pathname])),_f(a)}function iB(e,t={}){let n=te.useContext(fT);Pn(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=bT("useViewTransitionState"),i=e0(e,{relative:t.relative});if(!n.isTransitioning)return!1;let a=Wa(n.currentLocation.pathname,r)||n.currentLocation.pathname,s=Wa(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Zd(i.pathname,s)!=null||Zd(i.pathname,a)!=null}[...jz];const aB=()=>{const{t:e}=tn();return O.jsx(sB,{children:O.jsx(kx,{children:O.jsxs(oB,{children:[O.jsx(t0,{to:"/",children:O.jsxs(lB,{children:[O.jsx("img",{src:"brain.svg",alt:"Machine Learning with LEGO® Bricks Logotype",className:"logo_image",width:55,height:55}),O.jsxs(uB,{children:[e("WebsiteName.ml"),O.jsx("br",{}),e("WebsiteName.with_lego")]})]})}),O.jsx(bN,{})]})})})},sB=Pe.div.withConfig({displayName:"Header__Wrapper",componentId:"sc-sdsdn0-0"})(["width:100%;position:relative;"]),oB=Pe.nav.withConfig({displayName:"Header__Row",componentId:"sc-sdsdn0-1"})(["width:100%;display:flex;align-items:center;justify-content:space-between;padding:20px 0;@media (max-width:600px){padding:10px 0;}"]),lB=Pe.div.withConfig({displayName:"Header__LogoBox",componentId:"sc-sdsdn0-2"})(["display:flex;flex-direction:row;align-items:center;column-gap:15px;margin:10px 0;"]),uB=Pe.p.withConfig({displayName:"Header__LogoText",componentId:"sc-sdsdn0-3"})(["font-family:var(--main-font);font-weight:700;font-size:24px;@media (max-width:600px){display:none;}"]);function wT(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=wT(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Bo(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=wT(e))&&(r&&(r+=" "),r+=t);return r}function cB(e){if(!e||typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.firstChild?t.insertBefore(n,t.firstChild):t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}cB(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var n0=e=>typeof e=="number"&&!isNaN(e),Wo=e=>typeof e=="string",Ga=e=>typeof e=="function",fB=e=>Wo(e)||n0(e),b2=e=>Wo(e)||Ga(e)?e:null,hB=(e,t)=>e===!1||n0(e)&&e>0?e:t,w2=e=>te.isValidElement(e)||Wo(e)||Ga(e)||n0(e);function dB(e,t,n=300){let{scrollHeight:r,style:i}=e;requestAnimationFrame(()=>{i.minHeight="initial",i.height=r+"px",i.transition=`all ${n}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(t,n)})})}function pB({enter:e,exit:t,appendPosition:n=!1,collapse:r=!0,collapseDuration:i=300}){return function({children:a,position:s,preventExitTransition:o,done:l,nodeRef:u,isIn:c,playToast:f}){let h=n?`${e}--${s}`:e,d=n?`${t}--${s}`:t,p=te.useRef(0);return te.useLayoutEffect(()=>{let v=u.current,x=h.split(" "),y=w=>{w.target===u.current&&(f(),v.removeEventListener("animationend",y),v.removeEventListener("animationcancel",y),p.current===0&&w.type!=="animationcancel"&&v.classList.remove(...x))};v.classList.add(...x),v.addEventListener("animationend",y),v.addEventListener("animationcancel",y)},[]),te.useEffect(()=>{let v=u.current,x=()=>{v.removeEventListener("animationend",x),r?dB(v,l,i):l()};c||(o?x():(p.current=1,v.className+=` ${d}`,v.addEventListener("animationend",x)))},[c]),pt.createElement(pt.Fragment,null,a)}}function O3(e,t){return{content:kT(e.content,e.props),containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,reason:e.removalReason,status:t}}function kT(e,t,n=!1){return te.isValidElement(e)&&!Wo(e.type)?te.cloneElement(e,{closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:n}):Ga(e)?e({closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:n}):e}function gB({closeToast:e,theme:t,ariaLabel:n="close"}){return pt.createElement("button",{className:`Toastify__close-button Toastify__close-button--${t}`,type:"button",onClick:r=>{r.stopPropagation(),e(!0)},"aria-label":n},pt.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},pt.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function mB({delay:e,isRunning:t,closeToast:n,type:r="default",hide:i,className:a,controlledProgress:s,progress:o,rtl:l,isIn:u,theme:c}){let f=i||s&&o===0,h={animationDuration:`${e}ms`,animationPlayState:t?"running":"paused"};s&&(h.transform=`scaleX(${o})`);let d=Bo("Toastify__progress-bar",s?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${c}`,`Toastify__progress-bar--${r}`,{"Toastify__progress-bar--rtl":l}),p=Ga(a)?a({rtl:l,type:r,defaultClassName:d}):Bo(d,a),v={[s&&o>=1?"onTransitionEnd":"onAnimationEnd"]:s&&o<1?null:()=>{u&&n()}};return pt.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":f},pt.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${c} Toastify__progress-bar--${r}`}),pt.createElement("div",{role:"progressbar","aria-hidden":f?"true":"false","aria-label":"notification timer",className:p,style:h,...v}))}var vB=1,ST=()=>`${vB++}`;function yB(e,t,n){let r=1,i=0,a=[],s=[],o=t,l=new Map,u=new Set,c=w=>(u.add(w),()=>u.delete(w)),f=()=>{s=Array.from(l.values()),u.forEach(w=>w())},h=({containerId:w,toastId:k,updateId:_})=>{let C=w?w!==e:e!==1,T=l.has(k)&&_==null;return C||T},d=(w,k)=>{l.forEach(_=>{var C;(k==null||k===_.props.toastId)&&((C=_.toggle)==null||C.call(_,w))})},p=w=>{var k,_;(_=(k=w.props)==null?void 0:k.onClose)==null||_.call(k,w.removalReason),w.isActive=!1},v=w=>{if(w==null)l.forEach(p);else{let k=l.get(w);k&&p(k)}f()},x=()=>{i-=a.length,a=[]},y=w=>{var k,_;let{toastId:C,updateId:T}=w.props,E=T==null;w.staleId&&l.delete(w.staleId),w.isActive=!0,l.set(C,w),f(),n(O3(w,E?"added":"updated")),E&&((_=(k=w.props).onOpen)==null||_.call(k))};return{id:e,props:o,observe:c,toggle:d,removeToast:v,toasts:l,clearQueue:x,buildToast:(w,k)=>{if(h(k))return;let{toastId:_,updateId:C,data:T,staleId:E,delay:A}=k,R=C==null;R&&i++;let D={...o,style:o.toastStyle,key:r++,...Object.fromEntries(Object.entries(k).filter(([z,j])=>j!=null)),toastId:_,updateId:C,data:T,isIn:!1,className:b2(k.className||o.toastClassName),progressClassName:b2(k.progressClassName||o.progressClassName),autoClose:k.isLoading?!1:hB(k.autoClose,o.autoClose),closeToast(z){l.get(_).removalReason=z,v(_)},deleteToast(){let z=l.get(_);if(z!=null){if(n(O3(z,"removed")),l.delete(_),i--,i<0&&(i=0),a.length>0){y(a.shift());return}f()}}};D.closeButton=o.closeButton,k.closeButton===!1||w2(k.closeButton)?D.closeButton=k.closeButton:k.closeButton===!0&&(D.closeButton=w2(o.closeButton)?o.closeButton:!0);let N={content:w,props:D,staleId:E};o.limit&&o.limit>0&&i>o.limit&&R?a.push(N):n0(A)?setTimeout(()=>{y(N)},A):y(N)},setProps(w){o=w},setToggle:(w,k)=>{let _=l.get(w);_&&(_.toggle=k)},isToastActive:w=>{var k;return(k=l.get(w))==null?void 0:k.isActive},getSnapshot:()=>s}}var Lr=new Map,Cf=[],k2=new Set,xB=e=>k2.forEach(t=>t(e)),_T=()=>Lr.size>0;function bB(){Cf.forEach(e=>TT(e.content,e.options)),Cf=[]}var wB=(e,{containerId:t})=>{var n;return(n=Lr.get(t||1))==null?void 0:n.toasts.get(e)};function CT(e,t){var n;if(t)return!!((n=Lr.get(t))!=null&&n.isToastActive(e));let r=!1;return Lr.forEach(i=>{i.isToastActive(e)&&(r=!0)}),r}function kB(e){if(!_T()){Cf=Cf.filter(t=>e!=null&&t.options.toastId!==e);return}if(e==null||fB(e))Lr.forEach(t=>{t.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){let t=Lr.get(e.containerId);t?t.removeToast(e.id):Lr.forEach(n=>{n.removeToast(e.id)})}}var SB=(e={})=>{Lr.forEach(t=>{t.props.limit&&(!e.containerId||t.id===e.containerId)&&t.clearQueue()})};function TT(e,t){w2(e)&&(_T()||Cf.push({content:e,options:t}),Lr.forEach(n=>{n.buildToast(e,t)}))}function _B(e){var t;(t=Lr.get(e.containerId||1))==null||t.setToggle(e.id,e.fn)}function ET(e,t){Lr.forEach(n=>{(t==null||!(t!=null&&t.containerId)||(t==null?void 0:t.containerId)===n.id)&&n.toggle(e,t==null?void 0:t.id)})}function CB(e){let t=e.containerId||1;return{subscribe(n){let r=yB(t,e,xB);Lr.set(t,r);let i=r.observe(n);return bB(),()=>{i(),Lr.delete(t)}},setProps(n){var r;(r=Lr.get(t))==null||r.setProps(n)},getSnapshot(){var n;return(n=Lr.get(t))==null?void 0:n.getSnapshot()}}}function TB(e){return k2.add(e),()=>{k2.delete(e)}}function EB(e){return e&&(Wo(e.toastId)||n0(e.toastId))?e.toastId:ST()}function r0(e,t){return TT(e,t),t.toastId}function ig(e,t){return{...t,type:t&&t.type||e,toastId:EB(t)}}function ag(e){return(t,n)=>r0(t,ig(e,n))}function It(e,t){return r0(e,ig("default",t))}It.loading=(e,t)=>r0(e,ig("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t}));function PB(e,{pending:t,error:n,success:r},i){let a;t&&(a=Wo(t)?It.loading(t,i):It.loading(t.render,{...i,...t}));let s={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},o=(u,c,f)=>{if(c==null){It.dismiss(a);return}let h={type:u,...s,...i,data:f},d=Wo(c)?{render:c}:c;return a?It.update(a,{...h,...d}):It(d.render,{...h,...d}),f},l=Ga(e)?e():e;return l.then(u=>o("success",r,u)).catch(u=>o("error",n,u)),l}It.promise=PB;It.success=ag("success");It.info=ag("info");It.error=ag("error");It.warning=ag("warning");It.warn=It.warning;It.dark=(e,t)=>r0(e,ig("default",{theme:"dark",...t}));function MB(e){kB(e)}It.dismiss=MB;It.clearWaitingQueue=SB;It.isActive=CT;It.update=(e,t={})=>{let n=wB(e,t);if(n){let{props:r,content:i}=n,a={delay:100,...r,...t,toastId:t.toastId||e,updateId:ST()};a.toastId!==e&&(a.staleId=e);let s=a.render||i;delete a.render,r0(s,a)}};It.done=e=>{It.update(e,{progress:1})};It.onChange=TB;It.play=e=>ET(!0,e);It.pause=e=>ET(!1,e);function AB(e){var t;let{subscribe:n,getSnapshot:r,setProps:i}=te.useRef(CB(e)).current;i(e);let a=(t=te.useSyncExternalStore(n,r,r))==null?void 0:t.slice();function s(o){if(!a)return[];let l=new Map;return e.newestOnTop&&a.reverse(),a.forEach(u=>{let{position:c}=u.props;l.has(c)||l.set(c,[]),l.get(c).push(u)}),Array.from(l,u=>o(u[0],u[1]))}return{getToastToRender:s,isToastActive:CT,count:a==null?void 0:a.length}}function DB(e){let[t,n]=te.useState(!1),[r,i]=te.useState(!1),a=te.useRef(null),s=te.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:o,pauseOnHover:l,closeToast:u,onClick:c,closeOnClick:f}=e;_B({id:e.toastId,containerId:e.containerId,fn:n}),te.useEffect(()=>{if(e.pauseOnFocusLoss)return h(),()=>{d()}},[e.pauseOnFocusLoss]);function h(){document.hasFocus()||y(),window.addEventListener("focus",x),window.addEventListener("blur",y)}function d(){window.removeEventListener("focus",x),window.removeEventListener("blur",y)}function p(E){if(e.draggable===!0||e.draggable===E.pointerType){w();let A=a.current;s.canCloseOnClick=!0,s.canDrag=!0,A.style.transition="none",e.draggableDirection==="x"?(s.start=E.clientX,s.removalDistance=A.offsetWidth*(e.draggablePercent/100)):(s.start=E.clientY,s.removalDistance=A.offsetHeight*(e.draggablePercent===80?e.draggablePercent*1.5:e.draggablePercent)/100)}}function v(E){let{top:A,bottom:R,left:D,right:N}=a.current.getBoundingClientRect();E.nativeEvent.type!=="touchend"&&e.pauseOnHover&&E.clientX>=D&&E.clientX<=N&&E.clientY>=A&&E.clientY<=R?y():x()}function x(){n(!0)}function y(){n(!1)}function w(){s.didMove=!1,document.addEventListener("pointermove",_),document.addEventListener("pointerup",C)}function k(){document.removeEventListener("pointermove",_),document.removeEventListener("pointerup",C)}function _(E){let A=a.current;if(s.canDrag&&A){s.didMove=!0,t&&y(),e.draggableDirection==="x"?s.delta=E.clientX-s.start:s.delta=E.clientY-s.start,s.start!==E.clientX&&(s.canCloseOnClick=!1);let R=e.draggableDirection==="x"?`${s.delta}px, var(--y)`:`0, calc(${s.delta}px + var(--y))`;A.style.transform=`translate3d(${R},0)`,A.style.opacity=`${1-Math.abs(s.delta/s.removalDistance)}`}}function C(){k();let E=a.current;if(s.canDrag&&s.didMove&&E){if(s.canDrag=!1,Math.abs(s.delta)>s.removalDistance){i(!0),e.closeToast(!0),e.collapseAll();return}E.style.transition="transform 0.2s, opacity 0.2s",E.style.removeProperty("transform"),E.style.removeProperty("opacity")}}let T={onPointerDown:p,onPointerUp:v};return o&&l&&(T.onMouseEnter=y,e.stacked||(T.onMouseLeave=x)),f&&(T.onClick=E=>{c&&c(E),s.canCloseOnClick&&u(!0)}),{playToast:x,pauseToast:y,isRunning:t,preventExitTransition:r,toastRef:a,eventHandlers:T}}var IB=typeof window<"u"?te.useLayoutEffect:te.useEffect,sg=({theme:e,type:t,isLoading:n,...r})=>pt.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${t})`,...r});function LB(e){return pt.createElement(sg,{...e},pt.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function OB(e){return pt.createElement(sg,{...e},pt.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function RB(e){return pt.createElement(sg,{...e},pt.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function NB(e){return pt.createElement(sg,{...e},pt.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function zB(){return pt.createElement("div",{className:"Toastify__spinner"})}var S2={info:OB,warning:LB,success:RB,error:NB,spinner:zB},BB=e=>e in S2;function FB({theme:e,type:t,isLoading:n,icon:r}){let i=null,a={theme:e,type:t};return r===!1||(Ga(r)?i=r({...a,isLoading:n}):te.isValidElement(r)?i=te.cloneElement(r,a):n?i=S2.spinner():BB(t)&&(i=S2[t](a))),i}var $B=e=>{let{isRunning:t,preventExitTransition:n,toastRef:r,eventHandlers:i,playToast:a}=DB(e),{closeButton:s,children:o,autoClose:l,onClick:u,type:c,hideProgressBar:f,closeToast:h,transition:d,position:p,className:v,style:x,progressClassName:y,updateId:w,role:k,progress:_,rtl:C,toastId:T,deleteToast:E,isIn:A,isLoading:R,closeOnClick:D,theme:N,ariaLabel:z}=e,j=Bo("Toastify__toast",`Toastify__toast-theme--${N}`,`Toastify__toast--${c}`,{"Toastify__toast--rtl":C},{"Toastify__toast--close-on-click":D}),V=Ga(v)?v({rtl:C,position:p,type:c,defaultClassName:j}):Bo(j,v),Y=FB(e),Z=!!_||!l,X={closeToast:h,type:c,theme:N},G=null;return s===!1||(Ga(s)?G=s(X):te.isValidElement(s)?G=te.cloneElement(s,X):G=gB(X)),pt.createElement(d,{isIn:A,done:E,position:p,preventExitTransition:n,nodeRef:r,playToast:a},pt.createElement("div",{id:T,tabIndex:0,onClick:u,"data-in":A,className:V,...i,style:x,ref:r,...A&&{role:k,"aria-label":z}},Y!=null&&pt.createElement("div",{className:Bo("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!R})},Y),kT(o,e,!t),G,!e.customProgressBar&&pt.createElement(mB,{...w&&!Z?{key:`p-${w}`}:{},rtl:C,theme:N,delay:l,isRunning:t,isIn:A,closeToast:h,hide:f,type:c,className:y,controlledProgress:Z,progress:_||0})))},jB=(e,t=!1)=>({enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:t}),qB=pB(jB("bounce",!0)),HB={position:"top-right",transition:qB,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:e=>e.altKey&&e.code==="KeyT"};function VB(e){let t={...HB,...e},n=e.stacked,[r,i]=te.useState(!0),a=te.useRef(null),{getToastToRender:s,isToastActive:o,count:l}=AB(t),{className:u,style:c,rtl:f,containerId:h,hotKeys:d}=t;function p(x){let y=Bo("Toastify__toast-container",`Toastify__toast-container--${x}`,{"Toastify__toast-container--rtl":f});return Ga(u)?u({position:x,rtl:f,defaultClassName:y}):Bo(y,b2(u))}function v(){n&&(i(!0),It.play())}return IB(()=>{var x;if(n){let y=a.current.querySelectorAll('[data-in="true"]'),w=12,k=(x=t.position)==null?void 0:x.includes("top"),_=0,C=0;Array.from(y).reverse().forEach((T,E)=>{let A=T;A.classList.add("Toastify__toast--stacked"),E>0&&(A.dataset.collapsed=`${r}`),A.dataset.pos||(A.dataset.pos=k?"top":"bot");let R=_*(r?.2:1)+(r?0:w*E);A.style.setProperty("--y",`${k?R:R*-1}px`),A.style.setProperty("--g",`${w}`),A.style.setProperty("--s",`${1-(r?C:0)}`),_+=A.offsetHeight,C+=.025})}},[r,l,n]),te.useEffect(()=>{function x(y){var w;let k=a.current;d(y)&&((w=k.querySelector('[tabIndex="0"]'))==null||w.focus(),i(!1),It.pause()),y.key==="Escape"&&(document.activeElement===k||k!=null&&k.contains(document.activeElement))&&(i(!0),It.play())}return document.addEventListener("keydown",x),()=>{document.removeEventListener("keydown",x)}},[d]),pt.createElement("section",{ref:a,className:"Toastify",id:h,onMouseEnter:()=>{n&&(i(!1),It.pause())},onMouseLeave:v,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":t["aria-label"]},s((x,y)=>{let w=y.length?{...c}:{...c,pointerEvents:"none"};return pt.createElement("div",{tabIndex:-1,className:p(x),"data-stacked":n,style:w,key:`c-${x}`},y.map(({content:k,props:_})=>pt.createElement($B,{..._,stacked:n,collapseAll:v,isIn:o(_.toastId,_.containerId),key:`t-${_.key}`},k)))}))}const R3=["http","https","mailto","tel"];function UB(e){const t=(e||"").trim(),n=t.charAt(0);if(n==="#"||n==="/")return t;const r=t.indexOf(":");if(r===-1)return t;let i=-1;for(;++i<R3.length;){const a=R3[i];if(r===a.length&&t.slice(0,a.length).toLowerCase()===a)return t}return i=t.indexOf("?"),i!==-1&&r>i||(i=t.indexOf("#"),i!==-1&&r>i)?t:"javascript:void(0)"}/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var WB=function(t){return t!=null&&t.constructor!=null&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)};const PT=el(WB);function Wc(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?N3(e.position):"start"in e||"end"in e?N3(e):"line"in e||"column"in e?_2(e):""}function _2(e){return z3(e&&e.line)+":"+z3(e&&e.column)}function N3(e){return _2(e&&e.start)+"-"+_2(e&&e.end)}function z3(e){return e&&typeof e=="number"?e:1}class Ai extends Error{constructor(t,n,r){const i=[null,null];let a={start:{line:null,column:null},end:{line:null,column:null}};if(super(),typeof n=="string"&&(r=n,n=void 0),typeof r=="string"){const s=r.indexOf(":");s===-1?i[1]=r:(i[0]=r.slice(0,s),i[1]=r.slice(s+1))}n&&("type"in n||"position"in n?n.position&&(a=n.position):"start"in n||"end"in n?a=n:("line"in n||"column"in n)&&(a.start=n)),this.name=Wc(n)||"1:1",this.message=typeof t=="object"?t.message:t,this.stack="",typeof t=="object"&&t.stack&&(this.stack=t.stack),this.reason=this.message,this.fatal,this.line=a.start.line,this.column=a.start.column,this.position=a,this.source=i[0],this.ruleId=i[1],this.file,this.actual,this.expected,this.url,this.note}}Ai.prototype.file="";Ai.prototype.name="";Ai.prototype.reason="";Ai.prototype.message="";Ai.prototype.stack="";Ai.prototype.fatal=null;Ai.prototype.column=null;Ai.prototype.line=null;Ai.prototype.source=null;Ai.prototype.ruleId=null;Ai.prototype.position=null;const ta={basename:GB,dirname:YB,extname:XB,join:KB,sep:"/"};function GB(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');i0(e);let n=0,r=-1,i=e.length,a;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.charCodeAt(i)===47){if(a){n=i+1;break}}else r<0&&(a=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let s=-1,o=t.length-1;for(;i--;)if(e.charCodeAt(i)===47){if(a){n=i+1;break}}else s<0&&(a=!0,s=i+1),o>-1&&(e.charCodeAt(i)===t.charCodeAt(o--)?o<0&&(r=i):(o=-1,r=s));return n===r?r=s:r<0&&(r=e.length),e.slice(n,r)}function YB(e){if(i0(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.charCodeAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.charCodeAt(0)===47?"/":".":t===1&&e.charCodeAt(0)===47?"//":e.slice(0,t)}function XB(e){i0(e);let t=e.length,n=-1,r=0,i=-1,a=0,s;for(;t--;){const o=e.charCodeAt(t);if(o===47){if(s){r=t+1;break}continue}n<0&&(s=!0,n=t+1),o===46?i<0?i=t:a!==1&&(a=1):i>-1&&(a=-1)}return i<0||n<0||a===0||a===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function KB(...e){let t=-1,n;for(;++t<e.length;)i0(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":QB(n)}function QB(e){i0(e);const t=e.charCodeAt(0)===47;let n=ZB(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.charCodeAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function ZB(e,t){let n="",r=0,i=-1,a=0,s=-1,o,l;for(;++s<=e.length;){if(s<e.length)o=e.charCodeAt(s);else{if(o===47)break;o=47}if(o===47){if(!(i===s-1||a===1))if(i!==s-1&&a===2){if(n.length<2||r!==2||n.charCodeAt(n.length-1)!==46||n.charCodeAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),i=s,a=0;continue}}else if(n.length>0){n="",r=0,i=s,a=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,s):n=e.slice(i+1,s),r=s-i-1;i=s,a=0}else o===46&&a>-1?a++:a=-1}return n}function i0(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const JB={cwd:eF};function eF(){return"/"}function C2(e){return e!==null&&typeof e=="object"&&e.href&&e.origin}function tF(e){if(typeof e=="string")e=new URL(e);else if(!C2(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return nF(e)}function nF(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.charCodeAt(n)===37&&t.charCodeAt(n+1)===50){const r=t.charCodeAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const sv=["history","path","basename","stem","extname","dirname"];class MT{constructor(t){let n;t?typeof t=="string"||rF(t)?n={value:t}:C2(t)?n={path:t}:n=t:n={},this.data={},this.messages=[],this.history=[],this.cwd=JB.cwd(),this.value,this.stored,this.result,this.map;let r=-1;for(;++r<sv.length;){const a=sv[r];a in n&&n[a]!==void 0&&n[a]!==null&&(this[a]=a==="history"?[...n[a]]:n[a])}let i;for(i in n)sv.includes(i)||(this[i]=n[i])}get path(){return this.history[this.history.length-1]}set path(t){C2(t)&&(t=tF(t)),lv(t,"path"),this.path!==t&&this.history.push(t)}get dirname(){return typeof this.path=="string"?ta.dirname(this.path):void 0}set dirname(t){B3(this.basename,"dirname"),this.path=ta.join(t||"",this.basename)}get basename(){return typeof this.path=="string"?ta.basename(this.path):void 0}set basename(t){lv(t,"basename"),ov(t,"basename"),this.path=ta.join(this.dirname||"",t)}get extname(){return typeof this.path=="string"?ta.extname(this.path):void 0}set extname(t){if(ov(t,"extname"),B3(this.dirname,"extname"),t){if(t.charCodeAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=ta.join(this.dirname,this.stem+(t||""))}get stem(){return typeof this.path=="string"?ta.basename(this.path,this.extname):void 0}set stem(t){lv(t,"stem"),ov(t,"stem"),this.path=ta.join(this.dirname||"",t+(this.extname||""))}toString(t){return(this.value||"").toString(t||void 0)}message(t,n,r){const i=new Ai(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=null,i}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}}function ov(e,t){if(e&&e.includes(ta.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+ta.sep+"`")}function lv(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function B3(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function rF(e){return PT(e)}function F3(e){if(e)throw e}var ld=Object.prototype.hasOwnProperty,AT=Object.prototype.toString,$3=Object.defineProperty,j3=Object.getOwnPropertyDescriptor,q3=function(t){return typeof Array.isArray=="function"?Array.isArray(t):AT.call(t)==="[object Array]"},H3=function(t){if(!t||AT.call(t)!=="[object Object]")return!1;var n=ld.call(t,"constructor"),r=t.constructor&&t.constructor.prototype&&ld.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!r)return!1;var i;for(i in t);return typeof i>"u"||ld.call(t,i)},V3=function(t,n){$3&&n.name==="__proto__"?$3(t,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):t[n.name]=n.newValue},U3=function(t,n){if(n==="__proto__")if(ld.call(t,n)){if(j3)return j3(t,n).value}else return;return t[n]},iF=function e(){var t,n,r,i,a,s,o=arguments[0],l=1,u=arguments.length,c=!1;for(typeof o=="boolean"&&(c=o,o=arguments[1]||{},l=2),(o==null||typeof o!="object"&&typeof o!="function")&&(o={});l<u;++l)if(t=arguments[l],t!=null)for(n in t)r=U3(o,n),i=U3(t,n),o!==i&&(c&&i&&(H3(i)||(a=q3(i)))?(a?(a=!1,s=r&&q3(r)?r:[]):s=r&&H3(r)?r:{},V3(o,{name:n,newValue:e(c,s,i)})):typeof i<"u"&&V3(o,{name:n,newValue:i}));return o};const W3=el(iF);function T2(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function aF(){const e=[],t={run:n,use:r};return t;function n(...i){let a=-1;const s=i.pop();if(typeof s!="function")throw new TypeError("Expected function as last argument, not "+s);o(null,...i);function o(l,...u){const c=e[++a];let f=-1;if(l){s(l);return}for(;++f<i.length;)(u[f]===null||u[f]===void 0)&&(u[f]=i[f]);i=u,c?sF(c,o)(...u):s(null,...u)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function sF(e,t){let n;return r;function r(...s){const o=e.length>s.length;let l;o&&s.push(i);try{l=e.apply(this,s)}catch(u){const c=u;if(o&&n)throw c;return i(c)}o||(l&&l.then&&typeof l.then=="function"?l.then(a,i):l instanceof Error?i(l):a(l))}function i(s,...o){n||(n=!0,t(s,...o))}function a(s){i(null,s)}}const oF=IT().freeze(),DT={}.hasOwnProperty;function IT(){const e=aF(),t=[];let n={},r,i=-1;return a.data=s,a.Parser=void 0,a.Compiler=void 0,a.freeze=o,a.attachers=t,a.use=l,a.parse=u,a.stringify=c,a.run=f,a.runSync=h,a.process=d,a.processSync=p,a;function a(){const v=IT();let x=-1;for(;++x<t.length;)v.use(...t[x]);return v.data(W3(!0,{},n)),v}function s(v,x){return typeof v=="string"?arguments.length===2?(fv("data",r),n[v]=x,a):DT.call(n,v)&&n[v]||null:v?(fv("data",r),n=v,a):n}function o(){if(r)return a;for(;++i<t.length;){const[v,...x]=t[i];if(x[0]===!1)continue;x[0]===!0&&(x[0]=void 0);const y=v.call(a,...x);typeof y=="function"&&e.use(y)}return r=!0,i=Number.POSITIVE_INFINITY,a}function l(v,...x){let y;if(fv("use",r),v!=null)if(typeof v=="function")C(v,...x);else if(typeof v=="object")Array.isArray(v)?_(v):k(v);else throw new TypeError("Expected usable value, not `"+v+"`");return y&&(n.settings=Object.assign(n.settings||{},y)),a;function w(T){if(typeof T=="function")C(T);else if(typeof T=="object")if(Array.isArray(T)){const[E,...A]=T;C(E,...A)}else k(T);else throw new TypeError("Expected usable value, not `"+T+"`")}function k(T){_(T.plugins),T.settings&&(y=Object.assign(y||{},T.settings))}function _(T){let E=-1;if(T!=null)if(Array.isArray(T))for(;++E<T.length;){const A=T[E];w(A)}else throw new TypeError("Expected a list of plugins, not `"+T+"`")}function C(T,E){let A=-1,R;for(;++A<t.length;)if(t[A][0]===T){R=t[A];break}R?(T2(R[1])&&T2(E)&&(E=W3(!0,R[1],E)),R[1]=E):t.push([...arguments])}}function u(v){a.freeze();const x=cc(v),y=a.Parser;return uv("parse",y),G3(y,"parse")?new y(String(x),x).parse():y(String(x),x)}function c(v,x){a.freeze();const y=cc(x),w=a.Compiler;return cv("stringify",w),Y3(v),G3(w,"compile")?new w(v,y).compile():w(v,y)}function f(v,x,y){if(Y3(v),a.freeze(),!y&&typeof x=="function"&&(y=x,x=void 0),!y)return new Promise(w);w(null,y);function w(k,_){e.run(v,cc(x),C);function C(T,E,A){E=E||v,T?_(T):k?k(E):y(null,E,A)}}}function h(v,x){let y,w;return a.run(v,x,k),X3("runSync","run",w),y;function k(_,C){F3(_),y=C,w=!0}}function d(v,x){if(a.freeze(),uv("process",a.Parser),cv("process",a.Compiler),!x)return new Promise(y);y(null,x);function y(w,k){const _=cc(v);a.run(a.parse(_),_,(T,E,A)=>{if(T||!E||!A)C(T);else{const R=a.stringify(E,A);R==null||(cF(R)?A.value=R:A.result=R),C(T,A)}});function C(T,E){T||!E?k(T):w?w(E):x(null,E)}}}function p(v){let x;a.freeze(),uv("processSync",a.Parser),cv("processSync",a.Compiler);const y=cc(v);return a.process(y,w),X3("processSync","process",x),y;function w(k){x=!0,F3(k)}}}function G3(e,t){return typeof e=="function"&&e.prototype&&(lF(e.prototype)||t in e.prototype)}function lF(e){let t;for(t in e)if(DT.call(e,t))return!0;return!1}function uv(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `Parser`")}function cv(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `Compiler`")}function fv(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function Y3(e){if(!T2(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function X3(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function cc(e){return uF(e)?e:new MT(e)}function uF(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function cF(e){return typeof e=="string"||PT(e)}const fF={};function hF(e,t){const n=t||fF,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return LT(e,r,i)}function LT(e,t,n){if(dF(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return K3(e.children,t,n)}return Array.isArray(e)?K3(e,t,n):""}function K3(e,t,n){const r=[];let i=-1;for(;++i<e.length;)r[i]=LT(e[i],t,n);return r.join("")}function dF(e){return!!(e&&typeof e=="object")}function pa(e,t,n,r){const i=e.length;let a=0,s;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)s=Array.from(r),s.unshift(t,n),e.splice(...s);else for(n&&e.splice(t,n);a<r.length;)s=r.slice(a,a+1e4),s.unshift(t,0),e.splice(...s),a+=1e4,t+=1e4}function ki(e,t){return e.length>0?(pa(e,e.length,0,t),e):t}const Q3={}.hasOwnProperty;function pF(e){const t={};let n=-1;for(;++n<e.length;)gF(t,e[n]);return t}function gF(e,t){let n;for(n in t){const i=(Q3.call(e,n)?e[n]:void 0)||(e[n]={}),a=t[n];let s;if(a)for(s in a){Q3.call(i,s)||(i[s]=[]);const o=a[s];mF(i[s],Array.isArray(o)?o:o?[o]:[])}}}function mF(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);pa(e,0,0,r)}const vF=/[!-\/:-@\[-`\{-~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/,la=Qs(/[A-Za-z]/),ai=Qs(/[\dA-Za-z]/),yF=Qs(/[#-'*+\--9=?A-Z^-~]/);function E2(e){return e!==null&&(e<32||e===127)}const P2=Qs(/\d/),xF=Qs(/[\dA-Fa-f]/),bF=Qs(/[!-/:-@[-`{-~]/);function ft(e){return e!==null&&e<-2}function Kr(e){return e!==null&&(e<0||e===32)}function $t(e){return e===-2||e===-1||e===32}const wF=Qs(vF),kF=Qs(/\s/);function Qs(e){return t;function t(n){return n!==null&&e.test(String.fromCharCode(n))}}function on(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let a=0;return s;function s(l){return $t(l)?(e.enter(n),o(l)):t(l)}function o(l){return $t(l)&&a++<i?(e.consume(l),o):(e.exit(n),t(l))}}const SF={tokenize:_F};function _F(e){const t=e.attempt(this.parser.constructs.contentInitial,r,i);let n;return t;function r(o){if(o===null){e.consume(o);return}return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),on(e,t,"linePrefix")}function i(o){return e.enter("paragraph"),a(o)}function a(o){const l=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,s(o)}function s(o){if(o===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(o);return}return ft(o)?(e.consume(o),e.exit("chunkText"),a):(e.consume(o),s)}}const CF={tokenize:TF},Z3={tokenize:EF};function TF(e){const t=this,n=[];let r=0,i,a,s;return o;function o(k){if(r<n.length){const _=n[r];return t.containerState=_[1],e.attempt(_[0].continuation,l,u)(k)}return u(k)}function l(k){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&w();const _=t.events.length;let C=_,T;for(;C--;)if(t.events[C][0]==="exit"&&t.events[C][1].type==="chunkFlow"){T=t.events[C][1].end;break}y(r);let E=_;for(;E<t.events.length;)t.events[E][1].end=Object.assign({},T),E++;return pa(t.events,C+1,0,t.events.slice(_)),t.events.length=E,u(k)}return o(k)}function u(k){if(r===n.length){if(!i)return h(k);if(i.currentConstruct&&i.currentConstruct.concrete)return p(k);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(Z3,c,f)(k)}function c(k){return i&&w(),y(r),h(k)}function f(k){return t.parser.lazy[t.now().line]=r!==n.length,s=t.now().offset,p(k)}function h(k){return t.containerState={},e.attempt(Z3,d,p)(k)}function d(k){return r++,n.push([t.currentConstruct,t.containerState]),h(k)}function p(k){if(k===null){i&&w(),y(0),e.consume(k);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{contentType:"flow",previous:a,_tokenizer:i}),v(k)}function v(k){if(k===null){x(e.exit("chunkFlow"),!0),y(0),e.consume(k);return}return ft(k)?(e.consume(k),x(e.exit("chunkFlow")),r=0,t.interrupt=void 0,o):(e.consume(k),v)}function x(k,_){const C=t.sliceStream(k);if(_&&C.push(null),k.previous=a,a&&(a.next=k),a=k,i.defineSkip(k.start),i.write(C),t.parser.lazy[k.start.line]){let T=i.events.length;for(;T--;)if(i.events[T][1].start.offset<s&&(!i.events[T][1].end||i.events[T][1].end.offset>s))return;const E=t.events.length;let A=E,R,D;for(;A--;)if(t.events[A][0]==="exit"&&t.events[A][1].type==="chunkFlow"){if(R){D=t.events[A][1].end;break}R=!0}for(y(r),T=E;T<t.events.length;)t.events[T][1].end=Object.assign({},D),T++;pa(t.events,A+1,0,t.events.slice(E)),t.events.length=T}}function y(k){let _=n.length;for(;_-- >k;){const C=n[_];t.containerState=C[1],C[0].exit.call(t,e)}n.length=k}function w(){i.write([null]),a=void 0,i=void 0,t.containerState._closeFlow=void 0}}function EF(e,t,n){return on(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function J3(e){if(e===null||Kr(e)||kF(e))return 1;if(wF(e))return 2}function Ax(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const a=e[i].resolveAll;a&&!r.includes(a)&&(t=a(t,n),r.push(a))}return t}const M2={name:"attention",tokenize:MF,resolveAll:PF};function PF(e,t){let n=-1,r,i,a,s,o,l,u,c;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;l=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const f=Object.assign({},e[r][1].end),h=Object.assign({},e[n][1].start);e6(f,-l),e6(h,l),s={type:l>1?"strongSequence":"emphasisSequence",start:f,end:Object.assign({},e[r][1].end)},o={type:l>1?"strongSequence":"emphasisSequence",start:Object.assign({},e[n][1].start),end:h},a={type:l>1?"strongText":"emphasisText",start:Object.assign({},e[r][1].end),end:Object.assign({},e[n][1].start)},i={type:l>1?"strong":"emphasis",start:Object.assign({},s.start),end:Object.assign({},o.end)},e[r][1].end=Object.assign({},s.start),e[n][1].start=Object.assign({},o.end),u=[],e[r][1].end.offset-e[r][1].start.offset&&(u=ki(u,[["enter",e[r][1],t],["exit",e[r][1],t]])),u=ki(u,[["enter",i,t],["enter",s,t],["exit",s,t],["enter",a,t]]),u=ki(u,Ax(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),u=ki(u,[["exit",a,t],["enter",o,t],["exit",o,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(c=2,u=ki(u,[["enter",e[n][1],t],["exit",e[n][1],t]])):c=0,pa(e,r-1,n-r+3,u),n=r+u.length-c-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function MF(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=J3(r);let a;return s;function s(l){return a=l,e.enter("attentionSequence"),o(l)}function o(l){if(l===a)return e.consume(l),o;const u=e.exit("attentionSequence"),c=J3(l),f=!c||c===2&&i||n.includes(l),h=!i||i===2&&c||n.includes(r);return u._open=!!(a===42?f:f&&(i||!h)),u._close=!!(a===42?h:h&&(c||!f)),t(l)}}function e6(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const AF={name:"autolink",tokenize:DF};function DF(e,t,n){let r=0;return i;function i(d){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(d),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),a}function a(d){return la(d)?(e.consume(d),s):u(d)}function s(d){return d===43||d===45||d===46||ai(d)?(r=1,o(d)):u(d)}function o(d){return d===58?(e.consume(d),r=0,l):(d===43||d===45||d===46||ai(d))&&r++<32?(e.consume(d),o):(r=0,u(d))}function l(d){return d===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(d),e.exit("autolinkMarker"),e.exit("autolink"),t):d===null||d===32||d===60||E2(d)?n(d):(e.consume(d),l)}function u(d){return d===64?(e.consume(d),c):yF(d)?(e.consume(d),u):n(d)}function c(d){return ai(d)?f(d):n(d)}function f(d){return d===46?(e.consume(d),r=0,c):d===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(d),e.exit("autolinkMarker"),e.exit("autolink"),t):h(d)}function h(d){if((d===45||ai(d))&&r++<63){const p=d===45?h:f;return e.consume(d),p}return n(d)}}const og={tokenize:IF,partial:!0};function IF(e,t,n){return r;function r(a){return $t(a)?on(e,i,"linePrefix")(a):i(a)}function i(a){return a===null||ft(a)?t(a):n(a)}}const OT={name:"blockQuote",tokenize:LF,continuation:{tokenize:OF},exit:RF};function LF(e,t,n){const r=this;return i;function i(s){if(s===62){const o=r.containerState;return o.open||(e.enter("blockQuote",{_container:!0}),o.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(s),e.exit("blockQuoteMarker"),a}return n(s)}function a(s){return $t(s)?(e.enter("blockQuotePrefixWhitespace"),e.consume(s),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(s))}}function OF(e,t,n){const r=this;return i;function i(s){return $t(s)?on(e,a,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s):a(s)}function a(s){return e.attempt(OT,t,n)(s)}}function RF(e){e.exit("blockQuote")}const RT={name:"characterEscape",tokenize:NF};function NF(e,t,n){return r;function r(a){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(a),e.exit("escapeMarker"),i}function i(a){return bF(a)?(e.enter("characterEscapeValue"),e.consume(a),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(a)}}const t6=document.createElement("i");function Dx(e){const t="&"+e+";";t6.innerHTML=t;const n=t6.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}const NT={name:"characterReference",tokenize:zF};function zF(e,t,n){const r=this;let i=0,a,s;return o;function o(f){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),l}function l(f){return f===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(f),e.exit("characterReferenceMarkerNumeric"),u):(e.enter("characterReferenceValue"),a=31,s=ai,c(f))}function u(f){return f===88||f===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(f),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),a=6,s=xF,c):(e.enter("characterReferenceValue"),a=7,s=P2,c(f))}function c(f){if(f===59&&i){const h=e.exit("characterReferenceValue");return s===ai&&!Dx(r.sliceSerialize(h))?n(f):(e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return s(f)&&i++<a?(e.consume(f),c):n(f)}}const n6={tokenize:FF,partial:!0},r6={name:"codeFenced",tokenize:BF,concrete:!0};function BF(e,t,n){const r=this,i={tokenize:C,partial:!0};let a=0,s=0,o;return l;function l(T){return u(T)}function u(T){const E=r.events[r.events.length-1];return a=E&&E[1].type==="linePrefix"?E[2].sliceSerialize(E[1],!0).length:0,o=T,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),c(T)}function c(T){return T===o?(s++,e.consume(T),c):s<3?n(T):(e.exit("codeFencedFenceSequence"),$t(T)?on(e,f,"whitespace")(T):f(T))}function f(T){return T===null||ft(T)?(e.exit("codeFencedFence"),r.interrupt?t(T):e.check(n6,v,_)(T)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),h(T))}function h(T){return T===null||ft(T)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),f(T)):$t(T)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),on(e,d,"whitespace")(T)):T===96&&T===o?n(T):(e.consume(T),h)}function d(T){return T===null||ft(T)?f(T):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),p(T))}function p(T){return T===null||ft(T)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),f(T)):T===96&&T===o?n(T):(e.consume(T),p)}function v(T){return e.attempt(i,_,x)(T)}function x(T){return e.enter("lineEnding"),e.consume(T),e.exit("lineEnding"),y}function y(T){return a>0&&$t(T)?on(e,w,"linePrefix",a+1)(T):w(T)}function w(T){return T===null||ft(T)?e.check(n6,v,_)(T):(e.enter("codeFlowValue"),k(T))}function k(T){return T===null||ft(T)?(e.exit("codeFlowValue"),w(T)):(e.consume(T),k)}function _(T){return e.exit("codeFenced"),t(T)}function C(T,E,A){let R=0;return D;function D(Y){return T.enter("lineEnding"),T.consume(Y),T.exit("lineEnding"),N}function N(Y){return T.enter("codeFencedFence"),$t(Y)?on(T,z,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(Y):z(Y)}function z(Y){return Y===o?(T.enter("codeFencedFenceSequence"),j(Y)):A(Y)}function j(Y){return Y===o?(R++,T.consume(Y),j):R>=s?(T.exit("codeFencedFenceSequence"),$t(Y)?on(T,V,"whitespace")(Y):V(Y)):A(Y)}function V(Y){return Y===null||ft(Y)?(T.exit("codeFencedFence"),E(Y)):A(Y)}}}function FF(e,t,n){const r=this;return i;function i(s){return s===null?n(s):(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),a)}function a(s){return r.parser.lazy[r.now().line]?n(s):t(s)}}const hv={name:"codeIndented",tokenize:jF},$F={tokenize:qF,partial:!0};function jF(e,t,n){const r=this;return i;function i(u){return e.enter("codeIndented"),on(e,a,"linePrefix",4+1)(u)}function a(u){const c=r.events[r.events.length-1];return c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?s(u):n(u)}function s(u){return u===null?l(u):ft(u)?e.attempt($F,s,l)(u):(e.enter("codeFlowValue"),o(u))}function o(u){return u===null||ft(u)?(e.exit("codeFlowValue"),s(u)):(e.consume(u),o)}function l(u){return e.exit("codeIndented"),t(u)}}function qF(e,t,n){const r=this;return i;function i(s){return r.parser.lazy[r.now().line]?n(s):ft(s)?(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),i):on(e,a,"linePrefix",4+1)(s)}function a(s){const o=r.events[r.events.length-1];return o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?t(s):ft(s)?i(s):n(s)}}const HF={name:"codeText",tokenize:WF,resolve:VF,previous:UF};function VF(e){let t=e.length-4,n=3,r,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(i=r):(r===t||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function UF(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function WF(e,t,n){let r=0,i,a;return s;function s(f){return e.enter("codeText"),e.enter("codeTextSequence"),o(f)}function o(f){return f===96?(e.consume(f),r++,o):(e.exit("codeTextSequence"),l(f))}function l(f){return f===null?n(f):f===32?(e.enter("space"),e.consume(f),e.exit("space"),l):f===96?(a=e.enter("codeTextSequence"),i=0,c(f)):ft(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),l):(e.enter("codeTextData"),u(f))}function u(f){return f===null||f===32||f===96||ft(f)?(e.exit("codeTextData"),l(f)):(e.consume(f),u)}function c(f){return f===96?(e.consume(f),i++,c):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(f)):(a.type="codeTextData",u(f))}}function zT(e){const t={};let n=-1,r,i,a,s,o,l,u;for(;++n<e.length;){for(;n in t;)n=t[n];if(r=e[n],n&&r[1].type==="chunkFlow"&&e[n-1][1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,a=0,a<l.length&&l[a][1].type==="lineEndingBlank"&&(a+=2),a<l.length&&l[a][1].type==="content"))for(;++a<l.length&&l[a][1].type!=="content";)l[a][1].type==="chunkText"&&(l[a][1]._isInFirstContentOfListItem=!0,a++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,GF(e,n)),n=t[n],u=!0);else if(r[1]._container){for(a=n,i=void 0;a--&&(s=e[a],s[1].type==="lineEnding"||s[1].type==="lineEndingBlank");)s[0]==="enter"&&(i&&(e[i][1].type="lineEndingBlank"),s[1].type="lineEnding",i=a);i&&(r[1].end=Object.assign({},e[i][1].start),o=e.slice(i,n),o.unshift(r),pa(e,i,n-i+1,o))}}return!u}function GF(e,t){const n=e[t][1],r=e[t][2];let i=t-1;const a=[],s=n._tokenizer||r.parser[n.contentType](n.start),o=s.events,l=[],u={};let c,f,h=-1,d=n,p=0,v=0;const x=[v];for(;d;){for(;e[++i][1]!==d;);a.push(i),d._tokenizer||(c=r.sliceStream(d),d.next||c.push(null),f&&s.defineSkip(d.start),d._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=!0),s.write(c),d._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=void 0)),f=d,d=d.next}for(d=n;++h<o.length;)o[h][0]==="exit"&&o[h-1][0]==="enter"&&o[h][1].type===o[h-1][1].type&&o[h][1].start.line!==o[h][1].end.line&&(v=h+1,x.push(v),d._tokenizer=void 0,d.previous=void 0,d=d.next);for(s.events=[],d?(d._tokenizer=void 0,d.previous=void 0):x.pop(),h=x.length;h--;){const y=o.slice(x[h],x[h+1]),w=a.pop();l.unshift([w,w+y.length-1]),pa(e,w,2,y)}for(h=-1;++h<l.length;)u[p+l[h][0]]=p+l[h][1],p+=l[h][1]-l[h][0]-1;return u}const YF={tokenize:QF,resolve:KF},XF={tokenize:ZF,partial:!0};function KF(e){return zT(e),e}function QF(e,t){let n;return r;function r(o){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(o)}function i(o){return o===null?a(o):ft(o)?e.check(XF,s,a)(o):(e.consume(o),i)}function a(o){return e.exit("chunkContent"),e.exit("content"),t(o)}function s(o){return e.consume(o),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function ZF(e,t,n){const r=this;return i;function i(s){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),on(e,a,"linePrefix")}function a(s){if(s===null||ft(s))return n(s);const o=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?t(s):e.interrupt(r.parser.constructs.flow,n,t)(s)}}function BT(e,t,n,r,i,a,s,o,l){const u=l||Number.POSITIVE_INFINITY;let c=0;return f;function f(y){return y===60?(e.enter(r),e.enter(i),e.enter(a),e.consume(y),e.exit(a),h):y===null||y===32||y===41||E2(y)?n(y):(e.enter(r),e.enter(s),e.enter(o),e.enter("chunkString",{contentType:"string"}),v(y))}function h(y){return y===62?(e.enter(a),e.consume(y),e.exit(a),e.exit(i),e.exit(r),t):(e.enter(o),e.enter("chunkString",{contentType:"string"}),d(y))}function d(y){return y===62?(e.exit("chunkString"),e.exit(o),h(y)):y===null||y===60||ft(y)?n(y):(e.consume(y),y===92?p:d)}function p(y){return y===60||y===62||y===92?(e.consume(y),d):d(y)}function v(y){return!c&&(y===null||y===41||Kr(y))?(e.exit("chunkString"),e.exit(o),e.exit(s),e.exit(r),t(y)):c<u&&y===40?(e.consume(y),c++,v):y===41?(e.consume(y),c--,v):y===null||y===32||y===40||E2(y)?n(y):(e.consume(y),y===92?x:v)}function x(y){return y===40||y===41||y===92?(e.consume(y),v):v(y)}}function FT(e,t,n,r,i,a){const s=this;let o=0,l;return u;function u(d){return e.enter(r),e.enter(i),e.consume(d),e.exit(i),e.enter(a),c}function c(d){return o>999||d===null||d===91||d===93&&!l||d===94&&!o&&"_hiddenFootnoteSupport"in s.parser.constructs?n(d):d===93?(e.exit(a),e.enter(i),e.consume(d),e.exit(i),e.exit(r),t):ft(d)?(e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),c):(e.enter("chunkString",{contentType:"string"}),f(d))}function f(d){return d===null||d===91||d===93||ft(d)||o++>999?(e.exit("chunkString"),c(d)):(e.consume(d),l||(l=!$t(d)),d===92?h:f)}function h(d){return d===91||d===92||d===93?(e.consume(d),o++,f):f(d)}}function $T(e,t,n,r,i,a){let s;return o;function o(h){return h===34||h===39||h===40?(e.enter(r),e.enter(i),e.consume(h),e.exit(i),s=h===40?41:h,l):n(h)}function l(h){return h===s?(e.enter(i),e.consume(h),e.exit(i),e.exit(r),t):(e.enter(a),u(h))}function u(h){return h===s?(e.exit(a),l(s)):h===null?n(h):ft(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),on(e,u,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),c(h))}function c(h){return h===s||h===null||ft(h)?(e.exit("chunkString"),u(h)):(e.consume(h),h===92?f:c)}function f(h){return h===s||h===92?(e.consume(h),c):c(h)}}function Gc(e,t){let n;return r;function r(i){return ft(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):$t(i)?on(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}function nu(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const JF={name:"definition",tokenize:t$},e$={tokenize:n$,partial:!0};function t$(e,t,n){const r=this;let i;return a;function a(d){return e.enter("definition"),s(d)}function s(d){return FT.call(r,e,o,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(d)}function o(d){return i=nu(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),d===58?(e.enter("definitionMarker"),e.consume(d),e.exit("definitionMarker"),l):n(d)}function l(d){return Kr(d)?Gc(e,u)(d):u(d)}function u(d){return BT(e,c,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(d)}function c(d){return e.attempt(e$,f,f)(d)}function f(d){return $t(d)?on(e,h,"whitespace")(d):h(d)}function h(d){return d===null||ft(d)?(e.exit("definition"),r.parser.defined.push(i),t(d)):n(d)}}function n$(e,t,n){return r;function r(o){return Kr(o)?Gc(e,i)(o):n(o)}function i(o){return $T(e,a,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(o)}function a(o){return $t(o)?on(e,s,"whitespace")(o):s(o)}function s(o){return o===null||ft(o)?t(o):n(o)}}const r$={name:"hardBreakEscape",tokenize:i$};function i$(e,t,n){return r;function r(a){return e.enter("hardBreakEscape"),e.consume(a),i}function i(a){return ft(a)?(e.exit("hardBreakEscape"),t(a)):n(a)}}const a$={name:"headingAtx",tokenize:o$,resolve:s$};function s$(e,t){let n=e.length-2,r=3,i,a;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},a={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},pa(e,r,n-r+1,[["enter",i,t],["enter",a,t],["exit",a,t],["exit",i,t]])),e}function o$(e,t,n){let r=0;return i;function i(c){return e.enter("atxHeading"),a(c)}function a(c){return e.enter("atxHeadingSequence"),s(c)}function s(c){return c===35&&r++<6?(e.consume(c),s):c===null||Kr(c)?(e.exit("atxHeadingSequence"),o(c)):n(c)}function o(c){return c===35?(e.enter("atxHeadingSequence"),l(c)):c===null||ft(c)?(e.exit("atxHeading"),t(c)):$t(c)?on(e,o,"whitespace")(c):(e.enter("atxHeadingText"),u(c))}function l(c){return c===35?(e.consume(c),l):(e.exit("atxHeadingSequence"),o(c))}function u(c){return c===null||c===35||Kr(c)?(e.exit("atxHeadingText"),o(c)):(e.consume(c),u)}}const l$=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],i6=["pre","script","style","textarea"],u$={name:"htmlFlow",tokenize:d$,resolveTo:h$,concrete:!0},c$={tokenize:g$,partial:!0},f$={tokenize:p$,partial:!0};function h$(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function d$(e,t,n){const r=this;let i,a,s,o,l;return u;function u(q){return c(q)}function c(q){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(q),f}function f(q){return q===33?(e.consume(q),h):q===47?(e.consume(q),a=!0,v):q===63?(e.consume(q),i=3,r.interrupt?t:B):la(q)?(e.consume(q),s=String.fromCharCode(q),x):n(q)}function h(q){return q===45?(e.consume(q),i=2,d):q===91?(e.consume(q),i=5,o=0,p):la(q)?(e.consume(q),i=4,r.interrupt?t:B):n(q)}function d(q){return q===45?(e.consume(q),r.interrupt?t:B):n(q)}function p(q){const he="CDATA[";return q===he.charCodeAt(o++)?(e.consume(q),o===he.length?r.interrupt?t:z:p):n(q)}function v(q){return la(q)?(e.consume(q),s=String.fromCharCode(q),x):n(q)}function x(q){if(q===null||q===47||q===62||Kr(q)){const he=q===47,de=s.toLowerCase();return!he&&!a&&i6.includes(de)?(i=1,r.interrupt?t(q):z(q)):l$.includes(s.toLowerCase())?(i=6,he?(e.consume(q),y):r.interrupt?t(q):z(q)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(q):a?w(q):k(q))}return q===45||ai(q)?(e.consume(q),s+=String.fromCharCode(q),x):n(q)}function y(q){return q===62?(e.consume(q),r.interrupt?t:z):n(q)}function w(q){return $t(q)?(e.consume(q),w):D(q)}function k(q){return q===47?(e.consume(q),D):q===58||q===95||la(q)?(e.consume(q),_):$t(q)?(e.consume(q),k):D(q)}function _(q){return q===45||q===46||q===58||q===95||ai(q)?(e.consume(q),_):C(q)}function C(q){return q===61?(e.consume(q),T):$t(q)?(e.consume(q),C):k(q)}function T(q){return q===null||q===60||q===61||q===62||q===96?n(q):q===34||q===39?(e.consume(q),l=q,E):$t(q)?(e.consume(q),T):A(q)}function E(q){return q===l?(e.consume(q),l=null,R):q===null||ft(q)?n(q):(e.consume(q),E)}function A(q){return q===null||q===34||q===39||q===47||q===60||q===61||q===62||q===96||Kr(q)?C(q):(e.consume(q),A)}function R(q){return q===47||q===62||$t(q)?k(q):n(q)}function D(q){return q===62?(e.consume(q),N):n(q)}function N(q){return q===null||ft(q)?z(q):$t(q)?(e.consume(q),N):n(q)}function z(q){return q===45&&i===2?(e.consume(q),Z):q===60&&i===1?(e.consume(q),X):q===62&&i===4?(e.consume(q),K):q===63&&i===3?(e.consume(q),B):q===93&&i===5?(e.consume(q),ee):ft(q)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(c$,J,j)(q)):q===null||ft(q)?(e.exit("htmlFlowData"),j(q)):(e.consume(q),z)}function j(q){return e.check(f$,V,J)(q)}function V(q){return e.enter("lineEnding"),e.consume(q),e.exit("lineEnding"),Y}function Y(q){return q===null||ft(q)?j(q):(e.enter("htmlFlowData"),z(q))}function Z(q){return q===45?(e.consume(q),B):z(q)}function X(q){return q===47?(e.consume(q),s="",G):z(q)}function G(q){if(q===62){const he=s.toLowerCase();return i6.includes(he)?(e.consume(q),K):z(q)}return la(q)&&s.length<8?(e.consume(q),s+=String.fromCharCode(q),G):z(q)}function ee(q){return q===93?(e.consume(q),B):z(q)}function B(q){return q===62?(e.consume(q),K):q===45&&i===2?(e.consume(q),B):z(q)}function K(q){return q===null||ft(q)?(e.exit("htmlFlowData"),J(q)):(e.consume(q),K)}function J(q){return e.exit("htmlFlow"),t(q)}}function p$(e,t,n){const r=this;return i;function i(s){return ft(s)?(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),a):n(s)}function a(s){return r.parser.lazy[r.now().line]?n(s):t(s)}}function g$(e,t,n){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(og,t,n)}}const m$={name:"htmlText",tokenize:v$};function v$(e,t,n){const r=this;let i,a,s;return o;function o(B){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(B),l}function l(B){return B===33?(e.consume(B),u):B===47?(e.consume(B),C):B===63?(e.consume(B),k):la(B)?(e.consume(B),A):n(B)}function u(B){return B===45?(e.consume(B),c):B===91?(e.consume(B),a=0,p):la(B)?(e.consume(B),w):n(B)}function c(B){return B===45?(e.consume(B),d):n(B)}function f(B){return B===null?n(B):B===45?(e.consume(B),h):ft(B)?(s=f,X(B)):(e.consume(B),f)}function h(B){return B===45?(e.consume(B),d):f(B)}function d(B){return B===62?Z(B):B===45?h(B):f(B)}function p(B){const K="CDATA[";return B===K.charCodeAt(a++)?(e.consume(B),a===K.length?v:p):n(B)}function v(B){return B===null?n(B):B===93?(e.consume(B),x):ft(B)?(s=v,X(B)):(e.consume(B),v)}function x(B){return B===93?(e.consume(B),y):v(B)}function y(B){return B===62?Z(B):B===93?(e.consume(B),y):v(B)}function w(B){return B===null||B===62?Z(B):ft(B)?(s=w,X(B)):(e.consume(B),w)}function k(B){return B===null?n(B):B===63?(e.consume(B),_):ft(B)?(s=k,X(B)):(e.consume(B),k)}function _(B){return B===62?Z(B):k(B)}function C(B){return la(B)?(e.consume(B),T):n(B)}function T(B){return B===45||ai(B)?(e.consume(B),T):E(B)}function E(B){return ft(B)?(s=E,X(B)):$t(B)?(e.consume(B),E):Z(B)}function A(B){return B===45||ai(B)?(e.consume(B),A):B===47||B===62||Kr(B)?R(B):n(B)}function R(B){return B===47?(e.consume(B),Z):B===58||B===95||la(B)?(e.consume(B),D):ft(B)?(s=R,X(B)):$t(B)?(e.consume(B),R):Z(B)}function D(B){return B===45||B===46||B===58||B===95||ai(B)?(e.consume(B),D):N(B)}function N(B){return B===61?(e.consume(B),z):ft(B)?(s=N,X(B)):$t(B)?(e.consume(B),N):R(B)}function z(B){return B===null||B===60||B===61||B===62||B===96?n(B):B===34||B===39?(e.consume(B),i=B,j):ft(B)?(s=z,X(B)):$t(B)?(e.consume(B),z):(e.consume(B),V)}function j(B){return B===i?(e.consume(B),i=void 0,Y):B===null?n(B):ft(B)?(s=j,X(B)):(e.consume(B),j)}function V(B){return B===null||B===34||B===39||B===60||B===61||B===96?n(B):B===47||B===62||Kr(B)?R(B):(e.consume(B),V)}function Y(B){return B===47||B===62||Kr(B)?R(B):n(B)}function Z(B){return B===62?(e.consume(B),e.exit("htmlTextData"),e.exit("htmlText"),t):n(B)}function X(B){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(B),e.exit("lineEnding"),G}function G(B){return $t(B)?on(e,ee,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(B):ee(B)}function ee(B){return e.enter("htmlTextData"),s(B)}}const Ix={name:"labelEnd",tokenize:S$,resolveTo:k$,resolveAll:w$},y$={tokenize:_$},x$={tokenize:C$},b$={tokenize:T$};function w$(e){let t=-1;for(;++t<e.length;){const n=e[t][1];(n.type==="labelImage"||n.type==="labelLink"||n.type==="labelEnd")&&(e.splice(t+1,n.type==="labelImage"?4:2),n.type="data",t++)}return e}function k$(e,t){let n=e.length,r=0,i,a,s,o;for(;n--;)if(i=e[n][1],a){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(s){if(e[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(a=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(s=n);const l={type:e[a][1].type==="labelLink"?"link":"image",start:Object.assign({},e[a][1].start),end:Object.assign({},e[e.length-1][1].end)},u={type:"label",start:Object.assign({},e[a][1].start),end:Object.assign({},e[s][1].end)},c={type:"labelText",start:Object.assign({},e[a+r+2][1].end),end:Object.assign({},e[s-2][1].start)};return o=[["enter",l,t],["enter",u,t]],o=ki(o,e.slice(a+1,a+r+3)),o=ki(o,[["enter",c,t]]),o=ki(o,Ax(t.parser.constructs.insideSpan.null,e.slice(a+r+4,s-3),t)),o=ki(o,[["exit",c,t],e[s-2],e[s-1],["exit",u,t]]),o=ki(o,e.slice(s+1)),o=ki(o,[["exit",l,t]]),pa(e,a,e.length,o),e}function S$(e,t,n){const r=this;let i=r.events.length,a,s;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){a=r.events[i][1];break}return o;function o(h){return a?a._inactive?f(h):(s=r.parser.defined.includes(nu(r.sliceSerialize({start:a.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(h),e.exit("labelMarker"),e.exit("labelEnd"),l):n(h)}function l(h){return h===40?e.attempt(y$,c,s?c:f)(h):h===91?e.attempt(x$,c,s?u:f)(h):s?c(h):f(h)}function u(h){return e.attempt(b$,c,f)(h)}function c(h){return t(h)}function f(h){return a._balanced=!0,n(h)}}function _$(e,t,n){return r;function r(f){return e.enter("resource"),e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),i}function i(f){return Kr(f)?Gc(e,a)(f):a(f)}function a(f){return f===41?c(f):BT(e,s,o,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(f)}function s(f){return Kr(f)?Gc(e,l)(f):c(f)}function o(f){return n(f)}function l(f){return f===34||f===39||f===40?$T(e,u,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(f):c(f)}function u(f){return Kr(f)?Gc(e,c)(f):c(f)}function c(f){return f===41?(e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),e.exit("resource"),t):n(f)}}function C$(e,t,n){const r=this;return i;function i(o){return FT.call(r,e,a,s,"reference","referenceMarker","referenceString")(o)}function a(o){return r.parser.defined.includes(nu(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(o):n(o)}function s(o){return n(o)}}function T$(e,t,n){return r;function r(a){return e.enter("reference"),e.enter("referenceMarker"),e.consume(a),e.exit("referenceMarker"),i}function i(a){return a===93?(e.enter("referenceMarker"),e.consume(a),e.exit("referenceMarker"),e.exit("reference"),t):n(a)}}const E$={name:"labelStartImage",tokenize:P$,resolveAll:Ix.resolveAll};function P$(e,t,n){const r=this;return i;function i(o){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(o),e.exit("labelImageMarker"),a}function a(o){return o===91?(e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelImage"),s):n(o)}function s(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):t(o)}}const M$={name:"labelStartLink",tokenize:A$,resolveAll:Ix.resolveAll};function A$(e,t,n){const r=this;return i;function i(s){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(s),e.exit("labelMarker"),e.exit("labelLink"),a}function a(s){return s===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(s):t(s)}}const dv={name:"lineEnding",tokenize:D$};function D$(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),on(e,t,"linePrefix")}}const ud={name:"thematicBreak",tokenize:I$};function I$(e,t,n){let r=0,i;return a;function a(u){return e.enter("thematicBreak"),s(u)}function s(u){return i=u,o(u)}function o(u){return u===i?(e.enter("thematicBreakSequence"),l(u)):r>=3&&(u===null||ft(u))?(e.exit("thematicBreak"),t(u)):n(u)}function l(u){return u===i?(e.consume(u),r++,l):(e.exit("thematicBreakSequence"),$t(u)?on(e,o,"whitespace")(u):o(u))}}const $r={name:"list",tokenize:R$,continuation:{tokenize:N$},exit:B$},L$={tokenize:F$,partial:!0},O$={tokenize:z$,partial:!0};function R$(e,t,n){const r=this,i=r.events[r.events.length-1];let a=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,s=0;return o;function o(d){const p=r.containerState.type||(d===42||d===43||d===45?"listUnordered":"listOrdered");if(p==="listUnordered"?!r.containerState.marker||d===r.containerState.marker:P2(d)){if(r.containerState.type||(r.containerState.type=p,e.enter(p,{_container:!0})),p==="listUnordered")return e.enter("listItemPrefix"),d===42||d===45?e.check(ud,n,u)(d):u(d);if(!r.interrupt||d===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),l(d)}return n(d)}function l(d){return P2(d)&&++s<10?(e.consume(d),l):(!r.interrupt||s<2)&&(r.containerState.marker?d===r.containerState.marker:d===41||d===46)?(e.exit("listItemValue"),u(d)):n(d)}function u(d){return e.enter("listItemMarker"),e.consume(d),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||d,e.check(og,r.interrupt?n:c,e.attempt(L$,h,f))}function c(d){return r.containerState.initialBlankLine=!0,a++,h(d)}function f(d){return $t(d)?(e.enter("listItemPrefixWhitespace"),e.consume(d),e.exit("listItemPrefixWhitespace"),h):n(d)}function h(d){return r.containerState.size=a+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(d)}}function N$(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(og,i,a);function i(o){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,on(e,t,"listItemIndent",r.containerState.size+1)(o)}function a(o){return r.containerState.furtherBlankLines||!$t(o)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,s(o)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(O$,t,s)(o))}function s(o){return r.containerState._closeFlow=!0,r.interrupt=void 0,on(e,e.attempt($r,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o)}}function z$(e,t,n){const r=this;return on(e,i,"listItemIndent",r.containerState.size+1);function i(a){const s=r.events[r.events.length-1];return s&&s[1].type==="listItemIndent"&&s[2].sliceSerialize(s[1],!0).length===r.containerState.size?t(a):n(a)}}function B$(e){e.exit(this.containerState.type)}function F$(e,t,n){const r=this;return on(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4+1);function i(a){const s=r.events[r.events.length-1];return!$t(a)&&s&&s[1].type==="listItemPrefixWhitespace"?t(a):n(a)}}const a6={name:"setextUnderline",tokenize:j$,resolveTo:$$};function $$(e,t){let n=e.length,r,i,a;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(i=n)}else e[n][1].type==="content"&&e.splice(n,1),!a&&e[n][1].type==="definition"&&(a=n);const s={type:"setextHeading",start:Object.assign({},e[i][1].start),end:Object.assign({},e[e.length-1][1].end)};return e[i][1].type="setextHeadingText",a?(e.splice(i,0,["enter",s,t]),e.splice(a+1,0,["exit",e[r][1],t]),e[r][1].end=Object.assign({},e[a][1].end)):e[r][1]=s,e.push(["exit",s,t]),e}function j$(e,t,n){const r=this;let i;return a;function a(u){let c=r.events.length,f;for(;c--;)if(r.events[c][1].type!=="lineEnding"&&r.events[c][1].type!=="linePrefix"&&r.events[c][1].type!=="content"){f=r.events[c][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||f)?(e.enter("setextHeadingLine"),i=u,s(u)):n(u)}function s(u){return e.enter("setextHeadingLineSequence"),o(u)}function o(u){return u===i?(e.consume(u),o):(e.exit("setextHeadingLineSequence"),$t(u)?on(e,l,"lineSuffix")(u):l(u))}function l(u){return u===null||ft(u)?(e.exit("setextHeadingLine"),t(u)):n(u)}}const q$={tokenize:H$};function H$(e){const t=this,n=e.attempt(og,r,e.attempt(this.parser.constructs.flowInitial,i,on(e,e.attempt(this.parser.constructs.flow,i,e.attempt(YF,i)),"linePrefix")));return n;function r(a){if(a===null){e.consume(a);return}return e.enter("lineEndingBlank"),e.consume(a),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function i(a){if(a===null){e.consume(a);return}return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const V$={resolveAll:qT()},U$=jT("string"),W$=jT("text");function jT(e){return{tokenize:t,resolveAll:qT(e==="text"?G$:void 0)};function t(n){const r=this,i=this.parser.constructs[e],a=n.attempt(i,s,o);return s;function s(c){return u(c)?a(c):o(c)}function o(c){if(c===null){n.consume(c);return}return n.enter("data"),n.consume(c),l}function l(c){return u(c)?(n.exit("data"),a(c)):(n.consume(c),l)}function u(c){if(c===null)return!0;const f=i[c];let h=-1;if(f)for(;++h<f.length;){const d=f[h];if(!d.previous||d.previous.call(r,r.previous))return!0}return!1}}}function qT(e){return t;function t(n,r){let i=-1,a;for(;++i<=n.length;)a===void 0?n[i]&&n[i][1].type==="data"&&(a=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==a+2&&(n[a][1].end=n[i-1][1].end,n.splice(a+2,i-a-2),i=a+2),a=void 0);return e?e(n,r):n}}function G$(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],i=t.sliceStream(r);let a=i.length,s=-1,o=0,l;for(;a--;){const u=i[a];if(typeof u=="string"){for(s=u.length;u.charCodeAt(s-1)===32;)o++,s--;if(s)break;s=-1}else if(u===-2)l=!0,o++;else if(u!==-1){a++;break}}if(o){const u={type:n===e.length||l||o<2?"lineSuffix":"hardBreakTrailing",start:{line:r.end.line,column:r.end.column-o,offset:r.end.offset-o,_index:r.start._index+a,_bufferIndex:a?s:r.start._bufferIndex+s},end:Object.assign({},r.end)};r.end=Object.assign({},u.start),r.start.offset===r.end.offset?Object.assign(r,u):(e.splice(n,0,["enter",u,t],["exit",u,t]),n+=2)}n++}return e}function Y$(e,t,n){let r=Object.assign(n?Object.assign({},n):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1});const i={},a=[];let s=[],o=[];const l={consume:w,enter:k,exit:_,attempt:E(C),check:E(T),interrupt:E(T,{interrupt:!0})},u={previous:null,code:null,containerState:{},events:[],parser:e,sliceStream:d,sliceSerialize:h,now:p,defineSkip:v,write:f};let c=t.tokenize.call(u,l);return t.resolveAll&&a.push(t),u;function f(N){return s=ki(s,N),x(),s[s.length-1]!==null?[]:(A(t,0),u.events=Ax(a,u.events,u),u.events)}function h(N,z){return K$(d(N),z)}function d(N){return X$(s,N)}function p(){const{line:N,column:z,offset:j,_index:V,_bufferIndex:Y}=r;return{line:N,column:z,offset:j,_index:V,_bufferIndex:Y}}function v(N){i[N.line]=N.column,D()}function x(){let N;for(;r._index<s.length;){const z=s[r._index];if(typeof z=="string")for(N=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===N&&r._bufferIndex<z.length;)y(z.charCodeAt(r._bufferIndex));else y(z)}}function y(N){c=c(N)}function w(N){ft(N)?(r.line++,r.column=1,r.offset+=N===-3?2:1,D()):N!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===s[r._index].length&&(r._bufferIndex=-1,r._index++)),u.previous=N}function k(N,z){const j=z||{};return j.type=N,j.start=p(),u.events.push(["enter",j,u]),o.push(j),j}function _(N){const z=o.pop();return z.end=p(),u.events.push(["exit",z,u]),z}function C(N,z){A(N,z.from)}function T(N,z){z.restore()}function E(N,z){return j;function j(V,Y,Z){let X,G,ee,B;return Array.isArray(V)?J(V):"tokenize"in V?J([V]):K(V);function K(oe){return ke;function ke(Ae){const Se=Ae!==null&&oe[Ae],ce=Ae!==null&&oe.null,ge=[...Array.isArray(Se)?Se:Se?[Se]:[],...Array.isArray(ce)?ce:ce?[ce]:[]];return J(ge)(Ae)}}function J(oe){return X=oe,G=0,oe.length===0?Z:q(oe[G])}function q(oe){return ke;function ke(Ae){return B=R(),ee=oe,oe.partial||(u.currentConstruct=oe),oe.name&&u.parser.constructs.disable.null.includes(oe.name)?de():oe.tokenize.call(z?Object.assign(Object.create(u),z):u,l,he,de)(Ae)}}function he(oe){return N(ee,B),Y}function de(oe){return B.restore(),++G<X.length?q(X[G]):Z}}}function A(N,z){N.resolveAll&&!a.includes(N)&&a.push(N),N.resolve&&pa(u.events,z,u.events.length-z,N.resolve(u.events.slice(z),u)),N.resolveTo&&(u.events=N.resolveTo(u.events,u))}function R(){const N=p(),z=u.previous,j=u.currentConstruct,V=u.events.length,Y=Array.from(o);return{restore:Z,from:V};function Z(){r=N,u.previous=z,u.currentConstruct=j,u.events.length=V,o=Y,D()}}function D(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function X$(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,a=t.end._bufferIndex;let s;if(n===i)s=[e[n].slice(r,a)];else{if(s=e.slice(n,i),r>-1){const o=s[0];typeof o=="string"?s[0]=o.slice(r):s.shift()}a>0&&s.push(e[i].slice(0,a))}return s}function K$(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const a=e[n];let s;if(typeof a=="string")s=a;else switch(a){case-5:{s="\r";break}case-4:{s=`
`;break}case-3:{s=`\r
`;break}case-2:{s=t?" ":"	";break}case-1:{if(!t&&i)continue;s=" ";break}default:s=String.fromCharCode(a)}i=a===-2,r.push(s)}return r.join("")}const Q$={42:$r,43:$r,45:$r,48:$r,49:$r,50:$r,51:$r,52:$r,53:$r,54:$r,55:$r,56:$r,57:$r,62:OT},Z$={91:JF},J$={[-2]:hv,[-1]:hv,32:hv},ej={35:a$,42:ud,45:[a6,ud],60:u$,61:a6,95:ud,96:r6,126:r6},tj={38:NT,92:RT},nj={[-5]:dv,[-4]:dv,[-3]:dv,33:E$,38:NT,42:M2,60:[AF,m$],91:M$,92:[r$,RT],93:Ix,95:M2,96:HF},rj={null:[M2,V$]},ij={null:[42,95]},aj={null:[]},sj=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:ij,contentInitial:Z$,disable:aj,document:Q$,flow:ej,flowInitial:J$,insideSpan:rj,string:tj,text:nj},Symbol.toStringTag,{value:"Module"}));function oj(e){const n=pF([sj,...(e||{}).extensions||[]]),r={defined:[],lazy:{},constructs:n,content:i(SF),document:i(CF),flow:i(q$),string:i(U$),text:i(W$)};return r;function i(a){return s;function s(o){return Y$(r,a,o)}}}const s6=/[\0\t\n\r]/g;function lj(){let e=1,t="",n=!0,r;return i;function i(a,s,o){const l=[];let u,c,f,h,d;for(a=t+a.toString(s),f=0,t="",n&&(a.charCodeAt(0)===65279&&f++,n=void 0);f<a.length;){if(s6.lastIndex=f,u=s6.exec(a),h=u&&u.index!==void 0?u.index:a.length,d=a.charCodeAt(h),!u){t=a.slice(f);break}if(d===10&&f===h&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),f<h&&(l.push(a.slice(f,h)),e+=h-f),d){case 0:{l.push(65533),e++;break}case 9:{for(c=Math.ceil(e/4)*4,l.push(-2);e++<c;)l.push(-1);break}case 10:{l.push(-4),e=1;break}default:r=!0,e=1}f=h+1}return o&&(r&&l.push(-5),t&&l.push(t),l.push(null)),l}}function uj(e){for(;!zT(e););return e}function HT(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"�":String.fromCharCode(n)}const cj=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function fj(e){return e.replace(cj,hj)}function hj(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),a=i===120||i===88;return HT(n.slice(a?2:1),a?16:10)}return Dx(n)||e}const VT={}.hasOwnProperty,dj=function(e,t,n){return typeof t!="string"&&(n=t,t=void 0),pj(n)(uj(oj(n).document().write(lj()(e,t,!0))))};function pj(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:o(Qe),autolinkProtocol:N,autolinkEmail:N,atxHeading:o(zt),blockQuote:o(ge),characterEscape:N,characterReference:N,codeFenced:o(me),codeFencedFenceInfo:l,codeFencedFenceMeta:l,codeIndented:o(me,l),codeText:o(Ee,l),codeTextData:N,data:N,codeFlowValue:N,definition:o(je),definitionDestinationString:l,definitionLabelString:l,definitionTitleString:l,emphasis:o(ct),hardBreakEscape:o(Tt),hardBreakTrailing:o(Tt),htmlFlow:o(He,l),htmlFlowData:N,htmlText:o(He,l),htmlTextData:N,image:o($e),label:l,link:o(Qe),listItem:o(Je),listItemValue:p,listOrdered:o(nt,d),listUnordered:o(nt),paragraph:o(rt),reference:de,referenceString:l,resourceDestinationString:l,resourceTitleString:l,setextHeading:o(zt),strong:o(lt),thematicBreak:o(Bt)},exit:{atxHeading:c(),atxHeadingSequence:E,autolink:c(),autolinkEmail:ce,autolinkProtocol:Se,blockQuote:c(),characterEscapeValue:z,characterReferenceMarkerHexadecimal:ke,characterReferenceMarkerNumeric:ke,characterReferenceValue:Ae,codeFenced:c(w),codeFencedFence:y,codeFencedFenceInfo:v,codeFencedFenceMeta:x,codeFlowValue:z,codeIndented:c(k),codeText:c(X),codeTextData:z,data:z,definition:c(),definitionDestinationString:T,definitionLabelString:_,definitionTitleString:C,emphasis:c(),hardBreakEscape:c(V),hardBreakTrailing:c(V),htmlFlow:c(Y),htmlFlowData:z,htmlText:c(Z),htmlTextData:z,image:c(ee),label:K,labelText:B,lineEnding:j,link:c(G),listItem:c(),listOrdered:c(),listUnordered:c(),paragraph:c(),referenceString:oe,resourceDestinationString:J,resourceTitleString:q,resource:he,setextHeading:c(D),setextHeadingLineSequence:R,setextHeadingText:A,strong:c(),thematicBreak:c()}};UT(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(be){let Te={type:"root",children:[]};const Be={stack:[Te],tokenStack:[],config:t,enter:u,exit:f,buffer:l,resume:h,setData:a,getData:s},Xe=[];let Oe=-1;for(;++Oe<be.length;)if(be[Oe][1].type==="listOrdered"||be[Oe][1].type==="listUnordered")if(be[Oe][0]==="enter")Xe.push(Oe);else{const _e=Xe.pop();Oe=i(be,_e,Oe)}for(Oe=-1;++Oe<be.length;){const _e=t[be[Oe][0]];VT.call(_e,be[Oe][1].type)&&_e[be[Oe][1].type].call(Object.assign({sliceSerialize:be[Oe][2].sliceSerialize},Be),be[Oe][1])}if(Be.tokenStack.length>0){const _e=Be.tokenStack[Be.tokenStack.length-1];(_e[1]||o6).call(Be,void 0,_e[0])}for(Te.position={start:os(be.length>0?be[0][1].start:{line:1,column:1,offset:0}),end:os(be.length>0?be[be.length-2][1].end:{line:1,column:1,offset:0})},Oe=-1;++Oe<t.transforms.length;)Te=t.transforms[Oe](Te)||Te;return Te}function i(be,Te,Be){let Xe=Te-1,Oe=-1,_e=!1,U,le,ie,xe;for(;++Xe<=Be;){const ye=be[Xe];if(ye[1].type==="listUnordered"||ye[1].type==="listOrdered"||ye[1].type==="blockQuote"?(ye[0]==="enter"?Oe++:Oe--,xe=void 0):ye[1].type==="lineEndingBlank"?ye[0]==="enter"&&(U&&!xe&&!Oe&&!ie&&(ie=Xe),xe=void 0):ye[1].type==="linePrefix"||ye[1].type==="listItemValue"||ye[1].type==="listItemMarker"||ye[1].type==="listItemPrefix"||ye[1].type==="listItemPrefixWhitespace"||(xe=void 0),!Oe&&ye[0]==="enter"&&ye[1].type==="listItemPrefix"||Oe===-1&&ye[0]==="exit"&&(ye[1].type==="listUnordered"||ye[1].type==="listOrdered")){if(U){let Ue=Xe;for(le=void 0;Ue--;){const Ce=be[Ue];if(Ce[1].type==="lineEnding"||Ce[1].type==="lineEndingBlank"){if(Ce[0]==="exit")continue;le&&(be[le][1].type="lineEndingBlank",_e=!0),Ce[1].type="lineEnding",le=Ue}else if(!(Ce[1].type==="linePrefix"||Ce[1].type==="blockQuotePrefix"||Ce[1].type==="blockQuotePrefixWhitespace"||Ce[1].type==="blockQuoteMarker"||Ce[1].type==="listItemIndent"))break}ie&&(!le||ie<le)&&(U._spread=!0),U.end=Object.assign({},le?be[le][1].start:ye[1].end),be.splice(le||Xe,0,["exit",U,ye[2]]),Xe++,Be++}ye[1].type==="listItemPrefix"&&(U={type:"listItem",_spread:!1,start:Object.assign({},ye[1].start),end:void 0},be.splice(Xe,0,["enter",U,ye[2]]),Xe++,Be++,ie=void 0,xe=!0)}}return be[Te][1]._spread=_e,Be}function a(be,Te){n[be]=Te}function s(be){return n[be]}function o(be,Te){return Be;function Be(Xe){u.call(this,be(Xe),Xe),Te&&Te.call(this,Xe)}}function l(){this.stack.push({type:"fragment",children:[]})}function u(be,Te,Be){return this.stack[this.stack.length-1].children.push(be),this.stack.push(be),this.tokenStack.push([Te,Be]),be.position={start:os(Te.start)},be}function c(be){return Te;function Te(Be){be&&be.call(this,Be),f.call(this,Be)}}function f(be,Te){const Be=this.stack.pop(),Xe=this.tokenStack.pop();if(Xe)Xe[0].type!==be.type&&(Te?Te.call(this,be,Xe[0]):(Xe[1]||o6).call(this,be,Xe[0]));else throw new Error("Cannot close `"+be.type+"` ("+Wc({start:be.start,end:be.end})+"): it’s not open");return Be.position.end=os(be.end),Be}function h(){return hF(this.stack.pop())}function d(){a("expectingFirstListItemValue",!0)}function p(be){if(s("expectingFirstListItemValue")){const Te=this.stack[this.stack.length-2];Te.start=Number.parseInt(this.sliceSerialize(be),10),a("expectingFirstListItemValue")}}function v(){const be=this.resume(),Te=this.stack[this.stack.length-1];Te.lang=be}function x(){const be=this.resume(),Te=this.stack[this.stack.length-1];Te.meta=be}function y(){s("flowCodeInside")||(this.buffer(),a("flowCodeInside",!0))}function w(){const be=this.resume(),Te=this.stack[this.stack.length-1];Te.value=be.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),a("flowCodeInside")}function k(){const be=this.resume(),Te=this.stack[this.stack.length-1];Te.value=be.replace(/(\r?\n|\r)$/g,"")}function _(be){const Te=this.resume(),Be=this.stack[this.stack.length-1];Be.label=Te,Be.identifier=nu(this.sliceSerialize(be)).toLowerCase()}function C(){const be=this.resume(),Te=this.stack[this.stack.length-1];Te.title=be}function T(){const be=this.resume(),Te=this.stack[this.stack.length-1];Te.url=be}function E(be){const Te=this.stack[this.stack.length-1];if(!Te.depth){const Be=this.sliceSerialize(be).length;Te.depth=Be}}function A(){a("setextHeadingSlurpLineEnding",!0)}function R(be){const Te=this.stack[this.stack.length-1];Te.depth=this.sliceSerialize(be).charCodeAt(0)===61?1:2}function D(){a("setextHeadingSlurpLineEnding")}function N(be){const Te=this.stack[this.stack.length-1];let Be=Te.children[Te.children.length-1];(!Be||Be.type!=="text")&&(Be=bt(),Be.position={start:os(be.start)},Te.children.push(Be)),this.stack.push(Be)}function z(be){const Te=this.stack.pop();Te.value+=this.sliceSerialize(be),Te.position.end=os(be.end)}function j(be){const Te=this.stack[this.stack.length-1];if(s("atHardBreak")){const Be=Te.children[Te.children.length-1];Be.position.end=os(be.end),a("atHardBreak");return}!s("setextHeadingSlurpLineEnding")&&t.canContainEols.includes(Te.type)&&(N.call(this,be),z.call(this,be))}function V(){a("atHardBreak",!0)}function Y(){const be=this.resume(),Te=this.stack[this.stack.length-1];Te.value=be}function Z(){const be=this.resume(),Te=this.stack[this.stack.length-1];Te.value=be}function X(){const be=this.resume(),Te=this.stack[this.stack.length-1];Te.value=be}function G(){const be=this.stack[this.stack.length-1];if(s("inReference")){const Te=s("referenceType")||"shortcut";be.type+="Reference",be.referenceType=Te,delete be.url,delete be.title}else delete be.identifier,delete be.label;a("referenceType")}function ee(){const be=this.stack[this.stack.length-1];if(s("inReference")){const Te=s("referenceType")||"shortcut";be.type+="Reference",be.referenceType=Te,delete be.url,delete be.title}else delete be.identifier,delete be.label;a("referenceType")}function B(be){const Te=this.sliceSerialize(be),Be=this.stack[this.stack.length-2];Be.label=fj(Te),Be.identifier=nu(Te).toLowerCase()}function K(){const be=this.stack[this.stack.length-1],Te=this.resume(),Be=this.stack[this.stack.length-1];if(a("inReference",!0),Be.type==="link"){const Xe=be.children;Be.children=Xe}else Be.alt=Te}function J(){const be=this.resume(),Te=this.stack[this.stack.length-1];Te.url=be}function q(){const be=this.resume(),Te=this.stack[this.stack.length-1];Te.title=be}function he(){a("inReference")}function de(){a("referenceType","collapsed")}function oe(be){const Te=this.resume(),Be=this.stack[this.stack.length-1];Be.label=Te,Be.identifier=nu(this.sliceSerialize(be)).toLowerCase(),a("referenceType","full")}function ke(be){a("characterReferenceType",be.type)}function Ae(be){const Te=this.sliceSerialize(be),Be=s("characterReferenceType");let Xe;Be?(Xe=HT(Te,Be==="characterReferenceMarkerNumeric"?10:16),a("characterReferenceType")):Xe=Dx(Te);const Oe=this.stack.pop();Oe.value+=Xe,Oe.position.end=os(be.end)}function Se(be){z.call(this,be);const Te=this.stack[this.stack.length-1];Te.url=this.sliceSerialize(be)}function ce(be){z.call(this,be);const Te=this.stack[this.stack.length-1];Te.url="mailto:"+this.sliceSerialize(be)}function ge(){return{type:"blockquote",children:[]}}function me(){return{type:"code",lang:null,meta:null,value:""}}function Ee(){return{type:"inlineCode",value:""}}function je(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function ct(){return{type:"emphasis",children:[]}}function zt(){return{type:"heading",depth:void 0,children:[]}}function Tt(){return{type:"break"}}function He(){return{type:"html",value:""}}function $e(){return{type:"image",title:null,url:"",alt:null}}function Qe(){return{type:"link",title:null,url:"",children:[]}}function nt(be){return{type:"list",ordered:be.type==="listOrdered",start:null,spread:be._spread,children:[]}}function Je(be){return{type:"listItem",spread:be._spread,checked:null,children:[]}}function rt(){return{type:"paragraph",children:[]}}function lt(){return{type:"strong",children:[]}}function bt(){return{type:"text",value:""}}function Bt(){return{type:"thematicBreak"}}}function os(e){return{line:e.line,column:e.column,offset:e.offset}}function UT(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?UT(e,r):gj(e,r)}}function gj(e,t){let n;for(n in t)if(VT.call(t,n)){if(n==="canContainEols"){const r=t[n];r&&e[n].push(...r)}else if(n==="transforms"){const r=t[n];r&&e[n].push(...r)}else if(n==="enter"||n==="exit"){const r=t[n];r&&Object.assign(e[n],r)}}}function o6(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Wc({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Wc({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Wc({start:t.start,end:t.end})+") is still open")}function mj(e){Object.assign(this,{Parser:n=>{const r=this.data("settings");return dj(n,Object.assign({},r,e,{extensions:this.data("micromarkExtensions")||[],mdastExtensions:this.data("fromMarkdownExtensions")||[]}))}})}function vj(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function yj(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function xj(e,t){const n=t.value?t.value+`
`:"",r=t.lang?t.lang.match(/^[^ \t]+(?=[ \t]|$)/):null,i={};r&&(i.className=["language-"+r]);let a={type:"element",tagName:"code",properties:i,children:[{type:"text",value:n}]};return t.meta&&(a.data={meta:t.meta}),e.patch(t,a),a=e.applyData(t,a),a={type:"element",tagName:"pre",properties:{},children:[a]},e.patch(t,a),a}function bj(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function wj(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Fu(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const a=e.charCodeAt(n);let s="";if(a===37&&ai(e.charCodeAt(n+1))&&ai(e.charCodeAt(n+2)))i=2;else if(a<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(a))||(s=String.fromCharCode(a));else if(a>55295&&a<57344){const o=e.charCodeAt(n+1);a<56320&&o>56319&&o<57344?(s=String.fromCharCode(a,o),i=1):s="�"}else s=String.fromCharCode(a);s&&(t.push(e.slice(r,n),encodeURIComponent(s)),r=n+i+1,s=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function WT(e,t){const n=String(t.identifier).toUpperCase(),r=Fu(n.toLowerCase()),i=e.footnoteOrder.indexOf(n);let a;i===-1?(e.footnoteOrder.push(n),e.footnoteCounts[n]=1,a=e.footnoteOrder.length):(e.footnoteCounts[n]++,a=i+1);const s=e.footnoteCounts[n],o={type:"element",tagName:"a",properties:{href:"#"+e.clobberPrefix+"fn-"+r,id:e.clobberPrefix+"fnref-"+r+(s>1?"-"+s:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(a)}]};e.patch(t,o);const l={type:"element",tagName:"sup",properties:{},children:[o]};return e.patch(t,l),e.applyData(t,l)}function kj(e,t){const n=e.footnoteById;let r=1;for(;r in n;)r++;const i=String(r);return n[i]={type:"footnoteDefinition",identifier:i,children:[{type:"paragraph",children:t.children}],position:t.position},WT(e,{type:"footnoteReference",identifier:i,position:t.position})}function Sj(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function _j(e,t){if(e.dangerous){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}return null}function GT(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return{type:"text",value:"!["+t.alt+r};const i=e.all(t),a=i[0];a&&a.type==="text"?a.value="["+a.value:i.unshift({type:"text",value:"["});const s=i[i.length-1];return s&&s.type==="text"?s.value+=r:i.push({type:"text",value:r}),i}function Cj(e,t){const n=e.definition(t.identifier);if(!n)return GT(e,t);const r={src:Fu(n.url||""),alt:t.alt};n.title!==null&&n.title!==void 0&&(r.title=n.title);const i={type:"element",tagName:"img",properties:r,children:[]};return e.patch(t,i),e.applyData(t,i)}function Tj(e,t){const n={src:Fu(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function Ej(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function Pj(e,t){const n=e.definition(t.identifier);if(!n)return GT(e,t);const r={href:Fu(n.url||"")};n.title!==null&&n.title!==void 0&&(r.title=n.title);const i={type:"element",tagName:"a",properties:r,children:e.all(t)};return e.patch(t,i),e.applyData(t,i)}function Mj(e,t){const n={href:Fu(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function Aj(e,t,n){const r=e.all(t),i=n?Dj(n):YT(t),a={},s=[];if(typeof t.checked=="boolean"){const c=r[0];let f;c&&c.type==="element"&&c.tagName==="p"?f=c:(f={type:"element",tagName:"p",properties:{},children:[]},r.unshift(f)),f.children.length>0&&f.children.unshift({type:"text",value:" "}),f.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),a.className=["task-list-item"]}let o=-1;for(;++o<r.length;){const c=r[o];(i||o!==0||c.type!=="element"||c.tagName!=="p")&&s.push({type:"text",value:`
`}),c.type==="element"&&c.tagName==="p"&&!i?s.push(...c.children):s.push(c)}const l=r[r.length-1];l&&(i||l.type!=="element"||l.tagName!=="p")&&s.push({type:"text",value:`
`});const u={type:"element",tagName:"li",properties:a,children:s};return e.patch(t,u),e.applyData(t,u)}function Dj(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=YT(n[r])}return t}function YT(e){const t=e.spread;return t??e.children.length>1}function Ij(e,t){const n={},r=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++i<r.length;){const s=r[i];if(s.type==="element"&&s.tagName==="li"&&s.properties&&Array.isArray(s.properties.className)&&s.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const a={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,a),e.applyData(t,a)}function Lj(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Oj(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function Rj(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const Lx=XT("start"),Ox=XT("end");function Nj(e){return{start:Lx(e),end:Ox(e)}}function XT(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};return{line:r.line||null,column:r.column||null,offset:r.offset>-1?r.offset:null}}}function zj(e,t){const n=e.all(t),r=n.shift(),i=[];if(r){const s={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],s),i.push(s)}if(n.length>0){const s={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},o=Lx(t.children[1]),l=Ox(t.children[t.children.length-1]);o.line&&l.line&&(s.position={start:o,end:l}),i.push(s)}const a={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,a),e.applyData(t,a)}function Bj(e,t,n){const r=n?n.children:void 0,a=(r?r.indexOf(t):1)===0?"th":"td",s=n&&n.type==="table"?n.align:void 0,o=s?s.length:t.children.length;let l=-1;const u=[];for(;++l<o;){const f=t.children[l],h={},d=s?s[l]:void 0;d&&(h.align=d);let p={type:"element",tagName:a,properties:h,children:[]};f&&(p.children=e.all(f),e.patch(f,p),p=e.applyData(t,p)),u.push(p)}const c={type:"element",tagName:"tr",properties:{},children:e.wrap(u,!0)};return e.patch(t,c),e.applyData(t,c)}function Fj(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const l6=9,u6=32;function $j(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),i=0;const a=[];for(;r;)a.push(c6(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return a.push(c6(t.slice(i),i>0,!1)),a.join("")}function c6(e,t,n){let r=0,i=e.length;if(t){let a=e.codePointAt(r);for(;a===l6||a===u6;)r++,a=e.codePointAt(r)}if(n){let a=e.codePointAt(i-1);for(;a===l6||a===u6;)i--,a=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}function jj(e,t){const n={type:"text",value:$j(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function qj(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const Hj={blockquote:vj,break:yj,code:xj,delete:bj,emphasis:wj,footnoteReference:WT,footnote:kj,heading:Sj,html:_j,imageReference:Cj,image:Tj,inlineCode:Ej,linkReference:Pj,link:Mj,listItem:Aj,list:Ij,paragraph:Lj,root:Oj,strong:Rj,table:zj,tableCell:Fj,tableRow:Bj,text:jj,thematicBreak:qj,toml:sh,yaml:sh,definition:sh,footnoteDefinition:sh};function sh(){return null}const KT=function(e){if(e==null)return Gj;if(typeof e=="string")return Wj(e);if(typeof e=="object")return Array.isArray(e)?Vj(e):Uj(e);if(typeof e=="function")return lg(e);throw new Error("Expected function, string, or object as test")};function Vj(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=KT(e[n]);return lg(r);function r(...i){let a=-1;for(;++a<t.length;)if(t[a].call(this,...i))return!0;return!1}}function Uj(e){return lg(t);function t(n){let r;for(r in e)if(n[r]!==e[r])return!1;return!0}}function Wj(e){return lg(t);function t(n){return n&&n.type===e}}function lg(e){return t;function t(n,...r){return!!(n&&typeof n=="object"&&"type"in n&&e.call(this,n,...r))}}function Gj(){return!0}const Yj=!0,f6=!1,Xj="skip",Kj=function(e,t,n,r){typeof t=="function"&&typeof n!="function"&&(r=n,n=t,t=null);const i=KT(t),a=r?-1:1;s(e,void 0,[])();function s(o,l,u){const c=o&&typeof o=="object"?o:{};if(typeof c.type=="string"){const h=typeof c.tagName=="string"?c.tagName:typeof c.name=="string"?c.name:void 0;Object.defineProperty(f,"name",{value:"node ("+(o.type+(h?"<"+h+">":""))+")"})}return f;function f(){let h=[],d,p,v;if((!t||i(o,l,u[u.length-1]||null))&&(h=Qj(n(o,u)),h[0]===f6))return h;if(o.children&&h[0]!==Xj)for(p=(r?o.children.length:-1)+a,v=u.concat(o);p>-1&&p<o.children.length;){if(d=s(o.children[p],p,v)(),d[0]===f6)return d;p=typeof d[1]=="number"?d[1]:p+a}return h}}};function Qj(e){return Array.isArray(e)?e:typeof e=="number"?[Yj,e]:[e]}const Rx=function(e,t,n,r){typeof t=="function"&&typeof n!="function"&&(r=n,n=t,t=null),Kj(e,t,i,r);function i(a,s){const o=s[s.length-1];return n(a,o?o.children.indexOf(a):null,o)}};function Zj(e){return!e||!e.position||!e.position.start||!e.position.start.line||!e.position.start.column||!e.position.end||!e.position.end.line||!e.position.end.column}const h6={}.hasOwnProperty;function Jj(e){const t=Object.create(null);if(!e||!e.type)throw new Error("mdast-util-definitions expected node");return Rx(e,"definition",r=>{const i=d6(r.identifier);i&&!h6.call(t,i)&&(t[i]=r)}),n;function n(r){const i=d6(r);return i&&h6.call(t,i)?t[i]:null}}function d6(e){return String(e||"").toUpperCase()}const Jd={}.hasOwnProperty;function eq(e,t){const n=t||{},r=n.allowDangerousHtml||!1,i={};return s.dangerous=r,s.clobberPrefix=n.clobberPrefix===void 0||n.clobberPrefix===null?"user-content-":n.clobberPrefix,s.footnoteLabel=n.footnoteLabel||"Footnotes",s.footnoteLabelTagName=n.footnoteLabelTagName||"h2",s.footnoteLabelProperties=n.footnoteLabelProperties||{className:["sr-only"]},s.footnoteBackLabel=n.footnoteBackLabel||"Back to content",s.unknownHandler=n.unknownHandler,s.passThrough=n.passThrough,s.handlers={...Hj,...n.handlers},s.definition=Jj(e),s.footnoteById=i,s.footnoteOrder=[],s.footnoteCounts={},s.patch=tq,s.applyData=nq,s.one=o,s.all=l,s.wrap=iq,s.augment=a,Rx(e,"footnoteDefinition",u=>{const c=String(u.identifier).toUpperCase();Jd.call(i,c)||(i[c]=u)}),s;function a(u,c){if(u&&"data"in u&&u.data){const f=u.data;f.hName&&(c.type!=="element"&&(c={type:"element",tagName:"",properties:{},children:[]}),c.tagName=f.hName),c.type==="element"&&f.hProperties&&(c.properties={...c.properties,...f.hProperties}),"children"in c&&c.children&&f.hChildren&&(c.children=f.hChildren)}if(u){const f="type"in u?u:{position:u};Zj(f)||(c.position={start:Lx(f),end:Ox(f)})}return c}function s(u,c,f,h){return Array.isArray(f)&&(h=f,f={}),a(u,{type:"element",tagName:c,properties:f||{},children:h||[]})}function o(u,c){return QT(s,u,c)}function l(u){return Nx(s,u)}}function tq(e,t){e.position&&(t.position=Nj(e))}function nq(e,t){let n=t;if(e&&e.data){const r=e.data.hName,i=e.data.hChildren,a=e.data.hProperties;typeof r=="string"&&(n.type==="element"?n.tagName=r:n={type:"element",tagName:r,properties:{},children:[]}),n.type==="element"&&a&&(n.properties={...n.properties,...a}),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function QT(e,t,n){const r=t&&t.type;if(!r)throw new Error("Expected node, got `"+t+"`");return Jd.call(e.handlers,r)?e.handlers[r](e,t,n):e.passThrough&&e.passThrough.includes(r)?"children"in t?{...t,children:Nx(e,t)}:t:e.unknownHandler?e.unknownHandler(e,t,n):rq(e,t)}function Nx(e,t){const n=[];if("children"in t){const r=t.children;let i=-1;for(;++i<r.length;){const a=QT(e,r[i],t);if(a){if(i&&r[i-1].type==="break"&&(!Array.isArray(a)&&a.type==="text"&&(a.value=a.value.replace(/^\s+/,"")),!Array.isArray(a)&&a.type==="element")){const s=a.children[0];s&&s.type==="text"&&(s.value=s.value.replace(/^\s+/,""))}Array.isArray(a)?n.push(...a):n.push(a)}}}return n}function rq(e,t){const n=t.data||{},r="value"in t&&!(Jd.call(n,"hProperties")||Jd.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:Nx(e,t)};return e.patch(t,r),e.applyData(t,r)}function iq(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function aq(e){const t=[];let n=-1;for(;++n<e.footnoteOrder.length;){const r=e.footnoteById[e.footnoteOrder[n]];if(!r)continue;const i=e.all(r),a=String(r.identifier).toUpperCase(),s=Fu(a.toLowerCase());let o=0;const l=[];for(;++o<=e.footnoteCounts[a];){const f={type:"element",tagName:"a",properties:{href:"#"+e.clobberPrefix+"fnref-"+s+(o>1?"-"+o:""),dataFootnoteBackref:!0,className:["data-footnote-backref"],ariaLabel:e.footnoteBackLabel},children:[{type:"text",value:"↩"}]};o>1&&f.children.push({type:"element",tagName:"sup",children:[{type:"text",value:String(o)}]}),l.length>0&&l.push({type:"text",value:" "}),l.push(f)}const u=i[i.length-1];if(u&&u.type==="element"&&u.tagName==="p"){const f=u.children[u.children.length-1];f&&f.type==="text"?f.value+=" ":u.children.push({type:"text",value:" "}),u.children.push(...l)}else i.push(...l);const c={type:"element",tagName:"li",properties:{id:e.clobberPrefix+"fn-"+s},children:e.wrap(i,!0)};e.patch(r,c),t.push(c)}if(t.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:e.footnoteLabelTagName,properties:{...JSON.parse(JSON.stringify(e.footnoteLabelProperties)),id:"footnote-label"},children:[{type:"text",value:e.footnoteLabel}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(t,!0)},{type:"text",value:`
`}]}}function ZT(e,t){const n=eq(e,t),r=n.one(e,null),i=aq(n);return i&&r.children.push({type:"text",value:`
`},i),Array.isArray(r)?{type:"root",children:r}:r}const sq=function(e,t){return e&&"run"in e?lq(e,t):uq(e||t)},oq=sq;function lq(e,t){return(n,r,i)=>{e.run(ZT(n,t),r,a=>{i(a)})}}function uq(e){return t=>ZT(t,e)}var JT={exports:{}},cq="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",fq=cq,hq=fq;function eE(){}function tE(){}tE.resetWarningCache=eE;var dq=function(){function e(r,i,a,s,o,l){if(l!==hq){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:tE,resetWarningCache:eE};return n.PropTypes=n,n};JT.exports=dq();var pq=JT.exports;const gt=el(pq);class a0{constructor(t,n,r){this.property=t,this.normal=n,r&&(this.space=r)}}a0.prototype.property={};a0.prototype.normal={};a0.prototype.space=null;function nE(e,t){const n={},r={};let i=-1;for(;++i<e.length;)Object.assign(n,e[i].property),Object.assign(r,e[i].normal);return new a0(n,r,t)}function A2(e){return e.toLowerCase()}class Di{constructor(t,n){this.property=t,this.attribute=n}}Di.prototype.space=null;Di.prototype.boolean=!1;Di.prototype.booleanish=!1;Di.prototype.overloadedBoolean=!1;Di.prototype.number=!1;Di.prototype.commaSeparated=!1;Di.prototype.spaceSeparated=!1;Di.prototype.commaOrSpaceSeparated=!1;Di.prototype.mustUseProperty=!1;Di.prototype.defined=!1;let gq=0;const vt=al(),Un=al(),rE=al(),Re=al(),an=al(),ru=al(),ei=al();function al(){return 2**++gq}const D2=Object.freeze(Object.defineProperty({__proto__:null,boolean:vt,booleanish:Un,commaOrSpaceSeparated:ei,commaSeparated:ru,number:Re,overloadedBoolean:rE,spaceSeparated:an},Symbol.toStringTag,{value:"Module"})),pv=Object.keys(D2);class zx extends Di{constructor(t,n,r,i){let a=-1;if(super(t,n),p6(this,"space",i),typeof r=="number")for(;++a<pv.length;){const s=pv[a];p6(this,pv[a],(r&D2[s])===D2[s])}}}zx.prototype.defined=!0;function p6(e,t,n){n&&(e[t]=n)}const mq={}.hasOwnProperty;function $u(e){const t={},n={};let r;for(r in e.properties)if(mq.call(e.properties,r)){const i=e.properties[r],a=new zx(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(a.mustUseProperty=!0),t[r]=a,n[A2(r)]=r,n[A2(a.attribute)]=r}return new a0(t,n,e.space)}const iE=$u({space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),aE=$u({space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function sE(e,t){return t in e?e[t]:t}function oE(e,t){return sE(e,t.toLowerCase())}const lE=$u({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:oE,properties:{xmlns:null,xmlnsXLink:null}}),uE=$u({transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:Un,ariaAutoComplete:null,ariaBusy:Un,ariaChecked:Un,ariaColCount:Re,ariaColIndex:Re,ariaColSpan:Re,ariaControls:an,ariaCurrent:null,ariaDescribedBy:an,ariaDetails:null,ariaDisabled:Un,ariaDropEffect:an,ariaErrorMessage:null,ariaExpanded:Un,ariaFlowTo:an,ariaGrabbed:Un,ariaHasPopup:null,ariaHidden:Un,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:an,ariaLevel:Re,ariaLive:null,ariaModal:Un,ariaMultiLine:Un,ariaMultiSelectable:Un,ariaOrientation:null,ariaOwns:an,ariaPlaceholder:null,ariaPosInSet:Re,ariaPressed:Un,ariaReadOnly:Un,ariaRelevant:null,ariaRequired:Un,ariaRoleDescription:an,ariaRowCount:Re,ariaRowIndex:Re,ariaRowSpan:Re,ariaSelected:Un,ariaSetSize:Re,ariaSort:null,ariaValueMax:Re,ariaValueMin:Re,ariaValueNow:Re,ariaValueText:null,role:null}}),vq=$u({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:oE,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:ru,acceptCharset:an,accessKey:an,action:null,allow:null,allowFullScreen:vt,allowPaymentRequest:vt,allowUserMedia:vt,alt:null,as:null,async:vt,autoCapitalize:null,autoComplete:an,autoFocus:vt,autoPlay:vt,blocking:an,capture:null,charSet:null,checked:vt,cite:null,className:an,cols:Re,colSpan:null,content:null,contentEditable:Un,controls:vt,controlsList:an,coords:Re|ru,crossOrigin:null,data:null,dateTime:null,decoding:null,default:vt,defer:vt,dir:null,dirName:null,disabled:vt,download:rE,draggable:Un,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:vt,formTarget:null,headers:an,height:Re,hidden:vt,high:Re,href:null,hrefLang:null,htmlFor:an,httpEquiv:an,id:null,imageSizes:null,imageSrcSet:null,inert:vt,inputMode:null,integrity:null,is:null,isMap:vt,itemId:null,itemProp:an,itemRef:an,itemScope:vt,itemType:an,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:vt,low:Re,manifest:null,max:null,maxLength:Re,media:null,method:null,min:null,minLength:Re,multiple:vt,muted:vt,name:null,nonce:null,noModule:vt,noValidate:vt,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:vt,optimum:Re,pattern:null,ping:an,placeholder:null,playsInline:vt,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:vt,referrerPolicy:null,rel:an,required:vt,reversed:vt,rows:Re,rowSpan:Re,sandbox:an,scope:null,scoped:vt,seamless:vt,selected:vt,shadowRootClonable:vt,shadowRootDelegatesFocus:vt,shadowRootMode:null,shape:null,size:Re,sizes:null,slot:null,span:Re,spellCheck:Un,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Re,step:null,style:null,tabIndex:Re,target:null,title:null,translate:null,type:null,typeMustMatch:vt,useMap:null,value:Un,width:Re,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:an,axis:null,background:null,bgColor:null,border:Re,borderColor:null,bottomMargin:Re,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:vt,declare:vt,event:null,face:null,frame:null,frameBorder:null,hSpace:Re,leftMargin:Re,link:null,longDesc:null,lowSrc:null,marginHeight:Re,marginWidth:Re,noResize:vt,noHref:vt,noShade:vt,noWrap:vt,object:null,profile:null,prompt:null,rev:null,rightMargin:Re,rules:null,scheme:null,scrolling:Un,standby:null,summary:null,text:null,topMargin:Re,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Re,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:vt,disableRemotePlayback:vt,prefix:null,property:null,results:Re,security:null,unselectable:null}}),yq=$u({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:sE,properties:{about:ei,accentHeight:Re,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Re,amplitude:Re,arabicForm:null,ascent:Re,attributeName:null,attributeType:null,azimuth:Re,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Re,by:null,calcMode:null,capHeight:Re,className:an,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Re,diffuseConstant:Re,direction:null,display:null,dur:null,divisor:Re,dominantBaseline:null,download:vt,dx:null,dy:null,edgeMode:null,editable:null,elevation:Re,enableBackground:null,end:null,event:null,exponent:Re,externalResourcesRequired:null,fill:null,fillOpacity:Re,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:ru,g2:ru,glyphName:ru,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Re,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Re,horizOriginX:Re,horizOriginY:Re,id:null,ideographic:Re,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Re,k:Re,k1:Re,k2:Re,k3:Re,k4:Re,kernelMatrix:ei,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Re,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Re,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Re,overlineThickness:Re,paintOrder:null,panose1:null,path:null,pathLength:Re,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:an,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Re,pointsAtY:Re,pointsAtZ:Re,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:ei,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:ei,rev:ei,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:ei,requiredFeatures:ei,requiredFonts:ei,requiredFormats:ei,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Re,specularExponent:Re,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Re,strikethroughThickness:Re,string:null,stroke:null,strokeDashArray:ei,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Re,strokeOpacity:Re,strokeWidth:null,style:null,surfaceScale:Re,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:ei,tabIndex:Re,tableValues:null,target:null,targetX:Re,targetY:Re,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:ei,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Re,underlineThickness:Re,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Re,values:null,vAlphabetic:Re,vMathematical:Re,vectorEffect:null,vHanging:Re,vIdeographic:Re,version:null,vertAdvY:Re,vertOriginX:Re,vertOriginY:Re,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Re,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),xq=/^data[-\w.:]+$/i,g6=/-[a-z]/g,bq=/[A-Z]/g;function wq(e,t){const n=A2(t);let r=t,i=Di;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&xq.test(t)){if(t.charAt(4)==="-"){const a=t.slice(5).replace(g6,Sq);r="data"+a.charAt(0).toUpperCase()+a.slice(1)}else{const a=t.slice(4);if(!g6.test(a)){let s=a.replace(bq,kq);s.charAt(0)!=="-"&&(s="-"+s),t="data"+s}}i=zx}return new i(r,t)}function kq(e){return"-"+e.toLowerCase()}function Sq(e){return e.charAt(1).toUpperCase()}const m6={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},_q=nE([aE,iE,lE,uE,vq],"html"),Cq=nE([aE,iE,lE,uE,yq],"svg");function Tq(e){if(e.allowedElements&&e.disallowedElements)throw new TypeError("Only one of `allowedElements` and `disallowedElements` should be defined");if(e.allowedElements||e.disallowedElements||e.allowElement)return t=>{Rx(t,"element",(n,r,i)=>{const a=i;let s;if(e.allowedElements?s=!e.allowedElements.includes(n.tagName):e.disallowedElements&&(s=e.disallowedElements.includes(n.tagName)),!s&&e.allowElement&&typeof r=="number"&&(s=!e.allowElement(n,r,a)),s&&typeof r=="number")return e.unwrapDisallowed&&n.children?a.children.splice(r,1,...n.children):a.children.splice(r,1),r})}}var cE={exports:{}},Yt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bx=Symbol.for("react.element"),Fx=Symbol.for("react.portal"),ug=Symbol.for("react.fragment"),cg=Symbol.for("react.strict_mode"),fg=Symbol.for("react.profiler"),hg=Symbol.for("react.provider"),dg=Symbol.for("react.context"),Eq=Symbol.for("react.server_context"),pg=Symbol.for("react.forward_ref"),gg=Symbol.for("react.suspense"),mg=Symbol.for("react.suspense_list"),vg=Symbol.for("react.memo"),yg=Symbol.for("react.lazy"),Pq=Symbol.for("react.offscreen"),fE;fE=Symbol.for("react.module.reference");function Ii(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Bx:switch(e=e.type,e){case ug:case fg:case cg:case gg:case mg:return e;default:switch(e=e&&e.$$typeof,e){case Eq:case dg:case pg:case yg:case vg:case hg:return e;default:return t}}case Fx:return t}}}Yt.ContextConsumer=dg;Yt.ContextProvider=hg;Yt.Element=Bx;Yt.ForwardRef=pg;Yt.Fragment=ug;Yt.Lazy=yg;Yt.Memo=vg;Yt.Portal=Fx;Yt.Profiler=fg;Yt.StrictMode=cg;Yt.Suspense=gg;Yt.SuspenseList=mg;Yt.isAsyncMode=function(){return!1};Yt.isConcurrentMode=function(){return!1};Yt.isContextConsumer=function(e){return Ii(e)===dg};Yt.isContextProvider=function(e){return Ii(e)===hg};Yt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Bx};Yt.isForwardRef=function(e){return Ii(e)===pg};Yt.isFragment=function(e){return Ii(e)===ug};Yt.isLazy=function(e){return Ii(e)===yg};Yt.isMemo=function(e){return Ii(e)===vg};Yt.isPortal=function(e){return Ii(e)===Fx};Yt.isProfiler=function(e){return Ii(e)===fg};Yt.isStrictMode=function(e){return Ii(e)===cg};Yt.isSuspense=function(e){return Ii(e)===gg};Yt.isSuspenseList=function(e){return Ii(e)===mg};Yt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===ug||e===fg||e===cg||e===gg||e===mg||e===Pq||typeof e=="object"&&e!==null&&(e.$$typeof===yg||e.$$typeof===vg||e.$$typeof===hg||e.$$typeof===dg||e.$$typeof===pg||e.$$typeof===fE||e.getModuleId!==void 0)};Yt.typeOf=Ii;cE.exports=Yt;var Mq=cE.exports;const Aq=el(Mq);function Dq(e){const t=e&&typeof e=="object"&&e.type==="text"?e.value||"":e;return typeof t=="string"&&t.replace(/[ \t\n\f\r]/g,"")===""}function Iq(e){return e.join(" ").trim()}function Lq(e,t){const n=t||{};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}var $x={exports:{}},v6=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,Oq=/\n/g,Rq=/^\s*/,Nq=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,zq=/^:\s*/,Bq=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,Fq=/^[;\s]*/,$q=/^\s+|\s+$/g,jq=`
`,y6="/",x6="*",So="",qq="comment",Hq="declaration",Vq=function(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,r=1;function i(p){var v=p.match(Oq);v&&(n+=v.length);var x=p.lastIndexOf(jq);r=~x?p.length-x:r+p.length}function a(){var p={line:n,column:r};return function(v){return v.position=new s(p),u(),v}}function s(p){this.start=p,this.end={line:n,column:r},this.source=t.source}s.prototype.content=e;function o(p){var v=new Error(t.source+":"+n+":"+r+": "+p);if(v.reason=p,v.filename=t.source,v.line=n,v.column=r,v.source=e,!t.silent)throw v}function l(p){var v=p.exec(e);if(v){var x=v[0];return i(x),e=e.slice(x.length),v}}function u(){l(Rq)}function c(p){var v;for(p=p||[];v=f();)v!==!1&&p.push(v);return p}function f(){var p=a();if(!(y6!=e.charAt(0)||x6!=e.charAt(1))){for(var v=2;So!=e.charAt(v)&&(x6!=e.charAt(v)||y6!=e.charAt(v+1));)++v;if(v+=2,So===e.charAt(v-1))return o("End of comment missing");var x=e.slice(2,v-2);return r+=2,i(x),e=e.slice(v),r+=2,p({type:qq,comment:x})}}function h(){var p=a(),v=l(Nq);if(v){if(f(),!l(zq))return o("property missing ':'");var x=l(Bq),y=p({type:Hq,property:b6(v[0].replace(v6,So)),value:x?b6(x[0].replace(v6,So)):So});return l(Fq),y}}function d(){var p=[];c(p);for(var v;v=h();)v!==!1&&(p.push(v),c(p));return p}return u(),d()};function b6(e){return e?e.replace($q,So):So}var Uq=Vq;function hE(e,t){var n=null;if(!e||typeof e!="string")return n;for(var r,i=Uq(e),a=typeof t=="function",s,o,l=0,u=i.length;l<u;l++)r=i[l],s=r.property,o=r.value,a?t(s,o,r):o&&(n||(n={}),n[s]=o);return n}$x.exports=hE;$x.exports.default=hE;var Wq=$x.exports;const Gq=el(Wq),I2={}.hasOwnProperty,Yq=new Set(["table","thead","tbody","tfoot","tr"]);function dE(e,t){const n=[];let r=-1,i;for(;++r<t.children.length;)i=t.children[r],i.type==="element"?n.push(Xq(e,i,r,t)):i.type==="text"?(t.type!=="element"||!Yq.has(t.tagName)||!Dq(i))&&n.push(i.value):i.type==="raw"&&!e.options.skipHtml&&n.push(i.value);return n}function Xq(e,t,n,r){const i=e.options,a=i.transformLinkUri===void 0?UB:i.transformLinkUri,s=e.schema,o=t.tagName,l={};let u=s,c;if(s.space==="html"&&o==="svg"&&(u=Cq,e.schema=u),t.properties)for(c in t.properties)I2.call(t.properties,c)&&Qq(l,c,t.properties[c],e);(o==="ol"||o==="ul")&&e.listDepth++;const f=dE(e,t);(o==="ol"||o==="ul")&&e.listDepth--,e.schema=s;const h=t.position||{start:{line:null,column:null,offset:null},end:{line:null,column:null,offset:null}},d=i.components&&I2.call(i.components,o)?i.components[o]:o,p=typeof d=="string"||d===pt.Fragment;if(!Aq.isValidElementType(d))throw new TypeError(`Component for name \`${o}\` not defined or is not renderable`);if(l.key=[o,h.start.line,h.start.column,n].join("-"),o==="a"&&i.linkTarget&&(l.target=typeof i.linkTarget=="function"?i.linkTarget(String(l.href||""),t.children,typeof l.title=="string"?l.title:null):i.linkTarget),o==="a"&&a&&(l.href=a(String(l.href||""),t.children,typeof l.title=="string"?l.title:null)),!p&&o==="code"&&r.type==="element"&&r.tagName!=="pre"&&(l.inline=!0),!p&&(o==="h1"||o==="h2"||o==="h3"||o==="h4"||o==="h5"||o==="h6")&&(l.level=Number.parseInt(o.charAt(1),10)),o==="img"&&i.transformImageUri&&(l.src=i.transformImageUri(String(l.src||""),String(l.alt||""),typeof l.title=="string"?l.title:null)),!p&&o==="li"&&r.type==="element"){const v=Kq(t);l.checked=v&&v.properties?!!v.properties.checked:null,l.index=gv(r,t),l.ordered=r.tagName==="ol"}return!p&&(o==="ol"||o==="ul")&&(l.ordered=o==="ol",l.depth=e.listDepth),(o==="td"||o==="th")&&(l.align&&(l.style||(l.style={}),l.style.textAlign=l.align,delete l.align),p||(l.isHeader=o==="th")),!p&&o==="tr"&&r.type==="element"&&(l.isHeader=r.tagName==="thead"),i.sourcePos&&(l["data-sourcepos"]=eH(h)),!p&&i.rawSourcePos&&(l.sourcePosition=t.position),!p&&i.includeElementIndex&&(l.index=gv(r,t),l.siblingCount=gv(r)),p||(l.node=t),f.length>0?pt.createElement(d,l,f):pt.createElement(d,l)}function Kq(e){let t=-1;for(;++t<e.children.length;){const n=e.children[t];if(n.type==="element"&&n.tagName==="input")return n}return null}function gv(e,t){let n=-1,r=0;for(;++n<e.children.length&&e.children[n]!==t;)e.children[n].type==="element"&&r++;return r}function Qq(e,t,n,r){const i=wq(r.schema,t);let a=n;a==null||a!==a||(Array.isArray(a)&&(a=i.commaSeparated?Lq(a):Iq(a)),i.property==="style"&&typeof a=="string"&&(a=Zq(a)),i.space&&i.property?e[I2.call(m6,i.property)?m6[i.property]:i.property]=a:i.attribute&&(e[i.attribute]=a))}function Zq(e){const t={};try{Gq(e,n)}catch{}return t;function n(r,i){const a=r.slice(0,4)==="-ms-"?`ms-${r.slice(4)}`:r;t[a.replace(/-([a-z])/g,Jq)]=i}}function Jq(e,t){return t.toUpperCase()}function eH(e){return[e.start.line,":",e.start.column,"-",e.end.line,":",e.end.column].map(String).join("")}const w6={}.hasOwnProperty,tH="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",oh={plugins:{to:"remarkPlugins",id:"change-plugins-to-remarkplugins"},renderers:{to:"components",id:"change-renderers-to-components"},astPlugins:{id:"remove-buggy-html-in-markdown-parser"},allowDangerousHtml:{id:"remove-buggy-html-in-markdown-parser"},escapeHtml:{id:"remove-buggy-html-in-markdown-parser"},source:{to:"children",id:"change-source-to-children"},allowNode:{to:"allowElement",id:"replace-allownode-allowedtypes-and-disallowedtypes"},allowedTypes:{to:"allowedElements",id:"replace-allownode-allowedtypes-and-disallowedtypes"},disallowedTypes:{to:"disallowedElements",id:"replace-allownode-allowedtypes-and-disallowedtypes"},includeNodeIndex:{to:"includeElementIndex",id:"change-includenodeindex-to-includeelementindex"}};function jx(e){for(const a in oh)if(w6.call(oh,a)&&w6.call(e,a)){const s=oh[a];console.warn(`[react-markdown] Warning: please ${s.to?`use \`${s.to}\` instead of`:"remove"} \`${a}\` (see <${tH}#${s.id}> for more info)`),delete oh[a]}const t=oF().use(mj).use(e.remarkPlugins||[]).use(oq,{...e.remarkRehypeOptions,allowDangerousHtml:!0}).use(e.rehypePlugins||[]).use(Tq,e),n=new MT;typeof e.children=="string"?n.value=e.children:e.children!==void 0&&e.children!==null&&console.warn(`[react-markdown] Warning: please pass a string as \`children\` (not: \`${e.children}\`)`);const r=t.runSync(t.parse(n),n);if(r.type!=="root")throw new TypeError("Expected a `root` node");let i=pt.createElement(pt.Fragment,{},dE({options:e,schema:_q,listDepth:0},r));return e.className&&(i=pt.createElement("div",{className:e.className},i)),i}jx.propTypes={children:gt.string,className:gt.string,allowElement:gt.func,allowedElements:gt.arrayOf(gt.string),disallowedElements:gt.arrayOf(gt.string),unwrapDisallowed:gt.bool,remarkPlugins:gt.arrayOf(gt.oneOfType([gt.object,gt.func,gt.arrayOf(gt.oneOfType([gt.bool,gt.string,gt.object,gt.func,gt.arrayOf(gt.any)]))])),rehypePlugins:gt.arrayOf(gt.oneOfType([gt.object,gt.func,gt.arrayOf(gt.oneOfType([gt.bool,gt.string,gt.object,gt.func,gt.arrayOf(gt.any)]))])),sourcePos:gt.bool,rawSourcePos:gt.bool,skipHtml:gt.bool,includeElementIndex:gt.bool,transformLinkUri:gt.oneOfType([gt.func,gt.bool]),linkTarget:gt.oneOfType([gt.func,gt.string]),transformImageUri:gt.func,components:gt.object};function k6(e,t){const n=String(e);if(typeof t!="string")throw new TypeError("Expected character");let r=0,i=n.indexOf(t);for(;i!==-1;)r++,i=n.indexOf(t,i+t.length);return r}const nH=pE(/\p{P}|\p{S}/u),rH=pE(/\s/);function pE(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function iH(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}const qx=function(e){if(e==null)return lH;if(typeof e=="function")return xg(e);if(typeof e=="object")return Array.isArray(e)?aH(e):sH(e);if(typeof e=="string")return oH(e);throw new Error("Expected function, string, or object as test")};function aH(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=qx(e[n]);return xg(r);function r(...i){let a=-1;for(;++a<t.length;)if(t[a].apply(this,i))return!0;return!1}}function sH(e){const t=e;return xg(n);function n(r){const i=r;let a;for(a in e)if(i[a]!==t[a])return!1;return!0}}function oH(e){return xg(t);function t(n){return n&&n.type===e}}function xg(e){return t;function t(n,r,i){return!!(uH(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function lH(){return!0}function uH(e){return e!==null&&typeof e=="object"&&"type"in e}const gE=[],cH=!0,S6=!1,fH="skip";function hH(e,t,n,r){let i;typeof t=="function"&&typeof n!="function"?(r=n,n=t):i=t;const a=qx(i),s=r?-1:1;o(e,void 0,[])();function o(l,u,c){const f=l&&typeof l=="object"?l:{};if(typeof f.type=="string"){const d=typeof f.tagName=="string"?f.tagName:typeof f.name=="string"?f.name:void 0;Object.defineProperty(h,"name",{value:"node ("+(l.type+(d?"<"+d+">":""))+")"})}return h;function h(){let d=gE,p,v,x;if((!t||a(l,u,c[c.length-1]||void 0))&&(d=dH(n(l,c)),d[0]===S6))return d;if("children"in l&&l.children){const y=l;if(y.children&&d[0]!==fH)for(v=(r?y.children.length:-1)+s,x=c.concat(y);v>-1&&v<y.children.length;){const w=y.children[v];if(p=o(w,v,x)(),p[0]===S6)return p;v=typeof p[1]=="number"?p[1]:v+s}}return d}}}function dH(e){return Array.isArray(e)?e:typeof e=="number"?[cH,e]:e==null?gE:[e]}function pH(e,t,n){const i=qx((n||{}).ignore||[]),a=gH(t);let s=-1;for(;++s<a.length;)hH(e,"text",o);function o(u,c){let f=-1,h;for(;++f<c.length;){const d=c[f],p=h?h.children:void 0;if(i(d,p?p.indexOf(d):void 0,h))return;h=d}if(h)return l(u,c)}function l(u,c){const f=c[c.length-1],h=a[s][0],d=a[s][1];let p=0;const x=f.children.indexOf(u);let y=!1,w=[];h.lastIndex=0;let k=h.exec(u.value);for(;k;){const _=k.index,C={index:k.index,input:k.input,stack:[...c,u]};let T=d(...k,C);if(typeof T=="string"&&(T=T.length>0?{type:"text",value:T}:void 0),T===!1?h.lastIndex=_+1:(p!==_&&w.push({type:"text",value:u.value.slice(p,_)}),Array.isArray(T)?w.push(...T):T&&w.push(T),p=_+k[0].length,y=!0),!h.global)break;k=h.exec(u.value)}return y?(p<u.value.length&&w.push({type:"text",value:u.value.slice(p)}),f.children.splice(x,1,...w)):w=[u],x+w.length}}function gH(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!e[0]||Array.isArray(e[0])?e:[e];let r=-1;for(;++r<n.length;){const i=n[r];t.push([mH(i[0]),vH(i[1])])}return t}function mH(e){return typeof e=="string"?new RegExp(iH(e),"g"):e}function vH(e){return typeof e=="function"?e:function(){return e}}const mv="phrasing",vv=["autolink","link","image","label"];function yH(){return{transforms:[CH],enter:{literalAutolink:bH,literalAutolinkEmail:yv,literalAutolinkHttp:yv,literalAutolinkWww:yv},exit:{literalAutolink:_H,literalAutolinkEmail:SH,literalAutolinkHttp:wH,literalAutolinkWww:kH}}}function xH(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:mv,notInConstruct:vv},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:mv,notInConstruct:vv},{character:":",before:"[ps]",after:"\\/",inConstruct:mv,notInConstruct:vv}]}}function bH(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function yv(e){this.config.enter.autolinkProtocol.call(this,e)}function wH(e){this.config.exit.autolinkProtocol.call(this,e)}function kH(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function SH(e){this.config.exit.autolinkEmail.call(this,e)}function _H(e){this.exit(e)}function CH(e){pH(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,TH],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),EH]],{ignore:["link","linkReference"]})}function TH(e,t,n,r,i){let a="";if(!mE(i)||(/^w/i.test(t)&&(n=t+n,t="",a="http://"),!PH(n)))return!1;const s=MH(n+r);if(!s[0])return!1;const o={type:"link",title:null,url:a+t+s[0],children:[{type:"text",value:t+s[0]}]};return s[1]?[o,{type:"text",value:s[1]}]:o}function EH(e,t,n,r){return!mE(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function PH(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function MH(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],r=n.indexOf(")");const i=k6(e,"(");let a=k6(e,")");for(;r!==-1&&i>a;)e+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),a++;return[e,n]}function mE(e,t){const n=e.input.charCodeAt(e.index-1);return(e.index===0||rH(n)||nH(n))&&(!t||n!==47)}function vE(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}yE.peek=BH;function AH(){this.buffer()}function DH(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function IH(){this.buffer()}function LH(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function OH(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=vE(this.sliceSerialize(e)).toLowerCase(),n.label=t}function RH(e){this.exit(e)}function NH(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=vE(this.sliceSerialize(e)).toLowerCase(),n.label=t}function zH(e){this.exit(e)}function BH(){return"["}function yE(e,t,n,r){const i=n.createTracker(r);let a=i.move("[^");const s=n.enter("footnoteReference"),o=n.enter("reference");return a+=i.move(n.safe(n.associationId(e),{after:"]",before:a})),o(),s(),a+=i.move("]"),a}function FH(){return{enter:{gfmFootnoteCallString:AH,gfmFootnoteCall:DH,gfmFootnoteDefinitionLabelString:IH,gfmFootnoteDefinition:LH},exit:{gfmFootnoteCallString:OH,gfmFootnoteCall:RH,gfmFootnoteDefinitionLabelString:NH,gfmFootnoteDefinition:zH}}}function $H(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:n,footnoteReference:yE},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,i,a,s){const o=a.createTracker(s);let l=o.move("[^");const u=a.enter("footnoteDefinition"),c=a.enter("label");return l+=o.move(a.safe(a.associationId(r),{before:l,after:"]"})),c(),l+=o.move("]:"),r.children&&r.children.length>0&&(o.shift(4),l+=o.move((t?`
`:" ")+a.indentLines(a.containerFlow(r,o.current()),t?xE:jH))),u(),l}}function jH(e,t,n){return t===0?e:xE(e,t,n)}function xE(e,t,n){return(n?"":"    ")+e}const qH=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];bE.peek=GH;function HH(){return{canContainEols:["delete"],enter:{strikethrough:UH},exit:{strikethrough:WH}}}function VH(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:qH}],handlers:{delete:bE}}}function UH(e){this.enter({type:"delete",children:[]},e)}function WH(e){this.exit(e)}function bE(e,t,n,r){const i=n.createTracker(r),a=n.enter("strikethrough");let s=i.move("~~");return s+=n.containerPhrasing(e,{...i.current(),before:s,after:"~"}),s+=i.move("~~"),a(),s}function GH(){return"~"}function YH(e){return e.length}function XH(e,t){const n=t||{},r=(n.align||[]).concat(),i=n.stringLength||YH,a=[],s=[],o=[],l=[];let u=0,c=-1;for(;++c<e.length;){const v=[],x=[];let y=-1;for(e[c].length>u&&(u=e[c].length);++y<e[c].length;){const w=KH(e[c][y]);if(n.alignDelimiters!==!1){const k=i(w);x[y]=k,(l[y]===void 0||k>l[y])&&(l[y]=k)}v.push(w)}s[c]=v,o[c]=x}let f=-1;if(typeof r=="object"&&"length"in r)for(;++f<u;)a[f]=_6(r[f]);else{const v=_6(r);for(;++f<u;)a[f]=v}f=-1;const h=[],d=[];for(;++f<u;){const v=a[f];let x="",y="";v===99?(x=":",y=":"):v===108?x=":":v===114&&(y=":");let w=n.alignDelimiters===!1?1:Math.max(1,l[f]-x.length-y.length);const k=x+"-".repeat(w)+y;n.alignDelimiters!==!1&&(w=x.length+w+y.length,w>l[f]&&(l[f]=w),d[f]=w),h[f]=k}s.splice(1,0,h),o.splice(1,0,d),c=-1;const p=[];for(;++c<s.length;){const v=s[c],x=o[c];f=-1;const y=[];for(;++f<u;){const w=v[f]||"";let k="",_="";if(n.alignDelimiters!==!1){const C=l[f]-(x[f]||0),T=a[f];T===114?k=" ".repeat(C):T===99?C%2?(k=" ".repeat(C/2+.5),_=" ".repeat(C/2-.5)):(k=" ".repeat(C/2),_=k):_=" ".repeat(C)}n.delimiterStart!==!1&&!f&&y.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&w==="")&&(n.delimiterStart!==!1||f)&&y.push(" "),n.alignDelimiters!==!1&&y.push(k),y.push(w),n.alignDelimiters!==!1&&y.push(_),n.padding!==!1&&y.push(" "),(n.delimiterEnd!==!1||f!==u-1)&&y.push("|")}p.push(n.delimiterEnd===!1?y.join("").replace(/ +$/,""):y.join(""))}return p.join(`
`)}function KH(e){return e==null?"":String(e)}function _6(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}function QH(e,t,n,r){const i=n.enter("blockquote"),a=n.createTracker(r);a.move("> "),a.shift(2);const s=n.indentLines(n.containerFlow(e,a.current()),ZH);return i(),s}function ZH(e,t,n){return">"+(n?"":" ")+e}function JH(e,t){return C6(e,t.inConstruct,!0)&&!C6(e,t.notInConstruct,!1)}function C6(e,t,n){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return n;let r=-1;for(;++r<t.length;)if(e.includes(t[r]))return!0;return!1}function T6(e,t,n,r){let i=-1;for(;++i<n.unsafe.length;)if(n.unsafe[i].character===`
`&&JH(n.stack,n.unsafe[i]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function eV(e,t){const n=String(e);let r=n.indexOf(t),i=r,a=0,s=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===i?++a>s&&(s=a):a=1,i=r+t.length,r=n.indexOf(t,i);return s}function tV(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function nV(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function rV(e,t,n,r){const i=nV(n),a=e.value||"",s=i==="`"?"GraveAccent":"Tilde";if(tV(e,n)){const f=n.enter("codeIndented"),h=n.indentLines(a,iV);return f(),h}const o=n.createTracker(r),l=i.repeat(Math.max(eV(a,i)+1,3)),u=n.enter("codeFenced");let c=o.move(l);if(e.lang){const f=n.enter(`codeFencedLang${s}`);c+=o.move(n.safe(e.lang,{before:c,after:" ",encode:["`"],...o.current()})),f()}if(e.lang&&e.meta){const f=n.enter(`codeFencedMeta${s}`);c+=o.move(" "),c+=o.move(n.safe(e.meta,{before:c,after:`
`,encode:["`"],...o.current()})),f()}return c+=o.move(`
`),a&&(c+=o.move(a+`
`)),c+=o.move(l),u(),c}function iV(e,t,n){return(n?"":"    ")+e}function Hx(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function aV(e,t,n,r){const i=Hx(n),a=i==='"'?"Quote":"Apostrophe",s=n.enter("definition");let o=n.enter("label");const l=n.createTracker(r);let u=l.move("[");return u+=l.move(n.safe(n.associationId(e),{before:u,after:"]",...l.current()})),u+=l.move("]: "),o(),!e.url||/[\0- \u007F]/.test(e.url)?(o=n.enter("destinationLiteral"),u+=l.move("<"),u+=l.move(n.safe(e.url,{before:u,after:">",...l.current()})),u+=l.move(">")):(o=n.enter("destinationRaw"),u+=l.move(n.safe(e.url,{before:u,after:e.title?" ":`
`,...l.current()}))),o(),e.title&&(o=n.enter(`title${a}`),u+=l.move(" "+i),u+=l.move(n.safe(e.title,{before:u,after:i,...l.current()})),u+=l.move(i),o()),s(),u}function sV(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function Tf(e){return"&#x"+e.toString(16).toUpperCase()+";"}function oV(e){return e!==null&&(e<0||e===32)}const lV=wE(/\p{P}|\p{S}/u),uV=wE(/\s/);function wE(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function E6(e){if(e===null||oV(e)||uV(e))return 1;if(lV(e))return 2}function ep(e,t,n){const r=E6(e),i=E6(t);return r===void 0?i===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}kE.peek=cV;function kE(e,t,n,r){const i=sV(n),a=n.enter("emphasis"),s=n.createTracker(r),o=s.move(i);let l=s.move(n.containerPhrasing(e,{after:i,before:o,...s.current()}));const u=l.charCodeAt(0),c=ep(r.before.charCodeAt(r.before.length-1),u,i);c.inside&&(l=Tf(u)+l.slice(1));const f=l.charCodeAt(l.length-1),h=ep(r.after.charCodeAt(0),f,i);h.inside&&(l=l.slice(0,-1)+Tf(f));const d=s.move(i);return a(),n.attentionEncodeSurroundingInfo={after:h.outside,before:c.outside},o+l+d}function cV(e,t,n){return n.options.emphasis||"*"}const SE=function(e){if(e==null)return pV;if(typeof e=="function")return bg(e);if(typeof e=="object")return Array.isArray(e)?fV(e):hV(e);if(typeof e=="string")return dV(e);throw new Error("Expected function, string, or object as test")};function fV(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=SE(e[n]);return bg(r);function r(...i){let a=-1;for(;++a<t.length;)if(t[a].apply(this,i))return!0;return!1}}function hV(e){const t=e;return bg(n);function n(r){const i=r;let a;for(a in e)if(i[a]!==t[a])return!1;return!0}}function dV(e){return bg(t);function t(n){return n&&n.type===e}}function bg(e){return t;function t(n,r,i){return!!(gV(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function pV(){return!0}function gV(e){return e!==null&&typeof e=="object"&&"type"in e}const _E=[],mV=!0,L2=!1,vV="skip";function yV(e,t,n,r){let i;typeof t=="function"&&typeof n!="function"?(r=n,n=t):i=t;const a=SE(i),s=r?-1:1;o(e,void 0,[])();function o(l,u,c){const f=l&&typeof l=="object"?l:{};if(typeof f.type=="string"){const d=typeof f.tagName=="string"?f.tagName:typeof f.name=="string"?f.name:void 0;Object.defineProperty(h,"name",{value:"node ("+(l.type+(d?"<"+d+">":""))+")"})}return h;function h(){let d=_E,p,v,x;if((!t||a(l,u,c[c.length-1]||void 0))&&(d=xV(n(l,c)),d[0]===L2))return d;if("children"in l&&l.children){const y=l;if(y.children&&d[0]!==vV)for(v=(r?y.children.length:-1)+s,x=c.concat(y);v>-1&&v<y.children.length;){const w=y.children[v];if(p=o(w,v,x)(),p[0]===L2)return p;v=typeof p[1]=="number"?p[1]:v+s}}return d}}}function xV(e){return Array.isArray(e)?e:typeof e=="number"?[mV,e]:e==null?_E:[e]}function bV(e,t,n,r){let i,a,s;typeof t=="function"&&typeof n!="function"?(a=void 0,s=t,i=n):(a=t,s=n,i=r),yV(e,a,o,i);function o(l,u){const c=u[u.length-1],f=c?c.children.indexOf(l):void 0;return s(l,f,c)}}const wV={};function CE(e,t){const n=t||wV,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return TE(e,r,i)}function TE(e,t,n){if(kV(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return P6(e.children,t,n)}return Array.isArray(e)?P6(e,t,n):""}function P6(e,t,n){const r=[];let i=-1;for(;++i<e.length;)r[i]=TE(e[i],t,n);return r.join("")}function kV(e){return!!(e&&typeof e=="object")}function SV(e,t){let n=!1;return bV(e,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,L2}),!!((!e.depth||e.depth<3)&&CE(e)&&(t.options.setext||n))}function _V(e,t,n,r){const i=Math.max(Math.min(6,e.depth||1),1),a=n.createTracker(r);if(SV(e,n)){const c=n.enter("headingSetext"),f=n.enter("phrasing"),h=n.containerPhrasing(e,{...a.current(),before:`
`,after:`
`});return f(),c(),h+`
`+(i===1?"=":"-").repeat(h.length-(Math.max(h.lastIndexOf("\r"),h.lastIndexOf(`
`))+1))}const s="#".repeat(i),o=n.enter("headingAtx"),l=n.enter("phrasing");a.move(s+" ");let u=n.containerPhrasing(e,{before:"# ",after:`
`,...a.current()});return/^[\t ]/.test(u)&&(u=Tf(u.charCodeAt(0))+u.slice(1)),u=u?s+" "+u:s,n.options.closeAtx&&(u+=" "+s),l(),o(),u}EE.peek=CV;function EE(e){return e.value||""}function CV(){return"<"}PE.peek=TV;function PE(e,t,n,r){const i=Hx(n),a=i==='"'?"Quote":"Apostrophe",s=n.enter("image");let o=n.enter("label");const l=n.createTracker(r);let u=l.move("![");return u+=l.move(n.safe(e.alt,{before:u,after:"]",...l.current()})),u+=l.move("]("),o(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(o=n.enter("destinationLiteral"),u+=l.move("<"),u+=l.move(n.safe(e.url,{before:u,after:">",...l.current()})),u+=l.move(">")):(o=n.enter("destinationRaw"),u+=l.move(n.safe(e.url,{before:u,after:e.title?" ":")",...l.current()}))),o(),e.title&&(o=n.enter(`title${a}`),u+=l.move(" "+i),u+=l.move(n.safe(e.title,{before:u,after:i,...l.current()})),u+=l.move(i),o()),u+=l.move(")"),s(),u}function TV(){return"!"}ME.peek=EV;function ME(e,t,n,r){const i=e.referenceType,a=n.enter("imageReference");let s=n.enter("label");const o=n.createTracker(r);let l=o.move("![");const u=n.safe(e.alt,{before:l,after:"]",...o.current()});l+=o.move(u+"]["),s();const c=n.stack;n.stack=[],s=n.enter("reference");const f=n.safe(n.associationId(e),{before:l,after:"]",...o.current()});return s(),n.stack=c,a(),i==="full"||!u||u!==f?l+=o.move(f+"]"):i==="shortcut"?l=l.slice(0,-1):l+=o.move("]"),l}function EV(){return"!"}AE.peek=PV;function AE(e,t,n){let r=e.value||"",i="`",a=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++a<n.unsafe.length;){const s=n.unsafe[a],o=n.compilePattern(s);let l;if(s.atBreak)for(;l=o.exec(r);){let u=l.index;r.charCodeAt(u)===10&&r.charCodeAt(u-1)===13&&u--,r=r.slice(0,u)+" "+r.slice(l.index+1)}}return i+r+i}function PV(){return"`"}function DE(e,t){const n=CE(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}IE.peek=MV;function IE(e,t,n,r){const i=Hx(n),a=i==='"'?"Quote":"Apostrophe",s=n.createTracker(r);let o,l;if(DE(e,n)){const c=n.stack;n.stack=[],o=n.enter("autolink");let f=s.move("<");return f+=s.move(n.containerPhrasing(e,{before:f,after:">",...s.current()})),f+=s.move(">"),o(),n.stack=c,f}o=n.enter("link"),l=n.enter("label");let u=s.move("[");return u+=s.move(n.containerPhrasing(e,{before:u,after:"](",...s.current()})),u+=s.move("]("),l(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(l=n.enter("destinationLiteral"),u+=s.move("<"),u+=s.move(n.safe(e.url,{before:u,after:">",...s.current()})),u+=s.move(">")):(l=n.enter("destinationRaw"),u+=s.move(n.safe(e.url,{before:u,after:e.title?" ":")",...s.current()}))),l(),e.title&&(l=n.enter(`title${a}`),u+=s.move(" "+i),u+=s.move(n.safe(e.title,{before:u,after:i,...s.current()})),u+=s.move(i),l()),u+=s.move(")"),o(),u}function MV(e,t,n){return DE(e,n)?"<":"["}LE.peek=AV;function LE(e,t,n,r){const i=e.referenceType,a=n.enter("linkReference");let s=n.enter("label");const o=n.createTracker(r);let l=o.move("[");const u=n.containerPhrasing(e,{before:l,after:"]",...o.current()});l+=o.move(u+"]["),s();const c=n.stack;n.stack=[],s=n.enter("reference");const f=n.safe(n.associationId(e),{before:l,after:"]",...o.current()});return s(),n.stack=c,a(),i==="full"||!u||u!==f?l+=o.move(f+"]"):i==="shortcut"?l=l.slice(0,-1):l+=o.move("]"),l}function AV(){return"["}function Vx(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function DV(e){const t=Vx(e),n=e.options.bulletOther;if(!n)return t==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}function IV(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function OE(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function LV(e,t,n,r){const i=n.enter("list"),a=n.bulletCurrent;let s=e.ordered?IV(n):Vx(n);const o=e.ordered?s==="."?")":".":DV(n);let l=t&&n.bulletLastUsed?s===n.bulletLastUsed:!1;if(!e.ordered){const c=e.children?e.children[0]:void 0;if((s==="*"||s==="-")&&c&&(!c.children||!c.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(l=!0),OE(n)===s&&c){let f=-1;for(;++f<e.children.length;){const h=e.children[f];if(h&&h.type==="listItem"&&h.children&&h.children[0]&&h.children[0].type==="thematicBreak"){l=!0;break}}}}l&&(s=o),n.bulletCurrent=s;const u=n.containerFlow(e,r);return n.bulletLastUsed=s,n.bulletCurrent=a,i(),u}function OV(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function RV(e,t,n,r){const i=OV(n);let a=n.bulletCurrent||Vx(n);t&&t.type==="list"&&t.ordered&&(a=(typeof t.start=="number"&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+a);let s=a.length+1;(i==="tab"||i==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(s=Math.ceil(s/4)*4);const o=n.createTracker(r);o.move(a+" ".repeat(s-a.length)),o.shift(s);const l=n.enter("listItem"),u=n.indentLines(n.containerFlow(e,o.current()),c);return l(),u;function c(f,h,d){return h?(d?"":" ".repeat(s))+f:(d?a:a+" ".repeat(s-a.length))+f}}function NV(e,t,n,r){const i=n.enter("paragraph"),a=n.enter("phrasing"),s=n.containerPhrasing(e,r);return a(),i(),s}const RE=function(e){if(e==null)return $V;if(typeof e=="function")return wg(e);if(typeof e=="object")return Array.isArray(e)?zV(e):BV(e);if(typeof e=="string")return FV(e);throw new Error("Expected function, string, or object as test")};function zV(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=RE(e[n]);return wg(r);function r(...i){let a=-1;for(;++a<t.length;)if(t[a].apply(this,i))return!0;return!1}}function BV(e){const t=e;return wg(n);function n(r){const i=r;let a;for(a in e)if(i[a]!==t[a])return!1;return!0}}function FV(e){return wg(t);function t(n){return n&&n.type===e}}function wg(e){return t;function t(n,r,i){return!!(jV(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function $V(){return!0}function jV(e){return e!==null&&typeof e=="object"&&"type"in e}const qV=RE(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function HV(e,t,n,r){return(e.children.some(function(s){return qV(s)})?n.containerPhrasing:n.containerFlow).call(n,e,r)}function VV(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}NE.peek=UV;function NE(e,t,n,r){const i=VV(n),a=n.enter("strong"),s=n.createTracker(r),o=s.move(i+i);let l=s.move(n.containerPhrasing(e,{after:i,before:o,...s.current()}));const u=l.charCodeAt(0),c=ep(r.before.charCodeAt(r.before.length-1),u,i);c.inside&&(l=Tf(u)+l.slice(1));const f=l.charCodeAt(l.length-1),h=ep(r.after.charCodeAt(0),f,i);h.inside&&(l=l.slice(0,-1)+Tf(f));const d=s.move(i+i);return a(),n.attentionEncodeSurroundingInfo={after:h.outside,before:c.outside},o+l+d}function UV(e,t,n){return n.options.strong||"*"}function WV(e,t,n,r){return n.safe(e.value,r)}function GV(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function YV(e,t,n){const r=(OE(n)+(n.options.ruleSpaces?" ":"")).repeat(GV(n));return n.options.ruleSpaces?r.slice(0,-1):r}const zE={blockquote:QH,break:T6,code:rV,definition:aV,emphasis:kE,hardBreak:T6,heading:_V,html:EE,image:PE,imageReference:ME,inlineCode:AE,link:IE,linkReference:LE,list:LV,listItem:RV,paragraph:NV,root:HV,strong:NE,text:WV,thematicBreak:YV};function XV(){return{enter:{table:KV,tableData:M6,tableHeader:M6,tableRow:ZV},exit:{codeText:JV,table:QV,tableData:xv,tableHeader:xv,tableRow:xv}}}function KV(e){const t=e._align;this.enter({type:"table",align:t.map(function(n){return n==="none"?null:n}),children:[]},e),this.data.inTable=!0}function QV(e){this.exit(e),this.data.inTable=void 0}function ZV(e){this.enter({type:"tableRow",children:[]},e)}function xv(e){this.exit(e)}function M6(e){this.enter({type:"tableCell",children:[]},e)}function JV(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,eU));const n=this.stack[this.stack.length-1];n.type,n.value=t,this.exit(e)}function eU(e,t){return t==="|"?t:e}function tU(e){const t=e||{},n=t.tableCellPadding,r=t.tablePipeAlign,i=t.stringLength,a=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:h,table:s,tableCell:l,tableRow:o}};function s(d,p,v,x){return u(c(d,v,x),d.align)}function o(d,p,v,x){const y=f(d,v,x),w=u([y]);return w.slice(0,w.indexOf(`
`))}function l(d,p,v,x){const y=v.enter("tableCell"),w=v.enter("phrasing"),k=v.containerPhrasing(d,{...x,before:a,after:a});return w(),y(),k}function u(d,p){return XH(d,{align:p,alignDelimiters:r,padding:n,stringLength:i})}function c(d,p,v){const x=d.children;let y=-1;const w=[],k=p.enter("table");for(;++y<x.length;)w[y]=f(x[y],p,v);return k(),w}function f(d,p,v){const x=d.children;let y=-1;const w=[],k=p.enter("tableRow");for(;++y<x.length;)w[y]=l(x[y],d,p,v);return k(),w}function h(d,p,v){let x=zE.inlineCode(d,p,v);return v.stack.includes("tableCell")&&(x=x.replace(/\|/g,"\\$&")),x}}function nU(){return{exit:{taskListCheckValueChecked:A6,taskListCheckValueUnchecked:A6,paragraph:iU}}}function rU(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:aU}}}function A6(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function iU(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const i=t.children;let a=-1,s;for(;++a<i.length;){const o=i[a];if(o.type==="paragraph"){s=o;break}}s===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(e)}function aU(e,t,n,r){const i=e.children[0],a=typeof e.checked=="boolean"&&i&&i.type==="paragraph",s="["+(e.checked?"x":" ")+"] ",o=n.createTracker(r);a&&o.move(s);let l=zE.listItem(e,t,n,{...r,...o.current()});return a&&(l=l.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,u)),l;function u(c){return c+s}}function sU(){return[yH(),FH(),HH(),XV(),nU()]}function oU(e){return{extensions:[xH(),$H(e),VH(),tU(e),rU()]}}function lU(e,t,n,r){const i=e.length;let a=0,s;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)s=Array.from(r),s.unshift(t,n),e.splice(...s);else for(n&&e.splice(t,n);a<r.length;)s=r.slice(a,a+1e4),s.unshift(t,0),e.splice(...s),a+=1e4,t+=1e4}const D6={}.hasOwnProperty;function uU(e){const t={};let n=-1;for(;++n<e.length;)cU(t,e[n]);return t}function cU(e,t){let n;for(n in t){const i=(D6.call(e,n)?e[n]:void 0)||(e[n]={}),a=t[n];let s;if(a)for(s in a){D6.call(i,s)||(i[s]=[]);const o=a[s];fU(i[s],Array.isArray(o)?o:o?[o]:[])}}}function fU(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);lU(e,0,0,r)}const Ef=kg(/[A-Za-z]/),Ux=kg(/[\dA-Za-z]/);function hU(e){return e!==null&&(e<32||e===127)}function _u(e){return e!==null&&(e<0||e===32)}const BE=kg(/\p{P}|\p{S}/u),Pf=kg(/\s/);function kg(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}const dU={tokenize:xU,partial:!0},FE={tokenize:bU,partial:!0},$E={tokenize:wU,partial:!0},jE={tokenize:kU,partial:!0},pU={tokenize:SU,partial:!0},qE={name:"wwwAutolink",tokenize:vU,previous:VE},HE={name:"protocolAutolink",tokenize:yU,previous:UE},es={name:"emailAutolink",tokenize:mU,previous:WE},va={};function gU(){return{text:va}}let lo=48;for(;lo<123;)va[lo]=es,lo++,lo===58?lo=65:lo===91&&(lo=97);va[43]=es;va[45]=es;va[46]=es;va[95]=es;va[72]=[es,HE];va[104]=[es,HE];va[87]=[es,qE];va[119]=[es,qE];function mU(e,t,n){const r=this;let i,a;return s;function s(f){return!O2(f)||!WE.call(r,r.previous)||Wx(r.events)?n(f):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),o(f))}function o(f){return O2(f)?(e.consume(f),o):f===64?(e.consume(f),l):n(f)}function l(f){return f===46?e.check(pU,c,u)(f):f===45||f===95||Ux(f)?(a=!0,e.consume(f),l):c(f)}function u(f){return e.consume(f),i=!0,l}function c(f){return a&&i&&Ef(r.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(f)):n(f)}}function vU(e,t,n){const r=this;return i;function i(s){return s!==87&&s!==119||!VE.call(r,r.previous)||Wx(r.events)?n(s):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(dU,e.attempt(FE,e.attempt($E,a),n),n)(s))}function a(s){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(s)}}function yU(e,t,n){const r=this;let i="",a=!1;return s;function s(f){return(f===72||f===104)&&UE.call(r,r.previous)&&!Wx(r.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),i+=String.fromCodePoint(f),e.consume(f),o):n(f)}function o(f){if(Ef(f)&&i.length<5)return i+=String.fromCodePoint(f),e.consume(f),o;if(f===58){const h=i.toLowerCase();if(h==="http"||h==="https")return e.consume(f),l}return n(f)}function l(f){return f===47?(e.consume(f),a?u:(a=!0,l)):n(f)}function u(f){return f===null||hU(f)||_u(f)||Pf(f)||BE(f)?n(f):e.attempt(FE,e.attempt($E,c),n)(f)}function c(f){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(f)}}function xU(e,t,n){let r=0;return i;function i(s){return(s===87||s===119)&&r<3?(r++,e.consume(s),i):s===46&&r===3?(e.consume(s),a):n(s)}function a(s){return s===null?n(s):t(s)}}function bU(e,t,n){let r,i,a;return s;function s(u){return u===46||u===95?e.check(jE,l,o)(u):u===null||_u(u)||Pf(u)||u!==45&&BE(u)?l(u):(a=!0,e.consume(u),s)}function o(u){return u===95?r=!0:(i=r,r=void 0),e.consume(u),s}function l(u){return i||r||!a?n(u):t(u)}}function wU(e,t){let n=0,r=0;return i;function i(s){return s===40?(n++,e.consume(s),i):s===41&&r<n?a(s):s===33||s===34||s===38||s===39||s===41||s===42||s===44||s===46||s===58||s===59||s===60||s===63||s===93||s===95||s===126?e.check(jE,t,a)(s):s===null||_u(s)||Pf(s)?t(s):(e.consume(s),i)}function a(s){return s===41&&r++,e.consume(s),i}}function kU(e,t,n){return r;function r(o){return o===33||o===34||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===63||o===95||o===126?(e.consume(o),r):o===38?(e.consume(o),a):o===93?(e.consume(o),i):o===60||o===null||_u(o)||Pf(o)?t(o):n(o)}function i(o){return o===null||o===40||o===91||_u(o)||Pf(o)?t(o):r(o)}function a(o){return Ef(o)?s(o):n(o)}function s(o){return o===59?(e.consume(o),r):Ef(o)?(e.consume(o),s):n(o)}}function SU(e,t,n){return r;function r(a){return e.consume(a),i}function i(a){return Ux(a)?n(a):t(a)}}function VE(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||_u(e)}function UE(e){return!Ef(e)}function WE(e){return!(e===47||O2(e))}function O2(e){return e===43||e===45||e===46||e===95||Ux(e)}function Wx(e){let t=e.length,n=!1;for(;t--;){const r=e[t][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}function _U(e){return e!==null&&e<-2}function tp(e){return e!==null&&(e<0||e===32)}function R2(e){return e===-2||e===-1||e===32}function Gx(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let a=0;return s;function s(l){return R2(l)?(e.enter(n),o(l)):t(l)}function o(l){return R2(l)&&a++<i?(e.consume(l),o):(e.exit(n),t(l))}}const CU={partial:!0,tokenize:TU};function TU(e,t,n){return r;function r(a){return R2(a)?Gx(e,i,"linePrefix")(a):i(a)}function i(a){return a===null||_U(a)?t(a):n(a)}}function Yx(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const EU={tokenize:RU,partial:!0};function PU(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:IU,continuation:{tokenize:LU},exit:OU}},text:{91:{name:"gfmFootnoteCall",tokenize:DU},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:MU,resolveTo:AU}}}}function MU(e,t,n){const r=this;let i=r.events.length;const a=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s;for(;i--;){const l=r.events[i][1];if(l.type==="labelImage"){s=l;break}if(l.type==="gfmFootnoteCall"||l.type==="labelLink"||l.type==="label"||l.type==="image"||l.type==="link")break}return o;function o(l){if(!s||!s._balanced)return n(l);const u=Yx(r.sliceSerialize({start:s.end,end:r.now()}));return u.codePointAt(0)!==94||!a.includes(u.slice(1))?n(l):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(l),e.exit("gfmFootnoteCallLabelMarker"),t(l))}}function AU(e,t){let n=e.length;for(;n--;)if(e[n][1].type==="labelImage"&&e[n][0]==="enter"){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const a={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},e[e.length-1][1].start)},s={type:"chunkString",contentType:"string",start:Object.assign({},a.start),end:Object.assign({},a.end)},o=[e[n+1],e[n+2],["enter",r,t],e[n+3],e[n+4],["enter",i,t],["exit",i,t],["enter",a,t],["enter",s,t],["exit",s,t],["exit",a,t],e[e.length-2],e[e.length-1],["exit",r,t]];return e.splice(n,e.length-n+1,...o),e}function DU(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let a=0,s;return o;function o(f){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(f),e.exit("gfmFootnoteCallLabelMarker"),l}function l(f){return f!==94?n(f):(e.enter("gfmFootnoteCallMarker"),e.consume(f),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",u)}function u(f){if(a>999||f===93&&!s||f===null||f===91||tp(f))return n(f);if(f===93){e.exit("chunkString");const h=e.exit("gfmFootnoteCallString");return i.includes(Yx(r.sliceSerialize(h)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(f),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(f)}return tp(f)||(s=!0),a++,e.consume(f),f===92?c:u}function c(f){return f===91||f===92||f===93?(e.consume(f),a++,u):u(f)}}function IU(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let a,s=0,o;return l;function l(p){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(p),e.exit("gfmFootnoteDefinitionLabelMarker"),u}function u(p){return p===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(p),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",c):n(p)}function c(p){if(s>999||p===93&&!o||p===null||p===91||tp(p))return n(p);if(p===93){e.exit("chunkString");const v=e.exit("gfmFootnoteDefinitionLabelString");return a=Yx(r.sliceSerialize(v)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(p),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),h}return tp(p)||(o=!0),s++,e.consume(p),p===92?f:c}function f(p){return p===91||p===92||p===93?(e.consume(p),s++,c):c(p)}function h(p){return p===58?(e.enter("definitionMarker"),e.consume(p),e.exit("definitionMarker"),i.includes(a)||i.push(a),Gx(e,d,"gfmFootnoteDefinitionWhitespace")):n(p)}function d(p){return t(p)}}function LU(e,t,n){return e.check(CU,t,e.attempt(EU,t,n))}function OU(e){e.exit("gfmFootnoteDefinition")}function RU(e,t,n){const r=this;return Gx(e,i,"gfmFootnoteDefinitionIndent",4+1);function i(a){const s=r.events[r.events.length-1];return s&&s[1].type==="gfmFootnoteDefinitionIndent"&&s[2].sliceSerialize(s[1],!0).length===4?t(a):n(a)}}function bv(e,t,n,r){const i=e.length;let a=0,s;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)s=Array.from(r),s.unshift(t,n),e.splice(...s);else for(n&&e.splice(t,n);a<r.length;)s=r.slice(a,a+1e4),s.unshift(t,0),e.splice(...s),a+=1e4,t+=1e4}function NU(e){return e!==null&&(e<0||e===32)}const zU=GE(/\p{P}|\p{S}/u),BU=GE(/\s/);function GE(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function I6(e){if(e===null||NU(e)||BU(e))return 1;if(zU(e))return 2}function FU(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const a=e[i].resolveAll;a&&!r.includes(a)&&(t=a(t,n),r.push(a))}return t}function $U(e){let n=(e||{}).singleTilde;const r={name:"strikethrough",tokenize:a,resolveAll:i};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function i(s,o){let l=-1;for(;++l<s.length;)if(s[l][0]==="enter"&&s[l][1].type==="strikethroughSequenceTemporary"&&s[l][1]._close){let u=l;for(;u--;)if(s[u][0]==="exit"&&s[u][1].type==="strikethroughSequenceTemporary"&&s[u][1]._open&&s[l][1].end.offset-s[l][1].start.offset===s[u][1].end.offset-s[u][1].start.offset){s[l][1].type="strikethroughSequence",s[u][1].type="strikethroughSequence";const c={type:"strikethrough",start:Object.assign({},s[u][1].start),end:Object.assign({},s[l][1].end)},f={type:"strikethroughText",start:Object.assign({},s[u][1].end),end:Object.assign({},s[l][1].start)},h=[["enter",c,o],["enter",s[u][1],o],["exit",s[u][1],o],["enter",f,o]],d=o.parser.constructs.insideSpan.null;d&&bv(h,h.length,0,FU(d,s.slice(u+1,l),o)),bv(h,h.length,0,[["exit",f,o],["enter",s[l][1],o],["exit",s[l][1],o],["exit",c,o]]),bv(s,u-1,l-u+3,h),l=u+h.length-2;break}}for(l=-1;++l<s.length;)s[l][1].type==="strikethroughSequenceTemporary"&&(s[l][1].type="data");return s}function a(s,o,l){const u=this.previous,c=this.events;let f=0;return h;function h(p){return u===126&&c[c.length-1][1].type!=="characterEscape"?l(p):(s.enter("strikethroughSequenceTemporary"),d(p))}function d(p){const v=I6(u);if(p===126)return f>1?l(p):(s.consume(p),f++,d);if(f<2&&!n)return l(p);const x=s.exit("strikethroughSequenceTemporary"),y=I6(p);return x._open=!y||y===2&&!!v,x._close=!v||v===2&&!!y,o(p)}}}function lh(e){return e!==null&&e<-2}function L6(e){return e!==null&&(e<0||e===32)}function _o(e){return e===-2||e===-1||e===32}function fc(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let a=0;return s;function s(l){return _o(l)?(e.enter(n),o(l)):t(l)}function o(l){return _o(l)&&a++<i?(e.consume(l),o):(e.exit(n),t(l))}}class jU{constructor(){this.map=[]}add(t,n,r){qU(this,t,n,r)}consume(t){if(this.map.sort(function(a,s){return a[0]-s[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(t.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),t.length=this.map[n][0];r.push(t.slice()),t.length=0;let i=r.pop();for(;i;){for(const a of i)t.push(a);i=r.pop()}this.map.length=0}}function qU(e,t,n,r){let i=0;if(!(n===0&&r.length===0)){for(;i<e.map.length;){if(e.map[i][0]===t){e.map[i][1]+=n,e.map[i][2].push(...r);return}i+=1}e.map.push([t,n,r])}}function HU(e,t){let n=!1;const r=[];for(;t<e.length;){const i=e[t];if(n){if(i[0]==="enter")i[1].type==="tableContent"&&r.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const a=r.length-1;r[a]=r[a]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(n=!0);t+=1}return r}function VU(){return{flow:{null:{name:"table",tokenize:UU,resolveAll:WU}}}}function UU(e,t,n){const r=this;let i=0,a=0,s;return o;function o(D){let N=r.events.length-1;for(;N>-1;){const V=r.events[N][1].type;if(V==="lineEnding"||V==="linePrefix")N--;else break}const z=N>-1?r.events[N][1].type:null,j=z==="tableHead"||z==="tableRow"?T:l;return j===T&&r.parser.lazy[r.now().line]?n(D):j(D)}function l(D){return e.enter("tableHead"),e.enter("tableRow"),u(D)}function u(D){return D===124||(s=!0,a+=1),c(D)}function c(D){return D===null?n(D):lh(D)?a>1?(a=0,r.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(D),e.exit("lineEnding"),d):n(D):_o(D)?fc(e,c,"whitespace")(D):(a+=1,s&&(s=!1,i+=1),D===124?(e.enter("tableCellDivider"),e.consume(D),e.exit("tableCellDivider"),s=!0,c):(e.enter("data"),f(D)))}function f(D){return D===null||D===124||L6(D)?(e.exit("data"),c(D)):(e.consume(D),D===92?h:f)}function h(D){return D===92||D===124?(e.consume(D),f):f(D)}function d(D){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(D):(e.enter("tableDelimiterRow"),s=!1,_o(D)?fc(e,p,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(D):p(D))}function p(D){return D===45||D===58?x(D):D===124?(s=!0,e.enter("tableCellDivider"),e.consume(D),e.exit("tableCellDivider"),v):C(D)}function v(D){return _o(D)?fc(e,x,"whitespace")(D):x(D)}function x(D){return D===58?(a+=1,s=!0,e.enter("tableDelimiterMarker"),e.consume(D),e.exit("tableDelimiterMarker"),y):D===45?(a+=1,y(D)):D===null||lh(D)?_(D):C(D)}function y(D){return D===45?(e.enter("tableDelimiterFiller"),w(D)):C(D)}function w(D){return D===45?(e.consume(D),w):D===58?(s=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(D),e.exit("tableDelimiterMarker"),k):(e.exit("tableDelimiterFiller"),k(D))}function k(D){return _o(D)?fc(e,_,"whitespace")(D):_(D)}function _(D){return D===124?p(D):D===null||lh(D)?!s||i!==a?C(D):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(D)):C(D)}function C(D){return n(D)}function T(D){return e.enter("tableRow"),E(D)}function E(D){return D===124?(e.enter("tableCellDivider"),e.consume(D),e.exit("tableCellDivider"),E):D===null||lh(D)?(e.exit("tableRow"),t(D)):_o(D)?fc(e,E,"whitespace")(D):(e.enter("data"),A(D))}function A(D){return D===null||D===124||L6(D)?(e.exit("data"),E(D)):(e.consume(D),D===92?R:A)}function R(D){return D===92||D===124?(e.consume(D),A):A(D)}}function WU(e,t){let n=-1,r=!0,i=0,a=[0,0,0,0],s=[0,0,0,0],o=!1,l=0,u,c,f;const h=new jU;for(;++n<e.length;){const d=e[n],p=d[1];d[0]==="enter"?p.type==="tableHead"?(o=!1,l!==0&&(O6(h,t,l,u,c),c=void 0,l=0),u={type:"table",start:Object.assign({},p.start),end:Object.assign({},p.end)},h.add(n,0,[["enter",u,t]])):p.type==="tableRow"||p.type==="tableDelimiterRow"?(r=!0,f=void 0,a=[0,0,0,0],s=[0,n+1,0,0],o&&(o=!1,c={type:"tableBody",start:Object.assign({},p.start),end:Object.assign({},p.end)},h.add(n,0,[["enter",c,t]])),i=p.type==="tableDelimiterRow"?2:c?3:1):i&&(p.type==="data"||p.type==="tableDelimiterMarker"||p.type==="tableDelimiterFiller")?(r=!1,s[2]===0&&(a[1]!==0&&(s[0]=s[1],f=uh(h,t,a,i,void 0,f),a=[0,0,0,0]),s[2]=n)):p.type==="tableCellDivider"&&(r?r=!1:(a[1]!==0&&(s[0]=s[1],f=uh(h,t,a,i,void 0,f)),a=s,s=[a[1],n,0,0])):p.type==="tableHead"?(o=!0,l=n):p.type==="tableRow"||p.type==="tableDelimiterRow"?(l=n,a[1]!==0?(s[0]=s[1],f=uh(h,t,a,i,n,f)):s[1]!==0&&(f=uh(h,t,s,i,n,f)),i=0):i&&(p.type==="data"||p.type==="tableDelimiterMarker"||p.type==="tableDelimiterFiller")&&(s[3]=n)}for(l!==0&&O6(h,t,l,u,c),h.consume(t.events),n=-1;++n<t.events.length;){const d=t.events[n];d[0]==="enter"&&d[1].type==="table"&&(d[1]._align=HU(t.events,n))}return e}function uh(e,t,n,r,i,a){const s=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",o="tableContent";n[0]!==0&&(a.end=Object.assign({},Ml(t.events,n[0])),e.add(n[0],0,[["exit",a,t]]));const l=Ml(t.events,n[1]);if(a={type:s,start:Object.assign({},l),end:Object.assign({},l)},e.add(n[1],0,[["enter",a,t]]),n[2]!==0){const u=Ml(t.events,n[2]),c=Ml(t.events,n[3]),f={type:o,start:Object.assign({},u),end:Object.assign({},c)};if(e.add(n[2],0,[["enter",f,t]]),r!==2){const h=t.events[n[2]],d=t.events[n[3]];if(h[1].end=Object.assign({},d[1].end),h[1].type="chunkText",h[1].contentType="text",n[3]>n[2]+1){const p=n[2]+1,v=n[3]-n[2]-1;e.add(p,v,[])}}e.add(n[3]+1,0,[["exit",f,t]])}return i!==void 0&&(a.end=Object.assign({},Ml(t.events,i)),e.add(i,0,[["exit",a,t]]),a=void 0),a}function O6(e,t,n,r,i){const a=[],s=Ml(t.events,n);i&&(i.end=Object.assign({},s),a.push(["exit",i,t])),r.end=Object.assign({},s),a.push(["exit",r,t]),e.add(n+1,0,a)}function Ml(e,t){const n=e[t],r=n[0]==="enter"?"start":"end";return n[1][r]}function GU(e){return e!==null&&e<-2}function YU(e){return e!==null&&(e<0||e===32)}function N2(e){return e===-2||e===-1||e===32}function XU(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let a=0;return s;function s(l){return N2(l)?(e.enter(n),o(l)):t(l)}function o(l){return N2(l)&&a++<i?(e.consume(l),o):(e.exit(n),t(l))}}const KU={name:"tasklistCheck",tokenize:ZU};function QU(){return{text:{91:KU}}}function ZU(e,t,n){const r=this;return i;function i(l){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(l):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(l),e.exit("taskListCheckMarker"),a)}function a(l){return YU(l)?(e.enter("taskListCheckValueUnchecked"),e.consume(l),e.exit("taskListCheckValueUnchecked"),s):l===88||l===120?(e.enter("taskListCheckValueChecked"),e.consume(l),e.exit("taskListCheckValueChecked"),s):n(l)}function s(l){return l===93?(e.enter("taskListCheckMarker"),e.consume(l),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),o):n(l)}function o(l){return GU(l)?t(l):N2(l)?e.check({tokenize:JU},t,n)(l):n(l)}}function JU(e,t,n){return XU(e,r,"whitespace");function r(i){return i===null?n(i):t(i)}}function eW(e){return uU([gU(),PU(),$U(e),VU(),QU()])}const tW={};function YE(e){const t=this,n=e||tW,r=t.data(),i=r.micromarkExtensions||(r.micromarkExtensions=[]),a=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),s=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);i.push(eW(n)),a.push(sU()),s.push(oU(n))}const vn=({to:e,children:t,icon:n})=>O.jsxs(nW,{href:e,target:"_blank",rel:"noopener noreferrer",children:[!!n&&n,t]}),nW=Pe.a.withConfig({displayName:"InTextLink__Wrapper",componentId:"sc-rmsuhv-0"})(['position:relative;display:inline-flex;&::before{content:"";position:absolute;left:0;display:block;bottom:0;width:100%;border-bottom:2px dotted currentColor;}& > p{width:auto;}']),Bs={sm:"480px",md:"768px",lg:"1024px"},rW=Pe.h1.withConfig({displayName:"Typography__H1",componentId:"sc-ffs6le-0"})(["font-family:var(--main-font);font-size:48px;font-weight:900;line-height:1.2;margin:50px 0 30px;text-transform:uppercase;@media (max-width:","){font-size:40px;}@media (max-width:","){font-size:32px;}"],Bs.md,Bs.sm),iW=Pe.h2.withConfig({displayName:"Typography__H2",componentId:"sc-ffs6le-1"})(["font-family:var(--main-font);font-size:40px;font-weight:700;line-height:1.3;margin:16px 0;@media (max-width:","){font-size:32px;}@media (max-width:","){font-size:28px;}"],Bs.md,Bs.sm),aW=Pe.h3.withConfig({displayName:"Typography__H3",componentId:"sc-ffs6le-2"})(["font-family:var(--main-font);font-size:24px;font-weight:700;line-height:1.4;margin:12px 0 0;@media (max-width:","){font-size:28px;}@media (max-width:","){font-size:24px;}"],Bs.md,Bs.sm),R6=Pe.p.withConfig({displayName:"Typography__Paragraph",componentId:"sc-ffs6le-3"})(["font-family:var(--main-font);font-size:18px;font-weight:",";line-height:1.6;margin:6px 0;word-wrap:break-word;@media (max-width:","){font-size:16px;}@media (max-width:","){font-size:14px;}"],({$bold:e})=>e?700:300,Bs.md,Bs.sm),XE={a:({node:e,...t})=>O.jsx(vn,{to:t.href,children:t.children}),p:({children:e})=>O.jsx(O.Fragment,{children:e})},sW=({$bold:e,children:t,$markdown:n})=>n?O.jsx(R6,{$bold:e,children:O.jsx(jx,{remarkPlugins:[YE],components:XE,children:t})}):O.jsx(R6,{$bold:e,children:t}),oW=({children:e,$markdown:t})=>t?O.jsx("li",{children:O.jsx(jx,{remarkPlugins:[YE],components:XE,children:e})}):O.jsx("li",{children:e}),fe={H1:rW,H2:iW,H3:aW,Text:sW,Li:oW},lW=[{intlId:"privacyPolicy",link:"/privacy-policy"},{intlId:"imprint",link:"/imprint"},{intlId:"troubleshooting",link:"/troubleshooting"}],uW=()=>{const{t:e}=tn(),t="";return O.jsx(cW,{children:O.jsxs(kx,{children:[O.jsxs(fW,{children:[O.jsx(fe.Text,{children:"© 2025 Viacheslav Sydora, Guner Dilsad Er, Michael Muehlebach. All rights reserved."}),O.jsx(hW,{children:lW.map(n=>O.jsx(dW,{$isActive:t===n.link,children:O.jsx(t0,{to:n.link,children:e(`Navigation.${n.intlId}`)})},`header-navbar-${n.intlId}`))})]}),O.jsx("p",{style:{opacity:.5,textAlign:"center"},children:e("legoDisclaimer")})]})})},cW=Pe.div.withConfig({displayName:"Footer__Wrapper",componentId:"sc-1gqk7q9-0"})(["width:100%;position:relative;margin:50px 0 30px;.copyright{text-align:center;}@media (max-width:768px){margin:20px 0;}"]),fW=Pe.nav.withConfig({displayName:"Footer__Row",componentId:"sc-1gqk7q9-1"})(["width:100%;display:flex;align-items:center;justify-content:space-between;@media (max-width:1024px){flex-direction:column-reverse;}& > p{text-align:center;}"]),hW=Pe.ul.withConfig({displayName:"Footer__NavBox",componentId:"sc-1gqk7q9-2"})(["display:flex;flex:1;justify-content:flex-end;column-gap:30px;max-width:100%;flex-wrap:wrap;@media (max-width:600px){justify-content:center;align-items:center;& > li{text-align:center;}}"]),dW=Pe.li.withConfig({displayName:"Footer__NavItem",componentId:"sc-1gqk7q9-3"})(["font-family:var(--main-font);font-weight:",';font-size:16px;list-style:none;cursor:pointer;position:relative;padding:5px 0;&::after{content:"";position:absolute;bottom:0;left:0;width:0;height:1px;background-color:',";transition:all 0.15s ease;}&:hover::after{width:",";background-color:",";}"],({$isActive:e})=>e?700:400,({$isActive:e,theme:t})=>e?t.black:"transparent",({$isActive:e})=>e?"0":"100%",({theme:e})=>e.black),pW=({children:e})=>O.jsxs(gW,{children:[O.jsx(aB,{}),O.jsx(kx,{children:e}),O.jsx(VB,{}),O.jsx(uW,{})]}),gW=Pe.div.withConfig({displayName:"PageLayout__Wrapper",componentId:"sc-zmdmlw-0"})(["display:flex;flex-direction:column;min-height:100vh;"]),mW={black:"#080808",gray:"#ddd",text:"#080808",darkGray:"#999",lightGray:"#fafafa",textFieldText:"rgba(33, 33, 48, .5)",boxShadow:"#FAFAFC",lightRed:"rgb(255, 203, 203)",lightGreen:"rgb(206, 255, 217)",red:"rgb(255, 109, 109)",green:"rgb(104, 187, 122)",darkRed:"rgb(178, 76, 76)",darkGreen:"rgb(66, 128, 79)",complementaryColor:"#f5f5f5",contrastColor:"#182135",borderColor:"#eaeaf0",markdownQuote:"#fafafc",creatorsSwitcherActive:"#212130",creatorsSwitcherUnActive:"#B7B7CC",tierCardBorder:"rgba(183, 183, 204, 0.3)",postDescriptionBlur:"linear-gradient(180deg, transparent, rgba(255, 255, 255, 0.795) 100%)",imagePlaceholder:"#eaeaf0"},vW=FR(["body{background:#fff;color:",";transition:all 0.08s linear;}::-webkit-scrollbar{width:5px;background-color:white;}::-webkit-scrollbar-thumb{background-color:",";border-radius:50px;box-shadow:0px 0px 6px 2px rgba(0,0,0,0.5) inset;}::-webkit-scrollbar-track{border-radius:5px;background-color:",";}"],({theme:e})=>e.text,({theme:e})=>e.darkGray,({theme:e})=>e.lightGray);var Xx={exports:{}},iu=typeof Reflect=="object"?Reflect:null,N6=iu&&typeof iu.apply=="function"?iu.apply:function(t,n,r){return Function.prototype.apply.call(t,n,r)},cd;iu&&typeof iu.ownKeys=="function"?cd=iu.ownKeys:Object.getOwnPropertySymbols?cd=function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:cd=function(t){return Object.getOwnPropertyNames(t)};function yW(e){console&&console.warn&&console.warn(e)}var KE=Number.isNaN||function(t){return t!==t};function Qt(){Qt.init.call(this)}Xx.exports=Qt;Xx.exports.once=kW;Qt.EventEmitter=Qt;Qt.prototype._events=void 0;Qt.prototype._eventsCount=0;Qt.prototype._maxListeners=void 0;var z6=10;function Sg(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}Object.defineProperty(Qt,"defaultMaxListeners",{enumerable:!0,get:function(){return z6},set:function(e){if(typeof e!="number"||e<0||KE(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");z6=e}});Qt.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};Qt.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||KE(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this};function QE(e){return e._maxListeners===void 0?Qt.defaultMaxListeners:e._maxListeners}Qt.prototype.getMaxListeners=function(){return QE(this)};Qt.prototype.emit=function(t){for(var n=[],r=1;r<arguments.length;r++)n.push(arguments[r]);var i=t==="error",a=this._events;if(a!==void 0)i=i&&a.error===void 0;else if(!i)return!1;if(i){var s;if(n.length>0&&(s=n[0]),s instanceof Error)throw s;var o=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw o.context=s,o}var l=a[t];if(l===void 0)return!1;if(typeof l=="function")N6(l,this,n);else for(var u=l.length,c=nP(l,u),r=0;r<u;++r)N6(c[r],this,n);return!0};function ZE(e,t,n,r){var i,a,s;if(Sg(n),a=e._events,a===void 0?(a=e._events=Object.create(null),e._eventsCount=0):(a.newListener!==void 0&&(e.emit("newListener",t,n.listener?n.listener:n),a=e._events),s=a[t]),s===void 0)s=a[t]=n,++e._eventsCount;else if(typeof s=="function"?s=a[t]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),i=QE(e),i>0&&s.length>i&&!s.warned){s.warned=!0;var o=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");o.name="MaxListenersExceededWarning",o.emitter=e,o.type=t,o.count=s.length,yW(o)}return e}Qt.prototype.addListener=function(t,n){return ZE(this,t,n,!1)};Qt.prototype.on=Qt.prototype.addListener;Qt.prototype.prependListener=function(t,n){return ZE(this,t,n,!0)};function xW(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function JE(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=xW.bind(r);return i.listener=n,r.wrapFn=i,i}Qt.prototype.once=function(t,n){return Sg(n),this.on(t,JE(this,t,n)),this};Qt.prototype.prependOnceListener=function(t,n){return Sg(n),this.prependListener(t,JE(this,t,n)),this};Qt.prototype.removeListener=function(t,n){var r,i,a,s,o;if(Sg(n),i=this._events,i===void 0)return this;if(r=i[t],r===void 0)return this;if(r===n||r.listener===n)--this._eventsCount===0?this._events=Object.create(null):(delete i[t],i.removeListener&&this.emit("removeListener",t,r.listener||n));else if(typeof r!="function"){for(a=-1,s=r.length-1;s>=0;s--)if(r[s]===n||r[s].listener===n){o=r[s].listener,a=s;break}if(a<0)return this;a===0?r.shift():bW(r,a),r.length===1&&(i[t]=r[0]),i.removeListener!==void 0&&this.emit("removeListener",t,o||n)}return this};Qt.prototype.off=Qt.prototype.removeListener;Qt.prototype.removeAllListeners=function(t){var n,r,i;if(r=this._events,r===void 0)return this;if(r.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):r[t]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete r[t]),this;if(arguments.length===0){var a=Object.keys(r),s;for(i=0;i<a.length;++i)s=a[i],s!=="removeListener"&&this.removeAllListeners(s);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(n=r[t],typeof n=="function")this.removeListener(t,n);else if(n!==void 0)for(i=n.length-1;i>=0;i--)this.removeListener(t,n[i]);return this};function eP(e,t,n){var r=e._events;if(r===void 0)return[];var i=r[t];return i===void 0?[]:typeof i=="function"?n?[i.listener||i]:[i]:n?wW(i):nP(i,i.length)}Qt.prototype.listeners=function(t){return eP(this,t,!0)};Qt.prototype.rawListeners=function(t){return eP(this,t,!1)};Qt.listenerCount=function(e,t){return typeof e.listenerCount=="function"?e.listenerCount(t):tP.call(e,t)};Qt.prototype.listenerCount=tP;function tP(e){var t=this._events;if(t!==void 0){var n=t[e];if(typeof n=="function")return 1;if(n!==void 0)return n.length}return 0}Qt.prototype.eventNames=function(){return this._eventsCount>0?cd(this._events):[]};function nP(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function bW(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function wW(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}function kW(e,t){return new Promise(function(n,r){function i(s){e.removeListener(t,a),r(s)}function a(){typeof e.removeListener=="function"&&e.removeListener("error",i),n([].slice.call(arguments))}rP(e,t,a,{once:!0}),t!=="error"&&SW(e,i,{once:!0})})}function SW(e,t,n){typeof e.on=="function"&&rP(e,"error",t,n)}function rP(e,t,n,r){if(typeof e.on=="function")r.once?e.once(t,n):e.on(t,n);else if(typeof e.addEventListener=="function")e.addEventListener(t,function i(a){r.once&&e.removeEventListener(t,i),n(a)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}var _W=Xx.exports;class Pr{}class CW extends Pr{get ID(){return 0}serialize(){return new Uint8Array([this.ID])}toString(){return"InfoRequest()"}}class TW extends Pr{constructor(n,r,i,a,s,o,l,u,c,f){super();Ne(this,"rpcMajor");Ne(this,"rpcMinor");Ne(this,"rpcBuild");Ne(this,"firmwareMajor");Ne(this,"firmwareMinor");Ne(this,"firmwareBuild");Ne(this,"maxPacketSize");Ne(this,"maxMessageSize");Ne(this,"maxChunkSize");Ne(this,"productGroupDevice");this.rpcMajor=n,this.rpcMinor=r,this.rpcBuild=i,this.firmwareMajor=a,this.firmwareMinor=s,this.firmwareBuild=o,this.maxPacketSize=l,this.maxMessageSize=u,this.maxChunkSize=c,this.productGroupDevice=f}get ID(){return 1}serialize(){const n=new Uint8Array(21);return n[0]=this.ID,n[1]=this.rpcMajor,n[2]=this.rpcMinor,n}toString(){return`InfoResponse(rpcVersion=${this.rpcMajor}.${this.rpcMinor}.${this.rpcBuild}, firmwareVersion=${this.firmwareMajor}.${this.firmwareMinor}.${this.firmwareBuild}, maxPacketSize=${this.maxPacketSize}, maxChunkSize=${this.maxChunkSize})`}}class EW extends Pr{constructor(n){super();Ne(this,"intervalMs");this.intervalMs=n}get ID(){return 40}serialize(){const n=new Uint8Array(3);return n[0]=this.ID,new DataView(n.buffer,1,2).setUint16(0,this.intervalMs,!0),n}toString(){return`DeviceNotificationRequest(intervalMs=${this.intervalMs})`}}class PW extends Pr{constructor(n){super();Ne(this,"success");this.success=n}get ID(){return 41}serialize(){const n=new Uint8Array(2);return n[0]=this.ID,n[1]=this.success?0:1,n}toString(){return`DeviceNotificationResponse(success=${this.success})`}}class iP extends Pr{constructor(n,r){super();Ne(this,"size");Ne(this,"messages");this.size=n,this.messages=r}get ID(){return 60}serialize(){return new Uint8Array([this.ID])}toString(){return`DeviceNotification(${this.messages.map(r=>r[0]).join(", ")})`}}class MW extends Pr{constructor(n){super();Ne(this,"slot");this.slot=n}get ID(){return 70}serialize(){const n=new Uint8Array(2);return n[0]=this.ID,n[1]=this.slot,n}toString(){return`ClearSlotRequest(slot=${this.slot})`}}class AW extends Pr{constructor(n){super();Ne(this,"success");this.success=n}get ID(){return 71}serialize(){const n=new Uint8Array(2);return n[0]=this.ID,n[1]=this.success?0:1,n}toString(){return`ClearSlotResponse(success=${this.success})`}}class z2 extends Pr{constructor(n,r,i){super();Ne(this,"bytes");Ne(this,"frameId");Ne(this,"frameTotal");this.bytes=n,this.frameId=r,this.frameTotal=i}get ID(){return 50}serialize(){const n=new Uint8Array(5+this.bytes.length);return n[0]=this.ID,new DataView(n.buffer,1,2).setUint16(0,this.bytes.length+2,!0),n[3]=this.frameId,n[4]=this.frameTotal,n.set(this.bytes,5),n}toString(){return`${this.constructor.name}(frameId=${this.frameId}, frameTotal=${this.frameTotal}, bytes=${this.bytes})`}}class DW extends Pr{constructor(n,r,i){super();Ne(this,"fileName");Ne(this,"slot");Ne(this,"crc");this.fileName=n,this.slot=r,this.crc=i}get ID(){return 12}serialize(){const n=new TextEncoder().encode(this.fileName+"\0"),r=new Uint8Array(6+n.length);return r[0]=this.ID,r.set(n,1),r[1+n.length]=this.slot,new DataView(r.buffer,2+n.length,4).setUint32(0,this.crc,!0),r}toString(){return`StartFileUploadRequest(fileName="${this.fileName}", slot=${this.slot}, crc=${this.crc})`}}class IW extends Pr{constructor(n){super();Ne(this,"success");this.success=n}get ID(){return 13}serialize(){const n=new Uint8Array(2);return n[0]=this.ID,n[1]=this.success?0:1,n}toString(){return`StartFileUploadResponse(success=${this.success})`}}class LW extends Pr{constructor(n,r){super();Ne(this,"runningCrc");Ne(this,"chunk");this.runningCrc=n,this.chunk=r}get ID(){return 16}serialize(){const n=new Uint8Array(7+this.chunk.length);return n[0]=this.ID,new DataView(n.buffer,1,4).setUint32(0,this.runningCrc,!0),new DataView(n.buffer,5,2).setUint16(0,this.chunk.length,!0),n.set(this.chunk,7),n}toString(){return`TransferChunkRequest(runningCrc=${this.runningCrc}, chunkSize=${this.chunk.length})`}}class OW extends Pr{constructor(n){super();Ne(this,"success");this.success=n}get ID(){return 17}serialize(){const n=new Uint8Array(2);return n[0]=this.ID,n[1]=this.success?0:1,n}toString(){return`TransferChunkResponse(success=${this.success})`}}class B6 extends Pr{constructor(n,r){super();Ne(this,"stop");Ne(this,"slot");this.stop=n,this.slot=r}get ID(){return 30}serialize(){const n=new Uint8Array(3);return n[0]=this.ID,n[1]=this.stop?1:0,n[2]=this.slot,n}toString(){return`ProgramFlowRequest(stop=${this.stop}, slot=${this.slot})`}}class RW extends Pr{constructor(n){super();Ne(this,"success");this.success=n}get ID(){return 31}serialize(){const n=new Uint8Array(2);return n[0]=this.ID,n[1]=this.success?0:1,n}toString(){return`ProgramFlowResponse(success=${this.success})`}}class aP extends Pr{constructor(n){super();Ne(this,"text");this.text=n}get ID(){return 33}serialize(){const n=new TextEncoder().encode(this.text),r=new Uint8Array(1+n.length);return r[0]=this.ID,r.set(n,1),r}toString(){return`ConsoleNotification(text="${this.text}")`}}class sP extends Pr{constructor(n){super();Ne(this,"stop");this.stop=n}get ID(){return 32}serialize(){const n=new Uint8Array(2);return n[0]=this.ID,n[1]=this.stop?1:0,n}toString(){return`ProgramFlowNotification(stop=${this.stop})`}}function NW(e){if(e.length===0)throw new Error("Empty data buffer");const t=e[0];switch(t){case 1:const n=new DataView(e.buffer,e.byteOffset,e.byteLength);return new TW(e[1],e[2],n.getUint16(3,!0),e[5],e[6],n.getUint16(7,!0),n.getUint16(9,!0),n.getUint16(11,!0),n.getUint16(13,!0),n.getUint16(15,!0));case 41:return new PW(e[1]===0);case 60:const r=new DataView(e.buffer,e.byteOffset+1,2).getUint16(0,!0),i=[];let a=3;for(;a<e.length;){const d=e[a];if(d===0)i.push(["Battery",e[a+1]]),a+=2;else if(d===1)i.push(["IMU","data"]),a+=23;else break}return new iP(r,i);case 71:return new AW(e[1]===0);case 13:return new IW(e[1]===0);case 17:return new OW(e[1]===0);case 31:return new RW(e[1]===0);case 33:const s=e.slice(1).filter(d=>d!==0),o=new TextDecoder().decode(s);return new aP(o);case 50:const l=e[3],u=e[4],c=new DataView(e.buffer,e.byteOffset+1,2).getUint16(0,!0),f=e.slice(5,5+c);return new z2(f,l,u);case 32:if(e.length!==2)throw new Error("Invalid data length for ProgramFlowNotification");const h=e[1]===1;return new sP(h);default:throw new Error(`Unknown message ID: ${t}`)}}const zW=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];function BW(e,t=0){t=~t;for(let n=0;n<e.length;n++)t=zW[(t^e[n])&255]^t>>>8;return t^4294967295}function F6(e,t=0,n=4){const r=e.length%n;if(r){const i=new Uint8Array(e.length+(n-r));i.set(e),e=i}return BW(e,t)}const au=2,FW=255,np=au,Ul=84,oP=3;function lP(e){const t=[];let n=0,r=0;const i=()=>{n=t.length,t.push(FW),r=1};return i(),e.forEach(a=>{if(a>au&&(t.push(a),r+=1),a<=au||r>Ul){if(a<=au){const s=a*Ul,o=r+np;t[n]=s+o}i()}}),t[n]=r+np,new Uint8Array(t)}function uP(e){const t=[],n=a=>{if(a===255)return[null,Ul+1];const[s,o]=[(a-np)/Ul,(a-np)%Ul];return o===0?[s-1,Ul]:[s,o]};let[r,i]=n(e[0]);for(let a=1;a<e.length;a++){if(i-=1,i>0){t.push(e[a]);continue}r!==null&&t.push(r),[r,i]=n(e[a])}return new Uint8Array(t)}function $W(e){let t=lP(e);for(let r=0;r<t.length;r++)t[r]^=oP;const n=new Uint8Array(t.length+1);return n.set(t),n[t.length]=au,n}function jW(e){let t=0;e[0]===1&&(t+=1);const n=new Uint8Array(e.slice(t,e.length-1).map(r=>r^oP));return uP(n)}const wv={pack:$W,unpack:jW,encode:lP,decode:uP,DELIMITER:au};function qW(){let e,t;return{promise:new Promise((r,i)=>{e=r,t=i}),resolve:e,reject:t}}class HW extends _W.EventEmitter{constructor(){super();Ne(this,"device",null);Ne(this,"server",null);Ne(this,"service",null);Ne(this,"rxCharacteristic",null);Ne(this,"txCharacteristic",null);Ne(this,"infoResponse",null);Ne(this,"pendingResponse",null);Ne(this,"chunksMap",new Map);Ne(this,"totalChunks",0);Ne(this,"tunnelMessageQueue",[]);Ne(this,"isProcessingTunnel",!1);Ne(this,"SERVICE_UUID","0000fd02-0000-1000-8000-00805f9b34fb");Ne(this,"RX_CHARACTERISTIC_UUID","0000fd02-0001-1000-8000-00805f9b34fb");Ne(this,"TX_CHARACTERISTIC_UUID","0000fd02-0002-1000-8000-00805f9b34fb");Ne(this,"DEFAULT_NOTIFICATION_INTERVAL_MS",5e3);Ne(this,"BANDWIDTH",8192/16)}async connect(){var n;try{console.log("Scanning for LEGO® hubs..."),this.device=await navigator.bluetooth.requestDevice({filters:[{services:[this.SERVICE_UUID]}]}),console.log(`Hub detected! ${this.device.name||"Unnamed device"}`),this.device.addEventListener("gattserverdisconnected",()=>{console.log("Connection lost."),this.emit("disconnected"),this.removeAllListeners()});const r=await((n=this.device.gatt)==null?void 0:n.connect());if(!r)throw new Error("Failed to connect to GATT server");if(this.server=r,this.service=await this.server.getPrimaryService(this.SERVICE_UUID),this.rxCharacteristic=await this.service.getCharacteristic(this.RX_CHARACTERISTIC_UUID),this.txCharacteristic=await this.service.getCharacteristic(this.TX_CHARACTERISTIC_UUID),await this.txCharacteristic.startNotifications(),this.txCharacteristic.addEventListener("characteristicvaluechanged",this.handleNotification.bind(this)),this.infoResponse=await this.sendRequest(new CW,1),!(await this.sendRequest(new EW(this.DEFAULT_NOTIFICATION_INTERVAL_MS),41)).success)throw new Error("Failed to enable notifications");this.emit("connected")}catch(r){throw console.error("Connection error:",r),this.disconnect(),this.removeAllListeners(),r}}disconnect(){this.server&&this.server.connected&&this.server.disconnect(),this.device=null,this.server=null,this.service=null,this.rxCharacteristic=null,this.txCharacteristic=null,this.infoResponse=null,this.pendingResponse=null}async clearSlot(n){try{return(await this.sendRequest(new MW(n),71)).success}catch(r){return console.warn("ClearSlotRequest was not acknowledged:",r),!1}}async uploadProgram(n,r,i="program.py",a=()=>{}){var s;try{const o=new TextEncoder().encode(n),l=F6(o,0);if(!(await this.sendRequest(new DW(i,r,l),13)).success)return console.error("Start file upload was not acknowledged"),!1;a(0);let c=0;const f=((s=this.infoResponse)==null?void 0:s.maxChunkSize)||512;for(let h=0;h<o.length;h+=f){const d=o.slice(h,h+f);c=F6(d,c);const p=new LW(c,d);if(!(await this.sendRequest(p,17)).success)return console.error(`Failed to transfer chunk at offset ${h}`),!1;a(Math.round(h/o.length*f*100))}return!0}catch(o){return console.error("Program upload error:",o),!1}}async startProgram(n){try{return(await this.sendRequest(new B6(!1,n),31)).success}catch(r){return console.error("Failed to start program:",r),!1}}async stopProgram(n){try{return(await this.sendRequest(new B6(!0,n),31)).success}catch(r){return console.error("Failed to stop program:",r),!1}}handleNotification(n){const r=n.target;if(!r.value){console.log("Received notification with no value");return}const i=r.value.buffer,a=new Uint8Array(i.slice(0));if(a.length===0||a[a.length-1]!==wv.DELIMITER){console.log("Received incomplete message");return}try{const s=wv.unpack(a),o=NW(s);if(this.pendingResponse&&o.ID===this.pendingResponse.id){const l=this.pendingResponse.resolve;this.pendingResponse=null,l(o)}if(o instanceof iP)this.emit("deviceNotification",o);else if(o instanceof aP)this.emit("consoleNotification",o);else if(o instanceof sP)this.emit("programFlowNotification",o);else if(o instanceof z2){const{frameId:l,frameTotal:u,bytes:c}=o;if(this.totalChunks===0&&(this.totalChunks=u),this.chunksMap.set(l,c),this.chunksMap.size===this.totalChunks){const f=Array.from({length:this.totalChunks},(v,x)=>this.chunksMap.get(x)||new Uint8Array),h=new Uint8Array(f.reduce((v,x)=>v+x.length,0));let d=0;f.forEach(v=>{h.set(v,d),d+=v.length});const p=new TextDecoder().decode(h);this.chunksMap.clear(),this.totalChunks=0;try{const v=JSON.parse(p);if(!v.action||!v.payload)throw new Error;this.emit("tunnelData",v)}catch{console.error("Unparsable string received: ",p)}}}}catch(s){console.error("Error processing message:",s)}}async sendMessage(n){var s;if(!this.rxCharacteristic)throw new Error("Not connected to hub");const r=n.serialize(),i=wv.pack(r),a=((s=this.infoResponse)==null?void 0:s.maxPacketSize)||i.length;for(let o=0;o<i.length;o+=a){const l=i.slice(o,o+a);await this.rxCharacteristic.writeValue(l)}}sendRequest(n,r){return new Promise((i,a)=>{if(this.pendingResponse){a(new Error("Another request is already in progress"));return}this.pendingResponse={id:r,resolve:i},this.sendMessage(n).catch(a),setTimeout(()=>{var s;((s=this.pendingResponse)==null?void 0:s.id)===r&&(this.pendingResponse=null,a(new Error(`Request timed out. Message: ${n}`)))},1e4)})}async sendTunnelData(n){var u;const r=new TextEncoder().encode(typeof n=="string"?n:JSON.stringify(n)),a=(((u=this.infoResponse)==null?void 0:u.maxChunkSize)||512)-5,s=Math.ceil(r.length/a),o=[];for(let c=0;c<r.length;c+=a){const f=r.slice(c,c+a);o.push(new z2(f,c,s))}const l=qW();return this.tunnelMessageQueue.push({chunks:o,deferred:l}),this.processTunnelQueue(),l.promise}async processTunnelQueue(){if(!this.isProcessingTunnel){for(this.isProcessingTunnel=!0;this.tunnelMessageQueue.length>0;){const{chunks:n,deferred:r}=this.tunnelMessageQueue.shift();for(const i of n){const a=i.serialize().length,s=Math.floor(1e3*a/this.BANDWIDTH);await this.sendMessage(i),await new Promise(o=>setTimeout(o,s))}r.resolve()}this.isProcessingTunnel=!1}}}const cP=te.createContext({canUseBLE:!1,disconnect:()=>{},connect:()=>Promise.resolve(),connectionStatus:"closed",subscribe:()=>()=>{},stopProgram:()=>Promise.resolve(!0),startProgram:()=>Promise.resolve(),sendTunnelData:()=>Promise.resolve(),codeStatus:"off"}),_g=()=>te.useContext(cP),VW=({children:e})=>{const[t,n]=te.useState("closed"),[r,i]=te.useState("off"),[a]=te.useState(()=>"bluetooth"in navigator),s=te.useRef(new HW),o=8,l=async()=>{s.current.removeAllListeners(),s.current.on("connected",()=>{n("open")}),s.current.on("disconnected",()=>{n("closed")}),s.current.on("programFlowNotification",p=>{r!=="uploading"&&i(p.stop?"off":"on")}),s.current.on("consoleNotification",p=>{console.log(`Hub console notification:
${p.text}`)}),n("opening");try{await s.current.connect()}catch{}},u=()=>{n("closing"),s.current.disconnect(),s.current.removeAllListeners()},c=async({code:p,onStart:v,onProgress:x})=>{i("uploading");try{await s.current.clearSlot(o),await s.current.uploadProgram(p,o,"program.py",x),s.current.removeAllListeners("tunnelData");const y=new Promise((w,k)=>{let _=!1;const C=T=>{T.action==="program_start"&&(_=!0,w(!0),s.current.off("tunnelData",C))};s.current.on("tunnelData",C),setTimeout(()=>{_||(console.error("VM init timeout"),k(),s.current.off("tunnelData",C))},5e3)});await s.current.startProgram(o),console.log("PROGRAM STARTED"),await y,console.log("TUNNEL INITIALIZED"),await v(),i("on")}catch{i("off")}},f=()=>s.current.stopProgram(o),h=p=>(s.current.on("tunnelData",p),()=>{s.current.off("tunnelData",p)}),d=({action:p,payload:v})=>s.current.sendTunnelData({action:p,payload:v});return O.jsx(cP.Provider,{value:{canUseBLE:a,codeStatus:r,connectionStatus:t,connect:l,disconnect:u,subscribe:h,stopProgram:f,startProgram:c,sendTunnelData:d},children:e})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function s0(e){return e+.5|0}const ys=(e,t,n)=>Math.max(Math.min(e,n),t);function Dc(e){return ys(s0(e*2.55),0,255)}function Ds(e){return ys(s0(e*255),0,255)}function Aa(e){return ys(s0(e/2.55)/100,0,1)}function $6(e){return ys(s0(e*100),0,100)}const yi={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},B2=[..."0123456789ABCDEF"],UW=e=>B2[e&15],WW=e=>B2[(e&240)>>4]+B2[e&15],ch=e=>(e&240)>>4===(e&15),GW=e=>ch(e.r)&&ch(e.g)&&ch(e.b)&&ch(e.a);function YW(e){var t=e.length,n;return e[0]==="#"&&(t===4||t===5?n={r:255&yi[e[1]]*17,g:255&yi[e[2]]*17,b:255&yi[e[3]]*17,a:t===5?yi[e[4]]*17:255}:(t===7||t===9)&&(n={r:yi[e[1]]<<4|yi[e[2]],g:yi[e[3]]<<4|yi[e[4]],b:yi[e[5]]<<4|yi[e[6]],a:t===9?yi[e[7]]<<4|yi[e[8]]:255})),n}const XW=(e,t)=>e<255?t(e):"";function KW(e){var t=GW(e)?UW:WW;return e?"#"+t(e.r)+t(e.g)+t(e.b)+XW(e.a,t):void 0}const QW=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function fP(e,t,n){const r=t*Math.min(n,1-n),i=(a,s=(a+e/30)%12)=>n-r*Math.max(Math.min(s-3,9-s,1),-1);return[i(0),i(8),i(4)]}function ZW(e,t,n){const r=(i,a=(i+e/60)%6)=>n-n*t*Math.max(Math.min(a,4-a,1),0);return[r(5),r(3),r(1)]}function JW(e,t,n){const r=fP(e,1,.5);let i;for(t+n>1&&(i=1/(t+n),t*=i,n*=i),i=0;i<3;i++)r[i]*=1-t-n,r[i]+=t;return r}function eG(e,t,n,r,i){return e===i?(t-n)/r+(t<n?6:0):t===i?(n-e)/r+2:(e-t)/r+4}function Kx(e){const n=e.r/255,r=e.g/255,i=e.b/255,a=Math.max(n,r,i),s=Math.min(n,r,i),o=(a+s)/2;let l,u,c;return a!==s&&(c=a-s,u=o>.5?c/(2-a-s):c/(a+s),l=eG(n,r,i,c,a),l=l*60+.5),[l|0,u||0,o]}function Qx(e,t,n,r){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,n,r)).map(Ds)}function Zx(e,t,n){return Qx(fP,e,t,n)}function tG(e,t,n){return Qx(JW,e,t,n)}function nG(e,t,n){return Qx(ZW,e,t,n)}function hP(e){return(e%360+360)%360}function rG(e){const t=QW.exec(e);let n=255,r;if(!t)return;t[5]!==r&&(n=t[6]?Dc(+t[5]):Ds(+t[5]));const i=hP(+t[2]),a=+t[3]/100,s=+t[4]/100;return t[1]==="hwb"?r=tG(i,a,s):t[1]==="hsv"?r=nG(i,a,s):r=Zx(i,a,s),{r:r[0],g:r[1],b:r[2],a:n}}function iG(e,t){var n=Kx(e);n[0]=hP(n[0]+t),n=Zx(n),e.r=n[0],e.g=n[1],e.b=n[2]}function aG(e){if(!e)return;const t=Kx(e),n=t[0],r=$6(t[1]),i=$6(t[2]);return e.a<255?`hsla(${n}, ${r}%, ${i}%, ${Aa(e.a)})`:`hsl(${n}, ${r}%, ${i}%)`}const j6={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},q6={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function sG(){const e={},t=Object.keys(q6),n=Object.keys(j6);let r,i,a,s,o;for(r=0;r<t.length;r++){for(s=o=t[r],i=0;i<n.length;i++)a=n[i],o=o.replace(a,j6[a]);a=parseInt(q6[s],16),e[o]=[a>>16&255,a>>8&255,a&255]}return e}let fh;function oG(e){fh||(fh=sG(),fh.transparent=[0,0,0,0]);const t=fh[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const lG=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function uG(e){const t=lG.exec(e);let n=255,r,i,a;if(t){if(t[7]!==r){const s=+t[7];n=t[8]?Dc(s):ys(s*255,0,255)}return r=+t[1],i=+t[3],a=+t[5],r=255&(t[2]?Dc(r):ys(r,0,255)),i=255&(t[4]?Dc(i):ys(i,0,255)),a=255&(t[6]?Dc(a):ys(a,0,255)),{r,g:i,b:a,a:n}}}function cG(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${Aa(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}const kv=e=>e<=.0031308?e*12.92:Math.pow(e,1/2.4)*1.055-.055,gl=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function fG(e,t,n){const r=gl(Aa(e.r)),i=gl(Aa(e.g)),a=gl(Aa(e.b));return{r:Ds(kv(r+n*(gl(Aa(t.r))-r))),g:Ds(kv(i+n*(gl(Aa(t.g))-i))),b:Ds(kv(a+n*(gl(Aa(t.b))-a))),a:e.a+n*(t.a-e.a)}}function hh(e,t,n){if(e){let r=Kx(e);r[t]=Math.max(0,Math.min(r[t]+r[t]*n,t===0?360:1)),r=Zx(r),e.r=r[0],e.g=r[1],e.b=r[2]}}function dP(e,t){return e&&Object.assign(t||{},e)}function H6(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=Ds(e[3]))):(t=dP(e,{r:0,g:0,b:0,a:1}),t.a=Ds(t.a)),t}function hG(e){return e.charAt(0)==="r"?uG(e):rG(e)}class Mf{constructor(t){if(t instanceof Mf)return t;const n=typeof t;let r;n==="object"?r=H6(t):n==="string"&&(r=YW(t)||oG(t)||hG(t)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var t=dP(this._rgb);return t&&(t.a=Aa(t.a)),t}set rgb(t){this._rgb=H6(t)}rgbString(){return this._valid?cG(this._rgb):void 0}hexString(){return this._valid?KW(this._rgb):void 0}hslString(){return this._valid?aG(this._rgb):void 0}mix(t,n){if(t){const r=this.rgb,i=t.rgb;let a;const s=n===a?.5:n,o=2*s-1,l=r.a-i.a,u=((o*l===-1?o:(o+l)/(1+o*l))+1)/2;a=1-u,r.r=255&u*r.r+a*i.r+.5,r.g=255&u*r.g+a*i.g+.5,r.b=255&u*r.b+a*i.b+.5,r.a=s*r.a+(1-s)*i.a,this.rgb=r}return this}interpolate(t,n){return t&&(this._rgb=fG(this._rgb,t._rgb,n)),this}clone(){return new Mf(this.rgb)}alpha(t){return this._rgb.a=Ds(t),this}clearer(t){const n=this._rgb;return n.a*=1-t,this}greyscale(){const t=this._rgb,n=s0(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=n,this}opaquer(t){const n=this._rgb;return n.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return hh(this._rgb,2,t),this}darken(t){return hh(this._rgb,2,-t),this}saturate(t){return hh(this._rgb,1,t),this}desaturate(t){return hh(this._rgb,1,-t),this}rotate(t){return iG(this._rgb,t),this}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */const dG=(()=>{let e=0;return()=>e++})();function Jt(e){return e==null}function Rn(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function Lt(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}function Nn(e){return(typeof e=="number"||e instanceof Number)&&isFinite(+e)}function ti(e,t){return Nn(e)?e:t}function Kt(e,t){return typeof e>"u"?t:e}const pG=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100*t:+e;function Ln(e,t,n){if(e&&typeof e.call=="function")return e.apply(n,t)}function Sr(e,t,n,r){let i,a,s;if(Rn(e))if(a=e.length,r)for(i=a-1;i>=0;i--)t.call(n,e[i],i);else for(i=0;i<a;i++)t.call(n,e[i],i);else if(Lt(e))for(s=Object.keys(e),a=s.length,i=0;i<a;i++)t.call(n,e[s[i]],s[i])}function V6(e,t){let n,r,i,a;if(!e||!t||e.length!==t.length)return!1;for(n=0,r=e.length;n<r;++n)if(i=e[n],a=t[n],i.datasetIndex!==a.datasetIndex||i.index!==a.index)return!1;return!0}function rp(e){if(Rn(e))return e.map(rp);if(Lt(e)){const t=Object.create(null),n=Object.keys(e),r=n.length;let i=0;for(;i<r;++i)t[n[i]]=rp(e[n[i]]);return t}return e}function pP(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}function gG(e,t,n,r){if(!pP(e))return;const i=t[e],a=n[e];Lt(i)&&Lt(a)?Af(i,a,r):t[e]=rp(a)}function Af(e,t,n){const r=Rn(t)?t:[t],i=r.length;if(!Lt(e))return e;n=n||{};const a=n.merger||gG;let s;for(let o=0;o<i;++o){if(s=r[o],!Lt(s))continue;const l=Object.keys(s);for(let u=0,c=l.length;u<c;++u)a(l[u],e,s,n)}return e}function Yc(e,t){return Af(e,t,{merger:mG})}function mG(e,t,n){if(!pP(e))return;const r=t[e],i=n[e];Lt(r)&&Lt(i)?Yc(r,i):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=rp(i))}const U6={"":e=>e,x:e=>e.x,y:e=>e.y};function vG(e){const t=e.split("."),n=[];let r="";for(const i of t)r+=i,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}function yG(e){const t=vG(e);return n=>{for(const r of t){if(r==="")break;n=n&&n[r]}return n}}function ip(e,t){return(U6[t]||(U6[t]=yG(t)))(e)}function Jx(e){return e.charAt(0).toUpperCase()+e.slice(1)}const ap=e=>typeof e<"u",Fs=e=>typeof e=="function",W6=(e,t)=>{if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0};function xG(e){return e.type==="mouseup"||e.type==="click"||e.type==="contextmenu"}const fr=Math.PI,li=2*fr,bG=li+fr,sp=Number.POSITIVE_INFINITY,wG=fr/180,si=fr/2,uo=fr/4,G6=fr*2/3,xs=Math.log10,Cu=Math.sign;function Xc(e,t,n){return Math.abs(e-t)<n}function Y6(e){const t=Math.round(e);e=Xc(e,t,e/1e3)?t:e;const n=Math.pow(10,Math.floor(xs(e))),r=e/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function kG(e){const t=[],n=Math.sqrt(e);let r;for(r=1;r<n;r++)e%r===0&&(t.push(r),t.push(e/r));return n===(n|0)&&t.push(n),t.sort((i,a)=>i-a).pop(),t}function SG(e){return typeof e=="symbol"||typeof e=="object"&&e!==null&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}function Df(e){return!SG(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function _G(e,t){const n=Math.round(e);return n-t<=e&&n+t>=e}function gP(e,t,n){let r,i,a;for(r=0,i=e.length;r<i;r++)a=e[r][n],isNaN(a)||(t.min=Math.min(t.min,a),t.max=Math.max(t.max,a))}function bs(e){return e*(fr/180)}function eb(e){return e*(180/fr)}function X6(e){if(!Nn(e))return;let t=1,n=0;for(;Math.round(e*t)/t!==e;)t*=10,n++;return n}function CG(e,t){const n=t.x-e.x,r=t.y-e.y,i=Math.sqrt(n*n+r*r);let a=Math.atan2(r,n);return a<-.5*fr&&(a+=li),{angle:a,distance:i}}function K6(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function TG(e,t){return(e-t+bG)%li-fr}function ri(e){return(e%li+li)%li}function mP(e,t,n,r){const i=ri(e),a=ri(t),s=ri(n),o=ri(a-i),l=ri(s-i),u=ri(i-a),c=ri(i-s);return i===a||i===s||r&&a===s||o>l&&u<c}function Ra(e,t,n){return Math.max(t,Math.min(n,e))}function EG(e){return Ra(e,-32768,32767)}function vP(e,t,n,r=1e-6){return e>=Math.min(t,n)-r&&e<=Math.max(t,n)+r}function tb(e,t,n){n=n||(s=>e[s]<t);let r=e.length-1,i=0,a;for(;r-i>1;)a=i+r>>1,n(a)?i=a:r=a;return{lo:i,hi:r}}const Io=(e,t,n,r)=>tb(e,n,r?i=>{const a=e[i][t];return a<n||a===n&&e[i+1][t]===n}:i=>e[i][t]<n),PG=(e,t,n)=>tb(e,n,r=>e[r][t]>=n);function MG(e,t,n){let r=0,i=e.length;for(;r<i&&e[r]<t;)r++;for(;i>r&&e[i-1]>n;)i--;return r>0||i<e.length?e.slice(r,i):e}const yP=["push","pop","shift","splice","unshift"];function AG(e,t){if(e._chartjs){e._chartjs.listeners.push(t);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),yP.forEach(n=>{const r="_onData"+Jx(n),i=e[n];Object.defineProperty(e,n,{configurable:!0,enumerable:!1,value(...a){const s=i.apply(this,a);return e._chartjs.listeners.forEach(o=>{typeof o[r]=="function"&&o[r](...a)}),s}})})}function Q6(e,t){const n=e._chartjs;if(!n)return;const r=n.listeners,i=r.indexOf(t);i!==-1&&r.splice(i,1),!(r.length>0)&&(yP.forEach(a=>{delete e[a]}),delete e._chartjs)}function DG(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const xP=function(){return typeof window>"u"?function(e){return e()}:window.requestAnimationFrame}();function bP(e,t){let n=[],r=!1;return function(...i){n=i,r||(r=!0,xP.call(window,()=>{r=!1,e.apply(t,n)}))}}function IG(e,t){let n;return function(...r){return t?(clearTimeout(n),n=setTimeout(e,t,r)):e.apply(this,r),t}}const LG=e=>e==="start"?"left":e==="end"?"right":"center",Z6=(e,t,n)=>e==="start"?t:e==="end"?n:(t+n)/2;function OG(e,t,n){const r=t.length;let i=0,a=r;if(e._sorted){const{iScale:s,vScale:o,_parsed:l}=e,u=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null,c=s.axis,{min:f,max:h,minDefined:d,maxDefined:p}=s.getUserBounds();if(d){if(i=Math.min(Io(l,c,f).lo,n?r:Io(t,c,s.getPixelForValue(f)).lo),u){const v=l.slice(0,i+1).reverse().findIndex(x=>!Jt(x[o.axis]));i-=Math.max(0,v)}i=Ra(i,0,r-1)}if(p){let v=Math.max(Io(l,s.axis,h,!0).hi+1,n?0:Io(t,c,s.getPixelForValue(h),!0).hi+1);if(u){const x=l.slice(v-1).findIndex(y=>!Jt(y[o.axis]));v+=Math.max(0,x)}a=Ra(v,i,r)-i}else a=r-i}return{start:i,count:a}}function RG(e){const{xScale:t,yScale:n,_scaleRanges:r}=e,i={xmin:t.min,xmax:t.max,ymin:n.min,ymax:n.max};if(!r)return e._scaleRanges=i,!0;const a=r.xmin!==t.min||r.xmax!==t.max||r.ymin!==n.min||r.ymax!==n.max;return Object.assign(r,i),a}const dh=e=>e===0||e===1,J6=(e,t,n)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-t)*li/n)),e7=(e,t,n)=>Math.pow(2,-10*e)*Math.sin((e-t)*li/n)+1,Kc={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*si)+1,easeOutSine:e=>Math.sin(e*si),easeInOutSine:e=>-.5*(Math.cos(fr*e)-1),easeInExpo:e=>e===0?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>e===1?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>dh(e)?e:e<.5?.5*Math.pow(2,10*(e*2-1)):.5*(-Math.pow(2,-10*(e*2-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>dh(e)?e:J6(e,.075,.3),easeOutElastic:e=>dh(e)?e:e7(e,.075,.3),easeInOutElastic(e){return dh(e)?e:e<.5?.5*J6(e*2,.1125,.45):.5+.5*e7(e*2-1,.1125,.45)},easeInBack(e){return e*e*((1.70158+1)*e-1.70158)},easeOutBack(e){return(e-=1)*e*((1.70158+1)*e+1.70158)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:e=>1-Kc.easeOutBounce(1-e),easeOutBounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:e=>e<.5?Kc.easeInBounce(e*2)*.5:Kc.easeOutBounce(e*2-1)*.5+.5};function nb(e){if(e&&typeof e=="object"){const t=e.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function t7(e){return nb(e)?e:new Mf(e)}function Sv(e){return nb(e)?e:new Mf(e).saturate(.5).darken(.1).hexString()}const NG=["x","y","borderWidth","radius","tension"],zG=["color","borderColor","backgroundColor"];function BG(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),e.set("animations",{colors:{type:"color",properties:zG},numbers:{type:"number",properties:NG}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function FG(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const n7=new Map;function $G(e,t){t=t||{};const n=e+JSON.stringify(t);let r=n7.get(n);return r||(r=new Intl.NumberFormat(e,t),n7.set(n,r)),r}function rb(e,t,n){return $G(t,n).format(e)}const wP={values(e){return Rn(e)?e:""+e},numeric(e,t,n){if(e===0)return"0";const r=this.chart.options.locale;let i,a=e;if(n.length>1){const u=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(u<1e-4||u>1e15)&&(i="scientific"),a=jG(e,n)}const s=xs(Math.abs(a)),o=isNaN(s)?1:Math.max(Math.min(-1*Math.floor(s),20),0),l={notation:i,minimumFractionDigits:o,maximumFractionDigits:o};return Object.assign(l,this.options.ticks.format),rb(e,r,l)},logarithmic(e,t,n){if(e===0)return"0";const r=n[t].significand||e/Math.pow(10,Math.floor(xs(e)));return[1,2,3,5,10,15].includes(r)||t>.8*n.length?wP.numeric.call(this,e,t,n):""}};function jG(e,t){let n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(n)>=1&&e!==Math.floor(e)&&(n=e-Math.floor(e)),n}var Cg={formatters:wP};function qG(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,n)=>n.lineWidth,tickColor:(t,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Cg.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const Go=Object.create(null),F2=Object.create(null);function Qc(e,t){if(!t)return e;const n=t.split(".");for(let r=0,i=n.length;r<i;++r){const a=n[r];e=e[a]||(e[a]=Object.create(null))}return e}function _v(e,t,n){return typeof t=="string"?Af(Qc(e,t),n):Af(Qc(e,""),t)}class HG{constructor(t,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,i)=>Sv(i.backgroundColor),this.hoverBorderColor=(r,i)=>Sv(i.borderColor),this.hoverColor=(r,i)=>Sv(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(n)}set(t,n){return _v(this,t,n)}get(t){return Qc(this,t)}describe(t,n){return _v(F2,t,n)}override(t,n){return _v(Go,t,n)}route(t,n,r,i){const a=Qc(this,t),s=Qc(this,r),o="_"+n;Object.defineProperties(a,{[o]:{value:a[n],writable:!0},[n]:{enumerable:!0,get(){const l=this[o],u=s[i];return Lt(l)?Object.assign({},u,l):Kt(l,u)},set(l){this[o]=l}}})}apply(t){t.forEach(n=>n(this))}}var qn=new HG({_scriptable:e=>!e.startsWith("on"),_indexable:e=>e!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[BG,FG,qG]);function VG(e){return!e||Jt(e.size)||Jt(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function op(e,t,n,r,i){let a=t[i];return a||(a=t[i]=e.measureText(i).width,n.push(i)),a>r&&(r=a),r}function UG(e,t,n,r){r=r||{};let i=r.data=r.data||{},a=r.garbageCollect=r.garbageCollect||[];r.font!==t&&(i=r.data={},a=r.garbageCollect=[],r.font=t),e.save(),e.font=t;let s=0;const o=n.length;let l,u,c,f,h;for(l=0;l<o;l++)if(f=n[l],f!=null&&!Rn(f))s=op(e,i,a,s,f);else if(Rn(f))for(u=0,c=f.length;u<c;u++)h=f[u],h!=null&&!Rn(h)&&(s=op(e,i,a,s,h));e.restore();const d=a.length/2;if(d>n.length){for(l=0;l<d;l++)delete i[a[l]];a.splice(0,d)}return s}function co(e,t,n){const r=e.currentDevicePixelRatio,i=n!==0?Math.max(n/2,.5):0;return Math.round((t-i)*r)/r+i}function r7(e,t){!t&&!e||(t=t||e.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function WG(e,t,n,r){GG(e,t,n,r,null)}function GG(e,t,n,r,i){let a,s,o,l,u,c,f,h;const d=t.pointStyle,p=t.rotation,v=t.radius;let x=(p||0)*wG;if(d&&typeof d=="object"&&(a=d.toString(),a==="[object HTMLImageElement]"||a==="[object HTMLCanvasElement]")){e.save(),e.translate(n,r),e.rotate(x),e.drawImage(d,-d.width/2,-d.height/2,d.width,d.height),e.restore();return}if(!(isNaN(v)||v<=0)){switch(e.beginPath(),d){default:i?e.ellipse(n,r,i/2,v,0,0,li):e.arc(n,r,v,0,li),e.closePath();break;case"triangle":c=i?i/2:v,e.moveTo(n+Math.sin(x)*c,r-Math.cos(x)*v),x+=G6,e.lineTo(n+Math.sin(x)*c,r-Math.cos(x)*v),x+=G6,e.lineTo(n+Math.sin(x)*c,r-Math.cos(x)*v),e.closePath();break;case"rectRounded":u=v*.516,l=v-u,s=Math.cos(x+uo)*l,f=Math.cos(x+uo)*(i?i/2-u:l),o=Math.sin(x+uo)*l,h=Math.sin(x+uo)*(i?i/2-u:l),e.arc(n-f,r-o,u,x-fr,x-si),e.arc(n+h,r-s,u,x-si,x),e.arc(n+f,r+o,u,x,x+si),e.arc(n-h,r+s,u,x+si,x+fr),e.closePath();break;case"rect":if(!p){l=Math.SQRT1_2*v,c=i?i/2:l,e.rect(n-c,r-l,2*c,2*l);break}x+=uo;case"rectRot":f=Math.cos(x)*(i?i/2:v),s=Math.cos(x)*v,o=Math.sin(x)*v,h=Math.sin(x)*(i?i/2:v),e.moveTo(n-f,r-o),e.lineTo(n+h,r-s),e.lineTo(n+f,r+o),e.lineTo(n-h,r+s),e.closePath();break;case"crossRot":x+=uo;case"cross":f=Math.cos(x)*(i?i/2:v),s=Math.cos(x)*v,o=Math.sin(x)*v,h=Math.sin(x)*(i?i/2:v),e.moveTo(n-f,r-o),e.lineTo(n+f,r+o),e.moveTo(n+h,r-s),e.lineTo(n-h,r+s);break;case"star":f=Math.cos(x)*(i?i/2:v),s=Math.cos(x)*v,o=Math.sin(x)*v,h=Math.sin(x)*(i?i/2:v),e.moveTo(n-f,r-o),e.lineTo(n+f,r+o),e.moveTo(n+h,r-s),e.lineTo(n-h,r+s),x+=uo,f=Math.cos(x)*(i?i/2:v),s=Math.cos(x)*v,o=Math.sin(x)*v,h=Math.sin(x)*(i?i/2:v),e.moveTo(n-f,r-o),e.lineTo(n+f,r+o),e.moveTo(n+h,r-s),e.lineTo(n-h,r+s);break;case"line":s=i?i/2:Math.cos(x)*v,o=Math.sin(x)*v,e.moveTo(n-s,r-o),e.lineTo(n+s,r+o);break;case"dash":e.moveTo(n,r),e.lineTo(n+Math.cos(x)*(i?i/2:v),r+Math.sin(x)*v);break;case!1:e.closePath();break}e.fill(),t.borderWidth>0&&e.stroke()}}function Na(e,t,n){return n=n||.5,!t||e&&e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n}function ib(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function ab(e){e.restore()}function YG(e,t,n,r,i){if(!t)return e.lineTo(n.x,n.y);if(i==="middle"){const a=(t.x+n.x)/2;e.lineTo(a,t.y),e.lineTo(a,n.y)}else i==="after"!=!!r?e.lineTo(t.x,n.y):e.lineTo(n.x,t.y);e.lineTo(n.x,n.y)}function XG(e,t,n,r){if(!t)return e.lineTo(n.x,n.y);e.bezierCurveTo(r?t.cp1x:t.cp2x,r?t.cp1y:t.cp2y,r?n.cp2x:n.cp1x,r?n.cp2y:n.cp1y,n.x,n.y)}function KG(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),Jt(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}function QG(e,t,n,r,i){if(i.strikethrough||i.underline){const a=e.measureText(r),s=t-a.actualBoundingBoxLeft,o=t+a.actualBoundingBoxRight,l=n-a.actualBoundingBoxAscent,u=n+a.actualBoundingBoxDescent,c=i.strikethrough?(l+u)/2:u;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=i.decorationWidth||2,e.moveTo(s,c),e.lineTo(o,c),e.stroke()}}function ZG(e,t){const n=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=n}function lp(e,t,n,r,i,a={}){const s=Rn(t)?t:[t],o=a.strokeWidth>0&&a.strokeColor!=="";let l,u;for(e.save(),e.font=i.string,KG(e,a),l=0;l<s.length;++l)u=s[l],a.backdrop&&ZG(e,a.backdrop),o&&(a.strokeColor&&(e.strokeStyle=a.strokeColor),Jt(a.strokeWidth)||(e.lineWidth=a.strokeWidth),e.strokeText(u,n,r,a.maxWidth)),e.fillText(u,n,r,a.maxWidth),QG(e,n,r,u,a),r+=Number(i.lineHeight);e.restore()}function JG(e,t){const{x:n,y:r,w:i,h:a,radius:s}=t;e.arc(n+s.topLeft,r+s.topLeft,s.topLeft,1.5*fr,fr,!0),e.lineTo(n,r+a-s.bottomLeft),e.arc(n+s.bottomLeft,r+a-s.bottomLeft,s.bottomLeft,fr,si,!0),e.lineTo(n+i-s.bottomRight,r+a),e.arc(n+i-s.bottomRight,r+a-s.bottomRight,s.bottomRight,si,0,!0),e.lineTo(n+i,r+s.topRight),e.arc(n+i-s.topRight,r+s.topRight,s.topRight,0,-si,!0),e.lineTo(n+s.topLeft,r)}const eY=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,tY=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function nY(e,t){const n=(""+e).match(eY);if(!n||n[1]==="normal")return t*1.2;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100;break}return t*e}const rY=e=>+e||0;function kP(e,t){const n={},r=Lt(t),i=r?Object.keys(t):t,a=Lt(e)?r?s=>Kt(e[s],e[t[s]]):s=>e[s]:()=>e;for(const s of i)n[s]=rY(a(s));return n}function iY(e){return kP(e,{top:"y",right:"x",bottom:"y",left:"x"})}function aY(e){return kP(e,["topLeft","topRight","bottomLeft","bottomRight"])}function Ya(e){const t=iY(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function Tu(e,t){e=e||{},t=t||qn.font;let n=Kt(e.size,t.size);typeof n=="string"&&(n=parseInt(n,10));let r=Kt(e.style,t.style);r&&!(""+r).match(tY)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const i={family:Kt(e.family,t.family),lineHeight:nY(Kt(e.lineHeight,t.lineHeight),n),size:n,style:r,weight:Kt(e.weight,t.weight),string:""};return i.string=VG(i),i}function ph(e,t,n,r){let i=!0,a,s,o;for(a=0,s=e.length;a<s;++a)if(o=e[a],o!==void 0&&(t!==void 0&&typeof o=="function"&&(o=o(t),i=!1),n!==void 0&&Rn(o)&&(o=o[n%o.length],i=!1),o!==void 0))return r&&!i&&(r.cacheable=!1),o}function sY(e,t,n){const{min:r,max:i}=e,a=pG(t,(i-r)/2),s=(o,l)=>n&&o===0?0:o+l;return{min:s(r,-Math.abs(a)),max:s(i,a)}}function sl(e,t){return Object.assign(Object.create(e),t)}function sb(e,t=[""],n,r,i=()=>e[0]){const a=n||e;typeof r>"u"&&(r=TP("_fallback",e));const s={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:a,_fallback:r,_getTarget:i,override:o=>sb([o,...e],t,a,r)};return new Proxy(s,{deleteProperty(o,l){return delete o[l],delete o._keys,delete e[0][l],!0},get(o,l){return _P(o,l,()=>pY(l,t,e,o))},getOwnPropertyDescriptor(o,l){return Reflect.getOwnPropertyDescriptor(o._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has(o,l){return a7(o).includes(l)},ownKeys(o){return a7(o)},set(o,l,u){const c=o._storage||(o._storage=i());return o[l]=c[l]=u,delete o._keys,!0}})}function Eu(e,t,n,r){const i={_cacheable:!1,_proxy:e,_context:t,_subProxy:n,_stack:new Set,_descriptors:SP(e,r),setContext:a=>Eu(e,a,n,r),override:a=>Eu(e.override(a),t,n,r)};return new Proxy(i,{deleteProperty(a,s){return delete a[s],delete e[s],!0},get(a,s,o){return _P(a,s,()=>lY(a,s,o))},getOwnPropertyDescriptor(a,s){return a._descriptors.allKeys?Reflect.has(e,s)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,s)},getPrototypeOf(){return Reflect.getPrototypeOf(e)},has(a,s){return Reflect.has(e,s)},ownKeys(){return Reflect.ownKeys(e)},set(a,s,o){return e[s]=o,delete a[s],!0}})}function SP(e,t={scriptable:!0,indexable:!0}){const{_scriptable:n=t.scriptable,_indexable:r=t.indexable,_allKeys:i=t.allKeys}=e;return{allKeys:i,scriptable:n,indexable:r,isScriptable:Fs(n)?n:()=>n,isIndexable:Fs(r)?r:()=>r}}const oY=(e,t)=>e?e+Jx(t):t,ob=(e,t)=>Lt(t)&&e!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function _P(e,t,n){if(Object.prototype.hasOwnProperty.call(e,t)||t==="constructor")return e[t];const r=n();return e[t]=r,r}function lY(e,t,n){const{_proxy:r,_context:i,_subProxy:a,_descriptors:s}=e;let o=r[t];return Fs(o)&&s.isScriptable(t)&&(o=uY(t,o,e,n)),Rn(o)&&o.length&&(o=cY(t,o,e,s.isIndexable)),ob(t,o)&&(o=Eu(o,i,a&&a[t],s)),o}function uY(e,t,n,r){const{_proxy:i,_context:a,_subProxy:s,_stack:o}=n;if(o.has(e))throw new Error("Recursion detected: "+Array.from(o).join("->")+"->"+e);o.add(e);let l=t(a,s||r);return o.delete(e),ob(e,l)&&(l=lb(i._scopes,i,e,l)),l}function cY(e,t,n,r){const{_proxy:i,_context:a,_subProxy:s,_descriptors:o}=n;if(typeof a.index<"u"&&r(e))return t[a.index%t.length];if(Lt(t[0])){const l=t,u=i._scopes.filter(c=>c!==l);t=[];for(const c of l){const f=lb(u,i,e,c);t.push(Eu(f,a,s&&s[e],o))}}return t}function CP(e,t,n){return Fs(e)?e(t,n):e}const fY=(e,t)=>e===!0?t:typeof e=="string"?ip(t,e):void 0;function hY(e,t,n,r,i){for(const a of t){const s=fY(n,a);if(s){e.add(s);const o=CP(s._fallback,n,i);if(typeof o<"u"&&o!==n&&o!==r)return o}else if(s===!1&&typeof r<"u"&&n!==r)return null}return!1}function lb(e,t,n,r){const i=t._rootScopes,a=CP(t._fallback,n,r),s=[...e,...i],o=new Set;o.add(r);let l=i7(o,s,n,a||n,r);return l===null||typeof a<"u"&&a!==n&&(l=i7(o,s,a,l,r),l===null)?!1:sb(Array.from(o),[""],i,a,()=>dY(t,n,r))}function i7(e,t,n,r,i){for(;n;)n=hY(e,t,n,r,i);return n}function dY(e,t,n){const r=e._getTarget();t in r||(r[t]={});const i=r[t];return Rn(i)&&Lt(n)?n:i||{}}function pY(e,t,n,r){let i;for(const a of t)if(i=TP(oY(a,e),n),typeof i<"u")return ob(e,i)?lb(n,r,e,i):i}function TP(e,t){for(const n of t){if(!n)continue;const r=n[e];if(typeof r<"u")return r}}function a7(e){let t=e._keys;return t||(t=e._keys=gY(e._scopes)),t}function gY(e){const t=new Set;for(const n of e)for(const r of Object.keys(n).filter(i=>!i.startsWith("_")))t.add(r);return Array.from(t)}const mY=Number.EPSILON||1e-14,Pu=(e,t)=>t<e.length&&!e[t].skip&&e[t],EP=e=>e==="x"?"y":"x";function vY(e,t,n,r){const i=e.skip?t:e,a=t,s=n.skip?t:n,o=K6(a,i),l=K6(s,a);let u=o/(o+l),c=l/(o+l);u=isNaN(u)?0:u,c=isNaN(c)?0:c;const f=r*u,h=r*c;return{previous:{x:a.x-f*(s.x-i.x),y:a.y-f*(s.y-i.y)},next:{x:a.x+h*(s.x-i.x),y:a.y+h*(s.y-i.y)}}}function yY(e,t,n){const r=e.length;let i,a,s,o,l,u=Pu(e,0);for(let c=0;c<r-1;++c)if(l=u,u=Pu(e,c+1),!(!l||!u)){if(Xc(t[c],0,mY)){n[c]=n[c+1]=0;continue}i=n[c]/t[c],a=n[c+1]/t[c],o=Math.pow(i,2)+Math.pow(a,2),!(o<=9)&&(s=3/Math.sqrt(o),n[c]=i*s*t[c],n[c+1]=a*s*t[c])}}function xY(e,t,n="x"){const r=EP(n),i=e.length;let a,s,o,l=Pu(e,0);for(let u=0;u<i;++u){if(s=o,o=l,l=Pu(e,u+1),!o)continue;const c=o[n],f=o[r];s&&(a=(c-s[n])/3,o[`cp1${n}`]=c-a,o[`cp1${r}`]=f-a*t[u]),l&&(a=(l[n]-c)/3,o[`cp2${n}`]=c+a,o[`cp2${r}`]=f+a*t[u])}}function bY(e,t="x"){const n=EP(t),r=e.length,i=Array(r).fill(0),a=Array(r);let s,o,l,u=Pu(e,0);for(s=0;s<r;++s)if(o=l,l=u,u=Pu(e,s+1),!!l){if(u){const c=u[t]-l[t];i[s]=c!==0?(u[n]-l[n])/c:0}a[s]=o?u?Cu(i[s-1])!==Cu(i[s])?0:(i[s-1]+i[s])/2:i[s-1]:i[s]}yY(e,i,a),xY(e,a,t)}function gh(e,t,n){return Math.max(Math.min(e,n),t)}function wY(e,t){let n,r,i,a,s,o=Na(e[0],t);for(n=0,r=e.length;n<r;++n)s=a,a=o,o=n<r-1&&Na(e[n+1],t),a&&(i=e[n],s&&(i.cp1x=gh(i.cp1x,t.left,t.right),i.cp1y=gh(i.cp1y,t.top,t.bottom)),o&&(i.cp2x=gh(i.cp2x,t.left,t.right),i.cp2y=gh(i.cp2y,t.top,t.bottom)))}function kY(e,t,n,r,i){let a,s,o,l;if(t.spanGaps&&(e=e.filter(u=>!u.skip)),t.cubicInterpolationMode==="monotone")bY(e,i);else{let u=r?e[e.length-1]:e[0];for(a=0,s=e.length;a<s;++a)o=e[a],l=vY(u,o,e[Math.min(a+1,s-(r?0:1))%s],t.tension),o.cp1x=l.previous.x,o.cp1y=l.previous.y,o.cp2x=l.next.x,o.cp2y=l.next.y,u=o}t.capBezierPoints&&wY(e,n)}function ub(){return typeof window<"u"&&typeof document<"u"}function cb(e){let t=e.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function up(e,t,n){let r;return typeof e=="string"?(r=parseInt(e,10),e.indexOf("%")!==-1&&(r=r/100*t.parentNode[n])):r=e,r}const Tg=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);function SY(e,t){return Tg(e).getPropertyValue(t)}const _Y=["top","right","bottom","left"];function Fo(e,t,n){const r={};n=n?"-"+n:"";for(let i=0;i<4;i++){const a=_Y[i];r[a]=parseFloat(e[t+"-"+a+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const CY=(e,t,n)=>(e>0||t>0)&&(!n||!n.shadowRoot);function TY(e,t){const n=e.touches,r=n&&n.length?n[0]:e,{offsetX:i,offsetY:a}=r;let s=!1,o,l;if(CY(i,a,e.target))o=i,l=a;else{const u=t.getBoundingClientRect();o=r.clientX-u.left,l=r.clientY-u.top,s=!0}return{x:o,y:l,box:s}}function yo(e,t){if("native"in e)return e;const{canvas:n,currentDevicePixelRatio:r}=t,i=Tg(n),a=i.boxSizing==="border-box",s=Fo(i,"padding"),o=Fo(i,"border","width"),{x:l,y:u,box:c}=TY(e,n),f=s.left+(c&&o.left),h=s.top+(c&&o.top);let{width:d,height:p}=t;return a&&(d-=s.width+o.width,p-=s.height+o.height),{x:Math.round((l-f)/d*n.width/r),y:Math.round((u-h)/p*n.height/r)}}function EY(e,t,n){let r,i;if(t===void 0||n===void 0){const a=e&&cb(e);if(!a)t=e.clientWidth,n=e.clientHeight;else{const s=a.getBoundingClientRect(),o=Tg(a),l=Fo(o,"border","width"),u=Fo(o,"padding");t=s.width-u.width-l.width,n=s.height-u.height-l.height,r=up(o.maxWidth,a,"clientWidth"),i=up(o.maxHeight,a,"clientHeight")}}return{width:t,height:n,maxWidth:r||sp,maxHeight:i||sp}}const mh=e=>Math.round(e*10)/10;function PY(e,t,n,r){const i=Tg(e),a=Fo(i,"margin"),s=up(i.maxWidth,e,"clientWidth")||sp,o=up(i.maxHeight,e,"clientHeight")||sp,l=EY(e,t,n);let{width:u,height:c}=l;if(i.boxSizing==="content-box"){const h=Fo(i,"border","width"),d=Fo(i,"padding");u-=d.width+h.width,c-=d.height+h.height}return u=Math.max(0,u-a.width),c=Math.max(0,r?u/r:c-a.height),u=mh(Math.min(u,s,l.maxWidth)),c=mh(Math.min(c,o,l.maxHeight)),u&&!c&&(c=mh(u/2)),(t!==void 0||n!==void 0)&&r&&l.height&&c>l.height&&(c=l.height,u=mh(Math.floor(c*r))),{width:u,height:c}}function s7(e,t,n){const r=t||1,i=Math.floor(e.height*r),a=Math.floor(e.width*r);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const s=e.canvas;return s.style&&(n||!s.style.height&&!s.style.width)&&(s.style.height=`${e.height}px`,s.style.width=`${e.width}px`),e.currentDevicePixelRatio!==r||s.height!==i||s.width!==a?(e.currentDevicePixelRatio=r,s.height=i,s.width=a,e.ctx.setTransform(r,0,0,r,0,0),!0):!1}const MY=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};ub()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return e}();function o7(e,t){const n=SY(e,t),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function xo(e,t,n,r){return{x:e.x+n*(t.x-e.x),y:e.y+n*(t.y-e.y)}}function AY(e,t,n,r){return{x:e.x+n*(t.x-e.x),y:r==="middle"?n<.5?e.y:t.y:r==="after"?n<1?e.y:t.y:n>0?t.y:e.y}}function DY(e,t,n,r){const i={x:e.cp2x,y:e.cp2y},a={x:t.cp1x,y:t.cp1y},s=xo(e,i,n),o=xo(i,a,n),l=xo(a,t,n),u=xo(s,o,n),c=xo(o,l,n);return xo(u,c,n)}function PP(e){return e==="angle"?{between:mP,compare:TG,normalize:ri}:{between:vP,compare:(t,n)=>t-n,normalize:t=>t}}function l7({start:e,end:t,count:n,loop:r,style:i}){return{start:e%n,end:t%n,loop:r&&(t-e+1)%n===0,style:i}}function IY(e,t,n){const{property:r,start:i,end:a}=n,{between:s,normalize:o}=PP(r),l=t.length;let{start:u,end:c,loop:f}=e,h,d;if(f){for(u+=l,c+=l,h=0,d=l;h<d&&s(o(t[u%l][r]),i,a);++h)u--,c--;u%=l,c%=l}return c<u&&(c+=l),{start:u,end:c,loop:f,style:e.style}}function MP(e,t,n){if(!n)return[e];const{property:r,start:i,end:a}=n,s=t.length,{compare:o,between:l,normalize:u}=PP(r),{start:c,end:f,loop:h,style:d}=IY(e,t,n),p=[];let v=!1,x=null,y,w,k;const _=()=>l(i,k,y)&&o(i,k)!==0,C=()=>o(a,y)===0||l(a,k,y),T=()=>v||_(),E=()=>!v||C();for(let A=c,R=c;A<=f;++A)w=t[A%s],!w.skip&&(y=u(w[r]),y!==k&&(v=l(y,i,a),x===null&&T()&&(x=o(y,i)===0?A:R),x!==null&&E()&&(p.push(l7({start:x,end:A,loop:h,count:s,style:d})),x=null),R=A,k=y));return x!==null&&p.push(l7({start:x,end:f,loop:h,count:s,style:d})),p}function AP(e,t){const n=[],r=e.segments;for(let i=0;i<r.length;i++){const a=MP(r[i],e.points,t);a.length&&n.push(...a)}return n}function LY(e,t,n,r){let i=0,a=t-1;if(n&&!r)for(;i<t&&!e[i].skip;)i++;for(;i<t&&e[i].skip;)i++;for(i%=t,n&&(a+=i);a>i&&e[a%t].skip;)a--;return a%=t,{start:i,end:a}}function OY(e,t,n,r){const i=e.length,a=[];let s=t,o=e[t],l;for(l=t+1;l<=n;++l){const u=e[l%i];u.skip||u.stop?o.skip||(r=!1,a.push({start:t%i,end:(l-1)%i,loop:r}),t=s=u.stop?l:null):(s=l,o.skip&&(t=l)),o=u}return s!==null&&a.push({start:t%i,end:s%i,loop:r}),a}function RY(e,t){const n=e.points,r=e.options.spanGaps,i=n.length;if(!i)return[];const a=!!e._loop,{start:s,end:o}=LY(n,i,a,r);if(r===!0)return u7(e,[{start:s,end:o,loop:a}],n,t);const l=o<s?o+i:o,u=!!e._fullLoop&&s===0&&o===i-1;return u7(e,OY(n,s,l,u),n,t)}function u7(e,t,n,r){return!r||!r.setContext||!n?t:NY(e,t,n,r)}function NY(e,t,n,r){const i=e._chart.getContext(),a=c7(e.options),{_datasetIndex:s,options:{spanGaps:o}}=e,l=n.length,u=[];let c=a,f=t[0].start,h=f;function d(p,v,x,y){const w=o?-1:1;if(p!==v){for(p+=l;n[p%l].skip;)p-=w;for(;n[v%l].skip;)v+=w;p%l!==v%l&&(u.push({start:p%l,end:v%l,loop:x,style:y}),c=y,f=v%l)}}for(const p of t){f=o?f:p.start;let v=n[f%l],x;for(h=f+1;h<=p.end;h++){const y=n[h%l];x=c7(r.setContext(sl(i,{type:"segment",p0:v,p1:y,p0DataIndex:(h-1)%l,p1DataIndex:h%l,datasetIndex:s}))),zY(x,c)&&d(f,h-1,p.loop,c),v=y,c=x}f<h-1&&d(f,h-1,p.loop,c)}return u}function c7(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function zY(e,t){if(!t)return!1;const n=[],r=function(i,a){return nb(a)?(n.includes(a)||n.push(a),n.indexOf(a)):a};return JSON.stringify(e,r)!==JSON.stringify(t,r)}function vh(e,t,n){return e.options.clip?e[n]:t[n]}function BY(e,t){const{xScale:n,yScale:r}=e;return n&&r?{left:vh(n,t,"left"),right:vh(n,t,"right"),top:vh(r,t,"top"),bottom:vh(r,t,"bottom")}:t}function DP(e,t){const n=t._clip;if(n.disabled)return!1;const r=BY(t,e.chartArea);return{left:n.left===!1?0:r.left-(n.left===!0?0:n.left),right:n.right===!1?e.width:r.right+(n.right===!0?0:n.right),top:n.top===!1?0:r.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?e.height:r.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class FY{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,n,r,i){const a=n.listeners[i],s=n.duration;a.forEach(o=>o({chart:t,initial:n.initial,numSteps:s,currentStep:Math.min(r-n.start,s)}))}_refresh(){this._request||(this._running=!0,this._request=xP.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let n=0;this._charts.forEach((r,i)=>{if(!r.running||!r.items.length)return;const a=r.items;let s=a.length-1,o=!1,l;for(;s>=0;--s)l=a[s],l._active?(l._total>r.duration&&(r.duration=l._total),l.tick(t),o=!0):(a[s]=a[a.length-1],a.pop());o&&(i.draw(),this._notify(i,r,t,"progress")),a.length||(r.running=!1,this._notify(i,r,t,"complete"),r.initial=!1),n+=a.length}),this._lastDate=t,n===0&&(this._running=!1)}_getAnims(t){const n=this._charts;let r=n.get(t);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(t,r)),r}listen(t,n,r){this._getAnims(t).listeners[n].push(r)}add(t,n){!n||!n.length||this._getAnims(t).items.push(...n)}has(t){return this._getAnims(t).items.length>0}start(t){const n=this._charts.get(t);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((r,i)=>Math.max(r,i._duration),0),this._refresh())}running(t){if(!this._running)return!1;const n=this._charts.get(t);return!(!n||!n.running||!n.items.length)}stop(t){const n=this._charts.get(t);if(!n||!n.items.length)return;const r=n.items;let i=r.length-1;for(;i>=0;--i)r[i].cancel();n.items=[],this._notify(t,n,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var Ta=new FY;const f7="transparent",$Y={boolean(e,t,n){return n>.5?t:e},color(e,t,n){const r=t7(e||f7),i=r.valid&&t7(t||f7);return i&&i.valid?i.mix(r,n).hexString():t},number(e,t,n){return e+(t-e)*n}};let jY=class{constructor(t,n,r,i){const a=n[r];i=ph([t.to,i,a,t.from]);const s=ph([t.from,a,i]);this._active=!0,this._fn=t.fn||$Y[t.type||typeof s],this._easing=Kc[t.easing]||Kc.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=n,this._prop=r,this._from=s,this._to=i,this._promises=void 0}active(){return this._active}update(t,n,r){if(this._active){this._notify(!1);const i=this._target[this._prop],a=r-this._start,s=this._duration-a;this._start=r,this._duration=Math.floor(Math.max(s,t.duration)),this._total+=a,this._loop=!!t.loop,this._to=ph([t.to,n,i,t.from]),this._from=ph([t.from,i,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const n=t-this._start,r=this._duration,i=this._prop,a=this._from,s=this._loop,o=this._to;let l;if(this._active=a!==o&&(s||n<r),!this._active){this._target[i]=o,this._notify(!0);return}if(n<0){this._target[i]=a;return}l=n/r%2,l=s&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[i]=this._fn(a,o,l)}wait(){const t=this._promises||(this._promises=[]);return new Promise((n,r)=>{t.push({res:n,rej:r})})}_notify(t){const n=t?"res":"rej",r=this._promises||[];for(let i=0;i<r.length;i++)r[i][n]()}};class qY{constructor(t,n){this._chart=t,this._properties=new Map,this.configure(n)}configure(t){if(!Lt(t))return;const n=Object.keys(qn.animation),r=this._properties;Object.getOwnPropertyNames(t).forEach(i=>{const a=t[i];if(!Lt(a))return;const s={};for(const o of n)s[o]=a[o];(Rn(a.properties)&&a.properties||[i]).forEach(o=>{(o===i||!r.has(o))&&r.set(o,s)})})}_animateOptions(t,n){const r=n.options,i=VY(t,r);if(!i)return[];const a=this._createAnimations(i,r);return r.$shared&&HY(t.options.$animations,r).then(()=>{t.options=r},()=>{}),a}_createAnimations(t,n){const r=this._properties,i=[],a=t.$animations||(t.$animations={}),s=Object.keys(n),o=Date.now();let l;for(l=s.length-1;l>=0;--l){const u=s[l];if(u.charAt(0)==="$")continue;if(u==="options"){i.push(...this._animateOptions(t,n));continue}const c=n[u];let f=a[u];const h=r.get(u);if(f)if(h&&f.active()){f.update(h,c,o);continue}else f.cancel();if(!h||!h.duration){t[u]=c;continue}a[u]=f=new jY(h,t,u,c),i.push(f)}return i}update(t,n){if(this._properties.size===0){Object.assign(t,n);return}const r=this._createAnimations(t,n);if(r.length)return Ta.add(this._chart,r),!0}}function HY(e,t){const n=[],r=Object.keys(t);for(let i=0;i<r.length;i++){const a=e[r[i]];a&&a.active()&&n.push(a.wait())}return Promise.all(n)}function VY(e,t){if(!t)return;let n=e.options;if(!n){e.options=t;return}return n.$shared&&(e.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function h7(e,t){const n=e&&e.options||{},r=n.reverse,i=n.min===void 0?t:0,a=n.max===void 0?t:0;return{start:r?a:i,end:r?i:a}}function UY(e,t,n){if(n===!1)return!1;const r=h7(e,n),i=h7(t,n);return{top:i.end,right:r.end,bottom:i.start,left:r.start}}function WY(e){let t,n,r,i;return Lt(e)?(t=e.top,n=e.right,r=e.bottom,i=e.left):t=n=r=i=e,{top:t,right:n,bottom:r,left:i,disabled:e===!1}}function IP(e,t){const n=[],r=e._getSortedDatasetMetas(t);let i,a;for(i=0,a=r.length;i<a;++i)n.push(r[i].index);return n}function d7(e,t,n,r={}){const i=e.keys,a=r.mode==="single";let s,o,l,u;if(t===null)return;let c=!1;for(s=0,o=i.length;s<o;++s){if(l=+i[s],l===n){if(c=!0,r.all)continue;break}u=e.values[l],Nn(u)&&(a||t===0||Cu(t)===Cu(u))&&(t+=u)}return!c&&!r.all?0:t}function GY(e,t){const{iScale:n,vScale:r}=t,i=n.axis==="x"?"x":"y",a=r.axis==="x"?"x":"y",s=Object.keys(e),o=new Array(s.length);let l,u,c;for(l=0,u=s.length;l<u;++l)c=s[l],o[l]={[i]:c,[a]:e[c]};return o}function Cv(e,t){const n=e&&e.options.stacked;return n||n===void 0&&t.stack!==void 0}function YY(e,t,n){return`${e.id}.${t.id}.${n.stack||n.type}`}function XY(e){const{min:t,max:n,minDefined:r,maxDefined:i}=e.getUserBounds();return{min:r?t:Number.NEGATIVE_INFINITY,max:i?n:Number.POSITIVE_INFINITY}}function KY(e,t,n){const r=e[t]||(e[t]={});return r[n]||(r[n]={})}function p7(e,t,n,r){for(const i of t.getMatchingVisibleMetas(r).reverse()){const a=e[i.index];if(n&&a>0||!n&&a<0)return i.index}return null}function g7(e,t){const{chart:n,_cachedMeta:r}=e,i=n._stacks||(n._stacks={}),{iScale:a,vScale:s,index:o}=r,l=a.axis,u=s.axis,c=YY(a,s,r),f=t.length;let h;for(let d=0;d<f;++d){const p=t[d],{[l]:v,[u]:x}=p,y=p._stacks||(p._stacks={});h=y[u]=KY(i,c,v),h[o]=x,h._top=p7(h,s,!0,r.type),h._bottom=p7(h,s,!1,r.type);const w=h._visualValues||(h._visualValues={});w[o]=x}}function Tv(e,t){const n=e.scales;return Object.keys(n).filter(r=>n[r].axis===t).shift()}function QY(e,t){return sl(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function ZY(e,t,n){return sl(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}function hc(e,t){const n=e.controller.index,r=e.vScale&&e.vScale.axis;if(r){t=t||e._parsed;for(const i of t){const a=i._stacks;if(!a||a[r]===void 0||a[r][n]===void 0)return;delete a[r][n],a[r]._visualValues!==void 0&&a[r]._visualValues[n]!==void 0&&delete a[r]._visualValues[n]}}}const Ev=e=>e==="reset"||e==="none",m7=(e,t)=>t?e:Object.assign({},e),JY=(e,t,n)=>e&&!t.hidden&&t._stacked&&{keys:IP(n,!0),values:null};class Zc{constructor(t,n){this.chart=t,this._ctx=t.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=Cv(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&hc(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,n=this._cachedMeta,r=this.getDataset(),i=(f,h,d,p)=>f==="x"?h:f==="r"?p:d,a=n.xAxisID=Kt(r.xAxisID,Tv(t,"x")),s=n.yAxisID=Kt(r.yAxisID,Tv(t,"y")),o=n.rAxisID=Kt(r.rAxisID,Tv(t,"r")),l=n.indexAxis,u=n.iAxisID=i(l,a,s,o),c=n.vAxisID=i(l,s,a,o);n.xScale=this.getScaleForId(a),n.yScale=this.getScaleForId(s),n.rScale=this.getScaleForId(o),n.iScale=this.getScaleForId(u),n.vScale=this.getScaleForId(c)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const n=this._cachedMeta;return t===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&Q6(this._data,this),t._stacked&&hc(t)}_dataCheck(){const t=this.getDataset(),n=t.data||(t.data=[]),r=this._data;if(Lt(n)){const i=this._cachedMeta;this._data=GY(n,i)}else if(r!==n){if(r){Q6(r,this);const i=this._cachedMeta;hc(i),i._parsed=[]}n&&Object.isExtensible(n)&&AG(n,this),this._syncList=[],this._data=n}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const n=this._cachedMeta,r=this.getDataset();let i=!1;this._dataCheck();const a=n._stacked;n._stacked=Cv(n.vScale,n),n.stack!==r.stack&&(i=!0,hc(n),n.stack=r.stack),this._resyncElements(t),(i||a!==n._stacked)&&(g7(this,n._parsed),n._stacked=Cv(n.vScale,n))}configure(){const t=this.chart.config,n=t.datasetScopeKeys(this._type),r=t.getOptionScopes(this.getDataset(),n,!0);this.options=t.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,n){const{_cachedMeta:r,_data:i}=this,{iScale:a,_stacked:s}=r,o=a.axis;let l=t===0&&n===i.length?!0:r._sorted,u=t>0&&r._parsed[t-1],c,f,h;if(this._parsing===!1)r._parsed=i,r._sorted=!0,h=i;else{Rn(i[t])?h=this.parseArrayData(r,i,t,n):Lt(i[t])?h=this.parseObjectData(r,i,t,n):h=this.parsePrimitiveData(r,i,t,n);const d=()=>f[o]===null||u&&f[o]<u[o];for(c=0;c<n;++c)r._parsed[c+t]=f=h[c],l&&(d()&&(l=!1),u=f);r._sorted=l}s&&g7(this,h)}parsePrimitiveData(t,n,r,i){const{iScale:a,vScale:s}=t,o=a.axis,l=s.axis,u=a.getLabels(),c=a===s,f=new Array(i);let h,d,p;for(h=0,d=i;h<d;++h)p=h+r,f[h]={[o]:c||a.parse(u[p],p),[l]:s.parse(n[p],p)};return f}parseArrayData(t,n,r,i){const{xScale:a,yScale:s}=t,o=new Array(i);let l,u,c,f;for(l=0,u=i;l<u;++l)c=l+r,f=n[c],o[l]={x:a.parse(f[0],c),y:s.parse(f[1],c)};return o}parseObjectData(t,n,r,i){const{xScale:a,yScale:s}=t,{xAxisKey:o="x",yAxisKey:l="y"}=this._parsing,u=new Array(i);let c,f,h,d;for(c=0,f=i;c<f;++c)h=c+r,d=n[h],u[c]={x:a.parse(ip(d,o),h),y:s.parse(ip(d,l),h)};return u}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,n,r){const i=this.chart,a=this._cachedMeta,s=n[t.axis],o={keys:IP(i,!0),values:n._stacks[t.axis]._visualValues};return d7(o,s,a.index,{mode:r})}updateRangeFromParsed(t,n,r,i){const a=r[n.axis];let s=a===null?NaN:a;const o=i&&r._stacks[n.axis];i&&o&&(i.values=o,s=d7(i,a,this._cachedMeta.index)),t.min=Math.min(t.min,s),t.max=Math.max(t.max,s)}getMinMax(t,n){const r=this._cachedMeta,i=r._parsed,a=r._sorted&&t===r.iScale,s=i.length,o=this._getOtherScale(t),l=JY(n,r,this.chart),u={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:c,max:f}=XY(o);let h,d;function p(){d=i[h];const v=d[o.axis];return!Nn(d[t.axis])||c>v||f<v}for(h=0;h<s&&!(!p()&&(this.updateRangeFromParsed(u,t,d,l),a));++h);if(a){for(h=s-1;h>=0;--h)if(!p()){this.updateRangeFromParsed(u,t,d,l);break}}return u}getAllParsedValues(t){const n=this._cachedMeta._parsed,r=[];let i,a,s;for(i=0,a=n.length;i<a;++i)s=n[i][t.axis],Nn(s)&&r.push(s);return r}getMaxOverflow(){return!1}getLabelAndValue(t){const n=this._cachedMeta,r=n.iScale,i=n.vScale,a=this.getParsed(t);return{label:r?""+r.getLabelForValue(a[r.axis]):"",value:i?""+i.getLabelForValue(a[i.axis]):""}}_update(t){const n=this._cachedMeta;this.update(t||"default"),n._clip=WY(Kt(this.options.clip,UY(n.xScale,n.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,n=this.chart,r=this._cachedMeta,i=r.data||[],a=n.chartArea,s=[],o=this._drawStart||0,l=this._drawCount||i.length-o,u=this.options.drawActiveElementsOnTop;let c;for(r.dataset&&r.dataset.draw(t,a,o,l),c=o;c<o+l;++c){const f=i[c];f.hidden||(f.active&&u?s.push(f):f.draw(t,a))}for(c=0;c<s.length;++c)s[c].draw(t,a)}getStyle(t,n){const r=n?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(t||0,r)}getContext(t,n,r){const i=this.getDataset();let a;if(t>=0&&t<this._cachedMeta.data.length){const s=this._cachedMeta.data[t];a=s.$context||(s.$context=ZY(this.getContext(),t,s)),a.parsed=this.getParsed(t),a.raw=i.data[t],a.index=a.dataIndex=t}else a=this.$context||(this.$context=QY(this.chart.getContext(),this.index)),a.dataset=i,a.index=a.datasetIndex=this.index;return a.active=!!n,a.mode=r,a}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,n){return this._resolveElementOptions(this.dataElementType.id,n,t)}_resolveElementOptions(t,n="default",r){const i=n==="active",a=this._cachedDataOpts,s=t+"-"+n,o=a[s],l=this.enableOptionSharing&&ap(r);if(o)return m7(o,l);const u=this.chart.config,c=u.datasetElementScopeKeys(this._type,t),f=i?[`${t}Hover`,"hover",t,""]:[t,""],h=u.getOptionScopes(this.getDataset(),c),d=Object.keys(qn.elements[t]),p=()=>this.getContext(r,i,n),v=u.resolveNamedOptions(h,d,p,f);return v.$shared&&(v.$shared=l,a[s]=Object.freeze(m7(v,l))),v}_resolveAnimations(t,n,r){const i=this.chart,a=this._cachedDataOpts,s=`animation-${n}`,o=a[s];if(o)return o;let l;if(i.options.animation!==!1){const c=this.chart.config,f=c.datasetAnimationScopeKeys(this._type,n),h=c.getOptionScopes(this.getDataset(),f);l=c.createResolver(h,this.getContext(t,r,n))}const u=new qY(i,l&&l.animations);return l&&l._cacheable&&(a[s]=Object.freeze(u)),u}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,n){return!n||Ev(t)||this.chart._animationsDisabled}_getSharedOptions(t,n){const r=this.resolveDataElementOptions(t,n),i=this._sharedOptions,a=this.getSharedOptions(r),s=this.includeOptions(n,a)||a!==i;return this.updateSharedOptions(a,n,r),{sharedOptions:a,includeOptions:s}}updateElement(t,n,r,i){Ev(i)?Object.assign(t,r):this._resolveAnimations(n,i).update(t,r)}updateSharedOptions(t,n,r){t&&!Ev(n)&&this._resolveAnimations(void 0,n).update(t,r)}_setStyle(t,n,r,i){t.active=i;const a=this.getStyle(n,i);this._resolveAnimations(n,r,i).update(t,{options:!i&&this.getSharedOptions(a)||a})}removeHoverStyle(t,n,r){this._setStyle(t,r,"active",!1)}setHoverStyle(t,n,r){this._setStyle(t,r,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const n=this._data,r=this._cachedMeta.data;for(const[o,l,u]of this._syncList)this[o](l,u);this._syncList=[];const i=r.length,a=n.length,s=Math.min(a,i);s&&this.parse(0,s),a>i?this._insertElements(i,a-i,t):a<i&&this._removeElements(a,i-a)}_insertElements(t,n,r=!0){const i=this._cachedMeta,a=i.data,s=t+n;let o;const l=u=>{for(u.length+=n,o=u.length-1;o>=s;o--)u[o]=u[o-n]};for(l(a),o=t;o<s;++o)a[o]=new this.dataElementType;this._parsing&&l(i._parsed),this.parse(t,n),r&&this.updateElements(a,t,n,"reset")}updateElements(t,n,r,i){}_removeElements(t,n){const r=this._cachedMeta;if(this._parsing){const i=r._parsed.splice(t,n);r._stacked&&hc(r,i)}r.data.splice(t,n)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[n,r,i]=t;this[n](r,i)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,n){n&&this._sync(["_removeElements",t,n]);const r=arguments.length-2;r&&this._sync(["_insertElements",t,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}Ne(Zc,"defaults",{}),Ne(Zc,"datasetElementType",null),Ne(Zc,"dataElementType",null);class su extends Zc{getLabelAndValue(t){const n=this._cachedMeta,r=this.chart.data.labels||[],{xScale:i,yScale:a}=n,s=this.getParsed(t),o=i.getLabelForValue(s.x),l=a.getLabelForValue(s.y);return{label:r[t]||"",value:"("+o+", "+l+")"}}update(t){const n=this._cachedMeta,{data:r=[]}=n,i=this.chart._animationsDisabled;let{start:a,count:s}=OG(n,r,i);if(this._drawStart=a,this._drawCount=s,RG(n)&&(a=0,s=r.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:o,_dataset:l}=n;o._chart=this.chart,o._datasetIndex=this.index,o._decimated=!!l._decimated,o.points=r;const u=this.resolveDatasetElementOptions(t);u.segment=this.options.segment,this.updateElement(o,void 0,{animated:!i,options:u},t)}else this.datasetElementType&&(delete n.dataset,this.datasetElementType=!1);this.updateElements(r,a,s,t)}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,n,r,i){const a=i==="reset",{iScale:s,vScale:o,_stacked:l,_dataset:u}=this._cachedMeta,c=this.resolveDataElementOptions(n,i),f=this.getSharedOptions(c),h=this.includeOptions(i,f),d=s.axis,p=o.axis,{spanGaps:v,segment:x}=this.options,y=Df(v)?v:Number.POSITIVE_INFINITY,w=this.chart._animationsDisabled||a||i==="none";let k=n>0&&this.getParsed(n-1);for(let _=n;_<n+r;++_){const C=t[_],T=this.getParsed(_),E=w?C:{},A=Jt(T[p]),R=E[d]=s.getPixelForValue(T[d],_),D=E[p]=a||A?o.getBasePixel():o.getPixelForValue(l?this.applyStack(o,T,l):T[p],_);E.skip=isNaN(R)||isNaN(D)||A,E.stop=_>0&&Math.abs(T[d]-k[d])>y,x&&(E.parsed=T,E.raw=u.data[_]),h&&(E.options=f||this.resolveDataElementOptions(_,C.active?"active":i)),w||this.updateElement(C,_,E,i),k=T}this.updateSharedOptions(f,i,c)}getMaxOverflow(){const t=this._cachedMeta,n=t.data||[];if(!this.options.showLine){let o=0;for(let l=n.length-1;l>=0;--l)o=Math.max(o,n[l].size(this.resolveDataElementOptions(l))/2);return o>0&&o}const r=t.dataset,i=r.options&&r.options.borderWidth||0;if(!n.length)return i;const a=n[0].size(this.resolveDataElementOptions(0)),s=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(i,a,s)/2}}Ne(su,"id","scatter"),Ne(su,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),Ne(su,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});function fo(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class fb{constructor(t){Ne(this,"options");this.options=t||{}}static override(t){Object.assign(fb.prototype,t)}init(){}formats(){return fo()}parse(){return fo()}format(){return fo()}add(){return fo()}diff(){return fo()}startOf(){return fo()}endOf(){return fo()}}var eX={_date:fb};function tX(e,t,n,r){const{controller:i,data:a,_sorted:s}=e,o=i._cachedMeta.iScale,l=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(o&&t===o.axis&&t!=="r"&&s&&a.length){const u=o._reversePixels?PG:Io;if(r){if(i._sharedOptions){const c=a[0],f=typeof c.getRange=="function"&&c.getRange(t);if(f){const h=u(a,t,n-f),d=u(a,t,n+f);return{lo:h.lo,hi:d.hi}}}}else{const c=u(a,t,n);if(l){const{vScale:f}=i._cachedMeta,{_parsed:h}=e,d=h.slice(0,c.lo+1).reverse().findIndex(v=>!Jt(v[f.axis]));c.lo-=Math.max(0,d);const p=h.slice(c.hi).findIndex(v=>!Jt(v[f.axis]));c.hi+=Math.max(0,p)}return c}}return{lo:0,hi:a.length-1}}function o0(e,t,n,r,i){const a=e.getSortedVisibleDatasetMetas(),s=n[t];for(let o=0,l=a.length;o<l;++o){const{index:u,data:c}=a[o],{lo:f,hi:h}=tX(a[o],t,s,i);for(let d=f;d<=h;++d){const p=c[d];p.skip||r(p,u,d)}}}function nX(e){const t=e.indexOf("x")!==-1,n=e.indexOf("y")!==-1;return function(r,i){const a=t?Math.abs(r.x-i.x):0,s=n?Math.abs(r.y-i.y):0;return Math.sqrt(Math.pow(a,2)+Math.pow(s,2))}}function Pv(e,t,n,r,i){const a=[];return!i&&!e.isPointInArea(t)||o0(e,n,t,function(o,l,u){!i&&!Na(o,e.chartArea,0)||o.inRange(t.x,t.y,r)&&a.push({element:o,datasetIndex:l,index:u})},!0),a}function rX(e,t,n,r){let i=[];function a(s,o,l){const{startAngle:u,endAngle:c}=s.getProps(["startAngle","endAngle"],r),{angle:f}=CG(s,{x:t.x,y:t.y});mP(f,u,c)&&i.push({element:s,datasetIndex:o,index:l})}return o0(e,n,t,a),i}function iX(e,t,n,r,i,a){let s=[];const o=nX(n);let l=Number.POSITIVE_INFINITY;function u(c,f,h){const d=c.inRange(t.x,t.y,i);if(r&&!d)return;const p=c.getCenterPoint(i);if(!(!!a||e.isPointInArea(p))&&!d)return;const x=o(t,p);x<l?(s=[{element:c,datasetIndex:f,index:h}],l=x):x===l&&s.push({element:c,datasetIndex:f,index:h})}return o0(e,n,t,u),s}function Mv(e,t,n,r,i,a){return!a&&!e.isPointInArea(t)?[]:n==="r"&&!r?rX(e,t,n,i):iX(e,t,n,r,i,a)}function v7(e,t,n,r,i){const a=[],s=n==="x"?"inXRange":"inYRange";let o=!1;return o0(e,n,t,(l,u,c)=>{l[s]&&l[s](t[n],i)&&(a.push({element:l,datasetIndex:u,index:c}),o=o||l.inRange(t.x,t.y,i))}),r&&!o?[]:a}var aX={evaluateInteractionItems:o0,modes:{index(e,t,n,r){const i=yo(t,e),a=n.axis||"x",s=n.includeInvisible||!1,o=n.intersect?Pv(e,i,a,r,s):Mv(e,i,a,!1,r,s),l=[];return o.length?(e.getSortedVisibleDatasetMetas().forEach(u=>{const c=o[0].index,f=u.data[c];f&&!f.skip&&l.push({element:f,datasetIndex:u.index,index:c})}),l):[]},dataset(e,t,n,r){const i=yo(t,e),a=n.axis||"xy",s=n.includeInvisible||!1;let o=n.intersect?Pv(e,i,a,r,s):Mv(e,i,a,!1,r,s);if(o.length>0){const l=o[0].datasetIndex,u=e.getDatasetMeta(l).data;o=[];for(let c=0;c<u.length;++c)o.push({element:u[c],datasetIndex:l,index:c})}return o},point(e,t,n,r){const i=yo(t,e),a=n.axis||"xy",s=n.includeInvisible||!1;return Pv(e,i,a,r,s)},nearest(e,t,n,r){const i=yo(t,e),a=n.axis||"xy",s=n.includeInvisible||!1;return Mv(e,i,a,n.intersect,r,s)},x(e,t,n,r){const i=yo(t,e);return v7(e,i,"x",n.intersect,r)},y(e,t,n,r){const i=yo(t,e);return v7(e,i,"y",n.intersect,r)}}};const LP=["left","top","right","bottom"];function dc(e,t){return e.filter(n=>n.pos===t)}function y7(e,t){return e.filter(n=>LP.indexOf(n.pos)===-1&&n.box.axis===t)}function pc(e,t){return e.sort((n,r)=>{const i=t?r:n,a=t?n:r;return i.weight===a.weight?i.index-a.index:i.weight-a.weight})}function sX(e){const t=[];let n,r,i,a,s,o;for(n=0,r=(e||[]).length;n<r;++n)i=e[n],{position:a,options:{stack:s,stackWeight:o=1}}=i,t.push({index:n,box:i,pos:a,horizontal:i.isHorizontal(),weight:i.weight,stack:s&&a+s,stackWeight:o});return t}function oX(e){const t={};for(const n of e){const{stack:r,pos:i,stackWeight:a}=n;if(!r||!LP.includes(i))continue;const s=t[r]||(t[r]={count:0,placed:0,weight:0,size:0});s.count++,s.weight+=a}return t}function lX(e,t){const n=oX(e),{vBoxMaxWidth:r,hBoxMaxHeight:i}=t;let a,s,o;for(a=0,s=e.length;a<s;++a){o=e[a];const{fullSize:l}=o.box,u=n[o.stack],c=u&&o.stackWeight/u.weight;o.horizontal?(o.width=c?c*r:l&&t.availableWidth,o.height=i):(o.width=r,o.height=c?c*i:l&&t.availableHeight)}return n}function uX(e){const t=sX(e),n=pc(t.filter(u=>u.box.fullSize),!0),r=pc(dc(t,"left"),!0),i=pc(dc(t,"right")),a=pc(dc(t,"top"),!0),s=pc(dc(t,"bottom")),o=y7(t,"x"),l=y7(t,"y");return{fullSize:n,leftAndTop:r.concat(a),rightAndBottom:i.concat(l).concat(s).concat(o),chartArea:dc(t,"chartArea"),vertical:r.concat(i).concat(l),horizontal:a.concat(s).concat(o)}}function x7(e,t,n,r){return Math.max(e[n],t[n])+Math.max(e[r],t[r])}function OP(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function cX(e,t,n,r){const{pos:i,box:a}=n,s=e.maxPadding;if(!Lt(i)){n.size&&(e[i]-=n.size);const f=r[n.stack]||{size:0,count:1};f.size=Math.max(f.size,n.horizontal?a.height:a.width),n.size=f.size/f.count,e[i]+=n.size}a.getPadding&&OP(s,a.getPadding());const o=Math.max(0,t.outerWidth-x7(s,e,"left","right")),l=Math.max(0,t.outerHeight-x7(s,e,"top","bottom")),u=o!==e.w,c=l!==e.h;return e.w=o,e.h=l,n.horizontal?{same:u,other:c}:{same:c,other:u}}function fX(e){const t=e.maxPadding;function n(r){const i=Math.max(t[r]-e[r],0);return e[r]+=i,i}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}function hX(e,t){const n=t.maxPadding;function r(i){const a={left:0,top:0,right:0,bottom:0};return i.forEach(s=>{a[s]=Math.max(t[s],n[s])}),a}return r(e?["left","right"]:["top","bottom"])}function Ic(e,t,n,r){const i=[];let a,s,o,l,u,c;for(a=0,s=e.length,u=0;a<s;++a){o=e[a],l=o.box,l.update(o.width||t.w,o.height||t.h,hX(o.horizontal,t));const{same:f,other:h}=cX(t,n,o,r);u|=f&&i.length,c=c||h,l.fullSize||i.push(o)}return u&&Ic(i,t,n,r)||c}function yh(e,t,n,r,i){e.top=n,e.left=t,e.right=t+r,e.bottom=n+i,e.width=r,e.height=i}function b7(e,t,n,r){const i=n.padding;let{x:a,y:s}=t;for(const o of e){const l=o.box,u=r[o.stack]||{count:1,placed:0,weight:1},c=o.stackWeight/u.weight||1;if(o.horizontal){const f=t.w*c,h=u.size||l.height;ap(u.start)&&(s=u.start),l.fullSize?yh(l,i.left,s,n.outerWidth-i.right-i.left,h):yh(l,t.left+u.placed,s,f,h),u.start=s,u.placed+=f,s=l.bottom}else{const f=t.h*c,h=u.size||l.width;ap(u.start)&&(a=u.start),l.fullSize?yh(l,a,i.top,h,n.outerHeight-i.bottom-i.top):yh(l,a,t.top+u.placed,h,f),u.start=a,u.placed+=f,a=l.right}}t.x=a,t.y=s}var xh={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(n){t.draw(n)}}]},e.boxes.push(t)},removeBox(e,t){const n=e.boxes?e.boxes.indexOf(t):-1;n!==-1&&e.boxes.splice(n,1)},configure(e,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},update(e,t,n,r){if(!e)return;const i=Ya(e.options.layout.padding),a=Math.max(t-i.width,0),s=Math.max(n-i.height,0),o=uX(e.boxes),l=o.vertical,u=o.horizontal;Sr(e.boxes,v=>{typeof v.beforeLayout=="function"&&v.beforeLayout()});const c=l.reduce((v,x)=>x.box.options&&x.box.options.display===!1?v:v+1,0)||1,f=Object.freeze({outerWidth:t,outerHeight:n,padding:i,availableWidth:a,availableHeight:s,vBoxMaxWidth:a/2/c,hBoxMaxHeight:s/2}),h=Object.assign({},i);OP(h,Ya(r));const d=Object.assign({maxPadding:h,w:a,h:s,x:i.left,y:i.top},i),p=lX(l.concat(u),f);Ic(o.fullSize,d,f,p),Ic(l,d,f,p),Ic(u,d,f,p)&&Ic(l,d,f,p),fX(d),b7(o.leftAndTop,d,f,p),d.x+=d.w,d.y+=d.h,b7(o.rightAndBottom,d,f,p),e.chartArea={left:d.left,top:d.top,right:d.left+d.w,bottom:d.top+d.h,height:d.h,width:d.w},Sr(o.chartArea,v=>{const x=v.box;Object.assign(x,e.chartArea),x.update(d.w,d.h,{left:0,top:0,right:0,bottom:0})})}};class RP{acquireContext(t,n){}releaseContext(t){return!1}addEventListener(t,n,r){}removeEventListener(t,n,r){}getDevicePixelRatio(){return 1}getMaximumSize(t,n,r,i){return n=Math.max(0,n||t.width),r=r||t.height,{width:n,height:Math.max(0,i?Math.floor(n/i):r)}}isAttached(t){return!0}updateConfig(t){}}class dX extends RP{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const fd="$chartjs",pX={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},w7=e=>e===null||e==="";function gX(e,t){const n=e.style,r=e.getAttribute("height"),i=e.getAttribute("width");if(e[fd]={initial:{height:r,width:i,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",w7(i)){const a=o7(e,"width");a!==void 0&&(e.width=a)}if(w7(r))if(e.style.height==="")e.height=e.width/(t||2);else{const a=o7(e,"height");a!==void 0&&(e.height=a)}return e}const NP=MY?{passive:!0}:!1;function mX(e,t,n){e&&e.addEventListener(t,n,NP)}function vX(e,t,n){e&&e.canvas&&e.canvas.removeEventListener(t,n,NP)}function yX(e,t){const n=pX[e.type]||e.type,{x:r,y:i}=yo(e,t);return{type:n,chart:t,native:e,x:r!==void 0?r:null,y:i!==void 0?i:null}}function cp(e,t){for(const n of e)if(n===t||n.contains(t))return!0}function xX(e,t,n){const r=e.canvas,i=new MutationObserver(a=>{let s=!1;for(const o of a)s=s||cp(o.addedNodes,r),s=s&&!cp(o.removedNodes,r);s&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}function bX(e,t,n){const r=e.canvas,i=new MutationObserver(a=>{let s=!1;for(const o of a)s=s||cp(o.removedNodes,r),s=s&&!cp(o.addedNodes,r);s&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}const If=new Map;let k7=0;function zP(){const e=window.devicePixelRatio;e!==k7&&(k7=e,If.forEach((t,n)=>{n.currentDevicePixelRatio!==e&&t()}))}function wX(e,t){If.size||window.addEventListener("resize",zP),If.set(e,t)}function kX(e){If.delete(e),If.size||window.removeEventListener("resize",zP)}function SX(e,t,n){const r=e.canvas,i=r&&cb(r);if(!i)return;const a=bP((o,l)=>{const u=i.clientWidth;n(o,l),u<i.clientWidth&&n()},window),s=new ResizeObserver(o=>{const l=o[0],u=l.contentRect.width,c=l.contentRect.height;u===0&&c===0||a(u,c)});return s.observe(i),wX(e,a),s}function Av(e,t,n){n&&n.disconnect(),t==="resize"&&kX(e)}function _X(e,t,n){const r=e.canvas,i=bP(a=>{e.ctx!==null&&n(yX(a,e))},e);return mX(r,t,i),i}class CX extends RP{acquireContext(t,n){const r=t&&t.getContext&&t.getContext("2d");return r&&r.canvas===t?(gX(t,n),r):null}releaseContext(t){const n=t.canvas;if(!n[fd])return!1;const r=n[fd].initial;["height","width"].forEach(a=>{const s=r[a];Jt(s)?n.removeAttribute(a):n.setAttribute(a,s)});const i=r.style||{};return Object.keys(i).forEach(a=>{n.style[a]=i[a]}),n.width=n.width,delete n[fd],!0}addEventListener(t,n,r){this.removeEventListener(t,n);const i=t.$proxies||(t.$proxies={}),s={attach:xX,detach:bX,resize:SX}[n]||_X;i[n]=s(t,n,r)}removeEventListener(t,n){const r=t.$proxies||(t.$proxies={}),i=r[n];if(!i)return;({attach:Av,detach:Av,resize:Av}[n]||vX)(t,n,i),r[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,n,r,i){return PY(t,n,r,i)}isAttached(t){const n=t&&cb(t);return!!(n&&n.isConnected)}}function TX(e){return!ub()||typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas?dX:CX}var jh;let Eg=(jh=class{constructor(){Ne(this,"x");Ne(this,"y");Ne(this,"active",!1);Ne(this,"options");Ne(this,"$animations")}tooltipPosition(t){const{x:n,y:r}=this.getProps(["x","y"],t);return{x:n,y:r}}hasValue(){return Df(this.x)&&Df(this.y)}getProps(t,n){const r=this.$animations;if(!n||!r)return this;const i={};return t.forEach(a=>{i[a]=r[a]&&r[a].active()?r[a]._to:this[a]}),i}},Ne(jh,"defaults",{}),Ne(jh,"defaultRoutes"),jh);function EX(e,t){const n=e.options.ticks,r=PX(e),i=Math.min(n.maxTicksLimit||r,r),a=n.major.enabled?AX(t):[],s=a.length,o=a[0],l=a[s-1],u=[];if(s>i)return DX(t,u,a,s/i),u;const c=MX(a,t,i);if(s>0){let f,h;const d=s>1?Math.round((l-o)/(s-1)):null;for(bh(t,u,c,Jt(d)?0:o-d,o),f=0,h=s-1;f<h;f++)bh(t,u,c,a[f],a[f+1]);return bh(t,u,c,l,Jt(d)?t.length:l+d),u}return bh(t,u,c),u}function PX(e){const t=e.options.offset,n=e._tickSize(),r=e._length/n+(t?0:1),i=e._maxLength/n;return Math.floor(Math.min(r,i))}function MX(e,t,n){const r=IX(e),i=t.length/n;if(!r)return Math.max(i,1);const a=kG(r);for(let s=0,o=a.length-1;s<o;s++){const l=a[s];if(l>i)return l}return Math.max(i,1)}function AX(e){const t=[];let n,r;for(n=0,r=e.length;n<r;n++)e[n].major&&t.push(n);return t}function DX(e,t,n,r){let i=0,a=n[0],s;for(r=Math.ceil(r),s=0;s<e.length;s++)s===a&&(t.push(e[s]),i++,a=n[i*r])}function bh(e,t,n,r,i){const a=Kt(r,0),s=Math.min(Kt(i,e.length),e.length);let o=0,l,u,c;for(n=Math.ceil(n),i&&(l=i-r,n=l/Math.floor(l/n)),c=a;c<0;)o++,c=Math.round(a+o*n);for(u=Math.max(a,0);u<s;u++)u===c&&(t.push(e[u]),o++,c=Math.round(a+o*n))}function IX(e){const t=e.length;let n,r;if(t<2)return!1;for(r=e[0],n=1;n<t;++n)if(e[n]-e[n-1]!==r)return!1;return r}const LX=e=>e==="left"?"right":e==="right"?"left":e,S7=(e,t,n)=>t==="top"||t==="left"?e[t]+n:e[t]-n,_7=(e,t)=>Math.min(t||e,e);function C7(e,t){const n=[],r=e.length/t,i=e.length;let a=0;for(;a<i;a+=r)n.push(e[Math.floor(a)]);return n}function OX(e,t,n){const r=e.ticks.length,i=Math.min(t,r-1),a=e._startPixel,s=e._endPixel,o=1e-6;let l=e.getPixelForTick(i),u;if(!(n&&(r===1?u=Math.max(l-a,s-l):t===0?u=(e.getPixelForTick(1)-l)/2:u=(l-e.getPixelForTick(i-1))/2,l+=i<t?u:-u,l<a-o||l>s+o)))return l}function RX(e,t){Sr(e,n=>{const r=n.gc,i=r.length/2;let a;if(i>t){for(a=0;a<i;++a)delete n.data[r[a]];r.splice(0,i)}})}function gc(e){return e.drawTicks?e.tickLength:0}function T7(e,t){if(!e.display)return 0;const n=Tu(e.font,t),r=Ya(e.padding);return(Rn(e.text)?e.text.length:1)*n.lineHeight+r.height}function NX(e,t){return sl(e,{scale:t,type:"scale"})}function zX(e,t,n){return sl(e,{tick:n,index:t,type:"tick"})}function BX(e,t,n){let r=LG(e);return(n&&t!=="right"||!n&&t==="right")&&(r=LX(r)),r}function FX(e,t,n,r){const{top:i,left:a,bottom:s,right:o,chart:l}=e,{chartArea:u,scales:c}=l;let f=0,h,d,p;const v=s-i,x=o-a;if(e.isHorizontal()){if(d=Z6(r,a,o),Lt(n)){const y=Object.keys(n)[0],w=n[y];p=c[y].getPixelForValue(w)+v-t}else n==="center"?p=(u.bottom+u.top)/2+v-t:p=S7(e,n,t);h=o-a}else{if(Lt(n)){const y=Object.keys(n)[0],w=n[y];d=c[y].getPixelForValue(w)-x+t}else n==="center"?d=(u.left+u.right)/2-x+t:d=S7(e,n,t);p=Z6(r,s,i),f=n==="left"?-si:si}return{titleX:d,titleY:p,maxWidth:h,rotation:f}}class ju extends Eg{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,n){return t}getUserBounds(){let{_userMin:t,_userMax:n,_suggestedMin:r,_suggestedMax:i}=this;return t=ti(t,Number.POSITIVE_INFINITY),n=ti(n,Number.NEGATIVE_INFINITY),r=ti(r,Number.POSITIVE_INFINITY),i=ti(i,Number.NEGATIVE_INFINITY),{min:ti(t,r),max:ti(n,i),minDefined:Nn(t),maxDefined:Nn(n)}}getMinMax(t){let{min:n,max:r,minDefined:i,maxDefined:a}=this.getUserBounds(),s;if(i&&a)return{min:n,max:r};const o=this.getMatchingVisibleMetas();for(let l=0,u=o.length;l<u;++l)s=o[l].controller.getMinMax(this,t),i||(n=Math.min(n,s.min)),a||(r=Math.max(r,s.max));return n=a&&n>r?r:n,r=i&&n>r?n:r,{min:ti(n,ti(r,n)),max:ti(r,ti(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Ln(this.options.beforeUpdate,[this])}update(t,n,r){const{beginAtZero:i,grace:a,ticks:s}=this.options,o=s.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=n,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=sY(this,a,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=o<this.ticks.length;this._convertTicksToLabels(l?C7(this.ticks,o):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),s.display&&(s.autoSkip||s.source==="auto")&&(this.ticks=EX(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,n,r;this.isHorizontal()?(n=this.left,r=this.right):(n=this.top,r=this.bottom,t=!t),this._startPixel=n,this._endPixel=r,this._reversePixels=t,this._length=r-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Ln(this.options.afterUpdate,[this])}beforeSetDimensions(){Ln(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Ln(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),Ln(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Ln(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const n=this.options.ticks;let r,i,a;for(r=0,i=t.length;r<i;r++)a=t[r],a.label=Ln(n.callback,[a.value,r,t],this)}afterTickToLabelConversion(){Ln(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Ln(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,n=t.ticks,r=_7(this.ticks.length,t.ticks.maxTicksLimit),i=n.minRotation||0,a=n.maxRotation;let s=i,o,l,u;if(!this._isVisible()||!n.display||i>=a||r<=1||!this.isHorizontal()){this.labelRotation=i;return}const c=this._getLabelSizes(),f=c.widest.width,h=c.highest.height,d=Ra(this.chart.width-f,0,this.maxWidth);o=t.offset?this.maxWidth/r:d/(r-1),f+6>o&&(o=d/(r-(t.offset?.5:1)),l=this.maxHeight-gc(t.grid)-n.padding-T7(t.title,this.chart.options.font),u=Math.sqrt(f*f+h*h),s=eb(Math.min(Math.asin(Ra((c.highest.height+6)/o,-1,1)),Math.asin(Ra(l/u,-1,1))-Math.asin(Ra(h/u,-1,1)))),s=Math.max(i,Math.min(a,s))),this.labelRotation=s}afterCalculateLabelRotation(){Ln(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Ln(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:n,options:{ticks:r,title:i,grid:a}}=this,s=this._isVisible(),o=this.isHorizontal();if(s){const l=T7(i,n.options.font);if(o?(t.width=this.maxWidth,t.height=gc(a)+l):(t.height=this.maxHeight,t.width=gc(a)+l),r.display&&this.ticks.length){const{first:u,last:c,widest:f,highest:h}=this._getLabelSizes(),d=r.padding*2,p=bs(this.labelRotation),v=Math.cos(p),x=Math.sin(p);if(o){const y=r.mirror?0:x*f.width+v*h.height;t.height=Math.min(this.maxHeight,t.height+y+d)}else{const y=r.mirror?0:v*f.width+x*h.height;t.width=Math.min(this.maxWidth,t.width+y+d)}this._calculatePadding(u,c,x,v)}}this._handleMargins(),o?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,n,r,i){const{ticks:{align:a,padding:s},position:o}=this.options,l=this.labelRotation!==0,u=o!=="top"&&this.axis==="x";if(this.isHorizontal()){const c=this.getPixelForTick(0)-this.left,f=this.right-this.getPixelForTick(this.ticks.length-1);let h=0,d=0;l?u?(h=i*t.width,d=r*n.height):(h=r*t.height,d=i*n.width):a==="start"?d=n.width:a==="end"?h=t.width:a!=="inner"&&(h=t.width/2,d=n.width/2),this.paddingLeft=Math.max((h-c+s)*this.width/(this.width-c),0),this.paddingRight=Math.max((d-f+s)*this.width/(this.width-f),0)}else{let c=n.height/2,f=t.height/2;a==="start"?(c=0,f=t.height):a==="end"&&(c=n.height,f=0),this.paddingTop=c+s,this.paddingBottom=f+s}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Ln(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:n}=this.options;return n==="top"||n==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let n,r;for(n=0,r=t.length;n<r;n++)Jt(t[n].label)&&(t.splice(n,1),r--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const n=this.options.ticks.sampleSize;let r=this.ticks;n<r.length&&(r=C7(r,n)),this._labelSizes=t=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,n,r){const{ctx:i,_longestTextCache:a}=this,s=[],o=[],l=Math.floor(n/_7(n,r));let u=0,c=0,f,h,d,p,v,x,y,w,k,_,C;for(f=0;f<n;f+=l){if(p=t[f].label,v=this._resolveTickFontOptions(f),i.font=x=v.string,y=a[x]=a[x]||{data:{},gc:[]},w=v.lineHeight,k=_=0,!Jt(p)&&!Rn(p))k=op(i,y.data,y.gc,k,p),_=w;else if(Rn(p))for(h=0,d=p.length;h<d;++h)C=p[h],!Jt(C)&&!Rn(C)&&(k=op(i,y.data,y.gc,k,C),_+=w);s.push(k),o.push(_),u=Math.max(k,u),c=Math.max(_,c)}RX(a,n);const T=s.indexOf(u),E=o.indexOf(c),A=R=>({width:s[R]||0,height:o[R]||0});return{first:A(0),last:A(n-1),widest:A(T),highest:A(E),widths:s,heights:o}}getLabelForValue(t){return t}getPixelForValue(t,n){return NaN}getValueForPixel(t){}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const n=this._startPixel+t*this._length;return EG(this._alignToPixels?co(this.chart,n,0):n)}getDecimalForPixel(t){const n=(t-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:n}=this;return t<0&&n<0?n:t>0&&n>0?t:0}getContext(t){const n=this.ticks||[];if(t>=0&&t<n.length){const r=n[t];return r.$context||(r.$context=zX(this.getContext(),t,r))}return this.$context||(this.$context=NX(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,n=bs(this.labelRotation),r=Math.abs(Math.cos(n)),i=Math.abs(Math.sin(n)),a=this._getLabelSizes(),s=t.autoSkipPadding||0,o=a?a.widest.width+s:0,l=a?a.highest.height+s:0;return this.isHorizontal()?l*r>o*i?o/r:l/i:l*i<o*r?l/r:o/i}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const n=this.axis,r=this.chart,i=this.options,{grid:a,position:s,border:o}=i,l=a.offset,u=this.isHorizontal(),f=this.ticks.length+(l?1:0),h=gc(a),d=[],p=o.setContext(this.getContext()),v=p.display?p.width:0,x=v/2,y=function(Z){return co(r,Z,v)};let w,k,_,C,T,E,A,R,D,N,z,j;if(s==="top")w=y(this.bottom),E=this.bottom-h,R=w-x,N=y(t.top)+x,j=t.bottom;else if(s==="bottom")w=y(this.top),N=t.top,j=y(t.bottom)-x,E=w+x,R=this.top+h;else if(s==="left")w=y(this.right),T=this.right-h,A=w-x,D=y(t.left)+x,z=t.right;else if(s==="right")w=y(this.left),D=t.left,z=y(t.right)-x,T=w+x,A=this.left+h;else if(n==="x"){if(s==="center")w=y((t.top+t.bottom)/2+.5);else if(Lt(s)){const Z=Object.keys(s)[0],X=s[Z];w=y(this.chart.scales[Z].getPixelForValue(X))}N=t.top,j=t.bottom,E=w+x,R=E+h}else if(n==="y"){if(s==="center")w=y((t.left+t.right)/2);else if(Lt(s)){const Z=Object.keys(s)[0],X=s[Z];w=y(this.chart.scales[Z].getPixelForValue(X))}T=w-x,A=T-h,D=t.left,z=t.right}const V=Kt(i.ticks.maxTicksLimit,f),Y=Math.max(1,Math.ceil(f/V));for(k=0;k<f;k+=Y){const Z=this.getContext(k),X=a.setContext(Z),G=o.setContext(Z),ee=X.lineWidth,B=X.color,K=G.dash||[],J=G.dashOffset,q=X.tickWidth,he=X.tickColor,de=X.tickBorderDash||[],oe=X.tickBorderDashOffset;_=OX(this,k,l),_!==void 0&&(C=co(r,_,ee),u?T=A=D=z=C:E=R=N=j=C,d.push({tx1:T,ty1:E,tx2:A,ty2:R,x1:D,y1:N,x2:z,y2:j,width:ee,color:B,borderDash:K,borderDashOffset:J,tickWidth:q,tickColor:he,tickBorderDash:de,tickBorderDashOffset:oe}))}return this._ticksLength=f,this._borderValue=w,d}_computeLabelItems(t){const n=this.axis,r=this.options,{position:i,ticks:a}=r,s=this.isHorizontal(),o=this.ticks,{align:l,crossAlign:u,padding:c,mirror:f}=a,h=gc(r.grid),d=h+c,p=f?-c:d,v=-bs(this.labelRotation),x=[];let y,w,k,_,C,T,E,A,R,D,N,z,j="middle";if(i==="top")T=this.bottom-p,E=this._getXAxisLabelAlignment();else if(i==="bottom")T=this.top+p,E=this._getXAxisLabelAlignment();else if(i==="left"){const Y=this._getYAxisLabelAlignment(h);E=Y.textAlign,C=Y.x}else if(i==="right"){const Y=this._getYAxisLabelAlignment(h);E=Y.textAlign,C=Y.x}else if(n==="x"){if(i==="center")T=(t.top+t.bottom)/2+d;else if(Lt(i)){const Y=Object.keys(i)[0],Z=i[Y];T=this.chart.scales[Y].getPixelForValue(Z)+d}E=this._getXAxisLabelAlignment()}else if(n==="y"){if(i==="center")C=(t.left+t.right)/2-d;else if(Lt(i)){const Y=Object.keys(i)[0],Z=i[Y];C=this.chart.scales[Y].getPixelForValue(Z)}E=this._getYAxisLabelAlignment(h).textAlign}n==="y"&&(l==="start"?j="top":l==="end"&&(j="bottom"));const V=this._getLabelSizes();for(y=0,w=o.length;y<w;++y){k=o[y],_=k.label;const Y=a.setContext(this.getContext(y));A=this.getPixelForTick(y)+a.labelOffset,R=this._resolveTickFontOptions(y),D=R.lineHeight,N=Rn(_)?_.length:1;const Z=N/2,X=Y.color,G=Y.textStrokeColor,ee=Y.textStrokeWidth;let B=E;s?(C=A,E==="inner"&&(y===w-1?B=this.options.reverse?"left":"right":y===0?B=this.options.reverse?"right":"left":B="center"),i==="top"?u==="near"||v!==0?z=-N*D+D/2:u==="center"?z=-V.highest.height/2-Z*D+D:z=-V.highest.height+D/2:u==="near"||v!==0?z=D/2:u==="center"?z=V.highest.height/2-Z*D:z=V.highest.height-N*D,f&&(z*=-1),v!==0&&!Y.showLabelBackdrop&&(C+=D/2*Math.sin(v))):(T=A,z=(1-N)*D/2);let K;if(Y.showLabelBackdrop){const J=Ya(Y.backdropPadding),q=V.heights[y],he=V.widths[y];let de=z-J.top,oe=0-J.left;switch(j){case"middle":de-=q/2;break;case"bottom":de-=q;break}switch(E){case"center":oe-=he/2;break;case"right":oe-=he;break;case"inner":y===w-1?oe-=he:y>0&&(oe-=he/2);break}K={left:oe,top:de,width:he+J.width,height:q+J.height,color:Y.backdropColor}}x.push({label:_,font:R,textOffset:z,options:{rotation:v,color:X,strokeColor:G,strokeWidth:ee,textAlign:B,textBaseline:j,translation:[C,T],backdrop:K}})}return x}_getXAxisLabelAlignment(){const{position:t,ticks:n}=this.options;if(-bs(this.labelRotation))return t==="top"?"left":"right";let i="center";return n.align==="start"?i="left":n.align==="end"?i="right":n.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(t){const{position:n,ticks:{crossAlign:r,mirror:i,padding:a}}=this.options,s=this._getLabelSizes(),o=t+a,l=s.widest.width;let u,c;return n==="left"?i?(c=this.right+a,r==="near"?u="left":r==="center"?(u="center",c+=l/2):(u="right",c+=l)):(c=this.right-o,r==="near"?u="right":r==="center"?(u="center",c-=l/2):(u="left",c=this.left)):n==="right"?i?(c=this.left+a,r==="near"?u="right":r==="center"?(u="center",c-=l/2):(u="left",c-=l)):(c=this.left+o,r==="near"?u="left":r==="center"?(u="center",c+=l/2):(u="right",c=this.right)):u="right",{textAlign:u,x:c}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:n},left:r,top:i,width:a,height:s}=this;n&&(t.save(),t.fillStyle=n,t.fillRect(r,i,a,s),t.restore())}getLineWidthForValue(t){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const i=this.ticks.findIndex(a=>a.value===t);return i>=0?n.setContext(this.getContext(i)).lineWidth:0}drawGrid(t){const n=this.options.grid,r=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let a,s;const o=(l,u,c)=>{!c.width||!c.color||(r.save(),r.lineWidth=c.width,r.strokeStyle=c.color,r.setLineDash(c.borderDash||[]),r.lineDashOffset=c.borderDashOffset,r.beginPath(),r.moveTo(l.x,l.y),r.lineTo(u.x,u.y),r.stroke(),r.restore())};if(n.display)for(a=0,s=i.length;a<s;++a){const l=i[a];n.drawOnChartArea&&o({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),n.drawTicks&&o({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:n,options:{border:r,grid:i}}=this,a=r.setContext(this.getContext()),s=r.display?a.width:0;if(!s)return;const o=i.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let u,c,f,h;this.isHorizontal()?(u=co(t,this.left,s)-s/2,c=co(t,this.right,o)+o/2,f=h=l):(f=co(t,this.top,s)-s/2,h=co(t,this.bottom,o)+o/2,u=c=l),n.save(),n.lineWidth=a.width,n.strokeStyle=a.color,n.beginPath(),n.moveTo(u,f),n.lineTo(c,h),n.stroke(),n.restore()}drawLabels(t){if(!this.options.ticks.display)return;const r=this.ctx,i=this._computeLabelArea();i&&ib(r,i);const a=this.getLabelItems(t);for(const s of a){const o=s.options,l=s.font,u=s.label,c=s.textOffset;lp(r,u,0,c,l,o)}i&&ab(r)}drawTitle(){const{ctx:t,options:{position:n,title:r,reverse:i}}=this;if(!r.display)return;const a=Tu(r.font),s=Ya(r.padding),o=r.align;let l=a.lineHeight/2;n==="bottom"||n==="center"||Lt(n)?(l+=s.bottom,Rn(r.text)&&(l+=a.lineHeight*(r.text.length-1))):l+=s.top;const{titleX:u,titleY:c,maxWidth:f,rotation:h}=FX(this,l,n,o);lp(t,r.text,0,0,a,{color:r.color,maxWidth:f,rotation:h,textAlign:BX(o,n,i),textBaseline:"middle",translation:[u,c]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,n=t.ticks&&t.ticks.z||0,r=Kt(t.grid&&t.grid.z,-1),i=Kt(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==ju.prototype.draw?[{z:n,draw:a=>{this.draw(a)}}]:[{z:r,draw:a=>{this.drawBackground(),this.drawGrid(a),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:n,draw:a=>{this.drawLabels(a)}}]}getMatchingVisibleMetas(t){const n=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",i=[];let a,s;for(a=0,s=n.length;a<s;++a){const o=n[a];o[r]===this.id&&(!t||o.type===t)&&i.push(o)}return i}_resolveTickFontOptions(t){const n=this.options.ticks.setContext(this.getContext(t));return Tu(n.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class wh{constructor(t,n,r){this.type=t,this.scope=n,this.override=r,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const n=Object.getPrototypeOf(t);let r;qX(n)&&(r=this.register(n));const i=this.items,a=t.id,s=this.scope+"."+a;if(!a)throw new Error("class does not have id: "+t);return a in i||(i[a]=t,$X(t,s,r),this.override&&qn.override(t.id,t.overrides)),s}get(t){return this.items[t]}unregister(t){const n=this.items,r=t.id,i=this.scope;r in n&&delete n[r],i&&r in qn[i]&&(delete qn[i][r],this.override&&delete Go[r])}}function $X(e,t,n){const r=Af(Object.create(null),[n?qn.get(n):{},qn.get(t),e.defaults]);qn.set(t,r),e.defaultRoutes&&jX(t,e.defaultRoutes),e.descriptors&&qn.describe(t,e.descriptors)}function jX(e,t){Object.keys(t).forEach(n=>{const r=n.split("."),i=r.pop(),a=[e].concat(r).join("."),s=t[n].split("."),o=s.pop(),l=s.join(".");qn.route(a,i,l,o)})}function qX(e){return"id"in e&&"defaults"in e}class HX{constructor(){this.controllers=new wh(Zc,"datasets",!0),this.elements=new wh(Eg,"elements"),this.plugins=new wh(Object,"plugins"),this.scales=new wh(ju,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,n,r){[...n].forEach(i=>{const a=r||this._getRegistryForType(i);r||a.isForType(i)||a===this.plugins&&i.id?this._exec(t,a,i):Sr(i,s=>{const o=r||this._getRegistryForType(s);this._exec(t,o,s)})})}_exec(t,n,r){const i=Jx(t);Ln(r["before"+i],[],r),n[t](r),Ln(r["after"+i],[],r)}_getRegistryForType(t){for(let n=0;n<this._typedRegistries.length;n++){const r=this._typedRegistries[n];if(r.isForType(t))return r}return this.plugins}_get(t,n,r){const i=n.get(t);if(i===void 0)throw new Error('"'+t+'" is not a registered '+r+".");return i}}var na=new HX;class VX{constructor(){this._init=[]}notify(t,n,r,i){n==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const a=i?this._descriptors(t).filter(i):this._descriptors(t),s=this._notify(a,t,n,r);return n==="afterDestroy"&&(this._notify(a,t,"stop"),this._notify(this._init,t,"uninstall")),s}_notify(t,n,r,i){i=i||{};for(const a of t){const s=a.plugin,o=s[r],l=[n,i,a.options];if(Ln(o,l,s)===!1&&i.cancelable)return!1}return!0}invalidate(){Jt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),n}_createDescriptors(t,n){const r=t&&t.config,i=Kt(r.options&&r.options.plugins,{}),a=UX(r);return i===!1&&!n?[]:GX(t,a,i,n)}_notifyStateChanges(t){const n=this._oldCache||[],r=this._cache,i=(a,s)=>a.filter(o=>!s.some(l=>o.plugin.id===l.plugin.id));this._notify(i(n,r),t,"stop"),this._notify(i(r,n),t,"start")}}function UX(e){const t={},n=[],r=Object.keys(na.plugins.items);for(let a=0;a<r.length;a++)n.push(na.getPlugin(r[a]));const i=e.plugins||[];for(let a=0;a<i.length;a++){const s=i[a];n.indexOf(s)===-1&&(n.push(s),t[s.id]=!0)}return{plugins:n,localIds:t}}function WX(e,t){return!t&&e===!1?null:e===!0?{}:e}function GX(e,{plugins:t,localIds:n},r,i){const a=[],s=e.getContext();for(const o of t){const l=o.id,u=WX(r[l],i);u!==null&&a.push({plugin:o,options:YX(e.config,{plugin:o,local:n[l]},u,s)})}return a}function YX(e,{plugin:t,local:n},r,i){const a=e.pluginScopeKeys(t),s=e.getOptionScopes(r,a);return n&&t.defaults&&s.push(t.defaults),e.createResolver(s,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function $2(e,t){const n=qn.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||n.indexAxis||"x"}function XX(e,t){let n=e;return e==="_index_"?n=t:e==="_value_"&&(n=t==="x"?"y":"x"),n}function KX(e,t){return e===t?"_index_":"_value_"}function E7(e){if(e==="x"||e==="y"||e==="r")return e}function QX(e){if(e==="top"||e==="bottom")return"x";if(e==="left"||e==="right")return"y"}function j2(e,...t){if(E7(e))return e;for(const n of t){const r=n.axis||QX(n.position)||e.length>1&&E7(e[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function P7(e,t,n){if(n[t+"AxisID"]===e)return{axis:t}}function ZX(e,t){if(t.data&&t.data.datasets){const n=t.data.datasets.filter(r=>r.xAxisID===e||r.yAxisID===e);if(n.length)return P7(e,"x",n[0])||P7(e,"y",n[0])}return{}}function JX(e,t){const n=Go[e.type]||{scales:{}},r=t.scales||{},i=$2(e.type,t),a=Object.create(null);return Object.keys(r).forEach(s=>{const o=r[s];if(!Lt(o))return console.error(`Invalid scale configuration for scale: ${s}`);if(o._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${s}`);const l=j2(s,o,ZX(s,e),qn.scales[o.type]),u=KX(l,i),c=n.scales||{};a[s]=Yc(Object.create(null),[{axis:l},o,c[l],c[u]])}),e.data.datasets.forEach(s=>{const o=s.type||e.type,l=s.indexAxis||$2(o,t),c=(Go[o]||{}).scales||{};Object.keys(c).forEach(f=>{const h=XX(f,l),d=s[h+"AxisID"]||h;a[d]=a[d]||Object.create(null),Yc(a[d],[{axis:h},r[d],c[f]])})}),Object.keys(a).forEach(s=>{const o=a[s];Yc(o,[qn.scales[o.type],qn.scale])}),a}function BP(e){const t=e.options||(e.options={});t.plugins=Kt(t.plugins,{}),t.scales=JX(e,t)}function FP(e){return e=e||{},e.datasets=e.datasets||[],e.labels=e.labels||[],e}function eK(e){return e=e||{},e.data=FP(e.data),BP(e),e}const M7=new Map,$P=new Set;function kh(e,t){let n=M7.get(e);return n||(n=t(),M7.set(e,n),$P.add(n)),n}const mc=(e,t,n)=>{const r=ip(t,n);r!==void 0&&e.add(r)};class tK{constructor(t){this._config=eK(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=FP(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),BP(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return kh(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,n){return kh(`${t}.transition.${n}`,()=>[[`datasets.${t}.transitions.${n}`,`transitions.${n}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,n){return kh(`${t}-${n}`,()=>[[`datasets.${t}.elements.${n}`,`datasets.${t}`,`elements.${n}`,""]])}pluginScopeKeys(t){const n=t.id,r=this.type;return kh(`${r}-plugin-${n}`,()=>[[`plugins.${n}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,n){const r=this._scopeCache;let i=r.get(t);return(!i||n)&&(i=new Map,r.set(t,i)),i}getOptionScopes(t,n,r){const{options:i,type:a}=this,s=this._cachedScopes(t,r),o=s.get(n);if(o)return o;const l=new Set;n.forEach(c=>{t&&(l.add(t),c.forEach(f=>mc(l,t,f))),c.forEach(f=>mc(l,i,f)),c.forEach(f=>mc(l,Go[a]||{},f)),c.forEach(f=>mc(l,qn,f)),c.forEach(f=>mc(l,F2,f))});const u=Array.from(l);return u.length===0&&u.push(Object.create(null)),$P.has(n)&&s.set(n,u),u}chartOptionScopes(){const{options:t,type:n}=this;return[t,Go[n]||{},qn.datasets[n]||{},{type:n},qn,F2]}resolveNamedOptions(t,n,r,i=[""]){const a={$shared:!0},{resolver:s,subPrefixes:o}=A7(this._resolverCache,t,i);let l=s;if(rK(s,n)){a.$shared=!1,r=Fs(r)?r():r;const u=this.createResolver(t,r,o);l=Eu(s,r,u)}for(const u of n)a[u]=l[u];return a}createResolver(t,n,r=[""],i){const{resolver:a}=A7(this._resolverCache,t,r);return Lt(n)?Eu(a,n,void 0,i):a}}function A7(e,t,n){let r=e.get(t);r||(r=new Map,e.set(t,r));const i=n.join();let a=r.get(i);return a||(a={resolver:sb(t,n),subPrefixes:n.filter(o=>!o.toLowerCase().includes("hover"))},r.set(i,a)),a}const nK=e=>Lt(e)&&Object.getOwnPropertyNames(e).some(t=>Fs(e[t]));function rK(e,t){const{isScriptable:n,isIndexable:r}=SP(e);for(const i of t){const a=n(i),s=r(i),o=(s||a)&&e[i];if(a&&(Fs(o)||nK(o))||s&&Rn(o))return!0}return!1}var iK="4.4.9";const aK=["top","bottom","left","right","chartArea"];function D7(e,t){return e==="top"||e==="bottom"||aK.indexOf(e)===-1&&t==="x"}function I7(e,t){return function(n,r){return n[e]===r[e]?n[t]-r[t]:n[e]-r[e]}}function L7(e){const t=e.chart,n=t.options.animation;t.notifyPlugins("afterRender"),Ln(n&&n.onComplete,[e],t)}function sK(e){const t=e.chart,n=t.options.animation;Ln(n&&n.onProgress,[e],t)}function jP(e){return ub()&&typeof e=="string"?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const hd={},O7=e=>{const t=jP(e);return Object.values(hd).filter(n=>n.canvas===t).pop()};function oK(e,t,n){const r=Object.keys(e);for(const i of r){const a=+i;if(a>=t){const s=e[i];delete e[i],(n>0||a>t)&&(e[a+n]=s)}}}function lK(e,t,n,r){return!n||e.type==="mouseout"?null:r?t:e}var cs;let l0=(cs=class{static register(...t){na.add(...t),R7()}static unregister(...t){na.remove(...t),R7()}constructor(t,n){const r=this.config=new tK(n),i=jP(t),a=O7(i);if(a)throw new Error("Canvas is already in use. Chart with ID '"+a.id+"' must be destroyed before the canvas with ID '"+a.canvas.id+"' can be reused.");const s=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||TX(i)),this.platform.updateConfig(r);const o=this.platform.acquireContext(i,s.aspectRatio),l=o&&o.canvas,u=l&&l.height,c=l&&l.width;if(this.id=dG(),this.ctx=o,this.canvas=l,this.width=c,this.height=u,this._options=s,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new VX,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=IG(f=>this.update(f),s.resizeDelay||0),this._dataChanges=[],hd[this.id]=this,!o||!l){console.error("Failed to create chart: can't acquire context from the given item");return}Ta.listen(this,"complete",L7),Ta.listen(this,"progress",sK),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:n},width:r,height:i,_aspectRatio:a}=this;return Jt(t)?n&&a?a:i?r/i:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return na}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():s7(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return r7(this.canvas,this.ctx),this}stop(){return Ta.stop(this),this}resize(t,n){Ta.running(this)?this._resizeBeforeDraw={width:t,height:n}:this._resize(t,n)}_resize(t,n){const r=this.options,i=this.canvas,a=r.maintainAspectRatio&&this.aspectRatio,s=this.platform.getMaximumSize(i,t,n,a),o=r.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=s.width,this.height=s.height,this._aspectRatio=this.aspectRatio,s7(this,o,!0)&&(this.notifyPlugins("resize",{size:s}),Ln(r.onResize,[this,s],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};Sr(n,(r,i)=>{r.id=i})}buildOrUpdateScales(){const t=this.options,n=t.scales,r=this.scales,i=Object.keys(r).reduce((s,o)=>(s[o]=!1,s),{});let a=[];n&&(a=a.concat(Object.keys(n).map(s=>{const o=n[s],l=j2(s,o),u=l==="r",c=l==="x";return{options:o,dposition:u?"chartArea":c?"bottom":"left",dtype:u?"radialLinear":c?"category":"linear"}}))),Sr(a,s=>{const o=s.options,l=o.id,u=j2(l,o),c=Kt(o.type,s.dtype);(o.position===void 0||D7(o.position,u)!==D7(s.dposition))&&(o.position=s.dposition),i[l]=!0;let f=null;if(l in r&&r[l].type===c)f=r[l];else{const h=na.getScale(c);f=new h({id:l,type:c,ctx:this.ctx,chart:this}),r[f.id]=f}f.init(o,t)}),Sr(i,(s,o)=>{s||delete r[o]}),Sr(r,s=>{xh.configure(this,s,s.options),xh.addBox(this,s)})}_updateMetasets(){const t=this._metasets,n=this.data.datasets.length,r=t.length;if(t.sort((i,a)=>i.index-a.index),r>n){for(let i=n;i<r;++i)this._destroyDatasetMeta(i);t.splice(n,r-n)}this._sortedMetasets=t.slice(0).sort(I7("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:n}}=this;t.length>n.length&&delete this._stacks,t.forEach((r,i)=>{n.filter(a=>a===r._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const t=[],n=this.data.datasets;let r,i;for(this._removeUnreferencedMetasets(),r=0,i=n.length;r<i;r++){const a=n[r];let s=this.getDatasetMeta(r);const o=a.type||this.config.type;if(s.type&&s.type!==o&&(this._destroyDatasetMeta(r),s=this.getDatasetMeta(r)),s.type=o,s.indexAxis=a.indexAxis||$2(o,this.options),s.order=a.order||0,s.index=r,s.label=""+a.label,s.visible=this.isDatasetVisible(r),s.controller)s.controller.updateIndex(r),s.controller.linkScales();else{const l=na.getController(o),{datasetElementType:u,dataElementType:c}=qn.datasets[o];Object.assign(l,{dataElementType:na.getElement(c),datasetElementType:u&&na.getElement(u)}),s.controller=new l(this,r),t.push(s.controller)}}return this._updateMetasets(),t}_resetElements(){Sr(this.data.datasets,(t,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const n=this.config;n.update();const r=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const a=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let s=0;for(let u=0,c=this.data.datasets.length;u<c;u++){const{controller:f}=this.getDatasetMeta(u),h=!i&&a.indexOf(f)===-1;f.buildOrUpdateElements(h),s=Math.max(+f.getMaxOverflow(),s)}s=this._minPadding=r.layout.autoPadding?s:0,this._updateLayout(s),i||Sr(a,u=>{u.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(I7("z","_idx"));const{_active:o,_lastEvent:l}=this;l?this._eventHandler(l,!0):o.length&&this._updateHoverStyles(o,o,!0),this.render()}_updateScales(){Sr(this.scales,t=>{xh.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,n=new Set(Object.keys(this._listeners)),r=new Set(t.events);(!W6(n,r)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,n=this._getUniformDataChanges()||[];for(const{method:r,start:i,count:a}of n){const s=r==="_removeElements"?-a:a;oK(t,i,s)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const n=this.data.datasets.length,r=a=>new Set(t.filter(s=>s[0]===a).map((s,o)=>o+","+s.splice(1).join(","))),i=r(0);for(let a=1;a<n;a++)if(!W6(i,r(a)))return;return Array.from(i).map(a=>a.split(",")).map(a=>({method:a[1],start:+a[2],count:+a[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;xh.update(this,this.width,this.height,t);const n=this.chartArea,r=n.width<=0||n.height<=0;this._layers=[],Sr(this.boxes,i=>{r&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,a)=>{i._idx=a}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let n=0,r=this.data.datasets.length;n<r;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,r=this.data.datasets.length;n<r;++n)this._updateDataset(n,Fs(t)?t({datasetIndex:n}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,n){const r=this.getDatasetMeta(t),i={meta:r,index:t,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(r.controller._update(n),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Ta.has(this)?this.attached&&!Ta.running(this)&&Ta.start(this):(this.draw(),L7({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:r,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(t=0;t<n.length&&n[t].z<=0;++t)n[t].draw(this.chartArea);for(this._drawDatasets();t<n.length;++t)n[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const n=this._sortedMetasets,r=[];let i,a;for(i=0,a=n.length;i<a;++i){const s=n[i];(!t||s.visible)&&r.push(s)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let n=t.length-1;n>=0;--n)this._drawDataset(t[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const n=this.ctx,r={meta:t,index:t.index,cancelable:!0},i=DP(this,t);this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(i&&ib(n,i),t.controller.draw(),i&&ab(n),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(t){return Na(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,n,r,i){const a=aX.modes[n];return typeof a=="function"?a(this,t,r,i):[]}getDatasetMeta(t){const n=this.data.datasets[t],r=this._metasets;let i=r.filter(a=>a&&a._dataset===n).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:t,_dataset:n,_parsed:[],_sorted:!1},r.push(i)),i}getContext(){return this.$context||(this.$context=sl(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const n=this.data.datasets[t];if(!n)return!1;const r=this.getDatasetMeta(t);return typeof r.hidden=="boolean"?!r.hidden:!n.hidden}setDatasetVisibility(t,n){const r=this.getDatasetMeta(t);r.hidden=!n}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,n,r){const i=r?"show":"hide",a=this.getDatasetMeta(t),s=a.controller._resolveAnimations(void 0,i);ap(n)?(a.data[n].hidden=!r,this.update()):(this.setDatasetVisibility(t,r),s.update(a,{visible:r}),this.update(o=>o.datasetIndex===t?i:void 0))}hide(t,n){this._updateVisibility(t,n,!1)}show(t,n){this._updateVisibility(t,n,!0)}_destroyDatasetMeta(t){const n=this._metasets[t];n&&n.controller&&n.controller._destroy(),delete this._metasets[t]}_stop(){let t,n;for(this.stop(),Ta.remove(this),t=0,n=this.data.datasets.length;t<n;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:n}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),r7(t,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete hd[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,n=this.platform,r=(a,s)=>{n.addEventListener(this,a,s),t[a]=s},i=(a,s,o)=>{a.offsetX=s,a.offsetY=o,this._eventHandler(a)};Sr(this.options.events,a=>r(a,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,n=this.platform,r=(l,u)=>{n.addEventListener(this,l,u),t[l]=u},i=(l,u)=>{t[l]&&(n.removeEventListener(this,l,u),delete t[l])},a=(l,u)=>{this.canvas&&this.resize(l,u)};let s;const o=()=>{i("attach",o),this.attached=!0,this.resize(),r("resize",a),r("detach",s)};s=()=>{this.attached=!1,i("resize",a),this._stop(),this._resize(0,0),r("attach",o)},n.isAttached(this.canvas)?o():s()}unbindEvents(){Sr(this._listeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._listeners={},Sr(this._responsiveListeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,n,r){const i=r?"set":"remove";let a,s,o,l;for(n==="dataset"&&(a=this.getDatasetMeta(t[0].datasetIndex),a.controller["_"+i+"DatasetHoverStyle"]()),o=0,l=t.length;o<l;++o){s=t[o];const u=s&&this.getDatasetMeta(s.datasetIndex).controller;u&&u[i+"HoverStyle"](s.element,s.datasetIndex,s.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const n=this._active||[],r=t.map(({datasetIndex:a,index:s})=>{const o=this.getDatasetMeta(a);if(!o)throw new Error("No dataset found at index "+a);return{datasetIndex:a,element:o.data[s],index:s}});!V6(r,n)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,n))}notifyPlugins(t,n,r){return this._plugins.notify(this,t,n,r)}isPluginEnabled(t){return this._plugins._cache.filter(n=>n.plugin.id===t).length===1}_updateHoverStyles(t,n,r){const i=this.options.hover,a=(l,u)=>l.filter(c=>!u.some(f=>c.datasetIndex===f.datasetIndex&&c.index===f.index)),s=a(n,t),o=r?t:a(t,n);s.length&&this.updateHoverStyle(s,i.mode,!1),o.length&&i.mode&&this.updateHoverStyle(o,i.mode,!0)}_eventHandler(t,n){const r={event:t,replay:n,cancelable:!0,inChartArea:this.isPointInArea(t)},i=s=>(s.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",r,i)===!1)return;const a=this._handleEvent(t,n,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,i),(a||r.changed)&&this.render(),this}_handleEvent(t,n,r){const{_active:i=[],options:a}=this,s=n,o=this._getActiveElements(t,i,r,s),l=xG(t),u=lK(t,this._lastEvent,r,l);r&&(this._lastEvent=null,Ln(a.onHover,[t,o,this],this),l&&Ln(a.onClick,[t,o,this],this));const c=!V6(o,i);return(c||n)&&(this._active=o,this._updateHoverStyles(o,i,n)),this._lastEvent=u,c}_getActiveElements(t,n,r,i){if(t.type==="mouseout")return[];if(!r)return n;const a=this.options.hover;return this.getElementsAtEventForMode(t,a.mode,a,i)}},Ne(cs,"defaults",qn),Ne(cs,"instances",hd),Ne(cs,"overrides",Go),Ne(cs,"registry",na),Ne(cs,"version",iK),Ne(cs,"getChart",O7),cs);function R7(){return Sr(l0.instances,e=>e._plugins.invalidate())}function qP(e,t,n=t){e.lineCap=Kt(n.borderCapStyle,t.borderCapStyle),e.setLineDash(Kt(n.borderDash,t.borderDash)),e.lineDashOffset=Kt(n.borderDashOffset,t.borderDashOffset),e.lineJoin=Kt(n.borderJoinStyle,t.borderJoinStyle),e.lineWidth=Kt(n.borderWidth,t.borderWidth),e.strokeStyle=Kt(n.borderColor,t.borderColor)}function uK(e,t,n){e.lineTo(n.x,n.y)}function cK(e){return e.stepped?YG:e.tension||e.cubicInterpolationMode==="monotone"?XG:uK}function HP(e,t,n={}){const r=e.length,{start:i=0,end:a=r-1}=n,{start:s,end:o}=t,l=Math.max(i,s),u=Math.min(a,o),c=i<s&&a<s||i>o&&a>o;return{count:r,start:l,loop:t.loop,ilen:u<l&&!c?r+u-l:u-l}}function fK(e,t,n,r){const{points:i,options:a}=t,{count:s,start:o,loop:l,ilen:u}=HP(i,n,r),c=cK(a);let{move:f=!0,reverse:h}=r||{},d,p,v;for(d=0;d<=u;++d)p=i[(o+(h?u-d:d))%s],!p.skip&&(f?(e.moveTo(p.x,p.y),f=!1):c(e,v,p,h,a.stepped),v=p);return l&&(p=i[(o+(h?u:0))%s],c(e,v,p,h,a.stepped)),!!l}function hK(e,t,n,r){const i=t.points,{count:a,start:s,ilen:o}=HP(i,n,r),{move:l=!0,reverse:u}=r||{};let c=0,f=0,h,d,p,v,x,y;const w=_=>(s+(u?o-_:_))%a,k=()=>{v!==x&&(e.lineTo(c,x),e.lineTo(c,v),e.lineTo(c,y))};for(l&&(d=i[w(0)],e.moveTo(d.x,d.y)),h=0;h<=o;++h){if(d=i[w(h)],d.skip)continue;const _=d.x,C=d.y,T=_|0;T===p?(C<v?v=C:C>x&&(x=C),c=(f*c+_)/++f):(k(),e.lineTo(_,C),p=T,f=0,v=x=C),y=C}k()}function q2(e){const t=e.options,n=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!n?hK:fK}function dK(e){return e.stepped?AY:e.tension||e.cubicInterpolationMode==="monotone"?DY:xo}function pK(e,t,n,r){let i=t._path;i||(i=t._path=new Path2D,t.path(i,n,r)&&i.closePath()),qP(e,t.options),e.stroke(i)}function gK(e,t,n,r){const{segments:i,options:a}=t,s=q2(t);for(const o of i)qP(e,a,o.style),e.beginPath(),s(e,t,o,{start:n,end:n+r-1})&&e.closePath(),e.stroke()}const mK=typeof Path2D=="function";function vK(e,t,n,r){mK&&!t.options.segment?pK(e,t,n,r):gK(e,t,n,r)}class za extends Eg{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,n){const r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){const i=r.spanGaps?this._loop:this._fullLoop;kY(this._points,r,t,i,n),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=RY(this,this.options.segment))}first(){const t=this.segments,n=this.points;return t.length&&n[t[0].start]}last(){const t=this.segments,n=this.points,r=t.length;return r&&n[t[r-1].end]}interpolate(t,n){const r=this.options,i=t[n],a=this.points,s=AP(this,{property:n,start:i,end:i});if(!s.length)return;const o=[],l=dK(r);let u,c;for(u=0,c=s.length;u<c;++u){const{start:f,end:h}=s[u],d=a[f],p=a[h];if(d===p){o.push(d);continue}const v=Math.abs((i-d[n])/(p[n]-d[n])),x=l(d,p,v,r.stepped);x[n]=t[n],o.push(x)}return o.length===1?o[0]:o}pathSegment(t,n,r){return q2(this)(t,this,n,r)}path(t,n,r){const i=this.segments,a=q2(this);let s=this._loop;n=n||0,r=r||this.points.length-n;for(const o of i)s&=a(t,this,o,{start:n,end:n+r-1});return!!s}draw(t,n,r,i){const a=this.options||{};(this.points||[]).length&&a.borderWidth&&(t.save(),vK(t,this,r,i),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}Ne(za,"id","line"),Ne(za,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),Ne(za,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),Ne(za,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"});function N7(e,t,n,r){const i=e.options,{[n]:a}=e.getProps([n],r);return Math.abs(t-a)<i.radius+i.hitRadius}class Jc extends Eg{constructor(n){super();Ne(this,"parsed");Ne(this,"skip");Ne(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,r,i){const a=this.options,{x:s,y:o}=this.getProps(["x","y"],i);return Math.pow(n-s,2)+Math.pow(r-o,2)<Math.pow(a.hitRadius+a.radius,2)}inXRange(n,r){return N7(this,n,"x",r)}inYRange(n,r){return N7(this,n,"y",r)}getCenterPoint(n){const{x:r,y:i}=this.getProps(["x","y"],n);return{x:r,y:i}}size(n){n=n||this.options||{};let r=n.radius||0;r=Math.max(r,r&&n.hoverRadius||0);const i=r&&n.borderWidth||0;return(r+i)*2}draw(n,r){const i=this.options;this.skip||i.radius<.1||!Na(this,r,this.size(i)/2)||(n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.fillStyle=i.backgroundColor,WG(n,i,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}Ne(Jc,"id","point"),Ne(Jc,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),Ne(Jc,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function yK(e,t,n){const r=e.segments,i=e.points,a=t.points,s=[];for(const o of r){let{start:l,end:u}=o;u=hb(l,u,i);const c=H2(n,i[l],i[u],o.loop);if(!t.segments){s.push({source:o,target:c,start:i[l],end:i[u]});continue}const f=AP(t,c);for(const h of f){const d=H2(n,a[h.start],a[h.end],h.loop),p=MP(o,i,d);for(const v of p)s.push({source:v,target:h,start:{[n]:z7(c,d,"start",Math.max)},end:{[n]:z7(c,d,"end",Math.min)}})}}return s}function H2(e,t,n,r){if(r)return;let i=t[e],a=n[e];return e==="angle"&&(i=ri(i),a=ri(a)),{property:e,start:i,end:a}}function xK(e,t){const{x:n=null,y:r=null}=e||{},i=t.points,a=[];return t.segments.forEach(({start:s,end:o})=>{o=hb(s,o,i);const l=i[s],u=i[o];r!==null?(a.push({x:l.x,y:r}),a.push({x:u.x,y:r})):n!==null&&(a.push({x:n,y:l.y}),a.push({x:n,y:u.y}))}),a}function hb(e,t,n){for(;t>e;t--){const r=n[t];if(!isNaN(r.x)&&!isNaN(r.y))break}return t}function z7(e,t,n,r){return e&&t?r(e[n],t[n]):e?e[n]:t?t[n]:0}function VP(e,t){let n=[],r=!1;return Rn(e)?(r=!0,n=e):n=xK(e,t),n.length?new za({points:n,options:{tension:0},_loop:r,_fullLoop:r}):null}function B7(e){return e&&e.fill!==!1}function bK(e,t,n){let i=e[t].fill;const a=[t];let s;if(!n)return i;for(;i!==!1&&a.indexOf(i)===-1;){if(!Nn(i))return i;if(s=e[i],!s)return!1;if(s.visible)return i;a.push(i),i=s.fill}return!1}function wK(e,t,n){const r=CK(e);if(Lt(r))return isNaN(r.value)?!1:r;let i=parseFloat(r);return Nn(i)&&Math.floor(i)===i?kK(r[0],t,i,n):["origin","start","end","stack","shape"].indexOf(r)>=0&&r}function kK(e,t,n,r){return(e==="-"||e==="+")&&(n=t+n),n===t||n<0||n>=r?!1:n}function SK(e,t){let n=null;return e==="start"?n=t.bottom:e==="end"?n=t.top:Lt(e)?n=t.getPixelForValue(e.value):t.getBasePixel&&(n=t.getBasePixel()),n}function _K(e,t,n){let r;return e==="start"?r=n:e==="end"?r=t.options.reverse?t.min:t.max:Lt(e)?r=e.value:r=t.getBaseValue(),r}function CK(e){const t=e.options,n=t.fill;let r=Kt(n&&n.target,n);return r===void 0&&(r=!!t.backgroundColor),r===!1||r===null?!1:r===!0?"origin":r}function TK(e){const{scale:t,index:n,line:r}=e,i=[],a=r.segments,s=r.points,o=EK(t,n);o.push(VP({x:null,y:t.bottom},r));for(let l=0;l<a.length;l++){const u=a[l];for(let c=u.start;c<=u.end;c++)PK(i,s[c],o)}return new za({points:i,options:{}})}function EK(e,t){const n=[],r=e.getMatchingVisibleMetas("line");for(let i=0;i<r.length;i++){const a=r[i];if(a.index===t)break;a.hidden||n.unshift(a.dataset)}return n}function PK(e,t,n){const r=[];for(let i=0;i<n.length;i++){const a=n[i],{first:s,last:o,point:l}=MK(a,t,"x");if(!(!l||s&&o)){if(s)r.unshift(l);else if(e.push(l),!o)break}}e.push(...r)}function MK(e,t,n){const r=e.interpolate(t,n);if(!r)return{};const i=r[n],a=e.segments,s=e.points;let o=!1,l=!1;for(let u=0;u<a.length;u++){const c=a[u],f=s[c.start][n],h=s[c.end][n];if(vP(i,f,h)){o=i===f,l=i===h;break}}return{first:o,last:l,point:r}}class UP{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,n,r){const{x:i,y:a,radius:s}=this;return n=n||{start:0,end:li},t.arc(i,a,s,n.end,n.start,!0),!r.bounds}interpolate(t){const{x:n,y:r,radius:i}=this,a=t.angle;return{x:n+Math.cos(a)*i,y:r+Math.sin(a)*i,angle:a}}}function AK(e){const{chart:t,fill:n,line:r}=e;if(Nn(n))return DK(t,n);if(n==="stack")return TK(e);if(n==="shape")return!0;const i=IK(e);return i instanceof UP?i:VP(i,r)}function DK(e,t){const n=e.getDatasetMeta(t);return n&&e.isDatasetVisible(t)?n.dataset:null}function IK(e){return(e.scale||{}).getPointPositionForValue?OK(e):LK(e)}function LK(e){const{scale:t={},fill:n}=e,r=SK(n,t);if(Nn(r)){const i=t.isHorizontal();return{x:i?r:null,y:i?null:r}}return null}function OK(e){const{scale:t,fill:n}=e,r=t.options,i=t.getLabels().length,a=r.reverse?t.max:t.min,s=_K(n,t,a),o=[];if(r.grid.circular){const l=t.getPointPositionForValue(0,a);return new UP({x:l.x,y:l.y,radius:t.getDistanceFromCenterForValue(s)})}for(let l=0;l<i;++l)o.push(t.getPointPositionForValue(l,s));return o}function Dv(e,t,n){const r=AK(t),{chart:i,index:a,line:s,scale:o,axis:l}=t,u=s.options,c=u.fill,f=u.backgroundColor,{above:h=f,below:d=f}=c||{},p=i.getDatasetMeta(a),v=DP(i,p);r&&s.points.length&&(ib(e,n),RK(e,{line:s,target:r,above:h,below:d,area:n,scale:o,axis:l,clip:v}),ab(e))}function RK(e,t){const{line:n,target:r,above:i,below:a,area:s,scale:o,clip:l}=t,u=n._loop?"angle":t.axis;e.save(),u==="x"&&a!==i&&(F7(e,r,s.top),$7(e,{line:n,target:r,color:i,scale:o,property:u,clip:l}),e.restore(),e.save(),F7(e,r,s.bottom)),$7(e,{line:n,target:r,color:a,scale:o,property:u,clip:l}),e.restore()}function F7(e,t,n){const{segments:r,points:i}=t;let a=!0,s=!1;e.beginPath();for(const o of r){const{start:l,end:u}=o,c=i[l],f=i[hb(l,u,i)];a?(e.moveTo(c.x,c.y),a=!1):(e.lineTo(c.x,n),e.lineTo(c.x,c.y)),s=!!t.pathSegment(e,o,{move:s}),s?e.closePath():e.lineTo(f.x,n)}e.lineTo(t.first().x,n),e.closePath(),e.clip()}function $7(e,t){const{line:n,target:r,property:i,color:a,scale:s,clip:o}=t,l=yK(n,r,i);for(const{source:u,target:c,start:f,end:h}of l){const{style:{backgroundColor:d=a}={}}=u,p=r!==!0;e.save(),e.fillStyle=d,NK(e,s,o,p&&H2(i,f,h)),e.beginPath();const v=!!n.pathSegment(e,u);let x;if(p){v?e.closePath():j7(e,r,h,i);const y=!!r.pathSegment(e,c,{move:v,reverse:!0});x=v&&y,x||j7(e,r,f,i)}e.closePath(),e.fill(x?"evenodd":"nonzero"),e.restore()}}function NK(e,t,n,r){const i=t.chart.chartArea,{property:a,start:s,end:o}=r||{};if(a==="x"||a==="y"){let l,u,c,f;a==="x"?(l=s,u=i.top,c=o,f=i.bottom):(l=i.left,u=s,c=i.right,f=o),e.beginPath(),n&&(l=Math.max(l,n.left),c=Math.min(c,n.right),u=Math.max(u,n.top),f=Math.min(f,n.bottom)),e.rect(l,u,c-l,f-u),e.clip()}}function j7(e,t,n,r){const i=t.interpolate(n,r);i&&e.lineTo(i.x,i.y)}var WP={id:"filler",afterDatasetsUpdate(e,t,n){const r=(e.data.datasets||[]).length,i=[];let a,s,o,l;for(s=0;s<r;++s)a=e.getDatasetMeta(s),o=a.dataset,l=null,o&&o.options&&o instanceof za&&(l={visible:e.isDatasetVisible(s),index:s,fill:wK(o,s,r),chart:e,axis:a.controller.options.indexAxis,scale:a.vScale,line:o}),a.$filler=l,i.push(l);for(s=0;s<r;++s)l=i[s],!(!l||l.fill===!1)&&(l.fill=bK(i,s,n.propagate))},beforeDraw(e,t,n){const r=n.drawTime==="beforeDraw",i=e.getSortedVisibleDatasetMetas(),a=e.chartArea;for(let s=i.length-1;s>=0;--s){const o=i[s].$filler;o&&(o.line.updateControlPoints(a,o.axis),r&&o.fill&&Dv(e.ctx,o,a))}},beforeDatasetsDraw(e,t,n){if(n.drawTime!=="beforeDatasetsDraw")return;const r=e.getSortedVisibleDatasetMetas();for(let i=r.length-1;i>=0;--i){const a=r[i].$filler;B7(a)&&Dv(e.ctx,a,e.chartArea)}},beforeDatasetDraw(e,t,n){const r=t.meta.$filler;!B7(r)||n.drawTime!=="beforeDatasetDraw"||Dv(e.ctx,r,e.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};function zK(e,t){const n=[],{bounds:i,step:a,min:s,max:o,precision:l,count:u,maxTicks:c,maxDigits:f,includeBounds:h}=e,d=a||1,p=c-1,{min:v,max:x}=t,y=!Jt(s),w=!Jt(o),k=!Jt(u),_=(x-v)/(f+1);let C=Y6((x-v)/p/d)*d,T,E,A,R;if(C<1e-14&&!y&&!w)return[{value:v},{value:x}];R=Math.ceil(x/C)-Math.floor(v/C),R>p&&(C=Y6(R*C/p/d)*d),Jt(l)||(T=Math.pow(10,l),C=Math.ceil(C*T)/T),i==="ticks"?(E=Math.floor(v/C)*C,A=Math.ceil(x/C)*C):(E=v,A=x),y&&w&&a&&_G((o-s)/a,C/1e3)?(R=Math.round(Math.min((o-s)/C,c)),C=(o-s)/R,E=s,A=o):k?(E=y?s:E,A=w?o:A,R=u-1,C=(A-E)/R):(R=(A-E)/C,Xc(R,Math.round(R),C/1e3)?R=Math.round(R):R=Math.ceil(R));const D=Math.max(X6(C),X6(E));T=Math.pow(10,Jt(l)?D:l),E=Math.round(E*T)/T,A=Math.round(A*T)/T;let N=0;for(y&&(h&&E!==s?(n.push({value:s}),E<s&&N++,Xc(Math.round((E+N*C)*T)/T,s,q7(s,_,e))&&N++):E<s&&N++);N<R;++N){const z=Math.round((E+N*C)*T)/T;if(w&&z>o)break;n.push({value:z})}return w&&h&&A!==o?n.length&&Xc(n[n.length-1].value,o,q7(o,_,e))?n[n.length-1].value=o:n.push({value:o}):(!w||A===o)&&n.push({value:A}),n}function q7(e,t,{horizontal:n,minRotation:r}){const i=bs(r),a=(n?Math.sin(i):Math.cos(i))||.001,s=.75*t*(""+e).length;return Math.min(t/a,s)}class fp extends ju{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,n){return Jt(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:n,maxDefined:r}=this.getUserBounds();let{min:i,max:a}=this;const s=l=>i=n?i:l,o=l=>a=r?a:l;if(t){const l=Cu(i),u=Cu(a);l<0&&u<0?o(0):l>0&&u>0&&s(0)}if(i===a){let l=a===0?1:Math.abs(a*.05);o(a+l),t||s(i-l)}this.min=i,this.max=a}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:n,stepSize:r}=t,i;return r?(i=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),n=n||11),n&&(i=Math.min(n,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,n=t.ticks;let r=this.getTickLimit();r=Math.max(2,r);const i={maxTicks:r,bounds:t.bounds,min:t.min,max:t.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},a=this._range||this,s=zK(i,a);return t.bounds==="ticks"&&gP(s,this,"value"),t.reverse?(s.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),s}configure(){const t=this.ticks;let n=this.min,r=this.max;if(super.configure(),this.options.offset&&t.length){const i=(r-n)/Math.max(t.length-1,1)/2;n-=i,r+=i}this._startValue=n,this._endValue=r,this._valueRange=r-n}getLabelForValue(t){return rb(t,this.chart.options.locale,this.options.ticks.format)}}class hp extends fp{determineDataLimits(){const{min:t,max:n}=this.getMinMax(!0);this.min=Nn(t)?t:0,this.max=Nn(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),n=t?this.width:this.height,r=bs(this.options.ticks.minRotation),i=(t?Math.sin(r):Math.cos(r))||.001,a=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,a.lineHeight/i))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}Ne(hp,"id","linear"),Ne(hp,"defaults",{ticks:{callback:Cg.formatters.numeric}});const Lf=e=>Math.floor(xs(e)),ho=(e,t)=>Math.pow(10,Lf(e)+t);function H7(e){return e/Math.pow(10,Lf(e))===1}function V7(e,t,n){const r=Math.pow(10,n),i=Math.floor(e/r);return Math.ceil(t/r)-i}function BK(e,t){const n=t-e;let r=Lf(n);for(;V7(e,t,r)>10;)r++;for(;V7(e,t,r)<10;)r--;return Math.min(r,Lf(e))}function FK(e,{min:t,max:n}){t=ti(e.min,t);const r=[],i=Lf(t);let a=BK(t,n),s=a<0?Math.pow(10,Math.abs(a)):1;const o=Math.pow(10,a),l=i>a?Math.pow(10,i):0,u=Math.round((t-l)*s)/s,c=Math.floor((t-l)/o/10)*o*10;let f=Math.floor((u-c)/Math.pow(10,a)),h=ti(e.min,Math.round((l+c+f*Math.pow(10,a))*s)/s);for(;h<n;)r.push({value:h,major:H7(h),significand:f}),f>=10?f=f<15?15:20:f++,f>=20&&(a++,f=2,s=a>=0?1:s),h=Math.round((l+c+f*Math.pow(10,a))*s)/s;const d=ti(e.max,h);return r.push({value:d,major:H7(d),significand:f}),r}class U7 extends ju{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,n){const r=fp.prototype.parse.apply(this,[t,n]);if(r===0){this._zero=!0;return}return Nn(r)&&r>0?r:null}determineDataLimits(){const{min:t,max:n}=this.getMinMax(!0);this.min=Nn(t)?Math.max(0,t):null,this.max=Nn(n)?Math.max(0,n):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Nn(this._userMin)&&(this.min=t===ho(this.min,0)?ho(this.min,-1):ho(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:n}=this.getUserBounds();let r=this.min,i=this.max;const a=o=>r=t?r:o,s=o=>i=n?i:o;r===i&&(r<=0?(a(1),s(10)):(a(ho(r,-1)),s(ho(i,1)))),r<=0&&a(ho(i,-1)),i<=0&&s(ho(r,1)),this.min=r,this.max=i}buildTicks(){const t=this.options,n={min:this._userMin,max:this._userMax},r=FK(n,this);return t.bounds==="ticks"&&gP(r,this,"value"),t.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}getLabelForValue(t){return t===void 0?"0":rb(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=xs(t),this._valueRange=xs(this.max)-xs(t)}getPixelForValue(t){return(t===void 0||t===0)&&(t=this.min),t===null||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(xs(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const n=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+n*this._valueRange)}}Ne(U7,"id","logarithmic"),Ne(U7,"defaults",{ticks:{callback:Cg.formatters.logarithmic,major:{enabled:!0}}});function V2(e){const t=e.ticks;if(t.display&&e.display){const n=Ya(t.backdropPadding);return Kt(t.font&&t.font.size,qn.font.size)+n.height}return 0}function $K(e,t,n){return n=Rn(n)?n:[n],{w:UG(e,t.string,n),h:n.length*t.lineHeight}}function W7(e,t,n,r,i){return e===r||e===i?{start:t-n/2,end:t+n/2}:e<r||e>i?{start:t-n,end:t}:{start:t,end:t+n}}function jK(e){const t={l:e.left+e._padding.left,r:e.right-e._padding.right,t:e.top+e._padding.top,b:e.bottom-e._padding.bottom},n=Object.assign({},t),r=[],i=[],a=e._pointLabels.length,s=e.options.pointLabels,o=s.centerPointLabels?fr/a:0;for(let l=0;l<a;l++){const u=s.setContext(e.getPointLabelContext(l));i[l]=u.padding;const c=e.getPointPosition(l,e.drawingArea+i[l],o),f=Tu(u.font),h=$K(e.ctx,f,e._pointLabels[l]);r[l]=h;const d=ri(e.getIndexAngle(l)+o),p=Math.round(eb(d)),v=W7(p,c.x,h.w,0,180),x=W7(p,c.y,h.h,90,270);qK(n,t,d,v,x)}e.setCenterPoint(t.l-n.l,n.r-t.r,t.t-n.t,n.b-t.b),e._pointLabelItems=UK(e,r,i)}function qK(e,t,n,r,i){const a=Math.abs(Math.sin(n)),s=Math.abs(Math.cos(n));let o=0,l=0;r.start<t.l?(o=(t.l-r.start)/a,e.l=Math.min(e.l,t.l-o)):r.end>t.r&&(o=(r.end-t.r)/a,e.r=Math.max(e.r,t.r+o)),i.start<t.t?(l=(t.t-i.start)/s,e.t=Math.min(e.t,t.t-l)):i.end>t.b&&(l=(i.end-t.b)/s,e.b=Math.max(e.b,t.b+l))}function HK(e,t,n){const r=e.drawingArea,{extra:i,additionalAngle:a,padding:s,size:o}=n,l=e.getPointPosition(t,r+i+s,a),u=Math.round(eb(ri(l.angle+si))),c=YK(l.y,o.h,u),f=WK(u),h=GK(l.x,o.w,f);return{visible:!0,x:l.x,y:c,textAlign:f,left:h,top:c,right:h+o.w,bottom:c+o.h}}function VK(e,t){if(!t)return!0;const{left:n,top:r,right:i,bottom:a}=e;return!(Na({x:n,y:r},t)||Na({x:n,y:a},t)||Na({x:i,y:r},t)||Na({x:i,y:a},t))}function UK(e,t,n){const r=[],i=e._pointLabels.length,a=e.options,{centerPointLabels:s,display:o}=a.pointLabels,l={extra:V2(a)/2,additionalAngle:s?fr/i:0};let u;for(let c=0;c<i;c++){l.padding=n[c],l.size=t[c];const f=HK(e,c,l);r.push(f),o==="auto"&&(f.visible=VK(f,u),f.visible&&(u=f))}return r}function WK(e){return e===0||e===180?"center":e<180?"left":"right"}function GK(e,t,n){return n==="right"?e-=t:n==="center"&&(e-=t/2),e}function YK(e,t,n){return n===90||n===270?e-=t/2:(n>270||n<90)&&(e-=t),e}function XK(e,t,n){const{left:r,top:i,right:a,bottom:s}=n,{backdropColor:o}=t;if(!Jt(o)){const l=aY(t.borderRadius),u=Ya(t.backdropPadding);e.fillStyle=o;const c=r-u.left,f=i-u.top,h=a-r+u.width,d=s-i+u.height;Object.values(l).some(p=>p!==0)?(e.beginPath(),JG(e,{x:c,y:f,w:h,h:d,radius:l}),e.fill()):e.fillRect(c,f,h,d)}}function KK(e,t){const{ctx:n,options:{pointLabels:r}}=e;for(let i=t-1;i>=0;i--){const a=e._pointLabelItems[i];if(!a.visible)continue;const s=r.setContext(e.getPointLabelContext(i));XK(n,s,a);const o=Tu(s.font),{x:l,y:u,textAlign:c}=a;lp(n,e._pointLabels[i],l,u+o.lineHeight/2,o,{color:s.color,textAlign:c,textBaseline:"middle"})}}function GP(e,t,n,r){const{ctx:i}=e;if(n)i.arc(e.xCenter,e.yCenter,t,0,li);else{let a=e.getPointPosition(0,t);i.moveTo(a.x,a.y);for(let s=1;s<r;s++)a=e.getPointPosition(s,t),i.lineTo(a.x,a.y)}}function QK(e,t,n,r,i){const a=e.ctx,s=t.circular,{color:o,lineWidth:l}=t;!s&&!r||!o||!l||n<0||(a.save(),a.strokeStyle=o,a.lineWidth=l,a.setLineDash(i.dash||[]),a.lineDashOffset=i.dashOffset,a.beginPath(),GP(e,n,s,r),a.closePath(),a.stroke(),a.restore())}function ZK(e,t,n){return sl(e,{label:n,index:t,type:"pointLabel"})}class Sh extends fp{constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=Ya(V2(this.options)/2),n=this.width=this.maxWidth-t.width,r=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+n/2+t.left),this.yCenter=Math.floor(this.top+r/2+t.top),this.drawingArea=Math.floor(Math.min(n,r)/2)}determineDataLimits(){const{min:t,max:n}=this.getMinMax(!1);this.min=Nn(t)&&!isNaN(t)?t:0,this.max=Nn(n)&&!isNaN(n)?n:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/V2(this.options))}generateTickLabels(t){fp.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((n,r)=>{const i=Ln(this.options.pointLabels.callback,[n,r],this);return i||i===0?i:""}).filter((n,r)=>this.chart.getDataVisibility(r))}fit(){const t=this.options;t.display&&t.pointLabels.display?jK(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,n,r,i){this.xCenter+=Math.floor((t-n)/2),this.yCenter+=Math.floor((r-i)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,n,r,i))}getIndexAngle(t){const n=li/(this._pointLabels.length||1),r=this.options.startAngle||0;return ri(t*n+bs(r))}getDistanceFromCenterForValue(t){if(Jt(t))return NaN;const n=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*n:(t-this.min)*n}getValueForDistanceFromCenter(t){if(Jt(t))return NaN;const n=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-n:this.min+n}getPointLabelContext(t){const n=this._pointLabels||[];if(t>=0&&t<n.length){const r=n[t];return ZK(this.getContext(),t,r)}}getPointPosition(t,n,r=0){const i=this.getIndexAngle(t)-si+r;return{x:Math.cos(i)*n+this.xCenter,y:Math.sin(i)*n+this.yCenter,angle:i}}getPointPositionForValue(t,n){return this.getPointPosition(t,this.getDistanceFromCenterForValue(n))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:n,top:r,right:i,bottom:a}=this._pointLabelItems[t];return{left:n,top:r,right:i,bottom:a}}drawBackground(){const{backgroundColor:t,grid:{circular:n}}=this.options;if(t){const r=this.ctx;r.save(),r.beginPath(),GP(this,this.getDistanceFromCenterForValue(this._endValue),n,this._pointLabels.length),r.closePath(),r.fillStyle=t,r.fill(),r.restore()}}drawGrid(){const t=this.ctx,n=this.options,{angleLines:r,grid:i,border:a}=n,s=this._pointLabels.length;let o,l,u;if(n.pointLabels.display&&KK(this,s),i.display&&this.ticks.forEach((c,f)=>{if(f!==0||f===0&&this.min<0){l=this.getDistanceFromCenterForValue(c.value);const h=this.getContext(f),d=i.setContext(h),p=a.setContext(h);QK(this,d,l,s,p)}}),r.display){for(t.save(),o=s-1;o>=0;o--){const c=r.setContext(this.getPointLabelContext(o)),{color:f,lineWidth:h}=c;!h||!f||(t.lineWidth=h,t.strokeStyle=f,t.setLineDash(c.borderDash),t.lineDashOffset=c.borderDashOffset,l=this.getDistanceFromCenterForValue(n.reverse?this.min:this.max),u=this.getPointPosition(o,l),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(u.x,u.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,n=this.options,r=n.ticks;if(!r.display)return;const i=this.getIndexAngle(0);let a,s;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(i),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((o,l)=>{if(l===0&&this.min>=0&&!n.reverse)return;const u=r.setContext(this.getContext(l)),c=Tu(u.font);if(a=this.getDistanceFromCenterForValue(this.ticks[l].value),u.showLabelBackdrop){t.font=c.string,s=t.measureText(o.label).width,t.fillStyle=u.backdropColor;const f=Ya(u.backdropPadding);t.fillRect(-s/2-f.left,-a-c.size/2-f.top,s+f.width,c.size+f.height)}lp(t,o.label,0,-a,c,{color:u.color,strokeColor:u.textStrokeColor,strokeWidth:u.textStrokeWidth})}),t.restore()}drawTitle(){}}Ne(Sh,"id","radialLinear"),Ne(Sh,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Cg.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(t){return t},padding:5,centerPointLabels:!1}}),Ne(Sh,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),Ne(Sh,"descriptors",{angleLines:{_fallback:"grid"}});const Pg={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Vr=Object.keys(Pg);function G7(e,t){return e-t}function Y7(e,t){if(Jt(t))return null;const n=e._adapter,{parser:r,round:i,isoWeekday:a}=e._parseOpts;let s=t;return typeof r=="function"&&(s=r(s)),Nn(s)||(s=typeof r=="string"?n.parse(s,r):n.parse(s)),s===null?null:(i&&(s=i==="week"&&(Df(a)||a===!0)?n.startOf(s,"isoWeek",a):n.startOf(s,i)),+s)}function X7(e,t,n,r){const i=Vr.length;for(let a=Vr.indexOf(e);a<i-1;++a){const s=Pg[Vr[a]],o=s.steps?s.steps:Number.MAX_SAFE_INTEGER;if(s.common&&Math.ceil((n-t)/(o*s.size))<=r)return Vr[a]}return Vr[i-1]}function JK(e,t,n,r,i){for(let a=Vr.length-1;a>=Vr.indexOf(n);a--){const s=Vr[a];if(Pg[s].common&&e._adapter.diff(i,r,s)>=t-1)return s}return Vr[n?Vr.indexOf(n):0]}function eQ(e){for(let t=Vr.indexOf(e)+1,n=Vr.length;t<n;++t)if(Pg[Vr[t]].common)return Vr[t]}function K7(e,t,n){if(!n)e[t]=!0;else if(n.length){const{lo:r,hi:i}=tb(n,t),a=n[r]>=t?n[r]:n[i];e[a]=!0}}function tQ(e,t,n,r){const i=e._adapter,a=+i.startOf(t[0].value,r),s=t[t.length-1].value;let o,l;for(o=a;o<=s;o=+i.add(o,1,r))l=n[o],l>=0&&(t[l].major=!0);return t}function Q7(e,t,n){const r=[],i={},a=t.length;let s,o;for(s=0;s<a;++s)o=t[s],i[o]=s,r.push({value:o,major:!1});return a===0||!n?r:tQ(e,r,i,n)}class dp extends ju{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,n={}){const r=t.time||(t.time={}),i=this._adapter=new eX._date(t.adapters.date);i.init(n),Yc(r.displayFormats,i.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(t),this._normalized=n.normalized}parse(t,n){return t===void 0?null:Y7(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,n=this._adapter,r=t.time.unit||"day";let{min:i,max:a,minDefined:s,maxDefined:o}=this.getUserBounds();function l(u){!s&&!isNaN(u.min)&&(i=Math.min(i,u.min)),!o&&!isNaN(u.max)&&(a=Math.max(a,u.max))}(!s||!o)&&(l(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&l(this.getMinMax(!1))),i=Nn(i)&&!isNaN(i)?i:+n.startOf(Date.now(),r),a=Nn(a)&&!isNaN(a)?a:+n.endOf(Date.now(),r)+1,this.min=Math.min(i,a-1),this.max=Math.max(i+1,a)}_getLabelBounds(){const t=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return t.length&&(n=t[0],r=t[t.length-1]),{min:n,max:r}}buildTicks(){const t=this.options,n=t.time,r=t.ticks,i=r.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const a=this.min,s=this.max,o=MG(i,a,s);return this._unit=n.unit||(r.autoSkip?X7(n.minUnit,this.min,this.max,this._getLabelCapacity(a)):JK(this,o.length,n.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:eQ(this._unit),this.initOffsets(i),t.reverse&&o.reverse(),Q7(this,o,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let n=0,r=0,i,a;this.options.offset&&t.length&&(i=this.getDecimalForValue(t[0]),t.length===1?n=1-i:n=(this.getDecimalForValue(t[1])-i)/2,a=this.getDecimalForValue(t[t.length-1]),t.length===1?r=a:r=(a-this.getDecimalForValue(t[t.length-2]))/2);const s=t.length<3?.5:.25;n=Ra(n,0,s),r=Ra(r,0,s),this._offsets={start:n,end:r,factor:1/(n+1+r)}}_generate(){const t=this._adapter,n=this.min,r=this.max,i=this.options,a=i.time,s=a.unit||X7(a.minUnit,n,r,this._getLabelCapacity(n)),o=Kt(i.ticks.stepSize,1),l=s==="week"?a.isoWeekday:!1,u=Df(l)||l===!0,c={};let f=n,h,d;if(u&&(f=+t.startOf(f,"isoWeek",l)),f=+t.startOf(f,u?"day":s),t.diff(r,n,s)>1e5*o)throw new Error(n+" and "+r+" are too far apart with stepSize of "+o+" "+s);const p=i.ticks.source==="data"&&this.getDataTimestamps();for(h=f,d=0;h<r;h=+t.add(h,o,s),d++)K7(c,h,p);return(h===r||i.bounds==="ticks"||d===1)&&K7(c,h,p),Object.keys(c).sort(G7).map(v=>+v)}getLabelForValue(t){const n=this._adapter,r=this.options.time;return r.tooltipFormat?n.format(t,r.tooltipFormat):n.format(t,r.displayFormats.datetime)}format(t,n){const i=this.options.time.displayFormats,a=this._unit,s=n||i[a];return this._adapter.format(t,s)}_tickFormatFunction(t,n,r,i){const a=this.options,s=a.ticks.callback;if(s)return Ln(s,[t,n,r],this);const o=a.time.displayFormats,l=this._unit,u=this._majorUnit,c=l&&o[l],f=u&&o[u],h=r[n],d=u&&f&&h&&h.major;return this._adapter.format(t,i||(d?f:c))}generateTickLabels(t){let n,r,i;for(n=0,r=t.length;n<r;++n)i=t[n],i.label=this._tickFormatFunction(i.value,n,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const n=this._offsets,r=this.getDecimalForValue(t);return this.getPixelForDecimal((n.start+r)*n.factor)}getValueForPixel(t){const n=this._offsets,r=this.getDecimalForPixel(t)/n.factor-n.end;return this.min+r*(this.max-this.min)}_getLabelSize(t){const n=this.options.ticks,r=this.ctx.measureText(t).width,i=bs(this.isHorizontal()?n.maxRotation:n.minRotation),a=Math.cos(i),s=Math.sin(i),o=this._resolveTickFontOptions(0).size;return{w:r*a+o*s,h:r*s+o*a}}_getLabelCapacity(t){const n=this.options.time,r=n.displayFormats,i=r[n.unit]||r.millisecond,a=this._tickFormatFunction(t,0,Q7(this,[t],this._majorUnit),i),s=this._getLabelSize(a),o=Math.floor(this.isHorizontal()?this.width/s.w:this.height/s.h)-1;return o>0?o:1}getDataTimestamps(){let t=this._cache.data||[],n,r;if(t.length)return t;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(n=0,r=i.length;n<r;++n)t=t.concat(i[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let n,r;if(t.length)return t;const i=this.getLabels();for(n=0,r=i.length;n<r;++n)t.push(Y7(this,i[n]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return DG(t.sort(G7))}}Ne(dp,"id","time"),Ne(dp,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function _h(e,t,n){let r=0,i=e.length-1,a,s,o,l;n?(t>=e[r].pos&&t<=e[i].pos&&({lo:r,hi:i}=Io(e,"pos",t)),{pos:a,time:o}=e[r],{pos:s,time:l}=e[i]):(t>=e[r].time&&t<=e[i].time&&({lo:r,hi:i}=Io(e,"time",t)),{time:a,pos:o}=e[r],{time:s,pos:l}=e[i]);const u=s-a;return u?o+(l-o)*(t-a)/u:o}class Z7 extends dp{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(t);this._minPos=_h(n,this.min),this._tableRange=_h(n,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:n,max:r}=this,i=[],a=[];let s,o,l,u,c;for(s=0,o=t.length;s<o;++s)u=t[s],u>=n&&u<=r&&i.push(u);if(i.length<2)return[{time:n,pos:0},{time:r,pos:1}];for(s=0,o=i.length;s<o;++s)c=i[s+1],l=i[s-1],u=i[s],Math.round((c+l)/2)!==u&&a.push({time:u,pos:s/(o-1)});return a}_generate(){const t=this.min,n=this.max;let r=super.getDataTimestamps();return(!r.includes(t)||!r.length)&&r.splice(0,0,t),(!r.includes(n)||r.length===1)&&r.push(n),r.sort((i,a)=>i-a)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const n=this.getDataTimestamps(),r=this.getLabelTimestamps();return n.length&&r.length?t=this.normalize(n.concat(r)):t=n.length?n:r,t=this._cache.all=t,t}getDecimalForValue(t){return(_h(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const n=this._offsets,r=this.getDecimalForPixel(t)/n.factor-n.end;return _h(this._table,r*this._tableRange+this._minPos,!0)}}Ne(Z7,"id","timeseries"),Ne(Z7,"defaults",dp.defaults);const YP="label";function J7(e,t){typeof e=="function"?e(t):e&&(e.current=t)}function nQ(e,t){const n=e.options;n&&t&&Object.assign(n,t)}function XP(e,t){e.labels=t}function KP(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:YP;const r=[];e.datasets=t.map(i=>{const a=e.datasets.find(s=>s[n]===i[n]);return!a||!i.data||r.includes(a)?{...i}:(r.push(a),Object.assign(a,i),a)})}function rQ(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:YP;const n={labels:[],datasets:[]};return XP(n,e.labels),KP(n,e.datasets,t),n}function iQ(e,t){const{height:n=150,width:r=300,redraw:i=!1,datasetIdKey:a,type:s,data:o,options:l,plugins:u=[],fallbackContent:c,updateMode:f,...h}=e,d=te.useRef(null),p=te.useRef(null),v=()=>{d.current&&(p.current=new l0(d.current,{type:s,data:rQ(o,a),options:l&&{...l},plugins:u}),J7(t,p.current))},x=()=>{J7(t,null),p.current&&(p.current.destroy(),p.current=null)};return te.useEffect(()=>{!i&&p.current&&l&&nQ(p.current,l)},[i,l]),te.useEffect(()=>{!i&&p.current&&XP(p.current.config.data,o.labels)},[i,o.labels]),te.useEffect(()=>{!i&&p.current&&o.datasets&&KP(p.current.config.data,o.datasets,a)},[i,o.datasets]),te.useEffect(()=>{p.current&&(i?(x(),setTimeout(v)):p.current.update(f))},[i,l,o.labels,o.datasets,f]),te.useEffect(()=>{p.current&&(x(),setTimeout(v))},[s]),te.useEffect(()=>(v(),()=>x()),[]),pt.createElement("canvas",{ref:d,role:"img",height:n,width:r,...h},c)}const aQ=te.forwardRef(iQ);function sQ(e,t){return l0.register(t),te.forwardRef((n,r)=>pt.createElement(aQ,{...n,ref:r,type:e}))}const QP=sQ("scatter",su),ZP=(e,t,n,r)=>{if(e.length===0)return{prediction:"undecided",neighbors:[]};const{xMin:i,xMax:a,yMin:s,yMax:o}=t,l=e.map(v=>{const x=Math.sqrt(Math.pow((v.x-n.x)/(a-i),2)+Math.pow((v.y-n.y)/(o-s),2));return{...v,distance:x}});l.sort((v,x)=>v.distance-x.distance);const u=l.slice(0,r),c={};u.forEach(v=>{v.label&&(c[v.label]=(c[v.label]||0)+1)});const f=Object.entries(c).sort(([,v],[,x])=>x-v);if(f.length===0)return{prediction:"undecided",neighbors:u};const h=f[0][1],d=f.filter(([,v])=>v===h);let p="";return d.length>1?p="undecided":p=f[0][0],{prediction:p,neighbors:u}},oQ=(e,t,n,r)=>{const{xMin:i,xMax:a,yMin:s,yMax:o}=t,l=[];return[...Array(n).keys()].forEach(u=>{const c=i+u*(a-i)/(n-1);l[u]=[],[...Array(n).keys()].forEach(f=>{const h=s+f*(o-s)/(n-1);l[u][f]=ZP(e,t,{x:c,y:h},r).prediction})}),l};l0.register(su,hp,Jc,za,WP);const ml={xMin:0,xMax:1024,yMin:0,yMax:20},lQ=({k:e,fruitStyles:t,fruitData:n,inferDatapoint:r,showDecisionBorder:i,chartRef:a})=>{const{t:s}=tn(),o=100,l=te.useMemo(()=>n.map(p=>({x:p.color[1],y:p.length,label:p.label})),[n]),u=te.useMemo(()=>i?oQ(l,ml,o,e):null,[i,l,e]),c=te.useMemo(()=>{if(!u)return null;const p=document.createElement("canvas");p.width=o,p.height=o;const v=p.getContext("2d");if(!v)return null;for(let x=0;x<o;x++)for(let y=0;y<o;y++){const w=u[x][y];v.fillStyle=t[w].fillColor,v.fillRect(x,o-1-y,1,1)}return p},[u,t]),f=p=>{const v={x:p.color[1],y:p.length},{neighbors:x,prediction:y}=ZP(l,ml,v,e);return[{label:"lines",data:x.flatMap(k=>[{x:v.x,y:v.y,emoji:null},{x:k.x,y:k.y,emoji:null}]),showLine:!0,pointRadius:0,borderColor:"#080808"},{label:"infer",data:[{x:v.x,y:v.y,emoji:t[y].emoji}],showLine:!1,pointRadius:0}]},h=te.useMemo(()=>({datasets:[{label:"fruits",data:n.map(p=>({x:p.color[1],y:p.length,emoji:t[p.label].emoji||null})),showLine:!1,pointRadius:0,pointBackgroundColor:"rgb(112, 112, 112)",pointHoverRadius:20,pointHoverBackgroundColor:"rgba(112, 112, 112, 0.5)"},...r?f(r):[]]}),[n,t,r,e,l]),d=te.useMemo(()=>({aspectRatio:1,responsive:!0,maintainAspectRatio:!0,events:[],layout:{padding:{right:10}},scales:{x:{min:ml.xMin,max:ml.xMax,ticks:{display:!1},grid:{display:!1},title:{display:!0,text:s("FruitPredictor.xAxisTitle"),padding:{top:30},font:{size:16}}},y:{min:ml.yMin,max:ml.yMax,title:{display:!0,text:s("FruitPredictor.yAxisTitle"),font:{size:16}}}},animation:!1,plugins:{decision_border_plugin:{decisionBorderBitmap:c,fruitStyles:t,show:i}}}),[s,c,t,i]);return O.jsx(QP,{id:"fruit-predictor-scatter",ref:a,data:h,options:d,plugins:[fQ,cQ,hQ,dQ]})};function uQ(e,t,n,r,i,a){const s=Math.min(a,r/2,i/2);e.beginPath(),e.moveTo(t+s,n),e.lineTo(t+r-s,n),e.quadraticCurveTo(t+r,n,t+r,n+s),e.lineTo(t+r,n+i-s),e.quadraticCurveTo(t+r,n+i,t+r-s,n+i),e.lineTo(t+s,n+i),e.quadraticCurveTo(t,n+i,t,n+i-s),e.lineTo(t,n+s),e.quadraticCurveTo(t,n,t+s,n),e.closePath()}const cQ={id:"gradient_scale_plugin",afterDraw:e=>{const{ctx:t,scales:n}=e,r=n.x,i=n.y,a=t.createLinearGradient(r.left,i.bottom,r.right,i.bottom);a.addColorStop(0,"rgb(255, 0, 0)"),a.addColorStop(1,"rgb(255, 255, 0)");const s=r.left,o=i.bottom+10,l=r.width,u=20,c=5;t.save(),t.fillStyle=a,uQ(t,s,o,l,u,c),t.fill(),t.strokeStyle="black",t.lineWidth=1,t.stroke(),t.restore()}},fQ={id:"emojiPlugin",afterDatasetsDraw:e=>{const{ctx:t,data:n}=e;n.datasets.forEach((r,i)=>{const a=e.getDatasetMeta(i),s=r,o="20px sans-serif";t.save(),t.fillStyle="rgba(255, 255, 255, 1)",t.font=o,t.textAlign="center",t.textBaseline="middle",s.data.forEach((l,u)=>{const{emoji:c}=l,f=a.data[u];if(c&&f){const{x:h,y:d}=f;t.fillText(c,h,d)}}),t.restore()})}},hQ={id:"decision_border_plugin",beforeDraw(e,t,n){const{ctx:r,scales:i}=e,a=n==null?void 0:n.show,s=n==null?void 0:n.decisionBorderBitmap;if(!a||!s)return;const{x:o,y:l}=i;r.save(),r.imageSmoothingEnabled=!1,r.drawImage(s,o.left,l.top,o.width,l.height),r.restore()}},dQ={id:"lastGridLinePlugin",beforeDatasetsDraw(e){const{ctx:t,scales:{x:n,y:r}}=e;t.save(),t.lineWidth=1,t.beginPath(),t.moveTo(n.getPixelForValue(n.max),r.top),t.lineTo(n.getPixelForValue(n.max),r.bottom),t.strokeStyle="#e6e6e6",t.stroke(),t.restore()}},ou=({value:e,required:t=!1,label:n,name:r,disabled:i=!1,placeholder:a="",minValue:s,maxValue:o,stepDevisor:l=1,writeValue:u,onChange:c,onMouseUp:f,fullWidth:h})=>{const d=v=>{c(v.target.value/l)},p=v=>{f&&f(v.target.value/l)};return O.jsxs(gQ,{$fullWidth:h,children:[O.jsxs(pQ,{children:[n,u&&`: ${e}`]}),O.jsx(mQ,{type:"range",id:r,value:e*l,placeholder:a,required:t,disabled:i,onChange:d,onMouseUp:p,min:s*l,max:o*l}),O.jsx(vQ,{children:s}),O.jsx(yQ,{children:o})]})},pQ=Pe.span.withConfig({displayName:"SliderInput__Label",componentId:"sc-1vzzvek-0"})(["font-family:var(--main-font);font-weight:700;font-size:18px;line-height:24px;position:absolute;left:0px;top:-5px;"]),gQ=Pe.label.withConfig({displayName:"SliderInput__Field",componentId:"sc-1vzzvek-1"})(["flex:1;display:block;position:relative;border-radius:5px;padding:25px 0 25px 0;font-style:normal;font-weight:normal;font-size:16px;line-height:24px;width:",";&:focus{outline:none;}"],({$fullWidth:e})=>e?"100%":"auto"),mQ=Pe.input.withConfig({displayName:"SliderInput__Input",componentId:"sc-1vzzvek-2"})(['appearance:none;border:none;background:transparent;width:100%;&:focus{outline:none;}&[type="range"]{appearance:none;-webkit-appearance:none;height:7px;border-radius:5px;background:',";&::-webkit-slider-thumb{-webkit-appearance:none;height:20px;width:20px;border-radius:50%;background:",";border:1px solid ",";cursor:pointer;box-shadow:0 0 2px 0 #555;&:hover{box-shadow:#5a5a5a50 0px 0px 0px 4px;}&:active{box-shadow:#5a5a5a50 0px 0px 0px 6px;transition:box-shadow 350ms cubic-bezier(0.4,0,0.2,1) 0ms,left 350ms cubic-bezier(0.4,0,0.2,1) 0ms,bottom 350ms cubic-bezier(0.4,0,0.2,1) 0ms;}}&::-webkit-slider-runnable-track{-webkit-appearance:none;box-shadow:none;border:none;background:transparent;}}"],({theme:e})=>e.gray,()=>"#fff",({theme:e})=>e.gray),vQ=Pe.span.withConfig({displayName:"SliderInput__MinValue",componentId:"sc-1vzzvek-3"})(["font-style:normal;font-weight:bold;font-size:14px;line-height:24px;position:absolute;left:0;bottom:-5px;"]),yQ=Pe.span.withConfig({displayName:"SliderInput__MaxValue",componentId:"sc-1vzzvek-4"})(["font-style:normal;font-weight:bold;font-size:14px;line-height:24px;position:absolute;right:0;bottom:-5px;"]),Of=({text:e,value:t,handleChange:n})=>O.jsxs(xQ,{children:[!!e&&O.jsx(fe.Text,{children:e}),O.jsx(bQ,{type:"checkbox",onChange:n,checked:t}),O.jsx(JP,{})]}),xQ=Pe.label.withConfig({displayName:"SwitchInput__Label",componentId:"sc-m2je7z-0"})(["display:flex;align-items:center;justify-content:flex-start;gap:10px;cursor:pointer;p{font-weight:700;}"]),JP=Pe.div.withConfig({displayName:"SwitchInput__Switch",componentId:"sc-m2je7z-1"})(["position:relative;width:45px;height:24px;background:",';border-radius:26px;padding:2px;transition:all 300ms ease;margin:10px 0;&:before{transition:300ms all;content:"";position:absolute;width:20px;height:20px;border-radius:50%;top:50%;left:4px;background:white;transform:translate(0,-50%);box-shadow:0 0 2px 0 #555;}'],({theme:e})=>e.gray),bQ=Pe.input.withConfig({displayName:"SwitchInput__Input",componentId:"sc-m2je7z-2"})(["display:none;&:checked + ","{background:",";&:before{transform:translate(18px,-50%);}}"],JP,({theme:e})=>e.black),db=({label:e,segments:t,handleSelectOption:n,currentId:r,disabled:i=!1})=>O.jsxs(wQ,{children:[!!e&&O.jsx(fe.Text,{children:e}),O.jsx(kQ,{disabled:i,children:t.map(a=>O.jsx(SQ,{$active:r===a.id,onClick:()=>n(a.id),children:O.jsx("p",{children:a.text})},a.id))})]}),wQ=Pe.div.withConfig({displayName:"SegmentedControl__Wrapper",componentId:"sc-zeeqvp-0"})(["display:flex;flex-direction:column;width:100%;& > p{font-weight:600;}"]),kQ=Pe.div.withConfig({displayName:"SegmentedControl__SegmentControlContainer",componentId:"sc-zeeqvp-1"})(["display:flex;width:100%;max-width:100%;border:1px solid ",";border-radius:5px;overflow:hidden;background-color:",";cursor:",";"],({theme:e})=>e.gray,({theme:e})=>e.lightGray,({disabled:e})=>e?"not-allowed":"pointer"),SQ=Pe.div.withConfig({displayName:"SegmentedControl__Segment",componentId:"sc-zeeqvp-2"})(["flex:1;padding:10px 20px;font-size:16px;font-weight:",";color:",";background:transparent;border:none;background-color:",";&:focus{outline:none;}border-radius:5px;transition:all 0.4s ease;& > p{text-align:center;}"],({$active:e})=>e?"700":"400",({theme:e,$active:t})=>t?"white":e.black,({theme:e,$active:t})=>t?e.black:"transparent"),eM=["train","infer"],Is=["A","B","C","D","E","F"],da=({options:e,currentOptionId:t,opened:n=void 0,width:r="100%",handleOptionSelect:i,handleClick:a})=>{var c;const[s,o]=te.useState(!1),l=f=>{a===void 0&&o(!1),i(f)};te.useEffect(()=>{n!==void 0&&o(n)},[n]);const u=n===void 0?s:n;return O.jsxs(_Q,{width:r,children:[O.jsxs(CQ,{onClick:a||(()=>o(f=>!f)),$open:u,children:[((c=e.find(f=>f.id===t))==null?void 0:c.text)||"",O.jsx(PQ,{$open:u,children:O.jsx(rT,{})})]}),O.jsx(TQ,{$open:u,children:e.filter(f=>f.id!==t).map(f=>O.jsx(EQ,{onClick:()=>l(f.id),$active:f.id===t,children:f.text},f.id))})]})},_Q=Pe.div.withConfig({displayName:"DropDown__Wrapper",componentId:"sc-ro5qnn-0"})(["width:",";border-radius:5px;box-shadow:0 2px 5px rgba(0,0,0,0.1);background-color:white;position:relative;font-family:var(--main-font);font-size:16px;max-width:100%;"],({width:e})=>e),CQ=Pe.div.withConfig({displayName:"DropDown__Header",componentId:"sc-ro5qnn-1"})(["padding:5px 10px;cursor:pointer;display:flex;column-gap:20px;justify-content:space-between;align-items:center;border:1px solid ",";border-radius:5px;border-bottom-right-radius:",";border-bottom-left-radius:",";border-bottom:1px solid ",";"],({theme:e})=>e.darkGray,({$open:e})=>e?"0":"5px",({$open:e})=>e?"0":"5px",({$open:e,theme:t})=>e?"transparent":t.darkGray),TQ=Pe.ul.withConfig({displayName:"DropDown__Body",componentId:"sc-ro5qnn-2"})(["border:1px solid ",";display:",";position:absolute;background-color:white;border-bottom-left-radius:10px;border-bottom-right-radius:10px;z-index:100;width:100%;"],({theme:e})=>e.darkGray,({$open:e})=>e?"block":"none"),EQ=Pe.li.withConfig({displayName:"DropDown__Item",componentId:"sc-ro5qnn-3"})(["padding:5px 10px;list-style:none;border-bottom:1px solid ",";&:last-of-type{border:none;}&:hover{cursor:pointer;}"],({theme:e})=>e.gray),PQ=Pe.div.withConfig({displayName:"DropDown__IconBlock",componentId:"sc-ro5qnn-4"})(["display:flex;align-items:center;justify-content:center;& > svg{fill:",";transition:all 0.2s ease-in-out;transform:",";}"],({theme:e})=>e.darkGray,({$open:e})=>e?"rotate(0deg)":"rotate(90deg)"),$n=(e,t)=>{if(typeof window>"u")return t;try{const n=window.localStorage.getItem(e);if(n===null)return t;const r=JSON.parse(n);return Array.isArray(r)?r.map(i=>Array.isArray(i)?i.map(a=>a==="__undefined__"?void 0:a):i):r==="__undefined__"?void 0:r}catch(n){return console.warn("Error reading localStorage key “"+e+"”: ",n),t}},pb=({children:e,$active:t,handleClose:n})=>O.jsxs(MQ,{$active:t,children:[O.jsxs(DQ,{children:[O.jsx(IQ,{children:e}),O.jsx(LQ,{onClick:n,children:O.jsx(cN,{})})]}),O.jsx(AQ,{onClick:n})]}),MQ=Pe.div.withConfig({displayName:"PopupLayout__Wrapper",componentId:"sc-132m6af-0"})(["visibility:hidden;opacity:0;position:relative;z-index:300;transition:0.3s;",""],({$active:e})=>e&&`
      opacity: 1;
      visibility: visible;
    `),AQ=Pe.div.withConfig({displayName:"PopupLayout__Darkener",componentId:"sc-132m6af-1"})(["position:fixed;width:100%;height:100%;top:0;left:0;z-index:1;background-color:rgba(0,0,0,0.4);"]),DQ=Pe.div.withConfig({displayName:"PopupLayout__Content",componentId:"sc-132m6af-2"})(["position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);z-index:2;background:",";border-radius:10px;width:630px;box-sizing:border-box;overflow-y:auto;max-height:90vh;&::-webkit-scrollbar{display:none;}@media (max-width:600px){width:75%;}@media (max-width:500px){width:95%;}@media (max-height:700px){max-height:95vh;}@media (max-height:600px){max-height:90vh;}"],({theme:e})=>e.bodyBackground),IQ=Pe.div.withConfig({displayName:"PopupLayout__Main",componentId:"sc-132m6af-3"})(["position:relative;padding:39px 30px 30px;background-color:#fff;@media (max-width:400px){padding:25px 19px 19px;}@media (max-width:350px){padding:21px 16px 16px;}"]),LQ=Pe.div.withConfig({displayName:"PopupLayout__Cross",componentId:"sc-132m6af-4"})(["position:absolute;top:26px;right:30px;background-color:#fff;border-radius:50%;cursor:pointer;& > svg{fill:",";transition:all 0.2s ease-in-out;width:24px;height:24px;}@media (max-width:1200px){padding:11px;top:20px;right:28px;}@media (max-width:500px){padding:10px;top:18px;right:26px;}@media (max-width:400px){top:14px;right:22px;}@media (max-width:350px){padding:9px;top:12px;right:16px;}"],({theme:e})=>e.black),OQ=({active:e,handleClose:t,fruitPredictorSettings:n,setFruitPredictorSettings:r})=>{const{t:i}=tn();return O.jsx(pb,{$active:e,handleClose:t,children:O.jsxs(O.Fragment,{children:[O.jsx(fe.H3,{children:i("Settings.title")}),O.jsxs(e8,{children:[O.jsx(fe.Text,{children:i("Settings.distanceSensorPort")}),O.jsx(da,{options:Is.map(a=>({id:a,text:a})),currentOptionId:n.distanceSensorPort,handleOptionSelect:a=>r(s=>({...s,distanceSensorPort:a})),width:"100px"})]}),O.jsxs(e8,{children:[O.jsx(fe.Text,{children:i("Settings.colorSensorPort")}),O.jsx(da,{options:Is.map(a=>({id:a,text:a})),currentOptionId:n.colorSensorPort,handleOptionSelect:a=>r(s=>({...s,colorSensorPort:a})),width:"100px"})]})]})})},e8=Pe.div.withConfig({displayName:"FruitPredictorSettingsPopup__Row",componentId:"sc-1vryjip-0"})(["display:flex;column-gap:15px;align-items:center;"]);var RQ={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function NQ(e){if(typeof e=="number")return{value:e,unit:"px"};var t,n=(e.match(/^[0-9.]*/)||"").toString();n.includes(".")?t=parseFloat(n):t=parseInt(n,10);var r=(e.match(/[^0-9]*$/)||"").toString();return RQ[r]?{value:t,unit:r}:(console.warn("React Spinners: ".concat(e," is not a valid css value. Defaulting to ").concat(t,"px.")),{value:t,unit:"px"})}function Ch(e){var t=NQ(e);return"".concat(t.value).concat(t.unit)}var zQ=function(e,t,n){var r="react-spinners-".concat(e,"-").concat(n);if(typeof window>"u"||!window.document)return r;var i=document.createElement("style");document.head.appendChild(i);var a=i.sheet,s=`
    @keyframes `.concat(r,` {
      `).concat(t,`
    }
  `);return a&&a.insertRule(s,0),r},pp=globalThis&&globalThis.__assign||function(){return pp=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},pp.apply(this,arguments)},BQ=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n},FQ=zQ("ScaleLoader","0% {transform: scaley(1.0)} 50% {transform: scaley(0.4)} 100% {transform: scaley(1.0)}","scale");function $Q(e){var t=e.loading,n=t===void 0?!0:t,r=e.color,i=r===void 0?"#000000":r,a=e.speedMultiplier,s=a===void 0?1:a,o=e.cssOverride,l=o===void 0?{}:o,u=e.height,c=u===void 0?35:u,f=e.width,h=f===void 0?4:f,d=e.radius,p=d===void 0?2:d,v=e.margin,x=v===void 0?2:v,y=BQ(e,["loading","color","speedMultiplier","cssOverride","height","width","radius","margin"]),w=pp({display:"inherit"},l),k=function(_){return{backgroundColor:i,width:Ch(h),height:Ch(c),margin:Ch(x),borderRadius:Ch(p),display:"inline-block",animation:"".concat(FQ," ").concat(1/s,"s ").concat(_*.1,"s infinite cubic-bezier(0.2, 0.68, 0.18, 1.08)"),animationFillMode:"both"}};return n?te.createElement("span",pp({style:w},y),te.createElement("span",{style:k(1)}),te.createElement("span",{style:k(2)}),te.createElement("span",{style:k(3)}),te.createElement("span",{style:k(4)}),te.createElement("span",{style:k(5)})):null}/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var U2=function(e,t){return U2=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},U2(e,t)};function jQ(e,t){U2(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var qQ=100,HQ=100,t8=50,W2=50,G2=50;function n8(e){var t=e.className,n=e.counterClockwise,r=e.dashRatio,i=e.pathRadius,a=e.strokeWidth,s=e.style;return te.createElement("path",{className:t,style:Object.assign({},s,UQ({pathRadius:i,dashRatio:r,counterClockwise:n})),d:VQ({pathRadius:i,counterClockwise:n}),strokeWidth:a,fillOpacity:0})}function VQ(e){var t=e.pathRadius,n=e.counterClockwise,r=t,i=n?1:0;return`
      M `+W2+","+G2+`
      m 0,-`+r+`
      a `+r+","+r+" "+i+" 1 1 0,"+2*r+`
      a `+r+","+r+" "+i+" 1 1 0,-"+2*r+`
    `}function UQ(e){var t=e.counterClockwise,n=e.dashRatio,r=e.pathRadius,i=Math.PI*2*r,a=(1-n)*i;return{strokeDasharray:i+"px "+i+"px",strokeDashoffset:(t?-a:a)+"px"}}var WQ=function(e){jQ(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.getBackgroundPadding=function(){return this.props.background?this.props.backgroundPadding:0},t.prototype.getPathRadius=function(){return t8-this.props.strokeWidth/2-this.getBackgroundPadding()},t.prototype.getPathRatio=function(){var n=this.props,r=n.value,i=n.minValue,a=n.maxValue,s=Math.min(Math.max(r,i),a);return(s-i)/(a-i)},t.prototype.render=function(){var n=this.props,r=n.circleRatio,i=n.className,a=n.classes,s=n.counterClockwise,o=n.styles,l=n.strokeWidth,u=n.text,c=this.getPathRadius(),f=this.getPathRatio();return te.createElement("svg",{className:a.root+" "+i,style:o.root,viewBox:"0 0 "+qQ+" "+HQ,"data-test-id":"CircularProgressbar"},this.props.background?te.createElement("circle",{className:a.background,style:o.background,cx:W2,cy:G2,r:t8}):null,te.createElement(n8,{className:a.trail,counterClockwise:s,dashRatio:r,pathRadius:c,strokeWidth:l,style:o.trail}),te.createElement(n8,{className:a.path,counterClockwise:s,dashRatio:f*r,pathRadius:c,strokeWidth:l,style:o.path}),u?te.createElement("text",{className:a.text,style:o.text,x:W2,y:G2},u):null)},t.defaultProps={background:!1,backgroundPadding:0,circleRatio:1,classes:{root:"CircularProgressbar",trail:"CircularProgressbar-trail",path:"CircularProgressbar-path",text:"CircularProgressbar-text",background:"CircularProgressbar-background"},counterClockwise:!1,className:"",maxValue:100,minValue:0,strokeWidth:8,styles:{root:{},trail:{},path:{},text:{},background:{}},text:""},t}(te.Component);const Ba=({text:e,icon:t,onClick:n,variant:r="outlined",active:i=!0,loading:a=!1,type:s,loadingProgress:o})=>{const l=wx();return O.jsxs(GQ,{onClick:n,$active:i,$variant:r,type:s,children:[!!t&&!a&&t,!!a&&(o===void 0?O.jsx($Q,{color:r==="filled"?"#ffffff":l.black,width:2,height:12,margin:1}):O.jsx(WQ,{value:o,circleRatio:1,strokeWidth:12,styles:{root:{width:"20px",height:"20px"},path:{stroke:l.black},trail:{stroke:l.gray,transition:"stroke-dashoffset 0.5s ease 0s"}}})),!!e&&O.jsx(YQ,{$variant:r,children:e})]})},GQ=Pe.button.withConfig({displayName:"Button__Wrapper",componentId:"sc-roscls-0"})(["min-width:100px;border-radius:5px;background-color:",";display:flex;align-items:center;justify-content:center;cursor:",";padding:10px 20px;column-gap:10px;border:",";flex:0 1 auto;& > svg{fill:",";flex-shrink:0;}& > p{flex-shrink:0;}"],({$variant:e,theme:t})=>e==="filled"?t.black:"white",({$active:e})=>e?"pointer":"not-allowed",({$variant:e,theme:t})=>e==="outlined"?`1px solid ${t.black};`:"none",({$variant:e,theme:t})=>e==="outlined"?t.black:"white"),YQ=Pe.p.withConfig({displayName:"Button__Text",componentId:"sc-roscls-1"})(["font-size:16px;font-weight:bold;color:",";"],({$variant:e,theme:t})=>e==="filled"?"white":t.black),Y2=({children:e})=>O.jsxs(XQ,{children:[O.jsx(KQ,{children:O.jsx(dN,{})}),O.jsxs(fe.Text,{children:[" ",e]})]}),XQ=Pe.div.withConfig({displayName:"WarningBlock__Wrapper",componentId:"sc-s6n3x4-0"})(["background-color:rgb(255,250,225);margin:20px 0;border:1px solid rgb(165,140,0);border-radius:5px;padding:5px 20px;display:flex;align-items:center;justify-content:flex-start;gap:15px;"]),KQ=Pe.div.withConfig({displayName:"WarningBlock__IconWrapper",componentId:"sc-s6n3x4-1"})(["width:25px;height:25px;& > svg{fill:rgb(165,140,0);width:25px;height:25px;}"]),gb=({code:e,onStart:t})=>{const[n,r]=te.useState(0),{t:i}=tn(),{connect:a,disconnect:s,connectionStatus:o,codeStatus:l,startProgram:u,stopProgram:c}=_g(),f=async()=>{l==="on"&&await c(),l==="off"&&await u({code:e,onStart:t,onProgress:h=>r(h)})};return navigator.bluetooth?O.jsxs(QQ,{children:[O.jsx(Ba,{onClick:o==="open"?s:a,text:i(`HubInteraction.portState.${o}`),icon:o==="closed"&&O.jsx(rN,{})||o==="open"&&O.jsx(iN,{}),loading:["closing","opening"].includes(o)}),o==="open"&&O.jsx(Ba,{onClick:f,text:i(l==="on"?"HubInteraction.stopCode":"HubInteraction.launchCode"),icon:l==="off"&&O.jsx(Sx,{})||l==="on"&&O.jsx(aN,{}),loading:l==="uploading",loadingProgress:n})]}):O.jsx(Y2,{children:O.jsxs(fe.Text,{children:[i("HubInteraction.troubleshootingText.part1"),O.jsx(vn,{to:"/#/troubleshooting",children:i("HubInteraction.troubleshootingText.link")})]})})},QQ=Pe.div.withConfig({displayName:"BLEConnector__Wrapper",componentId:"sc-17e7yyk-0"})(["display:flex;column-gap:10px;row-gap:10px;margin:20px 0;align-items:center;@media (max-width:425px){flex-direction:column;align-items:stretch;}"]),ZQ=()=>`
import runloop, hub, json

class Eventer:
    def __init__(self):
        self.__subscribers = {}
        self.__queue = []

    def subscribe(self, event_name, callback):
        if event_name not in self.__subscribers:
            self.__subscribers[event_name] = []
        self.__subscribers[event_name].append(callback)

    def emit(self, event_name):
        # Instead of recursive calls, just queue the event
        self.__queue.append(event_name)

    async def process(self):
        while self.__queue:
            event_name = self.__queue.pop(0)
            runloop.run(*[callback() for callback in self.__subscribers[event_name]])

    def is_queue_non_empty(self):
        return bool(self.__queue)

eventer = Eventer()

class Messenger():
    def __init__(self, tunnel):
        self.__tunnel = tunnel
        self.__queue = []
        self.__is_sending = False
        self.__buffer = []

        self.__BANDWIDTH = 8192 // 16
        self.__MAX_PACKET_SIZE = 509 # assume it's always default
        # [max message size] = [max packet size] - [number of bytes for storing message code, length, frameId, totalFrames]
        self.__MAX_MESSAGE_SIZE = self.__MAX_PACKET_SIZE - 5 # 1 for ID, 2 for length, 1 for frameId, 1 for frameTotal


    def __queue_message(self, message):
        # encoding the message
        encoded_full_message = message.encode('utf-8')

        chunks = [
            encoded_full_message[i:i + self.__MAX_MESSAGE_SIZE]
            for i in range(0, len(encoded_full_message), self.__MAX_MESSAGE_SIZE)
        ]

        total_frames = len(chunks)

        frames = [
            bytes([frame_id, total_frames]) + chunk
            for frame_id, chunk in enumerate(chunks)
        ]

        self.__queue.extend(frames)

    def send_object(self, obj):
        stringified_object = json.dumps(obj)
        self.__queue_message(stringified_object)
        eventer.emit("process_message_queue")

    def init_message_listener(self, message_handler):
        def process_chunk(data):
            data_bytes = bytes(data)
            if len(data_bytes) < 2:
                return

            frame_id = data_bytes[0]
            total_frames = data_bytes[1]
            chunk = data_bytes[2:]

            self.__buffer.append(chunk)

            if len(self.__buffer) == total_frames:
                full_message = b"".join(self.__buffer)
                self.__buffer = []

                try:
                    decoded_message = full_message.decode('utf-8')
                    message_handler(json.loads(decoded_message))
                except:
                    print("Undecodable messages received")

        self.__tunnel.callback(process_chunk)
        
    def announce_start(self):
        self.send_object({"action": "program_start", "payload": {}})


    async def process_queue(self):
        if self.__is_sending:
            return

        if not self.__queue:
            return

        self.__is_sending = True

        if self.__queue:
            data = self.__queue.pop(0)
            size = len(data) + 3

            # Calculate wait time based on the message size
            wait_ms = size * 1_000 // self.__BANDWIDTH

            self.__tunnel.send(data)
            await runloop.sleep_ms(wait_ms)

        self.__is_sending = False
        eventer.emit("process_message_queue")

tunnel = hub.config["module_tunnel"]
messenger = Messenger(tunnel)

eventer.subscribe("process_message_queue", messenger.process_queue)


class EventListener:
    def __init__(self, condition_func, callback):
        self.__condition_func = condition_func
        self.__callback = callback
        self.__last_condition = False# Track previous condition

    async def listen(self):
        while True:
            current_condition = self.__condition_func()

            # Trigger callback only when condition starts returning True
            if current_condition and not self.__last_condition:
                await self.__callback()

            self.__last_condition = current_condition
            await runloop.sleep_ms(50)

def is_left_button_clicked():
    return bool(hub.button.pressed(hub.button.LEFT))

async def on_left_button_click():
    print("yay")
    messenger.send_object({"action": "ping", "payload": {}})

left_button_click_listener = EventListener(is_left_button_clicked, on_left_button_click)

events_listener = EventListener(eventer.is_queue_non_empty, eventer.process)

def handle_tunnel_message(message):
    print("message with following action received: ", message["action"])

messenger.init_message_listener(handle_tunnel_message)
messenger.announce_start()

runloop.run(left_button_click_listener.listen(), events_listener.listen())


`,JQ=({distanceSensorPort:e,smallMotorPort:t,smallMotorSpeed:n,bigMotorPort:r,bigMotorSpeed:i})=>`
import runloop, hub, json, math, random

class Eventer:
    def __init__(self):
        self.__subscribers = {}
        self.__queue = []

    def subscribe(self, event_name, callback):
        if event_name not in self.__subscribers:
            self.__subscribers[event_name] = []
        self.__subscribers[event_name].append(callback)

    def emit(self, event_name):
        # Instead of recursive calls, just queue the event
        self.__queue.append(event_name)

    async def process(self):
        while self.__queue:
            event_name = self.__queue.pop(0)
            runloop.run(*[callback() for callback in self.__subscribers[event_name]])

    def is_queue_non_empty(self):
        return bool(self.__queue)

eventer = Eventer()

class Messenger():
    def __init__(self, tunnel):
        self.__tunnel = tunnel
        self.__queue = []
        self.__is_sending = False
        self.__buffer = []

        self.__BANDWIDTH = 8192 // 16
        self.__MAX_PACKET_SIZE = 509 # assume it's always default
        # [max message size] = [max packet size] - [number of bytes for storing message code, length, frameId, totalFrames]
        self.__MAX_MESSAGE_SIZE = self.__MAX_PACKET_SIZE - 5 # 1 for ID, 2 for length, 1 for frameId, 1 for frameTotal


    def __queue_message(self, message):
        # encoding the message
        encoded_full_message = message.encode('utf-8')

        chunks = [
            encoded_full_message[i:i + self.__MAX_MESSAGE_SIZE]
            for i in range(0, len(encoded_full_message), self.__MAX_MESSAGE_SIZE)
        ]

        total_frames = len(chunks)

        frames = [
            bytes([frame_id, total_frames]) + chunk
            for frame_id, chunk in enumerate(chunks)
        ]

        self.__queue.extend(frames)

    def send_object(self, obj):
        stringified_object = json.dumps(obj)
        self.__queue_message(stringified_object)
        eventer.emit("process_message_queue")

    def init_message_listener(self, message_handler):
        def process_chunk(data):
            data_bytes = bytes(data)
            if len(data_bytes) < 2:
                return

            frame_id = data_bytes[0]
            total_frames = data_bytes[1]
            chunk = data_bytes[2:]

            self.__buffer.append(chunk)

            if len(self.__buffer) == total_frames:
                full_message = b"".join(self.__buffer)
                self.__buffer = []
                
                try:
                    decoded_message = full_message.decode('utf-8')
                    message_handler(json.loads(decoded_message))
                except Exception as e:
                    print("error received ", e)

        self.__tunnel.callback(process_chunk)
        
    def announce_start(self):
        self.send_object({"action": "program_start", "payload": {}})


    async def process_queue(self):
        if self.__is_sending:
            return

        if not self.__queue:
            return

        self.__is_sending = True

        if self.__queue:
            data = self.__queue.pop(0)
            size = len(data) + 3

            # Calculate wait time based on the message size
            wait_ms = size * 1_000 // self.__BANDWIDTH

            self.__tunnel.send(data)
            await runloop.sleep_ms(wait_ms)

        self.__is_sending = False
        eventer.emit("process_message_queue")

tunnel = hub.config["module_tunnel"]
messenger = Messenger(tunnel)

eventer.subscribe("process_message_queue", messenger.process_queue)


class EventListener:
    def __init__(self, condition_func, callback):
        self.__condition_func = condition_func
        self.__callback = callback
        self.__last_condition = False# Track previous condition

    async def listen(self):
        while True:
            current_condition = self.__condition_func()

            # Trigger callback only when condition starts returning True
            if current_condition and not self.__last_condition:
                await self.__callback()

            self.__last_condition = current_condition
            await runloop.sleep_ms(50)

from hub import light_matrix, port
import distance_sensor


DISTANCE_SENSOR_PORT = port.${e}
BIG_MOTOR_PORT = port.${r}
SMALL_MOTOR_PORT = port.${t}
SMALL_MOTOR_SPEED = math.floor(${n} * 1110 / 100)
BIG_MOTOR_SPEED = math.floor(${i} * 1050 / 100)

HAPPY_EMOTION = [100, 100, 0, 100, 100, 100, 100, 0, 100, 100, 0, 0, 0, 0, 0, 100, 0, 0, 0, 100, 0, 100, 100, 100, 0]
SAD_EMOTION = [100, 100, 0, 100, 100, 100, 100, 0, 100, 100, 0, 0, 0, 0, 0, 0, 100, 100, 100, 0, 100, 0, 0, 0, 100]
NEUTRAL_EMOTION = [100, 100, 0, 100, 100, 100, 100, 0, 100, 100, 0, 0, 0, 0, 0, 0, 100, 100, 100, 0, 0, 0, 0, 0, 0]

def show_emotion(emotion_array):
    light_matrix.show(emotion_array)


def get_distance_measurement():
    try:
        return math.floor(distance_sensor.distance(DISTANCE_SENSOR_PORT) / 10)
    except:
        return -1

def is_distance_ok():
    sensor_value = get_distance_measurement()

    if sensor_value <= 20:
        messenger.send_object({"action": "too_close", "payload": {}})
        return False
    if sensor_value >= 150:
        messenger.send_object({"action": "too_far", "payload": {}})
        return False

    return True

class QLearner:
    def __init__(self):
        self.motor_positions = [(0, 0), (290, 40), (330, 250), (60, 250)]
        self.q_table = [
            [0 if i != j else None for j in range((len(self.motor_positions)))]
            for i in range(len(self.motor_positions))
        ]
        self.reward_table = [
            [None for _ in range((len(self.motor_positions)))]
            for _ in range(len(self.motor_positions))
        ]
        self.current_state = 0
        self.alpha = 1
        self.gamma = 1
        self.epsilon = 0
        self.current_action = None
        self.action_fulfillment = ["unpicked", "unpicked"]
        self.before_action_distance = 0
        self.wait_before_next_move = True
        self.paused = False

    def reset_experiment(self):
        self.q_table = [
            [0 if i != j else None for j in range((len(self.motor_positions)))]
            for i in range(len(self.motor_positions))
        ]
        self.reward_table = [
            [None for _ in range((len(self.motor_positions)))]
            for _ in range(len(self.motor_positions))
        ]
        self.current_state = 0
        self.current_action = None
        self.action_fulfillment = ["unpicked", "unpicked"]
        self.paused = True
        self.gamma = 0
        self.epsilon = 0

    def pick_action(self):
        if self.current_action is not None:
            return

        if random.random() < self.epsilon:
            action_type = "exploration"
            valid_actions = [a for a in range(4) if a != self.current_state]
            
            # Just so that the training process doesn't last eternity until the crawler fills all None's
            actions_with_none_reward = [
                a for a in valid_actions if self.reward_table[self.current_state][a] is None
            ]
            
            if actions_with_none_reward:
                # If there are actions with None reward, pick one of them
                action = random.choice(actions_with_none_reward)
            else:
                # Otherwise, choose a random valid action
                action = random.choice(valid_actions)
        else:
            action_type = "exploitation"
            # Exploit: choose the best action(s) from Q-table
            state_actions = self.q_table[self.current_state]
            # Get (action, q_value) for all valid actions
            valid_actions = [
                (a, q)
                for a, q in enumerate(state_actions)
                if q is not None and a != self.current_state
            ]
            max_q = max(q for _, q in valid_actions)
            action = min([a for a, q in valid_actions if q == max_q])
        

        self.current_action = action
        self.action_fulfillment = ["picked", "picked"]
        messenger.send_object(
            {
                "action": "action_update",
                "payload": {
                    "action": self.current_action,
                    "status": "picked",
                    "type": action_type,
                },
            }
        )

    def assign_reward(self):
        prev_state = self.current_state
        prev_action = self.current_action

        # Independent from the sensor reading, the current state is new and the current action is None'd (in case sensor fails to read)
        self.current_state = self.current_action
        self.current_action = None
        self.action_fulfillment = ["unpicked", "unpicked"]

        sensor_value = get_distance_measurement()

        reward = sensor_value - self.before_action_distance

        if reward > 0:
            eventer.emit("show_happy")
        elif reward < 0:
            eventer.emit("show_sad")
        elif reward == 0:
            eventer.emit("show_neutral")
        
        self.reward_table[prev_state][prev_action] = reward
        current_q = self.q_table[prev_state][prev_action]

        # Find the maximum Q-value for the next state
        max_next_q = max(
            [q for q in self.q_table[prev_action] if q is not None], default=0
        )

        # Update Q-value using the Q-learning formula
        new_q = (1 - self.alpha) * current_q + self.alpha * (
            reward + self.gamma * max_next_q
        )
        self.q_table[prev_state][prev_action] = new_q

        messenger.send_object(
            {
                "action": "action_update",
                "payload": {"status": "unpicked"},
            }
        )
        messenger.send_object(
            {
                "action": "tables_update",
                "payload": {
                    "state": prev_state,
                    "action": prev_action,
                    "reward": reward,
                    "q": new_q,
                },
            }
        )

    def set_action_fulfillment(self, limb_ix, new_status):
        self.action_fulfillment[limb_ix] = new_status

        if (
            self.action_fulfillment[0] == "done"
            and self.action_fulfillment[1] == "done"
        ):
            eventer.emit("action_done")

    def do_action(self):
        if self.current_action is None:
            return

        sensor_value = get_distance_measurement()

        messenger.send_object(
            {
                "action": "action_update",
                "payload": {"action": self.current_action, "status": "started"},
            }
        )
        self.before_action_distance = sensor_value
        eventer.emit("move_limbs")



q_learner = QLearner()

import motor

async def reset_motors():
    await motor.run_to_absolute_position(BIG_MOTOR_PORT, q_learner.motor_positions[q_learner.current_state][0], BIG_MOTOR_SPEED)
    await motor.run_to_absolute_position(SMALL_MOTOR_PORT, q_learner.motor_positions[q_learner.current_state][1], SMALL_MOTOR_SPEED)


async def main_run():
    await reset_motors()

    if not is_distance_ok():
        return

    if q_learner.wait_before_next_move:
        q_learner.paused = True

    if not q_learner.paused:
        q_learner.do_action()

async def continue_run():
    q_learner.paused = False

    if q_learner.current_action is None:
        q_learner.pick_action()

    if not is_distance_ok():
        return
    
    q_learner.do_action()

async def move_limb1_handler():
    q_learner.set_action_fulfillment(0, "started")
    await motor.run_to_absolute_position(BIG_MOTOR_PORT, q_learner.motor_positions[q_learner.current_action][0], BIG_MOTOR_SPEED)
    q_learner.set_action_fulfillment(0, "done")

async def move_limb2_handler():
    q_learner.set_action_fulfillment(1, "started")
    await motor.run_to_absolute_position(SMALL_MOTOR_PORT, q_learner.motor_positions[q_learner.current_action][1], SMALL_MOTOR_SPEED)
    q_learner.set_action_fulfillment(1, "done")

from hub import motion_sensor

async def action_done_callback():
    messenger.send_object(
        {
            "action": "action_update",
            "payload": {"action": q_learner.current_action, "status": "done"},
        }
    )

    stable_time = 0
    while stable_time < 500:
        gyro_value = motion_sensor.angular_velocity(False)
        if all(v == 0 for v in gyro_value):
            await runloop.sleep_ms(50)
            stable_time += 50
        else:
            stable_time = 0

    messenger.send_object({"action": "state_update", "payload": {"state": q_learner.current_action}})

    q_learner.assign_reward()

    q_learner.pick_action()

    if not is_distance_ok():
        return
    
    if q_learner.wait_before_next_move:
        q_learner.paused = True

    if not q_learner.paused:
        q_learner.do_action()

async def reset():
    q_learner.reset_experiment()
    await reset_motors()

async def show_sad():
    show_emotion(SAD_EMOTION)

async def show_happy():
    show_emotion(HAPPY_EMOTION)

async def show_neutral():
    show_emotion(NEUTRAL_EMOTION)

eventer.subscribe("start_main", main_run)
eventer.subscribe("move_limbs", move_limb1_handler)
eventer.subscribe("move_limbs", move_limb2_handler)
eventer.subscribe("action_done", action_done_callback)
eventer.subscribe("continue", continue_run)
eventer.subscribe("reset", reset)
eventer.subscribe("show_happy", show_happy)
eventer.subscribe("show_sad", show_sad)
eventer.subscribe("show_neutral", show_neutral)



def is_right_button_clicked():
    return bool(hub.button.pressed(hub.button.RIGHT))

right_button_click_listener = EventListener(is_right_button_clicked, continue_run)

events_listener = EventListener(eventer.is_queue_non_empty, eventer.process)

def handle_tunnel_message(message):
    if "action" not in message:
        return

    action = message["action"]

    if action == "wait_before_next_move_update":
        q_learner.wait_before_next_move = message["payload"]["wait_before_next_move"]

    elif action == "continue":
        eventer.emit("continue")

    elif action == "pause":
        q_learner.paused = True

    elif action == "reset":
        eventer.emit("reset")

    elif action == "epsilon_update":
        q_learner.epsilon = message["payload"]["epsilon"]

    elif action == "think_future_update":
        q_learner.gamma = int(message["payload"]["think_future"])

    elif action == "code_start":
        q_learner.epsilon = message["payload"]["epsilon"]
        q_learner.q_table = [
            [None if i == j else val for j, val in enumerate(row)]
            for i, row in enumerate(message["payload"]["q_table"])
        ]
        q_learner.wait_before_next_move = message["payload"]["wait_before_next_move"]
        q_learner.current_state = message["payload"]["current_state"] if isinstance(message["payload"]["current_state"], int) else 0
        q_learner.paused = True
        q_learner.gamma = int(message["payload"]["think_future"])
        eventer.emit("start_main")
        
    elif action == "move_to":
        q_learner.epsilon = message["payload"]["epsilon"]
        q_learner.q_table = [
            [None if i == j else val for j, val in enumerate(row)]
            for i, row in enumerate(message["payload"]["q_table"])
        ]
        q_learner.wait_before_next_move = message["payload"]["wait_before_next_move"]
        q_learner.current_state = message["payload"]["current_state"] if isinstance(message["payload"]["current_state"], int) else 0
        q_learner.paused = True
        q_learner.gamma = int(message["payload"]["think_future"])
        eventer.emit("start_main")

    else:
        return


messenger.init_message_listener(handle_tunnel_message)
messenger.announce_start()

runloop.run(right_button_click_listener.listen(), events_listener.listen())

`,eZ=({distanceSensorPort:e,colorSensorPort:t})=>`

import runloop, hub, json

class Eventer:
    def __init__(self):
        self.__subscribers = {}
        self.__queue = []

    def subscribe(self, event_name, callback):
        if event_name not in self.__subscribers:
            self.__subscribers[event_name] = []
        self.__subscribers[event_name].append(callback)

    def emit(self, event_name):
        # Instead of recursive calls, just queue the event
        self.__queue.append(event_name)

    async def process(self):
        while self.__queue:
            event_name = self.__queue.pop(0)
            runloop.run(*[callback() for callback in self.__subscribers[event_name]])

    def is_queue_non_empty(self):
        return bool(self.__queue)

eventer = Eventer()

class Messenger():
    def __init__(self, tunnel):
        self.__tunnel = tunnel
        self.__queue = []
        self.__is_sending = False
        self.__buffer = []

        self.__BANDWIDTH = 8192 // 16
        self.__MAX_PACKET_SIZE = 509 # assume it's always default
        # [max message size] = [max packet size] - [number of bytes for storing message code, length, frameId, totalFrames]
        self.__MAX_MESSAGE_SIZE = self.__MAX_PACKET_SIZE - 5 # 1 for ID, 2 for length, 1 for frameId, 1 for frameTotal


    def __queue_message(self, message):
        # encoding the message
        encoded_full_message = message.encode('utf-8')

        chunks = [
            encoded_full_message[i:i + self.__MAX_MESSAGE_SIZE]
            for i in range(0, len(encoded_full_message), self.__MAX_MESSAGE_SIZE)
        ]

        total_frames = len(chunks)

        frames = [
            bytes([frame_id, total_frames]) + chunk
            for frame_id, chunk in enumerate(chunks)
        ]

        self.__queue.extend(frames)

    def send_object(self, obj):
        stringified_object = json.dumps(obj)
        self.__queue_message(stringified_object)
        eventer.emit("process_message_queue")

    def init_message_listener(self, message_handler):
        def process_chunk(data):
            data_bytes = bytes(data)
            if len(data_bytes) < 2:
                return

            frame_id = data_bytes[0]
            total_frames = data_bytes[1]
            chunk = data_bytes[2:]

            self.__buffer.append(chunk)

            if len(self.__buffer) == total_frames:
                full_message = b"".join(self.__buffer)
                self.__buffer = []

                try:
                    decoded_message = full_message.decode('utf-8')
                    message_handler(json.loads(decoded_message))
                except:
                    print("Undecodable messages received")

        self.__tunnel.callback(process_chunk)
        
    def announce_start(self):
        self.send_object({"action": "program_start", "payload": {}})


    async def process_queue(self):
        if self.__is_sending:
            return

        if not self.__queue:
            return

        self.__is_sending = True

        if self.__queue:
            data = self.__queue.pop(0)
            size = len(data) + 3

            # Calculate wait time based on the message size
            wait_ms = size * 1_000 // self.__BANDWIDTH

            self.__tunnel.send(data)
            await runloop.sleep_ms(wait_ms)

        self.__is_sending = False
        eventer.emit("process_message_queue")

tunnel = hub.config["module_tunnel"]
messenger = Messenger(tunnel)

eventer.subscribe("process_message_queue", messenger.process_queue)


class EventListener:
    def __init__(self, condition_func, callback):
        self.__condition_func = condition_func
        self.__callback = callback
        self.__last_condition = False# Track previous condition

    async def listen(self):
        while True:
            current_condition = self.__condition_func()

            # Trigger callback only when condition starts returning True
            if current_condition and not self.__last_condition:
                await self.__callback()

            self.__last_condition = current_condition
            await runloop.sleep_ms(50)


from hub import port

DISTANCE_SENSOR_PORT = port.${e}
COLOR_SENSOR_PORT = port.${t}

import distance_sensor, color_sensor
from hub import light_matrix

def get_distance_measurement():
    try:
        return distance_sensor.distance(DISTANCE_SENSOR_PORT) / 10
    except:
        return None

def get_color_measurement():
    try:
        return color_sensor.rgbi(COLOR_SENSOR_PORT)
    except:
        return None

def feature_distance(dp1, dp2):
    return ((dp1["len"] - dp2["len"]) / 20) ** 2 + (
        (dp1["color"][1] - dp2["color"][1]) / 1024
    ) ** 2


def most_common_label(labels):
    label_count = {}
    for label in labels:
        label_count[label] = label_count.get(label, 0) + 1
    return max(label_count, key=label_count.get)

class KNN:
    def __init__(self):
        self.mode = "train"
        self.data = []
        self.current_class = None
        self.cache = {"color": None, "len": None}
        self.current_id = 0
        self.k = 3
        self.class_names = {}

    def change_mode(self, new_mode):
        self.mode = new_mode

    def change_current_class(self, new_current_class, class_name):
        self.current_class = new_current_class
        self.class_names[new_current_class] = class_name

    def check_and_add_dp(self):
        if self.cache["color"] is None or self.cache["len"] is None:
            return
        data_obj = {
            "id": str(self.current_id),
            "len": self.cache["len"],
            "color": self.cache["color"],
            "label": self.current_class,
        }
        self.current_id += 1
        self.data.append(data_obj)
        self.clean_cache()
        messenger.send_object({"action": "add_point", "payload": data_obj})

    def log_color(self, value):
        self.cache["color"] = value

    def log_length(self, value):
        self.cache["len"] = value

    def check_and_infer(self):
        if self.cache["color"] is None or self.cache["len"] is None:
            return
        new_data_obj = {"len": self.cache["len"], "color": self.cache["color"]}
        distances = []
        for dp in self.data:
            dist = feature_distance(new_data_obj, dp)
            distances.append((dist, dp["label"], dp["id"]))
        distances.sort(key=lambda x: x[0])
        nearest_neighbors = distances[: self.k]
        neighbor_ids = [neighbor[2] for neighbor in nearest_neighbors]
        neighbor_labels = [neighbor[1] for neighbor in nearest_neighbors]
        predicted_label = most_common_label(neighbor_labels)
        data_obj = {
            "predicted_label": predicted_label,
            "nearest_neighbors": neighbor_ids,
            "len": new_data_obj["len"],
            "color": new_data_obj["color"],
        }
        messenger.send_object({"action": "inference_result", "payload": data_obj})
        self.clean_cache()

        return (
            self.class_names[predicted_label]
            if predicted_label in self.class_names
            else predicted_label
        )

    def clean_cache(self):
        self.log_color(None)
        self.log_length(None)
        self.light_up_matrix()

    def delete_datapoint(self, dp_id):
        self.data = [dp for dp in self.data if dp["id"] != dp_id]

    def change_datapoint_label(self, dp_id, new_label):
        for dp in self.data:
            if dp["id"] == dp_id:
                dp["label"] = new_label
                break

    def change_k(self, new_k):
        self.k = new_k

    def light_up_matrix(self):
        light_matrix.clear()

        if self.cache["len"] is not None:
            light_matrix.set_pixel(0, 4, 100)

        if self.cache["color"] is not None:
            light_matrix.set_pixel(4, 4, 100)

knn = KNN()

def is_left_button_clicked():
    return bool(hub.button.pressed(hub.button.LEFT))

async def on_left_button_click():
    sensor_value = get_distance_measurement()
    if sensor_value is None or sensor_value >= 21:
        return

    if knn.mode == "train":
        if knn.current_class is None:
            await light_matrix.write("No class selected")
            knn.light_up_matrix()
            return
        knn.log_length(sensor_value)
        knn.check_and_add_dp()

    elif knn.mode == "infer":
        knn.log_length(sensor_value)
        predicted_label = knn.check_and_infer()
        if predicted_label is not None:
            await light_matrix.write(predicted_label)

    knn.light_up_matrix()

def is_right_button_clicked():
    return bool(hub.button.pressed(hub.button.RIGHT))

async def on_right_button_click():
    sensor_value = get_color_measurement()
    if sensor_value is None:
        return

    if knn.mode == "train":
        if knn.current_class is None:
            await light_matrix.write("No class selected") # TODO: add translations
            knn.light_up_matrix()
            return
        knn.log_color(sensor_value)
        knn.check_and_add_dp()

    elif knn.mode == "infer":
        knn.log_color(sensor_value)
        predicted_label = knn.check_and_infer()
        if predicted_label is not None:
            await light_matrix.write(predicted_label)

    knn.light_up_matrix()

left_button_click_listener = EventListener(is_left_button_clicked, on_left_button_click)
right_button_click_listener = EventListener(is_right_button_clicked, on_right_button_click)

events_listener = EventListener(eventer.is_queue_non_empty, eventer.process)

def handle_tunnel_message(message):
    if "action" not in message:
        return

    action = message["action"]

    if action == "change_class":
        knn.change_current_class(message["payload"]["class"], message["payload"]["class_name"])

    elif action == "change_mode":
        new_mode = message["payload"]["mode"]
        if knn.mode == new_mode:
            return
        knn.change_mode(message["payload"]["mode"])

    elif action == "delete_datapoint":
        knn.delete_datapoint(message["payload"]["id"])

    elif action == "change_datapoint_label":
        knn.change_datapoint_label(message["payload"]["id"], message["payload"]["new_label"])

    elif action == "change_k":
        knn.change_k(message["payload"]["k"])

    elif action == "startup_functionality":
        knn.change_current_class(message["payload"]["class"], message["payload"]["class_name"])
        knn.change_mode(message["payload"]["mode"])
        knn.data = message["payload"]["data"]
        knn.k = message["payload"]["k"]

        # Find the largest "id" in the data
        if len(knn.data) > 0:
            max_id = max(int(item["id"]) for item in knn.data)
        else:
            max_id = -1
        knn.current_id = max_id + 1

    else:
        return

messenger.init_message_listener(handle_tunnel_message)
messenger.announce_start()

runloop.run(left_button_click_listener.listen(), right_button_click_listener.listen(), events_listener.listen())


`,tZ=({distanceSensorPort:e,leftMotorPort:t,rightMotorPort:n,isInverted:r})=>`

import runloop, hub, json, math

class Eventer:
    def __init__(self):
        self.__subscribers = {}
        self.__queue = []

    def subscribe(self, event_name, callback):
        if event_name not in self.__subscribers:
            self.__subscribers[event_name] = []
        self.__subscribers[event_name].append(callback)

    def emit(self, event_name):
        # Instead of recursive calls, just queue the event
        self.__queue.append(event_name)

    async def process(self):
        while self.__queue:
            event_name = self.__queue.pop(0)
            runloop.run(*[callback() for callback in self.__subscribers[event_name]])

    def is_queue_non_empty(self):
        return bool(self.__queue)

eventer = Eventer()

class Messenger():
    def __init__(self, tunnel):
        self.__tunnel = tunnel
        self.__queue = []
        self.__is_sending = False
        self.__buffer = []

        self.__BANDWIDTH = 8192 // 16
        self.__MAX_PACKET_SIZE = 509 # assume it's always default
        # [max message size] = [max packet size] - [number of bytes for storing message code, length, frameId, totalFrames]
        self.__MAX_MESSAGE_SIZE = self.__MAX_PACKET_SIZE - 5 # 1 for ID, 2 for length, 1 for frameId, 1 for frameTotal


    def __queue_message(self, message):
        # encoding the message
        encoded_full_message = message.encode('utf-8')

        chunks = [
            encoded_full_message[i:i + self.__MAX_MESSAGE_SIZE]
            for i in range(0, len(encoded_full_message), self.__MAX_MESSAGE_SIZE)
        ]

        total_frames = len(chunks)

        frames = [
            bytes([frame_id, total_frames]) + chunk
            for frame_id, chunk in enumerate(chunks)
        ]

        self.__queue.extend(frames)

    def send_object(self, obj):
        stringified_object = json.dumps(obj)
        self.__queue_message(stringified_object)
        eventer.emit("process_message_queue")

    def init_message_listener(self, message_handler):
        def process_chunk(data):
            data_bytes = bytes(data)
            if len(data_bytes) < 2:
                return

            frame_id = data_bytes[0]
            total_frames = data_bytes[1]
            chunk = data_bytes[2:]

            self.__buffer.append(chunk)

            if len(self.__buffer) == total_frames:
                full_message = b"".join(self.__buffer)
                self.__buffer = []

                try:
                    decoded_message = full_message.decode('utf-8')
                    message_handler(json.loads(decoded_message))
                except:
                    print("Undecodable messages received")

        self.__tunnel.callback(process_chunk)
        
    def announce_start(self):
        self.send_object({"action": "program_start", "payload": {}})


    async def process_queue(self):
        if self.__is_sending:
            return

        if not self.__queue:
            return

        self.__is_sending = True

        if self.__queue:
            data = self.__queue.pop(0)
            size = len(data) + 3

            # Calculate wait time based on the message size
            wait_ms = size * 1_000 // self.__BANDWIDTH

            self.__tunnel.send(data)
            await runloop.sleep_ms(wait_ms)

        self.__is_sending = False
        eventer.emit("process_message_queue")

tunnel = hub.config["module_tunnel"]
messenger = Messenger(tunnel)

eventer.subscribe("process_message_queue", messenger.process_queue)


class EventListener:
    def __init__(self, condition_func, callback):
        self.__condition_func = condition_func
        self.__callback = callback
        self.__last_condition = False# Track previous condition

    async def listen(self):
        while True:
            current_condition = self.__condition_func()

            # Trigger callback only when condition starts returning True
            if current_condition and not self.__last_condition:
                await self.__callback()

            self.__last_condition = current_condition
            await runloop.sleep_ms(50)

from hub import port

DISTANCE_SENSOR_PORT = port.${e}
LEFT_MOTOR_PORT = port.${t}
RIGHT_MOTOR_PORT = port.${n}
ROTATION_SIGN = ${+!r*2-1}

import distance_sensor


def get_distance_measurement():
    try:
        return distance_sensor.distance(DISTANCE_SENSOR_PORT) / 10
    except:
        return -1

class Pingponger:
    def __init__(self):
        self.mode = "train"
        self.motor_pair = None
        self.data = []
        self.current_id = 0
        self.cache = {"distance": None, "power": None}
        self.best_parameters = [None, None]
        self.current_parameters = [None, None]
        self.infer_distance = None
        self.train_power = 50
        self.is_shooting = False

    def change_mode(self, new_mode):
        self.mode = new_mode
        self.infer_distance = None

    def change_power(self, new_power):
        self.train_power = new_power

    def calc_infer(self):
        pred_power = math.floor(
            self.current_parameters[0] * self.infer_distance
            + self.current_parameters[1]
        )
        if pred_power > 100:
            pred_power = 100
        if pred_power < 20:
            pred_power = 20

        return pred_power

    def log_distance(self, distance):
        self.cache["distance"] = distance

    def log_power(self):
        self.cache["power"] = self.train_power
        return self.cache["power"]

    def check_and_add_dp(self):
        if self.cache["power"] is None or self.cache["distance"] is None:
            return

        data_obj = {
            "id": str(self.current_id),
            "power": self.cache["power"],
            "distance": self.cache["distance"],
        }
        self.current_id += 1
        self.data.append(data_obj)

        self.cache = {"power": None, "distance": None}

        messenger.send_object({"action": "add_point", "payload": data_obj})
        self.recalculate_best_parameters()

    def recalculate_best_parameters(self):
        if len(self.data) < 2:
            return  # Need at least two points to calculate a linear relationship

        distances = [point["distance"] for point in self.data]
        powers = [point["power"] for point in self.data]

        N = len(self.data)
        sum_x = sum(distances)
        sum_y = sum(powers)
        sum_x_squared = sum(x * x for x in distances)
        sum_xy = sum(x * y for x, y in zip(distances, powers))

        slope = (N * sum_xy - sum_x * sum_y) / (N * sum_x_squared - sum_x**2)
        intercept = (sum_y - slope * sum_x) / N

        old_best = self.best_parameters
        self.best_parameters = [slope, intercept]

        if not self.current_parameters[0] or (
            self.current_parameters[0] == old_best[0]
            and self.current_parameters[1] == old_best[1]
        ):
            self.current_parameters = self.best_parameters

    def log_infer_distance(self, logged_distance):
        self.infer_distance = logged_distance
        data_obj = {
            "distance": logged_distance,
        }
        messenger.send_object({"action": "infer_distance", "payload": data_obj})

    def change_parameters(self, parameters):
        self.current_parameters = parameters

    def set_best_parameters(self):
        self.current_parameters = self.best_parameters

    def delete_datapoint(self, dp_id):
        self.data = [dp for dp in self.data if dp["id"] != str(dp_id)]
        self.recalculate_best_parameters()

    def upload_datapoints(self, dps):
        self.data = dps
        self.recalculate_best_parameters()
        self.current_id = len(dps) + 1


pingponger = Pingponger()

import motor_pair

motor_pair.pair(motor_pair.PAIR_1, LEFT_MOTOR_PORT, RIGHT_MOTOR_PORT)

from hub import light_matrix

async def show_no():
    light_matrix.show_image(light_matrix.IMAGE_NO)
    await runloop.sleep_ms(500)
    light_matrix.clear()


def is_left_button_clicked():
    return bool(hub.button.pressed(hub.button.LEFT))

async def on_left_button_click():
    if pingponger.is_shooting:
        return
    if pingponger.mode == "train":
        pingponger.log_power()
        shooting_power = pingponger.train_power

    elif pingponger.mode == "infer":
        if pingponger.infer_distance is None:
            await show_no()
            return
        shooting_power = pingponger.calc_infer()

    pingponger.is_shooting = True
    
    await motor_pair.move_for_degrees(motor_pair.PAIR_1, 360, 0, velocity=int(ROTATION_SIGN * 1110 * shooting_power / 100), acceleration=10000)

    pingponger.is_shooting = False

left_button_click_listener = EventListener(is_left_button_clicked, on_left_button_click)


def is_right_button_clicked():
    return bool(hub.button.pressed(hub.button.RIGHT))

async def on_right_button_click():
    if pingponger.is_shooting:
        return
    sensor_value = get_distance_measurement()
    if sensor_value is None or sensor_value >= 130 or sensor_value <= 5:
        await show_no()
        pingponger.infer_distance = None
        return

    if pingponger.mode == "train":
        pingponger.log_distance(sensor_value)
        pingponger.check_and_add_dp()
    elif pingponger.mode == "infer":
        pingponger.log_infer_distance(sensor_value)

right_button_click_listener = EventListener(is_right_button_clicked, on_right_button_click)

eventer.subscribe("shoot", on_left_button_click)
eventer.subscribe("measure", on_right_button_click)

events_listener = EventListener(eventer.is_queue_non_empty, eventer.process)

def handle_tunnel_message(message):
    if "action" not in message:
        return

    action = message["action"]

    if action == "change_power":
        pingponger.change_power(message["payload"]["power"])

    elif action == "change_mode":
        pingponger.change_mode(message["payload"]["mode"])

    elif action == "delete_datapoint":
        pingponger.delete_datapoint(message["payload"]["id"])

    elif action == "code_start":
        pingponger.change_mode(message["payload"]["mode"])
        pingponger.upload_datapoints(message["payload"]["datapoints"])
        pingponger.change_power(message["payload"]["power"])
        pingponger.infer_distance = message["payload"]["infer_distance"]

    elif action == "pitch_ball":
        eventer.emit("shoot")
    
    elif action == "measure_distance":
        eventer.emit("measure")

    else:
        return

messenger.init_message_listener(handle_tunnel_message)
messenger.announce_start()

runloop.run(left_button_click_listener.listen(), right_button_click_listener.listen(), events_listener.listen())

`,mb={boilerplate:ZQ,crawler:JQ,fruitPredictor:eZ,pitcher:tZ},nZ=({data:e,fruitDropDownOptions:t,handleChangeLabel:n,handleRemoveData:r,handleTableRowHover:i})=>{const{t:a}=tn(),[s,o]=te.useState(null);return O.jsxs(rZ,{children:[O.jsx(r8,{children:[a("FruitPredictor.yAxisTitle"),a("FruitPredictor.xAxisTitle"),a("FruitPredictor.label"),a("FruitPredictor.delete")].map((l,u)=>O.jsx(iZ,{children:l},u))}),O.jsx(aZ,{children:e.map(l=>O.jsxs(r8,{onMouseEnter:()=>i(l.id),onMouseLeave:()=>i(null),children:[O.jsx(X2,{children:O.jsx("p",{children:l.length})}),O.jsx(X2,{children:O.jsx(sZ,{$color:l.color})}),O.jsx(i8,{style:{position:"relative"},children:O.jsx(da,{options:t,currentOptionId:l.label,handleOptionSelect:u=>{n(l.id,u),o(null)},opened:l.id===s,handleClick:()=>o(s===l.id?null:l.id)})}),O.jsx(i8,{children:O.jsx("p",{onClick:()=>r(l.id),children:"🗑️"})})]},l.id))})]})},rZ=Pe.div.withConfig({displayName:"FruitPredictorTable__TableWrapper",componentId:"sc-z2gly5-0"})(["display:grid;border:1px solid ",";border-radius:5px;font-family:var(--main-font);font-size:16px;font-weight:400;position:relative;"],({theme:e})=>e.black),iZ=Pe.span.withConfig({displayName:"FruitPredictorTable__HeaderCell",componentId:"sc-z2gly5-1"})(["display:table-header-group;vertical-align:middle;border-color:inherit;background-color:",";padding:10px 15px;@media (max-width:1600px){padding:10px 10px;}color:white;font-weight:900;"],({theme:e})=>e.black),r8=Pe.div.withConfig({displayName:"FruitPredictorTable__TableRow",componentId:"sc-z2gly5-2"})(["display:grid;position:relative;grid-template-columns:1fr 1fr 1fr 1fr;@media (max-width:1600px){grid-template-columns:1fr 1fr 2fr 1fr;}&:nth-child(odd){background-color:",';}&:nth-child(even){background-color:"white";}&:last-of-type,&:first-of-type{border:none;}'],({theme:e})=>e.gray),aZ=Pe.div.withConfig({displayName:"FruitPredictorTable__Body",componentId:"sc-z2gly5-3"})(["overflow-y:auto;max-height:300px;scroll-padding-bottom:50px;margin:1px 0;position:relative;"]),X2=Pe.span.withConfig({displayName:"FruitPredictorTable__TableCell",componentId:"sc-z2gly5-4"})(["text-align:left;padding:5px 15px;display:flex;align-items:center;justify-content:start;"]),sZ=Pe.div.withConfig({displayName:"FruitPredictorTable__ColorBox",componentId:"sc-z2gly5-5"})(["width:1px;border:1px solid ",";width:20px;height:20px;background-color:",";border-radius:5px;"],({theme:e})=>e.black,({$color:e})=>`rgb(255, ${e[1]/1024*255}, 0)`),i8=Pe(X2).withConfig({displayName:"FruitPredictorTable__ClickableCell",componentId:"sc-z2gly5-6"})(["& > p{cursor:pointer;display:inline-block;}"]),dt=e=>typeof e=="string",vc=()=>{let e,t;const n=new Promise((r,i)=>{e=r,t=i});return n.resolve=e,n.reject=t,n},a8=e=>e==null?"":""+e,oZ=(e,t,n)=>{e.forEach(r=>{t[r]&&(n[r]=t[r])})},lZ=/###/g,s8=e=>e&&e.indexOf("###")>-1?e.replace(lZ,"."):e,o8=e=>!e||dt(e),ef=(e,t,n)=>{const r=dt(t)?t.split("."):t;let i=0;for(;i<r.length-1;){if(o8(e))return{};const a=s8(r[i]);!e[a]&&n&&(e[a]=new n),Object.prototype.hasOwnProperty.call(e,a)?e=e[a]:e={},++i}return o8(e)?{}:{obj:e,k:s8(r[i])}},l8=(e,t,n)=>{const{obj:r,k:i}=ef(e,t,Object);if(r!==void 0||t.length===1){r[i]=n;return}let a=t[t.length-1],s=t.slice(0,t.length-1),o=ef(e,s,Object);for(;o.obj===void 0&&s.length;)a=`${s[s.length-1]}.${a}`,s=s.slice(0,s.length-1),o=ef(e,s,Object),o!=null&&o.obj&&typeof o.obj[`${o.k}.${a}`]<"u"&&(o.obj=void 0);o.obj[`${o.k}.${a}`]=n},uZ=(e,t,n,r)=>{const{obj:i,k:a}=ef(e,t,Object);i[a]=i[a]||[],i[a].push(n)},gp=(e,t)=>{const{obj:n,k:r}=ef(e,t);if(n&&Object.prototype.hasOwnProperty.call(n,r))return n[r]},cZ=(e,t,n)=>{const r=gp(e,n);return r!==void 0?r:gp(t,n)},tM=(e,t,n)=>{for(const r in t)r!=="__proto__"&&r!=="constructor"&&(r in e?dt(e[r])||e[r]instanceof String||dt(t[r])||t[r]instanceof String?n&&(e[r]=t[r]):tM(e[r],t[r],n):e[r]=t[r]);return e},vl=e=>e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var fZ={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const hZ=e=>dt(e)?e.replace(/[&<>"'\/]/g,t=>fZ[t]):e;class dZ{constructor(t){this.capacity=t,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(t){const n=this.regExpMap.get(t);if(n!==void 0)return n;const r=new RegExp(t);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(t,r),this.regExpQueue.push(t),r}}const pZ=[" ",",","?","!",";"],gZ=new dZ(20),mZ=(e,t,n)=>{t=t||"",n=n||"";const r=pZ.filter(s=>t.indexOf(s)<0&&n.indexOf(s)<0);if(r.length===0)return!0;const i=gZ.getRegExp(`(${r.map(s=>s==="?"?"\\?":s).join("|")})`);let a=!i.test(e);if(!a){const s=e.indexOf(n);s>0&&!i.test(e.substring(0,s))&&(a=!0)}return a},K2=function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!e)return;if(e[t])return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0;const r=t.split(n);let i=e;for(let a=0;a<r.length;){if(!i||typeof i!="object")return;let s,o="";for(let l=a;l<r.length;++l)if(l!==a&&(o+=n),o+=r[l],s=i[o],s!==void 0){if(["string","number","boolean"].indexOf(typeof s)>-1&&l<r.length-1)continue;a+=l-a+1;break}i=s}return i},mp=e=>e==null?void 0:e.replace("_","-"),vZ={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){var n,r;(r=(n=console==null?void 0:console[e])==null?void 0:n.apply)==null||r.call(n,console,t)}};class vp{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(t,n)}init(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=n.prefix||"i18next:",this.logger=t||vZ,this.options=n,this.debug=n.debug}log(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.forward(n,"log","",!0)}warn(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.forward(n,"warn","",!0)}error(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.forward(n,"error","")}deprecate(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.forward(n,"warn","WARNING DEPRECATED: ",!0)}forward(t,n,r,i){return i&&!this.debug?null:(dt(t[0])&&(t[0]=`${r}${this.prefix} ${t[0]}`),this.logger[n](t))}create(t){return new vp(this.logger,{prefix:`${this.prefix}:${t}:`,...this.options})}clone(t){return t=t||this.options,t.prefix=t.prefix||this.prefix,new vp(this.logger,t)}}var ua=new vp;class Mg{constructor(){this.observers={}}on(t,n){return t.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const i=this.observers[r].get(n)||0;this.observers[r].set(n,i+1)}),this}off(t,n){if(this.observers[t]){if(!n){delete this.observers[t];return}this.observers[t].delete(n)}}emit(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];this.observers[t]&&Array.from(this.observers[t].entries()).forEach(s=>{let[o,l]=s;for(let u=0;u<l;u++)o(...r)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(s=>{let[o,l]=s;for(let u=0;u<l;u++)o.apply(o,[t,...r])})}}class u8 extends Mg{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=t||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(t){this.options.ns.indexOf(t)<0&&this.options.ns.push(t)}removeNamespaces(t){const n=this.options.ns.indexOf(t);n>-1&&this.options.ns.splice(n,1)}getResource(t,n,r){var u,c;let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const a=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,s=i.ignoreJSONStructure!==void 0?i.ignoreJSONStructure:this.options.ignoreJSONStructure;let o;t.indexOf(".")>-1?o=t.split("."):(o=[t,n],r&&(Array.isArray(r)?o.push(...r):dt(r)&&a?o.push(...r.split(a)):o.push(r)));const l=gp(this.data,o);return!l&&!n&&!r&&t.indexOf(".")>-1&&(t=o[0],n=o[1],r=o.slice(2).join(".")),l||!s||!dt(r)?l:K2((c=(u=this.data)==null?void 0:u[t])==null?void 0:c[n],r,a)}addResource(t,n,r,i){let a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const s=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator;let o=[t,n];r&&(o=o.concat(s?r.split(s):r)),t.indexOf(".")>-1&&(o=t.split("."),i=n,n=o[1]),this.addNamespaces(n),l8(this.data,o,i),a.silent||this.emit("added",t,n,r,i)}addResources(t,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const a in r)(dt(r[a])||Array.isArray(r[a]))&&this.addResource(t,n,a,r[a],{silent:!0});i.silent||this.emit("added",t,n,r)}addResourceBundle(t,n,r,i,a){let s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},o=[t,n];t.indexOf(".")>-1&&(o=t.split("."),i=r,r=n,n=o[1]),this.addNamespaces(n);let l=gp(this.data,o)||{};s.skipCopy||(r=JSON.parse(JSON.stringify(r))),i?tM(l,r,a):l={...l,...r},l8(this.data,o,l),s.silent||this.emit("added",t,n,r)}removeResourceBundle(t,n){this.hasResourceBundle(t,n)&&delete this.data[t][n],this.removeNamespaces(n),this.emit("removed",t,n)}hasResourceBundle(t,n){return this.getResource(t,n)!==void 0}getResourceBundle(t,n){return n||(n=this.options.defaultNS),this.getResource(t,n)}getDataByLanguage(t){return this.data[t]}hasLanguageSomeTranslations(t){const n=this.getDataByLanguage(t);return!!(n&&Object.keys(n)||[]).find(i=>n[i]&&Object.keys(n[i]).length>0)}toJSON(){return this.data}}var nM={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,n,r,i){return e.forEach(a=>{var s;t=((s=this.processors[a])==null?void 0:s.process(t,n,r,i))??t}),t}};const c8={},f8=e=>!dt(e)&&typeof e!="boolean"&&typeof e!="number";class yp extends Mg{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),oZ(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],t,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=ua.create("translator")}changeLanguage(t){t&&(this.language=t)}exists(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(t==null)return!1;const r=this.resolve(t,n);return(r==null?void 0:r.res)!==void 0}extractFromKey(t,n){let r=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const i=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let a=n.ns||this.options.defaultNS||[];const s=r&&t.indexOf(r)>-1,o=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!mZ(t,r,i);if(s&&!o){const l=t.match(this.interpolator.nestingRegexp);if(l&&l.length>0)return{key:t,namespaces:dt(a)?[a]:a};const u=t.split(r);(r!==i||r===i&&this.options.ns.indexOf(u[0])>-1)&&(a=u.shift()),t=u.join(i)}return{key:t,namespaces:dt(a)?[a]:a}}translate(t,n,r){if(typeof n!="object"&&this.options.overloadTranslationOptionHandler&&(n=this.options.overloadTranslationOptionHandler(arguments)),typeof n=="object"&&(n={...n}),n||(n={}),t==null)return"";Array.isArray(t)||(t=[String(t)]);const i=n.returnDetails!==void 0?n.returnDetails:this.options.returnDetails,a=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator,{key:s,namespaces:o}=this.extractFromKey(t[t.length-1],n),l=o[o.length-1],u=n.lng||this.language,c=n.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((u==null?void 0:u.toLowerCase())==="cimode"){if(c){const N=n.nsSeparator||this.options.nsSeparator;return i?{res:`${l}${N}${s}`,usedKey:s,exactUsedKey:s,usedLng:u,usedNS:l,usedParams:this.getUsedParamsDetails(n)}:`${l}${N}${s}`}return i?{res:s,usedKey:s,exactUsedKey:s,usedLng:u,usedNS:l,usedParams:this.getUsedParamsDetails(n)}:s}const f=this.resolve(t,n);let h=f==null?void 0:f.res;const d=(f==null?void 0:f.usedKey)||s,p=(f==null?void 0:f.exactUsedKey)||s,v=["[object Number]","[object Function]","[object RegExp]"],x=n.joinArrays!==void 0?n.joinArrays:this.options.joinArrays,y=!this.i18nFormat||this.i18nFormat.handleAsObject,w=n.count!==void 0&&!dt(n.count),k=yp.hasDefaultValue(n),_=w?this.pluralResolver.getSuffix(u,n.count,n):"",C=n.ordinal&&w?this.pluralResolver.getSuffix(u,n.count,{ordinal:!1}):"",T=w&&!n.ordinal&&n.count===0,E=T&&n[`defaultValue${this.options.pluralSeparator}zero`]||n[`defaultValue${_}`]||n[`defaultValue${C}`]||n.defaultValue;let A=h;y&&!h&&k&&(A=E);const R=f8(A),D=Object.prototype.toString.apply(A);if(y&&A&&R&&v.indexOf(D)<0&&!(dt(x)&&Array.isArray(A))){if(!n.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const N=this.options.returnedObjectHandler?this.options.returnedObjectHandler(d,A,{...n,ns:o}):`key '${s} (${this.language})' returned an object instead of string.`;return i?(f.res=N,f.usedParams=this.getUsedParamsDetails(n),f):N}if(a){const N=Array.isArray(A),z=N?[]:{},j=N?p:d;for(const V in A)if(Object.prototype.hasOwnProperty.call(A,V)){const Y=`${j}${a}${V}`;k&&!h?z[V]=this.translate(Y,{...n,defaultValue:f8(E)?E[V]:void 0,joinArrays:!1,ns:o}):z[V]=this.translate(Y,{...n,joinArrays:!1,ns:o}),z[V]===Y&&(z[V]=A[V])}h=z}}else if(y&&dt(x)&&Array.isArray(h))h=h.join(x),h&&(h=this.extendTranslation(h,t,n,r));else{let N=!1,z=!1;!this.isValidLookup(h)&&k&&(N=!0,h=E),this.isValidLookup(h)||(z=!0,h=s);const V=(n.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&z?void 0:h,Y=k&&E!==h&&this.options.updateMissing;if(z||N||Y){if(this.logger.log(Y?"updateKey":"missingKey",u,l,s,Y?E:h),a){const ee=this.resolve(s,{...n,keySeparator:!1});ee&&ee.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let Z=[];const X=this.languageUtils.getFallbackCodes(this.options.fallbackLng,n.lng||this.language);if(this.options.saveMissingTo==="fallback"&&X&&X[0])for(let ee=0;ee<X.length;ee++)Z.push(X[ee]);else this.options.saveMissingTo==="all"?Z=this.languageUtils.toResolveHierarchy(n.lng||this.language):Z.push(n.lng||this.language);const G=(ee,B,K)=>{var q;const J=k&&K!==h?K:V;this.options.missingKeyHandler?this.options.missingKeyHandler(ee,l,B,J,Y,n):(q=this.backendConnector)!=null&&q.saveMissing&&this.backendConnector.saveMissing(ee,l,B,J,Y,n),this.emit("missingKey",ee,l,B,h)};this.options.saveMissing&&(this.options.saveMissingPlurals&&w?Z.forEach(ee=>{const B=this.pluralResolver.getSuffixes(ee,n);T&&n[`defaultValue${this.options.pluralSeparator}zero`]&&B.indexOf(`${this.options.pluralSeparator}zero`)<0&&B.push(`${this.options.pluralSeparator}zero`),B.forEach(K=>{G([ee],s+K,n[`defaultValue${K}`]||E)})}):G(Z,s,E))}h=this.extendTranslation(h,t,n,f,r),z&&h===s&&this.options.appendNamespaceToMissingKey&&(h=`${l}:${s}`),(z||N)&&this.options.parseMissingKeyHandler&&(h=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${l}:${s}`:s,N?h:void 0))}return i?(f.res=h,f.usedParams=this.getUsedParamsDetails(n),f):h}extendTranslation(t,n,r,i,a){var u,c;var s=this;if((u=this.i18nFormat)!=null&&u.parse)t=this.i18nFormat.parse(t,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const f=dt(t)&&(((c=r==null?void 0:r.interpolation)==null?void 0:c.skipOnVariables)!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let h;if(f){const p=t.match(this.interpolator.nestingRegexp);h=p&&p.length}let d=r.replace&&!dt(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(d={...this.options.interpolation.defaultVariables,...d}),t=this.interpolator.interpolate(t,d,r.lng||this.language||i.usedLng,r),f){const p=t.match(this.interpolator.nestingRegexp),v=p&&p.length;h<v&&(r.nest=!1)}!r.lng&&i&&i.res&&(r.lng=this.language||i.usedLng),r.nest!==!1&&(t=this.interpolator.nest(t,function(){for(var p=arguments.length,v=new Array(p),x=0;x<p;x++)v[x]=arguments[x];return(a==null?void 0:a[0])===v[0]&&!r.context?(s.logger.warn(`It seems you are nesting recursively key: ${v[0]} in key: ${n[0]}`),null):s.translate(...v,n)},r)),r.interpolation&&this.interpolator.reset()}const o=r.postProcess||this.options.postProcess,l=dt(o)?[o]:o;return t!=null&&(l!=null&&l.length)&&r.applyPostProcessor!==!1&&(t=nM.handle(l,t,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...i,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),t}resolve(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r,i,a,s,o;return dt(t)&&(t=[t]),t.forEach(l=>{if(this.isValidLookup(r))return;const u=this.extractFromKey(l,n),c=u.key;i=c;let f=u.namespaces;this.options.fallbackNS&&(f=f.concat(this.options.fallbackNS));const h=n.count!==void 0&&!dt(n.count),d=h&&!n.ordinal&&n.count===0,p=n.context!==void 0&&(dt(n.context)||typeof n.context=="number")&&n.context!=="",v=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);f.forEach(x=>{var y,w;this.isValidLookup(r)||(o=x,!c8[`${v[0]}-${x}`]&&((y=this.utils)!=null&&y.hasLoadedNamespace)&&!((w=this.utils)!=null&&w.hasLoadedNamespace(o))&&(c8[`${v[0]}-${x}`]=!0,this.logger.warn(`key "${i}" for languages "${v.join(", ")}" won't get resolved as namespace "${o}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),v.forEach(k=>{var T;if(this.isValidLookup(r))return;s=k;const _=[c];if((T=this.i18nFormat)!=null&&T.addLookupKeys)this.i18nFormat.addLookupKeys(_,c,k,x,n);else{let E;h&&(E=this.pluralResolver.getSuffix(k,n.count,n));const A=`${this.options.pluralSeparator}zero`,R=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(h&&(_.push(c+E),n.ordinal&&E.indexOf(R)===0&&_.push(c+E.replace(R,this.options.pluralSeparator)),d&&_.push(c+A)),p){const D=`${c}${this.options.contextSeparator}${n.context}`;_.push(D),h&&(_.push(D+E),n.ordinal&&E.indexOf(R)===0&&_.push(D+E.replace(R,this.options.pluralSeparator)),d&&_.push(D+A))}}let C;for(;C=_.pop();)this.isValidLookup(r)||(a=C,r=this.getResource(k,x,C,n))}))})}),{res:r,usedKey:i,exactUsedKey:a,usedLng:s,usedNS:o}}isValidLookup(t){return t!==void 0&&!(!this.options.returnNull&&t===null)&&!(!this.options.returnEmptyString&&t==="")}getResource(t,n,r){var a;let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return(a=this.i18nFormat)!=null&&a.getResource?this.i18nFormat.getResource(t,n,r,i):this.resourceStore.getResource(t,n,r,i)}getUsedParamsDetails(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=t.replace&&!dt(t.replace);let i=r?t.replace:t;if(r&&typeof t.count<"u"&&(i.count=t.count),this.options.interpolation.defaultVariables&&(i={...this.options.interpolation.defaultVariables,...i}),!r){i={...i};for(const a of n)delete i[a]}return i}static hasDefaultValue(t){const n="defaultValue";for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&n===r.substring(0,n.length)&&t[r]!==void 0)return!0;return!1}}class h8{constructor(t){this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=ua.create("languageUtils")}getScriptPartFromCode(t){if(t=mp(t),!t||t.indexOf("-")<0)return null;const n=t.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(t){if(t=mp(t),!t||t.indexOf("-")<0)return t;const n=t.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(t){if(dt(t)&&t.indexOf("-")>-1){let n;try{n=Intl.getCanonicalLocales(t)[0]}catch{}return n&&this.options.lowerCaseLng&&(n=n.toLowerCase()),n||(this.options.lowerCaseLng?t.toLowerCase():t)}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t}isSupportedCode(t){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(t=this.getLanguagePartFromCode(t)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(t)>-1}getBestMatchFromCodes(t){if(!t)return null;let n;return t.forEach(r=>{if(n)return;const i=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(i))&&(n=i)}),!n&&this.options.supportedLngs&&t.forEach(r=>{if(n)return;const i=this.getLanguagePartFromCode(r);if(this.isSupportedCode(i))return n=i;n=this.options.supportedLngs.find(a=>{if(a===i)return a;if(!(a.indexOf("-")<0&&i.indexOf("-")<0)&&(a.indexOf("-")>0&&i.indexOf("-")<0&&a.substring(0,a.indexOf("-"))===i||a.indexOf(i)===0&&i.length>1))return a})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(t,n){if(!t)return[];if(typeof t=="function"&&(t=t(n)),dt(t)&&(t=[t]),Array.isArray(t))return t;if(!n)return t.default||[];let r=t[n];return r||(r=t[this.getScriptPartFromCode(n)]),r||(r=t[this.formatLanguageCode(n)]),r||(r=t[this.getLanguagePartFromCode(n)]),r||(r=t.default),r||[]}toResolveHierarchy(t,n){const r=this.getFallbackCodes(n||this.options.fallbackLng||[],t),i=[],a=s=>{s&&(this.isSupportedCode(s)?i.push(s):this.logger.warn(`rejecting language code not found in supportedLngs: ${s}`))};return dt(t)&&(t.indexOf("-")>-1||t.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&a(this.formatLanguageCode(t)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&a(this.getScriptPartFromCode(t)),this.options.load!=="currentOnly"&&a(this.getLanguagePartFromCode(t))):dt(t)&&a(this.formatLanguageCode(t)),r.forEach(s=>{i.indexOf(s)<0&&a(this.formatLanguageCode(s))}),i}}const d8={zero:0,one:1,two:2,few:3,many:4,other:5},p8={select:e=>e===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class yZ{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=t,this.options=n,this.logger=ua.create("pluralResolver"),this.pluralRulesCache={}}addRule(t,n){this.rules[t]=n}clearCache(){this.pluralRulesCache={}}getRule(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=mp(t==="dev"?"en":t),i=n.ordinal?"ordinal":"cardinal",a=JSON.stringify({cleanedCode:r,type:i});if(a in this.pluralRulesCache)return this.pluralRulesCache[a];let s;try{s=new Intl.PluralRules(r,{type:i})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),p8;if(!t.match(/-|_/))return p8;const l=this.languageUtils.getLanguagePartFromCode(t);s=this.getRule(l,n)}return this.pluralRulesCache[a]=s,s}needsPlural(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=this.getRule(t,n);return r||(r=this.getRule("dev",n)),(r==null?void 0:r.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(t,r).map(i=>`${n}${i}`)}getSuffixes(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=this.getRule(t,n);return r||(r=this.getRule("dev",n)),r?r.resolvedOptions().pluralCategories.sort((i,a)=>d8[i]-d8[a]).map(i=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${i}`):[]}getSuffix(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const i=this.getRule(t,r);return i?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${i.select(n)}`:(this.logger.warn(`no plural rule found for: ${t}`),this.getSuffix("dev",n,r))}}const g8=function(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,a=cZ(e,t,n);return!a&&i&&dt(n)&&(a=K2(e,n,r),a===void 0&&(a=K2(t,n,r))),a},Iv=e=>e.replace(/\$/g,"$$$$");class xZ{constructor(){var n;let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=ua.create("interpolator"),this.options=t,this.format=((n=t==null?void 0:t.interpolation)==null?void 0:n.format)||(r=>r),this.init(t)}init(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};t.interpolation||(t.interpolation={escapeValue:!0});const{escape:n,escapeValue:r,useRawValueToEscape:i,prefix:a,prefixEscaped:s,suffix:o,suffixEscaped:l,formatSeparator:u,unescapeSuffix:c,unescapePrefix:f,nestingPrefix:h,nestingPrefixEscaped:d,nestingSuffix:p,nestingSuffixEscaped:v,nestingOptionsSeparator:x,maxReplaces:y,alwaysFormat:w}=t.interpolation;this.escape=n!==void 0?n:hZ,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=i!==void 0?i:!1,this.prefix=a?vl(a):s||"{{",this.suffix=o?vl(o):l||"}}",this.formatSeparator=u||",",this.unescapePrefix=c?"":f||"-",this.unescapeSuffix=this.unescapePrefix?"":c||"",this.nestingPrefix=h?vl(h):d||vl("$t("),this.nestingSuffix=p?vl(p):v||vl(")"),this.nestingOptionsSeparator=x||",",this.maxReplaces=y||1e3,this.alwaysFormat=w!==void 0?w:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const t=(n,r)=>(n==null?void 0:n.source)===r?(n.lastIndex=0,n):new RegExp(r,"g");this.regexp=t(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=t(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=t(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(t,n,r,i){var d;let a,s,o;const l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},u=p=>{if(p.indexOf(this.formatSeparator)<0){const w=g8(n,l,p,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(w,void 0,r,{...i,...n,interpolationkey:p}):w}const v=p.split(this.formatSeparator),x=v.shift().trim(),y=v.join(this.formatSeparator).trim();return this.format(g8(n,l,x,this.options.keySeparator,this.options.ignoreJSONStructure),y,r,{...i,...n,interpolationkey:x})};this.resetRegExp();const c=(i==null?void 0:i.missingInterpolationHandler)||this.options.missingInterpolationHandler,f=((d=i==null?void 0:i.interpolation)==null?void 0:d.skipOnVariables)!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:p=>Iv(p)},{regex:this.regexp,safeValue:p=>this.escapeValue?Iv(this.escape(p)):Iv(p)}].forEach(p=>{for(o=0;a=p.regex.exec(t);){const v=a[1].trim();if(s=u(v),s===void 0)if(typeof c=="function"){const y=c(t,a,i);s=dt(y)?y:""}else if(i&&Object.prototype.hasOwnProperty.call(i,v))s="";else if(f){s=a[0];continue}else this.logger.warn(`missed to pass in variable ${v} for interpolating ${t}`),s="";else!dt(s)&&!this.useRawValueToEscape&&(s=a8(s));const x=p.safeValue(s);if(t=t.replace(a[0],x),f?(p.regex.lastIndex+=s.length,p.regex.lastIndex-=a[0].length):p.regex.lastIndex=0,o++,o>=this.maxReplaces)break}}),t}nest(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i,a,s;const o=(l,u)=>{const c=this.nestingOptionsSeparator;if(l.indexOf(c)<0)return l;const f=l.split(new RegExp(`${c}[ ]*{`));let h=`{${f[1]}`;l=f[0],h=this.interpolate(h,s);const d=h.match(/'/g),p=h.match(/"/g);(((d==null?void 0:d.length)??0)%2===0&&!p||p.length%2!==0)&&(h=h.replace(/'/g,'"'));try{s=JSON.parse(h),u&&(s={...u,...s})}catch(v){return this.logger.warn(`failed parsing options string in nesting for key ${l}`,v),`${l}${c}${h}`}return s.defaultValue&&s.defaultValue.indexOf(this.prefix)>-1&&delete s.defaultValue,l};for(;i=this.nestingRegexp.exec(t);){let l=[];s={...r},s=s.replace&&!dt(s.replace)?s.replace:s,s.applyPostProcessor=!1,delete s.defaultValue;let u=!1;if(i[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(i[1])){const c=i[1].split(this.formatSeparator).map(f=>f.trim());i[1]=c.shift(),l=c,u=!0}if(a=n(o.call(this,i[1].trim(),s),s),a&&i[0]===t&&!dt(a))return a;dt(a)||(a=a8(a)),a||(this.logger.warn(`missed to resolve ${i[1]} for nesting ${t}`),a=""),u&&(a=l.reduce((c,f)=>this.format(c,f,r.lng,{...r,interpolationkey:i[1].trim()}),a.trim())),t=t.replace(i[0],a),this.regexp.lastIndex=0}return t}}const bZ=e=>{let t=e.toLowerCase().trim();const n={};if(e.indexOf("(")>-1){const r=e.split("(");t=r[0].toLowerCase().trim();const i=r[1].substring(0,r[1].length-1);t==="currency"&&i.indexOf(":")<0?n.currency||(n.currency=i.trim()):t==="relativetime"&&i.indexOf(":")<0?n.range||(n.range=i.trim()):i.split(";").forEach(s=>{if(s){const[o,...l]=s.split(":"),u=l.join(":").trim().replace(/^'+|'+$/g,""),c=o.trim();n[c]||(n[c]=u),u==="false"&&(n[c]=!1),u==="true"&&(n[c]=!0),isNaN(u)||(n[c]=parseInt(u,10))}})}return{formatName:t,formatOptions:n}},yl=e=>{const t={};return(n,r,i)=>{let a=i;i&&i.interpolationkey&&i.formatParams&&i.formatParams[i.interpolationkey]&&i[i.interpolationkey]&&(a={...a,[i.interpolationkey]:void 0});const s=r+JSON.stringify(a);let o=t[s];return o||(o=e(mp(r),i),t[s]=o),o(n)}};class wZ{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=ua.create("formatter"),this.options=t,this.formats={number:yl((n,r)=>{const i=new Intl.NumberFormat(n,{...r});return a=>i.format(a)}),currency:yl((n,r)=>{const i=new Intl.NumberFormat(n,{...r,style:"currency"});return a=>i.format(a)}),datetime:yl((n,r)=>{const i=new Intl.DateTimeFormat(n,{...r});return a=>i.format(a)}),relativetime:yl((n,r)=>{const i=new Intl.RelativeTimeFormat(n,{...r});return a=>i.format(a,r.range||"day")}),list:yl((n,r)=>{const i=new Intl.ListFormat(n,{...r});return a=>i.format(a)})},this.init(t)}init(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};this.formatSeparator=n.interpolation.formatSeparator||","}add(t,n){this.formats[t.toLowerCase().trim()]=n}addCached(t,n){this.formats[t.toLowerCase().trim()]=yl(n)}format(t,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const a=n.split(this.formatSeparator);if(a.length>1&&a[0].indexOf("(")>1&&a[0].indexOf(")")<0&&a.find(o=>o.indexOf(")")>-1)){const o=a.findIndex(l=>l.indexOf(")")>-1);a[0]=[a[0],...a.splice(1,o)].join(this.formatSeparator)}return a.reduce((o,l)=>{var f;const{formatName:u,formatOptions:c}=bZ(l);if(this.formats[u]){let h=o;try{const d=((f=i==null?void 0:i.formatParams)==null?void 0:f[i.interpolationkey])||{},p=d.locale||d.lng||i.locale||i.lng||r;h=this.formats[u](o,p,{...c,...i,...d})}catch(d){this.logger.warn(d)}return h}else this.logger.warn(`there was no format function for ${u}`);return o},t)}}const kZ=(e,t)=>{e.pending[t]!==void 0&&(delete e.pending[t],e.pendingCount--)};class SZ extends Mg{constructor(t,n,r){var a,s;let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=t,this.store=n,this.services=r,this.languageUtils=r.languageUtils,this.options=i,this.logger=ua.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],(s=(a=this.backend)==null?void 0:a.init)==null||s.call(a,r,i.backend,i)}queueLoad(t,n,r,i){const a={},s={},o={},l={};return t.forEach(u=>{let c=!0;n.forEach(f=>{const h=`${u}|${f}`;!r.reload&&this.store.hasResourceBundle(u,f)?this.state[h]=2:this.state[h]<0||(this.state[h]===1?s[h]===void 0&&(s[h]=!0):(this.state[h]=1,c=!1,s[h]===void 0&&(s[h]=!0),a[h]===void 0&&(a[h]=!0),l[f]===void 0&&(l[f]=!0)))}),c||(o[u]=!0)}),(Object.keys(a).length||Object.keys(s).length)&&this.queue.push({pending:s,pendingCount:Object.keys(s).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(a),pending:Object.keys(s),toLoadLanguages:Object.keys(o),toLoadNamespaces:Object.keys(l)}}loaded(t,n,r){const i=t.split("|"),a=i[0],s=i[1];n&&this.emit("failedLoading",a,s,n),!n&&r&&this.store.addResourceBundle(a,s,r,void 0,void 0,{skipCopy:!0}),this.state[t]=n?-1:2,n&&r&&(this.state[t]=0);const o={};this.queue.forEach(l=>{uZ(l.loaded,[a],s),kZ(l,t),n&&l.errors.push(n),l.pendingCount===0&&!l.done&&(Object.keys(l.loaded).forEach(u=>{o[u]||(o[u]={});const c=l.loaded[u];c.length&&c.forEach(f=>{o[u][f]===void 0&&(o[u][f]=!0)})}),l.done=!0,l.errors.length?l.callback(l.errors):l.callback())}),this.emit("loaded",o),this.queue=this.queue.filter(l=>!l.done)}read(t,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,s=arguments.length>5?arguments[5]:void 0;if(!t.length)return s(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:t,ns:n,fcName:r,tried:i,wait:a,callback:s});return}this.readingCalls++;const o=(u,c)=>{if(this.readingCalls--,this.waitingReads.length>0){const f=this.waitingReads.shift();this.read(f.lng,f.ns,f.fcName,f.tried,f.wait,f.callback)}if(u&&c&&i<this.maxRetries){setTimeout(()=>{this.read.call(this,t,n,r,i+1,a*2,s)},a);return}s(u,c)},l=this.backend[r].bind(this.backend);if(l.length===2){try{const u=l(t,n);u&&typeof u.then=="function"?u.then(c=>o(null,c)).catch(o):o(null,u)}catch(u){o(u)}return}return l(t,n,o)}prepareLoading(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();dt(t)&&(t=this.languageUtils.toResolveHierarchy(t)),dt(n)&&(n=[n]);const a=this.queueLoad(t,n,r,i);if(!a.toLoad.length)return a.pending.length||i(),null;a.toLoad.forEach(s=>{this.loadOne(s)})}load(t,n,r){this.prepareLoading(t,n,{},r)}reload(t,n,r){this.prepareLoading(t,n,{reload:!0},r)}loadOne(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const r=t.split("|"),i=r[0],a=r[1];this.read(i,a,"read",void 0,void 0,(s,o)=>{s&&this.logger.warn(`${n}loading namespace ${a} for language ${i} failed`,s),!s&&o&&this.logger.log(`${n}loaded namespace ${a} for language ${i}`,o),this.loaded(t,s,o)})}saveMissing(t,n,r,i,a){var l,u,c,f,h;let s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},o=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if((u=(l=this.services)==null?void 0:l.utils)!=null&&u.hasLoadedNamespace&&!((f=(c=this.services)==null?void 0:c.utils)!=null&&f.hasLoadedNamespace(n))){this.logger.warn(`did not save key "${r}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if((h=this.backend)!=null&&h.create){const d={...s,isUpdate:a},p=this.backend.create.bind(this.backend);if(p.length<6)try{let v;p.length===5?v=p(t,n,r,i,d):v=p(t,n,r,i),v&&typeof v.then=="function"?v.then(x=>o(null,x)).catch(o):o(null,v)}catch(v){o(v)}else p(t,n,r,i,o,d)}!t||!t[0]||this.store.addResource(t[0],n,r,i)}}}const m8=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:e=>{let t={};if(typeof e[1]=="object"&&(t=e[1]),dt(e[1])&&(t.defaultValue=e[1]),dt(e[2])&&(t.tDescription=e[2]),typeof e[2]=="object"||typeof e[3]=="object"){const n=e[3]||e[2];Object.keys(n).forEach(r=>{t[r]=n[r]})}return t},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),v8=e=>{var t,n;return dt(e.ns)&&(e.ns=[e.ns]),dt(e.fallbackLng)&&(e.fallbackLng=[e.fallbackLng]),dt(e.fallbackNS)&&(e.fallbackNS=[e.fallbackNS]),((n=(t=e.supportedLngs)==null?void 0:t.indexOf)==null?void 0:n.call(t,"cimode"))<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),typeof e.initImmediate=="boolean"&&(e.initAsync=e.initImmediate),e},Th=()=>{},_Z=e=>{Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach(n=>{typeof e[n]=="function"&&(e[n]=e[n].bind(e))})};class Rf extends Mg{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;if(super(),this.options=v8(t),this.services={},this.logger=ua,this.modules={external:[]},_Z(this),n&&!this.isInitialized&&!t.isClone){if(!this.options.initAsync)return this.init(t,n),this;setTimeout(()=>{this.init(t,n)},0)}}init(){var t=this;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof n=="function"&&(r=n,n={}),n.defaultNS==null&&n.ns&&(dt(n.ns)?n.defaultNS=n.ns:n.ns.indexOf("translation")<0&&(n.defaultNS=n.ns[0]));const i=m8();this.options={...i,...this.options,...v8(n)},this.options.interpolation={...i.interpolation,...this.options.interpolation},n.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=n.keySeparator),n.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=n.nsSeparator);const a=c=>c?typeof c=="function"?new c:c:null;if(!this.options.isClone){this.modules.logger?ua.init(a(this.modules.logger),this.options):ua.init(null,this.options);let c;this.modules.formatter?c=this.modules.formatter:c=wZ;const f=new h8(this.options);this.store=new u8(this.options.resources,this.options);const h=this.services;h.logger=ua,h.resourceStore=this.store,h.languageUtils=f,h.pluralResolver=new yZ(f,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),c&&(!this.options.interpolation.format||this.options.interpolation.format===i.interpolation.format)&&(h.formatter=a(c),h.formatter.init(h,this.options),this.options.interpolation.format=h.formatter.format.bind(h.formatter)),h.interpolator=new xZ(this.options),h.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},h.backendConnector=new SZ(a(this.modules.backend),h.resourceStore,h,this.options),h.backendConnector.on("*",function(d){for(var p=arguments.length,v=new Array(p>1?p-1:0),x=1;x<p;x++)v[x-1]=arguments[x];t.emit(d,...v)}),this.modules.languageDetector&&(h.languageDetector=a(this.modules.languageDetector),h.languageDetector.init&&h.languageDetector.init(h,this.options.detection,this.options)),this.modules.i18nFormat&&(h.i18nFormat=a(this.modules.i18nFormat),h.i18nFormat.init&&h.i18nFormat.init(this)),this.translator=new yp(this.services,this.options),this.translator.on("*",function(d){for(var p=arguments.length,v=new Array(p>1?p-1:0),x=1;x<p;x++)v[x-1]=arguments[x];t.emit(d,...v)}),this.modules.external.forEach(d=>{d.init&&d.init(this)})}if(this.format=this.options.interpolation.format,r||(r=Th),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const c=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);c.length>0&&c[0]!=="dev"&&(this.options.lng=c[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(c=>{this[c]=function(){return t.store[c](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(c=>{this[c]=function(){return t.store[c](...arguments),t}});const l=vc(),u=()=>{const c=(f,h)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),l.resolve(h),r(f,h)};if(this.languages&&!this.isInitialized)return c(null,this.t.bind(this));this.changeLanguage(this.options.lng,c)};return this.options.resources||!this.options.initAsync?u():setTimeout(u,0),l}loadResources(t){var a,s;let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Th;const i=dt(t)?t:this.language;if(typeof t=="function"&&(r=t),!this.options.resources||this.options.partialBundledLanguages){if((i==null?void 0:i.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const o=[],l=u=>{if(!u||u==="cimode")return;this.services.languageUtils.toResolveHierarchy(u).forEach(f=>{f!=="cimode"&&o.indexOf(f)<0&&o.push(f)})};i?l(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(c=>l(c)),(s=(a=this.options.preload)==null?void 0:a.forEach)==null||s.call(a,u=>l(u)),this.services.backendConnector.load(o,this.options.ns,u=>{!u&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(u)})}else r(null)}reloadResources(t,n,r){const i=vc();return typeof t=="function"&&(r=t,t=void 0),typeof n=="function"&&(r=n,n=void 0),t||(t=this.languages),n||(n=this.options.ns),r||(r=Th),this.services.backendConnector.reload(t,n,a=>{i.resolve(),r(a)}),i}use(t){if(!t)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!t.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return t.type==="backend"&&(this.modules.backend=t),(t.type==="logger"||t.log&&t.warn&&t.error)&&(this.modules.logger=t),t.type==="languageDetector"&&(this.modules.languageDetector=t),t.type==="i18nFormat"&&(this.modules.i18nFormat=t),t.type==="postProcessor"&&nM.addPostProcessor(t),t.type==="formatter"&&(this.modules.formatter=t),t.type==="3rdParty"&&this.modules.external.push(t),this}setResolvedLanguage(t){if(!(!t||!this.languages)&&!(["cimode","dev"].indexOf(t)>-1))for(let n=0;n<this.languages.length;n++){const r=this.languages[n];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}}changeLanguage(t,n){var r=this;this.isLanguageChangingTo=t;const i=vc();this.emit("languageChanging",t);const a=l=>{this.language=l,this.languages=this.services.languageUtils.toResolveHierarchy(l),this.resolvedLanguage=void 0,this.setResolvedLanguage(l)},s=(l,u)=>{u?(a(u),this.translator.changeLanguage(u),this.isLanguageChangingTo=void 0,this.emit("languageChanged",u),this.logger.log("languageChanged",u)):this.isLanguageChangingTo=void 0,i.resolve(function(){return r.t(...arguments)}),n&&n(l,function(){return r.t(...arguments)})},o=l=>{var c,f;!t&&!l&&this.services.languageDetector&&(l=[]);const u=dt(l)?l:this.services.languageUtils.getBestMatchFromCodes(l);u&&(this.language||a(u),this.translator.language||this.translator.changeLanguage(u),(f=(c=this.services.languageDetector)==null?void 0:c.cacheUserLanguage)==null||f.call(c,u)),this.loadResources(u,h=>{s(h,u)})};return!t&&this.services.languageDetector&&!this.services.languageDetector.async?o(this.services.languageDetector.detect()):!t&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(o):this.services.languageDetector.detect(o):o(t),i}getFixedT(t,n,r){var i=this;const a=function(s,o){let l;if(typeof o!="object"){for(var u=arguments.length,c=new Array(u>2?u-2:0),f=2;f<u;f++)c[f-2]=arguments[f];l=i.options.overloadTranslationOptionHandler([s,o].concat(c))}else l={...o};l.lng=l.lng||a.lng,l.lngs=l.lngs||a.lngs,l.ns=l.ns||a.ns,l.keyPrefix!==""&&(l.keyPrefix=l.keyPrefix||r||a.keyPrefix);const h=i.options.keySeparator||".";let d;return l.keyPrefix&&Array.isArray(s)?d=s.map(p=>`${l.keyPrefix}${h}${p}`):d=l.keyPrefix?`${l.keyPrefix}${h}${s}`:s,i.t(d,l)};return dt(t)?a.lng=t:a.lngs=t,a.ns=n,a.keyPrefix=r,a}t(){var i;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(i=this.translator)==null?void 0:i.translate(...n)}exists(){var i;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(i=this.translator)==null?void 0:i.exists(...n)}setDefaultNamespace(t){this.options.defaultNS=t}hasLoadedNamespace(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=n.lng||this.resolvedLanguage||this.languages[0],i=this.options?this.options.fallbackLng:!1,a=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const s=(o,l)=>{const u=this.services.backendConnector.state[`${o}|${l}`];return u===-1||u===0||u===2};if(n.precheck){const o=n.precheck(this,s);if(o!==void 0)return o}return!!(this.hasResourceBundle(r,t)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||s(r,t)&&(!i||s(a,t)))}loadNamespaces(t,n){const r=vc();return this.options.ns?(dt(t)&&(t=[t]),t.forEach(i=>{this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}),this.loadResources(i=>{r.resolve(),n&&n(i)}),r):(n&&n(),Promise.resolve())}loadLanguages(t,n){const r=vc();dt(t)&&(t=[t]);const i=this.options.preload||[],a=t.filter(s=>i.indexOf(s)<0&&this.services.languageUtils.isSupportedCode(s));return a.length?(this.options.preload=i.concat(a),this.loadResources(s=>{r.resolve(),n&&n(s)}),r):(n&&n(),Promise.resolve())}dir(t){var i,a;if(t||(t=this.resolvedLanguage||(((i=this.languages)==null?void 0:i.length)>0?this.languages[0]:this.language)),!t)return"rtl";const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=((a=this.services)==null?void 0:a.languageUtils)||new h8(m8());return n.indexOf(r.getLanguagePartFromCode(t))>-1||t.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;return new Rf(t,n)}cloneInstance(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Th;const r=t.forkResourceStore;r&&delete t.forkResourceStore;const i={...this.options,...t,isClone:!0},a=new Rf(i);if((t.debug!==void 0||t.prefix!==void 0)&&(a.logger=a.logger.clone(t)),["store","services","language"].forEach(o=>{a[o]=this[o]}),a.services={...this.services},a.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},r){const o=Object.keys(this.store.data).reduce((l,u)=>(l[u]={...this.store.data[u]},Object.keys(l[u]).reduce((c,f)=>(c[f]={...l[u][f]},c),{})),{});a.store=new u8(o,i),a.services.resourceStore=a.store}return a.translator=new yp(a.services,i),a.translator.on("*",function(o){for(var l=arguments.length,u=new Array(l>1?l-1:0),c=1;c<l;c++)u[c-1]=arguments[c];a.emit(o,...u)}),a.init(i,n),a.translator.options=i,a.translator.backendConnector.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},a}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const zn=Rf.createInstance();zn.createInstance=Rf.createInstance;zn.createInstance;zn.dir;zn.init;zn.loadResources;zn.reloadResources;zn.use;zn.changeLanguage;zn.getFixedT;zn.t;zn.exists;zn.setDefaultNamespace;zn.hasLoadedNamespace;zn.loadNamespaces;zn.loadLanguages;const CZ=()=>{const{t:e}=tn();return O.jsxs(TZ,{children:[O.jsx(fe.Text,{children:e("FruitPredictorInstructions.intro")}),O.jsxs(fe.Text,{children:[e("FruitPredictorInstructions.followVideo"),O.jsx(vn,{to:"https://youtu.be/G8OpubRhUhU",children:e("video")}),e("FruitPredictorInstructions.followVideoPart2")]}),O.jsx(fe.Text,{$bold:!0,children:e("FruitPredictorInstructions.assemblyTitle")}),O.jsxs(fe.Text,{children:[e("FruitPredictorInstructions.assemblyText1Part1"),O.jsx(vn,{to:`/ml-with-bricks/materials/${zn.language}/assembly/fruit-predictor.pdf`,children:e("these instructions")}),e("FruitPredictorInstructions.assemblyText1Part2")]}),O.jsxs(fe.Text,{children:[e("FruitPredictorInstructions.assemblyText2Part1"),O.jsx(vn,{to:`/ml-with-bricks/materials/${zn.language}/connection.pdf`,children:e("pdf")}),e("FruitPredictorInstructions.assemblyText2Part2"),O.jsx(vn,{to:"https://youtu.be/ZsviP40PnuA",children:e("video")}),e("FruitPredictorInstructions.assemblyText2Part3")]}),O.jsx(fe.Text,{$bold:!0,children:e("FruitPredictorInstructions.dataCollectionTitle")}),O.jsx(fe.Text,{children:e("FruitPredictorInstructions.dataCollectionText")}),O.jsx(fe.Text,{$bold:!0,children:e("FruitPredictorInstructions.predictionTitle")}),O.jsx(fe.Text,{children:e("FruitPredictorInstructions.predictionText1")}),O.jsx(fe.Text,{children:e("FruitPredictorInstructions.predictionText2")}),O.jsx(fe.Text,{$bold:!0,children:e("FruitPredictorInstructions.thingsToTryTitle")}),O.jsx(fe.Text,{children:e("FruitPredictorInstructions.thingsToTryText")})]})},TZ=Pe.div.withConfig({displayName:"FruitPredictorInstructions__Wrapper",componentId:"sc-eywbi8-0"})([""]),EZ={distanceSensorPort:"E",colorSensorPort:"F"},PZ=()=>{const{t:e}=tn(),{sendTunnelData:t,subscribe:n}=_g(),r=te.useRef(null),[i,a]=te.useState(()=>$n("fruitPredictor_k",3)),[s,o]=te.useState(()=>$n("fruitPredictor_data",[])),[l,u]=te.useState(()=>$n("fruitPredictor_inferDatapoint",void 0)),[c,f]=te.useState(()=>$n("fruitPredictor_showDecisionBorder",!1)),[h,d]=te.useState(()=>$n("fruitPredictor_modelMode","train")),[p,v]=te.useState(()=>$n("fruitPredictor_hideInfer",!1)),[x,y]=te.useState(()=>$n("fruitPredictor_currentClass","apple")),[w,k]=te.useState(!1),[_,C]=te.useState(EZ),T=te.useMemo(()=>({apple:{label:e("FruitPredictor.fruitLabels.apple"),emoji:"🍎",fillColor:"rgb(253, 143, 143)"},banana:{label:e("FruitPredictor.fruitLabels.banana"),emoji:"🍌",fillColor:"rgb(255, 241, 134)"},undecided:{label:"Undecided",emoji:"❓",fillColor:"rgb(192, 192, 192)"}}),[e]),E=te.useMemo(()=>Object.entries(T).map(([X,G])=>({id:X,text:`${G.emoji} ${G.label}`})).filter(X=>X.id!=="undecided"),[T]),A=X=>{o(G=>G.filter(ee=>ee.id!==X)),t({action:"delete_datapoint",payload:{id:X}})},R=(X,G)=>{o(ee=>ee.map(B=>B.id!==X?B:{...B,label:G})),t({action:"change_datapoint_label",payload:{id:X,new_label:G}})},D=X=>{a(X),t({action:"change_k",payload:{k:X}})},N=async()=>{n(Y),t({action:"startup_functionality",payload:{class:x,class_name:T[x].label,data:[...s].map(X=>({...X,len:X.length,length:void 0})),k:i,mode:h}}).then(()=>It.success(e("FruitPredictor.toasts.codeStarted"),{position:"bottom-left"}))},z=X=>{var G,ee,B;X?s.findIndex(K=>K.id===X)!==-1&&((ee=r.current)==null||ee.setActiveElements([{datasetIndex:0,index:s.findIndex(K=>K.id===X)}])):(G=r.current)==null||G.setActiveElements([]),(B=r.current)==null||B.update("none")},j=X=>{y(X),t({action:"change_class",payload:{class:X,class_name:T[X].label}})},V=X=>{u(void 0),d(X),t({action:"change_mode",payload:{mode:X}})},Y=X=>{const G=X.payload;switch(X.action){case"add_point":const ee={id:G.id,color:G.color.slice(0,3),length:G.len,label:G.label};o(K=>[...K,ee]);break;case"inference_result":const B={id:"infer",color:G.color,length:G.len};u(B);break}},Z=te.useMemo(()=>mb.fruitPredictor(_),[_]);return te.useEffect(()=>{localStorage.setItem("fruitPredictor_k",JSON.stringify(i))},[i]),te.useEffect(()=>{localStorage.setItem("fruitPredictor_data",JSON.stringify(s))},[s]),te.useEffect(()=>{localStorage.setItem("fruitPredictor_inferDatapoint",JSON.stringify(l===void 0?"__undefined__":l))},[l]),te.useEffect(()=>{localStorage.setItem("fruitPredictor_showDecisionBorder",JSON.stringify(c))},[c]),te.useEffect(()=>{localStorage.setItem("fruitPredictor_modelMode",JSON.stringify(h))},[h]),te.useEffect(()=>{localStorage.setItem("fruitPredictor_hideInfer",JSON.stringify(p))},[p]),te.useEffect(()=>{localStorage.setItem("fruitPredictor_currentClass",JSON.stringify(x))},[x]),O.jsxs(MZ,{children:[O.jsx(fe.H1,{children:e("FruitPredictor.title")}),O.jsx(CZ,{}),O.jsx(gb,{code:Z,onStart:N}),O.jsxs(AZ,{children:[O.jsx("div",{children:O.jsx(lQ,{k:i,fruitStyles:T,fruitData:s,inferDatapoint:p?void 0:l,showDecisionBorder:c,chartRef:r})}),O.jsxs("div",{children:[O.jsx(db,{currentId:h,segments:eM.map(X=>({id:X,text:e(`FruitPredictor.modelModes.${X}`)})),handleSelectOption:V}),h==="infer"?O.jsxs(y8,{children:[O.jsx(ou,{value:i,minValue:1,maxValue:17,label:"K",onChange:X=>a(X),onMouseUp:D,fullWidth:!0,writeValue:!0}),O.jsx(Of,{text:e("FruitPredictor.showDecisionBorder"),value:c,handleChange:X=>f(X.target.checked)}),O.jsx(Of,{text:e("FruitPredictor.hideInfer"),value:p,handleChange:X=>v(X.target.checked)})]}):O.jsx(y8,{children:O.jsxs(DZ,{children:[O.jsx(fe.Text,{$bold:!0,children:e("FruitPredictor.selectClass")}),O.jsx(da,{options:E,currentOptionId:x,handleOptionSelect:j,width:"auto"})]})}),O.jsx(nZ,{data:s,fruitDropDownOptions:E,handleRemoveData:A,handleChangeLabel:R,handleTableRowHover:z})]})]}),O.jsx(OQ,{active:w,handleClose:()=>k(!1),fruitPredictorSettings:_,setFruitPredictorSettings:C})]})},MZ=Pe.div.withConfig({displayName:"fruit-predictor__Wrapper",componentId:"sc-1rddpf0-0"})([""]),AZ=Pe.div.withConfig({displayName:"fruit-predictor__DiagramRow",componentId:"sc-1rddpf0-1"})(["display:grid;grid-template-columns:1fr 1fr;column-gap:30px;@media (max-width:1024px){column-gap:10px;}@media (max-width:768px){grid-template-columns:1fr;row-gap:20px;}"]),y8=Pe.div.withConfig({displayName:"fruit-predictor__ControlsWrapper",componentId:"sc-1rddpf0-2"})(["padding:20px 0;display:flex;flex-direction:column;justify-content:flex-start;align-items:flex-start;"]),DZ=Pe.div.withConfig({displayName:"fruit-predictor__SelectClassRow",componentId:"sc-1rddpf0-3"})(["display:flex;align-items:center;gap:10px;"]);l0.register(su,hp,Jc,za,WP);const ra={xMin:0,xMax:100,yMin:0,yMax:100},IZ=({chartRef:e,isInfer:t,regressionData:n,m:r,b:i,inferDistance:a})=>{const s=wx(),{t:o}=tn(),l=te.useMemo(()=>({datasets:[{label:"points",data:n.map(c=>({x:c.distance,y:c.power})),showLine:!1,pointRadius:0,pointBackgroundColor:"rgb(5, 0, 153)",pointHoverRadius:15,pointHoverBackgroundColor:"rgba(112, 112, 112, 0.5)",clip:!1},...t&&a?[{label:"inferLine",data:[{x:a,y:0},{x:a,y:r*a+i},{x:0,y:r*a+i}],showLine:!0,pointRadius:0,borderColor:s.darkRed,borderDash:[6,3]}]:[],...t?[{label:"line",data:[{x:ra.xMin,y:r*ra.xMin+i},{x:ra.xMax,y:r*ra.xMax+i}],showLine:!0,pointRadius:0,borderColor:"#080808"}]:[]]}),[n,t,r,i,a]),u=te.useMemo(()=>({aspectRatio:1,maintainAspectRatio:!0,events:[],layout:{padding:{right:10}},scales:{x:{min:ra.xMin,max:ra.xMax,title:{display:!0,text:o("PingPonger.xAxisTitle"),font:{size:16}}},y:{min:ra.yMin,max:ra.yMax,title:{display:!0,text:o("PingPonger.yAxisTitle"),font:{size:16}}}},regressionParams:{m:r,b:i,isInfer:t},animation:!1}),[o,r,i,t]);return O.jsx(QP,{id:"fruit-predictor-scatter",ref:e,data:l,options:u,plugins:[LZ,OZ]})},LZ={id:"emojiPlugin",afterDatasetsDraw:e=>{const{ctx:t,data:n}=e;for(const r in n.datasets){const i=n.datasets[r],{label:a}=i;if(a!=="points"&&a!=="inferLine")continue;const s=i,o=e.getDatasetMeta(Number(r)),l="24px sans-serif";t.save(),t.fillStyle="rgba(255, 255, 255, 1)",t.font=l,t.textAlign="center",t.textBaseline="middle",s.data.forEach((u,c)=>{if(a==="inferLine"&&c!==1)return;const f=o.data[c],{x:h,y:d}=f;t.fillText("🎯",h,d)}),t.restore()}}},OZ={id:"arrowsPlugin",beforeDatasetDraw:e=>{const{ctx:t,data:n,scales:r}=e,{regressionParams:i}=e.options;if(!i||!i.isInfer)return;const{m:a,b:s}=i,o=ra.yMin,l=ra.yMax,u=r.y,c=n.datasets.find(h=>h.label==="points");if(!c)return;const f=e.getDatasetMeta(n.datasets.indexOf(c));f&&(t.save(),t.strokeStyle="#080808",t.lineWidth=1,c.data.forEach((h,d)=>{const p=f.data[d],v=p.x,x=p.y,y=h.x,w=a*y+s;let k=w;k<o?k=o:k>l&&(k=l);const _=u.getPixelForValue(k);if(t.beginPath(),t.setLineDash([5,5]),t.moveTo(v,x),t.lineTo(v,_),t.stroke(),k===w){const T=_>x?Math.PI/2:-Math.PI/2;t.beginPath(),t.setLineDash([]),t.moveTo(v,_),t.lineTo(v-8*Math.cos(T-Math.PI/6),_-8*Math.sin(T-Math.PI/6)),t.moveTo(v,_),t.lineTo(v-8*Math.cos(T+Math.PI/6),_-8*Math.sin(T+Math.PI/6)),t.stroke()}}),t.restore())}},RZ=({data:e,handleRemoveData:t,handleTableRowHover:n})=>{const{t:r}=tn();return O.jsxs(NZ,{children:[O.jsx(x8,{children:[r("PingPonger.xAxisTitle"),r("PingPonger.yAxisTitle"),r("PingPonger.delete")].map((i,a)=>O.jsx(zZ,{children:i},a))}),O.jsx(BZ,{children:e.map(i=>O.jsxs(x8,{onMouseEnter:()=>n(i.id),onMouseLeave:()=>n(null),children:[O.jsx(Q2,{children:O.jsx("p",{children:i.distance})}),O.jsx(Q2,{children:O.jsxs(FZ,{children:[O.jsx($Z,{style:{width:`${i.power}%`},children:i.power>15&&O.jsx(jZ,{children:`⚡ ${i.power}%`})}),i.power<=15&&O.jsx(qZ,{children:`⚡ ${i.power}%`})]})}),O.jsx(HZ,{children:O.jsx("p",{onClick:()=>t(i.id),children:"🗑️"})})]},i.id))})]})},NZ=Pe.div.withConfig({displayName:"PingPongerTable__TableWrapper",componentId:"sc-1wn0ytq-0"})(["display:grid;border:1px solid ",";border-radius:5px;overflow:hidden;font-family:var(--main-font);font-size:16px;font-weight:400;"],({theme:e})=>e.black),zZ=Pe.span.withConfig({displayName:"PingPongerTable__HeaderCell",componentId:"sc-1wn0ytq-1"})(["display:table-header-group;vertical-align:middle;background-color:",";padding:10px 15px;color:white;font-weight:900;"],({theme:e})=>e.black),x8=Pe.div.withConfig({displayName:"PingPongerTable__TableRow",componentId:"sc-1wn0ytq-2"})(["display:grid;grid-template-columns:1fr 1fr 1fr;&:nth-child(odd){background-color:",";}&:nth-child(even){background-color:white;}&:last-of-type,&:first-of-type{border:none;}"],({theme:e})=>e.gray),BZ=Pe.div.withConfig({displayName:"PingPongerTable__Body",componentId:"sc-1wn0ytq-3"})(["overflow-y:auto;max-height:300px;scroll-padding-bottom:50px;margin:1px 0;"]),Q2=Pe.span.withConfig({displayName:"PingPongerTable__TableCell",componentId:"sc-1wn0ytq-4"})(["text-align:left;padding:5px 15px;display:flex;align-items:center;justify-content:start;gap:10px;"]),FZ=Pe.span.withConfig({displayName:"PingPongerTable__ProgressBar",componentId:"sc-1wn0ytq-5"})(["flex:1;border-radius:5px;border:1px solid ",";height:20px;background:",";position:relative;overflow:hidden;"],({theme:e})=>e.black,({theme:e})=>e.white),$Z=Pe.span.withConfig({displayName:"PingPongerTable__ProgressBarFill",componentId:"sc-1wn0ytq-6"})(["display:block;height:100%;background:linear-gradient(to right,#fffb83,#fdcd55);transition:width 0.3s ease-in-out;position:relative;"]),jZ=Pe.span.withConfig({displayName:"PingPongerTable__ProgressLabel",componentId:"sc-1wn0ytq-7"})(["position:absolute;left:50%;transform:translateX(-50%);font-weight:bold;font-size:12px;color:",";white-space:nowrap;"],({theme:e})=>e.black),qZ=Pe.span.withConfig({displayName:"PingPongerTable__OutsideLabel",componentId:"sc-1wn0ytq-8"})(["font-weight:bold;font-size:12px;color:",";white-space:nowrap;position:absolute;left:50%;transform:translateX(-50%);top:0;"],({theme:e})=>e.black),HZ=Pe(Q2).withConfig({displayName:"PingPongerTable__ClickableCell",componentId:"sc-1wn0ytq-9"})(["& > p{cursor:pointer;display:inline-block;}"]);function VZ(e,t){t===void 0&&(t={});var n=t.insertAt;if(!(!e||typeof document>"u")){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",n==="top"&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e))}}var UZ=typeof window<"u"?window:typeof Gn<"u"?Gn:typeof self<"u"?self:{};function WZ(e,t){return t={exports:{}},e(t,t.exports),t.exports}var rM=WZ(function(e,t){(function(r,i){e.exports=i()})(typeof self<"u"?self:UZ,function(){return function(){var n={};(function(){n.d=function(m,g){for(var b in g)n.o(g,b)&&!n.o(m,b)&&Object.defineProperty(m,b,{enumerable:!0,get:g[b]})}})(),function(){n.o=function(m,g){return Object.prototype.hasOwnProperty.call(m,g)}}();var r={};n.d(r,{default:function(){return rI}});class i{constructor(g,b){this.name=void 0,this.position=void 0,this.length=void 0,this.rawMessage=void 0;let S="KaTeX parse error: "+g,P,L;const F=b&&b.loc;if(F&&F.start<=F.end){const Q=F.lexer.input;P=F.start,L=F.end,P===Q.length?S+=" at end of input: ":S+=" at position "+(P+1)+": ";const ae=Q.slice(P,L).replace(/[^]/g,"$&̲");let ue;P>15?ue="…"+Q.slice(P-15,P):ue=Q.slice(0,P);let pe;L+15<Q.length?pe=Q.slice(L,L+15)+"…":pe=Q.slice(L),S+=ue+ae+pe}const H=new Error(S);return H.name="ParseError",H.__proto__=i.prototype,H.position=P,P!=null&&L!=null&&(H.length=L-P),H.rawMessage=g,H}}i.prototype.__proto__=Error.prototype;var a=i;const s=function(m,g){return m.indexOf(g)!==-1},o=function(m,g){return m===void 0?g:m},l=/([A-Z])/g,u=function(m){return m.replace(l,"-$1").toLowerCase()},c={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},f=/[&><"']/g;function h(m){return String(m).replace(f,g=>c[g])}const d=function(m){return m.type==="ordgroup"||m.type==="color"?m.body.length===1?d(m.body[0]):m:m.type==="font"?d(m.body):m},p=function(m){const g=d(m);return g.type==="mathord"||g.type==="textord"||g.type==="atom"},v=function(m){if(!m)throw new Error("Expected non-null, but got "+String(m));return m};var y={contains:s,deflt:o,escape:h,hyphenate:u,getBaseElem:d,isCharacterBox:p,protocolFromUrl:function(m){const g=/^[\x00-\x20]*([^\\/#?]*?)(:|&#0*58|&#x0*3a|&colon)/i.exec(m);return g?g[2]!==":"||!/^[a-zA-Z][a-zA-Z0-9+\-.]*$/.test(g[1])?null:g[1].toLowerCase():"_relative"}};const w={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml","html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format <type>"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",default:"#cc0000",cli:"-c, --error-color <color>",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:m=>"#"+m},macros:{type:"object",cli:"-m, --macro <def>",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:(m,g)=>(g.push(m),g)},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:m=>Math.max(0,m),cli:"--min-rule-thickness <size>",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:1/0,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:m=>Math.max(0,m),cli:"-s, --max-size <n>",cliProcessor:parseInt},maxExpand:{type:"number",default:1e3,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",processor:m=>Math.max(0,m),cli:"-e, --max-expand <n>",cliProcessor:m=>m==="Infinity"?1/0:parseInt(m)},globalGroup:{type:"boolean",cli:!1}};function k(m){if(m.default)return m.default;const g=m.type,b=Array.isArray(g)?g[0]:g;if(typeof b!="string")return b.enum[0];switch(b){case"boolean":return!1;case"string":return"";case"number":return 0;case"object":return{}}}class _{constructor(g){this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,g=g||{};for(const b in w)if(w.hasOwnProperty(b)){const S=w[b];this[b]=g[b]!==void 0?S.processor?S.processor(g[b]):g[b]:k(S)}}reportNonstrict(g,b,S){let P=this.strict;if(typeof P=="function"&&(P=P(g,b,S)),!(!P||P==="ignore")){if(P===!0||P==="error")throw new a("LaTeX-incompatible input and strict mode is set to 'error': "+(b+" ["+g+"]"),S);P==="warn"?typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(b+" ["+g+"]")):typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+P+"': "+b+" ["+g+"]"))}}useStrictBehavior(g,b,S){let P=this.strict;if(typeof P=="function")try{P=P(g,b,S)}catch{P="error"}return!P||P==="ignore"?!1:P===!0||P==="error"?!0:P==="warn"?(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(b+" ["+g+"]")),!1):(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+P+"': "+b+" ["+g+"]")),!1)}isTrusted(g){if(g.url&&!g.protocol){const S=y.protocolFromUrl(g.url);if(S==null)return!1;g.protocol=S}return!!(typeof this.trust=="function"?this.trust(g):this.trust)}}class C{constructor(g,b,S){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=g,this.size=b,this.cramped=S}sup(){return V[Y[this.id]]}sub(){return V[Z[this.id]]}fracNum(){return V[X[this.id]]}fracDen(){return V[G[this.id]]}cramp(){return V[ee[this.id]]}text(){return V[B[this.id]]}isTight(){return this.size>=2}}const T=0,E=1,A=2,R=3,D=4,N=5,z=6,j=7,V=[new C(T,0,!1),new C(E,0,!0),new C(A,1,!1),new C(R,1,!0),new C(D,2,!1),new C(N,2,!0),new C(z,3,!1),new C(j,3,!0)],Y=[D,N,D,N,z,j,z,j],Z=[N,N,N,N,j,j,j,j],X=[A,R,D,N,z,j,z,j],G=[R,R,N,N,j,j,j,j],ee=[E,E,R,R,N,N,j,j],B=[T,E,A,R,A,R,A,R];var K={DISPLAY:V[T],TEXT:V[A],SCRIPT:V[D],SCRIPTSCRIPT:V[z]};const J=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}];function q(m){for(let g=0;g<J.length;g++){const b=J[g];for(let S=0;S<b.blocks.length;S++){const P=b.blocks[S];if(m>=P[0]&&m<=P[1])return b.name}}return null}const he=[];J.forEach(m=>m.blocks.forEach(g=>he.push(...g)));function de(m){for(let g=0;g<he.length;g+=2)if(m>=he[g]&&m<=he[g+1])return!0;return!1}const oe=80,ke=function(m,g){return"M95,"+(622+m+g)+`
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l`+m/2.075+" -"+m+`
c5.3,-9.3,12,-14,20,-14
H400000v`+(40+m)+`H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M`+(834+m)+" "+g+"h400000v"+(40+m)+"h-400000z"},Ae=function(m,g){return"M263,"+(601+m+g)+`c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l`+m/2.084+" -"+m+`
c4.7,-7.3,11,-11,19,-11
H40000v`+(40+m)+`H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M`+(1001+m)+" "+g+"h400000v"+(40+m)+"h-400000z"},Se=function(m,g){return"M983 "+(10+m+g)+`
l`+m/3.13+" -"+m+`
c4,-6.7,10,-10,18,-10 H400000v`+(40+m)+`
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M`+(1001+m)+" "+g+"h400000v"+(40+m)+"h-400000z"},ce=function(m,g){return"M424,"+(2398+m+g)+`
c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514
c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20
s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121
s209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081
l`+m/4.223+" -"+m+`c4,-6.7,10,-10,18,-10 H400000
v`+(40+m)+`H1014.6
s-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185
c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2z M`+(1001+m)+" "+g+`
h400000v`+(40+m)+"h-400000z"},ge=function(m,g){return"M473,"+(2713+m+g)+`
c339.3,-1799.3,509.3,-2700,510,-2702 l`+m/5.298+" -"+m+`
c3.3,-7.3,9.3,-11,18,-11 H400000v`+(40+m)+`H1017.7
s-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200
c0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26
s76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,
606zM`+(1001+m)+" "+g+"h400000v"+(40+m)+"H1017.7z"},me=function(m){const g=m/2;return"M400000 "+m+" H0 L"+g+" 0 l65 45 L145 "+(m-80)+" H400000z"},Ee=function(m,g,b){const S=b-54-g-m;return"M702 "+(m+g)+"H400000"+(40+m)+`
H742v`+S+`l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1
h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170
c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667
219 661 l218 661zM702 `+g+"H400000v"+(40+m)+"H742z"},je=function(m,g,b){g=1e3*g;let S="";switch(m){case"sqrtMain":S=ke(g,oe);break;case"sqrtSize1":S=Ae(g,oe);break;case"sqrtSize2":S=Se(g,oe);break;case"sqrtSize3":S=ce(g,oe);break;case"sqrtSize4":S=ge(g,oe);break;case"sqrtTall":S=Ee(g,oe,b)}return S},ct=function(m,g){switch(m){case"⎜":return"M291 0 H417 V"+g+" H291z M291 0 H417 V"+g+" H291z";case"∣":return"M145 0 H188 V"+g+" H145z M145 0 H188 V"+g+" H145z";case"∥":return"M145 0 H188 V"+g+" H145z M145 0 H188 V"+g+" H145z"+("M367 0 H410 V"+g+" H367z M367 0 H410 V"+g+" H367z");case"⎟":return"M457 0 H583 V"+g+" H457z M457 0 H583 V"+g+" H457z";case"⎢":return"M319 0 H403 V"+g+" H319z M319 0 H403 V"+g+" H319z";case"⎥":return"M263 0 H347 V"+g+" H263z M263 0 H347 V"+g+" H263z";case"⎪":return"M384 0 H504 V"+g+" H384z M384 0 H504 V"+g+" H384z";case"⏐":return"M312 0 H355 V"+g+" H312z M312 0 H355 V"+g+" H312z";case"‖":return"M257 0 H300 V"+g+" H257z M257 0 H300 V"+g+" H257z"+("M478 0 H521 V"+g+" H478z M478 0 H521 V"+g+" H478z");default:return""}},zt={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,tilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,tilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,tilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,tilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`},Tt=function(m,g){switch(m){case"lbrack":return"M403 1759 V84 H666 V0 H319 V1759 v"+g+` v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v`+g+" v1759 h84z";case"rbrack":return"M347 1759 V0 H0 V84 H263 V1759 v"+g+` v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v`+g+" v1759 h84z";case"vert":return"M145 15 v585 v"+g+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-g+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+g+" v585 h43z";case"doublevert":return"M145 15 v585 v"+g+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-g+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+g+` v585 h43z
M367 15 v585 v`+g+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-g+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M410 15 H367 v585 v`+g+" v585 h43z";case"lfloor":return"M319 602 V0 H403 V602 v"+g+` v1715 h263 v84 H319z
MM319 602 V0 H403 V602 v`+g+" v1715 H319z";case"rfloor":return"M319 602 V0 H403 V602 v"+g+` v1799 H0 v-84 H319z
MM319 602 V0 H403 V602 v`+g+" v1715 H319z";case"lceil":return"M403 1759 V84 H666 V0 H319 V1759 v"+g+` v602 h84z
M403 1759 V0 H319 V1759 v`+g+" v602 h84z";case"rceil":return"M347 1759 V0 H0 V84 H263 V1759 v"+g+` v602 h84z
M347 1759 V0 h-84 V1759 v`+g+" v602 h84z";case"lparen":return`M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,`+(g+84)+`c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-`+(g+92)+`c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z`;case"rparen":return`M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,`+(g+9)+`
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-`+(g+144)+`c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z`;default:throw new Error("Unknown stretchy delimiter.")}};class He{constructor(g){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=g,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass(g){return y.contains(this.classes,g)}toNode(){const g=document.createDocumentFragment();for(let b=0;b<this.children.length;b++)g.appendChild(this.children[b].toNode());return g}toMarkup(){let g="";for(let b=0;b<this.children.length;b++)g+=this.children[b].toMarkup();return g}toText(){const g=b=>b.toText();return this.children.map(g).join("")}}var $e={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}};const Qe={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},nt={Å:"A",Ð:"D",Þ:"o",å:"a",ð:"d",þ:"o",А:"A",Б:"B",В:"B",Г:"F",Д:"A",Е:"E",Ж:"K",З:"3",И:"N",Й:"N",К:"K",Л:"N",М:"M",Н:"H",О:"O",П:"N",Р:"P",С:"C",Т:"T",У:"y",Ф:"O",Х:"X",Ц:"U",Ч:"h",Ш:"W",Щ:"W",Ъ:"B",Ы:"X",Ь:"B",Э:"3",Ю:"X",Я:"R",а:"a",б:"b",в:"a",г:"r",д:"y",е:"e",ж:"m",з:"e",и:"n",й:"n",к:"n",л:"n",м:"m",н:"n",о:"o",п:"n",р:"p",с:"c",т:"o",у:"y",ф:"b",х:"x",ц:"n",ч:"n",ш:"w",щ:"w",ъ:"a",ы:"m",ь:"a",э:"e",ю:"m",я:"r"};function Je(m,g){$e[m]=g}function rt(m,g,b){if(!$e[g])throw new Error("Font metrics not found for font: "+g+".");let S=m.charCodeAt(0),P=$e[g][S];if(!P&&m[0]in nt&&(S=nt[m[0]].charCodeAt(0),P=$e[g][S]),!P&&b==="text"&&de(S)&&(P=$e[g][77]),P)return{depth:P[0],height:P[1],italic:P[2],skew:P[3],width:P[4]}}const lt={};function bt(m){let g;if(m>=5?g=0:m>=3?g=1:g=2,!lt[g]){const b=lt[g]={cssEmPerMu:Qe.quad[g]/18};for(const S in Qe)Qe.hasOwnProperty(S)&&(b[S]=Qe[S][g])}return lt[g]}const Bt=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],be=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],Te=function(m,g){return g.size<2?m:Bt[m-1][g.size-1]};class Be{constructor(g){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=g.style,this.color=g.color,this.size=g.size||Be.BASESIZE,this.textSize=g.textSize||this.size,this.phantom=!!g.phantom,this.font=g.font||"",this.fontFamily=g.fontFamily||"",this.fontWeight=g.fontWeight||"",this.fontShape=g.fontShape||"",this.sizeMultiplier=be[this.size-1],this.maxSize=g.maxSize,this.minRuleThickness=g.minRuleThickness,this._fontMetrics=void 0}extend(g){const b={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(const S in g)g.hasOwnProperty(S)&&(b[S]=g[S]);return new Be(b)}havingStyle(g){return this.style===g?this:this.extend({style:g,size:Te(this.textSize,g)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize(g){return this.size===g&&this.textSize===g?this:this.extend({style:this.style.text(),size:g,textSize:g,sizeMultiplier:be[g-1]})}havingBaseStyle(g){g=g||this.style.text();const b=Te(Be.BASESIZE,g);return this.size===b&&this.textSize===Be.BASESIZE&&this.style===g?this:this.extend({style:g,size:b})}havingBaseSizing(){let g;switch(this.style.id){case 4:case 5:g=3;break;case 6:case 7:g=1;break;default:g=6}return this.extend({style:this.style.text(),size:g})}withColor(g){return this.extend({color:g})}withPhantom(){return this.extend({phantom:!0})}withFont(g){return this.extend({font:g})}withTextFontFamily(g){return this.extend({fontFamily:g,font:""})}withTextFontWeight(g){return this.extend({fontWeight:g,font:""})}withTextFontShape(g){return this.extend({fontShape:g,font:""})}sizingClasses(g){return g.size!==this.size?["sizing","reset-size"+g.size,"size"+this.size]:[]}baseSizingClasses(){return this.size!==Be.BASESIZE?["sizing","reset-size"+this.size,"size"+Be.BASESIZE]:[]}fontMetrics(){return this._fontMetrics||(this._fontMetrics=bt(this.size)),this._fontMetrics}getColor(){return this.phantom?"transparent":this.color}}Be.BASESIZE=6;var Xe=Be;const Oe={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:803/800,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:803/800},_e={ex:!0,em:!0,mu:!0},U=function(m){return typeof m!="string"&&(m=m.unit),m in Oe||m in _e||m==="ex"},le=function(m,g){let b;if(m.unit in Oe)b=Oe[m.unit]/g.fontMetrics().ptPerEm/g.sizeMultiplier;else if(m.unit==="mu")b=g.fontMetrics().cssEmPerMu;else{let S;if(g.style.isTight()?S=g.havingStyle(g.style.text()):S=g,m.unit==="ex")b=S.fontMetrics().xHeight;else if(m.unit==="em")b=S.fontMetrics().quad;else throw new a("Invalid unit: '"+m.unit+"'");S!==g&&(b*=S.sizeMultiplier/g.sizeMultiplier)}return Math.min(m.number*b,g.maxSize)},ie=function(m){return+m.toFixed(4)+"em"},xe=function(m){return m.filter(g=>g).join(" ")},ye=function(m,g,b){if(this.classes=m||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=b||{},g){g.style.isTight()&&this.classes.push("mtight");const S=g.getColor();S&&(this.style.color=S)}},Ue=function(m){const g=document.createElement(m);g.className=xe(this.classes);for(const b in this.style)this.style.hasOwnProperty(b)&&(g.style[b]=this.style[b]);for(const b in this.attributes)this.attributes.hasOwnProperty(b)&&g.setAttribute(b,this.attributes[b]);for(let b=0;b<this.children.length;b++)g.appendChild(this.children[b].toNode());return g},Ce=function(m){let g="<"+m;this.classes.length&&(g+=' class="'+y.escape(xe(this.classes))+'"');let b="";for(const S in this.style)this.style.hasOwnProperty(S)&&(b+=y.hyphenate(S)+":"+this.style[S]+";");b&&(g+=' style="'+y.escape(b)+'"');for(const S in this.attributes)this.attributes.hasOwnProperty(S)&&(g+=" "+S+'="'+y.escape(this.attributes[S])+'"');g+=">";for(let S=0;S<this.children.length;S++)g+=this.children[S].toMarkup();return g+="</"+m+">",g};class Ke{constructor(g,b,S,P){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,ye.call(this,g,S,P),this.children=b||[]}setAttribute(g,b){this.attributes[g]=b}hasClass(g){return y.contains(this.classes,g)}toNode(){return Ue.call(this,"span")}toMarkup(){return Ce.call(this,"span")}}class ht{constructor(g,b,S,P){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,ye.call(this,b,P),this.children=S||[],this.setAttribute("href",g)}setAttribute(g,b){this.attributes[g]=b}hasClass(g){return y.contains(this.classes,g)}toNode(){return Ue.call(this,"a")}toMarkup(){return Ce.call(this,"a")}}class kt{constructor(g,b,S){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=b,this.src=g,this.classes=["mord"],this.style=S}hasClass(g){return y.contains(this.classes,g)}toNode(){const g=document.createElement("img");g.src=this.src,g.alt=this.alt,g.className="mord";for(const b in this.style)this.style.hasOwnProperty(b)&&(g.style[b]=this.style[b]);return g}toMarkup(){let g='<img src="'+y.escape(this.src)+'"'+(' alt="'+y.escape(this.alt)+'"'),b="";for(const S in this.style)this.style.hasOwnProperty(S)&&(b+=y.hyphenate(S)+":"+this.style[S]+";");return b&&(g+=' style="'+y.escape(b)+'"'),g+="'/>",g}}const ut={î:"ı̂",ï:"ı̈",í:"ı́",ì:"ı̀"};class it{constructor(g,b,S,P,L,F,H,Q){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=g,this.height=b||0,this.depth=S||0,this.italic=P||0,this.skew=L||0,this.width=F||0,this.classes=H||[],this.style=Q||{},this.maxFontSize=0;const ae=q(this.text.charCodeAt(0));ae&&this.classes.push(ae+"_fallback"),/[îïíì]/.test(this.text)&&(this.text=ut[this.text])}hasClass(g){return y.contains(this.classes,g)}toNode(){const g=document.createTextNode(this.text);let b=null;this.italic>0&&(b=document.createElement("span"),b.style.marginRight=ie(this.italic)),this.classes.length>0&&(b=b||document.createElement("span"),b.className=xe(this.classes));for(const S in this.style)this.style.hasOwnProperty(S)&&(b=b||document.createElement("span"),b.style[S]=this.style[S]);return b?(b.appendChild(g),b):g}toMarkup(){let g=!1,b="<span";this.classes.length&&(g=!0,b+=' class="',b+=y.escape(xe(this.classes)),b+='"');let S="";this.italic>0&&(S+="margin-right:"+this.italic+"em;");for(const L in this.style)this.style.hasOwnProperty(L)&&(S+=y.hyphenate(L)+":"+this.style[L]+";");S&&(g=!0,b+=' style="'+y.escape(S)+'"');const P=y.escape(this.text);return g?(b+=">",b+=P,b+="</span>",b):P}}class et{constructor(g,b){this.children=void 0,this.attributes=void 0,this.children=g||[],this.attributes=b||{}}toNode(){const g="http://www.w3.org/2000/svg",b=document.createElementNS(g,"svg");for(const S in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,S)&&b.setAttribute(S,this.attributes[S]);for(let S=0;S<this.children.length;S++)b.appendChild(this.children[S].toNode());return b}toMarkup(){let g='<svg xmlns="http://www.w3.org/2000/svg"';for(const b in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,b)&&(g+=" "+b+'="'+y.escape(this.attributes[b])+'"');g+=">";for(let b=0;b<this.children.length;b++)g+=this.children[b].toMarkup();return g+="</svg>",g}}class at{constructor(g,b){this.pathName=void 0,this.alternate=void 0,this.pathName=g,this.alternate=b}toNode(){const g="http://www.w3.org/2000/svg",b=document.createElementNS(g,"path");return this.alternate?b.setAttribute("d",this.alternate):b.setAttribute("d",zt[this.pathName]),b}toMarkup(){return this.alternate?'<path d="'+y.escape(this.alternate)+'"/>':'<path d="'+y.escape(zt[this.pathName])+'"/>'}}class Rt{constructor(g){this.attributes=void 0,this.attributes=g||{}}toNode(){const g="http://www.w3.org/2000/svg",b=document.createElementNS(g,"line");for(const S in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,S)&&b.setAttribute(S,this.attributes[S]);return b}toMarkup(){let g="<line";for(const b in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,b)&&(g+=" "+b+'="'+y.escape(this.attributes[b])+'"');return g+="/>",g}}function xn(m){if(m instanceof it)return m;throw new Error("Expected symbolNode but got "+String(m)+".")}function Kn(m){if(m instanceof Ke)return m;throw new Error("Expected span<HtmlDomNode> but got "+String(m)+".")}const Vn={bin:1,close:1,inner:1,open:1,punct:1,rel:1},bn={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},Dn={math:{},text:{}};var mt=Dn;function M(m,g,b,S,P,L){Dn[m][P]={font:g,group:b,replace:S},L&&S&&(Dn[m][S]=Dn[m][P])}const I="math",Me="text",$="main",ne="ams",Ut="accent-token",Fe="bin",jt="close",wn="inner",We="mathord",un="op-token",gn="open",ro="punct",re="rel",Li="spacing",se="textord";M(I,$,re,"≡","\\equiv",!0),M(I,$,re,"≺","\\prec",!0),M(I,$,re,"≻","\\succ",!0),M(I,$,re,"∼","\\sim",!0),M(I,$,re,"⊥","\\perp"),M(I,$,re,"⪯","\\preceq",!0),M(I,$,re,"⪰","\\succeq",!0),M(I,$,re,"≃","\\simeq",!0),M(I,$,re,"∣","\\mid",!0),M(I,$,re,"≪","\\ll",!0),M(I,$,re,"≫","\\gg",!0),M(I,$,re,"≍","\\asymp",!0),M(I,$,re,"∥","\\parallel"),M(I,$,re,"⋈","\\bowtie",!0),M(I,$,re,"⌣","\\smile",!0),M(I,$,re,"⊑","\\sqsubseteq",!0),M(I,$,re,"⊒","\\sqsupseteq",!0),M(I,$,re,"≐","\\doteq",!0),M(I,$,re,"⌢","\\frown",!0),M(I,$,re,"∋","\\ni",!0),M(I,$,re,"∝","\\propto",!0),M(I,$,re,"⊢","\\vdash",!0),M(I,$,re,"⊣","\\dashv",!0),M(I,$,re,"∋","\\owns"),M(I,$,ro,".","\\ldotp"),M(I,$,ro,"⋅","\\cdotp"),M(I,$,se,"#","\\#"),M(Me,$,se,"#","\\#"),M(I,$,se,"&","\\&"),M(Me,$,se,"&","\\&"),M(I,$,se,"ℵ","\\aleph",!0),M(I,$,se,"∀","\\forall",!0),M(I,$,se,"ℏ","\\hbar",!0),M(I,$,se,"∃","\\exists",!0),M(I,$,se,"∇","\\nabla",!0),M(I,$,se,"♭","\\flat",!0),M(I,$,se,"ℓ","\\ell",!0),M(I,$,se,"♮","\\natural",!0),M(I,$,se,"♣","\\clubsuit",!0),M(I,$,se,"℘","\\wp",!0),M(I,$,se,"♯","\\sharp",!0),M(I,$,se,"♢","\\diamondsuit",!0),M(I,$,se,"ℜ","\\Re",!0),M(I,$,se,"♡","\\heartsuit",!0),M(I,$,se,"ℑ","\\Im",!0),M(I,$,se,"♠","\\spadesuit",!0),M(I,$,se,"§","\\S",!0),M(Me,$,se,"§","\\S"),M(I,$,se,"¶","\\P",!0),M(Me,$,se,"¶","\\P"),M(I,$,se,"†","\\dag"),M(Me,$,se,"†","\\dag"),M(Me,$,se,"†","\\textdagger"),M(I,$,se,"‡","\\ddag"),M(Me,$,se,"‡","\\ddag"),M(Me,$,se,"‡","\\textdaggerdbl"),M(I,$,jt,"⎱","\\rmoustache",!0),M(I,$,gn,"⎰","\\lmoustache",!0),M(I,$,jt,"⟯","\\rgroup",!0),M(I,$,gn,"⟮","\\lgroup",!0),M(I,$,Fe,"∓","\\mp",!0),M(I,$,Fe,"⊖","\\ominus",!0),M(I,$,Fe,"⊎","\\uplus",!0),M(I,$,Fe,"⊓","\\sqcap",!0),M(I,$,Fe,"∗","\\ast"),M(I,$,Fe,"⊔","\\sqcup",!0),M(I,$,Fe,"◯","\\bigcirc",!0),M(I,$,Fe,"∙","\\bullet",!0),M(I,$,Fe,"‡","\\ddagger"),M(I,$,Fe,"≀","\\wr",!0),M(I,$,Fe,"⨿","\\amalg"),M(I,$,Fe,"&","\\And"),M(I,$,re,"⟵","\\longleftarrow",!0),M(I,$,re,"⇐","\\Leftarrow",!0),M(I,$,re,"⟸","\\Longleftarrow",!0),M(I,$,re,"⟶","\\longrightarrow",!0),M(I,$,re,"⇒","\\Rightarrow",!0),M(I,$,re,"⟹","\\Longrightarrow",!0),M(I,$,re,"↔","\\leftrightarrow",!0),M(I,$,re,"⟷","\\longleftrightarrow",!0),M(I,$,re,"⇔","\\Leftrightarrow",!0),M(I,$,re,"⟺","\\Longleftrightarrow",!0),M(I,$,re,"↦","\\mapsto",!0),M(I,$,re,"⟼","\\longmapsto",!0),M(I,$,re,"↗","\\nearrow",!0),M(I,$,re,"↩","\\hookleftarrow",!0),M(I,$,re,"↪","\\hookrightarrow",!0),M(I,$,re,"↘","\\searrow",!0),M(I,$,re,"↼","\\leftharpoonup",!0),M(I,$,re,"⇀","\\rightharpoonup",!0),M(I,$,re,"↙","\\swarrow",!0),M(I,$,re,"↽","\\leftharpoondown",!0),M(I,$,re,"⇁","\\rightharpoondown",!0),M(I,$,re,"↖","\\nwarrow",!0),M(I,$,re,"⇌","\\rightleftharpoons",!0),M(I,ne,re,"≮","\\nless",!0),M(I,ne,re,"","\\@nleqslant"),M(I,ne,re,"","\\@nleqq"),M(I,ne,re,"⪇","\\lneq",!0),M(I,ne,re,"≨","\\lneqq",!0),M(I,ne,re,"","\\@lvertneqq"),M(I,ne,re,"⋦","\\lnsim",!0),M(I,ne,re,"⪉","\\lnapprox",!0),M(I,ne,re,"⊀","\\nprec",!0),M(I,ne,re,"⋠","\\npreceq",!0),M(I,ne,re,"⋨","\\precnsim",!0),M(I,ne,re,"⪹","\\precnapprox",!0),M(I,ne,re,"≁","\\nsim",!0),M(I,ne,re,"","\\@nshortmid"),M(I,ne,re,"∤","\\nmid",!0),M(I,ne,re,"⊬","\\nvdash",!0),M(I,ne,re,"⊭","\\nvDash",!0),M(I,ne,re,"⋪","\\ntriangleleft"),M(I,ne,re,"⋬","\\ntrianglelefteq",!0),M(I,ne,re,"⊊","\\subsetneq",!0),M(I,ne,re,"","\\@varsubsetneq"),M(I,ne,re,"⫋","\\subsetneqq",!0),M(I,ne,re,"","\\@varsubsetneqq"),M(I,ne,re,"≯","\\ngtr",!0),M(I,ne,re,"","\\@ngeqslant"),M(I,ne,re,"","\\@ngeqq"),M(I,ne,re,"⪈","\\gneq",!0),M(I,ne,re,"≩","\\gneqq",!0),M(I,ne,re,"","\\@gvertneqq"),M(I,ne,re,"⋧","\\gnsim",!0),M(I,ne,re,"⪊","\\gnapprox",!0),M(I,ne,re,"⊁","\\nsucc",!0),M(I,ne,re,"⋡","\\nsucceq",!0),M(I,ne,re,"⋩","\\succnsim",!0),M(I,ne,re,"⪺","\\succnapprox",!0),M(I,ne,re,"≆","\\ncong",!0),M(I,ne,re,"","\\@nshortparallel"),M(I,ne,re,"∦","\\nparallel",!0),M(I,ne,re,"⊯","\\nVDash",!0),M(I,ne,re,"⋫","\\ntriangleright"),M(I,ne,re,"⋭","\\ntrianglerighteq",!0),M(I,ne,re,"","\\@nsupseteqq"),M(I,ne,re,"⊋","\\supsetneq",!0),M(I,ne,re,"","\\@varsupsetneq"),M(I,ne,re,"⫌","\\supsetneqq",!0),M(I,ne,re,"","\\@varsupsetneqq"),M(I,ne,re,"⊮","\\nVdash",!0),M(I,ne,re,"⪵","\\precneqq",!0),M(I,ne,re,"⪶","\\succneqq",!0),M(I,ne,re,"","\\@nsubseteqq"),M(I,ne,Fe,"⊴","\\unlhd"),M(I,ne,Fe,"⊵","\\unrhd"),M(I,ne,re,"↚","\\nleftarrow",!0),M(I,ne,re,"↛","\\nrightarrow",!0),M(I,ne,re,"⇍","\\nLeftarrow",!0),M(I,ne,re,"⇏","\\nRightarrow",!0),M(I,ne,re,"↮","\\nleftrightarrow",!0),M(I,ne,re,"⇎","\\nLeftrightarrow",!0),M(I,ne,re,"△","\\vartriangle"),M(I,ne,se,"ℏ","\\hslash"),M(I,ne,se,"▽","\\triangledown"),M(I,ne,se,"◊","\\lozenge"),M(I,ne,se,"Ⓢ","\\circledS"),M(I,ne,se,"®","\\circledR"),M(Me,ne,se,"®","\\circledR"),M(I,ne,se,"∡","\\measuredangle",!0),M(I,ne,se,"∄","\\nexists"),M(I,ne,se,"℧","\\mho"),M(I,ne,se,"Ⅎ","\\Finv",!0),M(I,ne,se,"⅁","\\Game",!0),M(I,ne,se,"‵","\\backprime"),M(I,ne,se,"▲","\\blacktriangle"),M(I,ne,se,"▼","\\blacktriangledown"),M(I,ne,se,"■","\\blacksquare"),M(I,ne,se,"⧫","\\blacklozenge"),M(I,ne,se,"★","\\bigstar"),M(I,ne,se,"∢","\\sphericalangle",!0),M(I,ne,se,"∁","\\complement",!0),M(I,ne,se,"ð","\\eth",!0),M(Me,$,se,"ð","ð"),M(I,ne,se,"╱","\\diagup"),M(I,ne,se,"╲","\\diagdown"),M(I,ne,se,"□","\\square"),M(I,ne,se,"□","\\Box"),M(I,ne,se,"◊","\\Diamond"),M(I,ne,se,"¥","\\yen",!0),M(Me,ne,se,"¥","\\yen",!0),M(I,ne,se,"✓","\\checkmark",!0),M(Me,ne,se,"✓","\\checkmark"),M(I,ne,se,"ℶ","\\beth",!0),M(I,ne,se,"ℸ","\\daleth",!0),M(I,ne,se,"ℷ","\\gimel",!0),M(I,ne,se,"ϝ","\\digamma",!0),M(I,ne,se,"ϰ","\\varkappa"),M(I,ne,gn,"┌","\\@ulcorner",!0),M(I,ne,jt,"┐","\\@urcorner",!0),M(I,ne,gn,"└","\\@llcorner",!0),M(I,ne,jt,"┘","\\@lrcorner",!0),M(I,ne,re,"≦","\\leqq",!0),M(I,ne,re,"⩽","\\leqslant",!0),M(I,ne,re,"⪕","\\eqslantless",!0),M(I,ne,re,"≲","\\lesssim",!0),M(I,ne,re,"⪅","\\lessapprox",!0),M(I,ne,re,"≊","\\approxeq",!0),M(I,ne,Fe,"⋖","\\lessdot"),M(I,ne,re,"⋘","\\lll",!0),M(I,ne,re,"≶","\\lessgtr",!0),M(I,ne,re,"⋚","\\lesseqgtr",!0),M(I,ne,re,"⪋","\\lesseqqgtr",!0),M(I,ne,re,"≑","\\doteqdot"),M(I,ne,re,"≓","\\risingdotseq",!0),M(I,ne,re,"≒","\\fallingdotseq",!0),M(I,ne,re,"∽","\\backsim",!0),M(I,ne,re,"⋍","\\backsimeq",!0),M(I,ne,re,"⫅","\\subseteqq",!0),M(I,ne,re,"⋐","\\Subset",!0),M(I,ne,re,"⊏","\\sqsubset",!0),M(I,ne,re,"≼","\\preccurlyeq",!0),M(I,ne,re,"⋞","\\curlyeqprec",!0),M(I,ne,re,"≾","\\precsim",!0),M(I,ne,re,"⪷","\\precapprox",!0),M(I,ne,re,"⊲","\\vartriangleleft"),M(I,ne,re,"⊴","\\trianglelefteq"),M(I,ne,re,"⊨","\\vDash",!0),M(I,ne,re,"⊪","\\Vvdash",!0),M(I,ne,re,"⌣","\\smallsmile"),M(I,ne,re,"⌢","\\smallfrown"),M(I,ne,re,"≏","\\bumpeq",!0),M(I,ne,re,"≎","\\Bumpeq",!0),M(I,ne,re,"≧","\\geqq",!0),M(I,ne,re,"⩾","\\geqslant",!0),M(I,ne,re,"⪖","\\eqslantgtr",!0),M(I,ne,re,"≳","\\gtrsim",!0),M(I,ne,re,"⪆","\\gtrapprox",!0),M(I,ne,Fe,"⋗","\\gtrdot"),M(I,ne,re,"⋙","\\ggg",!0),M(I,ne,re,"≷","\\gtrless",!0),M(I,ne,re,"⋛","\\gtreqless",!0),M(I,ne,re,"⪌","\\gtreqqless",!0),M(I,ne,re,"≖","\\eqcirc",!0),M(I,ne,re,"≗","\\circeq",!0),M(I,ne,re,"≜","\\triangleq",!0),M(I,ne,re,"∼","\\thicksim"),M(I,ne,re,"≈","\\thickapprox"),M(I,ne,re,"⫆","\\supseteqq",!0),M(I,ne,re,"⋑","\\Supset",!0),M(I,ne,re,"⊐","\\sqsupset",!0),M(I,ne,re,"≽","\\succcurlyeq",!0),M(I,ne,re,"⋟","\\curlyeqsucc",!0),M(I,ne,re,"≿","\\succsim",!0),M(I,ne,re,"⪸","\\succapprox",!0),M(I,ne,re,"⊳","\\vartriangleright"),M(I,ne,re,"⊵","\\trianglerighteq"),M(I,ne,re,"⊩","\\Vdash",!0),M(I,ne,re,"∣","\\shortmid"),M(I,ne,re,"∥","\\shortparallel"),M(I,ne,re,"≬","\\between",!0),M(I,ne,re,"⋔","\\pitchfork",!0),M(I,ne,re,"∝","\\varpropto"),M(I,ne,re,"◀","\\blacktriangleleft"),M(I,ne,re,"∴","\\therefore",!0),M(I,ne,re,"∍","\\backepsilon"),M(I,ne,re,"▶","\\blacktriangleright"),M(I,ne,re,"∵","\\because",!0),M(I,ne,re,"⋘","\\llless"),M(I,ne,re,"⋙","\\gggtr"),M(I,ne,Fe,"⊲","\\lhd"),M(I,ne,Fe,"⊳","\\rhd"),M(I,ne,re,"≂","\\eqsim",!0),M(I,$,re,"⋈","\\Join"),M(I,ne,re,"≑","\\Doteq",!0),M(I,ne,Fe,"∔","\\dotplus",!0),M(I,ne,Fe,"∖","\\smallsetminus"),M(I,ne,Fe,"⋒","\\Cap",!0),M(I,ne,Fe,"⋓","\\Cup",!0),M(I,ne,Fe,"⩞","\\doublebarwedge",!0),M(I,ne,Fe,"⊟","\\boxminus",!0),M(I,ne,Fe,"⊞","\\boxplus",!0),M(I,ne,Fe,"⋇","\\divideontimes",!0),M(I,ne,Fe,"⋉","\\ltimes",!0),M(I,ne,Fe,"⋊","\\rtimes",!0),M(I,ne,Fe,"⋋","\\leftthreetimes",!0),M(I,ne,Fe,"⋌","\\rightthreetimes",!0),M(I,ne,Fe,"⋏","\\curlywedge",!0),M(I,ne,Fe,"⋎","\\curlyvee",!0),M(I,ne,Fe,"⊝","\\circleddash",!0),M(I,ne,Fe,"⊛","\\circledast",!0),M(I,ne,Fe,"⋅","\\centerdot"),M(I,ne,Fe,"⊺","\\intercal",!0),M(I,ne,Fe,"⋒","\\doublecap"),M(I,ne,Fe,"⋓","\\doublecup"),M(I,ne,Fe,"⊠","\\boxtimes",!0),M(I,ne,re,"⇢","\\dashrightarrow",!0),M(I,ne,re,"⇠","\\dashleftarrow",!0),M(I,ne,re,"⇇","\\leftleftarrows",!0),M(I,ne,re,"⇆","\\leftrightarrows",!0),M(I,ne,re,"⇚","\\Lleftarrow",!0),M(I,ne,re,"↞","\\twoheadleftarrow",!0),M(I,ne,re,"↢","\\leftarrowtail",!0),M(I,ne,re,"↫","\\looparrowleft",!0),M(I,ne,re,"⇋","\\leftrightharpoons",!0),M(I,ne,re,"↶","\\curvearrowleft",!0),M(I,ne,re,"↺","\\circlearrowleft",!0),M(I,ne,re,"↰","\\Lsh",!0),M(I,ne,re,"⇈","\\upuparrows",!0),M(I,ne,re,"↿","\\upharpoonleft",!0),M(I,ne,re,"⇃","\\downharpoonleft",!0),M(I,$,re,"⊶","\\origof",!0),M(I,$,re,"⊷","\\imageof",!0),M(I,ne,re,"⊸","\\multimap",!0),M(I,ne,re,"↭","\\leftrightsquigarrow",!0),M(I,ne,re,"⇉","\\rightrightarrows",!0),M(I,ne,re,"⇄","\\rightleftarrows",!0),M(I,ne,re,"↠","\\twoheadrightarrow",!0),M(I,ne,re,"↣","\\rightarrowtail",!0),M(I,ne,re,"↬","\\looparrowright",!0),M(I,ne,re,"↷","\\curvearrowright",!0),M(I,ne,re,"↻","\\circlearrowright",!0),M(I,ne,re,"↱","\\Rsh",!0),M(I,ne,re,"⇊","\\downdownarrows",!0),M(I,ne,re,"↾","\\upharpoonright",!0),M(I,ne,re,"⇂","\\downharpoonright",!0),M(I,ne,re,"⇝","\\rightsquigarrow",!0),M(I,ne,re,"⇝","\\leadsto"),M(I,ne,re,"⇛","\\Rrightarrow",!0),M(I,ne,re,"↾","\\restriction"),M(I,$,se,"‘","`"),M(I,$,se,"$","\\$"),M(Me,$,se,"$","\\$"),M(Me,$,se,"$","\\textdollar"),M(I,$,se,"%","\\%"),M(Me,$,se,"%","\\%"),M(I,$,se,"_","\\_"),M(Me,$,se,"_","\\_"),M(Me,$,se,"_","\\textunderscore"),M(I,$,se,"∠","\\angle",!0),M(I,$,se,"∞","\\infty",!0),M(I,$,se,"′","\\prime"),M(I,$,se,"△","\\triangle"),M(I,$,se,"Γ","\\Gamma",!0),M(I,$,se,"Δ","\\Delta",!0),M(I,$,se,"Θ","\\Theta",!0),M(I,$,se,"Λ","\\Lambda",!0),M(I,$,se,"Ξ","\\Xi",!0),M(I,$,se,"Π","\\Pi",!0),M(I,$,se,"Σ","\\Sigma",!0),M(I,$,se,"Υ","\\Upsilon",!0),M(I,$,se,"Φ","\\Phi",!0),M(I,$,se,"Ψ","\\Psi",!0),M(I,$,se,"Ω","\\Omega",!0),M(I,$,se,"A","Α"),M(I,$,se,"B","Β"),M(I,$,se,"E","Ε"),M(I,$,se,"Z","Ζ"),M(I,$,se,"H","Η"),M(I,$,se,"I","Ι"),M(I,$,se,"K","Κ"),M(I,$,se,"M","Μ"),M(I,$,se,"N","Ν"),M(I,$,se,"O","Ο"),M(I,$,se,"P","Ρ"),M(I,$,se,"T","Τ"),M(I,$,se,"X","Χ"),M(I,$,se,"¬","\\neg",!0),M(I,$,se,"¬","\\lnot"),M(I,$,se,"⊤","\\top"),M(I,$,se,"⊥","\\bot"),M(I,$,se,"∅","\\emptyset"),M(I,ne,se,"∅","\\varnothing"),M(I,$,We,"α","\\alpha",!0),M(I,$,We,"β","\\beta",!0),M(I,$,We,"γ","\\gamma",!0),M(I,$,We,"δ","\\delta",!0),M(I,$,We,"ϵ","\\epsilon",!0),M(I,$,We,"ζ","\\zeta",!0),M(I,$,We,"η","\\eta",!0),M(I,$,We,"θ","\\theta",!0),M(I,$,We,"ι","\\iota",!0),M(I,$,We,"κ","\\kappa",!0),M(I,$,We,"λ","\\lambda",!0),M(I,$,We,"μ","\\mu",!0),M(I,$,We,"ν","\\nu",!0),M(I,$,We,"ξ","\\xi",!0),M(I,$,We,"ο","\\omicron",!0),M(I,$,We,"π","\\pi",!0),M(I,$,We,"ρ","\\rho",!0),M(I,$,We,"σ","\\sigma",!0),M(I,$,We,"τ","\\tau",!0),M(I,$,We,"υ","\\upsilon",!0),M(I,$,We,"ϕ","\\phi",!0),M(I,$,We,"χ","\\chi",!0),M(I,$,We,"ψ","\\psi",!0),M(I,$,We,"ω","\\omega",!0),M(I,$,We,"ε","\\varepsilon",!0),M(I,$,We,"ϑ","\\vartheta",!0),M(I,$,We,"ϖ","\\varpi",!0),M(I,$,We,"ϱ","\\varrho",!0),M(I,$,We,"ς","\\varsigma",!0),M(I,$,We,"φ","\\varphi",!0),M(I,$,Fe,"∗","*",!0),M(I,$,Fe,"+","+"),M(I,$,Fe,"−","-",!0),M(I,$,Fe,"⋅","\\cdot",!0),M(I,$,Fe,"∘","\\circ",!0),M(I,$,Fe,"÷","\\div",!0),M(I,$,Fe,"±","\\pm",!0),M(I,$,Fe,"×","\\times",!0),M(I,$,Fe,"∩","\\cap",!0),M(I,$,Fe,"∪","\\cup",!0),M(I,$,Fe,"∖","\\setminus",!0),M(I,$,Fe,"∧","\\land"),M(I,$,Fe,"∨","\\lor"),M(I,$,Fe,"∧","\\wedge",!0),M(I,$,Fe,"∨","\\vee",!0),M(I,$,se,"√","\\surd"),M(I,$,gn,"⟨","\\langle",!0),M(I,$,gn,"∣","\\lvert"),M(I,$,gn,"∥","\\lVert"),M(I,$,jt,"?","?"),M(I,$,jt,"!","!"),M(I,$,jt,"⟩","\\rangle",!0),M(I,$,jt,"∣","\\rvert"),M(I,$,jt,"∥","\\rVert"),M(I,$,re,"=","="),M(I,$,re,":",":"),M(I,$,re,"≈","\\approx",!0),M(I,$,re,"≅","\\cong",!0),M(I,$,re,"≥","\\ge"),M(I,$,re,"≥","\\geq",!0),M(I,$,re,"←","\\gets"),M(I,$,re,">","\\gt",!0),M(I,$,re,"∈","\\in",!0),M(I,$,re,"","\\@not"),M(I,$,re,"⊂","\\subset",!0),M(I,$,re,"⊃","\\supset",!0),M(I,$,re,"⊆","\\subseteq",!0),M(I,$,re,"⊇","\\supseteq",!0),M(I,ne,re,"⊈","\\nsubseteq",!0),M(I,ne,re,"⊉","\\nsupseteq",!0),M(I,$,re,"⊨","\\models"),M(I,$,re,"←","\\leftarrow",!0),M(I,$,re,"≤","\\le"),M(I,$,re,"≤","\\leq",!0),M(I,$,re,"<","\\lt",!0),M(I,$,re,"→","\\rightarrow",!0),M(I,$,re,"→","\\to"),M(I,ne,re,"≱","\\ngeq",!0),M(I,ne,re,"≰","\\nleq",!0),M(I,$,Li," ","\\ "),M(I,$,Li," ","\\space"),M(I,$,Li," ","\\nobreakspace"),M(Me,$,Li," ","\\ "),M(Me,$,Li," "," "),M(Me,$,Li," ","\\space"),M(Me,$,Li," ","\\nobreakspace"),M(I,$,Li,null,"\\nobreak"),M(I,$,Li,null,"\\allowbreak"),M(I,$,ro,",",","),M(I,$,ro,";",";"),M(I,ne,Fe,"⊼","\\barwedge",!0),M(I,ne,Fe,"⊻","\\veebar",!0),M(I,$,Fe,"⊙","\\odot",!0),M(I,$,Fe,"⊕","\\oplus",!0),M(I,$,Fe,"⊗","\\otimes",!0),M(I,$,se,"∂","\\partial",!0),M(I,$,Fe,"⊘","\\oslash",!0),M(I,ne,Fe,"⊚","\\circledcirc",!0),M(I,ne,Fe,"⊡","\\boxdot",!0),M(I,$,Fe,"△","\\bigtriangleup"),M(I,$,Fe,"▽","\\bigtriangledown"),M(I,$,Fe,"†","\\dagger"),M(I,$,Fe,"⋄","\\diamond"),M(I,$,Fe,"⋆","\\star"),M(I,$,Fe,"◃","\\triangleleft"),M(I,$,Fe,"▹","\\triangleright"),M(I,$,gn,"{","\\{"),M(Me,$,se,"{","\\{"),M(Me,$,se,"{","\\textbraceleft"),M(I,$,jt,"}","\\}"),M(Me,$,se,"}","\\}"),M(Me,$,se,"}","\\textbraceright"),M(I,$,gn,"{","\\lbrace"),M(I,$,jt,"}","\\rbrace"),M(I,$,gn,"[","\\lbrack",!0),M(Me,$,se,"[","\\lbrack",!0),M(I,$,jt,"]","\\rbrack",!0),M(Me,$,se,"]","\\rbrack",!0),M(I,$,gn,"(","\\lparen",!0),M(I,$,jt,")","\\rparen",!0),M(Me,$,se,"<","\\textless",!0),M(Me,$,se,">","\\textgreater",!0),M(I,$,gn,"⌊","\\lfloor",!0),M(I,$,jt,"⌋","\\rfloor",!0),M(I,$,gn,"⌈","\\lceil",!0),M(I,$,jt,"⌉","\\rceil",!0),M(I,$,se,"\\","\\backslash"),M(I,$,se,"∣","|"),M(I,$,se,"∣","\\vert"),M(Me,$,se,"|","\\textbar",!0),M(I,$,se,"∥","\\|"),M(I,$,se,"∥","\\Vert"),M(Me,$,se,"∥","\\textbardbl"),M(Me,$,se,"~","\\textasciitilde"),M(Me,$,se,"\\","\\textbackslash"),M(Me,$,se,"^","\\textasciicircum"),M(I,$,re,"↑","\\uparrow",!0),M(I,$,re,"⇑","\\Uparrow",!0),M(I,$,re,"↓","\\downarrow",!0),M(I,$,re,"⇓","\\Downarrow",!0),M(I,$,re,"↕","\\updownarrow",!0),M(I,$,re,"⇕","\\Updownarrow",!0),M(I,$,un,"∐","\\coprod"),M(I,$,un,"⋁","\\bigvee"),M(I,$,un,"⋀","\\bigwedge"),M(I,$,un,"⨄","\\biguplus"),M(I,$,un,"⋂","\\bigcap"),M(I,$,un,"⋃","\\bigcup"),M(I,$,un,"∫","\\int"),M(I,$,un,"∫","\\intop"),M(I,$,un,"∬","\\iint"),M(I,$,un,"∭","\\iiint"),M(I,$,un,"∏","\\prod"),M(I,$,un,"∑","\\sum"),M(I,$,un,"⨂","\\bigotimes"),M(I,$,un,"⨁","\\bigoplus"),M(I,$,un,"⨀","\\bigodot"),M(I,$,un,"∮","\\oint"),M(I,$,un,"∯","\\oiint"),M(I,$,un,"∰","\\oiiint"),M(I,$,un,"⨆","\\bigsqcup"),M(I,$,un,"∫","\\smallint"),M(Me,$,wn,"…","\\textellipsis"),M(I,$,wn,"…","\\mathellipsis"),M(Me,$,wn,"…","\\ldots",!0),M(I,$,wn,"…","\\ldots",!0),M(I,$,wn,"⋯","\\@cdots",!0),M(I,$,wn,"⋱","\\ddots",!0),M(I,$,se,"⋮","\\varvdots"),M(I,$,Ut,"ˊ","\\acute"),M(I,$,Ut,"ˋ","\\grave"),M(I,$,Ut,"¨","\\ddot"),M(I,$,Ut,"~","\\tilde"),M(I,$,Ut,"ˉ","\\bar"),M(I,$,Ut,"˘","\\breve"),M(I,$,Ut,"ˇ","\\check"),M(I,$,Ut,"^","\\hat"),M(I,$,Ut,"⃗","\\vec"),M(I,$,Ut,"˙","\\dot"),M(I,$,Ut,"˚","\\mathring"),M(I,$,We,"","\\@imath"),M(I,$,We,"","\\@jmath"),M(I,$,se,"ı","ı"),M(I,$,se,"ȷ","ȷ"),M(Me,$,se,"ı","\\i",!0),M(Me,$,se,"ȷ","\\j",!0),M(Me,$,se,"ß","\\ss",!0),M(Me,$,se,"æ","\\ae",!0),M(Me,$,se,"œ","\\oe",!0),M(Me,$,se,"ø","\\o",!0),M(Me,$,se,"Æ","\\AE",!0),M(Me,$,se,"Œ","\\OE",!0),M(Me,$,se,"Ø","\\O",!0),M(Me,$,Ut,"ˊ","\\'"),M(Me,$,Ut,"ˋ","\\`"),M(Me,$,Ut,"ˆ","\\^"),M(Me,$,Ut,"˜","\\~"),M(Me,$,Ut,"ˉ","\\="),M(Me,$,Ut,"˘","\\u"),M(Me,$,Ut,"˙","\\."),M(Me,$,Ut,"¸","\\c"),M(Me,$,Ut,"˚","\\r"),M(Me,$,Ut,"ˇ","\\v"),M(Me,$,Ut,"¨",'\\"'),M(Me,$,Ut,"˝","\\H"),M(Me,$,Ut,"◯","\\textcircled");const w0={"--":!0,"---":!0,"``":!0,"''":!0};M(Me,$,se,"–","--",!0),M(Me,$,se,"–","\\textendash"),M(Me,$,se,"—","---",!0),M(Me,$,se,"—","\\textemdash"),M(Me,$,se,"‘","`",!0),M(Me,$,se,"‘","\\textquoteleft"),M(Me,$,se,"’","'",!0),M(Me,$,se,"’","\\textquoteright"),M(Me,$,se,"“","``",!0),M(Me,$,se,"“","\\textquotedblleft"),M(Me,$,se,"”","''",!0),M(Me,$,se,"”","\\textquotedblright"),M(I,$,se,"°","\\degree",!0),M(Me,$,se,"°","\\degree"),M(Me,$,se,"°","\\textdegree",!0),M(I,$,se,"£","\\pounds"),M(I,$,se,"£","\\mathsterling",!0),M(Me,$,se,"£","\\pounds"),M(Me,$,se,"£","\\textsterling",!0),M(I,ne,se,"✠","\\maltese"),M(Me,ne,se,"✠","\\maltese");const k0='0123456789/@."';for(let m=0;m<k0.length;m++){const g=k0.charAt(m);M(I,$,se,g,g)}const S0='0123456789!@*()-=+";:?/.,';for(let m=0;m<S0.length;m++){const g=S0.charAt(m);M(Me,$,se,g,g)}const ul="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";for(let m=0;m<ul.length;m++){const g=ul.charAt(m);M(I,$,We,g,g),M(Me,$,se,g,g)}M(I,ne,se,"C","ℂ"),M(Me,ne,se,"C","ℂ"),M(I,ne,se,"H","ℍ"),M(Me,ne,se,"H","ℍ"),M(I,ne,se,"N","ℕ"),M(Me,ne,se,"N","ℕ"),M(I,ne,se,"P","ℙ"),M(Me,ne,se,"P","ℙ"),M(I,ne,se,"Q","ℚ"),M(Me,ne,se,"Q","ℚ"),M(I,ne,se,"R","ℝ"),M(Me,ne,se,"R","ℝ"),M(I,ne,se,"Z","ℤ"),M(Me,ne,se,"Z","ℤ"),M(I,$,We,"h","ℎ"),M(Me,$,We,"h","ℎ");let st="";for(let m=0;m<ul.length;m++){const g=ul.charAt(m);st=String.fromCharCode(55349,56320+m),M(I,$,We,g,st),M(Me,$,se,g,st),st=String.fromCharCode(55349,56372+m),M(I,$,We,g,st),M(Me,$,se,g,st),st=String.fromCharCode(55349,56424+m),M(I,$,We,g,st),M(Me,$,se,g,st),st=String.fromCharCode(55349,56580+m),M(I,$,We,g,st),M(Me,$,se,g,st),st=String.fromCharCode(55349,56684+m),M(I,$,We,g,st),M(Me,$,se,g,st),st=String.fromCharCode(55349,56736+m),M(I,$,We,g,st),M(Me,$,se,g,st),st=String.fromCharCode(55349,56788+m),M(I,$,We,g,st),M(Me,$,se,g,st),st=String.fromCharCode(55349,56840+m),M(I,$,We,g,st),M(Me,$,se,g,st),st=String.fromCharCode(55349,56944+m),M(I,$,We,g,st),M(Me,$,se,g,st),m<26&&(st=String.fromCharCode(55349,56632+m),M(I,$,We,g,st),M(Me,$,se,g,st),st=String.fromCharCode(55349,56476+m),M(I,$,We,g,st),M(Me,$,se,g,st))}st=String.fromCharCode(55349,56668),M(I,$,We,"k",st),M(Me,$,se,"k",st);for(let m=0;m<10;m++){const g=m.toString();st=String.fromCharCode(55349,57294+m),M(I,$,We,g,st),M(Me,$,se,g,st),st=String.fromCharCode(55349,57314+m),M(I,$,We,g,st),M(Me,$,se,g,st),st=String.fromCharCode(55349,57324+m),M(I,$,We,g,st),M(Me,$,se,g,st),st=String.fromCharCode(55349,57334+m),M(I,$,We,g,st),M(Me,$,se,g,st)}const io="ÐÞþ";for(let m=0;m<io.length;m++){const g=io.charAt(m);M(I,$,We,g,g),M(Me,$,se,g,g)}const ba=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],Yu=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],_0=function(m,g){const b=m.charCodeAt(0),S=m.charCodeAt(1),P=(b-55296)*1024+(S-56320)+65536,L=g==="math"?0:1;if(119808<=P&&P<120484){const F=Math.floor((P-119808)/26);return[ba[F][2],ba[F][L]]}else if(120782<=P&&P<=120831){const F=Math.floor((P-120782)/10);return[Yu[F][2],Yu[F][L]]}else{if(P===120485||P===120486)return[ba[0][2],ba[0][L]];if(120486<P&&P<120782)return["",""];throw new a("Unsupported character: "+m)}},cl=function(m,g,b){return mt[b][m]&&mt[b][m].replace&&(m=mt[b][m].replace),{value:m,metrics:rt(m,g,b)}},kn=function(m,g,b,S,P){const L=cl(m,g,b),F=L.metrics;m=L.value;let H;if(F){let Q=F.italic;(b==="text"||S&&S.font==="mathit")&&(Q=0),H=new it(m,F.height,F.depth,Q,F.skew,F.width,P)}else typeof console<"u"&&console.warn("No character metrics "+("for '"+m+"' in style '"+g+"' and mode '"+b+"'")),H=new it(m,0,0,0,0,0,P);if(S){H.maxFontSize=S.sizeMultiplier,S.style.isTight()&&H.classes.push("mtight");const Q=S.getColor();Q&&(H.style.color=Q)}return H},Xu=function(m,g,b,S){return S===void 0&&(S=[]),b.font==="boldsymbol"&&cl(m,"Main-Bold",g).metrics?kn(m,"Main-Bold",g,b,S.concat(["mathbf"])):m==="\\"||mt[g][m].font==="main"?kn(m,"Main-Regular",g,b,S):kn(m,"AMS-Regular",g,b,S.concat(["amsrm"]))},C0=function(m,g,b,S,P){return P!=="textord"&&cl(m,"Math-BoldItalic",g).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}},ao=function(m,g,b){const S=m.mode,P=m.text,L=["mord"],F=S==="math"||S==="text"&&g.font,H=F?g.font:g.fontFamily;let Q="",ae="";if(P.charCodeAt(0)===55349&&([Q,ae]=_0(P,S)),Q.length>0)return kn(P,Q,S,g,L.concat(ae));if(H){let ue,pe;if(H==="boldsymbol"){const we=C0(P,S,g,L,b);ue=we.fontName,pe=[we.fontClass]}else F?(ue=Vb[H].fontName,pe=[H]):(ue=T0(H,g.fontWeight,g.fontShape),pe=[H,g.fontWeight,g.fontShape]);if(cl(P,ue,S).metrics)return kn(P,ue,S,g,L.concat(pe));if(w0.hasOwnProperty(P)&&ue.slice(0,10)==="Typewriter"){const we=[];for(let De=0;De<P.length;De++)we.push(kn(P[De],ue,S,g,L.concat(pe)));return Hb(we)}}if(b==="mathord")return kn(P,"Math-Italic",S,g,L.concat(["mathnormal"]));if(b==="textord"){const ue=mt[S][P]&&mt[S][P].font;if(ue==="ams"){const pe=T0("amsrm",g.fontWeight,g.fontShape);return kn(P,pe,S,g,L.concat("amsrm",g.fontWeight,g.fontShape))}else if(ue==="main"||!ue){const pe=T0("textrm",g.fontWeight,g.fontShape);return kn(P,pe,S,g,L.concat(g.fontWeight,g.fontShape))}else{const pe=T0(ue,g.fontWeight,g.fontShape);return kn(P,pe,S,g,L.concat(pe,g.fontWeight,g.fontShape))}}else throw new Error("unexpected type: "+b+" in makeOrd")},Zr=(m,g)=>{if(xe(m.classes)!==xe(g.classes)||m.skew!==g.skew||m.maxFontSize!==g.maxFontSize)return!1;if(m.classes.length===1){const b=m.classes[0];if(b==="mbin"||b==="mord")return!1}for(const b in m.style)if(m.style.hasOwnProperty(b)&&m.style[b]!==g.style[b])return!1;for(const b in g.style)if(g.style.hasOwnProperty(b)&&m.style[b]!==g.style[b])return!1;return!0},Xg=m=>{for(let g=0;g<m.length-1;g++){const b=m[g],S=m[g+1];b instanceof it&&S instanceof it&&Zr(b,S)&&(b.text+=S.text,b.height=Math.max(b.height,S.height),b.depth=Math.max(b.depth,S.depth),b.italic=S.italic,m.splice(g+1,1),g--)}return m},Kg=function(m){let g=0,b=0,S=0;for(let P=0;P<m.children.length;P++){const L=m.children[P];L.height>g&&(g=L.height),L.depth>b&&(b=L.depth),L.maxFontSize>S&&(S=L.maxFontSize)}m.height=g,m.depth=b,m.maxFontSize=S},Br=function(m,g,b,S){const P=new Ke(m,g,b,S);return Kg(P),P},qb=(m,g,b,S)=>new Ke(m,g,b,S),rD=function(m,g,b){const S=Br([m],[],g);return S.height=Math.max(b||g.fontMetrics().defaultRuleThickness,g.minRuleThickness),S.style.borderBottomWidth=ie(S.height),S.maxFontSize=1,S},iD=function(m,g,b,S){const P=new ht(m,g,b,S);return Kg(P),P},Hb=function(m){const g=new He(m);return Kg(g),g},aD=function(m,g){return m instanceof He?Br([],[m],g):m},sD=function(m){if(m.positionType==="individualShift"){const b=m.children,S=[b[0]],P=-b[0].shift-b[0].elem.depth;let L=P;for(let F=1;F<b.length;F++){const H=-b[F].shift-L-b[F].elem.depth,Q=H-(b[F-1].elem.height+b[F-1].elem.depth);L=L+H,S.push({type:"kern",size:Q}),S.push(b[F])}return{children:S,depth:P}}let g;if(m.positionType==="top"){let b=m.positionData;for(let S=0;S<m.children.length;S++){const P=m.children[S];b-=P.type==="kern"?P.size:P.elem.height+P.elem.depth}g=b}else if(m.positionType==="bottom")g=-m.positionData;else{const b=m.children[0];if(b.type!=="elem")throw new Error('First child must have type "elem".');if(m.positionType==="shift")g=-b.elem.depth-m.positionData;else if(m.positionType==="firstBaseline")g=-b.elem.depth;else throw new Error("Invalid positionType "+m.positionType+".")}return{children:m.children,depth:g}},oD=function(m,g){const{children:b,depth:S}=sD(m);let P=0;for(let De=0;De<b.length;De++){const Ve=b[De];if(Ve.type==="elem"){const Ze=Ve.elem;P=Math.max(P,Ze.maxFontSize,Ze.height)}}P+=2;const L=Br(["pstrut"],[]);L.style.height=ie(P);const F=[];let H=S,Q=S,ae=S;for(let De=0;De<b.length;De++){const Ve=b[De];if(Ve.type==="kern")ae+=Ve.size;else{const Ze=Ve.elem,Ct=Ve.wrapperClasses||[],St=Ve.wrapperStyle||{},Et=Br(Ct,[L,Ze],void 0,St);Et.style.top=ie(-P-ae-Ze.depth),Ve.marginLeft&&(Et.style.marginLeft=Ve.marginLeft),Ve.marginRight&&(Et.style.marginRight=Ve.marginRight),F.push(Et),ae+=Ze.height+Ze.depth}H=Math.min(H,ae),Q=Math.max(Q,ae)}const ue=Br(["vlist"],F);ue.style.height=ie(Q);let pe;if(H<0){const De=Br([],[]),Ve=Br(["vlist"],[De]);Ve.style.height=ie(-H);const Ze=Br(["vlist-s"],[new it("​")]);pe=[Br(["vlist-r"],[ue,Ze]),Br(["vlist-r"],[Ve])]}else pe=[Br(["vlist-r"],[ue])];const we=Br(["vlist-t"],pe);return pe.length===2&&we.classes.push("vlist-t2"),we.height=Q,we.depth=-H,we},lD=(m,g)=>{const b=Br(["mspace"],[],g),S=le(m,g);return b.style.marginRight=ie(S),b},T0=function(m,g,b){let S="";switch(m){case"amsrm":S="AMS";break;case"textrm":S="Main";break;case"textsf":S="SansSerif";break;case"texttt":S="Typewriter";break;default:S=m}let P;return g==="textbf"&&b==="textit"?P="BoldItalic":g==="textbf"?P="Bold":g==="textit"?P="Italic":P="Regular",S+"-"+P},Vb={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},Ub={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]};var ve={fontMap:Vb,makeSymbol:kn,mathsym:Xu,makeSpan:Br,makeSvgSpan:qb,makeLineSpan:rD,makeAnchor:iD,makeFragment:Hb,wrapFragment:aD,makeVList:oD,makeOrd:ao,makeGlue:lD,staticSvg:function(m,g){const[b,S,P]=Ub[m],L=new at(b),F=new et([L],{width:ie(S),height:ie(P),style:"width:"+ie(S),viewBox:"0 0 "+1e3*S+" "+1e3*P,preserveAspectRatio:"xMinYMin"}),H=qb(["overlay"],[F],g);return H.height=P,H.style.height=ie(P),H.style.width=ie(S),H},svgData:Ub,tryCombineChars:Xg};const Sn={number:3,unit:"mu"},so={number:4,unit:"mu"},wa={number:5,unit:"mu"},uD={mord:{mop:Sn,mbin:so,mrel:wa,minner:Sn},mop:{mord:Sn,mop:Sn,mrel:wa,minner:Sn},mbin:{mord:so,mop:so,mopen:so,minner:so},mrel:{mord:wa,mop:wa,mopen:wa,minner:wa},mopen:{},mclose:{mop:Sn,mbin:so,mrel:wa,minner:Sn},mpunct:{mord:Sn,mop:Sn,mrel:wa,mopen:Sn,mclose:Sn,mpunct:Sn,minner:Sn},minner:{mord:Sn,mop:Sn,mbin:so,mrel:wa,mopen:Sn,mpunct:Sn,minner:Sn}},cD={mord:{mop:Sn},mop:{mord:Sn,mop:Sn},mbin:{},mrel:{},mopen:{},mclose:{mop:Sn},mpunct:{},minner:{mop:Sn}},Wb={},E0={},P0={};function qe(m){let{type:g,names:b,props:S,handler:P,htmlBuilder:L,mathmlBuilder:F}=m;const H={type:g,numArgs:S.numArgs,argTypes:S.argTypes,allowedInArgument:!!S.allowedInArgument,allowedInText:!!S.allowedInText,allowedInMath:S.allowedInMath===void 0?!0:S.allowedInMath,numOptionalArgs:S.numOptionalArgs||0,infix:!!S.infix,primitive:!!S.primitive,handler:P};for(let Q=0;Q<b.length;++Q)Wb[b[Q]]=H;g&&(L&&(E0[g]=L),F&&(P0[g]=F))}function oo(m){let{type:g,htmlBuilder:b,mathmlBuilder:S}=m;qe({type:g,names:[],props:{numArgs:0},handler(){throw new Error("Should never be called.")},htmlBuilder:b,mathmlBuilder:S})}const M0=function(m){return m.type==="ordgroup"&&m.body.length===1?m.body[0]:m},Fn=function(m){return m.type==="ordgroup"?m.body:[m]},ka=ve.makeSpan,fD=["leftmost","mbin","mopen","mrel","mop","mpunct"],hD=["rightmost","mrel","mclose","mpunct"],dD={display:K.DISPLAY,text:K.TEXT,script:K.SCRIPT,scriptscript:K.SCRIPTSCRIPT},pD={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},Qn=function(m,g,b,S){S===void 0&&(S=[null,null]);const P=[];for(let ae=0;ae<m.length;ae++){const ue=Pt(m[ae],g);if(ue instanceof He){const pe=ue.children;P.push(...pe)}else P.push(ue)}if(ve.tryCombineChars(P),!b)return P;let L=g;if(m.length===1){const ae=m[0];ae.type==="sizing"?L=g.havingSize(ae.size):ae.type==="styling"&&(L=g.havingStyle(dD[ae.style]))}const F=ka([S[0]||"leftmost"],[],g),H=ka([S[1]||"rightmost"],[],g),Q=b==="root";return Qg(P,(ae,ue)=>{const pe=ue.classes[0],we=ae.classes[0];pe==="mbin"&&y.contains(hD,we)?ue.classes[0]="mord":we==="mbin"&&y.contains(fD,pe)&&(ae.classes[0]="mord")},{node:F},H,Q),Qg(P,(ae,ue)=>{const pe=Jg(ue),we=Jg(ae),De=pe&&we?ae.hasClass("mtight")?cD[pe][we]:uD[pe][we]:null;if(De)return ve.makeGlue(De,L)},{node:F},H,Q),P},Qg=function(m,g,b,S,P){S&&m.push(S);let L=0;for(;L<m.length;L++){const F=m[L],H=Gb(F);if(H){Qg(H.children,g,b,null,P);continue}const Q=!F.hasClass("mspace");if(Q){const ae=g(F,b.node);ae&&(b.insertAfter?b.insertAfter(ae):(m.unshift(ae),L++))}Q?b.node=F:P&&F.hasClass("newline")&&(b.node=ka(["leftmost"])),b.insertAfter=(ae=>ue=>{m.splice(ae+1,0,ue),L++})(L)}S&&m.pop()},Gb=function(m){return m instanceof He||m instanceof ht||m instanceof Ke&&m.hasClass("enclosing")?m:null},Zg=function(m,g){const b=Gb(m);if(b){const S=b.children;if(S.length){if(g==="right")return Zg(S[S.length-1],"right");if(g==="left")return Zg(S[0],"left")}}return m},Jg=function(m,g){return m?(g&&(m=Zg(m,g)),pD[m.classes[0]]||null):null},Ku=function(m,g){const b=["nulldelimiter"].concat(m.baseSizingClasses());return ka(g.concat(b))},Pt=function(m,g,b){if(!m)return ka();if(E0[m.type]){let S=E0[m.type](m,g);if(b&&g.size!==b.size){S=ka(g.sizingClasses(b),[S],g);const P=g.sizeMultiplier/b.sizeMultiplier;S.height*=P,S.depth*=P}return S}else throw new a("Got group of unknown type: '"+m.type+"'")};function A0(m,g){const b=ka(["base"],m,g),S=ka(["strut"]);return S.style.height=ie(b.height+b.depth),b.depth&&(S.style.verticalAlign=ie(-b.depth)),b.children.unshift(S),b}function em(m,g){let b=null;m.length===1&&m[0].type==="tag"&&(b=m[0].tag,m=m[0].body);const S=Qn(m,g,"root");let P;S.length===2&&S[1].hasClass("tag")&&(P=S.pop());const L=[];let F=[];for(let ae=0;ae<S.length;ae++)if(F.push(S[ae]),S[ae].hasClass("mbin")||S[ae].hasClass("mrel")||S[ae].hasClass("allowbreak")){let ue=!1;for(;ae<S.length-1&&S[ae+1].hasClass("mspace")&&!S[ae+1].hasClass("newline");)ae++,F.push(S[ae]),S[ae].hasClass("nobreak")&&(ue=!0);ue||(L.push(A0(F,g)),F=[])}else S[ae].hasClass("newline")&&(F.pop(),F.length>0&&(L.push(A0(F,g)),F=[]),L.push(S[ae]));F.length>0&&L.push(A0(F,g));let H;b?(H=A0(Qn(b,g,!0)),H.classes=["tag"],L.push(H)):P&&L.push(P);const Q=ka(["katex-html"],L);if(Q.setAttribute("aria-hidden","true"),H){const ae=H.children[0];ae.style.height=ie(Q.height+Q.depth),Q.depth&&(ae.style.verticalAlign=ie(-Q.depth))}return Q}function Yb(m){return new He(m)}class di{constructor(g,b,S){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=g,this.attributes={},this.children=b||[],this.classes=S||[]}setAttribute(g,b){this.attributes[g]=b}getAttribute(g){return this.attributes[g]}toNode(){const g=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(const b in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,b)&&g.setAttribute(b,this.attributes[b]);this.classes.length>0&&(g.className=xe(this.classes));for(let b=0;b<this.children.length;b++)g.appendChild(this.children[b].toNode());return g}toMarkup(){let g="<"+this.type;for(const b in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,b)&&(g+=" "+b+'="',g+=y.escape(this.attributes[b]),g+='"');this.classes.length>0&&(g+=' class ="'+y.escape(xe(this.classes))+'"'),g+=">";for(let b=0;b<this.children.length;b++)g+=this.children[b].toMarkup();return g+="</"+this.type+">",g}toText(){return this.children.map(g=>g.toText()).join("")}}class Qu{constructor(g){this.text=void 0,this.text=g}toNode(){return document.createTextNode(this.text)}toMarkup(){return y.escape(this.toText())}toText(){return this.text}}class gD{constructor(g){this.width=void 0,this.character=void 0,this.width=g,g>=.05555&&g<=.05556?this.character=" ":g>=.1666&&g<=.1667?this.character=" ":g>=.2222&&g<=.2223?this.character=" ":g>=.2777&&g<=.2778?this.character="  ":g>=-.05556&&g<=-.05555?this.character=" ⁣":g>=-.1667&&g<=-.1666?this.character=" ⁣":g>=-.2223&&g<=-.2222?this.character=" ⁣":g>=-.2778&&g<=-.2777?this.character=" ⁣":this.character=null}toNode(){if(this.character)return document.createTextNode(this.character);{const g=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return g.setAttribute("width",ie(this.width)),g}}toMarkup(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+ie(this.width)+'"/>'}toText(){return this.character?this.character:" "}}var Ie={MathNode:di,TextNode:Qu,SpaceNode:gD,newDocumentFragment:Yb};const pi=function(m,g,b){return mt[g][m]&&mt[g][m].replace&&m.charCodeAt(0)!==55349&&!(w0.hasOwnProperty(m)&&b&&(b.fontFamily&&b.fontFamily.slice(4,6)==="tt"||b.font&&b.font.slice(4,6)==="tt"))&&(m=mt[g][m].replace),new Ie.TextNode(m)},tm=function(m){return m.length===1?m[0]:new Ie.MathNode("mrow",m)},nm=function(m,g){if(g.fontFamily==="texttt")return"monospace";if(g.fontFamily==="textsf")return g.fontShape==="textit"&&g.fontWeight==="textbf"?"sans-serif-bold-italic":g.fontShape==="textit"?"sans-serif-italic":g.fontWeight==="textbf"?"bold-sans-serif":"sans-serif";if(g.fontShape==="textit"&&g.fontWeight==="textbf")return"bold-italic";if(g.fontShape==="textit")return"italic";if(g.fontWeight==="textbf")return"bold";const b=g.font;if(!b||b==="mathnormal")return null;const S=m.mode;if(b==="mathit")return"italic";if(b==="boldsymbol")return m.type==="textord"?"bold":"bold-italic";if(b==="mathbf")return"bold";if(b==="mathbb")return"double-struck";if(b==="mathfrak")return"fraktur";if(b==="mathscr"||b==="mathcal")return"script";if(b==="mathsf")return"sans-serif";if(b==="mathtt")return"monospace";let P=m.text;if(y.contains(["\\imath","\\jmath"],P))return null;mt[S][P]&&mt[S][P].replace&&(P=mt[S][P].replace);const L=ve.fontMap[b].fontName;return rt(P,L,S)?ve.fontMap[b].variant:null},Fr=function(m,g,b){if(m.length===1){const L=Zt(m[0],g);return b&&L instanceof di&&L.type==="mo"&&(L.setAttribute("lspace","0em"),L.setAttribute("rspace","0em")),[L]}const S=[];let P;for(let L=0;L<m.length;L++){const F=Zt(m[L],g);if(F instanceof di&&P instanceof di){if(F.type==="mtext"&&P.type==="mtext"&&F.getAttribute("mathvariant")===P.getAttribute("mathvariant")){P.children.push(...F.children);continue}else if(F.type==="mn"&&P.type==="mn"){P.children.push(...F.children);continue}else if(F.type==="mi"&&F.children.length===1&&P.type==="mn"){const H=F.children[0];if(H instanceof Qu&&H.text==="."){P.children.push(...F.children);continue}}else if(P.type==="mi"&&P.children.length===1){const H=P.children[0];if(H instanceof Qu&&H.text==="̸"&&(F.type==="mo"||F.type==="mi"||F.type==="mn")){const Q=F.children[0];Q instanceof Qu&&Q.text.length>0&&(Q.text=Q.text.slice(0,1)+"̸"+Q.text.slice(1),S.pop())}}}S.push(F),P=F}return S},rs=function(m,g,b){return tm(Fr(m,g,b))},Zt=function(m,g){if(!m)return new Ie.MathNode("mrow");if(P0[m.type])return P0[m.type](m,g);throw new a("Got group of unknown type: '"+m.type+"'")};function Xb(m,g,b,S,P){const L=Fr(m,b);let F;L.length===1&&L[0]instanceof di&&y.contains(["mrow","mtable"],L[0].type)?F=L[0]:F=new Ie.MathNode("mrow",L);const H=new Ie.MathNode("annotation",[new Ie.TextNode(g)]);H.setAttribute("encoding","application/x-tex");const Q=new Ie.MathNode("semantics",[F,H]),ae=new Ie.MathNode("math",[Q]);ae.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),S&&ae.setAttribute("display","block");const ue=P?"katex":"katex-mathml";return ve.makeSpan([ue],[ae])}const Kb=function(m){return new Xe({style:m.displayMode?K.DISPLAY:K.TEXT,maxSize:m.maxSize,minRuleThickness:m.minRuleThickness})},Qb=function(m,g){if(g.displayMode){const b=["katex-display"];g.leqno&&b.push("leqno"),g.fleqn&&b.push("fleqn"),m=ve.makeSpan(b,[m])}return m},mD=function(m,g,b){const S=Kb(b);let P;if(b.output==="mathml")return Xb(m,g,S,b.displayMode,!0);if(b.output==="html"){const L=em(m,S);P=ve.makeSpan(["katex"],[L])}else{const L=Xb(m,g,S,b.displayMode,!1),F=em(m,S);P=ve.makeSpan(["katex"],[L,F])}return Qb(P,b)},vD=function(m,g,b){const S=Kb(b),P=em(m,S),L=ve.makeSpan(["katex"],[P]);return Qb(L,b)},yD={widehat:"^",widecheck:"ˇ",widetilde:"~",utilde:"~",overleftarrow:"←",underleftarrow:"←",xleftarrow:"←",overrightarrow:"→",underrightarrow:"→",xrightarrow:"→",underbrace:"⏟",overbrace:"⏞",overgroup:"⏠",undergroup:"⏡",overleftrightarrow:"↔",underleftrightarrow:"↔",xleftrightarrow:"↔",Overrightarrow:"⇒",xRightarrow:"⇒",overleftharpoon:"↼",xleftharpoonup:"↼",overrightharpoon:"⇀",xrightharpoonup:"⇀",xLeftarrow:"⇐",xLeftrightarrow:"⇔",xhookleftarrow:"↩",xhookrightarrow:"↪",xmapsto:"↦",xrightharpoondown:"⇁",xleftharpoondown:"↽",xrightleftharpoons:"⇌",xleftrightharpoons:"⇋",xtwoheadleftarrow:"↞",xtwoheadrightarrow:"↠",xlongequal:"=",xtofrom:"⇄",xrightleftarrows:"⇄",xrightequilibrium:"⇌",xleftequilibrium:"⇋","\\cdrightarrow":"→","\\cdleftarrow":"←","\\cdlongequal":"="},xD=function(m){const g=new Ie.MathNode("mo",[new Ie.TextNode(yD[m.replace(/^\\/,"")])]);return g.setAttribute("stretchy","true"),g},bD={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},wD=function(m){return m.type==="ordgroup"?m.body.length:1};var Sa={encloseSpan:function(m,g,b,S,P){let L;const F=m.height+m.depth+b+S;if(/fbox|color|angl/.test(g)){if(L=ve.makeSpan(["stretchy",g],[],P),g==="fbox"){const H=P.color&&P.getColor();H&&(L.style.borderColor=H)}}else{const H=[];/^[bx]cancel$/.test(g)&&H.push(new Rt({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(g)&&H.push(new Rt({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));const Q=new et(H,{width:"100%",height:ie(F)});L=ve.makeSvgSpan([],[Q],P)}return L.height=F,L.style.height=ie(F),L},mathMLnode:xD,svgSpan:function(m,g){function b(){let F=4e5;const H=m.label.slice(1);if(y.contains(["widehat","widecheck","widetilde","utilde"],H)){const ae=wD(m.base);let ue,pe,we;if(ae>5)H==="widehat"||H==="widecheck"?(ue=420,F=2364,we=.42,pe=H+"4"):(ue=312,F=2340,we=.34,pe="tilde4");else{const Ze=[1,1,2,2,3,3][ae];H==="widehat"||H==="widecheck"?(F=[0,1062,2364,2364,2364][Ze],ue=[0,239,300,360,420][Ze],we=[0,.24,.3,.3,.36,.42][Ze],pe=H+Ze):(F=[0,600,1033,2339,2340][Ze],ue=[0,260,286,306,312][Ze],we=[0,.26,.286,.3,.306,.34][Ze],pe="tilde"+Ze)}const De=new at(pe),Ve=new et([De],{width:"100%",height:ie(we),viewBox:"0 0 "+F+" "+ue,preserveAspectRatio:"none"});return{span:ve.makeSvgSpan([],[Ve],g),minWidth:0,height:we}}else{const Q=[],ae=bD[H],[ue,pe,we]=ae,De=we/1e3,Ve=ue.length;let Ze,Ct;if(Ve===1){const St=ae[3];Ze=["hide-tail"],Ct=[St]}else if(Ve===2)Ze=["halfarrow-left","halfarrow-right"],Ct=["xMinYMin","xMaxYMin"];else if(Ve===3)Ze=["brace-left","brace-center","brace-right"],Ct=["xMinYMin","xMidYMin","xMaxYMin"];else throw new Error(`Correct katexImagesData or update code here to support
                    `+Ve+" children.");for(let St=0;St<Ve;St++){const Et=new at(ue[St]),Ft=new et([Et],{width:"400em",height:ie(De),viewBox:"0 0 "+F+" "+we,preserveAspectRatio:Ct[St]+" slice"}),nn=ve.makeSvgSpan([Ze[St]],[Ft],g);if(Ve===1)return{span:nn,minWidth:pe,height:De};nn.style.height=ie(De),Q.push(nn)}return{span:ve.makeSpan(["stretchy"],Q,g),minWidth:pe,height:De}}}const{span:S,minWidth:P,height:L}=b();return S.height=L,S.style.height=ie(L),P>0&&(S.style.minWidth=ie(P)),S}};function yt(m,g){if(!m||m.type!==g)throw new Error("Expected node of type "+g+", but got "+(m?"node of type "+m.type:String(m)));return m}function rm(m){const g=D0(m);if(!g)throw new Error("Expected node of symbol group type, but got "+(m?"node of type "+m.type:String(m)));return g}function D0(m){return m&&(m.type==="atom"||bn.hasOwnProperty(m.type))?m:null}const im=(m,g)=>{let b,S,P;m&&m.type==="supsub"?(S=yt(m.base,"accent"),b=S.base,m.base=b,P=Kn(Pt(m,g)),m.base=S):(S=yt(m,"accent"),b=S.base);const L=Pt(b,g.havingCrampedStyle()),F=S.isShifty&&y.isCharacterBox(b);let H=0;if(F){const we=y.getBaseElem(b),De=Pt(we,g.havingCrampedStyle());H=xn(De).skew}const Q=S.label==="\\c";let ae=Q?L.height+L.depth:Math.min(L.height,g.fontMetrics().xHeight),ue;if(S.isStretchy)ue=Sa.svgSpan(S,g),ue=ve.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:L},{type:"elem",elem:ue,wrapperClasses:["svg-align"],wrapperStyle:H>0?{width:"calc(100% - "+ie(2*H)+")",marginLeft:ie(2*H)}:void 0}]},g);else{let we,De;S.label==="\\vec"?(we=ve.staticSvg("vec",g),De=ve.svgData.vec[1]):(we=ve.makeOrd({mode:S.mode,text:S.label},g,"textord"),we=xn(we),we.italic=0,De=we.width,Q&&(ae+=we.depth)),ue=ve.makeSpan(["accent-body"],[we]);const Ve=S.label==="\\textcircled";Ve&&(ue.classes.push("accent-full"),ae=L.height);let Ze=H;Ve||(Ze-=De/2),ue.style.left=ie(Ze),S.label==="\\textcircled"&&(ue.style.top=".2em"),ue=ve.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:L},{type:"kern",size:-ae},{type:"elem",elem:ue}]},g)}const pe=ve.makeSpan(["mord","accent"],[ue],g);return P?(P.children[0]=pe,P.height=Math.max(pe.height,P.height),P.classes[0]="mord",P):pe},Zb=(m,g)=>{const b=m.isStretchy?Sa.mathMLnode(m.label):new Ie.MathNode("mo",[pi(m.label,m.mode)]),S=new Ie.MathNode("mover",[Zt(m.base,g),b]);return S.setAttribute("accent","true"),S},kD=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(m=>"\\"+m).join("|"));qe({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:(m,g)=>{const b=M0(g[0]),S=!kD.test(m.funcName),P=!S||m.funcName==="\\widehat"||m.funcName==="\\widetilde"||m.funcName==="\\widecheck";return{type:"accent",mode:m.parser.mode,label:m.funcName,isStretchy:S,isShifty:P,base:b}},htmlBuilder:im,mathmlBuilder:Zb}),qe({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:(m,g)=>{const b=g[0];let S=m.parser.mode;return S==="math"&&(m.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+m.funcName+" works only in text mode"),S="text"),{type:"accent",mode:S,label:m.funcName,isStretchy:!1,isShifty:!0,base:b}},htmlBuilder:im,mathmlBuilder:Zb}),qe({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:(m,g)=>{let{parser:b,funcName:S}=m;const P=g[0];return{type:"accentUnder",mode:b.mode,label:S,base:P}},htmlBuilder:(m,g)=>{const b=Pt(m.base,g),S=Sa.svgSpan(m,g),P=m.label==="\\utilde"?.12:0,L=ve.makeVList({positionType:"top",positionData:b.height,children:[{type:"elem",elem:S,wrapperClasses:["svg-align"]},{type:"kern",size:P},{type:"elem",elem:b}]},g);return ve.makeSpan(["mord","accentunder"],[L],g)},mathmlBuilder:(m,g)=>{const b=Sa.mathMLnode(m.label),S=new Ie.MathNode("munder",[Zt(m.base,g),b]);return S.setAttribute("accentunder","true"),S}});const I0=m=>{const g=new Ie.MathNode("mpadded",m?[m]:[]);return g.setAttribute("width","+0.6em"),g.setAttribute("lspace","0.3em"),g};qe({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler(m,g,b){let{parser:S,funcName:P}=m;return{type:"xArrow",mode:S.mode,label:P,body:g[0],below:b[0]}},htmlBuilder(m,g){const b=g.style;let S=g.havingStyle(b.sup());const P=ve.wrapFragment(Pt(m.body,S,g),g),L=m.label.slice(0,2)==="\\x"?"x":"cd";P.classes.push(L+"-arrow-pad");let F;m.below&&(S=g.havingStyle(b.sub()),F=ve.wrapFragment(Pt(m.below,S,g),g),F.classes.push(L+"-arrow-pad"));const H=Sa.svgSpan(m,g),Q=-g.fontMetrics().axisHeight+.5*H.height;let ae=-g.fontMetrics().axisHeight-.5*H.height-.111;(P.depth>.25||m.label==="\\xleftequilibrium")&&(ae-=P.depth);let ue;if(F){const pe=-g.fontMetrics().axisHeight+F.height+.5*H.height+.111;ue=ve.makeVList({positionType:"individualShift",children:[{type:"elem",elem:P,shift:ae},{type:"elem",elem:H,shift:Q},{type:"elem",elem:F,shift:pe}]},g)}else ue=ve.makeVList({positionType:"individualShift",children:[{type:"elem",elem:P,shift:ae},{type:"elem",elem:H,shift:Q}]},g);return ue.children[0].children[0].children[1].classes.push("svg-align"),ve.makeSpan(["mrel","x-arrow"],[ue],g)},mathmlBuilder(m,g){const b=Sa.mathMLnode(m.label);b.setAttribute("minsize",m.label.charAt(0)==="x"?"1.75em":"3.0em");let S;if(m.body){const P=I0(Zt(m.body,g));if(m.below){const L=I0(Zt(m.below,g));S=new Ie.MathNode("munderover",[b,L,P])}else S=new Ie.MathNode("mover",[b,P])}else if(m.below){const P=I0(Zt(m.below,g));S=new Ie.MathNode("munder",[b,P])}else S=I0(),S=new Ie.MathNode("mover",[b,S]);return S}});const SD=ve.makeSpan;function Jb(m,g){const b=Qn(m.body,g,!0);return SD([m.mclass],b,g)}function e5(m,g){let b;const S=Fr(m.body,g);return m.mclass==="minner"?b=new Ie.MathNode("mpadded",S):m.mclass==="mord"?m.isCharacterBox?(b=S[0],b.type="mi"):b=new Ie.MathNode("mi",S):(m.isCharacterBox?(b=S[0],b.type="mo"):b=new Ie.MathNode("mo",S),m.mclass==="mbin"?(b.attributes.lspace="0.22em",b.attributes.rspace="0.22em"):m.mclass==="mpunct"?(b.attributes.lspace="0em",b.attributes.rspace="0.17em"):m.mclass==="mopen"||m.mclass==="mclose"?(b.attributes.lspace="0em",b.attributes.rspace="0em"):m.mclass==="minner"&&(b.attributes.lspace="0.0556em",b.attributes.width="+0.1111em")),b}qe({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler(m,g){let{parser:b,funcName:S}=m;const P=g[0];return{type:"mclass",mode:b.mode,mclass:"m"+S.slice(5),body:Fn(P),isCharacterBox:y.isCharacterBox(P)}},htmlBuilder:Jb,mathmlBuilder:e5});const L0=m=>{const g=m.type==="ordgroup"&&m.body.length?m.body[0]:m;return g.type==="atom"&&(g.family==="bin"||g.family==="rel")?"m"+g.family:"mord"};qe({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(m,g){let{parser:b}=m;return{type:"mclass",mode:b.mode,mclass:L0(g[0]),body:Fn(g[1]),isCharacterBox:y.isCharacterBox(g[1])}}}),qe({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(m,g){let{parser:b,funcName:S}=m;const P=g[1],L=g[0];let F;S!=="\\stackrel"?F=L0(P):F="mrel";const H={type:"op",mode:P.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:S!=="\\stackrel",body:Fn(P)},Q={type:"supsub",mode:L.mode,base:H,sup:S==="\\underset"?null:L,sub:S==="\\underset"?L:null};return{type:"mclass",mode:b.mode,mclass:F,body:[Q],isCharacterBox:y.isCharacterBox(Q)}},htmlBuilder:Jb,mathmlBuilder:e5}),qe({type:"pmb",names:["\\pmb"],props:{numArgs:1,allowedInText:!0},handler(m,g){let{parser:b}=m;return{type:"pmb",mode:b.mode,mclass:L0(g[0]),body:Fn(g[0])}},htmlBuilder(m,g){const b=Qn(m.body,g,!0),S=ve.makeSpan([m.mclass],b,g);return S.style.textShadow="0.02em 0.01em 0.04px",S},mathmlBuilder(m,g){const b=Fr(m.body,g),S=new Ie.MathNode("mstyle",b);return S.setAttribute("style","text-shadow: 0.02em 0.01em 0.04px"),S}});const _D={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},t5=()=>({type:"styling",body:[],mode:"math",style:"display"}),n5=m=>m.type==="textord"&&m.text==="@",CD=(m,g)=>(m.type==="mathord"||m.type==="atom")&&m.text===g;function TD(m,g,b){const S=_D[m];switch(S){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return b.callFunction(S,[g[0]],[g[1]]);case"\\uparrow":case"\\downarrow":{const P=b.callFunction("\\\\cdleft",[g[0]],[]),L={type:"atom",text:S,mode:"math",family:"rel"},F=b.callFunction("\\Big",[L],[]),H=b.callFunction("\\\\cdright",[g[1]],[]),Q={type:"ordgroup",mode:"math",body:[P,F,H]};return b.callFunction("\\\\cdparent",[Q],[])}case"\\\\cdlongequal":return b.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":{const P={type:"textord",text:"\\Vert",mode:"math"};return b.callFunction("\\Big",[P],[])}default:return{type:"textord",text:" ",mode:"math"}}}function ED(m){const g=[];for(m.gullet.beginGroup(),m.gullet.macros.set("\\cr","\\\\\\relax"),m.gullet.beginGroup();;){g.push(m.parseExpression(!1,"\\\\")),m.gullet.endGroup(),m.gullet.beginGroup();const L=m.fetch().text;if(L==="&"||L==="\\\\")m.consume();else if(L==="\\end"){g[g.length-1].length===0&&g.pop();break}else throw new a("Expected \\\\ or \\cr or \\end",m.nextToken)}let b=[];const S=[b];for(let L=0;L<g.length;L++){const F=g[L];let H=t5();for(let Q=0;Q<F.length;Q++)if(!n5(F[Q]))H.body.push(F[Q]);else{b.push(H),Q+=1;const ae=rm(F[Q]).text,ue=new Array(2);if(ue[0]={type:"ordgroup",mode:"math",body:[]},ue[1]={type:"ordgroup",mode:"math",body:[]},!("=|.".indexOf(ae)>-1))if("<>AV".indexOf(ae)>-1)for(let De=0;De<2;De++){let Ve=!0;for(let Ze=Q+1;Ze<F.length;Ze++){if(CD(F[Ze],ae)){Ve=!1,Q=Ze;break}if(n5(F[Ze]))throw new a("Missing a "+ae+" character to complete a CD arrow.",F[Ze]);ue[De].body.push(F[Ze])}if(Ve)throw new a("Missing a "+ae+" character to complete a CD arrow.",F[Q])}else throw new a('Expected one of "<>AV=|." after @',F[Q]);const we={type:"styling",body:[TD(ae,ue,m)],mode:"math",style:"display"};b.push(we),H=t5()}L%2===0?b.push(H):b.shift(),b=[],S.push(b)}m.gullet.endGroup(),m.gullet.endGroup();const P=new Array(S[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25});return{type:"array",mode:"math",body:S,arraystretch:1,addJot:!0,rowGaps:[null],cols:P,colSeparationType:"CD",hLinesBeforeRow:new Array(S.length+1).fill([])}}qe({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(m,g){let{parser:b,funcName:S}=m;return{type:"cdlabel",mode:b.mode,side:S.slice(4),label:g[0]}},htmlBuilder(m,g){const b=g.havingStyle(g.style.sup()),S=ve.wrapFragment(Pt(m.label,b,g),g);return S.classes.push("cd-label-"+m.side),S.style.bottom=ie(.8-S.depth),S.height=0,S.depth=0,S},mathmlBuilder(m,g){let b=new Ie.MathNode("mrow",[Zt(m.label,g)]);return b=new Ie.MathNode("mpadded",[b]),b.setAttribute("width","0"),m.side==="left"&&b.setAttribute("lspace","-1width"),b.setAttribute("voffset","0.7em"),b=new Ie.MathNode("mstyle",[b]),b.setAttribute("displaystyle","false"),b.setAttribute("scriptlevel","1"),b}}),qe({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(m,g){let{parser:b}=m;return{type:"cdlabelparent",mode:b.mode,fragment:g[0]}},htmlBuilder(m,g){const b=ve.wrapFragment(Pt(m.fragment,g),g);return b.classes.push("cd-vert-arrow"),b},mathmlBuilder(m,g){return new Ie.MathNode("mrow",[Zt(m.fragment,g)])}}),qe({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(m,g){let{parser:b}=m;const P=yt(g[0],"ordgroup").body;let L="";for(let Q=0;Q<P.length;Q++){const ae=yt(P[Q],"textord");L+=ae.text}let F=parseInt(L),H;if(isNaN(F))throw new a("\\@char has non-numeric argument "+L);if(F<0||F>=1114111)throw new a("\\@char with invalid code point "+L);return F<=65535?H=String.fromCharCode(F):(F-=65536,H=String.fromCharCode((F>>10)+55296,(F&1023)+56320)),{type:"textord",mode:b.mode,text:H}}});const r5=(m,g)=>{const b=Qn(m.body,g.withColor(m.color),!1);return ve.makeFragment(b)},i5=(m,g)=>{const b=Fr(m.body,g.withColor(m.color)),S=new Ie.MathNode("mstyle",b);return S.setAttribute("mathcolor",m.color),S};qe({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(m,g){let{parser:b}=m;const S=yt(g[0],"color-token").color,P=g[1];return{type:"color",mode:b.mode,color:S,body:Fn(P)}},htmlBuilder:r5,mathmlBuilder:i5}),qe({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(m,g){let{parser:b,breakOnTokenText:S}=m;const P=yt(g[0],"color-token").color;b.gullet.macros.set("\\current@color",P);const L=b.parseExpression(!0,S);return{type:"color",mode:b.mode,color:P,body:L}},htmlBuilder:r5,mathmlBuilder:i5}),qe({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:0,allowedInText:!0},handler(m,g,b){let{parser:S}=m;const P=S.gullet.future().text==="["?S.parseSizeGroup(!0):null,L=!S.settings.displayMode||!S.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:S.mode,newLine:L,size:P&&yt(P,"size").value}},htmlBuilder(m,g){const b=ve.makeSpan(["mspace"],[],g);return m.newLine&&(b.classes.push("newline"),m.size&&(b.style.marginTop=ie(le(m.size,g)))),b},mathmlBuilder(m,g){const b=new Ie.MathNode("mspace");return m.newLine&&(b.setAttribute("linebreak","newline"),m.size&&b.setAttribute("height",ie(le(m.size,g)))),b}});const am={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},a5=m=>{const g=m.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(g))throw new a("Expected a control sequence",m);return g},PD=m=>{let g=m.gullet.popToken();return g.text==="="&&(g=m.gullet.popToken(),g.text===" "&&(g=m.gullet.popToken())),g},s5=(m,g,b,S)=>{let P=m.gullet.macros.get(b.text);P==null&&(b.noexpand=!0,P={tokens:[b],numArgs:0,unexpandable:!m.gullet.isExpandable(b.text)}),m.gullet.macros.set(g,P,S)};qe({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(m){let{parser:g,funcName:b}=m;g.consumeSpaces();const S=g.fetch();if(am[S.text])return(b==="\\global"||b==="\\\\globallong")&&(S.text=am[S.text]),yt(g.parseFunction(),"internal");throw new a("Invalid token after macro prefix",S)}}),qe({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(m){let{parser:g,funcName:b}=m,S=g.gullet.popToken();const P=S.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(P))throw new a("Expected a control sequence",S);let L=0,F;const H=[[]];for(;g.gullet.future().text!=="{";)if(S=g.gullet.popToken(),S.text==="#"){if(g.gullet.future().text==="{"){F=g.gullet.future(),H[L].push("{");break}if(S=g.gullet.popToken(),!/^[1-9]$/.test(S.text))throw new a('Invalid argument number "'+S.text+'"');if(parseInt(S.text)!==L+1)throw new a('Argument number "'+S.text+'" out of order');L++,H.push([])}else{if(S.text==="EOF")throw new a("Expected a macro definition");H[L].push(S.text)}let{tokens:Q}=g.gullet.consumeArg();return F&&Q.unshift(F),(b==="\\edef"||b==="\\xdef")&&(Q=g.gullet.expandTokens(Q),Q.reverse()),g.gullet.macros.set(P,{tokens:Q,numArgs:L,delimiters:H},b===am[b]),{type:"internal",mode:g.mode}}}),qe({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(m){let{parser:g,funcName:b}=m;const S=a5(g.gullet.popToken());g.gullet.consumeSpaces();const P=PD(g);return s5(g,S,P,b==="\\\\globallet"),{type:"internal",mode:g.mode}}}),qe({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(m){let{parser:g,funcName:b}=m;const S=a5(g.gullet.popToken()),P=g.gullet.popToken(),L=g.gullet.popToken();return s5(g,S,L,b==="\\\\globalfuture"),g.gullet.pushToken(L),g.gullet.pushToken(P),{type:"internal",mode:g.mode}}});const Zu=function(m,g,b){const S=mt.math[m]&&mt.math[m].replace,P=rt(S||m,g,b);if(!P)throw new Error("Unsupported symbol "+m+" and font size "+g+".");return P},sm=function(m,g,b,S){const P=b.havingBaseStyle(g),L=ve.makeSpan(S.concat(P.sizingClasses(b)),[m],b),F=P.sizeMultiplier/b.sizeMultiplier;return L.height*=F,L.depth*=F,L.maxFontSize=P.sizeMultiplier,L},o5=function(m,g,b){const S=g.havingBaseStyle(b),P=(1-g.sizeMultiplier/S.sizeMultiplier)*g.fontMetrics().axisHeight;m.classes.push("delimcenter"),m.style.top=ie(P),m.height-=P,m.depth+=P},MD=function(m,g,b,S,P,L){const F=ve.makeSymbol(m,"Main-Regular",P,S),H=sm(F,g,S,L);return b&&o5(H,S,g),H},AD=function(m,g,b,S){return ve.makeSymbol(m,"Size"+g+"-Regular",b,S)},l5=function(m,g,b,S,P,L){const F=AD(m,g,P,S),H=sm(ve.makeSpan(["delimsizing","size"+g],[F],S),K.TEXT,S,L);return b&&o5(H,S,K.TEXT),H},om=function(m,g,b){let S;return g==="Size1-Regular"?S="delim-size1":S="delim-size4",{type:"elem",elem:ve.makeSpan(["delimsizinginner",S],[ve.makeSpan([],[ve.makeSymbol(m,g,b)])])}},lm=function(m,g,b){const S=$e["Size4-Regular"][m.charCodeAt(0)]?$e["Size4-Regular"][m.charCodeAt(0)][4]:$e["Size1-Regular"][m.charCodeAt(0)][4],P=new at("inner",ct(m,Math.round(1e3*g))),L=new et([P],{width:ie(S),height:ie(g),style:"width:"+ie(S),viewBox:"0 0 "+1e3*S+" "+Math.round(1e3*g),preserveAspectRatio:"xMinYMin"}),F=ve.makeSvgSpan([],[L],b);return F.height=g,F.style.height=ie(g),F.style.width=ie(S),{type:"elem",elem:F}},um=.008,O0={type:"kern",size:-1*um},DD=["|","\\lvert","\\rvert","\\vert"],ID=["\\|","\\lVert","\\rVert","\\Vert"],u5=function(m,g,b,S,P,L){let F,H,Q,ae,ue="",pe=0;F=Q=ae=m,H=null;let we="Size1-Regular";m==="\\uparrow"?Q=ae="⏐":m==="\\Uparrow"?Q=ae="‖":m==="\\downarrow"?F=Q="⏐":m==="\\Downarrow"?F=Q="‖":m==="\\updownarrow"?(F="\\uparrow",Q="⏐",ae="\\downarrow"):m==="\\Updownarrow"?(F="\\Uparrow",Q="‖",ae="\\Downarrow"):y.contains(DD,m)?(Q="∣",ue="vert",pe=333):y.contains(ID,m)?(Q="∥",ue="doublevert",pe=556):m==="["||m==="\\lbrack"?(F="⎡",Q="⎢",ae="⎣",we="Size4-Regular",ue="lbrack",pe=667):m==="]"||m==="\\rbrack"?(F="⎤",Q="⎥",ae="⎦",we="Size4-Regular",ue="rbrack",pe=667):m==="\\lfloor"||m==="⌊"?(Q=F="⎢",ae="⎣",we="Size4-Regular",ue="lfloor",pe=667):m==="\\lceil"||m==="⌈"?(F="⎡",Q=ae="⎢",we="Size4-Regular",ue="lceil",pe=667):m==="\\rfloor"||m==="⌋"?(Q=F="⎥",ae="⎦",we="Size4-Regular",ue="rfloor",pe=667):m==="\\rceil"||m==="⌉"?(F="⎤",Q=ae="⎥",we="Size4-Regular",ue="rceil",pe=667):m==="("||m==="\\lparen"?(F="⎛",Q="⎜",ae="⎝",we="Size4-Regular",ue="lparen",pe=875):m===")"||m==="\\rparen"?(F="⎞",Q="⎟",ae="⎠",we="Size4-Regular",ue="rparen",pe=875):m==="\\{"||m==="\\lbrace"?(F="⎧",H="⎨",ae="⎩",Q="⎪",we="Size4-Regular"):m==="\\}"||m==="\\rbrace"?(F="⎫",H="⎬",ae="⎭",Q="⎪",we="Size4-Regular"):m==="\\lgroup"||m==="⟮"?(F="⎧",ae="⎩",Q="⎪",we="Size4-Regular"):m==="\\rgroup"||m==="⟯"?(F="⎫",ae="⎭",Q="⎪",we="Size4-Regular"):m==="\\lmoustache"||m==="⎰"?(F="⎧",ae="⎭",Q="⎪",we="Size4-Regular"):(m==="\\rmoustache"||m==="⎱")&&(F="⎫",ae="⎩",Q="⎪",we="Size4-Regular");const De=Zu(F,we,P),Ve=De.height+De.depth,Ze=Zu(Q,we,P),Ct=Ze.height+Ze.depth,St=Zu(ae,we,P),Et=St.height+St.depth;let Ft=0,nn=1;if(H!==null){const In=Zu(H,we,P);Ft=In.height+In.depth,nn=2}const Ar=Ve+Et+Ft,Zn=Math.max(0,Math.ceil((g-Ar)/(nn*Ct))),mi=Ar+Zn*nn*Ct;let hl=S.fontMetrics().axisHeight;b&&(hl*=S.sizeMultiplier);const Mt=mi/2-hl,Wt=[];if(ue.length>0){const In=mi-Ve-Et,_n=Math.round(mi*1e3),vi=Tt(ue,Math.round(In*1e3)),iI=new at(ue,vi),J5=(pe/1e3).toFixed(3)+"em",ew=(_n/1e3).toFixed(3)+"em",aI=new et([iI],{width:J5,height:ew,viewBox:"0 0 "+pe+" "+_n}),F0=ve.makeSvgSpan([],[aI],S);F0.height=_n/1e3,F0.style.width=J5,F0.style.height=ew,Wt.push({type:"elem",elem:F0})}else{if(Wt.push(om(ae,we,P)),Wt.push(O0),H===null){const In=mi-Ve-Et+2*um;Wt.push(lm(Q,In,S))}else{const In=(mi-Ve-Et-Ft)/2+2*um;Wt.push(lm(Q,In,S)),Wt.push(O0),Wt.push(om(H,we,P)),Wt.push(O0),Wt.push(lm(Q,In,S))}Wt.push(O0),Wt.push(om(F,we,P))}const cn=S.havingBaseStyle(K.TEXT),mn=ve.makeVList({positionType:"bottom",positionData:Mt,children:Wt},cn);return sm(ve.makeSpan(["delimsizing","mult"],[mn],cn),K.TEXT,S,L)},cm=80,fm=.08,hm=function(m,g,b,S,P){const L=je(m,S,b),F=new at(m,L),H=new et([F],{width:"400em",height:ie(g),viewBox:"0 0 400000 "+b,preserveAspectRatio:"xMinYMin slice"});return ve.makeSvgSpan(["hide-tail"],[H],P)},LD=function(m,g){const b=g.havingBaseSizing(),S=d5("\\surd",m*b.sizeMultiplier,h5,b);let P=b.sizeMultiplier;const L=Math.max(0,g.minRuleThickness-g.fontMetrics().sqrtRuleThickness);let F,H=0,Q=0,ae=0,ue;return S.type==="small"?(ae=1e3+1e3*L+cm,m<1?P=1:m<1.4&&(P=.7),H=(1+L+fm)/P,Q=(1+L)/P,F=hm("sqrtMain",H,ae,L,g),F.style.minWidth="0.853em",ue=.833/P):S.type==="large"?(ae=(1e3+cm)*Ju[S.size],Q=(Ju[S.size]+L)/P,H=(Ju[S.size]+L+fm)/P,F=hm("sqrtSize"+S.size,H,ae,L,g),F.style.minWidth="1.02em",ue=1/P):(H=m+L+fm,Q=m+L,ae=Math.floor(1e3*m+L)+cm,F=hm("sqrtTall",H,ae,L,g),F.style.minWidth="0.742em",ue=1.056),F.height=Q,F.style.height=ie(H),{span:F,advanceWidth:ue,ruleWidth:(g.fontMetrics().sqrtRuleThickness+L)*P}},c5=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","⌊","⌋","\\lceil","\\rceil","⌈","⌉","\\surd"],OD=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","⟮","⟯","\\lmoustache","\\rmoustache","⎰","⎱"],f5=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],Ju=[0,1.2,1.8,2.4,3],RD=function(m,g,b,S,P){if(m==="<"||m==="\\lt"||m==="⟨"?m="\\langle":(m===">"||m==="\\gt"||m==="⟩")&&(m="\\rangle"),y.contains(c5,m)||y.contains(f5,m))return l5(m,g,!1,b,S,P);if(y.contains(OD,m))return u5(m,Ju[g],!1,b,S,P);throw new a("Illegal delimiter: '"+m+"'")},ND=[{type:"small",style:K.SCRIPTSCRIPT},{type:"small",style:K.SCRIPT},{type:"small",style:K.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],zD=[{type:"small",style:K.SCRIPTSCRIPT},{type:"small",style:K.SCRIPT},{type:"small",style:K.TEXT},{type:"stack"}],h5=[{type:"small",style:K.SCRIPTSCRIPT},{type:"small",style:K.SCRIPT},{type:"small",style:K.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],BD=function(m){if(m.type==="small")return"Main-Regular";if(m.type==="large")return"Size"+m.size+"-Regular";if(m.type==="stack")return"Size4-Regular";throw new Error("Add support for delim type '"+m.type+"' here.")},d5=function(m,g,b,S){const P=Math.min(2,3-S.style.size);for(let L=P;L<b.length&&b[L].type!=="stack";L++){const F=Zu(m,BD(b[L]),"math");let H=F.height+F.depth;if(b[L].type==="small"){const Q=S.havingBaseStyle(b[L].style);H*=Q.sizeMultiplier}if(H>g)return b[L]}return b[b.length-1]},p5=function(m,g,b,S,P,L){m==="<"||m==="\\lt"||m==="⟨"?m="\\langle":(m===">"||m==="\\gt"||m==="⟩")&&(m="\\rangle");let F;y.contains(f5,m)?F=ND:y.contains(c5,m)?F=h5:F=zD;const H=d5(m,g,F,S);return H.type==="small"?MD(m,H.style,b,S,P,L):H.type==="large"?l5(m,H.size,b,S,P,L):u5(m,g,b,S,P,L)};var _a={sqrtImage:LD,sizedDelim:RD,sizeToMaxHeight:Ju,customSizedDelim:p5,leftRightDelim:function(m,g,b,S,P,L){const F=S.fontMetrics().axisHeight*S.sizeMultiplier,H=901,Q=5/S.fontMetrics().ptPerEm,ae=Math.max(g-F,b+F),ue=Math.max(ae/500*H,2*ae-Q);return p5(m,ue,!0,S,P,L)}};const g5={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},FD=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","⌊","⌋","\\lceil","\\rceil","⌈","⌉","<",">","\\langle","⟨","\\rangle","⟩","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","⟮","⟯","\\lmoustache","\\rmoustache","⎰","⎱","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function R0(m,g){const b=D0(m);if(b&&y.contains(FD,b.text))return b;throw b?new a("Invalid delimiter '"+b.text+"' after '"+g.funcName+"'",m):new a("Invalid delimiter type '"+m.type+"'",m)}qe({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:(m,g)=>{const b=R0(g[0],m);return{type:"delimsizing",mode:m.parser.mode,size:g5[m.funcName].size,mclass:g5[m.funcName].mclass,delim:b.text}},htmlBuilder:(m,g)=>m.delim==="."?ve.makeSpan([m.mclass]):_a.sizedDelim(m.delim,m.size,g,m.mode,[m.mclass]),mathmlBuilder:m=>{const g=[];m.delim!=="."&&g.push(pi(m.delim,m.mode));const b=new Ie.MathNode("mo",g);m.mclass==="mopen"||m.mclass==="mclose"?b.setAttribute("fence","true"):b.setAttribute("fence","false"),b.setAttribute("stretchy","true");const S=ie(_a.sizeToMaxHeight[m.size]);return b.setAttribute("minsize",S),b.setAttribute("maxsize",S),b}});function m5(m){if(!m.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}qe({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:(m,g)=>{const b=m.parser.gullet.macros.get("\\current@color");if(b&&typeof b!="string")throw new a("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:m.parser.mode,delim:R0(g[0],m).text,color:b}}}),qe({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:(m,g)=>{const b=R0(g[0],m),S=m.parser;++S.leftrightDepth;const P=S.parseExpression(!1);--S.leftrightDepth,S.expect("\\right",!1);const L=yt(S.parseFunction(),"leftright-right");return{type:"leftright",mode:S.mode,body:P,left:b.text,right:L.delim,rightColor:L.color}},htmlBuilder:(m,g)=>{m5(m);const b=Qn(m.body,g,!0,["mopen","mclose"]);let S=0,P=0,L=!1;for(let Q=0;Q<b.length;Q++)b[Q].isMiddle?L=!0:(S=Math.max(b[Q].height,S),P=Math.max(b[Q].depth,P));S*=g.sizeMultiplier,P*=g.sizeMultiplier;let F;if(m.left==="."?F=Ku(g,["mopen"]):F=_a.leftRightDelim(m.left,S,P,g,m.mode,["mopen"]),b.unshift(F),L)for(let Q=1;Q<b.length;Q++){const ue=b[Q].isMiddle;ue&&(b[Q]=_a.leftRightDelim(ue.delim,S,P,ue.options,m.mode,[]))}let H;if(m.right===".")H=Ku(g,["mclose"]);else{const Q=m.rightColor?g.withColor(m.rightColor):g;H=_a.leftRightDelim(m.right,S,P,Q,m.mode,["mclose"])}return b.push(H),ve.makeSpan(["minner"],b,g)},mathmlBuilder:(m,g)=>{m5(m);const b=Fr(m.body,g);if(m.left!=="."){const S=new Ie.MathNode("mo",[pi(m.left,m.mode)]);S.setAttribute("fence","true"),b.unshift(S)}if(m.right!=="."){const S=new Ie.MathNode("mo",[pi(m.right,m.mode)]);S.setAttribute("fence","true"),m.rightColor&&S.setAttribute("mathcolor",m.rightColor),b.push(S)}return tm(b)}}),qe({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:(m,g)=>{const b=R0(g[0],m);if(!m.parser.leftrightDepth)throw new a("\\middle without preceding \\left",b);return{type:"middle",mode:m.parser.mode,delim:b.text}},htmlBuilder:(m,g)=>{let b;if(m.delim===".")b=Ku(g,[]);else{b=_a.sizedDelim(m.delim,1,g,m.mode,[]);const S={delim:m.delim,options:g};b.isMiddle=S}return b},mathmlBuilder:(m,g)=>{const b=m.delim==="\\vert"||m.delim==="|"?pi("|","text"):pi(m.delim,m.mode),S=new Ie.MathNode("mo",[b]);return S.setAttribute("fence","true"),S.setAttribute("lspace","0.05em"),S.setAttribute("rspace","0.05em"),S}});const dm=(m,g)=>{const b=ve.wrapFragment(Pt(m.body,g),g),S=m.label.slice(1);let P=g.sizeMultiplier,L,F=0;const H=y.isCharacterBox(m.body);if(S==="sout")L=ve.makeSpan(["stretchy","sout"]),L.height=g.fontMetrics().defaultRuleThickness/P,F=-.5*g.fontMetrics().xHeight;else if(S==="phase"){const ae=le({number:.6,unit:"pt"},g),ue=le({number:.35,unit:"ex"},g),pe=g.havingBaseSizing();P=P/pe.sizeMultiplier;const we=b.height+b.depth+ae+ue;b.style.paddingLeft=ie(we/2+ae);const De=Math.floor(1e3*we*P),Ve=me(De),Ze=new et([new at("phase",Ve)],{width:"400em",height:ie(De/1e3),viewBox:"0 0 400000 "+De,preserveAspectRatio:"xMinYMin slice"});L=ve.makeSvgSpan(["hide-tail"],[Ze],g),L.style.height=ie(we),F=b.depth+ae+ue}else{/cancel/.test(S)?H||b.classes.push("cancel-pad"):S==="angl"?b.classes.push("anglpad"):b.classes.push("boxpad");let ae=0,ue=0,pe=0;/box/.test(S)?(pe=Math.max(g.fontMetrics().fboxrule,g.minRuleThickness),ae=g.fontMetrics().fboxsep+(S==="colorbox"?0:pe),ue=ae):S==="angl"?(pe=Math.max(g.fontMetrics().defaultRuleThickness,g.minRuleThickness),ae=4*pe,ue=Math.max(0,.25-b.depth)):(ae=H?.2:0,ue=ae),L=Sa.encloseSpan(b,S,ae,ue,g),/fbox|boxed|fcolorbox/.test(S)?(L.style.borderStyle="solid",L.style.borderWidth=ie(pe)):S==="angl"&&pe!==.049&&(L.style.borderTopWidth=ie(pe),L.style.borderRightWidth=ie(pe)),F=b.depth+ue,m.backgroundColor&&(L.style.backgroundColor=m.backgroundColor,m.borderColor&&(L.style.borderColor=m.borderColor))}let Q;if(m.backgroundColor)Q=ve.makeVList({positionType:"individualShift",children:[{type:"elem",elem:L,shift:F},{type:"elem",elem:b,shift:0}]},g);else{const ae=/cancel|phase/.test(S)?["svg-align"]:[];Q=ve.makeVList({positionType:"individualShift",children:[{type:"elem",elem:b,shift:0},{type:"elem",elem:L,shift:F,wrapperClasses:ae}]},g)}return/cancel/.test(S)&&(Q.height=b.height,Q.depth=b.depth),/cancel/.test(S)&&!H?ve.makeSpan(["mord","cancel-lap"],[Q],g):ve.makeSpan(["mord"],[Q],g)},pm=(m,g)=>{let b=0;const S=new Ie.MathNode(m.label.indexOf("colorbox")>-1?"mpadded":"menclose",[Zt(m.body,g)]);switch(m.label){case"\\cancel":S.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":S.setAttribute("notation","downdiagonalstrike");break;case"\\phase":S.setAttribute("notation","phasorangle");break;case"\\sout":S.setAttribute("notation","horizontalstrike");break;case"\\fbox":S.setAttribute("notation","box");break;case"\\angl":S.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(b=g.fontMetrics().fboxsep*g.fontMetrics().ptPerEm,S.setAttribute("width","+"+2*b+"pt"),S.setAttribute("height","+"+2*b+"pt"),S.setAttribute("lspace",b+"pt"),S.setAttribute("voffset",b+"pt"),m.label==="\\fcolorbox"){const P=Math.max(g.fontMetrics().fboxrule,g.minRuleThickness);S.setAttribute("style","border: "+P+"em solid "+String(m.borderColor))}break;case"\\xcancel":S.setAttribute("notation","updiagonalstrike downdiagonalstrike");break}return m.backgroundColor&&S.setAttribute("mathbackground",m.backgroundColor),S};qe({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(m,g,b){let{parser:S,funcName:P}=m;const L=yt(g[0],"color-token").color,F=g[1];return{type:"enclose",mode:S.mode,label:P,backgroundColor:L,body:F}},htmlBuilder:dm,mathmlBuilder:pm}),qe({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(m,g,b){let{parser:S,funcName:P}=m;const L=yt(g[0],"color-token").color,F=yt(g[1],"color-token").color,H=g[2];return{type:"enclose",mode:S.mode,label:P,backgroundColor:F,borderColor:L,body:H}},htmlBuilder:dm,mathmlBuilder:pm}),qe({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(m,g){let{parser:b}=m;return{type:"enclose",mode:b.mode,label:"\\fbox",body:g[0]}}}),qe({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(m,g){let{parser:b,funcName:S}=m;const P=g[0];return{type:"enclose",mode:b.mode,label:S,body:P}},htmlBuilder:dm,mathmlBuilder:pm}),qe({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(m,g){let{parser:b}=m;return{type:"enclose",mode:b.mode,label:"\\angl",body:g[0]}}});const v5={};function Wi(m){let{type:g,names:b,props:S,handler:P,htmlBuilder:L,mathmlBuilder:F}=m;const H={type:g,numArgs:S.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:P};for(let Q=0;Q<b.length;++Q)v5[b[Q]]=H;L&&(E0[g]=L),F&&(P0[g]=F)}const y5={};function W(m,g){y5[m]=g}class Jr{constructor(g,b,S){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=g,this.start=b,this.end=S}static range(g,b){return b?!g||!g.loc||!b.loc||g.loc.lexer!==b.loc.lexer?null:new Jr(g.loc.lexer,g.loc.start,b.loc.end):g&&g.loc}}class gi{constructor(g,b){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=g,this.loc=b}range(g,b){return new gi(b,Jr.range(this,g))}}function x5(m){const g=[];m.consumeSpaces();let b=m.fetch().text;for(b==="\\relax"&&(m.consume(),m.consumeSpaces(),b=m.fetch().text);b==="\\hline"||b==="\\hdashline";)m.consume(),g.push(b==="\\hdashline"),m.consumeSpaces(),b=m.fetch().text;return g}const N0=m=>{if(!m.parser.settings.displayMode)throw new a("{"+m.envName+"} can be used only in display mode.")};function gm(m){if(m.indexOf("ed")===-1)return m.indexOf("*")===-1}function is(m,g,b){let{hskipBeforeAndAfter:S,addJot:P,cols:L,arraystretch:F,colSeparationType:H,autoTag:Q,singleRow:ae,emptySingleRow:ue,maxNumCols:pe,leqno:we}=g;if(m.gullet.beginGroup(),ae||m.gullet.macros.set("\\cr","\\\\\\relax"),!F){const nn=m.gullet.expandMacroAsText("\\arraystretch");if(nn==null)F=1;else if(F=parseFloat(nn),!F||F<0)throw new a("Invalid \\arraystretch: "+nn)}m.gullet.beginGroup();let De=[];const Ve=[De],Ze=[],Ct=[],St=Q!=null?[]:void 0;function Et(){Q&&m.gullet.macros.set("\\@eqnsw","1",!0)}function Ft(){St&&(m.gullet.macros.get("\\df@tag")?(St.push(m.subparse([new gi("\\df@tag")])),m.gullet.macros.set("\\df@tag",void 0,!0)):St.push(!!Q&&m.gullet.macros.get("\\@eqnsw")==="1"))}for(Et(),Ct.push(x5(m));;){let nn=m.parseExpression(!1,ae?"\\end":"\\\\");m.gullet.endGroup(),m.gullet.beginGroup(),nn={type:"ordgroup",mode:m.mode,body:nn},b&&(nn={type:"styling",mode:m.mode,style:b,body:[nn]}),De.push(nn);const Ar=m.fetch().text;if(Ar==="&"){if(pe&&De.length===pe){if(ae||H)throw new a("Too many tab characters: &",m.nextToken);m.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}m.consume()}else if(Ar==="\\end"){Ft(),De.length===1&&nn.type==="styling"&&nn.body[0].body.length===0&&(Ve.length>1||!ue)&&Ve.pop(),Ct.length<Ve.length+1&&Ct.push([]);break}else if(Ar==="\\\\"){m.consume();let Zn;m.gullet.future().text!==" "&&(Zn=m.parseSizeGroup(!0)),Ze.push(Zn?Zn.value:null),Ft(),Ct.push(x5(m)),De=[],Ve.push(De),Et()}else throw new a("Expected & or \\\\ or \\cr or \\end",m.nextToken)}return m.gullet.endGroup(),m.gullet.endGroup(),{type:"array",mode:m.mode,addJot:P,arraystretch:F,body:Ve,cols:L,rowGaps:Ze,hskipBeforeAndAfter:S,hLinesBeforeRow:Ct,colSeparationType:H,tags:St,leqno:we}}function mm(m){return m.slice(0,1)==="d"?"display":"text"}const Gi=function(m,g){let b,S;const P=m.body.length,L=m.hLinesBeforeRow;let F=0,H=new Array(P);const Q=[],ae=Math.max(g.fontMetrics().arrayRuleWidth,g.minRuleThickness),ue=1/g.fontMetrics().ptPerEm;let pe=5*ue;m.colSeparationType&&m.colSeparationType==="small"&&(pe=.2778*(g.havingStyle(K.SCRIPT).sizeMultiplier/g.sizeMultiplier));const we=m.colSeparationType==="CD"?le({number:3,unit:"ex"},g):12*ue,De=3*ue,Ve=m.arraystretch*we,Ze=.7*Ve,Ct=.3*Ve;let St=0;function Et(Mt){for(let Wt=0;Wt<Mt.length;++Wt)Wt>0&&(St+=.25),Q.push({pos:St,isDashed:Mt[Wt]})}for(Et(L[0]),b=0;b<m.body.length;++b){const Mt=m.body[b];let Wt=Ze,cn=Ct;F<Mt.length&&(F=Mt.length);const mn=new Array(Mt.length);for(S=0;S<Mt.length;++S){const vi=Pt(Mt[S],g);cn<vi.depth&&(cn=vi.depth),Wt<vi.height&&(Wt=vi.height),mn[S]=vi}const In=m.rowGaps[b];let _n=0;In&&(_n=le(In,g),_n>0&&(_n+=Ct,cn<_n&&(cn=_n),_n=0)),m.addJot&&(cn+=De),mn.height=Wt,mn.depth=cn,St+=Wt,mn.pos=St,St+=cn+_n,H[b]=mn,Et(L[b+1])}const Ft=St/2+g.fontMetrics().axisHeight,nn=m.cols||[],Ar=[];let Zn,mi;const hl=[];if(m.tags&&m.tags.some(Mt=>Mt))for(b=0;b<P;++b){const Mt=H[b],Wt=Mt.pos-Ft,cn=m.tags[b];let mn;cn===!0?mn=ve.makeSpan(["eqn-num"],[],g):cn===!1?mn=ve.makeSpan([],[],g):mn=ve.makeSpan([],Qn(cn,g,!0),g),mn.depth=Mt.depth,mn.height=Mt.height,hl.push({type:"elem",elem:mn,shift:Wt})}for(S=0,mi=0;S<F||mi<nn.length;++S,++mi){let Mt=nn[mi]||{},Wt=!0;for(;Mt.type==="separator";){if(Wt||(Zn=ve.makeSpan(["arraycolsep"],[]),Zn.style.width=ie(g.fontMetrics().doubleRuleSep),Ar.push(Zn)),Mt.separator==="|"||Mt.separator===":"){const In=Mt.separator==="|"?"solid":"dashed",_n=ve.makeSpan(["vertical-separator"],[],g);_n.style.height=ie(St),_n.style.borderRightWidth=ie(ae),_n.style.borderRightStyle=In,_n.style.margin="0 "+ie(-ae/2);const vi=St-Ft;vi&&(_n.style.verticalAlign=ie(-vi)),Ar.push(_n)}else throw new a("Invalid separator type: "+Mt.separator);mi++,Mt=nn[mi]||{},Wt=!1}if(S>=F)continue;let cn;(S>0||m.hskipBeforeAndAfter)&&(cn=y.deflt(Mt.pregap,pe),cn!==0&&(Zn=ve.makeSpan(["arraycolsep"],[]),Zn.style.width=ie(cn),Ar.push(Zn)));let mn=[];for(b=0;b<P;++b){const In=H[b],_n=In[S];if(!_n)continue;const vi=In.pos-Ft;_n.depth=In.depth,_n.height=In.height,mn.push({type:"elem",elem:_n,shift:vi})}mn=ve.makeVList({positionType:"individualShift",children:mn},g),mn=ve.makeSpan(["col-align-"+(Mt.align||"c")],[mn]),Ar.push(mn),(S<F-1||m.hskipBeforeAndAfter)&&(cn=y.deflt(Mt.postgap,pe),cn!==0&&(Zn=ve.makeSpan(["arraycolsep"],[]),Zn.style.width=ie(cn),Ar.push(Zn)))}if(H=ve.makeSpan(["mtable"],Ar),Q.length>0){const Mt=ve.makeLineSpan("hline",g,ae),Wt=ve.makeLineSpan("hdashline",g,ae),cn=[{type:"elem",elem:H,shift:0}];for(;Q.length>0;){const mn=Q.pop(),In=mn.pos-Ft;mn.isDashed?cn.push({type:"elem",elem:Wt,shift:In}):cn.push({type:"elem",elem:Mt,shift:In})}H=ve.makeVList({positionType:"individualShift",children:cn},g)}if(hl.length===0)return ve.makeSpan(["mord"],[H],g);{let Mt=ve.makeVList({positionType:"individualShift",children:hl},g);return Mt=ve.makeSpan(["tag"],[Mt],g),ve.makeFragment([H,Mt])}},$D={c:"center ",l:"left ",r:"right "},Yi=function(m,g){const b=[],S=new Ie.MathNode("mtd",[],["mtr-glue"]),P=new Ie.MathNode("mtd",[],["mml-eqn-num"]);for(let pe=0;pe<m.body.length;pe++){const we=m.body[pe],De=[];for(let Ve=0;Ve<we.length;Ve++)De.push(new Ie.MathNode("mtd",[Zt(we[Ve],g)]));m.tags&&m.tags[pe]&&(De.unshift(S),De.push(S),m.leqno?De.unshift(P):De.push(P)),b.push(new Ie.MathNode("mtr",De))}let L=new Ie.MathNode("mtable",b);const F=m.arraystretch===.5?.1:.16+m.arraystretch-1+(m.addJot?.09:0);L.setAttribute("rowspacing",ie(F));let H="",Q="";if(m.cols&&m.cols.length>0){const pe=m.cols;let we="",De=!1,Ve=0,Ze=pe.length;pe[0].type==="separator"&&(H+="top ",Ve=1),pe[pe.length-1].type==="separator"&&(H+="bottom ",Ze-=1);for(let Ct=Ve;Ct<Ze;Ct++)pe[Ct].type==="align"?(Q+=$D[pe[Ct].align],De&&(we+="none "),De=!0):pe[Ct].type==="separator"&&De&&(we+=pe[Ct].separator==="|"?"solid ":"dashed ",De=!1);L.setAttribute("columnalign",Q.trim()),/[sd]/.test(we)&&L.setAttribute("columnlines",we.trim())}if(m.colSeparationType==="align"){const pe=m.cols||[];let we="";for(let De=1;De<pe.length;De++)we+=De%2?"0em ":"1em ";L.setAttribute("columnspacing",we.trim())}else m.colSeparationType==="alignat"||m.colSeparationType==="gather"?L.setAttribute("columnspacing","0em"):m.colSeparationType==="small"?L.setAttribute("columnspacing","0.2778em"):m.colSeparationType==="CD"?L.setAttribute("columnspacing","0.5em"):L.setAttribute("columnspacing","1em");let ae="";const ue=m.hLinesBeforeRow;H+=ue[0].length>0?"left ":"",H+=ue[ue.length-1].length>0?"right ":"";for(let pe=1;pe<ue.length-1;pe++)ae+=ue[pe].length===0?"none ":ue[pe][0]?"dashed ":"solid ";return/[sd]/.test(ae)&&L.setAttribute("rowlines",ae.trim()),H!==""&&(L=new Ie.MathNode("menclose",[L]),L.setAttribute("notation",H.trim())),m.arraystretch&&m.arraystretch<1&&(L=new Ie.MathNode("mstyle",[L]),L.setAttribute("scriptlevel","1")),L},b5=function(m,g){m.envName.indexOf("ed")===-1&&N0(m);const b=[],S=m.envName.indexOf("at")>-1?"alignat":"align",P=m.envName==="split",L=is(m.parser,{cols:b,addJot:!0,autoTag:P?void 0:gm(m.envName),emptySingleRow:!0,colSeparationType:S,maxNumCols:P?2:void 0,leqno:m.parser.settings.leqno},"display");let F,H=0;const Q={type:"ordgroup",mode:m.mode,body:[]};if(g[0]&&g[0].type==="ordgroup"){let ue="";for(let pe=0;pe<g[0].body.length;pe++){const we=yt(g[0].body[pe],"textord");ue+=we.text}F=Number(ue),H=F*2}const ae=!H;L.body.forEach(function(ue){for(let pe=1;pe<ue.length;pe+=2){const we=yt(ue[pe],"styling");yt(we.body[0],"ordgroup").body.unshift(Q)}if(ae)H<ue.length&&(H=ue.length);else{const pe=ue.length/2;if(F<pe)throw new a("Too many math in a row: "+("expected "+F+", but got "+pe),ue[0])}});for(let ue=0;ue<H;++ue){let pe="r",we=0;ue%2===1?pe="l":ue>0&&ae&&(we=1),b[ue]={type:"align",align:pe,pregap:we,postgap:0}}return L.colSeparationType=ae?"align":"alignat",L};Wi({type:"array",names:["array","darray"],props:{numArgs:1},handler(m,g){const P=(D0(g[0])?[g[0]]:yt(g[0],"ordgroup").body).map(function(F){const Q=rm(F).text;if("lcr".indexOf(Q)!==-1)return{type:"align",align:Q};if(Q==="|")return{type:"separator",separator:"|"};if(Q===":")return{type:"separator",separator:":"};throw new a("Unknown column alignment: "+Q,F)}),L={cols:P,hskipBeforeAndAfter:!0,maxNumCols:P.length};return is(m.parser,L,mm(m.envName))},htmlBuilder:Gi,mathmlBuilder:Yi}),Wi({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler(m){const g={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[m.envName.replace("*","")];let b="c";const S={hskipBeforeAndAfter:!1,cols:[{type:"align",align:b}]};if(m.envName.charAt(m.envName.length-1)==="*"){const F=m.parser;if(F.consumeSpaces(),F.fetch().text==="["){if(F.consume(),F.consumeSpaces(),b=F.fetch().text,"lcr".indexOf(b)===-1)throw new a("Expected l or c or r",F.nextToken);F.consume(),F.consumeSpaces(),F.expect("]"),F.consume(),S.cols=[{type:"align",align:b}]}}const P=is(m.parser,S,mm(m.envName)),L=Math.max(0,...P.body.map(F=>F.length));return P.cols=new Array(L).fill({type:"align",align:b}),g?{type:"leftright",mode:m.mode,body:[P],left:g[0],right:g[1],rightColor:void 0}:P},htmlBuilder:Gi,mathmlBuilder:Yi}),Wi({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(m){const g={arraystretch:.5},b=is(m.parser,g,"script");return b.colSeparationType="small",b},htmlBuilder:Gi,mathmlBuilder:Yi}),Wi({type:"array",names:["subarray"],props:{numArgs:1},handler(m,g){const P=(D0(g[0])?[g[0]]:yt(g[0],"ordgroup").body).map(function(F){const Q=rm(F).text;if("lc".indexOf(Q)!==-1)return{type:"align",align:Q};throw new a("Unknown column alignment: "+Q,F)});if(P.length>1)throw new a("{subarray} can contain only one column");let L={cols:P,hskipBeforeAndAfter:!1,arraystretch:.5};if(L=is(m.parser,L,"script"),L.body.length>0&&L.body[0].length>1)throw new a("{subarray} can contain only one column");return L},htmlBuilder:Gi,mathmlBuilder:Yi}),Wi({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(m){const g={arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},b=is(m.parser,g,mm(m.envName));return{type:"leftright",mode:m.mode,body:[b],left:m.envName.indexOf("r")>-1?".":"\\{",right:m.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:Gi,mathmlBuilder:Yi}),Wi({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:b5,htmlBuilder:Gi,mathmlBuilder:Yi}),Wi({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(m){y.contains(["gather","gather*"],m.envName)&&N0(m);const g={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:gm(m.envName),emptySingleRow:!0,leqno:m.parser.settings.leqno};return is(m.parser,g,"display")},htmlBuilder:Gi,mathmlBuilder:Yi}),Wi({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:b5,htmlBuilder:Gi,mathmlBuilder:Yi}),Wi({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(m){N0(m);const g={autoTag:gm(m.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:m.parser.settings.leqno};return is(m.parser,g,"display")},htmlBuilder:Gi,mathmlBuilder:Yi}),Wi({type:"array",names:["CD"],props:{numArgs:0},handler(m){return N0(m),ED(m.parser)},htmlBuilder:Gi,mathmlBuilder:Yi}),W("\\nonumber","\\gdef\\@eqnsw{0}"),W("\\notag","\\nonumber"),qe({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(m,g){throw new a(m.funcName+" valid only within array environment")}});var w5=v5;qe({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(m,g){let{parser:b,funcName:S}=m;const P=g[0];if(P.type!=="ordgroup")throw new a("Invalid environment name",P);let L="";for(let F=0;F<P.body.length;++F)L+=yt(P.body[F],"textord").text;if(S==="\\begin"){if(!w5.hasOwnProperty(L))throw new a("No such environment: "+L,P);const F=w5[L],{args:H,optArgs:Q}=b.parseArguments("\\begin{"+L+"}",F),ae={mode:b.mode,envName:L,parser:b},ue=F.handler(ae,H,Q);b.expect("\\end",!1);const pe=b.nextToken,we=yt(b.parseFunction(),"environment");if(we.name!==L)throw new a("Mismatch: \\begin{"+L+"} matched by \\end{"+we.name+"}",pe);return ue}return{type:"environment",mode:b.mode,name:L,nameGroup:P}}});const k5=(m,g)=>{const b=m.font,S=g.withFont(b);return Pt(m.body,S)},S5=(m,g)=>{const b=m.font,S=g.withFont(b);return Zt(m.body,S)},_5={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};qe({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:(m,g)=>{let{parser:b,funcName:S}=m;const P=M0(g[0]);let L=S;return L in _5&&(L=_5[L]),{type:"font",mode:b.mode,font:L.slice(1),body:P}},htmlBuilder:k5,mathmlBuilder:S5}),qe({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:(m,g)=>{let{parser:b}=m;const S=g[0],P=y.isCharacterBox(S);return{type:"mclass",mode:b.mode,mclass:L0(S),body:[{type:"font",mode:b.mode,font:"boldsymbol",body:S}],isCharacterBox:P}}}),qe({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:(m,g)=>{let{parser:b,funcName:S,breakOnTokenText:P}=m;const{mode:L}=b,F=b.parseExpression(!0,P),H="math"+S.slice(1);return{type:"font",mode:L,font:H,body:{type:"ordgroup",mode:b.mode,body:F}}},htmlBuilder:k5,mathmlBuilder:S5});const C5=(m,g)=>{let b=g;return m==="display"?b=b.id>=K.SCRIPT.id?b.text():K.DISPLAY:m==="text"&&b.size===K.DISPLAY.size?b=K.TEXT:m==="script"?b=K.SCRIPT:m==="scriptscript"&&(b=K.SCRIPTSCRIPT),b},vm=(m,g)=>{const b=C5(m.size,g.style),S=b.fracNum(),P=b.fracDen();let L;L=g.havingStyle(S);const F=Pt(m.numer,L,g);if(m.continued){const Et=8.5/g.fontMetrics().ptPerEm,Ft=3.5/g.fontMetrics().ptPerEm;F.height=F.height<Et?Et:F.height,F.depth=F.depth<Ft?Ft:F.depth}L=g.havingStyle(P);const H=Pt(m.denom,L,g);let Q,ae,ue;m.hasBarLine?(m.barSize?(ae=le(m.barSize,g),Q=ve.makeLineSpan("frac-line",g,ae)):Q=ve.makeLineSpan("frac-line",g),ae=Q.height,ue=Q.height):(Q=null,ae=0,ue=g.fontMetrics().defaultRuleThickness);let pe,we,De;b.size===K.DISPLAY.size||m.size==="display"?(pe=g.fontMetrics().num1,ae>0?we=3*ue:we=7*ue,De=g.fontMetrics().denom1):(ae>0?(pe=g.fontMetrics().num2,we=ue):(pe=g.fontMetrics().num3,we=3*ue),De=g.fontMetrics().denom2);let Ve;if(Q){const Et=g.fontMetrics().axisHeight;pe-F.depth-(Et+.5*ae)<we&&(pe+=we-(pe-F.depth-(Et+.5*ae))),Et-.5*ae-(H.height-De)<we&&(De+=we-(Et-.5*ae-(H.height-De)));const Ft=-(Et-.5*ae);Ve=ve.makeVList({positionType:"individualShift",children:[{type:"elem",elem:H,shift:De},{type:"elem",elem:Q,shift:Ft},{type:"elem",elem:F,shift:-pe}]},g)}else{const Et=pe-F.depth-(H.height-De);Et<we&&(pe+=.5*(we-Et),De+=.5*(we-Et)),Ve=ve.makeVList({positionType:"individualShift",children:[{type:"elem",elem:H,shift:De},{type:"elem",elem:F,shift:-pe}]},g)}L=g.havingStyle(b),Ve.height*=L.sizeMultiplier/g.sizeMultiplier,Ve.depth*=L.sizeMultiplier/g.sizeMultiplier;let Ze;b.size===K.DISPLAY.size?Ze=g.fontMetrics().delim1:b.size===K.SCRIPTSCRIPT.size?Ze=g.havingStyle(K.SCRIPT).fontMetrics().delim2:Ze=g.fontMetrics().delim2;let Ct,St;return m.leftDelim==null?Ct=Ku(g,["mopen"]):Ct=_a.customSizedDelim(m.leftDelim,Ze,!0,g.havingStyle(b),m.mode,["mopen"]),m.continued?St=ve.makeSpan([]):m.rightDelim==null?St=Ku(g,["mclose"]):St=_a.customSizedDelim(m.rightDelim,Ze,!0,g.havingStyle(b),m.mode,["mclose"]),ve.makeSpan(["mord"].concat(L.sizingClasses(g)),[Ct,ve.makeSpan(["mfrac"],[Ve]),St],g)},ym=(m,g)=>{let b=new Ie.MathNode("mfrac",[Zt(m.numer,g),Zt(m.denom,g)]);if(!m.hasBarLine)b.setAttribute("linethickness","0px");else if(m.barSize){const P=le(m.barSize,g);b.setAttribute("linethickness",ie(P))}const S=C5(m.size,g.style);if(S.size!==g.style.size){b=new Ie.MathNode("mstyle",[b]);const P=S.size===K.DISPLAY.size?"true":"false";b.setAttribute("displaystyle",P),b.setAttribute("scriptlevel","0")}if(m.leftDelim!=null||m.rightDelim!=null){const P=[];if(m.leftDelim!=null){const L=new Ie.MathNode("mo",[new Ie.TextNode(m.leftDelim.replace("\\",""))]);L.setAttribute("fence","true"),P.push(L)}if(P.push(b),m.rightDelim!=null){const L=new Ie.MathNode("mo",[new Ie.TextNode(m.rightDelim.replace("\\",""))]);L.setAttribute("fence","true"),P.push(L)}return tm(P)}return b};qe({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:(m,g)=>{let{parser:b,funcName:S}=m;const P=g[0],L=g[1];let F,H=null,Q=null,ae="auto";switch(S){case"\\dfrac":case"\\frac":case"\\tfrac":F=!0;break;case"\\\\atopfrac":F=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":F=!1,H="(",Q=")";break;case"\\\\bracefrac":F=!1,H="\\{",Q="\\}";break;case"\\\\brackfrac":F=!1,H="[",Q="]";break;default:throw new Error("Unrecognized genfrac command")}switch(S){case"\\dfrac":case"\\dbinom":ae="display";break;case"\\tfrac":case"\\tbinom":ae="text";break}return{type:"genfrac",mode:b.mode,continued:!1,numer:P,denom:L,hasBarLine:F,leftDelim:H,rightDelim:Q,size:ae,barSize:null}},htmlBuilder:vm,mathmlBuilder:ym}),qe({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:(m,g)=>{let{parser:b,funcName:S}=m;const P=g[0],L=g[1];return{type:"genfrac",mode:b.mode,continued:!0,numer:P,denom:L,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}}),qe({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(m){let{parser:g,funcName:b,token:S}=m,P;switch(b){case"\\over":P="\\frac";break;case"\\choose":P="\\binom";break;case"\\atop":P="\\\\atopfrac";break;case"\\brace":P="\\\\bracefrac";break;case"\\brack":P="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:g.mode,replaceWith:P,token:S}}});const T5=["display","text","script","scriptscript"],E5=function(m){let g=null;return m.length>0&&(g=m,g=g==="."?null:g),g};qe({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler(m,g){let{parser:b}=m;const S=g[4],P=g[5],L=M0(g[0]),F=L.type==="atom"&&L.family==="open"?E5(L.text):null,H=M0(g[1]),Q=H.type==="atom"&&H.family==="close"?E5(H.text):null,ae=yt(g[2],"size");let ue,pe=null;ae.isBlank?ue=!0:(pe=ae.value,ue=pe.number>0);let we="auto",De=g[3];if(De.type==="ordgroup"){if(De.body.length>0){const Ve=yt(De.body[0],"textord");we=T5[Number(Ve.text)]}}else De=yt(De,"textord"),we=T5[Number(De.text)];return{type:"genfrac",mode:b.mode,numer:S,denom:P,continued:!1,hasBarLine:ue,barSize:pe,leftDelim:F,rightDelim:Q,size:we}},htmlBuilder:vm,mathmlBuilder:ym}),qe({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(m,g){let{parser:b,funcName:S,token:P}=m;return{type:"infix",mode:b.mode,replaceWith:"\\\\abovefrac",size:yt(g[0],"size").value,token:P}}}),qe({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:(m,g)=>{let{parser:b,funcName:S}=m;const P=g[0],L=v(yt(g[1],"infix").size),F=g[2],H=L.number>0;return{type:"genfrac",mode:b.mode,numer:P,denom:F,continued:!1,hasBarLine:H,barSize:L,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:vm,mathmlBuilder:ym});const P5=(m,g)=>{const b=g.style;let S,P;m.type==="supsub"?(S=m.sup?Pt(m.sup,g.havingStyle(b.sup()),g):Pt(m.sub,g.havingStyle(b.sub()),g),P=yt(m.base,"horizBrace")):P=yt(m,"horizBrace");const L=Pt(P.base,g.havingBaseStyle(K.DISPLAY)),F=Sa.svgSpan(P,g);let H;if(P.isOver?(H=ve.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:L},{type:"kern",size:.1},{type:"elem",elem:F}]},g),H.children[0].children[0].children[1].classes.push("svg-align")):(H=ve.makeVList({positionType:"bottom",positionData:L.depth+.1+F.height,children:[{type:"elem",elem:F},{type:"kern",size:.1},{type:"elem",elem:L}]},g),H.children[0].children[0].children[0].classes.push("svg-align")),S){const Q=ve.makeSpan(["mord",P.isOver?"mover":"munder"],[H],g);P.isOver?H=ve.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:Q},{type:"kern",size:.2},{type:"elem",elem:S}]},g):H=ve.makeVList({positionType:"bottom",positionData:Q.depth+.2+S.height+S.depth,children:[{type:"elem",elem:S},{type:"kern",size:.2},{type:"elem",elem:Q}]},g)}return ve.makeSpan(["mord",P.isOver?"mover":"munder"],[H],g)};qe({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(m,g){let{parser:b,funcName:S}=m;return{type:"horizBrace",mode:b.mode,label:S,isOver:/^\\over/.test(S),base:g[0]}},htmlBuilder:P5,mathmlBuilder:(m,g)=>{const b=Sa.mathMLnode(m.label);return new Ie.MathNode(m.isOver?"mover":"munder",[Zt(m.base,g),b])}}),qe({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:(m,g)=>{let{parser:b}=m;const S=g[1],P=yt(g[0],"url").url;return b.settings.isTrusted({command:"\\href",url:P})?{type:"href",mode:b.mode,href:P,body:Fn(S)}:b.formatUnsupportedCmd("\\href")},htmlBuilder:(m,g)=>{const b=Qn(m.body,g,!1);return ve.makeAnchor(m.href,[],b,g)},mathmlBuilder:(m,g)=>{let b=rs(m.body,g);return b instanceof di||(b=new di("mrow",[b])),b.setAttribute("href",m.href),b}}),qe({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:(m,g)=>{let{parser:b}=m;const S=yt(g[0],"url").url;if(!b.settings.isTrusted({command:"\\url",url:S}))return b.formatUnsupportedCmd("\\url");const P=[];for(let F=0;F<S.length;F++){let H=S[F];H==="~"&&(H="\\textasciitilde"),P.push({type:"textord",mode:"text",text:H})}const L={type:"text",mode:b.mode,font:"\\texttt",body:P};return{type:"href",mode:b.mode,href:S,body:Fn(L)}}}),qe({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(m,g){let{parser:b}=m;return{type:"hbox",mode:b.mode,body:Fn(g[0])}},htmlBuilder(m,g){const b=Qn(m.body,g,!1);return ve.makeFragment(b)},mathmlBuilder(m,g){return new Ie.MathNode("mrow",Fr(m.body,g))}}),qe({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:(m,g)=>{let{parser:b,funcName:S,token:P}=m;const L=yt(g[0],"raw").string,F=g[1];b.settings.strict&&b.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");let H;const Q={};switch(S){case"\\htmlClass":Q.class=L,H={command:"\\htmlClass",class:L};break;case"\\htmlId":Q.id=L,H={command:"\\htmlId",id:L};break;case"\\htmlStyle":Q.style=L,H={command:"\\htmlStyle",style:L};break;case"\\htmlData":{const ae=L.split(",");for(let ue=0;ue<ae.length;ue++){const pe=ae[ue].split("=");if(pe.length!==2)throw new a("Error parsing key-value for \\htmlData");Q["data-"+pe[0].trim()]=pe[1].trim()}H={command:"\\htmlData",attributes:Q};break}default:throw new Error("Unrecognized html command")}return b.settings.isTrusted(H)?{type:"html",mode:b.mode,attributes:Q,body:Fn(F)}:b.formatUnsupportedCmd(S)},htmlBuilder:(m,g)=>{const b=Qn(m.body,g,!1),S=["enclosing"];m.attributes.class&&S.push(...m.attributes.class.trim().split(/\s+/));const P=ve.makeSpan(S,b,g);for(const L in m.attributes)L!=="class"&&m.attributes.hasOwnProperty(L)&&P.setAttribute(L,m.attributes[L]);return P},mathmlBuilder:(m,g)=>rs(m.body,g)}),qe({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:(m,g)=>{let{parser:b}=m;return{type:"htmlmathml",mode:b.mode,html:Fn(g[0]),mathml:Fn(g[1])}},htmlBuilder:(m,g)=>{const b=Qn(m.html,g,!1);return ve.makeFragment(b)},mathmlBuilder:(m,g)=>rs(m.mathml,g)});const xm=function(m){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(m))return{number:+m,unit:"bp"};{const g=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(m);if(!g)throw new a("Invalid size: '"+m+"' in \\includegraphics");const b={number:+(g[1]+g[2]),unit:g[3]};if(!U(b))throw new a("Invalid unit: '"+b.unit+"' in \\includegraphics.");return b}};qe({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:(m,g,b)=>{let{parser:S}=m,P={number:0,unit:"em"},L={number:.9,unit:"em"},F={number:0,unit:"em"},H="";if(b[0]){const ue=yt(b[0],"raw").string.split(",");for(let pe=0;pe<ue.length;pe++){const we=ue[pe].split("=");if(we.length===2){const De=we[1].trim();switch(we[0].trim()){case"alt":H=De;break;case"width":P=xm(De);break;case"height":L=xm(De);break;case"totalheight":F=xm(De);break;default:throw new a("Invalid key: '"+we[0]+"' in \\includegraphics.")}}}}const Q=yt(g[0],"url").url;return H===""&&(H=Q,H=H.replace(/^.*[\\/]/,""),H=H.substring(0,H.lastIndexOf("."))),S.settings.isTrusted({command:"\\includegraphics",url:Q})?{type:"includegraphics",mode:S.mode,alt:H,width:P,height:L,totalheight:F,src:Q}:S.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:(m,g)=>{const b=le(m.height,g);let S=0;m.totalheight.number>0&&(S=le(m.totalheight,g)-b);let P=0;m.width.number>0&&(P=le(m.width,g));const L={height:ie(b+S)};P>0&&(L.width=ie(P)),S>0&&(L.verticalAlign=ie(-S));const F=new kt(m.src,m.alt,L);return F.height=b,F.depth=S,F},mathmlBuilder:(m,g)=>{const b=new Ie.MathNode("mglyph",[]);b.setAttribute("alt",m.alt);const S=le(m.height,g);let P=0;if(m.totalheight.number>0&&(P=le(m.totalheight,g)-S,b.setAttribute("valign",ie(-P))),b.setAttribute("height",ie(S+P)),m.width.number>0){const L=le(m.width,g);b.setAttribute("width",ie(L))}return b.setAttribute("src",m.src),b}}),qe({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(m,g){let{parser:b,funcName:S}=m;const P=yt(g[0],"size");if(b.settings.strict){const L=S[1]==="m",F=P.value.unit==="mu";L?(F||b.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+S+" supports only mu units, "+("not "+P.value.unit+" units")),b.mode!=="math"&&b.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+S+" works only in math mode")):F&&b.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+S+" doesn't support mu units")}return{type:"kern",mode:b.mode,dimension:P.value}},htmlBuilder(m,g){return ve.makeGlue(m.dimension,g)},mathmlBuilder(m,g){const b=le(m.dimension,g);return new Ie.SpaceNode(b)}}),qe({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:(m,g)=>{let{parser:b,funcName:S}=m;const P=g[0];return{type:"lap",mode:b.mode,alignment:S.slice(5),body:P}},htmlBuilder:(m,g)=>{let b;m.alignment==="clap"?(b=ve.makeSpan([],[Pt(m.body,g)]),b=ve.makeSpan(["inner"],[b],g)):b=ve.makeSpan(["inner"],[Pt(m.body,g)]);const S=ve.makeSpan(["fix"],[]);let P=ve.makeSpan([m.alignment],[b,S],g);const L=ve.makeSpan(["strut"]);return L.style.height=ie(P.height+P.depth),P.depth&&(L.style.verticalAlign=ie(-P.depth)),P.children.unshift(L),P=ve.makeSpan(["thinbox"],[P],g),ve.makeSpan(["mord","vbox"],[P],g)},mathmlBuilder:(m,g)=>{const b=new Ie.MathNode("mpadded",[Zt(m.body,g)]);if(m.alignment!=="rlap"){const S=m.alignment==="llap"?"-1":"-0.5";b.setAttribute("lspace",S+"width")}return b.setAttribute("width","0px"),b}}),qe({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(m,g){let{funcName:b,parser:S}=m;const P=S.mode;S.switchMode("math");const L=b==="\\("?"\\)":"$",F=S.parseExpression(!1,L);return S.expect(L),S.switchMode(P),{type:"styling",mode:S.mode,style:"text",body:F}}}),qe({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(m,g){throw new a("Mismatched "+m.funcName)}});const M5=(m,g)=>{switch(g.style.size){case K.DISPLAY.size:return m.display;case K.TEXT.size:return m.text;case K.SCRIPT.size:return m.script;case K.SCRIPTSCRIPT.size:return m.scriptscript;default:return m.text}};qe({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:(m,g)=>{let{parser:b}=m;return{type:"mathchoice",mode:b.mode,display:Fn(g[0]),text:Fn(g[1]),script:Fn(g[2]),scriptscript:Fn(g[3])}},htmlBuilder:(m,g)=>{const b=M5(m,g),S=Qn(b,g,!1);return ve.makeFragment(S)},mathmlBuilder:(m,g)=>{const b=M5(m,g);return rs(b,g)}});const A5=(m,g,b,S,P,L,F)=>{m=ve.makeSpan([],[m]);const H=b&&y.isCharacterBox(b);let Q,ae;if(g){const we=Pt(g,S.havingStyle(P.sup()),S);ae={elem:we,kern:Math.max(S.fontMetrics().bigOpSpacing1,S.fontMetrics().bigOpSpacing3-we.depth)}}if(b){const we=Pt(b,S.havingStyle(P.sub()),S);Q={elem:we,kern:Math.max(S.fontMetrics().bigOpSpacing2,S.fontMetrics().bigOpSpacing4-we.height)}}let ue;if(ae&&Q){const we=S.fontMetrics().bigOpSpacing5+Q.elem.height+Q.elem.depth+Q.kern+m.depth+F;ue=ve.makeVList({positionType:"bottom",positionData:we,children:[{type:"kern",size:S.fontMetrics().bigOpSpacing5},{type:"elem",elem:Q.elem,marginLeft:ie(-L)},{type:"kern",size:Q.kern},{type:"elem",elem:m},{type:"kern",size:ae.kern},{type:"elem",elem:ae.elem,marginLeft:ie(L)},{type:"kern",size:S.fontMetrics().bigOpSpacing5}]},S)}else if(Q){const we=m.height-F;ue=ve.makeVList({positionType:"top",positionData:we,children:[{type:"kern",size:S.fontMetrics().bigOpSpacing5},{type:"elem",elem:Q.elem,marginLeft:ie(-L)},{type:"kern",size:Q.kern},{type:"elem",elem:m}]},S)}else if(ae){const we=m.depth+F;ue=ve.makeVList({positionType:"bottom",positionData:we,children:[{type:"elem",elem:m},{type:"kern",size:ae.kern},{type:"elem",elem:ae.elem,marginLeft:ie(L)},{type:"kern",size:S.fontMetrics().bigOpSpacing5}]},S)}else return m;const pe=[ue];if(Q&&L!==0&&!H){const we=ve.makeSpan(["mspace"],[],S);we.style.marginRight=ie(L),pe.unshift(we)}return ve.makeSpan(["mop","op-limits"],pe,S)},D5=["\\smallint"],fl=(m,g)=>{let b,S,P=!1,L;m.type==="supsub"?(b=m.sup,S=m.sub,L=yt(m.base,"op"),P=!0):L=yt(m,"op");const F=g.style;let H=!1;F.size===K.DISPLAY.size&&L.symbol&&!y.contains(D5,L.name)&&(H=!0);let Q;if(L.symbol){const pe=H?"Size2-Regular":"Size1-Regular";let we="";if((L.name==="\\oiint"||L.name==="\\oiiint")&&(we=L.name.slice(1),L.name=we==="oiint"?"\\iint":"\\iiint"),Q=ve.makeSymbol(L.name,pe,"math",g,["mop","op-symbol",H?"large-op":"small-op"]),we.length>0){const De=Q.italic,Ve=ve.staticSvg(we+"Size"+(H?"2":"1"),g);Q=ve.makeVList({positionType:"individualShift",children:[{type:"elem",elem:Q,shift:0},{type:"elem",elem:Ve,shift:H?.08:0}]},g),L.name="\\"+we,Q.classes.unshift("mop"),Q.italic=De}}else if(L.body){const pe=Qn(L.body,g,!0);pe.length===1&&pe[0]instanceof it?(Q=pe[0],Q.classes[0]="mop"):Q=ve.makeSpan(["mop"],pe,g)}else{const pe=[];for(let we=1;we<L.name.length;we++)pe.push(ve.mathsym(L.name[we],L.mode,g));Q=ve.makeSpan(["mop"],pe,g)}let ae=0,ue=0;return(Q instanceof it||L.name==="\\oiint"||L.name==="\\oiiint")&&!L.suppressBaseShift&&(ae=(Q.height-Q.depth)/2-g.fontMetrics().axisHeight,ue=Q.italic),P?A5(Q,b,S,g,F,ue,ae):(ae&&(Q.style.position="relative",Q.style.top=ie(ae)),Q)},ec=(m,g)=>{let b;if(m.symbol)b=new di("mo",[pi(m.name,m.mode)]),y.contains(D5,m.name)&&b.setAttribute("largeop","false");else if(m.body)b=new di("mo",Fr(m.body,g));else{b=new di("mi",[new Qu(m.name.slice(1))]);const S=new di("mo",[pi("⁡","text")]);m.parentIsSupSub?b=new di("mrow",[b,S]):b=Yb([b,S])}return b},jD={"∏":"\\prod","∐":"\\coprod","∑":"\\sum","⋀":"\\bigwedge","⋁":"\\bigvee","⋂":"\\bigcap","⋃":"\\bigcup","⨀":"\\bigodot","⨁":"\\bigoplus","⨂":"\\bigotimes","⨄":"\\biguplus","⨆":"\\bigsqcup"};qe({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","∏","∐","∑","⋀","⋁","⋂","⋃","⨀","⨁","⨂","⨄","⨆"],props:{numArgs:0},handler:(m,g)=>{let{parser:b,funcName:S}=m,P=S;return P.length===1&&(P=jD[P]),{type:"op",mode:b.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:P}},htmlBuilder:fl,mathmlBuilder:ec}),qe({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:(m,g)=>{let{parser:b}=m;const S=g[0];return{type:"op",mode:b.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:Fn(S)}},htmlBuilder:fl,mathmlBuilder:ec});const qD={"∫":"\\int","∬":"\\iint","∭":"\\iiint","∮":"\\oint","∯":"\\oiint","∰":"\\oiiint"};qe({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler(m){let{parser:g,funcName:b}=m;return{type:"op",mode:g.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:b}},htmlBuilder:fl,mathmlBuilder:ec}),qe({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler(m){let{parser:g,funcName:b}=m;return{type:"op",mode:g.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:b}},htmlBuilder:fl,mathmlBuilder:ec}),qe({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","∫","∬","∭","∮","∯","∰"],props:{numArgs:0},handler(m){let{parser:g,funcName:b}=m,S=b;return S.length===1&&(S=qD[S]),{type:"op",mode:g.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:S}},htmlBuilder:fl,mathmlBuilder:ec});const I5=(m,g)=>{let b,S,P=!1,L;m.type==="supsub"?(b=m.sup,S=m.sub,L=yt(m.base,"operatorname"),P=!0):L=yt(m,"operatorname");let F;if(L.body.length>0){const H=L.body.map(ae=>{const ue=ae.text;return typeof ue=="string"?{type:"textord",mode:ae.mode,text:ue}:ae}),Q=Qn(H,g.withFont("mathrm"),!0);for(let ae=0;ae<Q.length;ae++){const ue=Q[ae];ue instanceof it&&(ue.text=ue.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}F=ve.makeSpan(["mop"],Q,g)}else F=ve.makeSpan(["mop"],[],g);return P?A5(F,b,S,g,g.style,0,0):F};qe({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:(m,g)=>{let{parser:b,funcName:S}=m;const P=g[0];return{type:"operatorname",mode:b.mode,body:Fn(P),alwaysHandleSupSub:S==="\\operatornamewithlimits",limits:!1,parentIsSupSub:!1}},htmlBuilder:I5,mathmlBuilder:(m,g)=>{let b=Fr(m.body,g.withFont("mathrm")),S=!0;for(let F=0;F<b.length;F++){const H=b[F];if(!(H instanceof Ie.SpaceNode))if(H instanceof Ie.MathNode)switch(H.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":{const Q=H.children[0];H.children.length===1&&Q instanceof Ie.TextNode?Q.text=Q.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):S=!1;break}default:S=!1}else S=!1}if(S){const F=b.map(H=>H.toText()).join("");b=[new Ie.TextNode(F)]}const P=new Ie.MathNode("mi",b);P.setAttribute("mathvariant","normal");const L=new Ie.MathNode("mo",[pi("⁡","text")]);return m.parentIsSupSub?new Ie.MathNode("mrow",[P,L]):Ie.newDocumentFragment([P,L])}}),W("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@"),oo({type:"ordgroup",htmlBuilder(m,g){return m.semisimple?ve.makeFragment(Qn(m.body,g,!1)):ve.makeSpan(["mord"],Qn(m.body,g,!0),g)},mathmlBuilder(m,g){return rs(m.body,g,!0)}}),qe({type:"overline",names:["\\overline"],props:{numArgs:1},handler(m,g){let{parser:b}=m;const S=g[0];return{type:"overline",mode:b.mode,body:S}},htmlBuilder(m,g){const b=Pt(m.body,g.havingCrampedStyle()),S=ve.makeLineSpan("overline-line",g),P=g.fontMetrics().defaultRuleThickness,L=ve.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:b},{type:"kern",size:3*P},{type:"elem",elem:S},{type:"kern",size:P}]},g);return ve.makeSpan(["mord","overline"],[L],g)},mathmlBuilder(m,g){const b=new Ie.MathNode("mo",[new Ie.TextNode("‾")]);b.setAttribute("stretchy","true");const S=new Ie.MathNode("mover",[Zt(m.body,g),b]);return S.setAttribute("accent","true"),S}}),qe({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:(m,g)=>{let{parser:b}=m;const S=g[0];return{type:"phantom",mode:b.mode,body:Fn(S)}},htmlBuilder:(m,g)=>{const b=Qn(m.body,g.withPhantom(),!1);return ve.makeFragment(b)},mathmlBuilder:(m,g)=>{const b=Fr(m.body,g);return new Ie.MathNode("mphantom",b)}}),qe({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:(m,g)=>{let{parser:b}=m;const S=g[0];return{type:"hphantom",mode:b.mode,body:S}},htmlBuilder:(m,g)=>{let b=ve.makeSpan([],[Pt(m.body,g.withPhantom())]);if(b.height=0,b.depth=0,b.children)for(let S=0;S<b.children.length;S++)b.children[S].height=0,b.children[S].depth=0;return b=ve.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:b}]},g),ve.makeSpan(["mord"],[b],g)},mathmlBuilder:(m,g)=>{const b=Fr(Fn(m.body),g),S=new Ie.MathNode("mphantom",b),P=new Ie.MathNode("mpadded",[S]);return P.setAttribute("height","0px"),P.setAttribute("depth","0px"),P}}),qe({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:(m,g)=>{let{parser:b}=m;const S=g[0];return{type:"vphantom",mode:b.mode,body:S}},htmlBuilder:(m,g)=>{const b=ve.makeSpan(["inner"],[Pt(m.body,g.withPhantom())]),S=ve.makeSpan(["fix"],[]);return ve.makeSpan(["mord","rlap"],[b,S],g)},mathmlBuilder:(m,g)=>{const b=Fr(Fn(m.body),g),S=new Ie.MathNode("mphantom",b),P=new Ie.MathNode("mpadded",[S]);return P.setAttribute("width","0px"),P}}),qe({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(m,g){let{parser:b}=m;const S=yt(g[0],"size").value,P=g[1];return{type:"raisebox",mode:b.mode,dy:S,body:P}},htmlBuilder(m,g){const b=Pt(m.body,g),S=le(m.dy,g);return ve.makeVList({positionType:"shift",positionData:-S,children:[{type:"elem",elem:b}]},g)},mathmlBuilder(m,g){const b=new Ie.MathNode("mpadded",[Zt(m.body,g)]),S=m.dy.number+m.dy.unit;return b.setAttribute("voffset",S),b}}),qe({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0},handler(m){let{parser:g}=m;return{type:"internal",mode:g.mode}}}),qe({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,argTypes:["size","size","size"]},handler(m,g,b){let{parser:S}=m;const P=b[0],L=yt(g[0],"size"),F=yt(g[1],"size");return{type:"rule",mode:S.mode,shift:P&&yt(P,"size").value,width:L.value,height:F.value}},htmlBuilder(m,g){const b=ve.makeSpan(["mord","rule"],[],g),S=le(m.width,g),P=le(m.height,g),L=m.shift?le(m.shift,g):0;return b.style.borderRightWidth=ie(S),b.style.borderTopWidth=ie(P),b.style.bottom=ie(L),b.width=S,b.height=P+L,b.depth=-L,b.maxFontSize=P*1.125*g.sizeMultiplier,b},mathmlBuilder(m,g){const b=le(m.width,g),S=le(m.height,g),P=m.shift?le(m.shift,g):0,L=g.color&&g.getColor()||"black",F=new Ie.MathNode("mspace");F.setAttribute("mathbackground",L),F.setAttribute("width",ie(b)),F.setAttribute("height",ie(S));const H=new Ie.MathNode("mpadded",[F]);return P>=0?H.setAttribute("height",ie(P)):(H.setAttribute("height",ie(P)),H.setAttribute("depth",ie(-P))),H.setAttribute("voffset",ie(P)),H}});function L5(m,g,b){const S=Qn(m,g,!1),P=g.sizeMultiplier/b.sizeMultiplier;for(let L=0;L<S.length;L++){const F=S[L].classes.indexOf("sizing");F<0?Array.prototype.push.apply(S[L].classes,g.sizingClasses(b)):S[L].classes[F+1]==="reset-size"+g.size&&(S[L].classes[F+1]="reset-size"+b.size),S[L].height*=P,S[L].depth*=P}return ve.makeFragment(S)}const O5=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"];qe({type:"sizing",names:O5,props:{numArgs:0,allowedInText:!0},handler:(m,g)=>{let{breakOnTokenText:b,funcName:S,parser:P}=m;const L=P.parseExpression(!1,b);return{type:"sizing",mode:P.mode,size:O5.indexOf(S)+1,body:L}},htmlBuilder:(m,g)=>{const b=g.havingSize(m.size);return L5(m.body,b,g)},mathmlBuilder:(m,g)=>{const b=g.havingSize(m.size),S=Fr(m.body,b),P=new Ie.MathNode("mstyle",S);return P.setAttribute("mathsize",ie(b.sizeMultiplier)),P}}),qe({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:(m,g,b)=>{let{parser:S}=m,P=!1,L=!1;const F=b[0]&&yt(b[0],"ordgroup");if(F){let Q="";for(let ae=0;ae<F.body.length;++ae)if(Q=F.body[ae].text,Q==="t")P=!0;else if(Q==="b")L=!0;else{P=!1,L=!1;break}}else P=!0,L=!0;const H=g[0];return{type:"smash",mode:S.mode,body:H,smashHeight:P,smashDepth:L}},htmlBuilder:(m,g)=>{const b=ve.makeSpan([],[Pt(m.body,g)]);if(!m.smashHeight&&!m.smashDepth)return b;if(m.smashHeight&&(b.height=0,b.children))for(let P=0;P<b.children.length;P++)b.children[P].height=0;if(m.smashDepth&&(b.depth=0,b.children))for(let P=0;P<b.children.length;P++)b.children[P].depth=0;const S=ve.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:b}]},g);return ve.makeSpan(["mord"],[S],g)},mathmlBuilder:(m,g)=>{const b=new Ie.MathNode("mpadded",[Zt(m.body,g)]);return m.smashHeight&&b.setAttribute("height","0px"),m.smashDepth&&b.setAttribute("depth","0px"),b}}),qe({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(m,g,b){let{parser:S}=m;const P=b[0],L=g[0];return{type:"sqrt",mode:S.mode,body:L,index:P}},htmlBuilder(m,g){let b=Pt(m.body,g.havingCrampedStyle());b.height===0&&(b.height=g.fontMetrics().xHeight),b=ve.wrapFragment(b,g);const P=g.fontMetrics().defaultRuleThickness;let L=P;g.style.id<K.TEXT.id&&(L=g.fontMetrics().xHeight);let F=P+L/4;const H=b.height+b.depth+F+P,{span:Q,ruleWidth:ae,advanceWidth:ue}=_a.sqrtImage(H,g),pe=Q.height-ae;pe>b.height+b.depth+F&&(F=(F+pe-b.height-b.depth)/2);const we=Q.height-b.height-F-ae;b.style.paddingLeft=ie(ue);const De=ve.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:b,wrapperClasses:["svg-align"]},{type:"kern",size:-(b.height+we)},{type:"elem",elem:Q},{type:"kern",size:ae}]},g);if(m.index){const Ve=g.havingStyle(K.SCRIPTSCRIPT),Ze=Pt(m.index,Ve,g),Ct=.6*(De.height-De.depth),St=ve.makeVList({positionType:"shift",positionData:-Ct,children:[{type:"elem",elem:Ze}]},g),Et=ve.makeSpan(["root"],[St]);return ve.makeSpan(["mord","sqrt"],[Et,De],g)}else return ve.makeSpan(["mord","sqrt"],[De],g)},mathmlBuilder(m,g){const{body:b,index:S}=m;return S?new Ie.MathNode("mroot",[Zt(b,g),Zt(S,g)]):new Ie.MathNode("msqrt",[Zt(b,g)])}});const R5={display:K.DISPLAY,text:K.TEXT,script:K.SCRIPT,scriptscript:K.SCRIPTSCRIPT};qe({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(m,g){let{breakOnTokenText:b,funcName:S,parser:P}=m;const L=P.parseExpression(!0,b),F=S.slice(1,S.length-5);return{type:"styling",mode:P.mode,style:F,body:L}},htmlBuilder(m,g){const b=R5[m.style],S=g.havingStyle(b).withFont("");return L5(m.body,S,g)},mathmlBuilder(m,g){const b=R5[m.style],S=g.havingStyle(b),P=Fr(m.body,S),L=new Ie.MathNode("mstyle",P),H={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]}[m.style];return L.setAttribute("scriptlevel",H[0]),L.setAttribute("displaystyle",H[1]),L}});const HD=function(m,g){const b=m.base;return b?b.type==="op"?b.limits&&(g.style.size===K.DISPLAY.size||b.alwaysHandleSupSub)?fl:null:b.type==="operatorname"?b.alwaysHandleSupSub&&(g.style.size===K.DISPLAY.size||b.limits)?I5:null:b.type==="accent"?y.isCharacterBox(b.base)?im:null:b.type==="horizBrace"&&!m.sub===b.isOver?P5:null:null};oo({type:"supsub",htmlBuilder(m,g){const b=HD(m,g);if(b)return b(m,g);const{base:S,sup:P,sub:L}=m,F=Pt(S,g);let H,Q;const ae=g.fontMetrics();let ue=0,pe=0;const we=S&&y.isCharacterBox(S);if(P){const Ft=g.havingStyle(g.style.sup());H=Pt(P,Ft,g),we||(ue=F.height-Ft.fontMetrics().supDrop*Ft.sizeMultiplier/g.sizeMultiplier)}if(L){const Ft=g.havingStyle(g.style.sub());Q=Pt(L,Ft,g),we||(pe=F.depth+Ft.fontMetrics().subDrop*Ft.sizeMultiplier/g.sizeMultiplier)}let De;g.style===K.DISPLAY?De=ae.sup1:g.style.cramped?De=ae.sup3:De=ae.sup2;const Ve=g.sizeMultiplier,Ze=ie(.5/ae.ptPerEm/Ve);let Ct=null;if(Q){const Ft=m.base&&m.base.type==="op"&&m.base.name&&(m.base.name==="\\oiint"||m.base.name==="\\oiiint");(F instanceof it||Ft)&&(Ct=ie(-F.italic))}let St;if(H&&Q){ue=Math.max(ue,De,H.depth+.25*ae.xHeight),pe=Math.max(pe,ae.sub2);const nn=4*ae.defaultRuleThickness;if(ue-H.depth-(Q.height-pe)<nn){pe=nn-(ue-H.depth)+Q.height;const Zn=.8*ae.xHeight-(ue-H.depth);Zn>0&&(ue+=Zn,pe-=Zn)}const Ar=[{type:"elem",elem:Q,shift:pe,marginRight:Ze,marginLeft:Ct},{type:"elem",elem:H,shift:-ue,marginRight:Ze}];St=ve.makeVList({positionType:"individualShift",children:Ar},g)}else if(Q){pe=Math.max(pe,ae.sub1,Q.height-.8*ae.xHeight);const Ft=[{type:"elem",elem:Q,marginLeft:Ct,marginRight:Ze}];St=ve.makeVList({positionType:"shift",positionData:pe,children:Ft},g)}else if(H)ue=Math.max(ue,De,H.depth+.25*ae.xHeight),St=ve.makeVList({positionType:"shift",positionData:-ue,children:[{type:"elem",elem:H,marginRight:Ze}]},g);else throw new Error("supsub must have either sup or sub.");const Et=Jg(F,"right")||"mord";return ve.makeSpan([Et],[F,ve.makeSpan(["msupsub"],[St])],g)},mathmlBuilder(m,g){let b=!1,S,P;m.base&&m.base.type==="horizBrace"&&(P=!!m.sup,P===m.base.isOver&&(b=!0,S=m.base.isOver)),m.base&&(m.base.type==="op"||m.base.type==="operatorname")&&(m.base.parentIsSupSub=!0);const L=[Zt(m.base,g)];m.sub&&L.push(Zt(m.sub,g)),m.sup&&L.push(Zt(m.sup,g));let F;if(b)F=S?"mover":"munder";else if(m.sub)if(m.sup){const H=m.base;H&&H.type==="op"&&H.limits&&g.style===K.DISPLAY||H&&H.type==="operatorname"&&H.alwaysHandleSupSub&&(g.style===K.DISPLAY||H.limits)?F="munderover":F="msubsup"}else{const H=m.base;H&&H.type==="op"&&H.limits&&(g.style===K.DISPLAY||H.alwaysHandleSupSub)||H&&H.type==="operatorname"&&H.alwaysHandleSupSub&&(H.limits||g.style===K.DISPLAY)?F="munder":F="msub"}else{const H=m.base;H&&H.type==="op"&&H.limits&&(g.style===K.DISPLAY||H.alwaysHandleSupSub)||H&&H.type==="operatorname"&&H.alwaysHandleSupSub&&(H.limits||g.style===K.DISPLAY)?F="mover":F="msup"}return new Ie.MathNode(F,L)}}),oo({type:"atom",htmlBuilder(m,g){return ve.mathsym(m.text,m.mode,g,["m"+m.family])},mathmlBuilder(m,g){const b=new Ie.MathNode("mo",[pi(m.text,m.mode)]);if(m.family==="bin"){const S=nm(m,g);S==="bold-italic"&&b.setAttribute("mathvariant",S)}else m.family==="punct"?b.setAttribute("separator","true"):(m.family==="open"||m.family==="close")&&b.setAttribute("stretchy","false");return b}});const N5={mi:"italic",mn:"normal",mtext:"normal"};oo({type:"mathord",htmlBuilder(m,g){return ve.makeOrd(m,g,"mathord")},mathmlBuilder(m,g){const b=new Ie.MathNode("mi",[pi(m.text,m.mode,g)]),S=nm(m,g)||"italic";return S!==N5[b.type]&&b.setAttribute("mathvariant",S),b}}),oo({type:"textord",htmlBuilder(m,g){return ve.makeOrd(m,g,"textord")},mathmlBuilder(m,g){const b=pi(m.text,m.mode,g),S=nm(m,g)||"normal";let P;return m.mode==="text"?P=new Ie.MathNode("mtext",[b]):/[0-9]/.test(m.text)?P=new Ie.MathNode("mn",[b]):m.text==="\\prime"?P=new Ie.MathNode("mo",[b]):P=new Ie.MathNode("mi",[b]),S!==N5[P.type]&&P.setAttribute("mathvariant",S),P}});const bm={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},wm={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};oo({type:"spacing",htmlBuilder(m,g){if(wm.hasOwnProperty(m.text)){const b=wm[m.text].className||"";if(m.mode==="text"){const S=ve.makeOrd(m,g,"textord");return S.classes.push(b),S}else return ve.makeSpan(["mspace",b],[ve.mathsym(m.text,m.mode,g)],g)}else{if(bm.hasOwnProperty(m.text))return ve.makeSpan(["mspace",bm[m.text]],[],g);throw new a('Unknown type of space "'+m.text+'"')}},mathmlBuilder(m,g){let b;if(wm.hasOwnProperty(m.text))b=new Ie.MathNode("mtext",[new Ie.TextNode(" ")]);else{if(bm.hasOwnProperty(m.text))return new Ie.MathNode("mspace");throw new a('Unknown type of space "'+m.text+'"')}return b}});const z5=()=>{const m=new Ie.MathNode("mtd",[]);return m.setAttribute("width","50%"),m};oo({type:"tag",mathmlBuilder(m,g){const b=new Ie.MathNode("mtable",[new Ie.MathNode("mtr",[z5(),new Ie.MathNode("mtd",[rs(m.body,g)]),z5(),new Ie.MathNode("mtd",[rs(m.tag,g)])])]);return b.setAttribute("width","100%"),b}});const B5={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},F5={"\\textbf":"textbf","\\textmd":"textmd"},VD={"\\textit":"textit","\\textup":"textup"},$5=(m,g)=>{const b=m.font;return b?B5[b]?g.withTextFontFamily(B5[b]):F5[b]?g.withTextFontWeight(F5[b]):g.withTextFontShape(VD[b]):g};qe({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(m,g){let{parser:b,funcName:S}=m;const P=g[0];return{type:"text",mode:b.mode,body:Fn(P),font:S}},htmlBuilder(m,g){const b=$5(m,g),S=Qn(m.body,b,!0);return ve.makeSpan(["mord","text"],S,b)},mathmlBuilder(m,g){const b=$5(m,g);return rs(m.body,b)}}),qe({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(m,g){let{parser:b}=m;return{type:"underline",mode:b.mode,body:g[0]}},htmlBuilder(m,g){const b=Pt(m.body,g),S=ve.makeLineSpan("underline-line",g),P=g.fontMetrics().defaultRuleThickness,L=ve.makeVList({positionType:"top",positionData:b.height,children:[{type:"kern",size:P},{type:"elem",elem:S},{type:"kern",size:3*P},{type:"elem",elem:b}]},g);return ve.makeSpan(["mord","underline"],[L],g)},mathmlBuilder(m,g){const b=new Ie.MathNode("mo",[new Ie.TextNode("‾")]);b.setAttribute("stretchy","true");const S=new Ie.MathNode("munder",[Zt(m.body,g),b]);return S.setAttribute("accentunder","true"),S}}),qe({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(m,g){let{parser:b}=m;return{type:"vcenter",mode:b.mode,body:g[0]}},htmlBuilder(m,g){const b=Pt(m.body,g),S=g.fontMetrics().axisHeight,P=.5*(b.height-S-(b.depth+S));return ve.makeVList({positionType:"shift",positionData:P,children:[{type:"elem",elem:b}]},g)},mathmlBuilder(m,g){return new Ie.MathNode("mpadded",[Zt(m.body,g)],["vcenter"])}}),qe({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(m,g,b){throw new a("\\verb ended by end of line instead of matching delimiter")},htmlBuilder(m,g){const b=j5(m),S=[],P=g.havingStyle(g.style.text());for(let L=0;L<b.length;L++){let F=b[L];F==="~"&&(F="\\textasciitilde"),S.push(ve.makeSymbol(F,"Typewriter-Regular",m.mode,P,["mord","texttt"]))}return ve.makeSpan(["mord","text"].concat(P.sizingClasses(g)),ve.tryCombineChars(S),P)},mathmlBuilder(m,g){const b=new Ie.TextNode(j5(m)),S=new Ie.MathNode("mtext",[b]);return S.setAttribute("mathvariant","monospace"),S}});const j5=m=>m.body.replace(/ /g,m.star?"␣":" ");var as=Wb;const q5=`[ \r
	]`,UD="\\\\[a-zA-Z@]+",WD="\\\\[^\uD800-\uDFFF]",GD="("+UD+")"+q5+"*",YD=`\\\\(
|[ \r	]+
?)[ \r	]*`,km="[̀-ͯ]",XD=new RegExp(km+"+$"),KD="("+q5+"+)|"+(YD+"|")+"([!-\\[\\]-‧‪-퟿豈-￿]"+(km+"*")+"|[\uD800-\uDBFF][\uDC00-\uDFFF]"+(km+"*")+"|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5"+("|"+GD)+("|"+WD+")");class H5{constructor(g,b){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=g,this.settings=b,this.tokenRegex=new RegExp(KD,"g"),this.catcodes={"%":14,"~":13}}setCatcode(g,b){this.catcodes[g]=b}lex(){const g=this.input,b=this.tokenRegex.lastIndex;if(b===g.length)return new gi("EOF",new Jr(this,b,b));const S=this.tokenRegex.exec(g);if(S===null||S.index!==b)throw new a("Unexpected character: '"+g[b]+"'",new gi(g[b],new Jr(this,b,b+1)));const P=S[6]||S[3]||(S[2]?"\\ ":" ");if(this.catcodes[P]===14){const L=g.indexOf(`
`,this.tokenRegex.lastIndex);return L===-1?(this.tokenRegex.lastIndex=g.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=L+1,this.lex()}return new gi(P,new Jr(this,b,this.tokenRegex.lastIndex))}}class QD{constructor(g,b){g===void 0&&(g={}),b===void 0&&(b={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=b,this.builtins=g,this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(this.undefStack.length===0)throw new a("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");const g=this.undefStack.pop();for(const b in g)g.hasOwnProperty(b)&&(g[b]==null?delete this.current[b]:this.current[b]=g[b])}endGroups(){for(;this.undefStack.length>0;)this.endGroup()}has(g){return this.current.hasOwnProperty(g)||this.builtins.hasOwnProperty(g)}get(g){return this.current.hasOwnProperty(g)?this.current[g]:this.builtins[g]}set(g,b,S){if(S===void 0&&(S=!1),S){for(let P=0;P<this.undefStack.length;P++)delete this.undefStack[P][g];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][g]=b)}else{const P=this.undefStack[this.undefStack.length-1];P&&!P.hasOwnProperty(g)&&(P[g]=this.current[g])}b==null?delete this.current[g]:this.current[g]=b}}var ZD=y5;W("\\noexpand",function(m){const g=m.popToken();return m.isExpandable(g.text)&&(g.noexpand=!0,g.treatAsRelax=!0),{tokens:[g],numArgs:0}}),W("\\expandafter",function(m){const g=m.popToken();return m.expandOnce(!0),{tokens:[g],numArgs:0}}),W("\\@firstoftwo",function(m){return{tokens:m.consumeArgs(2)[0],numArgs:0}}),W("\\@secondoftwo",function(m){return{tokens:m.consumeArgs(2)[1],numArgs:0}}),W("\\@ifnextchar",function(m){const g=m.consumeArgs(3);m.consumeSpaces();const b=m.future();return g[0].length===1&&g[0][0].text===b.text?{tokens:g[1],numArgs:0}:{tokens:g[2],numArgs:0}}),W("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}"),W("\\TextOrMath",function(m){const g=m.consumeArgs(2);return m.mode==="text"?{tokens:g[0],numArgs:0}:{tokens:g[1],numArgs:0}});const V5={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};W("\\char",function(m){let g=m.popToken(),b,S="";if(g.text==="'")b=8,g=m.popToken();else if(g.text==='"')b=16,g=m.popToken();else if(g.text==="`")if(g=m.popToken(),g.text[0]==="\\")S=g.text.charCodeAt(1);else{if(g.text==="EOF")throw new a("\\char` missing argument");S=g.text.charCodeAt(0)}else b=10;if(b){if(S=V5[g.text],S==null||S>=b)throw new a("Invalid base-"+b+" digit "+g.text);let P;for(;(P=V5[m.future().text])!=null&&P<b;)S*=b,S+=P,m.popToken()}return"\\@char{"+S+"}"});const Sm=(m,g,b)=>{let S=m.consumeArg().tokens;if(S.length!==1)throw new a("\\newcommand's first argument must be a macro name");const P=S[0].text,L=m.isDefined(P);if(L&&!g)throw new a("\\newcommand{"+P+"} attempting to redefine "+(P+"; use \\renewcommand"));if(!L&&!b)throw new a("\\renewcommand{"+P+"} when command "+P+" does not yet exist; use \\newcommand");let F=0;if(S=m.consumeArg().tokens,S.length===1&&S[0].text==="["){let H="",Q=m.expandNextToken();for(;Q.text!=="]"&&Q.text!=="EOF";)H+=Q.text,Q=m.expandNextToken();if(!H.match(/^\s*[0-9]+\s*$/))throw new a("Invalid number of arguments: "+H);F=parseInt(H),S=m.consumeArg().tokens}return m.macros.set(P,{tokens:S,numArgs:F}),""};W("\\newcommand",m=>Sm(m,!1,!0)),W("\\renewcommand",m=>Sm(m,!0,!1)),W("\\providecommand",m=>Sm(m,!0,!0)),W("\\message",m=>{const g=m.consumeArgs(1)[0];return console.log(g.reverse().map(b=>b.text).join("")),""}),W("\\errmessage",m=>{const g=m.consumeArgs(1)[0];return console.error(g.reverse().map(b=>b.text).join("")),""}),W("\\show",m=>{const g=m.popToken(),b=g.text;return console.log(g,m.macros.get(b),as[b],mt.math[b],mt.text[b]),""}),W("\\bgroup","{"),W("\\egroup","}"),W("~","\\nobreakspace"),W("\\lq","`"),W("\\rq","'"),W("\\aa","\\r a"),W("\\AA","\\r A"),W("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`©}"),W("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}"),W("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`®}"),W("ℬ","\\mathscr{B}"),W("ℰ","\\mathscr{E}"),W("ℱ","\\mathscr{F}"),W("ℋ","\\mathscr{H}"),W("ℐ","\\mathscr{I}"),W("ℒ","\\mathscr{L}"),W("ℳ","\\mathscr{M}"),W("ℛ","\\mathscr{R}"),W("ℭ","\\mathfrak{C}"),W("ℌ","\\mathfrak{H}"),W("ℨ","\\mathfrak{Z}"),W("\\Bbbk","\\Bbb{k}"),W("·","\\cdotp"),W("\\llap","\\mathllap{\\textrm{#1}}"),W("\\rlap","\\mathrlap{\\textrm{#1}}"),W("\\clap","\\mathclap{\\textrm{#1}}"),W("\\mathstrut","\\vphantom{(}"),W("\\underbar","\\underline{\\text{#1}}"),W("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}'),W("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`≠}}"),W("\\ne","\\neq"),W("≠","\\neq"),W("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`∉}}"),W("∉","\\notin"),W("≘","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`≘}}"),W("≙","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`≘}}"),W("≚","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`≚}}"),W("≛","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`≛}}"),W("≝","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`≝}}"),W("≞","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`≞}}"),W("≟","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`≟}}"),W("⟂","\\perp"),W("‼","\\mathclose{!\\mkern-0.8mu!}"),W("∌","\\notni"),W("⌜","\\ulcorner"),W("⌝","\\urcorner"),W("⌞","\\llcorner"),W("⌟","\\lrcorner"),W("©","\\copyright"),W("®","\\textregistered"),W("️","\\textregistered"),W("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}'),W("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}'),W("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}'),W("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}'),W("\\vdots","\\mathord{\\varvdots\\rule{0pt}{15pt}}"),W("⋮","\\vdots"),W("\\varGamma","\\mathit{\\Gamma}"),W("\\varDelta","\\mathit{\\Delta}"),W("\\varTheta","\\mathit{\\Theta}"),W("\\varLambda","\\mathit{\\Lambda}"),W("\\varXi","\\mathit{\\Xi}"),W("\\varPi","\\mathit{\\Pi}"),W("\\varSigma","\\mathit{\\Sigma}"),W("\\varUpsilon","\\mathit{\\Upsilon}"),W("\\varPhi","\\mathit{\\Phi}"),W("\\varPsi","\\mathit{\\Psi}"),W("\\varOmega","\\mathit{\\Omega}"),W("\\substack","\\begin{subarray}{c}#1\\end{subarray}"),W("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax"),W("\\boxed","\\fbox{$\\displaystyle{#1}$}"),W("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;"),W("\\implies","\\DOTSB\\;\\Longrightarrow\\;"),W("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;");const U5={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};W("\\dots",function(m){let g="\\dotso";const b=m.expandAfterFuture().text;return b in U5?g=U5[b]:(b.slice(0,4)==="\\not"||b in mt.math&&y.contains(["bin","rel"],mt.math[b].group))&&(g="\\dotsb"),g});const _m={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};W("\\dotso",function(m){return m.future().text in _m?"\\ldots\\,":"\\ldots"}),W("\\dotsc",function(m){const g=m.future().text;return g in _m&&g!==","?"\\ldots\\,":"\\ldots"}),W("\\cdots",function(m){return m.future().text in _m?"\\@cdots\\,":"\\@cdots"}),W("\\dotsb","\\cdots"),W("\\dotsm","\\cdots"),W("\\dotsi","\\!\\cdots"),W("\\dotsx","\\ldots\\,"),W("\\DOTSI","\\relax"),W("\\DOTSB","\\relax"),W("\\DOTSX","\\relax"),W("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax"),W("\\,","\\tmspace+{3mu}{.1667em}"),W("\\thinspace","\\,"),W("\\>","\\mskip{4mu}"),W("\\:","\\tmspace+{4mu}{.2222em}"),W("\\medspace","\\:"),W("\\;","\\tmspace+{5mu}{.2777em}"),W("\\thickspace","\\;"),W("\\!","\\tmspace-{3mu}{.1667em}"),W("\\negthinspace","\\!"),W("\\negmedspace","\\tmspace-{4mu}{.2222em}"),W("\\negthickspace","\\tmspace-{5mu}{.277em}"),W("\\enspace","\\kern.5em "),W("\\enskip","\\hskip.5em\\relax"),W("\\quad","\\hskip1em\\relax"),W("\\qquad","\\hskip2em\\relax"),W("\\tag","\\@ifstar\\tag@literal\\tag@paren"),W("\\tag@paren","\\tag@literal{({#1})}"),W("\\tag@literal",m=>{if(m.macros.get("\\df@tag"))throw new a("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"}),W("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}"),W("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)"),W("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}"),W("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1"),W("\\newline","\\\\\\relax"),W("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");const W5=ie($e["Main-Regular"]["T".charCodeAt(0)][1]-.7*$e["Main-Regular"]["A".charCodeAt(0)][1]);W("\\LaTeX","\\textrm{\\html@mathml{"+("L\\kern-.36em\\raisebox{"+W5+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{LaTeX}}"),W("\\KaTeX","\\textrm{\\html@mathml{"+("K\\kern-.17em\\raisebox{"+W5+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{KaTeX}}"),W("\\hspace","\\@ifstar\\@hspacer\\@hspace"),W("\\@hspace","\\hskip #1\\relax"),W("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax"),W("\\ordinarycolon",":"),W("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}"),W("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}'),W("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}'),W("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}'),W("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}'),W("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}'),W("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}'),W("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}'),W("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}'),W("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}'),W("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}'),W("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}'),W("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}'),W("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}'),W("∷","\\dblcolon"),W("∹","\\eqcolon"),W("≔","\\coloneqq"),W("≕","\\eqqcolon"),W("⩴","\\Coloneqq"),W("\\ratio","\\vcentcolon"),W("\\coloncolon","\\dblcolon"),W("\\colonequals","\\coloneqq"),W("\\coloncolonequals","\\Coloneqq"),W("\\equalscolon","\\eqqcolon"),W("\\equalscoloncolon","\\Eqqcolon"),W("\\colonminus","\\coloneq"),W("\\coloncolonminus","\\Coloneq"),W("\\minuscolon","\\eqcolon"),W("\\minuscoloncolon","\\Eqcolon"),W("\\coloncolonapprox","\\Colonapprox"),W("\\coloncolonsim","\\Colonsim"),W("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}"),W("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}"),W("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}"),W("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}"),W("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`∌}}"),W("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}"),W("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}"),W("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}"),W("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}"),W("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}"),W("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}"),W("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}"),W("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}"),W("\\gvertneqq","\\html@mathml{\\@gvertneqq}{≩}"),W("\\lvertneqq","\\html@mathml{\\@lvertneqq}{≨}"),W("\\ngeqq","\\html@mathml{\\@ngeqq}{≱}"),W("\\ngeqslant","\\html@mathml{\\@ngeqslant}{≱}"),W("\\nleqq","\\html@mathml{\\@nleqq}{≰}"),W("\\nleqslant","\\html@mathml{\\@nleqslant}{≰}"),W("\\nshortmid","\\html@mathml{\\@nshortmid}{∤}"),W("\\nshortparallel","\\html@mathml{\\@nshortparallel}{∦}"),W("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{⊈}"),W("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{⊉}"),W("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{⊊}"),W("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{⫋}"),W("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{⊋}"),W("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{⫌}"),W("\\imath","\\html@mathml{\\@imath}{ı}"),W("\\jmath","\\html@mathml{\\@jmath}{ȷ}"),W("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`⟦}}"),W("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`⟧}}"),W("⟦","\\llbracket"),W("⟧","\\rrbracket"),W("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`⦃}}"),W("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`⦄}}"),W("⦃","\\lBrace"),W("⦄","\\rBrace"),W("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`⦵}}"),W("⦵","\\minuso"),W("\\darr","\\downarrow"),W("\\dArr","\\Downarrow"),W("\\Darr","\\Downarrow"),W("\\lang","\\langle"),W("\\rang","\\rangle"),W("\\uarr","\\uparrow"),W("\\uArr","\\Uparrow"),W("\\Uarr","\\Uparrow"),W("\\N","\\mathbb{N}"),W("\\R","\\mathbb{R}"),W("\\Z","\\mathbb{Z}"),W("\\alef","\\aleph"),W("\\alefsym","\\aleph"),W("\\Alpha","\\mathrm{A}"),W("\\Beta","\\mathrm{B}"),W("\\bull","\\bullet"),W("\\Chi","\\mathrm{X}"),W("\\clubs","\\clubsuit"),W("\\cnums","\\mathbb{C}"),W("\\Complex","\\mathbb{C}"),W("\\Dagger","\\ddagger"),W("\\diamonds","\\diamondsuit"),W("\\empty","\\emptyset"),W("\\Epsilon","\\mathrm{E}"),W("\\Eta","\\mathrm{H}"),W("\\exist","\\exists"),W("\\harr","\\leftrightarrow"),W("\\hArr","\\Leftrightarrow"),W("\\Harr","\\Leftrightarrow"),W("\\hearts","\\heartsuit"),W("\\image","\\Im"),W("\\infin","\\infty"),W("\\Iota","\\mathrm{I}"),W("\\isin","\\in"),W("\\Kappa","\\mathrm{K}"),W("\\larr","\\leftarrow"),W("\\lArr","\\Leftarrow"),W("\\Larr","\\Leftarrow"),W("\\lrarr","\\leftrightarrow"),W("\\lrArr","\\Leftrightarrow"),W("\\Lrarr","\\Leftrightarrow"),W("\\Mu","\\mathrm{M}"),W("\\natnums","\\mathbb{N}"),W("\\Nu","\\mathrm{N}"),W("\\Omicron","\\mathrm{O}"),W("\\plusmn","\\pm"),W("\\rarr","\\rightarrow"),W("\\rArr","\\Rightarrow"),W("\\Rarr","\\Rightarrow"),W("\\real","\\Re"),W("\\reals","\\mathbb{R}"),W("\\Reals","\\mathbb{R}"),W("\\Rho","\\mathrm{P}"),W("\\sdot","\\cdot"),W("\\sect","\\S"),W("\\spades","\\spadesuit"),W("\\sub","\\subset"),W("\\sube","\\subseteq"),W("\\supe","\\supseteq"),W("\\Tau","\\mathrm{T}"),W("\\thetasym","\\vartheta"),W("\\weierp","\\wp"),W("\\Zeta","\\mathrm{Z}"),W("\\argmin","\\DOTSB\\operatorname*{arg\\,min}"),W("\\argmax","\\DOTSB\\operatorname*{arg\\,max}"),W("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits"),W("\\bra","\\mathinner{\\langle{#1}|}"),W("\\ket","\\mathinner{|{#1}\\rangle}"),W("\\braket","\\mathinner{\\langle{#1}\\rangle}"),W("\\Bra","\\left\\langle#1\\right|"),W("\\Ket","\\left|#1\\right\\rangle");const G5=m=>g=>{const b=g.consumeArg().tokens,S=g.consumeArg().tokens,P=g.consumeArg().tokens,L=g.consumeArg().tokens,F=g.macros.get("|"),H=g.macros.get("\\|");g.macros.beginGroup();const Q=pe=>we=>{m&&(we.macros.set("|",F),P.length&&we.macros.set("\\|",H));let De=pe;return!pe&&P.length&&we.future().text==="|"&&(we.popToken(),De=!0),{tokens:De?P:S,numArgs:0}};g.macros.set("|",Q(!1)),P.length&&g.macros.set("\\|",Q(!0));const ae=g.consumeArg().tokens,ue=g.expandTokens([...L,...ae,...b]);return g.macros.endGroup(),{tokens:ue.reverse(),numArgs:0}};W("\\bra@ket",G5(!1)),W("\\bra@set",G5(!0)),W("\\Braket","\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}"),W("\\Set","\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}"),W("\\set","\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}"),W("\\angln","{\\angl n}"),W("\\blue","\\textcolor{##6495ed}{#1}"),W("\\orange","\\textcolor{##ffa500}{#1}"),W("\\pink","\\textcolor{##ff00af}{#1}"),W("\\red","\\textcolor{##df0030}{#1}"),W("\\green","\\textcolor{##28ae7b}{#1}"),W("\\gray","\\textcolor{gray}{#1}"),W("\\purple","\\textcolor{##9d38bd}{#1}"),W("\\blueA","\\textcolor{##ccfaff}{#1}"),W("\\blueB","\\textcolor{##80f6ff}{#1}"),W("\\blueC","\\textcolor{##63d9ea}{#1}"),W("\\blueD","\\textcolor{##11accd}{#1}"),W("\\blueE","\\textcolor{##0c7f99}{#1}"),W("\\tealA","\\textcolor{##94fff5}{#1}"),W("\\tealB","\\textcolor{##26edd5}{#1}"),W("\\tealC","\\textcolor{##01d1c1}{#1}"),W("\\tealD","\\textcolor{##01a995}{#1}"),W("\\tealE","\\textcolor{##208170}{#1}"),W("\\greenA","\\textcolor{##b6ffb0}{#1}"),W("\\greenB","\\textcolor{##8af281}{#1}"),W("\\greenC","\\textcolor{##74cf70}{#1}"),W("\\greenD","\\textcolor{##1fab54}{#1}"),W("\\greenE","\\textcolor{##0d923f}{#1}"),W("\\goldA","\\textcolor{##ffd0a9}{#1}"),W("\\goldB","\\textcolor{##ffbb71}{#1}"),W("\\goldC","\\textcolor{##ff9c39}{#1}"),W("\\goldD","\\textcolor{##e07d10}{#1}"),W("\\goldE","\\textcolor{##a75a05}{#1}"),W("\\redA","\\textcolor{##fca9a9}{#1}"),W("\\redB","\\textcolor{##ff8482}{#1}"),W("\\redC","\\textcolor{##f9685d}{#1}"),W("\\redD","\\textcolor{##e84d39}{#1}"),W("\\redE","\\textcolor{##bc2612}{#1}"),W("\\maroonA","\\textcolor{##ffbde0}{#1}"),W("\\maroonB","\\textcolor{##ff92c6}{#1}"),W("\\maroonC","\\textcolor{##ed5fa6}{#1}"),W("\\maroonD","\\textcolor{##ca337c}{#1}"),W("\\maroonE","\\textcolor{##9e034e}{#1}"),W("\\purpleA","\\textcolor{##ddd7ff}{#1}"),W("\\purpleB","\\textcolor{##c6b9fc}{#1}"),W("\\purpleC","\\textcolor{##aa87ff}{#1}"),W("\\purpleD","\\textcolor{##7854ab}{#1}"),W("\\purpleE","\\textcolor{##543b78}{#1}"),W("\\mintA","\\textcolor{##f5f9e8}{#1}"),W("\\mintB","\\textcolor{##edf2df}{#1}"),W("\\mintC","\\textcolor{##e0e5cc}{#1}"),W("\\grayA","\\textcolor{##f6f7f7}{#1}"),W("\\grayB","\\textcolor{##f0f1f2}{#1}"),W("\\grayC","\\textcolor{##e3e5e6}{#1}"),W("\\grayD","\\textcolor{##d6d8da}{#1}"),W("\\grayE","\\textcolor{##babec2}{#1}"),W("\\grayF","\\textcolor{##888d93}{#1}"),W("\\grayG","\\textcolor{##626569}{#1}"),W("\\grayH","\\textcolor{##3b3e40}{#1}"),W("\\grayI","\\textcolor{##21242c}{#1}"),W("\\kaBlue","\\textcolor{##314453}{#1}"),W("\\kaGreen","\\textcolor{##71B307}{#1}");const Y5={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0};class JD{constructor(g,b,S){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=b,this.expansionCount=0,this.feed(g),this.macros=new QD(ZD,b.macros),this.mode=S,this.stack=[]}feed(g){this.lexer=new H5(g,this.settings)}switchMode(g){this.mode=g}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){return this.stack.length===0&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]}popToken(){return this.future(),this.stack.pop()}pushToken(g){this.stack.push(g)}pushTokens(g){this.stack.push(...g)}scanArgument(g){let b,S,P;if(g){if(this.consumeSpaces(),this.future().text!=="[")return null;b=this.popToken(),{tokens:P,end:S}=this.consumeArg(["]"])}else({tokens:P,start:b,end:S}=this.consumeArg());return this.pushToken(new gi("EOF",S.loc)),this.pushTokens(P),b.range(S,"")}consumeSpaces(){for(;this.future().text===" ";)this.stack.pop()}consumeArg(g){const b=[],S=g&&g.length>0;S||this.consumeSpaces();const P=this.future();let L,F=0,H=0;do{if(L=this.popToken(),b.push(L),L.text==="{")++F;else if(L.text==="}"){if(--F,F===-1)throw new a("Extra }",L)}else if(L.text==="EOF")throw new a("Unexpected end of input in a macro argument, expected '"+(g&&S?g[H]:"}")+"'",L);if(g&&S)if((F===0||F===1&&g[H]==="{")&&L.text===g[H]){if(++H,H===g.length){b.splice(-H,H);break}}else H=0}while(F!==0||S);return P.text==="{"&&b[b.length-1].text==="}"&&(b.pop(),b.shift()),b.reverse(),{tokens:b,start:P,end:L}}consumeArgs(g,b){if(b){if(b.length!==g+1)throw new a("The length of delimiters doesn't match the number of args!");const P=b[0];for(let L=0;L<P.length;L++){const F=this.popToken();if(P[L]!==F.text)throw new a("Use of the macro doesn't match its definition",F)}}const S=[];for(let P=0;P<g;P++)S.push(this.consumeArg(b&&b[P+1]).tokens);return S}countExpansion(g){if(this.expansionCount+=g,this.expansionCount>this.settings.maxExpand)throw new a("Too many expansions: infinite loop or need to increase maxExpand setting")}expandOnce(g){const b=this.popToken(),S=b.text,P=b.noexpand?null:this._getExpansion(S);if(P==null||g&&P.unexpandable){if(g&&P==null&&S[0]==="\\"&&!this.isDefined(S))throw new a("Undefined control sequence: "+S);return this.pushToken(b),!1}this.countExpansion(1);let L=P.tokens;const F=this.consumeArgs(P.numArgs,P.delimiters);if(P.numArgs){L=L.slice();for(let H=L.length-1;H>=0;--H){let Q=L[H];if(Q.text==="#"){if(H===0)throw new a("Incomplete placeholder at end of macro body",Q);if(Q=L[--H],Q.text==="#")L.splice(H+1,1);else if(/^[1-9]$/.test(Q.text))L.splice(H,2,...F[+Q.text-1]);else throw new a("Not a valid argument number",Q)}}}return this.pushTokens(L),L.length}expandAfterFuture(){return this.expandOnce(),this.future()}expandNextToken(){for(;;)if(this.expandOnce()===!1){const g=this.stack.pop();return g.treatAsRelax&&(g.text="\\relax"),g}throw new Error}expandMacro(g){return this.macros.has(g)?this.expandTokens([new gi(g)]):void 0}expandTokens(g){const b=[],S=this.stack.length;for(this.pushTokens(g);this.stack.length>S;)if(this.expandOnce(!0)===!1){const P=this.stack.pop();P.treatAsRelax&&(P.noexpand=!1,P.treatAsRelax=!1),b.push(P)}return this.countExpansion(b.length),b}expandMacroAsText(g){const b=this.expandMacro(g);return b&&b.map(S=>S.text).join("")}_getExpansion(g){const b=this.macros.get(g);if(b==null)return b;if(g.length===1){const P=this.lexer.catcodes[g];if(P!=null&&P!==13)return}const S=typeof b=="function"?b(this):b;if(typeof S=="string"){let P=0;if(S.indexOf("#")!==-1){const ae=S.replace(/##/g,"");for(;ae.indexOf("#"+(P+1))!==-1;)++P}const L=new H5(S,this.settings),F=[];let H=L.lex();for(;H.text!=="EOF";)F.push(H),H=L.lex();return F.reverse(),{tokens:F,numArgs:P}}return S}isDefined(g){return this.macros.has(g)||as.hasOwnProperty(g)||mt.math.hasOwnProperty(g)||mt.text.hasOwnProperty(g)||Y5.hasOwnProperty(g)}isExpandable(g){const b=this.macros.get(g);return b!=null?typeof b=="string"||typeof b=="function"||!b.unexpandable:as.hasOwnProperty(g)&&!as[g].primitive}}const X5=/^[₊₋₌₍₎₀₁₂₃₄₅₆₇₈₉ₐₑₕᵢⱼₖₗₘₙₒₚᵣₛₜᵤᵥₓᵦᵧᵨᵩᵪ]/,z0=Object.freeze({"₊":"+","₋":"-","₌":"=","₍":"(","₎":")","₀":"0","₁":"1","₂":"2","₃":"3","₄":"4","₅":"5","₆":"6","₇":"7","₈":"8","₉":"9","ₐ":"a","ₑ":"e","ₕ":"h","ᵢ":"i","ⱼ":"j","ₖ":"k","ₗ":"l","ₘ":"m","ₙ":"n","ₒ":"o","ₚ":"p","ᵣ":"r","ₛ":"s","ₜ":"t","ᵤ":"u","ᵥ":"v","ₓ":"x","ᵦ":"β","ᵧ":"γ","ᵨ":"ρ","ᵩ":"ϕ","ᵪ":"χ","⁺":"+","⁻":"-","⁼":"=","⁽":"(","⁾":")","⁰":"0","¹":"1","²":"2","³":"3","⁴":"4","⁵":"5","⁶":"6","⁷":"7","⁸":"8","⁹":"9","ᴬ":"A","ᴮ":"B","ᴰ":"D","ᴱ":"E","ᴳ":"G","ᴴ":"H","ᴵ":"I","ᴶ":"J","ᴷ":"K","ᴸ":"L","ᴹ":"M","ᴺ":"N","ᴼ":"O","ᴾ":"P","ᴿ":"R","ᵀ":"T","ᵁ":"U","ⱽ":"V","ᵂ":"W","ᵃ":"a","ᵇ":"b","ᶜ":"c","ᵈ":"d","ᵉ":"e","ᶠ":"f","ᵍ":"g",ʰ:"h","ⁱ":"i",ʲ:"j","ᵏ":"k",ˡ:"l","ᵐ":"m",ⁿ:"n","ᵒ":"o","ᵖ":"p",ʳ:"r",ˢ:"s","ᵗ":"t","ᵘ":"u","ᵛ":"v",ʷ:"w",ˣ:"x",ʸ:"y","ᶻ":"z","ᵝ":"β","ᵞ":"γ","ᵟ":"δ","ᵠ":"ϕ","ᵡ":"χ","ᶿ":"θ"}),Cm={"́":{text:"\\'",math:"\\acute"},"̀":{text:"\\`",math:"\\grave"},"̈":{text:'\\"',math:"\\ddot"},"̃":{text:"\\~",math:"\\tilde"},"̄":{text:"\\=",math:"\\bar"},"̆":{text:"\\u",math:"\\breve"},"̌":{text:"\\v",math:"\\check"},"̂":{text:"\\^",math:"\\hat"},"̇":{text:"\\.",math:"\\dot"},"̊":{text:"\\r",math:"\\mathring"},"̋":{text:"\\H"},"̧":{text:"\\c"}},K5={á:"á",à:"à",ä:"ä",ǟ:"ǟ",ã:"ã",ā:"ā",ă:"ă",ắ:"ắ",ằ:"ằ",ẵ:"ẵ",ǎ:"ǎ",â:"â",ấ:"ấ",ầ:"ầ",ẫ:"ẫ",ȧ:"ȧ",ǡ:"ǡ",å:"å",ǻ:"ǻ",ḃ:"ḃ",ć:"ć",ḉ:"ḉ",č:"č",ĉ:"ĉ",ċ:"ċ",ç:"ç",ď:"ď",ḋ:"ḋ",ḑ:"ḑ",é:"é",è:"è",ë:"ë",ẽ:"ẽ",ē:"ē",ḗ:"ḗ",ḕ:"ḕ",ĕ:"ĕ",ḝ:"ḝ",ě:"ě",ê:"ê",ế:"ế",ề:"ề",ễ:"ễ",ė:"ė",ȩ:"ȩ",ḟ:"ḟ",ǵ:"ǵ",ḡ:"ḡ",ğ:"ğ",ǧ:"ǧ",ĝ:"ĝ",ġ:"ġ",ģ:"ģ",ḧ:"ḧ",ȟ:"ȟ",ĥ:"ĥ",ḣ:"ḣ",ḩ:"ḩ",í:"í",ì:"ì",ï:"ï",ḯ:"ḯ",ĩ:"ĩ",ī:"ī",ĭ:"ĭ",ǐ:"ǐ",î:"î",ǰ:"ǰ",ĵ:"ĵ",ḱ:"ḱ",ǩ:"ǩ",ķ:"ķ",ĺ:"ĺ",ľ:"ľ",ļ:"ļ",ḿ:"ḿ",ṁ:"ṁ",ń:"ń",ǹ:"ǹ",ñ:"ñ",ň:"ň",ṅ:"ṅ",ņ:"ņ",ó:"ó",ò:"ò",ö:"ö",ȫ:"ȫ",õ:"õ",ṍ:"ṍ",ṏ:"ṏ",ȭ:"ȭ",ō:"ō",ṓ:"ṓ",ṑ:"ṑ",ŏ:"ŏ",ǒ:"ǒ",ô:"ô",ố:"ố",ồ:"ồ",ỗ:"ỗ",ȯ:"ȯ",ȱ:"ȱ",ő:"ő",ṕ:"ṕ",ṗ:"ṗ",ŕ:"ŕ",ř:"ř",ṙ:"ṙ",ŗ:"ŗ",ś:"ś",ṥ:"ṥ",š:"š",ṧ:"ṧ",ŝ:"ŝ",ṡ:"ṡ",ş:"ş",ẗ:"ẗ",ť:"ť",ṫ:"ṫ",ţ:"ţ",ú:"ú",ù:"ù",ü:"ü",ǘ:"ǘ",ǜ:"ǜ",ǖ:"ǖ",ǚ:"ǚ",ũ:"ũ",ṹ:"ṹ",ū:"ū",ṻ:"ṻ",ŭ:"ŭ",ǔ:"ǔ",û:"û",ů:"ů",ű:"ű",ṽ:"ṽ",ẃ:"ẃ",ẁ:"ẁ",ẅ:"ẅ",ŵ:"ŵ",ẇ:"ẇ",ẘ:"ẘ",ẍ:"ẍ",ẋ:"ẋ",ý:"ý",ỳ:"ỳ",ÿ:"ÿ",ỹ:"ỹ",ȳ:"ȳ",ŷ:"ŷ",ẏ:"ẏ",ẙ:"ẙ",ź:"ź",ž:"ž",ẑ:"ẑ",ż:"ż",Á:"Á",À:"À",Ä:"Ä",Ǟ:"Ǟ",Ã:"Ã",Ā:"Ā",Ă:"Ă",Ắ:"Ắ",Ằ:"Ằ",Ẵ:"Ẵ",Ǎ:"Ǎ",Â:"Â",Ấ:"Ấ",Ầ:"Ầ",Ẫ:"Ẫ",Ȧ:"Ȧ",Ǡ:"Ǡ",Å:"Å",Ǻ:"Ǻ",Ḃ:"Ḃ",Ć:"Ć",Ḉ:"Ḉ",Č:"Č",Ĉ:"Ĉ",Ċ:"Ċ",Ç:"Ç",Ď:"Ď",Ḋ:"Ḋ",Ḑ:"Ḑ",É:"É",È:"È",Ë:"Ë",Ẽ:"Ẽ",Ē:"Ē",Ḗ:"Ḗ",Ḕ:"Ḕ",Ĕ:"Ĕ",Ḝ:"Ḝ",Ě:"Ě",Ê:"Ê",Ế:"Ế",Ề:"Ề",Ễ:"Ễ",Ė:"Ė",Ȩ:"Ȩ",Ḟ:"Ḟ",Ǵ:"Ǵ",Ḡ:"Ḡ",Ğ:"Ğ",Ǧ:"Ǧ",Ĝ:"Ĝ",Ġ:"Ġ",Ģ:"Ģ",Ḧ:"Ḧ",Ȟ:"Ȟ",Ĥ:"Ĥ",Ḣ:"Ḣ",Ḩ:"Ḩ",Í:"Í",Ì:"Ì",Ï:"Ï",Ḯ:"Ḯ",Ĩ:"Ĩ",Ī:"Ī",Ĭ:"Ĭ",Ǐ:"Ǐ",Î:"Î",İ:"İ",Ĵ:"Ĵ",Ḱ:"Ḱ",Ǩ:"Ǩ",Ķ:"Ķ",Ĺ:"Ĺ",Ľ:"Ľ",Ļ:"Ļ",Ḿ:"Ḿ",Ṁ:"Ṁ",Ń:"Ń",Ǹ:"Ǹ",Ñ:"Ñ",Ň:"Ň",Ṅ:"Ṅ",Ņ:"Ņ",Ó:"Ó",Ò:"Ò",Ö:"Ö",Ȫ:"Ȫ",Õ:"Õ",Ṍ:"Ṍ",Ṏ:"Ṏ",Ȭ:"Ȭ",Ō:"Ō",Ṓ:"Ṓ",Ṑ:"Ṑ",Ŏ:"Ŏ",Ǒ:"Ǒ",Ô:"Ô",Ố:"Ố",Ồ:"Ồ",Ỗ:"Ỗ",Ȯ:"Ȯ",Ȱ:"Ȱ",Ő:"Ő",Ṕ:"Ṕ",Ṗ:"Ṗ",Ŕ:"Ŕ",Ř:"Ř",Ṙ:"Ṙ",Ŗ:"Ŗ",Ś:"Ś",Ṥ:"Ṥ",Š:"Š",Ṧ:"Ṧ",Ŝ:"Ŝ",Ṡ:"Ṡ",Ş:"Ş",Ť:"Ť",Ṫ:"Ṫ",Ţ:"Ţ",Ú:"Ú",Ù:"Ù",Ü:"Ü",Ǘ:"Ǘ",Ǜ:"Ǜ",Ǖ:"Ǖ",Ǚ:"Ǚ",Ũ:"Ũ",Ṹ:"Ṹ",Ū:"Ū",Ṻ:"Ṻ",Ŭ:"Ŭ",Ǔ:"Ǔ",Û:"Û",Ů:"Ů",Ű:"Ű",Ṽ:"Ṽ",Ẃ:"Ẃ",Ẁ:"Ẁ",Ẅ:"Ẅ",Ŵ:"Ŵ",Ẇ:"Ẇ",Ẍ:"Ẍ",Ẋ:"Ẋ",Ý:"Ý",Ỳ:"Ỳ",Ÿ:"Ÿ",Ỹ:"Ỹ",Ȳ:"Ȳ",Ŷ:"Ŷ",Ẏ:"Ẏ",Ź:"Ź",Ž:"Ž",Ẑ:"Ẑ",Ż:"Ż",ά:"ά",ὰ:"ὰ",ᾱ:"ᾱ",ᾰ:"ᾰ",έ:"έ",ὲ:"ὲ",ή:"ή",ὴ:"ὴ",ί:"ί",ὶ:"ὶ",ϊ:"ϊ",ΐ:"ΐ",ῒ:"ῒ",ῑ:"ῑ",ῐ:"ῐ",ό:"ό",ὸ:"ὸ",ύ:"ύ",ὺ:"ὺ",ϋ:"ϋ",ΰ:"ΰ",ῢ:"ῢ",ῡ:"ῡ",ῠ:"ῠ",ώ:"ώ",ὼ:"ὼ",Ύ:"Ύ",Ὺ:"Ὺ",Ϋ:"Ϋ",Ῡ:"Ῡ",Ῠ:"Ῠ",Ώ:"Ώ",Ὼ:"Ὼ"};class B0{constructor(g,b){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new JD(g,b,this.mode),this.settings=b,this.leftrightDepth=0}expect(g,b){if(b===void 0&&(b=!0),this.fetch().text!==g)throw new a("Expected '"+g+"', got '"+this.fetch().text+"'",this.fetch());b&&this.consume()}consume(){this.nextToken=null}fetch(){return this.nextToken==null&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken}switchMode(g){this.mode=g,this.gullet.switchMode(g)}parse(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{const g=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),g}finally{this.gullet.endGroups()}}subparse(g){const b=this.nextToken;this.consume(),this.gullet.pushToken(new gi("}")),this.gullet.pushTokens(g);const S=this.parseExpression(!1);return this.expect("}"),this.nextToken=b,S}parseExpression(g,b){const S=[];for(;;){this.mode==="math"&&this.consumeSpaces();const P=this.fetch();if(B0.endOfExpression.indexOf(P.text)!==-1||b&&P.text===b||g&&as[P.text]&&as[P.text].infix)break;const L=this.parseAtom(b);if(L){if(L.type==="internal")continue}else break;S.push(L)}return this.mode==="text"&&this.formLigatures(S),this.handleInfixNodes(S)}handleInfixNodes(g){let b=-1,S;for(let P=0;P<g.length;P++)if(g[P].type==="infix"){if(b!==-1)throw new a("only one infix operator per group",g[P].token);b=P,S=g[P].replaceWith}if(b!==-1&&S){let P,L;const F=g.slice(0,b),H=g.slice(b+1);F.length===1&&F[0].type==="ordgroup"?P=F[0]:P={type:"ordgroup",mode:this.mode,body:F},H.length===1&&H[0].type==="ordgroup"?L=H[0]:L={type:"ordgroup",mode:this.mode,body:H};let Q;return S==="\\\\abovefrac"?Q=this.callFunction(S,[P,g[b],L],[]):Q=this.callFunction(S,[P,L],[]),[Q]}else return g}handleSupSubscript(g){const b=this.fetch(),S=b.text;this.consume(),this.consumeSpaces();const P=this.parseGroup(g);if(!P)throw new a("Expected group after '"+S+"'",b);return P}formatUnsupportedCmd(g){const b=[];for(let L=0;L<g.length;L++)b.push({type:"textord",mode:"text",text:g[L]});const S={type:"text",mode:this.mode,body:b};return{type:"color",mode:this.mode,color:this.settings.errorColor,body:[S]}}parseAtom(g){const b=this.parseGroup("atom",g);if(this.mode==="text")return b;let S,P;for(;;){this.consumeSpaces();const L=this.fetch();if(L.text==="\\limits"||L.text==="\\nolimits"){if(b&&b.type==="op"){const F=L.text==="\\limits";b.limits=F,b.alwaysHandleSupSub=!0}else if(b&&b.type==="operatorname")b.alwaysHandleSupSub&&(b.limits=L.text==="\\limits");else throw new a("Limit controls must follow a math operator",L);this.consume()}else if(L.text==="^"){if(S)throw new a("Double superscript",L);S=this.handleSupSubscript("superscript")}else if(L.text==="_"){if(P)throw new a("Double subscript",L);P=this.handleSupSubscript("subscript")}else if(L.text==="'"){if(S)throw new a("Double superscript",L);const F={type:"textord",mode:this.mode,text:"\\prime"},H=[F];for(this.consume();this.fetch().text==="'";)H.push(F),this.consume();this.fetch().text==="^"&&H.push(this.handleSupSubscript("superscript")),S={type:"ordgroup",mode:this.mode,body:H}}else if(z0[L.text]){const F=X5.test(L.text),H=[];for(H.push(new gi(z0[L.text])),this.consume();;){const ae=this.fetch().text;if(!z0[ae]||X5.test(ae)!==F)break;H.unshift(new gi(z0[ae])),this.consume()}const Q=this.subparse(H);F?P={type:"ordgroup",mode:"math",body:Q}:S={type:"ordgroup",mode:"math",body:Q}}else break}return S||P?{type:"supsub",mode:this.mode,base:b,sup:S,sub:P}:b}parseFunction(g,b){const S=this.fetch(),P=S.text,L=as[P];if(!L)return null;if(this.consume(),b&&b!=="atom"&&!L.allowedInArgument)throw new a("Got function '"+P+"' with no arguments"+(b?" as "+b:""),S);if(this.mode==="text"&&!L.allowedInText)throw new a("Can't use function '"+P+"' in text mode",S);if(this.mode==="math"&&L.allowedInMath===!1)throw new a("Can't use function '"+P+"' in math mode",S);const{args:F,optArgs:H}=this.parseArguments(P,L);return this.callFunction(P,F,H,S,g)}callFunction(g,b,S,P,L){const F={funcName:g,parser:this,token:P,breakOnTokenText:L},H=as[g];if(H&&H.handler)return H.handler(F,b,S);throw new a("No function handler for "+g)}parseArguments(g,b){const S=b.numArgs+b.numOptionalArgs;if(S===0)return{args:[],optArgs:[]};const P=[],L=[];for(let F=0;F<S;F++){let H=b.argTypes&&b.argTypes[F];const Q=F<b.numOptionalArgs;(b.primitive&&H==null||b.type==="sqrt"&&F===1&&L[0]==null)&&(H="primitive");const ae=this.parseGroupOfType("argument to '"+g+"'",H,Q);if(Q)L.push(ae);else if(ae!=null)P.push(ae);else throw new a("Null argument, please report this as a bug")}return{args:P,optArgs:L}}parseGroupOfType(g,b,S){switch(b){case"color":return this.parseColorGroup(S);case"size":return this.parseSizeGroup(S);case"url":return this.parseUrlGroup(S);case"math":case"text":return this.parseArgumentGroup(S,b);case"hbox":{const P=this.parseArgumentGroup(S,"text");return P!=null?{type:"styling",mode:P.mode,body:[P],style:"text"}:null}case"raw":{const P=this.parseStringGroup("raw",S);return P!=null?{type:"raw",mode:"text",string:P.text}:null}case"primitive":{if(S)throw new a("A primitive argument cannot be optional");const P=this.parseGroup(g);if(P==null)throw new a("Expected group as "+g,this.fetch());return P}case"original":case null:case void 0:return this.parseArgumentGroup(S);default:throw new a("Unknown group type as "+g,this.fetch())}}consumeSpaces(){for(;this.fetch().text===" ";)this.consume()}parseStringGroup(g,b){const S=this.gullet.scanArgument(b);if(S==null)return null;let P="",L;for(;(L=this.fetch()).text!=="EOF";)P+=L.text,this.consume();return this.consume(),S.text=P,S}parseRegexGroup(g,b){const S=this.fetch();let P=S,L="",F;for(;(F=this.fetch()).text!=="EOF"&&g.test(L+F.text);)P=F,L+=P.text,this.consume();if(L==="")throw new a("Invalid "+b+": '"+S.text+"'",S);return S.range(P,L)}parseColorGroup(g){const b=this.parseStringGroup("color",g);if(b==null)return null;const S=/^(#[a-f0-9]{3}|#?[a-f0-9]{6}|[a-z]+)$/i.exec(b.text);if(!S)throw new a("Invalid color: '"+b.text+"'",b);let P=S[0];return/^[0-9a-f]{6}$/i.test(P)&&(P="#"+P),{type:"color-token",mode:this.mode,color:P}}parseSizeGroup(g){let b,S=!1;if(this.gullet.consumeSpaces(),!g&&this.gullet.future().text!=="{"?b=this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size"):b=this.parseStringGroup("size",g),!b)return null;!g&&b.text.length===0&&(b.text="0pt",S=!0);const P=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(b.text);if(!P)throw new a("Invalid size: '"+b.text+"'",b);const L={number:+(P[1]+P[2]),unit:P[3]};if(!U(L))throw new a("Invalid unit: '"+L.unit+"'",b);return{type:"size",mode:this.mode,value:L,isBlank:S}}parseUrlGroup(g){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);const b=this.parseStringGroup("url",g);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),b==null)return null;const S=b.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:S}}parseArgumentGroup(g,b){const S=this.gullet.scanArgument(g);if(S==null)return null;const P=this.mode;b&&this.switchMode(b),this.gullet.beginGroup();const L=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();const F={type:"ordgroup",mode:this.mode,loc:S.loc,body:L};return b&&this.switchMode(P),F}parseGroup(g,b){const S=this.fetch(),P=S.text;let L;if(P==="{"||P==="\\begingroup"){this.consume();const F=P==="{"?"}":"\\endgroup";this.gullet.beginGroup();const H=this.parseExpression(!1,F),Q=this.fetch();this.expect(F),this.gullet.endGroup(),L={type:"ordgroup",mode:this.mode,loc:Jr.range(S,Q),body:H,semisimple:P==="\\begingroup"||void 0}}else if(L=this.parseFunction(b,g)||this.parseSymbol(),L==null&&P[0]==="\\"&&!Y5.hasOwnProperty(P)){if(this.settings.throwOnError)throw new a("Undefined control sequence: "+P,S);L=this.formatUnsupportedCmd(P),this.consume()}return L}formLigatures(g){let b=g.length-1;for(let S=0;S<b;++S){const P=g[S],L=P.text;L==="-"&&g[S+1].text==="-"&&(S+1<b&&g[S+2].text==="-"?(g.splice(S,3,{type:"textord",mode:"text",loc:Jr.range(P,g[S+2]),text:"---"}),b-=2):(g.splice(S,2,{type:"textord",mode:"text",loc:Jr.range(P,g[S+1]),text:"--"}),b-=1)),(L==="'"||L==="`")&&g[S+1].text===L&&(g.splice(S,2,{type:"textord",mode:"text",loc:Jr.range(P,g[S+1]),text:L+L}),b-=1)}}parseSymbol(){const g=this.fetch();let b=g.text;if(/^\\verb[^a-zA-Z]/.test(b)){this.consume();let L=b.slice(5);const F=L.charAt(0)==="*";if(F&&(L=L.slice(1)),L.length<2||L.charAt(0)!==L.slice(-1))throw new a(`\\verb assertion failed --
                    please report what input caused this bug`);return L=L.slice(1,-1),{type:"verb",mode:"text",body:L,star:F}}K5.hasOwnProperty(b[0])&&!mt[this.mode][b[0]]&&(this.settings.strict&&this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+b[0]+'" used in math mode',g),b=K5[b[0]]+b.slice(1));const S=XD.exec(b);S&&(b=b.substring(0,S.index),b==="i"?b="ı":b==="j"&&(b="ȷ"));let P;if(mt[this.mode][b]){this.settings.strict&&this.mode==="math"&&io.indexOf(b)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+b[0]+'" used in math mode',g);const L=mt[this.mode][b].group,F=Jr.range(g);let H;if(Vn.hasOwnProperty(L)){const Q=L;H={type:"atom",mode:this.mode,family:Q,loc:F,text:b}}else H={type:L,mode:this.mode,loc:F,text:b};P=H}else if(b.charCodeAt(0)>=128)this.settings.strict&&(de(b.charCodeAt(0))?this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+b[0]+'" used in math mode',g):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+b[0]+'"'+(" ("+b.charCodeAt(0)+")"),g)),P={type:"textord",mode:"text",loc:Jr.range(g),text:b};else return null;if(this.consume(),S)for(let L=0;L<S[0].length;L++){const F=S[0][L];if(!Cm[F])throw new a("Unknown accent ' "+F+"'",g);const H=Cm[F][this.mode]||Cm[F].text;if(!H)throw new a("Accent "+F+" unsupported in "+this.mode+" mode",g);P={type:"accent",mode:this.mode,loc:Jr.range(g),label:H,isStretchy:!1,isShifty:!0,base:P}}return P}}B0.endOfExpression=["}","\\endgroup","\\end","\\right","&"];var Tm=function(m,g){if(!(typeof m=="string"||m instanceof String))throw new TypeError("KaTeX can only parse string typed expression");const b=new B0(m,g);delete b.gullet.macros.current["\\df@tag"];let S=b.parse();if(delete b.gullet.macros.current["\\current@color"],delete b.gullet.macros.current["\\color"],b.gullet.macros.get("\\df@tag")){if(!g.displayMode)throw new a("\\tag works only in display equations");S=[{type:"tag",mode:"text",body:S,tag:b.subparse([new gi("\\df@tag")])}]}return S};let Q5=function(m,g,b){g.textContent="";const S=Em(m,b).toNode();g.appendChild(S)};typeof document<"u"&&document.compatMode!=="CSS1Compat"&&(typeof console<"u"&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),Q5=function(){throw new a("KaTeX doesn't work in quirks mode.")});const eI=function(m,g){return Em(m,g).toMarkup()},tI=function(m,g){const b=new _(g);return Tm(m,b)},Z5=function(m,g,b){if(b.throwOnError||!(m instanceof a))throw m;const S=ve.makeSpan(["katex-error"],[new it(g)]);return S.setAttribute("title",m.toString()),S.setAttribute("style","color:"+b.errorColor),S},Em=function(m,g){const b=new _(g);try{const S=Tm(m,b);return mD(S,m,b)}catch(S){return Z5(S,m,b)}};var nI={version:"0.16.10",render:Q5,renderToString:eI,ParseError:a,SETTINGS_SCHEMA:w,__parse:tI,__renderToDomTree:Em,__renderToHTMLTree:function(m,g){const b=new _(g);try{const S=Tm(m,b);return vD(S,m,b)}catch(S){return Z5(S,m,b)}},__setFontMetrics:Je,__defineSymbol:M,__defineFunction:qe,__defineMacro:W,__domTree:{Span:Ke,Anchor:ht,SymbolNode:it,SvgNode:et,PathNode:at,LineNode:Rt}},rI=nI;return r=r.default,r}()})});rM.ParseError;var GZ=rM.renderToString;function YZ(e,t,n){for(var r=n,i=0,a=e.length;r<t.length;){var s=t[r];if(i<=0&&t.slice(r,r+a)===e)return r;s==="\\"?r++:s==="{"?i++:s==="}"&&i--,r++}return-1}function XZ(e){return e.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")}var KZ=/^\\begin{/;function QZ(e,t){for(var n,r=[],i=new RegExp("("+t.map(function(l){return XZ(l.left)}).join("|")+")");n=e.search(i),n!==-1;){n>0&&(r.push({type:"text",data:e.slice(0,n)}),e=e.slice(n));var a=t.findIndex(function(l){return e.startsWith(l.left)});if(n=YZ(t[a].right,e,t[a].left.length),n===-1)break;var s=e.slice(0,n+t[a].right.length),o=KZ.test(s)?s:e.slice(t[a].left.length,n);r.push({type:"math",data:o,rawData:s,display:t[a].display}),e=e.slice(n+t[a].right.length)}return e!==""&&r.push({type:"text",data:e}),r}function ZZ(e,t,n,r){for(var i=QZ(e,t),a=[],s=0;s<i.length;s++)if(i[s].type==="text")a.push(i[s].data);else{var o=i[s].data,l=i[s].display;try{var u=GZ(o,{displayMode:l,macros:r});a.push(u)}catch(c){if(n)throw c;a.push(i[s].data)}}return a.join("")}VZ(`.___Latex___1nfc2_1 ._latex_1nfc2_1 {
  font: inherit
}
`,{});var JZ=[{left:"$$",right:"$$",display:!0},{left:"\\(",right:"\\)",display:!1},{left:"$",right:"$",display:!1},{left:"\\[",right:"\\]",display:!0}];function eJ(e){var t=e.children,n=e.delimiters,r=n===void 0?JZ:n,i=e.strict,a=i===void 0?!1:i,s=e.macros,o=ZZ(Array.isArray(t)?t.join(""):t,r,a,s);return te.createElement("span",{className:"__Latex__",dangerouslySetInnerHTML:{__html:o}})}const tJ=(e,t,n)=>(e.reduce((i,a)=>{const s=t*a.distance+n;return i+Math.pow(a.power-s,2)},0)/e.length||0).toFixed(2),nJ=e=>{const t=e.length;if(t<2)return{slope:0,intercept:0};const n=e.reduce((l,u)=>l+u.distance,0),r=e.reduce((l,u)=>l+u.power,0),i=e.reduce((l,u)=>l+u.distance*u.distance,0),a=e.reduce((l,u)=>l+u.distance*u.power,0),s=(t*a-n*r)/(t*i-n*n),o=(r-s*n)/t;return{m:Math.round(s*100)/100,b:Math.round(o*100)/100}},rJ=({active:e,handleClose:t,pingpongerSettings:n,setPingpongerSettings:r})=>{const{t:i}=tn();return O.jsx(pb,{$active:e,handleClose:t,children:O.jsxs(O.Fragment,{children:[O.jsx(fe.H3,{children:i("Settings.title")}),O.jsxs(Eh,{children:[O.jsx(fe.Text,{children:i("Settings.distanceSensorPort")}),O.jsx(da,{options:Is.map(a=>({id:a,text:a})),currentOptionId:n.distanceSensorPort,handleOptionSelect:a=>r(s=>({...s,distanceSensorPort:a})),width:"100px"})]}),O.jsxs(Eh,{children:[O.jsx(fe.Text,{children:i("Settings.leftMotorPort")}),O.jsx(da,{options:Is.map(a=>({id:a,text:a})),currentOptionId:n.leftMotorPort,handleOptionSelect:a=>r(s=>({...s,leftMotorPort:a})),width:"100px"})]}),O.jsxs(Eh,{children:[O.jsx(fe.Text,{children:i("Settings.rightMotorPort")}),O.jsx(da,{options:Is.map(a=>({id:a,text:a})),currentOptionId:n.rightMotorPort,handleOptionSelect:a=>r(s=>({...s,rightMotorPort:a})),width:"100px"})]}),O.jsxs(Eh,{children:[O.jsx(fe.Text,{children:i("Settings.isReversed")}),O.jsx(Of,{value:n.isInverted,handleChange:()=>r(a=>({...a,isInverted:!n.isInverted}))})]})]})})},Eh=Pe.div.withConfig({displayName:"PingpongerSettingsPopup__Row",componentId:"sc-1msnvix-0"})(["display:flex;column-gap:15px;align-items:center;"]),iJ=()=>{const{t:e}=tn();return O.jsxs(aJ,{children:[O.jsx(fe.Text,{children:e("PitcherInstructions.intro")}),O.jsxs(fe.Text,{children:[e("PitcherInstructions.followVideo"),O.jsx(vn,{to:"https://youtu.be/P_t-HRxQ80s",children:e("video")}),e("PitcherInstructions.followVideoPart2")]}),O.jsx(fe.Text,{$bold:!0,children:e("PitcherInstructions.assemblyTitle")}),O.jsxs(fe.Text,{children:[e("PitcherInstructions.assemblyText1Part1"),O.jsx(vn,{to:`/ml-with-bricks/materials/${zn.language}/assembly/pitcher.pdf`,children:e("these instructions")}),e("PitcherInstructions.assemblyText1Part2")]}),O.jsxs(fe.Text,{children:[e("PitcherInstructions.assemblyText2Part1"),O.jsx(vn,{to:`/ml-with-bricks/materials/${zn.language}/connection.pdf`,children:e("pdf")}),e("PitcherInstructions.assemblyText2Part2"),O.jsx(vn,{to:"https://youtu.be/ZsviP40PnuA",children:e("video")}),e("PitcherInstructions.assemblyText2Part3")]}),O.jsx(fe.Text,{$bold:!0,children:e("PitcherInstructions.dataCollectionTitle")}),O.jsx(fe.Text,{children:e("PitcherInstructions.dataCollectionText")}),O.jsx(fe.Text,{$bold:!0,children:e("PitcherInstructions.predictionTitle")}),O.jsx(fe.Text,{children:e("PitcherInstructions.predictionText1")}),O.jsx(fe.Text,{children:e("PitcherInstructions.predictionText2")}),O.jsx(fe.Text,{children:e("PitcherInstructions.predictionText3")}),O.jsx(fe.Text,{children:e("PitcherInstructions.predictionText4")}),O.jsx(fe.Text,{children:e("PitcherInstructions.predictionText5")}),O.jsx(fe.Text,{children:e("PitcherInstructions.predictionText6")}),O.jsx(fe.Text,{$bold:!0,children:e("PitcherInstructions.thingsToTryTitle")}),O.jsx(fe.Text,{children:e("PitcherInstructions.thingsToTryText")})]})},aJ=Pe.div.withConfig({displayName:"PingPongerInstructions__Wrapper",componentId:"sc-67jcbk-0"})([""]),sJ=[],oJ={distanceSensorPort:"F",leftMotorPort:"A",rightMotorPort:"B",isInverted:!0},lJ=()=>{const{t:e}=tn(),{sendTunnelData:t,subscribe:n}=_g(),r=te.useRef(null),[i,a]=te.useState(()=>$n("pingPonger_data",sJ)),[s,o]=te.useState(()=>$n("pingPonger_modelMode","train")),[l,u]=te.useState(()=>$n("pingPonger_inferDistance",null)),[c,f]=te.useState(()=>$n("pingPonger_currentPower",20)),[h,d]=te.useState(()=>$n("pingPonger_newPower",20)),[p,v]=te.useState(()=>$n("pingPonger_isBestParameters",!1)),[x,y]=te.useState(()=>$n("pingPonger_m",1)),[w,k]=te.useState(()=>$n("pingPonger_b",-10)),[_,C]=te.useState(!1),[T,E]=te.useState(oJ),A=te.useMemo(()=>tJ(i,x,w),[x,w,i]),R=J=>{var q,he,de;J?(he=r.current)==null||he.setActiveElements([{datasetIndex:0,index:i.findIndex(oe=>oe.id===J)}]):(q=r.current)==null||q.setActiveElements([]),(de=r.current)==null||de.update("none")},D=()=>{t({action:"pitch_ball",payload:{}})},N=()=>{t({action:"measure_distance",payload:{}})},z=J=>{a(q=>q.filter(he=>he.id!==J)),t({action:"delete_datapoint",payload:{id:J}})},j=async()=>{n(ee),t({action:"code_start",payload:{datapoints:i,mode:s,power:c,infer_distance:l}}).then(()=>It.success(e("PingPonger.toasts.codeStarted"),{position:"bottom-left"}))},V=J=>{if(J==="infer"&&i.length<2){It.warn(e("PingPonger.toasts.min2Points"),{position:"bottom-left"});return}o(J),u(null),t({action:"change_mode",payload:{mode:J}})},Y=J=>{J.preventDefault(),f(h),t({action:"change_power",payload:{power:h}})},Z=()=>{const{m:J,b:q}=nJ(i);J!==void 0&&q!==void 0&&(y(J),k(q),v(!0))},X=J=>{y(J),v(!1)},G=J=>{k(J),v(!1)},ee=J=>{const q=J.payload;switch(J.action){case"add_point":const he={id:q.id,power:q.power,distance:q.distance};a(de=>[...de,he]);break;case"infer_distance":u(()=>q.distance);break}},B=te.useMemo(()=>mb.pitcher(T),[T]);te.useEffect(()=>{p&&Z()},[i]),te.useEffect(()=>{localStorage.setItem("pingPonger_data",JSON.stringify(i))},[i]),te.useEffect(()=>{localStorage.setItem("pingPonger_modelMode",JSON.stringify(s))},[s]),te.useEffect(()=>{localStorage.setItem("pingPonger_inferDistance",JSON.stringify(l))},[l]),te.useEffect(()=>{localStorage.setItem("pingPonger_currentPower",JSON.stringify(c))},[c]),te.useEffect(()=>{localStorage.setItem("pingPonger_newPower",JSON.stringify(h))},[h]),te.useEffect(()=>{localStorage.setItem("pingPonger_isBestParameters",JSON.stringify(p))},[p]),te.useEffect(()=>{localStorage.setItem("pingPonger_m",JSON.stringify(x))},[x]),te.useEffect(()=>{localStorage.setItem("pingPonger_b",JSON.stringify(w))},[w]);const K=()=>O.jsxs(Z2,{children:[O.jsx(w8,{children:O.jsx(Ba,{text:e("PingPonger.launch"),icon:O.jsx(fN,{}),onClick:D})}),O.jsx(w8,{children:O.jsx(Ba,{text:e("PingPonger.measure"),icon:O.jsx(hN,{}),onClick:N})})]});return O.jsxs(uJ,{children:[O.jsx(fe.H1,{children:e("PingPonger.title")}),O.jsx(iJ,{}),O.jsx(gb,{code:B,onStart:j}),O.jsxs(cJ,{children:[O.jsx("div",{children:O.jsx(IZ,{chartRef:r,isInfer:s==="infer",regressionData:i,m:x,b:w,inferDistance:l})}),O.jsxs(hJ,{children:[O.jsx(db,{currentId:s,segments:eM.map(J=>({id:J,text:e(`PingPonger.modelModes.${J}`)})),handleSelectOption:V}),O.jsx(K,{}),s==="infer"?O.jsxs(b8,{children:[O.jsxs(Z2,{children:[O.jsx(fe.H3,{children:e("PingPonger.linearRegression")}),O.jsx(Ba,{text:e("PingPonger.calculateBest"),icon:O.jsx(lN,{}),onClick:Z,active:i.length>=2})]}),O.jsxs(dJ,{children:[O.jsx(ou,{value:x,label:e("PingPonger.parameters.slope"),minValue:-3,maxValue:3,onChange:X,stepDevisor:100,writeValue:!0}),O.jsx(ou,{value:w,label:e("PingPonger.parameters.intercept"),minValue:-10,maxValue:50,onChange:G,stepDevisor:100,writeValue:!0})]}),O.jsx(pJ,{children:O.jsx(eJ,{children:`$${e("PingPonger.loss")} = ${A}$`})})]}):O.jsx(b8,{children:O.jsxs(fJ,{children:[O.jsx(ou,{value:h,label:`${e("PingPonger.power")}: ${c}% → ${h}%`,minValue:20,maxValue:100,onChange:J=>d(J)}),O.jsx(Ba,{text:e("PingPonger.sendNewPower"),icon:O.jsx(oN,{}),onClick:Y,type:"submit"})]})}),O.jsx(RZ,{data:i,handleRemoveData:z,handleTableRowHover:R})]})]}),O.jsx(rJ,{active:_,handleClose:()=>C(!1),pingpongerSettings:T,setPingpongerSettings:E})]})},uJ=Pe.div.withConfig({displayName:"ping-ponger__Wrapper",componentId:"sc-crvubh-0"})([""]),cJ=Pe.div.withConfig({displayName:"ping-ponger__DiagramRow",componentId:"sc-crvubh-1"})(["display:grid;grid-template-columns:1fr 1fr;column-gap:30px;.bigKatex .katex{font-size:24px;}.katex{font-size:20px;}@media (max-width:1024px){column-gap:10px;}@media (max-width:768px){grid-template-columns:1fr;row-gap:20px;}"]),b8=Pe.div.withConfig({displayName:"ping-ponger__ControlsWrapper",componentId:"sc-crvubh-2"})(["display:flex;flex-direction:column;justify-content:flex-start;align-items:flex-start;width:100%;gap:20px;"]),fJ=Pe.form.withConfig({displayName:"ping-ponger__SelectPowerForm",componentId:"sc-crvubh-3"})(["width:100%;display:flex;align-items:center;justify-content:space-between;gap:20px;margin:10px 0;"]),Z2=Pe.div.withConfig({displayName:"ping-ponger__Row",componentId:"sc-crvubh-4"})(["width:100%;display:flex;align-items:center;justify-content:space-between;gap:20px;@media (max-width:768px){flex-direction:column;align-items:stretch;}"]),w8=Pe.div.withConfig({displayName:"ping-ponger__ButtonWrapper",componentId:"sc-crvubh-5"})(["flex:1;display:flex;& > button{flex:1 !important;}"]),hJ=Pe.div.withConfig({displayName:"ping-ponger__ControlsColumn",componentId:"sc-crvubh-6"})(["display:flex;width:100%;flex-direction:column;gap:20px;"]),dJ=Pe(Z2).withConfig({displayName:"ping-ponger__SlidersRow",componentId:"sc-crvubh-7"})([""]),pJ=Pe.div.withConfig({displayName:"ping-ponger__Center",componentId:"sc-crvubh-8"})(["width:100%;display:flex;align-items:center;justify-content:center;margin-top:30px;"]),gJ=({table:e,currentStateIx:t,currentActionIx:n})=>{const{t:r}=tn();return O.jsxs(mJ,{children:[e.map((i,a)=>[i.map((s,o)=>O.jsx(Ag,{$value:e[a][o],style:{gridArea:`cell${a+1}-${o+1}`},$active:t===a&&n==o,children:O.jsx("p",{children:s===void 0?"":s>0?`+${Math.round(s*100)/100}`:Math.round(s*100)/100})},`${a}-${o}`)),O.jsx(k8,{style:{gridArea:`state${a+1}`},$bgImage:`crawler/state_${a}.png`,$active:t===a},`row-image-${a+1}`),O.jsx(k8,{style:{gridArea:`action${a+1}`},$bgImage:`crawler/state_${a}.png`,$active:n===a},`column-image-${a+1}`)]),O.jsx(S8,{style:{gridArea:"a"},children:O.jsx(_8,{children:r("Crawler.table.columnsHeader")})}),O.jsx(S8,{style:{gridArea:"b"},children:O.jsx(_8,{style:{textOrientation:"mixed",writingMode:"sideways-lr"},children:r("Crawler.table.rowsHeader")})}),O.jsx(vJ,{})]})},mJ=Pe.div.withConfig({displayName:"CrawlerTable__Body",componentId:"sc-1m092ps-0"})(['width:100%;aspect-ratio:1/1;display:grid;grid-template-areas:"x x a a a a" "x x action1 action2 action3 action4" "b state1 cell1-1 cell1-2 cell1-3 cell1-4" "b state2 cell2-1 cell2-2 cell2-3 cell2-4" "b state3 cell3-1 cell3-2 cell3-3 cell3-4" "b state4 cell4-1 cell4-2 cell4-3 cell4-4";grid-template-columns:30px 1fr 1fr 1fr 1fr 1fr;grid-template-rows:30px 1fr 1fr 1fr 1fr 1fr;border-radius:5px;overflow:hidden;border:1px solid ',";font-weight:600;font-family:var(--main-font);"],({theme:e})=>e.darkGray),Ag=Pe.div.withConfig({displayName:"CrawlerTable__TableCell",componentId:"sc-1m092ps-1"})(["display:flex;justify-content:center;align-items:center;background-color:",";aspect-ratio:1 / 1;outline:1px solid ",";overflow:hidden;max-width:100%;max-height:100%;padding:10px;& > p{max-width:100%;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;}"],({$value:e,theme:t,$active:n})=>e===void 0||e===0?n?t.gray:t.lightGray:e>0?n?t.green:t.lightGreen:n?t.red:t.lightRed,({theme:e})=>e.darkGray),k8=Pe(Ag).withConfig({displayName:"CrawlerTable__ImageTableCell",componentId:"sc-1m092ps-2"})(["background-size:cover;background-color:",";background-image:",";"],({theme:e,$active:t})=>t?e.darkGray:e.gray,({$bgImage:e})=>!!e&&`url(${e})`),S8=Pe(Ag).withConfig({displayName:"CrawlerTable__HeaderBlock",componentId:"sc-1m092ps-3"})(["aspect-ratio:unset;background-color:",";padding:0;& > p{overflow:unset;}"],({theme:e})=>e.gray),_8=Pe.p.withConfig({displayName:"CrawlerTable__HeaderText",componentId:"sc-1m092ps-4"})(["text-align:center;"]),vJ=Pe(Ag).withConfig({displayName:"CrawlerTable__PlaceHolder",componentId:"sc-1m092ps-5"})(["background-color:",";aspect-ratio:unset;grid-area:x;"],({theme:e})=>e.gray);function J2(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function yJ(e){if(Array.isArray(e))return e}function xJ(e){if(Array.isArray(e))return J2(e)}function Zs(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bJ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,aM(r.key),r)}}function Js(e,t,n){return t&&bJ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Wr(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=vb(e))||t){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(l){throw l},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,s=!0,o=!1;return{s:function(){n=n.call(e)},n:function(){var l=n.next();return s=l.done,l},e:function(l){o=!0,a=l},f:function(){try{s||n.return==null||n.return()}finally{if(o)throw a}}}}function iM(e,t,n){return(t=aM(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wJ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function kJ(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,u=!1;try{if(a=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==t);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function SJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _J(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tr(e,t){return yJ(e)||kJ(e,t)||vb(e,t)||SJ()}function xp(e){return xJ(e)||wJ(e)||vb(e)||_J()}function CJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function aM(e){var t=CJ(e,"string");return typeof t=="symbol"?t:t+""}function ir(e){"@babel/helpers - typeof";return ir=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ir(e)}function vb(e,t){if(e){if(typeof e=="string")return J2(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?J2(e,t):void 0}}var Jn=typeof window>"u"?null:window,C8=Jn?Jn.navigator:null;Jn&&Jn.document;var TJ=ir(""),sM=ir({}),EJ=ir(function(){}),PJ=typeof HTMLElement>"u"?"undefined":ir(HTMLElement),u0=function(t){return t&&t.instanceString&&Mn(t.instanceString)?t.instanceString():null},tt=function(t){return t!=null&&ir(t)==TJ},Mn=function(t){return t!=null&&ir(t)===EJ},en=function(t){return!ui(t)&&(Array.isArray?Array.isArray(t):t!=null&&t instanceof Array)},Ot=function(t){return t!=null&&ir(t)===sM&&!en(t)&&t.constructor===Object},MJ=function(t){return t!=null&&ir(t)===sM},ze=function(t){return t!=null&&ir(t)===ir(1)&&!isNaN(t)},AJ=function(t){return ze(t)&&Math.floor(t)===t},bp=function(t){if(PJ!=="undefined")return t!=null&&t instanceof HTMLElement},ui=function(t){return c0(t)||oM(t)},c0=function(t){return u0(t)==="collection"&&t._private.single},oM=function(t){return u0(t)==="collection"&&!t._private.single},yb=function(t){return u0(t)==="core"},lM=function(t){return u0(t)==="stylesheet"},DJ=function(t){return u0(t)==="event"},$s=function(t){return t==null?!0:!!(t===""||t.match(/^\s+$/))},IJ=function(t){return typeof HTMLElement>"u"?!1:t instanceof HTMLElement},LJ=function(t){return Ot(t)&&ze(t.x1)&&ze(t.x2)&&ze(t.y1)&&ze(t.y2)},OJ=function(t){return MJ(t)&&Mn(t.then)},RJ=function(){return C8&&C8.userAgent.match(/msie|trident|edge/i)},Mu=function(t,n){n||(n=function(){if(arguments.length===1)return arguments[0];if(arguments.length===0)return"undefined";for(var a=[],s=0;s<arguments.length;s++)a.push(arguments[s]);return a.join("$")});var r=function(){var a=this,s=arguments,o,l=n.apply(a,s),u=r.cache;return(o=u[l])||(o=u[l]=t.apply(a,s)),o};return r.cache={},r},xb=Mu(function(e){return e.replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase()})}),Dg=Mu(function(e){return e.replace(/(-\w)/g,function(t){return t[1].toUpperCase()})}),uM=Mu(function(e,t){return e+t[0].toUpperCase()+t.substring(1)},function(e,t){return e+"$"+t}),T8=function(t){return $s(t)?t:t.charAt(0).toUpperCase()+t.substring(1)},rr="(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))",NJ="rgb[a]?\\(("+rr+"[%]?)\\s*,\\s*("+rr+"[%]?)\\s*,\\s*("+rr+"[%]?)(?:\\s*,\\s*("+rr+"))?\\)",zJ="rgb[a]?\\((?:"+rr+"[%]?)\\s*,\\s*(?:"+rr+"[%]?)\\s*,\\s*(?:"+rr+"[%]?)(?:\\s*,\\s*(?:"+rr+"))?\\)",BJ="hsl[a]?\\(("+rr+")\\s*,\\s*("+rr+"[%])\\s*,\\s*("+rr+"[%])(?:\\s*,\\s*("+rr+"))?\\)",FJ="hsl[a]?\\((?:"+rr+")\\s*,\\s*(?:"+rr+"[%])\\s*,\\s*(?:"+rr+"[%])(?:\\s*,\\s*(?:"+rr+"))?\\)",$J="\\#[0-9a-fA-F]{3}",jJ="\\#[0-9a-fA-F]{6}",cM=function(t,n){return t<n?-1:t>n?1:0},qJ=function(t,n){return-1*cM(t,n)},ot=Object.assign!=null?Object.assign.bind(Object):function(e){for(var t=arguments,n=1;n<t.length;n++){var r=t[n];if(r!=null)for(var i=Object.keys(r),a=0;a<i.length;a++){var s=i[a];e[s]=r[s]}}return e},HJ=function(t){if(!(!(t.length===4||t.length===7)||t[0]!=="#")){var n=t.length===4,r,i,a,s=16;return n?(r=parseInt(t[1]+t[1],s),i=parseInt(t[2]+t[2],s),a=parseInt(t[3]+t[3],s)):(r=parseInt(t[1]+t[2],s),i=parseInt(t[3]+t[4],s),a=parseInt(t[5]+t[6],s)),[r,i,a]}},VJ=function(t){var n,r,i,a,s,o,l,u;function c(p,v,x){return x<0&&(x+=1),x>1&&(x-=1),x<1/6?p+(v-p)*6*x:x<1/2?v:x<2/3?p+(v-p)*(2/3-x)*6:p}var f=new RegExp("^"+BJ+"$").exec(t);if(f){if(r=parseInt(f[1]),r<0?r=(360- -1*r%360)%360:r>360&&(r=r%360),r/=360,i=parseFloat(f[2]),i<0||i>100||(i=i/100,a=parseFloat(f[3]),a<0||a>100)||(a=a/100,s=f[4],s!==void 0&&(s=parseFloat(s),s<0||s>1)))return;if(i===0)o=l=u=Math.round(a*255);else{var h=a<.5?a*(1+i):a+i-a*i,d=2*a-h;o=Math.round(255*c(d,h,r+1/3)),l=Math.round(255*c(d,h,r)),u=Math.round(255*c(d,h,r-1/3))}n=[o,l,u,s]}return n},UJ=function(t){var n,r=new RegExp("^"+NJ+"$").exec(t);if(r){n=[];for(var i=[],a=1;a<=3;a++){var s=r[a];if(s[s.length-1]==="%"&&(i[a]=!0),s=parseFloat(s),i[a]&&(s=s/100*255),s<0||s>255)return;n.push(Math.floor(s))}var o=i[1]||i[2]||i[3],l=i[1]&&i[2]&&i[3];if(o&&!l)return;var u=r[4];if(u!==void 0){if(u=parseFloat(u),u<0||u>1)return;n.push(u)}}return n},WJ=function(t){return GJ[t.toLowerCase()]},fM=function(t){return(en(t)?t:null)||WJ(t)||HJ(t)||UJ(t)||VJ(t)},GJ={transparent:[0,0,0,0],aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},hM=function(t){for(var n=t.map,r=t.keys,i=r.length,a=0;a<i;a++){var s=r[a];if(Ot(s))throw Error("Tried to set map with object key");a<r.length-1?(n[s]==null&&(n[s]={}),n=n[s]):n[s]=t.value}},dM=function(t){for(var n=t.map,r=t.keys,i=r.length,a=0;a<i;a++){var s=r[a];if(Ot(s))throw Error("Tried to get map with object key");if(n=n[s],n==null)return n}return n},Ph=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof Gn<"u"?Gn:typeof self<"u"?self:{};function f0(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Lv,E8;function h0(){if(E8)return Lv;E8=1;function e(t){var n=typeof t;return t!=null&&(n=="object"||n=="function")}return Lv=e,Lv}var Ov,P8;function YJ(){if(P8)return Ov;P8=1;var e=typeof Ph=="object"&&Ph&&Ph.Object===Object&&Ph;return Ov=e,Ov}var Rv,M8;function Ig(){if(M8)return Rv;M8=1;var e=YJ(),t=typeof self=="object"&&self&&self.Object===Object&&self,n=e||t||Function("return this")();return Rv=n,Rv}var Nv,A8;function XJ(){if(A8)return Nv;A8=1;var e=Ig(),t=function(){return e.Date.now()};return Nv=t,Nv}var zv,D8;function KJ(){if(D8)return zv;D8=1;var e=/\s/;function t(n){for(var r=n.length;r--&&e.test(n.charAt(r)););return r}return zv=t,zv}var Bv,I8;function QJ(){if(I8)return Bv;I8=1;var e=KJ(),t=/^\s+/;function n(r){return r&&r.slice(0,e(r)+1).replace(t,"")}return Bv=n,Bv}var Fv,L8;function bb(){if(L8)return Fv;L8=1;var e=Ig(),t=e.Symbol;return Fv=t,Fv}var $v,O8;function ZJ(){if(O8)return $v;O8=1;var e=bb(),t=Object.prototype,n=t.hasOwnProperty,r=t.toString,i=e?e.toStringTag:void 0;function a(s){var o=n.call(s,i),l=s[i];try{s[i]=void 0;var u=!0}catch{}var c=r.call(s);return u&&(o?s[i]=l:delete s[i]),c}return $v=a,$v}var jv,R8;function JJ(){if(R8)return jv;R8=1;var e=Object.prototype,t=e.toString;function n(r){return t.call(r)}return jv=n,jv}var qv,N8;function pM(){if(N8)return qv;N8=1;var e=bb(),t=ZJ(),n=JJ(),r="[object Null]",i="[object Undefined]",a=e?e.toStringTag:void 0;function s(o){return o==null?o===void 0?i:r:a&&a in Object(o)?t(o):n(o)}return qv=s,qv}var Hv,z8;function eee(){if(z8)return Hv;z8=1;function e(t){return t!=null&&typeof t=="object"}return Hv=e,Hv}var Vv,B8;function d0(){if(B8)return Vv;B8=1;var e=pM(),t=eee(),n="[object Symbol]";function r(i){return typeof i=="symbol"||t(i)&&e(i)==n}return Vv=r,Vv}var Uv,F8;function tee(){if(F8)return Uv;F8=1;var e=QJ(),t=h0(),n=d0(),r=0/0,i=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,s=/^0o[0-7]+$/i,o=parseInt;function l(u){if(typeof u=="number")return u;if(n(u))return r;if(t(u)){var c=typeof u.valueOf=="function"?u.valueOf():u;u=t(c)?c+"":c}if(typeof u!="string")return u===0?u:+u;u=e(u);var f=a.test(u);return f||s.test(u)?o(u.slice(2),f?2:8):i.test(u)?r:+u}return Uv=l,Uv}var Wv,$8;function nee(){if($8)return Wv;$8=1;var e=h0(),t=XJ(),n=tee(),r="Expected a function",i=Math.max,a=Math.min;function s(o,l,u){var c,f,h,d,p,v,x=0,y=!1,w=!1,k=!0;if(typeof o!="function")throw new TypeError(r);l=n(l)||0,e(u)&&(y=!!u.leading,w="maxWait"in u,h=w?i(n(u.maxWait)||0,l):h,k="trailing"in u?!!u.trailing:k);function _(j){var V=c,Y=f;return c=f=void 0,x=j,d=o.apply(Y,V),d}function C(j){return x=j,p=setTimeout(A,l),y?_(j):d}function T(j){var V=j-v,Y=j-x,Z=l-V;return w?a(Z,h-Y):Z}function E(j){var V=j-v,Y=j-x;return v===void 0||V>=l||V<0||w&&Y>=h}function A(){var j=t();if(E(j))return R(j);p=setTimeout(A,T(j))}function R(j){return p=void 0,k&&c?_(j):(c=f=void 0,d)}function D(){p!==void 0&&clearTimeout(p),x=0,c=v=f=p=void 0}function N(){return p===void 0?d:R(t())}function z(){var j=t(),V=E(j);if(c=arguments,f=this,v=j,V){if(p===void 0)return C(v);if(w)return clearTimeout(p),p=setTimeout(A,l),_(v)}return p===void 0&&(p=setTimeout(A,l)),d}return z.cancel=D,z.flush=N,z}return Wv=s,Wv}var ree=nee(),p0=f0(ree),Gv=Jn?Jn.performance:null,gM=Gv&&Gv.now?function(){return Gv.now()}:function(){return Date.now()},iee=function(){if(Jn){if(Jn.requestAnimationFrame)return function(e){Jn.requestAnimationFrame(e)};if(Jn.mozRequestAnimationFrame)return function(e){Jn.mozRequestAnimationFrame(e)};if(Jn.webkitRequestAnimationFrame)return function(e){Jn.webkitRequestAnimationFrame(e)};if(Jn.msRequestAnimationFrame)return function(e){Jn.msRequestAnimationFrame(e)}}return function(e){e&&setTimeout(function(){e(gM())},1e3/60)}}(),wp=function(t){return iee(t)},Xa=gM,Co=9261,mM=65599,Al=5381,vM=function(t){for(var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Co,r=n,i;i=t.next(),!i.done;)r=r*mM+i.value|0;return r},Nf=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Co;return n*mM+t|0},zf=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Al;return(n<<5)+n+t|0},aee=function(t,n){return t*2097152+n},ls=function(t){return t[0]*2097152+t[1]},Mh=function(t,n){return[Nf(t[0],n[0]),zf(t[1],n[1])]},j8=function(t,n){var r={value:0,done:!1},i=0,a=t.length,s={next:function(){return i<a?r.value=t[i++]:r.done=!0,r}};return vM(s,n)},Yo=function(t,n){var r={value:0,done:!1},i=0,a=t.length,s={next:function(){return i<a?r.value=t.charCodeAt(i++):r.done=!0,r}};return vM(s,n)},yM=function(){return see(arguments)},see=function(t){for(var n,r=0;r<t.length;r++){var i=t[r];r===0?n=Yo(i):n=Yo(i,n)}return n},q8=!0,oee=console.warn!=null,lee=console.trace!=null,wb=Number.MAX_SAFE_INTEGER||9007199254740991,xM=function(){return!0},kp=function(){return!1},H8=function(){return 0},kb=function(){},Tn=function(t){throw new Error(t)},bM=function(t){if(t!==void 0)q8=!!t;else return q8},Vt=function(t){bM()&&(oee?console.warn(t):(console.log(t),lee&&console.trace()))},uee=function(t){return ot({},t)},ca=function(t){return t==null?t:en(t)?t.slice():Ot(t)?uee(t):t},cee=function(t){return t.slice()},wM=function(t,n){for(n=t="";t++<36;n+=t*51&52?(t^15?8^Math.random()*(t^20?16:4):4).toString(16):"-");return n},fee={},kM=function(){return fee},xr=function(t){var n=Object.keys(t);return function(r){for(var i={},a=0;a<n.length;a++){var s=n[a],o=r==null?void 0:r[s];i[s]=o===void 0?t[s]:o}return i}},js=function(t,n,r){for(var i=t.length-1;i>=0;i--)t[i]===n&&t.splice(i,1)},Sb=function(t){t.splice(0,t.length)},hee=function(t,n){for(var r=0;r<n.length;r++){var i=n[r];t.push(i)}},qr=function(t,n,r){return r&&(n=uM(r,n)),t[n]},Da=function(t,n,r,i){r&&(n=uM(r,n)),t[n]=i},dee=function(){function e(){Zs(this,e),this._obj={}}return Js(e,[{key:"set",value:function(n,r){return this._obj[n]=r,this}},{key:"delete",value:function(n){return this._obj[n]=void 0,this}},{key:"clear",value:function(){this._obj={}}},{key:"has",value:function(n){return this._obj[n]!==void 0}},{key:"get",value:function(n){return this._obj[n]}}])}(),Fa=typeof Map<"u"?Map:dee,pee="undefined",gee=function(){function e(t){if(Zs(this,e),this._obj=Object.create(null),this.size=0,t!=null){var n;t.instanceString!=null&&t.instanceString()===this.instanceString()?n=t.toArray():n=t;for(var r=0;r<n.length;r++)this.add(n[r])}}return Js(e,[{key:"instanceString",value:function(){return"set"}},{key:"add",value:function(n){var r=this._obj;r[n]!==1&&(r[n]=1,this.size++)}},{key:"delete",value:function(n){var r=this._obj;r[n]===1&&(r[n]=0,this.size--)}},{key:"clear",value:function(){this._obj=Object.create(null)}},{key:"has",value:function(n){return this._obj[n]===1}},{key:"toArray",value:function(){var n=this;return Object.keys(this._obj).filter(function(r){return n.has(r)})}},{key:"forEach",value:function(n,r){return this.toArray().forEach(n,r)}}])}(),qu=(typeof Set>"u"?"undefined":ir(Set))!==pee?Set:gee,Lg=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(t===void 0||n===void 0||!yb(t)){Tn("An element must have a core reference and parameters set");return}var i=n.group;if(i==null&&(n.data&&n.data.source!=null&&n.data.target!=null?i="edges":i="nodes"),i!=="nodes"&&i!=="edges"){Tn("An element must be of type `nodes` or `edges`; you specified `"+i+"`");return}this.length=1,this[0]=this;var a=this._private={cy:t,single:!0,data:n.data||{},position:n.position||{x:0,y:0},autoWidth:void 0,autoHeight:void 0,autoPadding:void 0,compoundBoundsClean:!1,listeners:[],group:i,style:{},rstyle:{},styleCxts:[],styleKeys:{},removed:!0,selected:!!n.selected,selectable:n.selectable===void 0?!0:!!n.selectable,locked:!!n.locked,grabbed:!1,grabbable:n.grabbable===void 0?!0:!!n.grabbable,pannable:n.pannable===void 0?i==="edges":!!n.pannable,active:!1,classes:new qu,animation:{current:[],queue:[]},rscratch:{},scratch:n.scratch||{},edges:[],children:[],parent:n.parent&&n.parent.isNode()?n.parent:null,traversalCache:{},backgrounding:!1,bbCache:null,bbCacheShift:{x:0,y:0},bodyBounds:null,overlayBounds:null,labelBounds:{all:null,source:null,target:null,main:null},arrowBounds:{source:null,target:null,"mid-source":null,"mid-target":null}};if(a.position.x==null&&(a.position.x=0),a.position.y==null&&(a.position.y=0),n.renderedPosition){var s=n.renderedPosition,o=t.pan(),l=t.zoom();a.position={x:(s.x-o.x)/l,y:(s.y-o.y)/l}}var u=[];en(n.classes)?u=n.classes:tt(n.classes)&&(u=n.classes.split(/\s+/));for(var c=0,f=u.length;c<f;c++){var h=u[c];!h||h===""||a.classes.add(h)}this.createEmitter(),(r===void 0||r)&&this.restore();var d=n.style||n.css;d&&(Vt("Setting a `style` bypass at element creation should be done only when absolutely necessary.  Try to use the stylesheet instead."),this.style(d))},V8=function(t){return t={bfs:t.bfs||!t.dfs,dfs:t.dfs||!t.bfs},function(r,i,a){var s;Ot(r)&&!ui(r)&&(s=r,r=s.roots||s.root,i=s.visit,a=s.directed),a=arguments.length===2&&!Mn(i)?i:a,i=Mn(i)?i:function(){};for(var o=this._private.cy,l=r=tt(r)?this.filter(r):r,u=[],c=[],f={},h={},d={},p=0,v,x=this.byGroup(),y=x.nodes,w=x.edges,k=0;k<l.length;k++){var _=l[k],C=_.id();_.isNode()&&(u.unshift(_),t.bfs&&(d[C]=!0,c.push(_)),h[C]=0)}for(var T=function(){var j=t.bfs?u.shift():u.pop(),V=j.id();if(t.dfs){if(d[V])return 0;d[V]=!0,c.push(j)}var Y=h[V],Z=f[V],X=Z!=null?Z.source():null,G=Z!=null?Z.target():null,ee=Z==null?void 0:j.same(X)?G[0]:X[0],B;if(B=i(j,Z,ee,p++,Y),B===!0)return v=j,1;if(B===!1)return 1;for(var K=j.connectedEdges().filter(function(oe){return(!a||oe.source().same(j))&&w.has(oe)}),J=0;J<K.length;J++){var q=K[J],he=q.connectedNodes().filter(function(oe){return!oe.same(j)&&y.has(oe)}),de=he.id();he.length!==0&&!d[de]&&(he=he[0],u.push(he),t.bfs&&(d[de]=!0,c.push(he)),f[de]=q,h[de]=h[V]+1)}},E;u.length!==0&&(E=T(),!(E!==0&&E===1)););for(var A=o.collection(),R=0;R<c.length;R++){var D=c[R],N=f[D.id()];N!=null&&A.push(N),A.push(D)}return{path:o.collection(A),found:o.collection(v)}}},Bf={breadthFirstSearch:V8({bfs:!0}),depthFirstSearch:V8({dfs:!0})};Bf.bfs=Bf.breadthFirstSearch;Bf.dfs=Bf.depthFirstSearch;var dd={exports:{}},mee=dd.exports,U8;function vee(){return U8||(U8=1,function(e,t){(function(){var n,r,i,a,s,o,l,u,c,f,h,d,p,v,x;i=Math.floor,f=Math.min,r=function(y,w){return y<w?-1:y>w?1:0},c=function(y,w,k,_,C){var T;if(k==null&&(k=0),C==null&&(C=r),k<0)throw new Error("lo must be non-negative");for(_==null&&(_=y.length);k<_;)T=i((k+_)/2),C(w,y[T])<0?_=T:k=T+1;return[].splice.apply(y,[k,k-k].concat(w)),w},o=function(y,w,k){return k==null&&(k=r),y.push(w),v(y,0,y.length-1,k)},s=function(y,w){var k,_;return w==null&&(w=r),k=y.pop(),y.length?(_=y[0],y[0]=k,x(y,0,w)):_=k,_},u=function(y,w,k){var _;return k==null&&(k=r),_=y[0],y[0]=w,x(y,0,k),_},l=function(y,w,k){var _;return k==null&&(k=r),y.length&&k(y[0],w)<0&&(_=[y[0],w],w=_[0],y[0]=_[1],x(y,0,k)),w},a=function(y,w){var k,_,C,T,E,A;for(w==null&&(w=r),T=(function(){A=[];for(var R=0,D=i(y.length/2);0<=D?R<D:R>D;0<=D?R++:R--)A.push(R);return A}).apply(this).reverse(),E=[],_=0,C=T.length;_<C;_++)k=T[_],E.push(x(y,k,w));return E},p=function(y,w,k){var _;if(k==null&&(k=r),_=y.indexOf(w),_!==-1)return v(y,0,_,k),x(y,_,k)},h=function(y,w,k){var _,C,T,E,A;if(k==null&&(k=r),C=y.slice(0,w),!C.length)return C;for(a(C,k),A=y.slice(w),T=0,E=A.length;T<E;T++)_=A[T],l(C,_,k);return C.sort(k).reverse()},d=function(y,w,k){var _,C,T,E,A,R,D,N,z;if(k==null&&(k=r),w*10<=y.length){if(T=y.slice(0,w).sort(k),!T.length)return T;for(C=T[T.length-1],D=y.slice(w),E=0,R=D.length;E<R;E++)_=D[E],k(_,C)<0&&(c(T,_,0,null,k),T.pop(),C=T[T.length-1]);return T}for(a(y,k),z=[],A=0,N=f(w,y.length);0<=N?A<N:A>N;0<=N?++A:--A)z.push(s(y,k));return z},v=function(y,w,k,_){var C,T,E;for(_==null&&(_=r),C=y[k];k>w;){if(E=k-1>>1,T=y[E],_(C,T)<0){y[k]=T,k=E;continue}break}return y[k]=C},x=function(y,w,k){var _,C,T,E,A;for(k==null&&(k=r),C=y.length,A=w,T=y[w],_=2*w+1;_<C;)E=_+1,E<C&&!(k(y[_],y[E])<0)&&(_=E),y[w]=y[_],w=_,_=2*w+1;return y[w]=T,v(y,A,w,k)},n=function(){y.push=o,y.pop=s,y.replace=u,y.pushpop=l,y.heapify=a,y.updateItem=p,y.nlargest=h,y.nsmallest=d;function y(w){this.cmp=w??r,this.nodes=[]}return y.prototype.push=function(w){return o(this.nodes,w,this.cmp)},y.prototype.pop=function(){return s(this.nodes,this.cmp)},y.prototype.peek=function(){return this.nodes[0]},y.prototype.contains=function(w){return this.nodes.indexOf(w)!==-1},y.prototype.replace=function(w){return u(this.nodes,w,this.cmp)},y.prototype.pushpop=function(w){return l(this.nodes,w,this.cmp)},y.prototype.heapify=function(){return a(this.nodes,this.cmp)},y.prototype.updateItem=function(w){return p(this.nodes,w,this.cmp)},y.prototype.clear=function(){return this.nodes=[]},y.prototype.empty=function(){return this.nodes.length===0},y.prototype.size=function(){return this.nodes.length},y.prototype.clone=function(){var w;return w=new y,w.nodes=this.nodes.slice(0),w},y.prototype.toArray=function(){return this.nodes.slice(0)},y.prototype.insert=y.prototype.push,y.prototype.top=y.prototype.peek,y.prototype.front=y.prototype.peek,y.prototype.has=y.prototype.contains,y.prototype.copy=y.prototype.clone,y}(),function(y,w){return e.exports=w()}(this,function(){return n})}).call(mee)}(dd)),dd.exports}var Yv,W8;function yee(){return W8||(W8=1,Yv=vee()),Yv}var xee=yee(),g0=f0(xee),bee=xr({root:null,weight:function(t){return 1},directed:!1}),wee={dijkstra:function(t){if(!Ot(t)){var n=arguments;t={root:n[0],weight:n[1],directed:n[2]}}var r=bee(t),i=r.root,a=r.weight,s=r.directed,o=this,l=a,u=tt(i)?this.filter(i)[0]:i[0],c={},f={},h={},d=this.byGroup(),p=d.nodes,v=d.edges;v.unmergeBy(function(Y){return Y.isLoop()});for(var x=function(Z){return c[Z.id()]},y=function(Z,X){c[Z.id()]=X,w.updateItem(Z)},w=new g0(function(Y,Z){return x(Y)-x(Z)}),k=0;k<p.length;k++){var _=p[k];c[_.id()]=_.same(u)?0:1/0,w.push(_)}for(var C=function(Z,X){for(var G=(s?Z.edgesTo(X):Z.edgesWith(X)).intersect(v),ee=1/0,B,K=0;K<G.length;K++){var J=G[K],q=l(J);(q<ee||!B)&&(ee=q,B=J)}return{edge:B,dist:ee}};w.size()>0;){var T=w.pop(),E=x(T),A=T.id();if(h[A]=E,E!==1/0)for(var R=T.neighborhood().intersect(p),D=0;D<R.length;D++){var N=R[D],z=N.id(),j=C(T,N),V=E+j.dist;V<x(N)&&(y(N,V),f[z]={node:T,edge:j.edge})}}return{distanceTo:function(Z){var X=tt(Z)?p.filter(Z)[0]:Z[0];return h[X.id()]},pathTo:function(Z){var X=tt(Z)?p.filter(Z)[0]:Z[0],G=[],ee=X,B=ee.id();if(X.length>0)for(G.unshift(X);f[B];){var K=f[B];G.unshift(K.edge),G.unshift(K.node),ee=K.node,B=ee.id()}return o.spawn(G)}}}},kee={kruskal:function(t){t=t||function(k){return 1};for(var n=this.byGroup(),r=n.nodes,i=n.edges,a=r.length,s=new Array(a),o=r,l=function(_){for(var C=0;C<s.length;C++){var T=s[C];if(T.has(_))return C}},u=0;u<a;u++)s[u]=this.spawn(r[u]);for(var c=i.sort(function(k,_){return t(k)-t(_)}),f=0;f<c.length;f++){var h=c[f],d=h.source()[0],p=h.target()[0],v=l(d),x=l(p),y=s[v],w=s[x];v!==x&&(o.merge(h),y.merge(w),s.splice(x,1))}return o}},See=xr({root:null,goal:null,weight:function(t){return 1},heuristic:function(t){return 0},directed:!1}),_ee={aStar:function(t){var n=this.cy(),r=See(t),i=r.root,a=r.goal,s=r.heuristic,o=r.directed,l=r.weight;i=n.collection(i)[0],a=n.collection(a)[0];var u=i.id(),c=a.id(),f={},h={},d={},p=new g0(function(B,K){return h[B.id()]-h[K.id()]}),v=new qu,x={},y={},w=function(K,J){p.push(K),v.add(J)},k,_,C=function(){k=p.pop(),_=k.id(),v.delete(_)},T=function(K){return v.has(K)};w(i,u),f[u]=0,h[u]=s(i);for(var E=0;p.size()>0;){if(C(),E++,_===c){for(var A=[],R=a,D=c,N=y[D];A.unshift(R),N!=null&&A.unshift(N),R=x[D],R!=null;)D=R.id(),N=y[D];return{found:!0,distance:f[_],path:this.spawn(A),steps:E}}d[_]=!0;for(var z=k._private.edges,j=0;j<z.length;j++){var V=z[j];if(this.hasElementWithId(V.id())&&!(o&&V.data("source")!==_)){var Y=V.source(),Z=V.target(),X=Y.id()!==_?Y:Z,G=X.id();if(this.hasElementWithId(G)&&!d[G]){var ee=f[_]+l(V);if(!T(G)){f[G]=ee,h[G]=ee+s(X),w(X,G),x[G]=k,y[G]=V;continue}ee<f[G]&&(f[G]=ee,h[G]=ee+s(X),x[G]=k,y[G]=V)}}}}return{found:!1,distance:void 0,path:void 0,steps:E}}},Cee=xr({weight:function(t){return 1},directed:!1}),Tee={floydWarshall:function(t){for(var n=this.cy(),r=Cee(t),i=r.weight,a=r.directed,s=i,o=this.byGroup(),l=o.nodes,u=o.edges,c=l.length,f=c*c,h=function(q){return l.indexOf(q)},d=function(q){return l[q]},p=new Array(f),v=0;v<f;v++){var x=v%c,y=(v-x)/c;y===x?p[v]=0:p[v]=1/0}for(var w=new Array(f),k=new Array(f),_=0;_<u.length;_++){var C=u[_],T=C.source()[0],E=C.target()[0];if(T!==E){var A=h(T),R=h(E),D=A*c+R,N=s(C);if(p[D]>N&&(p[D]=N,w[D]=R,k[D]=C),!a){var z=R*c+A;!a&&p[z]>N&&(p[z]=N,w[z]=A,k[z]=C)}}}for(var j=0;j<c;j++)for(var V=0;V<c;V++)for(var Y=V*c+j,Z=0;Z<c;Z++){var X=V*c+Z,G=j*c+Z;p[Y]+p[G]<p[X]&&(p[X]=p[Y]+p[G],w[X]=w[Y])}var ee=function(q){return(tt(q)?n.filter(q):q)[0]},B=function(q){return h(ee(q))},K={distance:function(q,he){var de=B(q),oe=B(he);return p[de*c+oe]},path:function(q,he){var de=B(q),oe=B(he),ke=d(de);if(de===oe)return ke.collection();if(w[de*c+oe]==null)return n.collection();var Ae=n.collection(),Se=de,ce;for(Ae.merge(ke);de!==oe;)Se=de,de=w[de*c+oe],ce=k[Se*c+de],Ae.merge(ce),Ae.merge(d(de));return Ae}};return K}},Eee=xr({weight:function(t){return 1},directed:!1,root:null}),Pee={bellmanFord:function(t){var n=this,r=Eee(t),i=r.weight,a=r.directed,s=r.root,o=i,l=this,u=this.cy(),c=this.byGroup(),f=c.edges,h=c.nodes,d=h.length,p=new Fa,v=!1,x=[];s=u.collection(s)[0],f.unmergeBy(function(Tt){return Tt.isLoop()});for(var y=f.length,w=function(He){var $e=p.get(He.id());return $e||($e={},p.set(He.id(),$e)),$e},k=function(He){return(tt(He)?u.$(He):He)[0]},_=function(He){return w(k(He)).dist},C=function(He){for(var $e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:s,Qe=k(He),nt=[],Je=Qe;;){if(Je==null)return n.spawn();var rt=w(Je),lt=rt.edge,bt=rt.pred;if(nt.unshift(Je[0]),Je.same($e)&&nt.length>0)break;lt!=null&&nt.unshift(lt),Je=bt}return l.spawn(nt)},T=0;T<d;T++){var E=h[T],A=w(E);E.same(s)?A.dist=0:A.dist=1/0,A.pred=null,A.edge=null}for(var R=!1,D=function(He,$e,Qe,nt,Je,rt){var lt=nt.dist+rt;lt<Je.dist&&!Qe.same(nt.edge)&&(Je.dist=lt,Je.pred=He,Je.edge=Qe,R=!0)},N=1;N<d;N++){R=!1;for(var z=0;z<y;z++){var j=f[z],V=j.source(),Y=j.target(),Z=o(j),X=w(V),G=w(Y);D(V,Y,j,X,G,Z),a||D(Y,V,j,G,X,Z)}if(!R)break}if(R)for(var ee=[],B=0;B<y;B++){var K=f[B],J=K.source(),q=K.target(),he=o(K),de=w(J).dist,oe=w(q).dist;if(de+he<oe||!a&&oe+he<de)if(v||(Vt("Graph contains a negative weight cycle for Bellman-Ford"),v=!0),t.findNegativeWeightCycles!==!1){var ke=[];de+he<oe&&ke.push(J),!a&&oe+he<de&&ke.push(q);for(var Ae=ke.length,Se=0;Se<Ae;Se++){var ce=ke[Se],ge=[ce];ge.push(w(ce).edge);for(var me=w(ce).pred;ge.indexOf(me)===-1;)ge.push(me),ge.push(w(me).edge),me=w(me).pred;ge=ge.slice(ge.indexOf(me));for(var Ee=ge[0].id(),je=0,ct=2;ct<ge.length;ct+=2)ge[ct].id()<Ee&&(Ee=ge[ct].id(),je=ct);ge=ge.slice(je).concat(ge.slice(0,je)),ge.push(ge[0]);var zt=ge.map(function(Tt){return Tt.id()}).join(",");ee.indexOf(zt)===-1&&(x.push(l.spawn(ge)),ee.push(zt))}}else break}return{distanceTo:_,pathTo:C,hasNegativeWeightCycle:v,negativeWeightCycles:x}}},Mee=Math.sqrt(2),Aee=function(t,n,r){r.length===0&&Tn("Karger-Stein must be run on a connected (sub)graph");for(var i=r[t],a=i[1],s=i[2],o=n[a],l=n[s],u=r,c=u.length-1;c>=0;c--){var f=u[c],h=f[1],d=f[2];(n[h]===o&&n[d]===l||n[h]===l&&n[d]===o)&&u.splice(c,1)}for(var p=0;p<u.length;p++){var v=u[p];v[1]===l?(u[p]=v.slice(),u[p][1]=o):v[2]===l&&(u[p]=v.slice(),u[p][2]=o)}for(var x=0;x<n.length;x++)n[x]===l&&(n[x]=o);return u},Xv=function(t,n,r,i){for(;r>i;){var a=Math.floor(Math.random()*n.length);n=Aee(a,t,n),r--}return n},Dee={kargerStein:function(){var t=this,n=this.byGroup(),r=n.nodes,i=n.edges;i.unmergeBy(function(G){return G.isLoop()});var a=r.length,s=i.length,o=Math.ceil(Math.pow(Math.log(a)/Math.LN2,2)),l=Math.floor(a/Mee);if(a<2){Tn("At least 2 nodes are required for Karger-Stein algorithm");return}for(var u=[],c=0;c<s;c++){var f=i[c];u.push([c,r.indexOf(f.source()),r.indexOf(f.target())])}for(var h=1/0,d=[],p=new Array(a),v=new Array(a),x=new Array(a),y=function(ee,B){for(var K=0;K<a;K++)B[K]=ee[K]},w=0;w<=o;w++){for(var k=0;k<a;k++)v[k]=k;var _=Xv(v,u.slice(),a,l),C=_.slice();y(v,x);var T=Xv(v,_,l,2),E=Xv(x,C,l,2);T.length<=E.length&&T.length<h?(h=T.length,d=T,y(v,p)):E.length<=T.length&&E.length<h&&(h=E.length,d=E,y(x,p))}for(var A=this.spawn(d.map(function(G){return i[G[0]]})),R=this.spawn(),D=this.spawn(),N=p[0],z=0;z<p.length;z++){var j=p[z],V=r[z];j===N?R.merge(V):D.merge(V)}var Y=function(ee){var B=t.spawn();return ee.forEach(function(K){B.merge(K),K.connectedEdges().forEach(function(J){t.contains(J)&&!A.contains(J)&&B.merge(J)})}),B},Z=[Y(R),Y(D)],X={cut:A,components:Z,partition1:R,partition2:D};return X}},Iee=function(t){return{x:t.x,y:t.y}},Og=function(t,n,r){return{x:t.x*n+r.x,y:t.y*n+r.y}},SM=function(t,n,r){return{x:(t.x-r.x)/n,y:(t.y-r.y)/n}},Wl=function(t){return{x:t[0],y:t[1]}},Lee=function(t){for(var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.length,i=1/0,a=n;a<r;a++){var s=t[a];isFinite(s)&&(i=Math.min(s,i))}return i},Oee=function(t){for(var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.length,i=-1/0,a=n;a<r;a++){var s=t[a];isFinite(s)&&(i=Math.max(s,i))}return i},Ree=function(t){for(var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.length,i=0,a=0,s=n;s<r;s++){var o=t[s];isFinite(o)&&(i+=o,a++)}return i/a},Nee=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.length,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0;i?t=t.slice(n,r):(r<t.length&&t.splice(r,t.length-r),n>0&&t.splice(0,n));for(var o=0,l=t.length-1;l>=0;l--){var u=t[l];s?isFinite(u)||(t[l]=-1/0,o++):t.splice(l,1)}a&&t.sort(function(h,d){return h-d});var c=t.length,f=Math.floor(c/2);return c%2!==0?t[f+1+o]:(t[f-1+o]+t[f+o])/2},zee=function(t){return Math.PI*t/180},Ah=function(t,n){return Math.atan2(n,t)-Math.PI/2},_b=Math.log2||function(e){return Math.log(e)/Math.log(2)},Cb=function(t){return t>0?1:t<0?-1:0},Xo=function(t,n){return Math.sqrt(bo(t,n))},bo=function(t,n){var r=n.x-t.x,i=n.y-t.y;return r*r+i*i},Bee=function(t){for(var n=t.length,r=0,i=0;i<n;i++)r+=t[i];for(var a=0;a<n;a++)t[a]=t[a]/r;return t},sr=function(t,n,r,i){return(1-i)*(1-i)*t+2*(1-i)*i*n+i*i*r},lu=function(t,n,r,i){return{x:sr(t.x,n.x,r.x,i),y:sr(t.y,n.y,r.y,i)}},Fee=function(t,n,r,i){var a={x:n.x-t.x,y:n.y-t.y},s=Xo(t,n),o={x:a.x/s,y:a.y/s};return r=r??0,i=i??r*s,{x:t.x+o.x*i,y:t.y+o.y*i}},Ff=function(t,n,r){return Math.max(t,Math.min(r,n))},Qr=function(t){if(t==null)return{x1:1/0,y1:1/0,x2:-1/0,y2:-1/0,w:0,h:0};if(t.x1!=null&&t.y1!=null){if(t.x2!=null&&t.y2!=null&&t.x2>=t.x1&&t.y2>=t.y1)return{x1:t.x1,y1:t.y1,x2:t.x2,y2:t.y2,w:t.x2-t.x1,h:t.y2-t.y1};if(t.w!=null&&t.h!=null&&t.w>=0&&t.h>=0)return{x1:t.x1,y1:t.y1,x2:t.x1+t.w,y2:t.y1+t.h,w:t.w,h:t.h}}},$ee=function(t){return{x1:t.x1,x2:t.x2,w:t.w,y1:t.y1,y2:t.y2,h:t.h}},jee=function(t){t.x1=1/0,t.y1=1/0,t.x2=-1/0,t.y2=-1/0,t.w=0,t.h=0},qee=function(t,n,r){return{x1:t.x1+n,x2:t.x2+n,y1:t.y1+r,y2:t.y2+r,w:t.w,h:t.h}},_M=function(t,n){t.x1=Math.min(t.x1,n.x1),t.x2=Math.max(t.x2,n.x2),t.w=t.x2-t.x1,t.y1=Math.min(t.y1,n.y1),t.y2=Math.max(t.y2,n.y2),t.h=t.y2-t.y1},Hee=function(t,n,r){t.x1=Math.min(t.x1,n),t.x2=Math.max(t.x2,n),t.w=t.x2-t.x1,t.y1=Math.min(t.y1,r),t.y2=Math.max(t.y2,r),t.h=t.y2-t.y1},pd=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return t.x1-=n,t.x2+=n,t.y1-=n,t.y2+=n,t.w=t.x2-t.x1,t.h=t.y2-t.y1,t},gd=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[0],r,i,a,s;if(n.length===1)r=i=a=s=n[0];else if(n.length===2)r=a=n[0],s=i=n[1];else if(n.length===4){var o=tr(n,4);r=o[0],i=o[1],a=o[2],s=o[3]}return t.x1-=s,t.x2+=i,t.y1-=r,t.y2+=a,t.w=t.x2-t.x1,t.h=t.y2-t.y1,t},G8=function(t,n){t.x1=n.x1,t.y1=n.y1,t.x2=n.x2,t.y2=n.y2,t.w=t.x2-t.x1,t.h=t.y2-t.y1},Tb=function(t,n){return!(t.x1>n.x2||n.x1>t.x2||t.x2<n.x1||n.x2<t.x1||t.y2<n.y1||n.y2<t.y1||t.y1>n.y2||n.y1>t.y2)},Au=function(t,n,r){return t.x1<=n&&n<=t.x2&&t.y1<=r&&r<=t.y2},Vee=function(t,n){return Au(t,n.x,n.y)},Uee=function(t,n){return Au(t,n.x1,n.y1)&&Au(t,n.x2,n.y2)},CM=function(t,n,r,i,a,s,o){var l=arguments.length>7&&arguments[7]!==void 0?arguments[7]:"auto",u=l==="auto"?qs(a,s):l,c=a/2,f=s/2;u=Math.min(u,c,f);var h=u!==c,d=u!==f,p;if(h){var v=r-c+u-o,x=i-f-o,y=r+c-u+o,w=x;if(p=ws(t,n,r,i,v,x,y,w,!1),p.length>0)return p}if(d){var k=r+c+o,_=i-f+u-o,C=k,T=i+f-u+o;if(p=ws(t,n,r,i,k,_,C,T,!1),p.length>0)return p}if(h){var E=r-c+u-o,A=i+f+o,R=r+c-u+o,D=A;if(p=ws(t,n,r,i,E,A,R,D,!1),p.length>0)return p}if(d){var N=r-c-o,z=i-f+u-o,j=N,V=i+f-u+o;if(p=ws(t,n,r,i,N,z,j,V,!1),p.length>0)return p}var Y;{var Z=r-c+u,X=i-f+u;if(Y=Lc(t,n,r,i,Z,X,u+o),Y.length>0&&Y[0]<=Z&&Y[1]<=X)return[Y[0],Y[1]]}{var G=r+c-u,ee=i-f+u;if(Y=Lc(t,n,r,i,G,ee,u+o),Y.length>0&&Y[0]>=G&&Y[1]<=ee)return[Y[0],Y[1]]}{var B=r+c-u,K=i+f-u;if(Y=Lc(t,n,r,i,B,K,u+o),Y.length>0&&Y[0]>=B&&Y[1]>=K)return[Y[0],Y[1]]}{var J=r-c+u,q=i+f-u;if(Y=Lc(t,n,r,i,J,q,u+o),Y.length>0&&Y[0]<=J&&Y[1]>=q)return[Y[0],Y[1]]}return[]},Wee=function(t,n,r,i,a,s,o){var l=o,u=Math.min(r,a),c=Math.max(r,a),f=Math.min(i,s),h=Math.max(i,s);return u-l<=t&&t<=c+l&&f-l<=n&&n<=h+l},Gee=function(t,n,r,i,a,s,o,l,u){var c={x1:Math.min(r,o,a)-u,x2:Math.max(r,o,a)+u,y1:Math.min(i,l,s)-u,y2:Math.max(i,l,s)+u};return!(t<c.x1||t>c.x2||n<c.y1||n>c.y2)},Yee=function(t,n,r,i){r-=i;var a=n*n-4*t*r;if(a<0)return[];var s=Math.sqrt(a),o=2*t,l=(-n+s)/o,u=(-n-s)/o;return[l,u]},Xee=function(t,n,r,i,a){var s=1e-5;t===0&&(t=s),n/=t,r/=t,i/=t;var o,l,u,c,f,h,d,p;if(l=(3*r-n*n)/9,u=-(27*i)+n*(9*r-2*(n*n)),u/=54,o=l*l*l+u*u,a[1]=0,d=n/3,o>0){f=u+Math.sqrt(o),f=f<0?-Math.pow(-f,1/3):Math.pow(f,1/3),h=u-Math.sqrt(o),h=h<0?-Math.pow(-h,1/3):Math.pow(h,1/3),a[0]=-d+f+h,d+=(f+h)/2,a[4]=a[2]=-d,d=Math.sqrt(3)*(-h+f)/2,a[3]=d,a[5]=-d;return}if(a[5]=a[3]=0,o===0){p=u<0?-Math.pow(-u,1/3):Math.pow(u,1/3),a[0]=-d+2*p,a[4]=a[2]=-(p+d);return}l=-l,c=l*l*l,c=Math.acos(u/Math.sqrt(c)),p=2*Math.sqrt(l),a[0]=-d+p*Math.cos(c/3),a[2]=-d+p*Math.cos((c+2*Math.PI)/3),a[4]=-d+p*Math.cos((c+4*Math.PI)/3)},Kee=function(t,n,r,i,a,s,o,l){var u=1*r*r-4*r*a+2*r*o+4*a*a-4*a*o+o*o+i*i-4*i*s+2*i*l+4*s*s-4*s*l+l*l,c=1*9*r*a-3*r*r-3*r*o-6*a*a+3*a*o+9*i*s-3*i*i-3*i*l-6*s*s+3*s*l,f=1*3*r*r-6*r*a+r*o-r*t+2*a*a+2*a*t-o*t+3*i*i-6*i*s+i*l-i*n+2*s*s+2*s*n-l*n,h=1*r*a-r*r+r*t-a*t+i*s-i*i+i*n-s*n,d=[];Xee(u,c,f,h,d);for(var p=1e-7,v=[],x=0;x<6;x+=2)Math.abs(d[x+1])<p&&d[x]>=0&&d[x]<=1&&v.push(d[x]);v.push(1),v.push(0);for(var y=-1,w,k,_,C=0;C<v.length;C++)w=Math.pow(1-v[C],2)*r+2*(1-v[C])*v[C]*a+v[C]*v[C]*o,k=Math.pow(1-v[C],2)*i+2*(1-v[C])*v[C]*s+v[C]*v[C]*l,_=Math.pow(w-t,2)+Math.pow(k-n,2),y>=0?_<y&&(y=_):y=_;return y},Qee=function(t,n,r,i,a,s){var o=[t-r,n-i],l=[a-r,s-i],u=l[0]*l[0]+l[1]*l[1],c=o[0]*o[0]+o[1]*o[1],f=o[0]*l[0]+o[1]*l[1],h=f*f/u;return f<0?c:h>u?(t-a)*(t-a)+(n-s)*(n-s):c-h},Hr=function(t,n,r){for(var i,a,s,o,l,u=0,c=0;c<r.length/2;c++)if(i=r[c*2],a=r[c*2+1],c+1<r.length/2?(s=r[(c+1)*2],o=r[(c+1)*2+1]):(s=r[(c+1-r.length/2)*2],o=r[(c+1-r.length/2)*2+1]),!(i==t&&s==t))if(i>=t&&t>=s||i<=t&&t<=s)l=(t-i)/(s-i)*(o-a)+a,l>n&&u++;else continue;return u%2!==0},Ka=function(t,n,r,i,a,s,o,l,u){var c=new Array(r.length),f;l[0]!=null?(f=Math.atan(l[1]/l[0]),l[0]<0?f=f+Math.PI/2:f=-f-Math.PI/2):f=l;for(var h=Math.cos(-f),d=Math.sin(-f),p=0;p<c.length/2;p++)c[p*2]=s/2*(r[p*2]*h-r[p*2+1]*d),c[p*2+1]=o/2*(r[p*2+1]*h+r[p*2]*d),c[p*2]+=i,c[p*2+1]+=a;var v;if(u>0){var x=_p(c,-u);v=Sp(x)}else v=c;return Hr(t,n,v)},Zee=function(t,n,r,i,a,s,o,l){for(var u=new Array(r.length*2),c=0;c<l.length;c++){var f=l[c];u[c*4+0]=f.startX,u[c*4+1]=f.startY,u[c*4+2]=f.stopX,u[c*4+3]=f.stopY;var h=Math.pow(f.cx-t,2)+Math.pow(f.cy-n,2);if(h<=Math.pow(f.radius,2))return!0}return Hr(t,n,u)},Sp=function(t){for(var n=new Array(t.length/2),r,i,a,s,o,l,u,c,f=0;f<t.length/4;f++){r=t[f*4],i=t[f*4+1],a=t[f*4+2],s=t[f*4+3],f<t.length/4-1?(o=t[(f+1)*4],l=t[(f+1)*4+1],u=t[(f+1)*4+2],c=t[(f+1)*4+3]):(o=t[0],l=t[1],u=t[2],c=t[3]);var h=ws(r,i,a,s,o,l,u,c,!0);n[f*2]=h[0],n[f*2+1]=h[1]}return n},_p=function(t,n){for(var r=new Array(t.length*2),i,a,s,o,l=0;l<t.length/2;l++){i=t[l*2],a=t[l*2+1],l<t.length/2-1?(s=t[(l+1)*2],o=t[(l+1)*2+1]):(s=t[0],o=t[1]);var u=o-a,c=-(s-i),f=Math.sqrt(u*u+c*c),h=u/f,d=c/f;r[l*4]=i+h*n,r[l*4+1]=a+d*n,r[l*4+2]=s+h*n,r[l*4+3]=o+d*n}return r},Jee=function(t,n,r,i,a,s){var o=r-t,l=i-n;o/=a,l/=s;var u=Math.sqrt(o*o+l*l),c=u-1;if(c<0)return[];var f=c/u;return[(r-t)*f+t,(i-n)*f+n]},Lo=function(t,n,r,i,a,s,o){return t-=a,n-=s,t/=r/2+o,n/=i/2+o,t*t+n*n<=1},Lc=function(t,n,r,i,a,s,o){var l=[r-t,i-n],u=[t-a,n-s],c=l[0]*l[0]+l[1]*l[1],f=2*(u[0]*l[0]+u[1]*l[1]),h=u[0]*u[0]+u[1]*u[1]-o*o,d=f*f-4*c*h;if(d<0)return[];var p=(-f+Math.sqrt(d))/(2*c),v=(-f-Math.sqrt(d))/(2*c),x=Math.min(p,v),y=Math.max(p,v),w=[];if(x>=0&&x<=1&&w.push(x),y>=0&&y<=1&&w.push(y),w.length===0)return[];var k=w[0]*l[0]+t,_=w[0]*l[1]+n;if(w.length>1){if(w[0]==w[1])return[k,_];var C=w[1]*l[0]+t,T=w[1]*l[1]+n;return[k,_,C,T]}else return[k,_]},Kv=function(t,n,r){return n<=t&&t<=r||r<=t&&t<=n?t:t<=n&&n<=r||r<=n&&n<=t?n:r},ws=function(t,n,r,i,a,s,o,l,u){var c=t-a,f=r-t,h=o-a,d=n-s,p=i-n,v=l-s,x=h*d-v*c,y=f*d-p*c,w=v*f-h*p;if(w!==0){var k=x/w,_=y/w,C=.001,T=0-C,E=1+C;return T<=k&&k<=E&&T<=_&&_<=E?[t+k*f,n+k*p]:u?[t+k*f,n+k*p]:[]}else return x===0||y===0?Kv(t,r,o)===o?[o,l]:Kv(t,r,a)===a?[a,s]:Kv(a,o,r)===r?[r,i]:[]:[]},$f=function(t,n,r,i,a,s,o,l){var u=[],c,f=new Array(r.length),h=!0;s==null&&(h=!1);var d;if(h){for(var p=0;p<f.length/2;p++)f[p*2]=r[p*2]*s+i,f[p*2+1]=r[p*2+1]*o+a;if(l>0){var v=_p(f,-l);d=Sp(v)}else d=f}else d=r;for(var x,y,w,k,_=0;_<d.length/2;_++)x=d[_*2],y=d[_*2+1],_<d.length/2-1?(w=d[(_+1)*2],k=d[(_+1)*2+1]):(w=d[0],k=d[1]),c=ws(t,n,i,a,x,y,w,k),c.length!==0&&u.push(c[0],c[1]);return u},ete=function(t,n,r,i,a,s,o,l,u){var c=[],f,h=new Array(r.length*2);u.forEach(function(w,k){k===0?(h[h.length-2]=w.startX,h[h.length-1]=w.startY):(h[k*4-2]=w.startX,h[k*4-1]=w.startY),h[k*4]=w.stopX,h[k*4+1]=w.stopY,f=Lc(t,n,i,a,w.cx,w.cy,w.radius),f.length!==0&&c.push(f[0],f[1])});for(var d=0;d<h.length/4;d++)f=ws(t,n,i,a,h[d*4],h[d*4+1],h[d*4+2],h[d*4+3],!1),f.length!==0&&c.push(f[0],f[1]);if(c.length>2){for(var p=[c[0],c[1]],v=Math.pow(p[0]-t,2)+Math.pow(p[1]-n,2),x=1;x<c.length/2;x++){var y=Math.pow(c[x*2]-t,2)+Math.pow(c[x*2+1]-n,2);y<=v&&(p[0]=c[x*2],p[1]=c[x*2+1],v=y)}return p}return c},Dh=function(t,n,r){var i=[t[0]-n[0],t[1]-n[1]],a=Math.sqrt(i[0]*i[0]+i[1]*i[1]),s=(a-r)/a;return s<0&&(s=1e-5),[n[0]+s*i[0],n[1]+s*i[1]]},Dr=function(t,n){var r=e4(t,n);return r=TM(r),r},TM=function(t){for(var n,r,i=t.length/2,a=1/0,s=1/0,o=-1/0,l=-1/0,u=0;u<i;u++)n=t[2*u],r=t[2*u+1],a=Math.min(a,n),o=Math.max(o,n),s=Math.min(s,r),l=Math.max(l,r);for(var c=2/(o-a),f=2/(l-s),h=0;h<i;h++)n=t[2*h]=t[2*h]*c,r=t[2*h+1]=t[2*h+1]*f,a=Math.min(a,n),o=Math.max(o,n),s=Math.min(s,r),l=Math.max(l,r);if(s<-1)for(var d=0;d<i;d++)r=t[2*d+1]=t[2*d+1]+(-1-s);return t},e4=function(t,n){var r=1/t*2*Math.PI,i=t%2===0?Math.PI/2+r/2:Math.PI/2;i+=n;for(var a=new Array(t*2),s,o=0;o<t;o++)s=o*r+i,a[2*o]=Math.cos(s),a[2*o+1]=Math.sin(-s);return a},qs=function(t,n){return Math.min(t/4,n/4,8)},EM=function(t,n){return Math.min(t/10,n/10,8)},Eb=function(){return 8},tte=function(t,n,r){return[t-2*n+r,2*(n-t),t]},t4=function(t,n){return{heightOffset:Math.min(15,.05*n),widthOffset:Math.min(100,.25*t),ctrlPtOffsetPct:.05}};function nte(e,t){function n(f){for(var h=[],d=0;d<f.length;d++){var p=f[d],v=f[(d+1)%f.length],x={x:v.x-p.x,y:v.y-p.y},y={x:-x.y,y:x.x},w=Math.sqrt(y.x*y.x+y.y*y.y);h.push({x:y.x/w,y:y.y/w})}return h}function r(f,h){var d=1/0,p=-1/0,v=Wr(f),x;try{for(v.s();!(x=v.n()).done;){var y=x.value,w=y.x*h.x+y.y*h.y;d=Math.min(d,w),p=Math.max(p,w)}}catch(k){v.e(k)}finally{v.f()}return{min:d,max:p}}function i(f,h){return!(f.max<h.min||h.max<f.min)}var a=[].concat(xp(n(e)),xp(n(t))),s=Wr(a),o;try{for(s.s();!(o=s.n()).done;){var l=o.value,u=r(e,l),c=r(t,l);if(!i(u,c))return!1}}catch(f){s.e(f)}finally{s.f()}return!0}var rte=xr({dampingFactor:.8,precision:1e-6,iterations:200,weight:function(t){return 1}}),ite={pageRank:function(t){for(var n=rte(t),r=n.dampingFactor,i=n.precision,a=n.iterations,s=n.weight,o=this._private.cy,l=this.byGroup(),u=l.nodes,c=l.edges,f=u.length,h=f*f,d=c.length,p=new Array(h),v=new Array(f),x=(1-r)/f,y=0;y<f;y++){for(var w=0;w<f;w++){var k=y*f+w;p[k]=0}v[y]=0}for(var _=0;_<d;_++){var C=c[_],T=C.data("source"),E=C.data("target");if(T!==E){var A=u.indexOfId(T),R=u.indexOfId(E),D=s(C),N=R*f+A;p[N]+=D,v[A]+=D}}for(var z=1/f+x,j=0;j<f;j++)if(v[j]===0)for(var V=0;V<f;V++){var Y=V*f+j;p[Y]=z}else for(var Z=0;Z<f;Z++){var X=Z*f+j;p[X]=p[X]/v[j]+x}for(var G=new Array(f),ee=new Array(f),B,K=0;K<f;K++)G[K]=1;for(var J=0;J<a;J++){for(var q=0;q<f;q++)ee[q]=0;for(var he=0;he<f;he++)for(var de=0;de<f;de++){var oe=he*f+de;ee[he]+=p[oe]*G[de]}Bee(ee),B=G,G=ee,ee=B;for(var ke=0,Ae=0;Ae<f;Ae++){var Se=B[Ae]-G[Ae];ke+=Se*Se}if(ke<i)break}var ce={rank:function(me){return me=o.collection(me)[0],G[u.indexOf(me)]}};return ce}},Y8=xr({root:null,weight:function(t){return 1},directed:!1,alpha:0}),uu={degreeCentralityNormalized:function(t){t=Y8(t);var n=this.cy(),r=this.nodes(),i=r.length;if(t.directed){for(var c={},f={},h=0,d=0,p=0;p<i;p++){var v=r[p],x=v.id();t.root=v;var y=this.degreeCentrality(t);h<y.indegree&&(h=y.indegree),d<y.outdegree&&(d=y.outdegree),c[x]=y.indegree,f[x]=y.outdegree}return{indegree:function(k){return h==0?0:(tt(k)&&(k=n.filter(k)),c[k.id()]/h)},outdegree:function(k){return d===0?0:(tt(k)&&(k=n.filter(k)),f[k.id()]/d)}}}else{for(var a={},s=0,o=0;o<i;o++){var l=r[o];t.root=l;var u=this.degreeCentrality(t);s<u.degree&&(s=u.degree),a[l.id()]=u.degree}return{degree:function(k){return s===0?0:(tt(k)&&(k=n.filter(k)),a[k.id()]/s)}}}},degreeCentrality:function(t){t=Y8(t);var n=this.cy(),r=this,i=t,a=i.root,s=i.weight,o=i.directed,l=i.alpha;if(a=n.collection(a)[0],o){for(var d=a.connectedEdges(),p=d.filter(function(T){return T.target().same(a)&&r.has(T)}),v=d.filter(function(T){return T.source().same(a)&&r.has(T)}),x=p.length,y=v.length,w=0,k=0,_=0;_<p.length;_++)w+=s(p[_]);for(var C=0;C<v.length;C++)k+=s(v[C]);return{indegree:Math.pow(x,1-l)*Math.pow(w,l),outdegree:Math.pow(y,1-l)*Math.pow(k,l)}}else{for(var u=a.connectedEdges().intersection(r),c=u.length,f=0,h=0;h<u.length;h++)f+=s(u[h]);return{degree:Math.pow(c,1-l)*Math.pow(f,l)}}}};uu.dc=uu.degreeCentrality;uu.dcn=uu.degreeCentralityNormalised=uu.degreeCentralityNormalized;var X8=xr({harmonic:!0,weight:function(){return 1},directed:!1,root:null}),cu={closenessCentralityNormalized:function(t){for(var n=X8(t),r=n.harmonic,i=n.weight,a=n.directed,s=this.cy(),o={},l=0,u=this.nodes(),c=this.floydWarshall({weight:i,directed:a}),f=0;f<u.length;f++){for(var h=0,d=u[f],p=0;p<u.length;p++)if(f!==p){var v=c.distance(d,u[p]);r?h+=1/v:h+=v}r||(h=1/h),l<h&&(l=h),o[d.id()]=h}return{closeness:function(y){return l==0?0:(tt(y)?y=s.filter(y)[0].id():y=y.id(),o[y]/l)}}},closenessCentrality:function(t){var n=X8(t),r=n.root,i=n.weight,a=n.directed,s=n.harmonic;r=this.filter(r)[0];for(var o=this.dijkstra({root:r,weight:i,directed:a}),l=0,u=this.nodes(),c=0;c<u.length;c++){var f=u[c];if(!f.same(r)){var h=o.distanceTo(f);s?l+=1/h:l+=h}}return s?l:1/l}};cu.cc=cu.closenessCentrality;cu.ccn=cu.closenessCentralityNormalised=cu.closenessCentralityNormalized;var ate=xr({weight:null,directed:!1}),n4={betweennessCentrality:function(t){for(var n=ate(t),r=n.directed,i=n.weight,a=i!=null,s=this.cy(),o=this.nodes(),l={},u={},c=0,f={set:function(k,_){u[k]=_,_>c&&(c=_)},get:function(k){return u[k]}},h=0;h<o.length;h++){var d=o[h],p=d.id();r?l[p]=d.outgoers().nodes():l[p]=d.openNeighborhood().nodes(),f.set(p,0)}for(var v=function(){for(var k=o[x].id(),_=[],C={},T={},E={},A=new g0(function(he,de){return E[he]-E[de]}),R=0;R<o.length;R++){var D=o[R].id();C[D]=[],T[D]=0,E[D]=1/0}for(T[k]=1,E[k]=0,A.push(k);!A.empty();){var N=A.pop();if(_.push(N),a)for(var z=0;z<l[N].length;z++){var j=l[N][z],V=s.getElementById(N),Y=void 0;V.edgesTo(j).length>0?Y=V.edgesTo(j)[0]:Y=j.edgesTo(V)[0];var Z=i(Y);j=j.id(),E[j]>E[N]+Z&&(E[j]=E[N]+Z,A.nodes.indexOf(j)<0?A.push(j):A.updateItem(j),T[j]=0,C[j]=[]),E[j]==E[N]+Z&&(T[j]=T[j]+T[N],C[j].push(N))}else for(var X=0;X<l[N].length;X++){var G=l[N][X].id();E[G]==1/0&&(A.push(G),E[G]=E[N]+1),E[G]==E[N]+1&&(T[G]=T[G]+T[N],C[G].push(N))}}for(var ee={},B=0;B<o.length;B++)ee[o[B].id()]=0;for(;_.length>0;){for(var K=_.pop(),J=0;J<C[K].length;J++){var q=C[K][J];ee[q]=ee[q]+T[q]/T[K]*(1+ee[K])}K!=o[x].id()&&f.set(K,f.get(K)+ee[K])}},x=0;x<o.length;x++)v();var y={betweenness:function(k){var _=s.collection(k).id();return f.get(_)},betweennessNormalized:function(k){if(c==0)return 0;var _=s.collection(k).id();return f.get(_)/c}};return y.betweennessNormalised=y.betweennessNormalized,y}};n4.bc=n4.betweennessCentrality;var ste=xr({expandFactor:2,inflateFactor:2,multFactor:1,maxIterations:20,attributes:[function(e){return 1}]}),ote=function(t){return ste(t)},lte=function(t,n){for(var r=0,i=0;i<n.length;i++)r+=n[i](t);return r},ute=function(t,n,r){for(var i=0;i<n;i++)t[i*n+i]=r},PM=function(t,n){for(var r,i=0;i<n;i++){r=0;for(var a=0;a<n;a++)r+=t[a*n+i];for(var s=0;s<n;s++)t[s*n+i]=t[s*n+i]/r}},cte=function(t,n,r){for(var i=new Array(r*r),a=0;a<r;a++){for(var s=0;s<r;s++)i[a*r+s]=0;for(var o=0;o<r;o++)for(var l=0;l<r;l++)i[a*r+l]+=t[a*r+o]*n[o*r+l]}return i},fte=function(t,n,r){for(var i=t.slice(0),a=1;a<r;a++)t=cte(t,i,n);return t},hte=function(t,n,r){for(var i=new Array(n*n),a=0;a<n*n;a++)i[a]=Math.pow(t[a],r);return PM(i,n),i},dte=function(t,n,r,i){for(var a=0;a<r;a++){var s=Math.round(t[a]*Math.pow(10,i))/Math.pow(10,i),o=Math.round(n[a]*Math.pow(10,i))/Math.pow(10,i);if(s!==o)return!1}return!0},pte=function(t,n,r,i){for(var a=[],s=0;s<n;s++){for(var o=[],l=0;l<n;l++)Math.round(t[s*n+l]*1e3)/1e3>0&&o.push(r[l]);o.length!==0&&a.push(i.collection(o))}return a},gte=function(t,n){for(var r=0;r<t.length;r++)if(!n[r]||t[r].id()!==n[r].id())return!1;return!0},mte=function(t){for(var n=0;n<t.length;n++)for(var r=0;r<t.length;r++)n!=r&&gte(t[n],t[r])&&t.splice(r,1);return t},K8=function(t){for(var n=this.nodes(),r=this.edges(),i=this.cy(),a=ote(t),s={},o=0;o<n.length;o++)s[n[o].id()]=o;for(var l=n.length,u=l*l,c=new Array(u),f,h=0;h<u;h++)c[h]=0;for(var d=0;d<r.length;d++){var p=r[d],v=s[p.source().id()],x=s[p.target().id()],y=lte(p,a.attributes);c[v*l+x]+=y,c[x*l+v]+=y}ute(c,l,a.multFactor),PM(c,l);for(var w=!0,k=0;w&&k<a.maxIterations;)w=!1,f=fte(c,l,a.expandFactor),c=hte(f,l,a.inflateFactor),dte(c,f,u,4)||(w=!0),k++;var _=pte(c,l,n,i);return _=mte(_),_},vte={markovClustering:K8,mcl:K8},yte=function(t){return t},MM=function(t,n){return Math.abs(n-t)},Q8=function(t,n,r){return t+MM(n,r)},Z8=function(t,n,r){return t+Math.pow(r-n,2)},xte=function(t){return Math.sqrt(t)},bte=function(t,n,r){return Math.max(t,MM(n,r))},yc=function(t,n,r,i,a){for(var s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:yte,o=i,l,u,c=0;c<t;c++)l=n(c),u=r(c),o=a(o,l,u);return s(o)},Du={euclidean:function(t,n,r){return t>=2?yc(t,n,r,0,Z8,xte):yc(t,n,r,0,Q8)},squaredEuclidean:function(t,n,r){return yc(t,n,r,0,Z8)},manhattan:function(t,n,r){return yc(t,n,r,0,Q8)},max:function(t,n,r){return yc(t,n,r,-1/0,bte)}};Du["squared-euclidean"]=Du.squaredEuclidean;Du.squaredeuclidean=Du.squaredEuclidean;function Rg(e,t,n,r,i,a){var s;return Mn(e)?s=e:s=Du[e]||Du.euclidean,t===0&&Mn(e)?s(i,a):s(t,n,r,i,a)}var wte=xr({k:2,m:2,sensitivityThreshold:1e-4,distance:"euclidean",maxIterations:10,attributes:[],testMode:!1,testCentroids:null}),Pb=function(t){return wte(t)},Cp=function(t,n,r,i,a){var s=a!=="kMedoids",o=s?function(f){return r[f]}:function(f){return i[f](r)},l=function(h){return i[h](n)},u=r,c=n;return Rg(t,i.length,o,l,u,c)},Qv=function(t,n,r){for(var i=r.length,a=new Array(i),s=new Array(i),o=new Array(n),l=null,u=0;u<i;u++)a[u]=t.min(r[u]).value,s[u]=t.max(r[u]).value;for(var c=0;c<n;c++){l=[];for(var f=0;f<i;f++)l[f]=Math.random()*(s[f]-a[f])+a[f];o[c]=l}return o},AM=function(t,n,r,i,a){for(var s=1/0,o=0,l=0;l<n.length;l++){var u=Cp(r,t,n[l],i,a);u<s&&(s=u,o=l)}return o},DM=function(t,n,r){for(var i=[],a=null,s=0;s<n.length;s++)a=n[s],r[a.id()]===t&&i.push(a);return i},kte=function(t,n,r){return Math.abs(n-t)<=r},Ste=function(t,n,r){for(var i=0;i<t.length;i++)for(var a=0;a<t[i].length;a++){var s=Math.abs(t[i][a]-n[i][a]);if(s>r)return!1}return!0},_te=function(t,n,r){for(var i=0;i<r;i++)if(t===n[i])return!0;return!1},J8=function(t,n){var r=new Array(n);if(t.length<50)for(var i=0;i<n;i++){for(var a=t[Math.floor(Math.random()*t.length)];_te(a,r,i);)a=t[Math.floor(Math.random()*t.length)];r[i]=a}else for(var s=0;s<n;s++)r[s]=t[Math.floor(Math.random()*t.length)];return r},ek=function(t,n,r){for(var i=0,a=0;a<n.length;a++)i+=Cp("manhattan",n[a],t,r,"kMedoids");return i},Cte=function(t){var n=this.cy(),r=this.nodes(),i=null,a=Pb(t),s=new Array(a.k),o={},l;a.testMode?typeof a.testCentroids=="number"?(a.testCentroids,l=Qv(r,a.k,a.attributes)):ir(a.testCentroids)==="object"?l=a.testCentroids:l=Qv(r,a.k,a.attributes):l=Qv(r,a.k,a.attributes);for(var u=!0,c=0;u&&c<a.maxIterations;){for(var f=0;f<r.length;f++)i=r[f],o[i.id()]=AM(i,l,a.distance,a.attributes,"kMeans");u=!1;for(var h=0;h<a.k;h++){var d=DM(h,r,o);if(d.length!==0){for(var p=a.attributes.length,v=l[h],x=new Array(p),y=new Array(p),w=0;w<p;w++){y[w]=0;for(var k=0;k<d.length;k++)i=d[k],y[w]+=a.attributes[w](i);x[w]=y[w]/d.length,kte(x[w],v[w],a.sensitivityThreshold)||(u=!0)}l[h]=x,s[h]=n.collection(d)}}c++}return s},Tte=function(t){var n=this.cy(),r=this.nodes(),i=null,a=Pb(t),s=new Array(a.k),o,l={},u,c=new Array(a.k);a.testMode?typeof a.testCentroids=="number"||(ir(a.testCentroids)==="object"?o=a.testCentroids:o=J8(r,a.k)):o=J8(r,a.k);for(var f=!0,h=0;f&&h<a.maxIterations;){for(var d=0;d<r.length;d++)i=r[d],l[i.id()]=AM(i,o,a.distance,a.attributes,"kMedoids");f=!1;for(var p=0;p<o.length;p++){var v=DM(p,r,l);if(v.length!==0){c[p]=ek(o[p],v,a.attributes);for(var x=0;x<v.length;x++)u=ek(v[x],v,a.attributes),u<c[p]&&(c[p]=u,o[p]=v[x],f=!0);s[p]=n.collection(v)}}h++}return s},Ete=function(t,n,r,i,a){for(var s,o,l=0;l<n.length;l++)for(var u=0;u<t.length;u++)i[l][u]=Math.pow(r[l][u],a.m);for(var c=0;c<t.length;c++)for(var f=0;f<a.attributes.length;f++){s=0,o=0;for(var h=0;h<n.length;h++)s+=i[h][c]*a.attributes[f](n[h]),o+=i[h][c];t[c][f]=s/o}},Pte=function(t,n,r,i,a){for(var s=0;s<t.length;s++)n[s]=t[s].slice();for(var o,l,u,c=2/(a.m-1),f=0;f<r.length;f++)for(var h=0;h<i.length;h++){o=0;for(var d=0;d<r.length;d++)l=Cp(a.distance,i[h],r[f],a.attributes,"cmeans"),u=Cp(a.distance,i[h],r[d],a.attributes,"cmeans"),o+=Math.pow(l/u,c);t[h][f]=1/o}},Mte=function(t,n,r,i){for(var a=new Array(r.k),s=0;s<a.length;s++)a[s]=[];for(var o,l,u=0;u<n.length;u++){o=-1/0,l=-1;for(var c=0;c<n[0].length;c++)n[u][c]>o&&(o=n[u][c],l=c);a[l].push(t[u])}for(var f=0;f<a.length;f++)a[f]=i.collection(a[f]);return a},tk=function(t){var n=this.cy(),r=this.nodes(),i=Pb(t),a,s,o,l,u;l=new Array(r.length);for(var c=0;c<r.length;c++)l[c]=new Array(i.k);o=new Array(r.length);for(var f=0;f<r.length;f++)o[f]=new Array(i.k);for(var h=0;h<r.length;h++){for(var d=0,p=0;p<i.k;p++)o[h][p]=Math.random(),d+=o[h][p];for(var v=0;v<i.k;v++)o[h][v]=o[h][v]/d}s=new Array(i.k);for(var x=0;x<i.k;x++)s[x]=new Array(i.attributes.length);u=new Array(r.length);for(var y=0;y<r.length;y++)u[y]=new Array(i.k);for(var w=!0,k=0;w&&k<i.maxIterations;)w=!1,Ete(s,r,o,u,i),Pte(o,l,s,r,i),Ste(o,l,i.sensitivityThreshold)||(w=!0),k++;return a=Mte(r,o,i,n),{clusters:a,degreeOfMembership:o}},Ate={kMeans:Cte,kMedoids:Tte,fuzzyCMeans:tk,fcm:tk},Dte=xr({distance:"euclidean",linkage:"min",mode:"threshold",threshold:1/0,addDendrogram:!1,dendrogramDepth:0,attributes:[]}),Ite={single:"min",complete:"max"},Lte=function(t){var n=Dte(t),r=Ite[n.linkage];return r!=null&&(n.linkage=r),n},nk=function(t,n,r,i,a){for(var s=0,o=1/0,l,u=a.attributes,c=function(R,D){return Rg(a.distance,u.length,function(N){return u[N](R)},function(N){return u[N](D)},R,D)},f=0;f<t.length;f++){var h=t[f].key,d=r[h][i[h]];d<o&&(s=h,o=d)}if(a.mode==="threshold"&&o>=a.threshold||a.mode==="dendrogram"&&t.length===1)return!1;var p=n[s],v=n[i[s]],x;a.mode==="dendrogram"?x={left:p,right:v,key:p.key}:x={value:p.value.concat(v.value),key:p.key},t[p.index]=x,t.splice(v.index,1),n[p.key]=x;for(var y=0;y<t.length;y++){var w=t[y];p.key===w.key?l=1/0:a.linkage==="min"?(l=r[p.key][w.key],r[p.key][w.key]>r[v.key][w.key]&&(l=r[v.key][w.key])):a.linkage==="max"?(l=r[p.key][w.key],r[p.key][w.key]<r[v.key][w.key]&&(l=r[v.key][w.key])):a.linkage==="mean"?l=(r[p.key][w.key]*p.size+r[v.key][w.key]*v.size)/(p.size+v.size):a.mode==="dendrogram"?l=c(w.value,p.value):l=c(w.value[0],p.value[0]),r[p.key][w.key]=r[w.key][p.key]=l}for(var k=0;k<t.length;k++){var _=t[k].key;if(i[_]===p.key||i[_]===v.key){for(var C=_,T=0;T<t.length;T++){var E=t[T].key;r[_][E]<r[_][C]&&(C=E)}i[_]=C}t[k].index=k}return p.key=v.key=p.index=v.index=null,!0},Gl=function(t,n,r){t&&(t.value?n.push(t.value):(t.left&&Gl(t.left,n),t.right&&Gl(t.right,n)))},r4=function(t,n){if(!t)return"";if(t.left&&t.right){var r=r4(t.left,n),i=r4(t.right,n),a=n.add({group:"nodes",data:{id:r+","+i}});return n.add({group:"edges",data:{source:r,target:a.id()}}),n.add({group:"edges",data:{source:i,target:a.id()}}),a.id()}else if(t.value)return t.value.id()},i4=function(t,n,r){if(!t)return[];var i=[],a=[],s=[];return n===0?(t.left&&Gl(t.left,i),t.right&&Gl(t.right,a),s=i.concat(a),[r.collection(s)]):n===1?t.value?[r.collection(t.value)]:(t.left&&Gl(t.left,i),t.right&&Gl(t.right,a),[r.collection(i),r.collection(a)]):t.value?[r.collection(t.value)]:(t.left&&(i=i4(t.left,n-1,r)),t.right&&(a=i4(t.right,n-1,r)),i.concat(a))},rk=function(t){for(var n=this.cy(),r=this.nodes(),i=Lte(t),a=i.attributes,s=function(k,_){return Rg(i.distance,a.length,function(C){return a[C](k)},function(C){return a[C](_)},k,_)},o=[],l=[],u=[],c=[],f=0;f<r.length;f++){var h={value:i.mode==="dendrogram"?r[f]:[r[f]],key:f,index:f};o[f]=h,c[f]=h,l[f]=[],u[f]=0}for(var d=0;d<o.length;d++)for(var p=0;p<=d;p++){var v=void 0;i.mode==="dendrogram"?v=d===p?1/0:s(o[d].value,o[p].value):v=d===p?1/0:s(o[d].value[0],o[p].value[0]),l[d][p]=v,l[p][d]=v,v<l[d][u[d]]&&(u[d]=p)}for(var x=nk(o,c,l,u,i);x;)x=nk(o,c,l,u,i);var y;return i.mode==="dendrogram"?(y=i4(o[0],i.dendrogramDepth,n),i.addDendrogram&&r4(o[0],n)):(y=new Array(o.length),o.forEach(function(w,k){w.key=w.index=null,y[k]=n.collection(w.value)})),y},Ote={hierarchicalClustering:rk,hca:rk},Rte=xr({distance:"euclidean",preference:"median",damping:.8,maxIterations:1e3,minIterations:100,attributes:[]}),Nte=function(t){var n=t.damping,r=t.preference;.5<=n&&n<1||Tn("Damping must range on [0.5, 1).  Got: ".concat(n));var i=["median","mean","min","max"];return i.some(function(a){return a===r})||ze(r)||Tn("Preference must be one of [".concat(i.map(function(a){return"'".concat(a,"'")}).join(", "),"] or a number.  Got: ").concat(r)),Rte(t)},zte=function(t,n,r,i){var a=function(o,l){return i[l](o)};return-Rg(t,i.length,function(s){return a(n,s)},function(s){return a(r,s)},n,r)},Bte=function(t,n){var r=null;return n==="median"?r=Nee(t):n==="mean"?r=Ree(t):n==="min"?r=Lee(t):n==="max"?r=Oee(t):r=n,r},Fte=function(t,n,r){for(var i=[],a=0;a<t;a++)n[a*t+a]+r[a*t+a]>0&&i.push(a);return i},ik=function(t,n,r){for(var i=[],a=0;a<t;a++){for(var s=-1,o=-1/0,l=0;l<r.length;l++){var u=r[l];n[a*t+u]>o&&(s=u,o=n[a*t+u])}s>0&&i.push(s)}for(var c=0;c<r.length;c++)i[r[c]]=r[c];return i},$te=function(t,n,r){for(var i=ik(t,n,r),a=0;a<r.length;a++){for(var s=[],o=0;o<i.length;o++)i[o]===r[a]&&s.push(o);for(var l=-1,u=-1/0,c=0;c<s.length;c++){for(var f=0,h=0;h<s.length;h++)f+=n[s[h]*t+s[c]];f>u&&(l=c,u=f)}r[a]=s[l]}return i=ik(t,n,r),i},ak=function(t){for(var n=this.cy(),r=this.nodes(),i=Nte(t),a={},s=0;s<r.length;s++)a[r[s].id()]=s;var o,l,u,c,f,h;o=r.length,l=o*o,u=new Array(l);for(var d=0;d<l;d++)u[d]=-1/0;for(var p=0;p<o;p++)for(var v=0;v<o;v++)p!==v&&(u[p*o+v]=zte(i.distance,r[p],r[v],i.attributes));c=Bte(u,i.preference);for(var x=0;x<o;x++)u[x*o+x]=c;f=new Array(l);for(var y=0;y<l;y++)f[y]=0;h=new Array(l);for(var w=0;w<l;w++)h[w]=0;for(var k=new Array(o),_=new Array(o),C=new Array(o),T=0;T<o;T++)k[T]=0,_[T]=0,C[T]=0;for(var E=new Array(o*i.minIterations),A=0;A<E.length;A++)E[A]=0;var R;for(R=0;R<i.maxIterations;R++){for(var D=0;D<o;D++){for(var N=-1/0,z=-1/0,j=-1,V=0,Y=0;Y<o;Y++)k[Y]=f[D*o+Y],V=h[D*o+Y]+u[D*o+Y],V>=N?(z=N,N=V,j=Y):V>z&&(z=V);for(var Z=0;Z<o;Z++)f[D*o+Z]=(1-i.damping)*(u[D*o+Z]-N)+i.damping*k[Z];f[D*o+j]=(1-i.damping)*(u[D*o+j]-z)+i.damping*k[j]}for(var X=0;X<o;X++){for(var G=0,ee=0;ee<o;ee++)k[ee]=h[ee*o+X],_[ee]=Math.max(0,f[ee*o+X]),G+=_[ee];G-=_[X],_[X]=f[X*o+X],G+=_[X];for(var B=0;B<o;B++)h[B*o+X]=(1-i.damping)*Math.min(0,G-_[B])+i.damping*k[B];h[X*o+X]=(1-i.damping)*(G-_[X])+i.damping*k[X]}for(var K=0,J=0;J<o;J++){var q=h[J*o+J]+f[J*o+J]>0?1:0;E[R%i.minIterations*o+J]=q,K+=q}if(K>0&&(R>=i.minIterations-1||R==i.maxIterations-1)){for(var he=0,de=0;de<o;de++){C[de]=0;for(var oe=0;oe<i.minIterations;oe++)C[de]+=E[oe*o+de];(C[de]===0||C[de]===i.minIterations)&&he++}if(he===o)break}}for(var ke=Fte(o,f,h),Ae=$te(o,u,ke),Se={},ce=0;ce<ke.length;ce++)Se[ke[ce]]=[];for(var ge=0;ge<r.length;ge++){var me=a[r[ge].id()],Ee=Ae[me];Ee!=null&&Se[Ee].push(r[ge])}for(var je=new Array(ke.length),ct=0;ct<ke.length;ct++)je[ct]=n.collection(Se[ke[ct]]);return je},jte={affinityPropagation:ak,ap:ak},qte=xr({root:void 0,directed:!1}),Hte={hierholzer:function(t){if(!Ot(t)){var n=arguments;t={root:n[0],directed:n[1]}}var r=qte(t),i=r.root,a=r.directed,s=this,o=!1,l,u,c;i&&(c=tt(i)?this.filter(i)[0].id():i[0].id());var f={},h={};a?s.forEach(function(w){var k=w.id();if(w.isNode()){var _=w.indegree(!0),C=w.outdegree(!0),T=_-C,E=C-_;T==1?l?o=!0:l=k:E==1?u?o=!0:u=k:(E>1||T>1)&&(o=!0),f[k]=[],w.outgoers().forEach(function(A){A.isEdge()&&f[k].push(A.id())})}else h[k]=[void 0,w.target().id()]}):s.forEach(function(w){var k=w.id();if(w.isNode()){var _=w.degree(!0);_%2&&(l?u?o=!0:u=k:l=k),f[k]=[],w.connectedEdges().forEach(function(C){return f[k].push(C.id())})}else h[k]=[w.source().id(),w.target().id()]});var d={found:!1,trail:void 0};if(o)return d;if(u&&l)if(a){if(c&&u!=c)return d;c=u}else{if(c&&u!=c&&l!=c)return d;c||(c=u)}else c||(c=s[0].id());var p=function(k){for(var _=k,C=[k],T,E,A;f[_].length;)T=f[_].shift(),E=h[T][0],A=h[T][1],_!=A?(f[A]=f[A].filter(function(R){return R!=T}),_=A):!a&&_!=E&&(f[E]=f[E].filter(function(R){return R!=T}),_=E),C.unshift(T),C.unshift(_);return C},v=[],x=[];for(x=p(c);x.length!=1;)f[x[0]].length==0?(v.unshift(s.getElementById(x.shift())),v.unshift(s.getElementById(x.shift()))):x=p(x.shift()).concat(x);v.unshift(s.getElementById(x.shift()));for(var y in f)if(f[y].length)return d;return d.found=!0,d.trail=this.spawn(v,!0),d}},Ih=function(){var t=this,n={},r=0,i=0,a=[],s=[],o={},l=function(h,d){for(var p=s.length-1,v=[],x=t.spawn();s[p].x!=h||s[p].y!=d;)v.push(s.pop().edge),p--;v.push(s.pop().edge),v.forEach(function(y){var w=y.connectedNodes().intersection(t);x.merge(y),w.forEach(function(k){var _=k.id(),C=k.connectedEdges().intersection(t);x.merge(k),n[_].cutVertex?x.merge(C.filter(function(T){return T.isLoop()})):x.merge(C)})}),a.push(x)},u=function(h,d,p){h===p&&(i+=1),n[d]={id:r,low:r++,cutVertex:!1};var v=t.getElementById(d).connectedEdges().intersection(t);if(v.size()===0)a.push(t.spawn(t.getElementById(d)));else{var x,y,w,k;v.forEach(function(_){x=_.source().id(),y=_.target().id(),w=x===d?y:x,w!==p&&(k=_.id(),o[k]||(o[k]=!0,s.push({x:d,y:w,edge:_})),w in n?n[d].low=Math.min(n[d].low,n[w].id):(u(h,w,d),n[d].low=Math.min(n[d].low,n[w].low),n[d].id<=n[w].low&&(n[d].cutVertex=!0,l(d,w))))})}};t.forEach(function(f){if(f.isNode()){var h=f.id();h in n||(i=0,u(h,h),n[h].cutVertex=i>1)}});var c=Object.keys(n).filter(function(f){return n[f].cutVertex}).map(function(f){return t.getElementById(f)});return{cut:t.spawn(c),components:a}},Vte={hopcroftTarjanBiconnected:Ih,htbc:Ih,htb:Ih,hopcroftTarjanBiconnectedComponents:Ih},Lh=function(){var t=this,n={},r=0,i=[],a=[],s=t.spawn(t),o=function(u){a.push(u),n[u]={index:r,low:r++,explored:!1};var c=t.getElementById(u).connectedEdges().intersection(t);if(c.forEach(function(v){var x=v.target().id();x!==u&&(x in n||o(x),n[x].explored||(n[u].low=Math.min(n[u].low,n[x].low)))}),n[u].index===n[u].low){for(var f=t.spawn();;){var h=a.pop();if(f.merge(t.getElementById(h)),n[h].low=n[u].index,n[h].explored=!0,h===u)break}var d=f.edgesWith(f),p=f.merge(d);i.push(p),s=s.difference(p)}};return t.forEach(function(l){if(l.isNode()){var u=l.id();u in n||o(u)}}),{cut:s,components:i}},Ute={tarjanStronglyConnected:Lh,tsc:Lh,tscc:Lh,tarjanStronglyConnectedComponents:Lh},IM={};[Bf,wee,kee,_ee,Tee,Pee,Dee,ite,uu,cu,n4,vte,Ate,Ote,jte,Hte,Vte,Ute].forEach(function(e){ot(IM,e)});/*!
Embeddable Minimum Strictly-Compliant Promises/A+ 1.1.1 Thenable
Copyright (c) 2013-2014 Ralf S. Engelschall (http://engelschall.com)
Licensed under The MIT License (http://opensource.org/licenses/MIT)
*/var LM=0,OM=1,RM=2,Ui=function(t){if(!(this instanceof Ui))return new Ui(t);this.id="Thenable/1.0.7",this.state=LM,this.fulfillValue=void 0,this.rejectReason=void 0,this.onFulfilled=[],this.onRejected=[],this.proxy={then:this.then.bind(this)},typeof t=="function"&&t.call(this,this.fulfill.bind(this),this.reject.bind(this))};Ui.prototype={fulfill:function(t){return sk(this,OM,"fulfillValue",t)},reject:function(t){return sk(this,RM,"rejectReason",t)},then:function(t,n){var r=this,i=new Ui;return r.onFulfilled.push(lk(t,i,"fulfill")),r.onRejected.push(lk(n,i,"reject")),NM(r),i.proxy}};var sk=function(t,n,r,i){return t.state===LM&&(t.state=n,t[r]=i,NM(t)),t},NM=function(t){t.state===OM?ok(t,"onFulfilled",t.fulfillValue):t.state===RM&&ok(t,"onRejected",t.rejectReason)},ok=function(t,n,r){if(t[n].length!==0){var i=t[n];t[n]=[];var a=function(){for(var o=0;o<i.length;o++)i[o](r)};typeof setImmediate=="function"?setImmediate(a):setTimeout(a,0)}},lk=function(t,n,r){return function(i){if(typeof t!="function")n[r].call(n,i);else{var a;try{a=t(i)}catch(s){n.reject(s);return}zM(n,a)}}},zM=function(t,n){if(t===n||t.proxy===n){t.reject(new TypeError("cannot resolve promise with itself"));return}var r;if(ir(n)==="object"&&n!==null||typeof n=="function")try{r=n.then}catch(a){t.reject(a);return}if(typeof r=="function"){var i=!1;try{r.call(n,function(a){i||(i=!0,a===n?t.reject(new TypeError("circular thenable chain")):zM(t,a))},function(a){i||(i=!0,t.reject(a))})}catch(a){i||t.reject(a)}return}t.fulfill(n)};Ui.all=function(e){return new Ui(function(t,n){for(var r=new Array(e.length),i=0,a=function(l,u){r[l]=u,i++,i===e.length&&t(r)},s=0;s<e.length;s++)(function(o){var l=e[o],u=l!=null&&l.then!=null;if(u)l.then(function(f){a(o,f)},function(f){n(f)});else{var c=l;a(o,c)}})(s)})};Ui.resolve=function(e){return new Ui(function(t,n){t(e)})};Ui.reject=function(e){return new Ui(function(t,n){n(e)})};var Hu=typeof Promise<"u"?Promise:Ui,a4=function(t,n,r){var i=yb(t),a=!i,s=this._private=ot({duration:1e3},n,r);if(s.target=t,s.style=s.style||s.css,s.started=!1,s.playing=!1,s.hooked=!1,s.applying=!1,s.progress=0,s.completes=[],s.frames=[],s.complete&&Mn(s.complete)&&s.completes.push(s.complete),a){var o=t.position();s.startPosition=s.startPosition||{x:o.x,y:o.y},s.startStyle=s.startStyle||t.cy().style().getAnimationStartStyle(t,s.style)}if(i){var l=t.pan();s.startPan={x:l.x,y:l.y},s.startZoom=t.zoom()}this.length=1,this[0]=this},Ko=a4.prototype;ot(Ko,{instanceString:function(){return"animation"},hook:function(){var t=this._private;if(!t.hooked){var n,r=t.target._private.animation;t.queue?n=r.queue:n=r.current,n.push(this),ui(t.target)&&t.target.cy().addToAnimationPool(t.target),t.hooked=!0}return this},play:function(){var t=this._private;return t.progress===1&&(t.progress=0),t.playing=!0,t.started=!1,t.stopped=!1,this.hook(),this},playing:function(){return this._private.playing},apply:function(){var t=this._private;return t.applying=!0,t.started=!1,t.stopped=!1,this.hook(),this},applying:function(){return this._private.applying},pause:function(){var t=this._private;return t.playing=!1,t.started=!1,this},stop:function(){var t=this._private;return t.playing=!1,t.started=!1,t.stopped=!0,this},rewind:function(){return this.progress(0)},fastforward:function(){return this.progress(1)},time:function(t){var n=this._private;return t===void 0?n.progress*n.duration:this.progress(t/n.duration)},progress:function(t){var n=this._private,r=n.playing;return t===void 0?n.progress:(r&&this.pause(),n.progress=t,n.started=!1,r&&this.play(),this)},completed:function(){return this._private.progress===1},reverse:function(){var t=this._private,n=t.playing;n&&this.pause(),t.progress=1-t.progress,t.started=!1;var r=function(u,c){var f=t[u];f!=null&&(t[u]=t[c],t[c]=f)};if(r("zoom","startZoom"),r("pan","startPan"),r("position","startPosition"),t.style)for(var i=0;i<t.style.length;i++){var a=t.style[i],s=a.name,o=t.startStyle[s];t.startStyle[s]=a,t.style[i]=o}return n&&this.play(),this},promise:function(t){var n=this._private,r;switch(t){case"frame":r=n.frames;break;default:case"complete":case"completed":r=n.completes}return new Hu(function(i,a){r.push(function(){i()})})}});Ko.complete=Ko.completed;Ko.run=Ko.play;Ko.running=Ko.playing;var Wte={animated:function(){return function(){var n=this,r=n.length!==void 0,i=r?n:[n],a=this._private.cy||this;if(!a.styleEnabled())return!1;var s=i[0];if(s)return s._private.animation.current.length>0}},clearQueue:function(){return function(){var n=this,r=n.length!==void 0,i=r?n:[n],a=this._private.cy||this;if(!a.styleEnabled())return this;for(var s=0;s<i.length;s++){var o=i[s];o._private.animation.queue=[]}return this}},delay:function(){return function(n,r){var i=this._private.cy||this;return i.styleEnabled()?this.animate({delay:n,duration:n,complete:r}):this}},delayAnimation:function(){return function(n,r){var i=this._private.cy||this;return i.styleEnabled()?this.animation({delay:n,duration:n,complete:r}):this}},animation:function(){return function(n,r){var i=this,a=i.length!==void 0,s=a?i:[i],o=this._private.cy||this,l=!a,u=!l;if(!o.styleEnabled())return this;var c=o.style();n=ot({},n,r);var f=Object.keys(n).length===0;if(f)return new a4(s[0],n);switch(n.duration===void 0&&(n.duration=400),n.duration){case"slow":n.duration=600;break;case"fast":n.duration=200;break}if(u&&(n.style=c.getPropsList(n.style||n.css),n.css=void 0),u&&n.renderedPosition!=null){var h=n.renderedPosition,d=o.pan(),p=o.zoom();n.position=SM(h,p,d)}if(l&&n.panBy!=null){var v=n.panBy,x=o.pan();n.pan={x:x.x+v.x,y:x.y+v.y}}var y=n.center||n.centre;if(l&&y!=null){var w=o.getCenterPan(y.eles,n.zoom);w!=null&&(n.pan=w)}if(l&&n.fit!=null){var k=n.fit,_=o.getFitViewport(k.eles||k.boundingBox,k.padding);_!=null&&(n.pan=_.pan,n.zoom=_.zoom)}if(l&&Ot(n.zoom)){var C=o.getZoomedViewport(n.zoom);C!=null?(C.zoomed&&(n.zoom=C.zoom),C.panned&&(n.pan=C.pan)):n.zoom=null}return new a4(s[0],n)}},animate:function(){return function(n,r){var i=this,a=i.length!==void 0,s=a?i:[i],o=this._private.cy||this;if(!o.styleEnabled())return this;r&&(n=ot({},n,r));for(var l=0;l<s.length;l++){var u=s[l],c=u.animated()&&(n.queue===void 0||n.queue),f=u.animation(n,c?{queue:!0}:void 0);f.play()}return this}},stop:function(){return function(n,r){var i=this,a=i.length!==void 0,s=a?i:[i],o=this._private.cy||this;if(!o.styleEnabled())return this;for(var l=0;l<s.length;l++){for(var u=s[l],c=u._private,f=c.animation.current,h=0;h<f.length;h++){var d=f[h],p=d._private;r&&(p.duration=0)}n&&(c.animation.queue=[]),r||(c.animation.current=[])}return o.notify("draw"),this}}},Zv,uk;function Ng(){if(uk)return Zv;uk=1;var e=Array.isArray;return Zv=e,Zv}var Jv,ck;function Gte(){if(ck)return Jv;ck=1;var e=Ng(),t=d0(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,s){if(e(a))return!1;var o=typeof a;return o=="number"||o=="symbol"||o=="boolean"||a==null||t(a)?!0:r.test(a)||!n.test(a)||s!=null&&a in Object(s)}return Jv=i,Jv}var e1,fk;function Yte(){if(fk)return e1;fk=1;var e=pM(),t=h0(),n="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",a="[object Proxy]";function s(o){if(!t(o))return!1;var l=e(o);return l==r||l==i||l==n||l==a}return e1=s,e1}var t1,hk;function Xte(){if(hk)return t1;hk=1;var e=Ig(),t=e["__core-js_shared__"];return t1=t,t1}var n1,dk;function Kte(){if(dk)return n1;dk=1;var e=Xte(),t=function(){var r=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}();function n(r){return!!t&&t in r}return n1=n,n1}var r1,pk;function Qte(){if(pk)return r1;pk=1;var e=Function.prototype,t=e.toString;function n(r){if(r!=null){try{return t.call(r)}catch{}try{return r+""}catch{}}return""}return r1=n,r1}var i1,gk;function Zte(){if(gk)return i1;gk=1;var e=Yte(),t=Kte(),n=h0(),r=Qte(),i=/[\\^$.*+?()[\]{}|]/g,a=/^\[object .+?Constructor\]$/,s=Function.prototype,o=Object.prototype,l=s.toString,u=o.hasOwnProperty,c=RegExp("^"+l.call(u).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function f(h){if(!n(h)||t(h))return!1;var d=e(h)?c:a;return d.test(r(h))}return i1=f,i1}var a1,mk;function Jte(){if(mk)return a1;mk=1;function e(t,n){return t==null?void 0:t[n]}return a1=e,a1}var s1,vk;function Mb(){if(vk)return s1;vk=1;var e=Zte(),t=Jte();function n(r,i){var a=t(r,i);return e(a)?a:void 0}return s1=n,s1}var o1,yk;function zg(){if(yk)return o1;yk=1;var e=Mb(),t=e(Object,"create");return o1=t,o1}var l1,xk;function ene(){if(xk)return l1;xk=1;var e=zg();function t(){this.__data__=e?e(null):{},this.size=0}return l1=t,l1}var u1,bk;function tne(){if(bk)return u1;bk=1;function e(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n}return u1=e,u1}var c1,wk;function nne(){if(wk)return c1;wk=1;var e=zg(),t="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function i(a){var s=this.__data__;if(e){var o=s[a];return o===t?void 0:o}return r.call(s,a)?s[a]:void 0}return c1=i,c1}var f1,kk;function rne(){if(kk)return f1;kk=1;var e=zg(),t=Object.prototype,n=t.hasOwnProperty;function r(i){var a=this.__data__;return e?a[i]!==void 0:n.call(a,i)}return f1=r,f1}var h1,Sk;function ine(){if(Sk)return h1;Sk=1;var e=zg(),t="__lodash_hash_undefined__";function n(r,i){var a=this.__data__;return this.size+=this.has(r)?0:1,a[r]=e&&i===void 0?t:i,this}return h1=n,h1}var d1,_k;function ane(){if(_k)return d1;_k=1;var e=ene(),t=tne(),n=nne(),r=rne(),i=ine();function a(s){var o=-1,l=s==null?0:s.length;for(this.clear();++o<l;){var u=s[o];this.set(u[0],u[1])}}return a.prototype.clear=e,a.prototype.delete=t,a.prototype.get=n,a.prototype.has=r,a.prototype.set=i,d1=a,d1}var p1,Ck;function sne(){if(Ck)return p1;Ck=1;function e(){this.__data__=[],this.size=0}return p1=e,p1}var g1,Tk;function BM(){if(Tk)return g1;Tk=1;function e(t,n){return t===n||t!==t&&n!==n}return g1=e,g1}var m1,Ek;function Bg(){if(Ek)return m1;Ek=1;var e=BM();function t(n,r){for(var i=n.length;i--;)if(e(n[i][0],r))return i;return-1}return m1=t,m1}var v1,Pk;function one(){if(Pk)return v1;Pk=1;var e=Bg(),t=Array.prototype,n=t.splice;function r(i){var a=this.__data__,s=e(a,i);if(s<0)return!1;var o=a.length-1;return s==o?a.pop():n.call(a,s,1),--this.size,!0}return v1=r,v1}var y1,Mk;function lne(){if(Mk)return y1;Mk=1;var e=Bg();function t(n){var r=this.__data__,i=e(r,n);return i<0?void 0:r[i][1]}return y1=t,y1}var x1,Ak;function une(){if(Ak)return x1;Ak=1;var e=Bg();function t(n){return e(this.__data__,n)>-1}return x1=t,x1}var b1,Dk;function cne(){if(Dk)return b1;Dk=1;var e=Bg();function t(n,r){var i=this.__data__,a=e(i,n);return a<0?(++this.size,i.push([n,r])):i[a][1]=r,this}return b1=t,b1}var w1,Ik;function fne(){if(Ik)return w1;Ik=1;var e=sne(),t=one(),n=lne(),r=une(),i=cne();function a(s){var o=-1,l=s==null?0:s.length;for(this.clear();++o<l;){var u=s[o];this.set(u[0],u[1])}}return a.prototype.clear=e,a.prototype.delete=t,a.prototype.get=n,a.prototype.has=r,a.prototype.set=i,w1=a,w1}var k1,Lk;function hne(){if(Lk)return k1;Lk=1;var e=Mb(),t=Ig(),n=e(t,"Map");return k1=n,k1}var S1,Ok;function dne(){if(Ok)return S1;Ok=1;var e=ane(),t=fne(),n=hne();function r(){this.size=0,this.__data__={hash:new e,map:new(n||t),string:new e}}return S1=r,S1}var _1,Rk;function pne(){if(Rk)return _1;Rk=1;function e(t){var n=typeof t;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?t!=="__proto__":t===null}return _1=e,_1}var C1,Nk;function Fg(){if(Nk)return C1;Nk=1;var e=pne();function t(n,r){var i=n.__data__;return e(r)?i[typeof r=="string"?"string":"hash"]:i.map}return C1=t,C1}var T1,zk;function gne(){if(zk)return T1;zk=1;var e=Fg();function t(n){var r=e(this,n).delete(n);return this.size-=r?1:0,r}return T1=t,T1}var E1,Bk;function mne(){if(Bk)return E1;Bk=1;var e=Fg();function t(n){return e(this,n).get(n)}return E1=t,E1}var P1,Fk;function vne(){if(Fk)return P1;Fk=1;var e=Fg();function t(n){return e(this,n).has(n)}return P1=t,P1}var M1,$k;function yne(){if($k)return M1;$k=1;var e=Fg();function t(n,r){var i=e(this,n),a=i.size;return i.set(n,r),this.size+=i.size==a?0:1,this}return M1=t,M1}var A1,jk;function xne(){if(jk)return A1;jk=1;var e=dne(),t=gne(),n=mne(),r=vne(),i=yne();function a(s){var o=-1,l=s==null?0:s.length;for(this.clear();++o<l;){var u=s[o];this.set(u[0],u[1])}}return a.prototype.clear=e,a.prototype.delete=t,a.prototype.get=n,a.prototype.has=r,a.prototype.set=i,A1=a,A1}var D1,qk;function bne(){if(qk)return D1;qk=1;var e=xne(),t="Expected a function";function n(r,i){if(typeof r!="function"||i!=null&&typeof i!="function")throw new TypeError(t);var a=function(){var s=arguments,o=i?i.apply(this,s):s[0],l=a.cache;if(l.has(o))return l.get(o);var u=r.apply(this,s);return a.cache=l.set(o,u)||l,u};return a.cache=new(n.Cache||e),a}return n.Cache=e,D1=n,D1}var I1,Hk;function wne(){if(Hk)return I1;Hk=1;var e=bne(),t=500;function n(r){var i=e(r,function(s){return a.size===t&&a.clear(),s}),a=i.cache;return i}return I1=n,I1}var L1,Vk;function FM(){if(Vk)return L1;Vk=1;var e=wne(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=e(function(i){var a=[];return i.charCodeAt(0)===46&&a.push(""),i.replace(t,function(s,o,l,u){a.push(l?u.replace(n,"$1"):o||s)}),a});return L1=r,L1}var O1,Uk;function $M(){if(Uk)return O1;Uk=1;function e(t,n){for(var r=-1,i=t==null?0:t.length,a=Array(i);++r<i;)a[r]=n(t[r],r,t);return a}return O1=e,O1}var R1,Wk;function kne(){if(Wk)return R1;Wk=1;var e=bb(),t=$M(),n=Ng(),r=d0(),i=e?e.prototype:void 0,a=i?i.toString:void 0;function s(o){if(typeof o=="string")return o;if(n(o))return t(o,s)+"";if(r(o))return a?a.call(o):"";var l=o+"";return l=="0"&&1/o==-1/0?"-0":l}return R1=s,R1}var N1,Gk;function jM(){if(Gk)return N1;Gk=1;var e=kne();function t(n){return n==null?"":e(n)}return N1=t,N1}var z1,Yk;function qM(){if(Yk)return z1;Yk=1;var e=Ng(),t=Gte(),n=FM(),r=jM();function i(a,s){return e(a)?a:t(a,s)?[a]:n(r(a))}return z1=i,z1}var B1,Xk;function Ab(){if(Xk)return B1;Xk=1;var e=d0();function t(n){if(typeof n=="string"||e(n))return n;var r=n+"";return r=="0"&&1/n==-1/0?"-0":r}return B1=t,B1}var F1,Kk;function Sne(){if(Kk)return F1;Kk=1;var e=qM(),t=Ab();function n(r,i){i=e(i,r);for(var a=0,s=i.length;r!=null&&a<s;)r=r[t(i[a++])];return a&&a==s?r:void 0}return F1=n,F1}var $1,Qk;function _ne(){if(Qk)return $1;Qk=1;var e=Sne();function t(n,r,i){var a=n==null?void 0:e(n,r);return a===void 0?i:a}return $1=t,$1}var Cne=_ne(),Tne=f0(Cne),j1,Zk;function Ene(){if(Zk)return j1;Zk=1;var e=Mb(),t=function(){try{var n=e(Object,"defineProperty");return n({},"",{}),n}catch{}}();return j1=t,j1}var q1,Jk;function Pne(){if(Jk)return q1;Jk=1;var e=Ene();function t(n,r,i){r=="__proto__"&&e?e(n,r,{configurable:!0,enumerable:!0,value:i,writable:!0}):n[r]=i}return q1=t,q1}var H1,e9;function Mne(){if(e9)return H1;e9=1;var e=Pne(),t=BM(),n=Object.prototype,r=n.hasOwnProperty;function i(a,s,o){var l=a[s];(!(r.call(a,s)&&t(l,o))||o===void 0&&!(s in a))&&e(a,s,o)}return H1=i,H1}var V1,t9;function Ane(){if(t9)return V1;t9=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function n(r,i){var a=typeof r;return i=i??e,!!i&&(a=="number"||a!="symbol"&&t.test(r))&&r>-1&&r%1==0&&r<i}return V1=n,V1}var U1,n9;function Dne(){if(n9)return U1;n9=1;var e=Mne(),t=qM(),n=Ane(),r=h0(),i=Ab();function a(s,o,l,u){if(!r(s))return s;o=t(o,s);for(var c=-1,f=o.length,h=f-1,d=s;d!=null&&++c<f;){var p=i(o[c]),v=l;if(p==="__proto__"||p==="constructor"||p==="prototype")return s;if(c!=h){var x=d[p];v=u?u(x,p,d):void 0,v===void 0&&(v=r(x)?x:n(o[c+1])?[]:{})}e(d,p,v),d=d[p]}return s}return U1=a,U1}var W1,r9;function Ine(){if(r9)return W1;r9=1;var e=Dne();function t(n,r,i){return n==null?n:e(n,r,i)}return W1=t,W1}var Lne=Ine(),One=f0(Lne),G1,i9;function Rne(){if(i9)return G1;i9=1;function e(t,n){var r=-1,i=t.length;for(n||(n=Array(i));++r<i;)n[r]=t[r];return n}return G1=e,G1}var Y1,a9;function Nne(){if(a9)return Y1;a9=1;var e=$M(),t=Rne(),n=Ng(),r=d0(),i=FM(),a=Ab(),s=jM();function o(l){return n(l)?e(l,a):r(l)?[l]:t(i(s(l)))}return Y1=o,Y1}var zne=Nne(),Bne=f0(zne),Fne={data:function(t){var n={field:"data",bindingEvent:"data",allowBinding:!1,allowSetting:!1,allowGetting:!1,settingEvent:"data",settingTriggersEvent:!1,triggerFnName:"trigger",immutableKeys:{},updateStyle:!1,beforeGet:function(i){},beforeSet:function(i,a){},onSet:function(i){},canSet:function(i){return!0}};return t=ot({},n,t),function(i,a){var s=t,o=this,l=o.length!==void 0,u=l?o:[o],c=l?o[0]:o;if(tt(i)){var f=i.indexOf(".")!==-1,h=f&&Bne(i);if(s.allowGetting&&a===void 0){var d;return c&&(s.beforeGet(c),h&&c._private[s.field][i]===void 0?d=Tne(c._private[s.field],h):d=c._private[s.field][i]),d}else if(s.allowSetting&&a!==void 0){var p=!s.immutableKeys[i];if(p){var v=iM({},i,a);s.beforeSet(o,v);for(var x=0,y=u.length;x<y;x++){var w=u[x];s.canSet(w)&&(h&&c._private[s.field][i]===void 0?One(w._private[s.field],h,a):w._private[s.field][i]=a)}s.updateStyle&&o.updateStyle(),s.onSet(o),s.settingTriggersEvent&&o[s.triggerFnName](s.settingEvent)}}}else if(s.allowSetting&&Ot(i)){var k=i,_,C,T=Object.keys(k);s.beforeSet(o,k);for(var E=0;E<T.length;E++){_=T[E],C=k[_];var A=!s.immutableKeys[_];if(A)for(var R=0;R<u.length;R++){var D=u[R];s.canSet(D)&&(D._private[s.field][_]=C)}}s.updateStyle&&o.updateStyle(),s.onSet(o),s.settingTriggersEvent&&o[s.triggerFnName](s.settingEvent)}else if(s.allowBinding&&Mn(i)){var N=i;o.on(s.bindingEvent,N)}else if(s.allowGetting&&i===void 0){var z;return c&&(s.beforeGet(c),z=c._private[s.field]),z}return o}},removeData:function(t){var n={field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!1,immutableKeys:{}};return t=ot({},n,t),function(i){var a=t,s=this,o=s.length!==void 0,l=o?s:[s];if(tt(i)){for(var u=i.split(/\s+/),c=u.length,f=0;f<c;f++){var h=u[f];if(!$s(h)){var d=!a.immutableKeys[h];if(d)for(var p=0,v=l.length;p<v;p++)l[p]._private[a.field][h]=void 0}}a.triggerEvent&&s[a.triggerFnName](a.event)}else if(i===void 0){for(var x=0,y=l.length;x<y;x++)for(var w=l[x]._private[a.field],k=Object.keys(w),_=0;_<k.length;_++){var C=k[_],T=!a.immutableKeys[C];T&&(w[C]=void 0)}a.triggerEvent&&s[a.triggerFnName](a.event)}return s}}},$ne={eventAliasesOn:function(t){var n=t;n.addListener=n.listen=n.bind=n.on,n.unlisten=n.unbind=n.off=n.removeListener,n.trigger=n.emit,n.pon=n.promiseOn=function(r,i){var a=this,s=Array.prototype.slice.call(arguments,0);return new Hu(function(o,l){var u=function(d){a.off.apply(a,f),o(d)},c=s.concat([u]),f=c.concat([]);a.on.apply(a,c)})}}},Ht={};[Wte,Fne,$ne].forEach(function(e){ot(Ht,e)});var jne={animate:Ht.animate(),animation:Ht.animation(),animated:Ht.animated(),clearQueue:Ht.clearQueue(),delay:Ht.delay(),delayAnimation:Ht.delayAnimation(),stop:Ht.stop()},md={classes:function(t){var n=this;if(t===void 0){var r=[];return n[0]._private.classes.forEach(function(p){return r.push(p)}),r}else en(t)||(t=(t||"").match(/\S+/g)||[]);for(var i=[],a=new qu(t),s=0;s<n.length;s++){for(var o=n[s],l=o._private,u=l.classes,c=!1,f=0;f<t.length;f++){var h=t[f],d=u.has(h);if(!d){c=!0;break}}c||(c=u.size!==t.length),c&&(l.classes=a,i.push(o))}return i.length>0&&this.spawn(i).updateStyle().emit("class"),n},addClass:function(t){return this.toggleClass(t,!0)},hasClass:function(t){var n=this[0];return n!=null&&n._private.classes.has(t)},toggleClass:function(t,n){en(t)||(t=t.match(/\S+/g)||[]);for(var r=this,i=n===void 0,a=[],s=0,o=r.length;s<o;s++)for(var l=r[s],u=l._private.classes,c=!1,f=0;f<t.length;f++){var h=t[f],d=u.has(h),p=!1;n||i&&!d?(u.add(h),p=!0):(!n||i&&d)&&(u.delete(h),p=!0),!c&&p&&(a.push(l),c=!0)}return a.length>0&&this.spawn(a).updateStyle().emit("class"),r},removeClass:function(t){return this.toggleClass(t,!1)},flashClass:function(t,n){var r=this;if(n==null)n=250;else if(n===0)return r;return r.addClass(t),setTimeout(function(){r.removeClass(t)},n),r}};md.className=md.classNames=md.classes;var At={metaChar:"[\\!\\\"\\#\\$\\%\\&\\'\\(\\)\\*\\+\\,\\.\\/\\:\\;\\<\\=\\>\\?\\@\\[\\]\\^\\`\\{\\|\\}\\~]",comparatorOp:"=|\\!=|>|>=|<|<=|\\$=|\\^=|\\*=",boolOp:"\\?|\\!|\\^",string:`"(?:\\\\"|[^"])*"|'(?:\\\\'|[^'])*'`,number:rr,meta:"degree|indegree|outdegree",separator:"\\s*,\\s*",descendant:"\\s+",child:"\\s+>\\s+",subject:"\\$",group:"node|edge|\\*",directedEdge:"\\s+->\\s+",undirectedEdge:"\\s+<->\\s+"};At.variable="(?:[\\w-.]|(?:\\\\"+At.metaChar+"))+";At.className="(?:[\\w-]|(?:\\\\"+At.metaChar+"))+";At.value=At.string+"|"+At.number;At.id=At.variable;(function(){var e,t,n;for(e=At.comparatorOp.split("|"),n=0;n<e.length;n++)t=e[n],At.comparatorOp+="|@"+t;for(e=At.comparatorOp.split("|"),n=0;n<e.length;n++)t=e[n],!(t.indexOf("!")>=0)&&t!=="="&&(At.comparatorOp+="|\\!"+t)})();var Xt=function(){return{checks:[]}},Ye={GROUP:0,COLLECTION:1,FILTER:2,DATA_COMPARE:3,DATA_EXIST:4,DATA_BOOL:5,META_COMPARE:6,STATE:7,ID:8,CLASS:9,UNDIRECTED_EDGE:10,DIRECTED_EDGE:11,NODE_SOURCE:12,NODE_TARGET:13,NODE_NEIGHBOR:14,CHILD:15,DESCENDANT:16,PARENT:17,ANCESTOR:18,COMPOUND_SPLIT:19,TRUE:20},s4=[{selector:":selected",matches:function(t){return t.selected()}},{selector:":unselected",matches:function(t){return!t.selected()}},{selector:":selectable",matches:function(t){return t.selectable()}},{selector:":unselectable",matches:function(t){return!t.selectable()}},{selector:":locked",matches:function(t){return t.locked()}},{selector:":unlocked",matches:function(t){return!t.locked()}},{selector:":visible",matches:function(t){return t.visible()}},{selector:":hidden",matches:function(t){return!t.visible()}},{selector:":transparent",matches:function(t){return t.transparent()}},{selector:":grabbed",matches:function(t){return t.grabbed()}},{selector:":free",matches:function(t){return!t.grabbed()}},{selector:":removed",matches:function(t){return t.removed()}},{selector:":inside",matches:function(t){return!t.removed()}},{selector:":grabbable",matches:function(t){return t.grabbable()}},{selector:":ungrabbable",matches:function(t){return!t.grabbable()}},{selector:":animated",matches:function(t){return t.animated()}},{selector:":unanimated",matches:function(t){return!t.animated()}},{selector:":parent",matches:function(t){return t.isParent()}},{selector:":childless",matches:function(t){return t.isChildless()}},{selector:":child",matches:function(t){return t.isChild()}},{selector:":orphan",matches:function(t){return t.isOrphan()}},{selector:":nonorphan",matches:function(t){return t.isChild()}},{selector:":compound",matches:function(t){return t.isNode()?t.isParent():t.source().isParent()||t.target().isParent()}},{selector:":loop",matches:function(t){return t.isLoop()}},{selector:":simple",matches:function(t){return t.isSimple()}},{selector:":active",matches:function(t){return t.active()}},{selector:":inactive",matches:function(t){return!t.active()}},{selector:":backgrounding",matches:function(t){return t.backgrounding()}},{selector:":nonbackgrounding",matches:function(t){return!t.backgrounding()}}].sort(function(e,t){return qJ(e.selector,t.selector)}),qne=function(){for(var e={},t,n=0;n<s4.length;n++)t=s4[n],e[t.selector]=t.matches;return e}(),Hne=function(t,n){return qne[t](n)},Vne="("+s4.map(function(e){return e.selector}).join("|")+")",xl=function(t){return t.replace(new RegExp("\\\\("+At.metaChar+")","g"),function(n,r){return r})},us=function(t,n,r){t[t.length-1]=r},o4=[{name:"group",query:!0,regex:"("+At.group+")",populate:function(t,n,r){var i=tr(r,1),a=i[0];n.checks.push({type:Ye.GROUP,value:a==="*"?a:a+"s"})}},{name:"state",query:!0,regex:Vne,populate:function(t,n,r){var i=tr(r,1),a=i[0];n.checks.push({type:Ye.STATE,value:a})}},{name:"id",query:!0,regex:"\\#("+At.id+")",populate:function(t,n,r){var i=tr(r,1),a=i[0];n.checks.push({type:Ye.ID,value:xl(a)})}},{name:"className",query:!0,regex:"\\.("+At.className+")",populate:function(t,n,r){var i=tr(r,1),a=i[0];n.checks.push({type:Ye.CLASS,value:xl(a)})}},{name:"dataExists",query:!0,regex:"\\[\\s*("+At.variable+")\\s*\\]",populate:function(t,n,r){var i=tr(r,1),a=i[0];n.checks.push({type:Ye.DATA_EXIST,field:xl(a)})}},{name:"dataCompare",query:!0,regex:"\\[\\s*("+At.variable+")\\s*("+At.comparatorOp+")\\s*("+At.value+")\\s*\\]",populate:function(t,n,r){var i=tr(r,3),a=i[0],s=i[1],o=i[2],l=new RegExp("^"+At.string+"$").exec(o)!=null;l?o=o.substring(1,o.length-1):o=parseFloat(o),n.checks.push({type:Ye.DATA_COMPARE,field:xl(a),operator:s,value:o})}},{name:"dataBool",query:!0,regex:"\\[\\s*("+At.boolOp+")\\s*("+At.variable+")\\s*\\]",populate:function(t,n,r){var i=tr(r,2),a=i[0],s=i[1];n.checks.push({type:Ye.DATA_BOOL,field:xl(s),operator:a})}},{name:"metaCompare",query:!0,regex:"\\[\\[\\s*("+At.meta+")\\s*("+At.comparatorOp+")\\s*("+At.number+")\\s*\\]\\]",populate:function(t,n,r){var i=tr(r,3),a=i[0],s=i[1],o=i[2];n.checks.push({type:Ye.META_COMPARE,field:xl(a),operator:s,value:parseFloat(o)})}},{name:"nextQuery",separator:!0,regex:At.separator,populate:function(t,n){var r=t.currentSubject,i=t.edgeCount,a=t.compoundCount,s=t[t.length-1];r!=null&&(s.subject=r,t.currentSubject=null),s.edgeCount=i,s.compoundCount=a,t.edgeCount=0,t.compoundCount=0;var o=t[t.length++]=Xt();return o}},{name:"directedEdge",separator:!0,regex:At.directedEdge,populate:function(t,n){if(t.currentSubject==null){var r=Xt(),i=n,a=Xt();return r.checks.push({type:Ye.DIRECTED_EDGE,source:i,target:a}),us(t,n,r),t.edgeCount++,a}else{var s=Xt(),o=n,l=Xt();return s.checks.push({type:Ye.NODE_SOURCE,source:o,target:l}),us(t,n,s),t.edgeCount++,l}}},{name:"undirectedEdge",separator:!0,regex:At.undirectedEdge,populate:function(t,n){if(t.currentSubject==null){var r=Xt(),i=n,a=Xt();return r.checks.push({type:Ye.UNDIRECTED_EDGE,nodes:[i,a]}),us(t,n,r),t.edgeCount++,a}else{var s=Xt(),o=n,l=Xt();return s.checks.push({type:Ye.NODE_NEIGHBOR,node:o,neighbor:l}),us(t,n,s),l}}},{name:"child",separator:!0,regex:At.child,populate:function(t,n){if(t.currentSubject==null){var r=Xt(),i=Xt(),a=t[t.length-1];return r.checks.push({type:Ye.CHILD,parent:a,child:i}),us(t,n,r),t.compoundCount++,i}else if(t.currentSubject===n){var s=Xt(),o=t[t.length-1],l=Xt(),u=Xt(),c=Xt(),f=Xt();return s.checks.push({type:Ye.COMPOUND_SPLIT,left:o,right:l,subject:u}),u.checks=n.checks,n.checks=[{type:Ye.TRUE}],f.checks.push({type:Ye.TRUE}),l.checks.push({type:Ye.PARENT,parent:f,child:c}),us(t,o,s),t.currentSubject=u,t.compoundCount++,c}else{var h=Xt(),d=Xt(),p=[{type:Ye.PARENT,parent:h,child:d}];return h.checks=n.checks,n.checks=p,t.compoundCount++,d}}},{name:"descendant",separator:!0,regex:At.descendant,populate:function(t,n){if(t.currentSubject==null){var r=Xt(),i=Xt(),a=t[t.length-1];return r.checks.push({type:Ye.DESCENDANT,ancestor:a,descendant:i}),us(t,n,r),t.compoundCount++,i}else if(t.currentSubject===n){var s=Xt(),o=t[t.length-1],l=Xt(),u=Xt(),c=Xt(),f=Xt();return s.checks.push({type:Ye.COMPOUND_SPLIT,left:o,right:l,subject:u}),u.checks=n.checks,n.checks=[{type:Ye.TRUE}],f.checks.push({type:Ye.TRUE}),l.checks.push({type:Ye.ANCESTOR,ancestor:f,descendant:c}),us(t,o,s),t.currentSubject=u,t.compoundCount++,c}else{var h=Xt(),d=Xt(),p=[{type:Ye.ANCESTOR,ancestor:h,descendant:d}];return h.checks=n.checks,n.checks=p,t.compoundCount++,d}}},{name:"subject",modifier:!0,regex:At.subject,populate:function(t,n){if(t.currentSubject!=null&&t.currentSubject!==n)return Vt("Redefinition of subject in selector `"+t.toString()+"`"),!1;t.currentSubject=n;var r=t[t.length-1],i=r.checks[0],a=i==null?null:i.type;a===Ye.DIRECTED_EDGE?i.type=Ye.NODE_TARGET:a===Ye.UNDIRECTED_EDGE&&(i.type=Ye.NODE_NEIGHBOR,i.node=i.nodes[1],i.neighbor=i.nodes[0],i.nodes=null)}}];o4.forEach(function(e){return e.regexObj=new RegExp("^"+e.regex)});var Une=function(t){for(var n,r,i,a=0;a<o4.length;a++){var s=o4[a],o=s.name,l=t.match(s.regexObj);if(l!=null){r=l,n=s,i=o;var u=l[0];t=t.substring(u.length);break}}return{expr:n,match:r,name:i,remaining:t}},Wne=function(t){var n=t.match(/^\s+/);if(n){var r=n[0];t=t.substring(r.length)}return t},Gne=function(t){var n=this,r=n.inputText=t,i=n[0]=Xt();for(n.length=1,r=Wne(r);;){var a=Une(r);if(a.expr==null)return Vt("The selector `"+t+"`is invalid"),!1;var s=a.match.slice(1),o=a.expr.populate(n,i,s);if(o===!1)return!1;if(o!=null&&(i=o),r=a.remaining,r.match(/^\s*$/))break}var l=n[n.length-1];n.currentSubject!=null&&(l.subject=n.currentSubject),l.edgeCount=n.edgeCount,l.compoundCount=n.compoundCount;for(var u=0;u<n.length;u++){var c=n[u];if(c.compoundCount>0&&c.edgeCount>0)return Vt("The selector `"+t+"` is invalid because it uses both a compound selector and an edge selector"),!1;if(c.edgeCount>1)return Vt("The selector `"+t+"` is invalid because it uses multiple edge selectors"),!1;c.edgeCount===1&&Vt("The selector `"+t+"` is deprecated.  Edge selectors do not take effect on changes to source and target nodes after an edge is added, for performance reasons.  Use a class or data selector on edges instead, updating the class or data of an edge when your app detects a change in source or target nodes.")}return!0},Yne=function(){if(this.toStringCache!=null)return this.toStringCache;for(var t=function(c){return c??""},n=function(c){return tt(c)?'"'+c+'"':t(c)},r=function(c){return" "+c+" "},i=function(c,f){var h=c.type,d=c.value;switch(h){case Ye.GROUP:{var p=t(d);return p.substring(0,p.length-1)}case Ye.DATA_COMPARE:{var v=c.field,x=c.operator;return"["+v+r(t(x))+n(d)+"]"}case Ye.DATA_BOOL:{var y=c.operator,w=c.field;return"["+t(y)+w+"]"}case Ye.DATA_EXIST:{var k=c.field;return"["+k+"]"}case Ye.META_COMPARE:{var _=c.operator,C=c.field;return"[["+C+r(t(_))+n(d)+"]]"}case Ye.STATE:return d;case Ye.ID:return"#"+d;case Ye.CLASS:return"."+d;case Ye.PARENT:case Ye.CHILD:return a(c.parent,f)+r(">")+a(c.child,f);case Ye.ANCESTOR:case Ye.DESCENDANT:return a(c.ancestor,f)+" "+a(c.descendant,f);case Ye.COMPOUND_SPLIT:{var T=a(c.left,f),E=a(c.subject,f),A=a(c.right,f);return T+(T.length>0?" ":"")+E+A}case Ye.TRUE:return""}},a=function(c,f){return c.checks.reduce(function(h,d,p){return h+(f===c&&p===0?"$":"")+i(d,f)},"")},s="",o=0;o<this.length;o++){var l=this[o];s+=a(l,l.subject),this.length>1&&o<this.length-1&&(s+=", ")}return this.toStringCache=s,s},Xne={parse:Gne,toString:Yne},HM=function(t,n,r){var i,a=tt(t),s=ze(t),o=tt(r),l,u,c=!1,f=!1,h=!1;switch(n.indexOf("!")>=0&&(n=n.replace("!",""),f=!0),n.indexOf("@")>=0&&(n=n.replace("@",""),c=!0),(a||o||c)&&(l=!a&&!s?"":""+t,u=""+r),c&&(t=l=l.toLowerCase(),r=u=u.toLowerCase()),n){case"*=":i=l.indexOf(u)>=0;break;case"$=":i=l.indexOf(u,l.length-u.length)>=0;break;case"^=":i=l.indexOf(u)===0;break;case"=":i=t===r;break;case">":h=!0,i=t>r;break;case">=":h=!0,i=t>=r;break;case"<":h=!0,i=t<r;break;case"<=":h=!0,i=t<=r;break;default:i=!1;break}return f&&(t!=null||!h)&&(i=!i),i},Kne=function(t,n){switch(n){case"?":return!!t;case"!":return!t;case"^":return t===void 0}},Qne=function(t){return t!==void 0},Db=function(t,n){return t.data(n)},Zne=function(t,n){return t[n]()},Bn=[],pn=function(t,n){return t.checks.every(function(r){return Bn[r.type](r,n)})};Bn[Ye.GROUP]=function(e,t){var n=e.value;return n==="*"||n===t.group()};Bn[Ye.STATE]=function(e,t){var n=e.value;return Hne(n,t)};Bn[Ye.ID]=function(e,t){var n=e.value;return t.id()===n};Bn[Ye.CLASS]=function(e,t){var n=e.value;return t.hasClass(n)};Bn[Ye.META_COMPARE]=function(e,t){var n=e.field,r=e.operator,i=e.value;return HM(Zne(t,n),r,i)};Bn[Ye.DATA_COMPARE]=function(e,t){var n=e.field,r=e.operator,i=e.value;return HM(Db(t,n),r,i)};Bn[Ye.DATA_BOOL]=function(e,t){var n=e.field,r=e.operator;return Kne(Db(t,n),r)};Bn[Ye.DATA_EXIST]=function(e,t){var n=e.field;return e.operator,Qne(Db(t,n))};Bn[Ye.UNDIRECTED_EDGE]=function(e,t){var n=e.nodes[0],r=e.nodes[1],i=t.source(),a=t.target();return pn(n,i)&&pn(r,a)||pn(r,i)&&pn(n,a)};Bn[Ye.NODE_NEIGHBOR]=function(e,t){return pn(e.node,t)&&t.neighborhood().some(function(n){return n.isNode()&&pn(e.neighbor,n)})};Bn[Ye.DIRECTED_EDGE]=function(e,t){return pn(e.source,t.source())&&pn(e.target,t.target())};Bn[Ye.NODE_SOURCE]=function(e,t){return pn(e.source,t)&&t.outgoers().some(function(n){return n.isNode()&&pn(e.target,n)})};Bn[Ye.NODE_TARGET]=function(e,t){return pn(e.target,t)&&t.incomers().some(function(n){return n.isNode()&&pn(e.source,n)})};Bn[Ye.CHILD]=function(e,t){return pn(e.child,t)&&pn(e.parent,t.parent())};Bn[Ye.PARENT]=function(e,t){return pn(e.parent,t)&&t.children().some(function(n){return pn(e.child,n)})};Bn[Ye.DESCENDANT]=function(e,t){return pn(e.descendant,t)&&t.ancestors().some(function(n){return pn(e.ancestor,n)})};Bn[Ye.ANCESTOR]=function(e,t){return pn(e.ancestor,t)&&t.descendants().some(function(n){return pn(e.descendant,n)})};Bn[Ye.COMPOUND_SPLIT]=function(e,t){return pn(e.subject,t)&&pn(e.left,t)&&pn(e.right,t)};Bn[Ye.TRUE]=function(){return!0};Bn[Ye.COLLECTION]=function(e,t){var n=e.value;return n.has(t)};Bn[Ye.FILTER]=function(e,t){var n=e.value;return n(t)};var Jne=function(t){var n=this;if(n.length===1&&n[0].checks.length===1&&n[0].checks[0].type===Ye.ID)return t.getElementById(n[0].checks[0].value).collection();var r=function(a){for(var s=0;s<n.length;s++){var o=n[s];if(pn(o,a))return!0}return!1};return n.text()==null&&(r=function(){return!0}),t.filter(r)},ere=function(t){for(var n=this,r=0;r<n.length;r++){var i=n[r];if(pn(i,t))return!0}return!1},tre={matches:ere,filter:Jne},Hs=function(t){this.inputText=t,this.currentSubject=null,this.compoundCount=0,this.edgeCount=0,this.length=0,t==null||tt(t)&&t.match(/^\s*$/)||(ui(t)?this.addQuery({checks:[{type:Ye.COLLECTION,value:t.collection()}]}):Mn(t)?this.addQuery({checks:[{type:Ye.FILTER,value:t}]}):tt(t)?this.parse(t)||(this.invalid=!0):Tn("A selector must be created from a string; found "))},Vs=Hs.prototype;[Xne,tre].forEach(function(e){return ot(Vs,e)});Vs.text=function(){return this.inputText};Vs.size=function(){return this.length};Vs.eq=function(e){return this[e]};Vs.sameText=function(e){return!this.invalid&&!e.invalid&&this.text()===e.text()};Vs.addQuery=function(e){this[this.length++]=e};Vs.selector=Vs.toString;var Ls={allAre:function(t){var n=new Hs(t);return this.every(function(r){return n.matches(r)})},is:function(t){var n=new Hs(t);return this.some(function(r){return n.matches(r)})},some:function(t,n){for(var r=0;r<this.length;r++){var i=n?t.apply(n,[this[r],r,this]):t(this[r],r,this);if(i)return!0}return!1},every:function(t,n){for(var r=0;r<this.length;r++){var i=n?t.apply(n,[this[r],r,this]):t(this[r],r,this);if(!i)return!1}return!0},same:function(t){if(this===t)return!0;t=this.cy().collection(t);var n=this.length,r=t.length;return n!==r?!1:n===1?this[0]===t[0]:this.every(function(i){return t.hasElementWithId(i.id())})},anySame:function(t){return t=this.cy().collection(t),this.some(function(n){return t.hasElementWithId(n.id())})},allAreNeighbors:function(t){t=this.cy().collection(t);var n=this.neighborhood();return t.every(function(r){return n.hasElementWithId(r.id())})},contains:function(t){t=this.cy().collection(t);var n=this;return t.every(function(r){return n.hasElementWithId(r.id())})}};Ls.allAreNeighbours=Ls.allAreNeighbors;Ls.has=Ls.contains;Ls.equal=Ls.equals=Ls.same;var Ci=function(t,n){return function(i,a,s,o){var l=i,u=this,c;if(l==null?c="":ui(l)&&l.length===1&&(c=l.id()),u.length===1&&c){var f=u[0]._private,h=f.traversalCache=f.traversalCache||{},d=h[n]=h[n]||[],p=Yo(c),v=d[p];return v||(d[p]=t.call(u,i,a,s,o))}else return t.call(u,i,a,s,o)}},Iu={parent:function(t){var n=[];if(this.length===1){var r=this[0]._private.parent;if(r)return r}for(var i=0;i<this.length;i++){var a=this[i],s=a._private.parent;s&&n.push(s)}return this.spawn(n,!0).filter(t)},parents:function(t){for(var n=[],r=this.parent();r.nonempty();){for(var i=0;i<r.length;i++){var a=r[i];n.push(a)}r=r.parent()}return this.spawn(n,!0).filter(t)},commonAncestors:function(t){for(var n,r=0;r<this.length;r++){var i=this[r],a=i.parents();n=n||a,n=n.intersect(a)}return n.filter(t)},orphans:function(t){return this.stdFilter(function(n){return n.isOrphan()}).filter(t)},nonorphans:function(t){return this.stdFilter(function(n){return n.isChild()}).filter(t)},children:Ci(function(e){for(var t=[],n=0;n<this.length;n++)for(var r=this[n],i=r._private.children,a=0;a<i.length;a++)t.push(i[a]);return this.spawn(t,!0).filter(e)},"children"),siblings:function(t){return this.parent().children().not(this).filter(t)},isParent:function(){var t=this[0];if(t)return t.isNode()&&t._private.children.length!==0},isChildless:function(){var t=this[0];if(t)return t.isNode()&&t._private.children.length===0},isChild:function(){var t=this[0];if(t)return t.isNode()&&t._private.parent!=null},isOrphan:function(){var t=this[0];if(t)return t.isNode()&&t._private.parent==null},descendants:function(t){var n=[];function r(i){for(var a=0;a<i.length;a++){var s=i[a];n.push(s),s.children().nonempty()&&r(s.children())}}return r(this.children()),this.spawn(n,!0).filter(t)}};function Ib(e,t,n,r){for(var i=[],a=new qu,s=e.cy(),o=s.hasCompoundNodes(),l=0;l<e.length;l++){var u=e[l];n?i.push(u):o&&r(i,a,u)}for(;i.length>0;){var c=i.shift();t(c),a.add(c.id()),o&&r(i,a,c)}return e}function VM(e,t,n){if(n.isParent())for(var r=n._private.children,i=0;i<r.length;i++){var a=r[i];t.has(a.id())||e.push(a)}}Iu.forEachDown=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return Ib(this,e,t,VM)};function UM(e,t,n){if(n.isChild()){var r=n._private.parent;t.has(r.id())||e.push(r)}}Iu.forEachUp=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return Ib(this,e,t,UM)};function nre(e,t,n){UM(e,t,n),VM(e,t,n)}Iu.forEachUpAndDown=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return Ib(this,e,t,nre)};Iu.ancestors=Iu.parents;var jf,WM;jf=WM={data:Ht.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),removeData:Ht.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),scratch:Ht.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:Ht.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),rscratch:Ht.data({field:"rscratch",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!0}),removeRscratch:Ht.removeData({field:"rscratch",triggerEvent:!1}),id:function(){var t=this[0];if(t)return t._private.data.id}};jf.attr=jf.data;jf.removeAttr=jf.removeData;var rre=WM,$g={};function X1(e){return function(t){var n=this;if(t===void 0&&(t=!0),n.length!==0)if(n.isNode()&&!n.removed()){for(var r=0,i=n[0],a=i._private.edges,s=0;s<a.length;s++){var o=a[s];!t&&o.isLoop()||(r+=e(i,o))}return r}else return}}ot($g,{degree:X1(function(e,t){return t.source().same(t.target())?2:1}),indegree:X1(function(e,t){return t.target().same(e)?1:0}),outdegree:X1(function(e,t){return t.source().same(e)?1:0})});function bl(e,t){return function(n){for(var r,i=this.nodes(),a=0;a<i.length;a++){var s=i[a],o=s[e](n);o!==void 0&&(r===void 0||t(o,r))&&(r=o)}return r}}ot($g,{minDegree:bl("degree",function(e,t){return e<t}),maxDegree:bl("degree",function(e,t){return e>t}),minIndegree:bl("indegree",function(e,t){return e<t}),maxIndegree:bl("indegree",function(e,t){return e>t}),minOutdegree:bl("outdegree",function(e,t){return e<t}),maxOutdegree:bl("outdegree",function(e,t){return e>t})});ot($g,{totalDegree:function(t){for(var n=0,r=this.nodes(),i=0;i<r.length;i++)n+=r[i].degree(t);return n}});var qi,GM,YM=function(t,n,r){for(var i=0;i<t.length;i++){var a=t[i];if(!a.locked()){var s=a._private.position,o={x:n.x!=null?n.x-s.x:0,y:n.y!=null?n.y-s.y:0};a.isParent()&&!(o.x===0&&o.y===0)&&a.children().shift(o,r),a.dirtyBoundingBoxCache()}}},s9={field:"position",bindingEvent:"position",allowBinding:!0,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!0,triggerFnName:"emitAndNotify",allowGetting:!0,validKeys:["x","y"],beforeGet:function(t){t.updateCompoundBounds()},beforeSet:function(t,n){YM(t,n,!1)},onSet:function(t){t.dirtyCompoundBoundsCache()},canSet:function(t){return!t.locked()}};qi=GM={position:Ht.data(s9),silentPosition:Ht.data(ot({},s9,{allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!1,beforeSet:function(t,n){YM(t,n,!0)},onSet:function(t){t.dirtyCompoundBoundsCache()}})),positions:function(t,n){if(Ot(t))n?this.silentPosition(t):this.position(t);else if(Mn(t)){var r=t,i=this.cy();i.startBatch();for(var a=0;a<this.length;a++){var s=this[a],o=void 0;(o=r(s,a))&&(n?s.silentPosition(o):s.position(o))}i.endBatch()}return this},silentPositions:function(t){return this.positions(t,!0)},shift:function(t,n,r){var i;if(Ot(t)?(i={x:ze(t.x)?t.x:0,y:ze(t.y)?t.y:0},r=n):tt(t)&&ze(n)&&(i={x:0,y:0},i[t]=n),i!=null){var a=this.cy();a.startBatch();for(var s=0;s<this.length;s++){var o=this[s];if(!(a.hasCompoundNodes()&&o.isChild()&&o.ancestors().anySame(this))){var l=o.position(),u={x:l.x+i.x,y:l.y+i.y};r?o.silentPosition(u):o.position(u)}}a.endBatch()}return this},silentShift:function(t,n){return Ot(t)?this.shift(t,!0):tt(t)&&ze(n)&&this.shift(t,n,!0),this},renderedPosition:function(t,n){var r=this[0],i=this.cy(),a=i.zoom(),s=i.pan(),o=Ot(t)?t:void 0,l=o!==void 0||n!==void 0&&tt(t);if(r&&r.isNode())if(l)for(var u=0;u<this.length;u++){var c=this[u];n!==void 0?c.position(t,(n-s[t])/a):o!==void 0&&c.position(SM(o,a,s))}else{var f=r.position();return o=Og(f,a,s),t===void 0?o:o[t]}else if(!l)return;return this},relativePosition:function(t,n){var r=this[0],i=this.cy(),a=Ot(t)?t:void 0,s=a!==void 0||n!==void 0&&tt(t),o=i.hasCompoundNodes();if(r&&r.isNode())if(s)for(var l=0;l<this.length;l++){var u=this[l],c=o?u.parent():null,f=c&&c.length>0,h=f;f&&(c=c[0]);var d=h?c.position():{x:0,y:0};n!==void 0?u.position(t,n+d[t]):a!==void 0&&u.position({x:a.x+d.x,y:a.y+d.y})}else{var p=r.position(),v=o?r.parent():null,x=v&&v.length>0,y=x;x&&(v=v[0]);var w=y?v.position():{x:0,y:0};return a={x:p.x-w.x,y:p.y-w.y},t===void 0?a:a[t]}else if(!s)return;return this}};qi.modelPosition=qi.point=qi.position;qi.modelPositions=qi.points=qi.positions;qi.renderedPoint=qi.renderedPosition;qi.relativePoint=qi.relativePosition;var ire=GM,fu,eo;fu=eo={};eo.renderedBoundingBox=function(e){var t=this.boundingBox(e),n=this.cy(),r=n.zoom(),i=n.pan(),a=t.x1*r+i.x,s=t.x2*r+i.x,o=t.y1*r+i.y,l=t.y2*r+i.y;return{x1:a,x2:s,y1:o,y2:l,w:s-a,h:l-o}};eo.dirtyCompoundBoundsCache=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,t=this.cy();return!t.styleEnabled()||!t.hasCompoundNodes()?this:(this.forEachUp(function(n){if(n.isParent()){var r=n._private;r.compoundBoundsClean=!1,r.bbCache=null,e||n.emitAndNotify("bounds")}}),this)};eo.updateCompoundBounds=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,t=this.cy();if(!t.styleEnabled()||!t.hasCompoundNodes())return this;if(!e&&t.batching())return this;function n(s){if(!s.isParent())return;var o=s._private,l=s.children(),u=s.pstyle("compound-sizing-wrt-labels").value==="include",c={width:{val:s.pstyle("min-width").pfValue,left:s.pstyle("min-width-bias-left"),right:s.pstyle("min-width-bias-right")},height:{val:s.pstyle("min-height").pfValue,top:s.pstyle("min-height-bias-top"),bottom:s.pstyle("min-height-bias-bottom")}},f=l.boundingBox({includeLabels:u,includeOverlays:!1,useCache:!1}),h=o.position;(f.w===0||f.h===0)&&(f={w:s.pstyle("width").pfValue,h:s.pstyle("height").pfValue},f.x1=h.x-f.w/2,f.x2=h.x+f.w/2,f.y1=h.y-f.h/2,f.y2=h.y+f.h/2);function d(R,D,N){var z=0,j=0,V=D+N;return R>0&&V>0&&(z=D/V*R,j=N/V*R),{biasDiff:z,biasComplementDiff:j}}function p(R,D,N,z){if(N.units==="%")switch(z){case"width":return R>0?N.pfValue*R:0;case"height":return D>0?N.pfValue*D:0;case"average":return R>0&&D>0?N.pfValue*(R+D)/2:0;case"min":return R>0&&D>0?R>D?N.pfValue*D:N.pfValue*R:0;case"max":return R>0&&D>0?R>D?N.pfValue*R:N.pfValue*D:0;default:return 0}else return N.units==="px"?N.pfValue:0}var v=c.width.left.value;c.width.left.units==="px"&&c.width.val>0&&(v=v*100/c.width.val);var x=c.width.right.value;c.width.right.units==="px"&&c.width.val>0&&(x=x*100/c.width.val);var y=c.height.top.value;c.height.top.units==="px"&&c.height.val>0&&(y=y*100/c.height.val);var w=c.height.bottom.value;c.height.bottom.units==="px"&&c.height.val>0&&(w=w*100/c.height.val);var k=d(c.width.val-f.w,v,x),_=k.biasDiff,C=k.biasComplementDiff,T=d(c.height.val-f.h,y,w),E=T.biasDiff,A=T.biasComplementDiff;o.autoPadding=p(f.w,f.h,s.pstyle("padding"),s.pstyle("padding-relative-to").value),o.autoWidth=Math.max(f.w,c.width.val),h.x=(-_+f.x1+f.x2+C)/2,o.autoHeight=Math.max(f.h,c.height.val),h.y=(-E+f.y1+f.y2+A)/2}for(var r=0;r<this.length;r++){var i=this[r],a=i._private;(!a.compoundBoundsClean||e)&&(n(i),t.batching()||(a.compoundBoundsClean=!0))}return this};var Si=function(t){return t===1/0||t===-1/0?0:t},zi=function(t,n,r,i,a){i-n===0||a-r===0||n==null||r==null||i==null||a==null||(t.x1=n<t.x1?n:t.x1,t.x2=i>t.x2?i:t.x2,t.y1=r<t.y1?r:t.y1,t.y2=a>t.y2?a:t.y2,t.w=t.x2-t.x1,t.h=t.y2-t.y1)},wo=function(t,n){return n==null?t:zi(t,n.x1,n.y1,n.x2,n.y2)},xc=function(t,n,r){return qr(t,n,r)},Oh=function(t,n,r){if(!n.cy().headless()){var i=n._private,a=i.rstyle,s=a.arrowWidth/2,o=n.pstyle(r+"-arrow-shape").value,l,u;if(o!=="none"){r==="source"?(l=a.srcX,u=a.srcY):r==="target"?(l=a.tgtX,u=a.tgtY):(l=a.midX,u=a.midY);var c=i.arrowBounds=i.arrowBounds||{},f=c[r]=c[r]||{};f.x1=l-s,f.y1=u-s,f.x2=l+s,f.y2=u+s,f.w=f.x2-f.x1,f.h=f.y2-f.y1,pd(f,1),zi(t,f.x1,f.y1,f.x2,f.y2)}}},K1=function(t,n,r){if(!n.cy().headless()){var i;r?i=r+"-":i="";var a=n._private,s=a.rstyle,o=n.pstyle(i+"label").strValue;if(o){var l=n.pstyle("text-halign"),u=n.pstyle("text-valign"),c=xc(s,"labelWidth",r),f=xc(s,"labelHeight",r),h=xc(s,"labelX",r),d=xc(s,"labelY",r),p=n.pstyle(i+"text-margin-x").pfValue,v=n.pstyle(i+"text-margin-y").pfValue,x=n.isEdge(),y=n.pstyle(i+"text-rotation"),w=n.pstyle("text-outline-width").pfValue,k=n.pstyle("text-border-width").pfValue,_=k/2,C=n.pstyle("text-background-padding").pfValue,T=2,E=f,A=c,R=A/2,D=E/2,N,z,j,V;if(x)N=h-R,z=h+R,j=d-D,V=d+D;else{switch(l.value){case"left":N=h-A,z=h;break;case"center":N=h-R,z=h+R;break;case"right":N=h,z=h+A;break}switch(u.value){case"top":j=d-E,V=d;break;case"center":j=d-D,V=d+D;break;case"bottom":j=d,V=d+E;break}}var Y=p-Math.max(w,_)-C-T,Z=p+Math.max(w,_)+C+T,X=v-Math.max(w,_)-C-T,G=v+Math.max(w,_)+C+T;N+=Y,z+=Z,j+=X,V+=G;var ee=r||"main",B=a.labelBounds,K=B[ee]=B[ee]||{};K.x1=N,K.y1=j,K.x2=z,K.y2=V,K.w=z-N,K.h=V-j,K.leftPad=Y,K.rightPad=Z,K.topPad=X,K.botPad=G;var J=x&&y.strValue==="autorotate",q=y.pfValue!=null&&y.pfValue!==0;if(J||q){var he=J?xc(a.rstyle,"labelAngle",r):y.pfValue,de=Math.cos(he),oe=Math.sin(he),ke=(N+z)/2,Ae=(j+V)/2;if(!x){switch(l.value){case"left":ke=z;break;case"right":ke=N;break}switch(u.value){case"top":Ae=V;break;case"bottom":Ae=j;break}}var Se=function(Tt,He){return Tt=Tt-ke,He=He-Ae,{x:Tt*de-He*oe+ke,y:Tt*oe+He*de+Ae}},ce=Se(N,j),ge=Se(N,V),me=Se(z,j),Ee=Se(z,V);N=Math.min(ce.x,ge.x,me.x,Ee.x),z=Math.max(ce.x,ge.x,me.x,Ee.x),j=Math.min(ce.y,ge.y,me.y,Ee.y),V=Math.max(ce.y,ge.y,me.y,Ee.y)}var je=ee+"Rot",ct=B[je]=B[je]||{};ct.x1=N,ct.y1=j,ct.x2=z,ct.y2=V,ct.w=z-N,ct.h=V-j,zi(t,N,j,z,V),zi(a.labelBounds.all,N,j,z,V)}return t}},are=function(t,n){if(!n.cy().headless()){var r=n.pstyle("outline-opacity").value,i=n.pstyle("outline-width").value;if(r>0&&i>0){var a=n.pstyle("outline-offset").value,s=n.pstyle("shape").value,o=i+a,l=(t.w+o*2)/t.w,u=(t.h+o*2)/t.h,c=0,f=0;["diamond","pentagon","round-triangle"].includes(s)?(l=(t.w+o*2.4)/t.w,f=-o/3.6):["concave-hexagon","rhomboid","right-rhomboid"].includes(s)?l=(t.w+o*2.4)/t.w:s==="star"?(l=(t.w+o*2.8)/t.w,u=(t.h+o*2.6)/t.h,f=-o/3.8):s==="triangle"?(l=(t.w+o*2.8)/t.w,u=(t.h+o*2.4)/t.h,f=-o/1.4):s==="vee"&&(l=(t.w+o*4.4)/t.w,u=(t.h+o*3.8)/t.h,f=-o*.5);var h=t.h*u-t.h,d=t.w*l-t.w;if(gd(t,[Math.ceil(h/2),Math.ceil(d/2)]),c!=0||f!==0){var p=qee(t,c,f);_M(t,p)}}}},sre=function(t,n){var r=t._private.cy,i=r.styleEnabled(),a=r.headless(),s=Qr(),o=t._private,l=t.isNode(),u=t.isEdge(),c,f,h,d,p,v,x=o.rstyle,y=l&&i?t.pstyle("bounds-expansion").pfValue:[0],w=function(zt){return zt.pstyle("display").value!=="none"},k=!i||w(t)&&(!u||w(t.source())&&w(t.target()));if(k){var _=0,C=0;i&&n.includeOverlays&&(_=t.pstyle("overlay-opacity").value,_!==0&&(C=t.pstyle("overlay-padding").value));var T=0,E=0;i&&n.includeUnderlays&&(T=t.pstyle("underlay-opacity").value,T!==0&&(E=t.pstyle("underlay-padding").value));var A=Math.max(C,E),R=0,D=0;if(i&&(R=t.pstyle("width").pfValue,D=R/2),l&&n.includeNodes){var N=t.position();p=N.x,v=N.y;var z=t.outerWidth(),j=z/2,V=t.outerHeight(),Y=V/2;c=p-j,f=p+j,h=v-Y,d=v+Y,zi(s,c,h,f,d),i&&n.includeOutlines&&are(s,t)}else if(u&&n.includeEdges)if(i&&!a){var Z=t.pstyle("curve-style").strValue;if(c=Math.min(x.srcX,x.midX,x.tgtX),f=Math.max(x.srcX,x.midX,x.tgtX),h=Math.min(x.srcY,x.midY,x.tgtY),d=Math.max(x.srcY,x.midY,x.tgtY),c-=D,f+=D,h-=D,d+=D,zi(s,c,h,f,d),Z==="haystack"){var X=x.haystackPts;if(X&&X.length===2){if(c=X[0].x,h=X[0].y,f=X[1].x,d=X[1].y,c>f){var G=c;c=f,f=G}if(h>d){var ee=h;h=d,d=ee}zi(s,c-D,h-D,f+D,d+D)}}else if(Z==="bezier"||Z==="unbundled-bezier"||Z.endsWith("segments")||Z.endsWith("taxi")){var B;switch(Z){case"bezier":case"unbundled-bezier":B=x.bezierPts;break;case"segments":case"taxi":case"round-segments":case"round-taxi":B=x.linePts;break}if(B!=null)for(var K=0;K<B.length;K++){var J=B[K];c=J.x-D,f=J.x+D,h=J.y-D,d=J.y+D,zi(s,c,h,f,d)}}}else{var q=t.source(),he=q.position(),de=t.target(),oe=de.position();if(c=he.x,f=oe.x,h=he.y,d=oe.y,c>f){var ke=c;c=f,f=ke}if(h>d){var Ae=h;h=d,d=Ae}c-=D,f+=D,h-=D,d+=D,zi(s,c,h,f,d)}if(i&&n.includeEdges&&u&&(Oh(s,t,"mid-source"),Oh(s,t,"mid-target"),Oh(s,t,"source"),Oh(s,t,"target")),i){var Se=t.pstyle("ghost").value==="yes";if(Se){var ce=t.pstyle("ghost-offset-x").pfValue,ge=t.pstyle("ghost-offset-y").pfValue;zi(s,s.x1+ce,s.y1+ge,s.x2+ce,s.y2+ge)}}var me=o.bodyBounds=o.bodyBounds||{};G8(me,s),gd(me,y),pd(me,1),i&&(c=s.x1,f=s.x2,h=s.y1,d=s.y2,zi(s,c-A,h-A,f+A,d+A));var Ee=o.overlayBounds=o.overlayBounds||{};G8(Ee,s),gd(Ee,y),pd(Ee,1);var je=o.labelBounds=o.labelBounds||{};je.all!=null?jee(je.all):je.all=Qr(),i&&n.includeLabels&&(n.includeMainLabels&&K1(s,t,null),u&&(n.includeSourceLabels&&K1(s,t,"source"),n.includeTargetLabels&&K1(s,t,"target")))}return s.x1=Si(s.x1),s.y1=Si(s.y1),s.x2=Si(s.x2),s.y2=Si(s.y2),s.w=Si(s.x2-s.x1),s.h=Si(s.y2-s.y1),s.w>0&&s.h>0&&k&&(gd(s,y),pd(s,1)),s},XM=function(t){var n=0,r=function(s){return(s?1:0)<<n++},i=0;return i+=r(t.incudeNodes),i+=r(t.includeEdges),i+=r(t.includeLabels),i+=r(t.includeMainLabels),i+=r(t.includeSourceLabels),i+=r(t.includeTargetLabels),i+=r(t.includeOverlays),i+=r(t.includeOutlines),i},KM=function(t){var n=function(o){return Math.round(o)};if(t.isEdge()){var r=t.source().position(),i=t.target().position();return j8([n(r.x),n(r.y),n(i.x),n(i.y)])}else{var a=t.position();return j8([n(a.x),n(a.y)])}},o9=function(t,n){var r=t._private,i,a=t.isEdge(),s=n==null?l9:XM(n),o=s===l9;if(r.bbCache==null?(i=sre(t,qf),r.bbCache=i,r.bbCachePosKey=KM(t)):i=r.bbCache,!o){var l=t.isNode();i=Qr(),(n.includeNodes&&l||n.includeEdges&&!l)&&(n.includeOverlays?wo(i,r.overlayBounds):wo(i,r.bodyBounds)),n.includeLabels&&(n.includeMainLabels&&(!a||n.includeSourceLabels&&n.includeTargetLabels)?wo(i,r.labelBounds.all):(n.includeMainLabels&&wo(i,r.labelBounds.mainRot),n.includeSourceLabels&&wo(i,r.labelBounds.sourceRot),n.includeTargetLabels&&wo(i,r.labelBounds.targetRot))),i.w=i.x2-i.x1,i.h=i.y2-i.y1}return i},qf={includeNodes:!0,includeEdges:!0,includeLabels:!0,includeMainLabels:!0,includeSourceLabels:!0,includeTargetLabels:!0,includeOverlays:!0,includeUnderlays:!0,includeOutlines:!0,useCache:!0},l9=XM(qf),u9=xr(qf);eo.boundingBox=function(e){var t,n=e===void 0||e.useCache===void 0||e.useCache===!0,r=Mu(function(c){var f=c._private;return f.bbCache==null||f.styleDirty||f.bbCachePosKey!==KM(c)},function(c){return c.id()});if(n&&this.length===1&&!r(this[0]))e===void 0?e=qf:e=u9(e),t=o9(this[0],e);else{t=Qr(),e=e||qf;var i=u9(e),a=this,s=a.cy(),o=s.styleEnabled();this.edges().forEach(r),this.nodes().forEach(r),o&&this.recalculateRenderedStyle(n),this.updateCompoundBounds(!n);for(var l=0;l<a.length;l++){var u=a[l];r(u)&&u.dirtyBoundingBoxCache(),wo(t,o9(u,i))}}return t.x1=Si(t.x1),t.y1=Si(t.y1),t.x2=Si(t.x2),t.y2=Si(t.y2),t.w=Si(t.x2-t.x1),t.h=Si(t.y2-t.y1),t};eo.dirtyBoundingBoxCache=function(){for(var e=0;e<this.length;e++){var t=this[e]._private;t.bbCache=null,t.bbCachePosKey=null,t.bodyBounds=null,t.overlayBounds=null,t.labelBounds.all=null,t.labelBounds.source=null,t.labelBounds.target=null,t.labelBounds.main=null,t.labelBounds.sourceRot=null,t.labelBounds.targetRot=null,t.labelBounds.mainRot=null,t.arrowBounds.source=null,t.arrowBounds.target=null,t.arrowBounds["mid-source"]=null,t.arrowBounds["mid-target"]=null}return this.emitAndNotify("bounds"),this};eo.boundingBoxAt=function(e){var t=this.nodes(),n=this.cy(),r=n.hasCompoundNodes(),i=n.collection();if(r&&(i=t.filter(function(u){return u.isParent()}),t=t.not(i)),Ot(e)){var a=e;e=function(){return a}}var s=function(c,f){return c._private.bbAtOldPos=e(c,f)},o=function(c){return c._private.bbAtOldPos};n.startBatch(),t.forEach(s).silentPositions(e),r&&(i.dirtyCompoundBoundsCache(),i.dirtyBoundingBoxCache(),i.updateCompoundBounds(!0));var l=$ee(this.boundingBox({useCache:!1}));return t.silentPositions(o),r&&(i.dirtyCompoundBoundsCache(),i.dirtyBoundingBoxCache(),i.updateCompoundBounds(!0)),n.endBatch(),l};fu.boundingbox=fu.bb=fu.boundingBox;fu.renderedBoundingbox=fu.renderedBoundingBox;var ore=eo,Oc,m0;Oc=m0={};var QM=function(t){t.uppercaseName=T8(t.name),t.autoName="auto"+t.uppercaseName,t.labelName="label"+t.uppercaseName,t.outerName="outer"+t.uppercaseName,t.uppercaseOuterName=T8(t.outerName),Oc[t.name]=function(){var r=this[0],i=r._private,a=i.cy,s=a._private.styleEnabled;if(r)if(s){if(r.isParent())return r.updateCompoundBounds(),i[t.autoName]||0;var o=r.pstyle(t.name);switch(o.strValue){case"label":return r.recalculateRenderedStyle(),i.rstyle[t.labelName]||0;default:return o.pfValue}}else return 1},Oc["outer"+t.uppercaseName]=function(){var r=this[0],i=r._private,a=i.cy,s=a._private.styleEnabled;if(r)if(s){var o=r[t.name](),l=r.pstyle("border-position").value,u;l==="center"?u=r.pstyle("border-width").pfValue:l==="outside"?u=2*r.pstyle("border-width").pfValue:u=0;var c=2*r.padding();return o+u+c}else return 1},Oc["rendered"+t.uppercaseName]=function(){var r=this[0];if(r){var i=r[t.name]();return i*this.cy().zoom()}},Oc["rendered"+t.uppercaseOuterName]=function(){var r=this[0];if(r){var i=r[t.outerName]();return i*this.cy().zoom()}}};QM({name:"width"});QM({name:"height"});m0.padding=function(){var e=this[0],t=e._private;return e.isParent()?(e.updateCompoundBounds(),t.autoPadding!==void 0?t.autoPadding:e.pstyle("padding").pfValue):e.pstyle("padding").pfValue};m0.paddedHeight=function(){var e=this[0];return e.height()+2*e.padding()};m0.paddedWidth=function(){var e=this[0];return e.width()+2*e.padding()};var lre=m0,ure=function(t,n){if(t.isEdge()&&t.takesUpSpace())return n(t)},cre=function(t,n){if(t.isEdge()&&t.takesUpSpace()){var r=t.cy();return Og(n(t),r.zoom(),r.pan())}},fre=function(t,n){if(t.isEdge()&&t.takesUpSpace()){var r=t.cy(),i=r.pan(),a=r.zoom();return n(t).map(function(s){return Og(s,a,i)})}},hre=function(t){return t.renderer().getControlPoints(t)},dre=function(t){return t.renderer().getSegmentPoints(t)},pre=function(t){return t.renderer().getSourceEndpoint(t)},gre=function(t){return t.renderer().getTargetEndpoint(t)},mre=function(t){return t.renderer().getEdgeMidpoint(t)},c9={controlPoints:{get:hre,mult:!0},segmentPoints:{get:dre,mult:!0},sourceEndpoint:{get:pre},targetEndpoint:{get:gre},midpoint:{get:mre}},vre=function(t){return"rendered"+t[0].toUpperCase()+t.substr(1)},yre=Object.keys(c9).reduce(function(e,t){var n=c9[t],r=vre(t);return e[t]=function(){return ure(this,n.get)},n.mult?e[r]=function(){return fre(this,n.get)}:e[r]=function(){return cre(this,n.get)},e},{}),xre=ot({},ire,ore,lre,yre);/*!
Event object based on jQuery events, MIT license

https://jquery.org/license/
https://tldrlegal.com/license/mit-license
https://github.com/jquery/jquery/blob/master/src/event.js
*/var ZM=function(t,n){this.recycle(t,n)};function bc(){return!1}function Rh(){return!0}ZM.prototype={instanceString:function(){return"event"},recycle:function(t,n){if(this.isImmediatePropagationStopped=this.isPropagationStopped=this.isDefaultPrevented=bc,t!=null&&t.preventDefault?(this.type=t.type,this.isDefaultPrevented=t.defaultPrevented?Rh:bc):t!=null&&t.type?n=t:this.type=t,n!=null&&(this.originalEvent=n.originalEvent,this.type=n.type!=null?n.type:this.type,this.cy=n.cy,this.target=n.target,this.position=n.position,this.renderedPosition=n.renderedPosition,this.namespace=n.namespace,this.layout=n.layout),this.cy!=null&&this.position!=null&&this.renderedPosition==null){var r=this.position,i=this.cy.zoom(),a=this.cy.pan();this.renderedPosition={x:r.x*i+a.x,y:r.y*i+a.y}}this.timeStamp=t&&t.timeStamp||Date.now()},preventDefault:function(){this.isDefaultPrevented=Rh;var t=this.originalEvent;t&&t.preventDefault&&t.preventDefault()},stopPropagation:function(){this.isPropagationStopped=Rh;var t=this.originalEvent;t&&t.stopPropagation&&t.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=Rh,this.stopPropagation()},isDefaultPrevented:bc,isPropagationStopped:bc,isImmediatePropagationStopped:bc};var JM=/^([^.]+)(\.(?:[^.]+))?$/,bre=".*",eA={qualifierCompare:function(t,n){return t===n},eventMatches:function(){return!0},addEventFields:function(){},callbackContext:function(t){return t},beforeEmit:function(){},afterEmit:function(){},bubble:function(){return!1},parent:function(){return null},context:null},f9=Object.keys(eA),wre={};function jg(){for(var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:wre,t=arguments.length>1?arguments[1]:void 0,n=0;n<f9.length;n++){var r=f9[n];this[r]=e[r]||eA[r]}this.context=t||this.context,this.listeners=[],this.emitting=0}var Us=jg.prototype,tA=function(t,n,r,i,a,s,o){Mn(i)&&(a=i,i=null),o&&(s==null?s=o:s=ot({},s,o));for(var l=en(r)?r:r.split(/\s+/),u=0;u<l.length;u++){var c=l[u];if(!$s(c)){var f=c.match(JM);if(f){var h=f[1],d=f[2]?f[2]:null,p=n(t,c,h,d,i,a,s);if(p===!1)break}}}},h9=function(t,n){return t.addEventFields(t.context,n),new ZM(n.type,n)},kre=function(t,n,r){if(DJ(r)){n(t,r);return}else if(Ot(r)){n(t,h9(t,r));return}for(var i=en(r)?r:r.split(/\s+/),a=0;a<i.length;a++){var s=i[a];if(!$s(s)){var o=s.match(JM);if(o){var l=o[1],u=o[2]?o[2]:null,c=h9(t,{type:l,namespace:u,target:t.context});n(t,c)}}}};Us.on=Us.addListener=function(e,t,n,r,i){return tA(this,function(a,s,o,l,u,c,f){Mn(c)&&a.listeners.push({event:s,callback:c,type:o,namespace:l,qualifier:u,conf:f})},e,t,n,r,i),this};Us.one=function(e,t,n,r){return this.on(e,t,n,r,{one:!0})};Us.removeListener=Us.off=function(e,t,n,r){var i=this;this.emitting!==0&&(this.listeners=cee(this.listeners));for(var a=this.listeners,s=function(u){var c=a[u];tA(i,function(f,h,d,p,v,x){if((c.type===d||e==="*")&&(!p&&c.namespace!==".*"||c.namespace===p)&&(!v||f.qualifierCompare(c.qualifier,v))&&(!x||c.callback===x))return a.splice(u,1),!1},e,t,n,r)},o=a.length-1;o>=0;o--)s(o);return this};Us.removeAllListeners=function(){return this.removeListener("*")};Us.emit=Us.trigger=function(e,t,n){var r=this.listeners,i=r.length;return this.emitting++,en(t)||(t=[t]),kre(this,function(a,s){n!=null&&(r=[{event:s.event,type:s.type,namespace:s.namespace,callback:n}],i=r.length);for(var o=function(){var c=r[l];if(c.type===s.type&&(!c.namespace||c.namespace===s.namespace||c.namespace===bre)&&a.eventMatches(a.context,c,s)){var f=[s];t!=null&&hee(f,t),a.beforeEmit(a.context,c,s),c.conf&&c.conf.one&&(a.listeners=a.listeners.filter(function(p){return p!==c}));var h=a.callbackContext(a.context,c,s),d=c.callback.apply(h,f);a.afterEmit(a.context,c,s),d===!1&&(s.stopPropagation(),s.preventDefault())}},l=0;l<i;l++)o();a.bubble(a.context)&&!s.isPropagationStopped()&&a.parent(a.context).emit(s,t)},e),this.emitting--,this};var Sre={qualifierCompare:function(t,n){return t==null||n==null?t==null&&n==null:t.sameText(n)},eventMatches:function(t,n,r){var i=n.qualifier;return i!=null?t!==r.target&&c0(r.target)&&i.matches(r.target):!0},addEventFields:function(t,n){n.cy=t.cy(),n.target=t},callbackContext:function(t,n,r){return n.qualifier!=null?r.target:t},beforeEmit:function(t,n){n.conf&&n.conf.once&&n.conf.onceCollection.removeListener(n.event,n.qualifier,n.callback)},bubble:function(){return!0},parent:function(t){return t.isChild()?t.parent():t.cy()}},Nh=function(t){return tt(t)?new Hs(t):t},nA={createEmitter:function(){for(var t=0;t<this.length;t++){var n=this[t],r=n._private;r.emitter||(r.emitter=new jg(Sre,n))}return this},emitter:function(){return this._private.emitter},on:function(t,n,r){for(var i=Nh(n),a=0;a<this.length;a++){var s=this[a];s.emitter().on(t,i,r)}return this},removeListener:function(t,n,r){for(var i=Nh(n),a=0;a<this.length;a++){var s=this[a];s.emitter().removeListener(t,i,r)}return this},removeAllListeners:function(){for(var t=0;t<this.length;t++){var n=this[t];n.emitter().removeAllListeners()}return this},one:function(t,n,r){for(var i=Nh(n),a=0;a<this.length;a++){var s=this[a];s.emitter().one(t,i,r)}return this},once:function(t,n,r){for(var i=Nh(n),a=0;a<this.length;a++){var s=this[a];s.emitter().on(t,i,r,{once:!0,onceCollection:this})}},emit:function(t,n){for(var r=0;r<this.length;r++){var i=this[r];i.emitter().emit(t,n)}return this},emitAndNotify:function(t,n){if(this.length!==0)return this.cy().notify(t,this),this.emit(t,n),this}};Ht.eventAliasesOn(nA);var rA={nodes:function(t){return this.filter(function(n){return n.isNode()}).filter(t)},edges:function(t){return this.filter(function(n){return n.isEdge()}).filter(t)},byGroup:function(){for(var t=this.spawn(),n=this.spawn(),r=0;r<this.length;r++){var i=this[r];i.isNode()?t.push(i):n.push(i)}return{nodes:t,edges:n}},filter:function(t,n){if(t===void 0)return this;if(tt(t)||ui(t))return new Hs(t).filter(this);if(Mn(t)){for(var r=this.spawn(),i=this,a=0;a<i.length;a++){var s=i[a],o=n?t.apply(n,[s,a,i]):t(s,a,i);o&&r.push(s)}return r}return this.spawn()},not:function(t){if(t){tt(t)&&(t=this.filter(t));for(var n=this.spawn(),r=0;r<this.length;r++){var i=this[r],a=t.has(i);a||n.push(i)}return n}else return this},absoluteComplement:function(){var t=this.cy();return t.mutableElements().not(this)},intersect:function(t){if(tt(t)){var n=t;return this.filter(n)}for(var r=this.spawn(),i=this,a=t,s=this.length<t.length,o=s?i:a,l=s?a:i,u=0;u<o.length;u++){var c=o[u];l.has(c)&&r.push(c)}return r},xor:function(t){var n=this._private.cy;tt(t)&&(t=n.$(t));var r=this.spawn(),i=this,a=t,s=function(l,u){for(var c=0;c<l.length;c++){var f=l[c],h=f._private.data.id,d=u.hasElementWithId(h);d||r.push(f)}};return s(i,a),s(a,i),r},diff:function(t){var n=this._private.cy;tt(t)&&(t=n.$(t));var r=this.spawn(),i=this.spawn(),a=this.spawn(),s=this,o=t,l=function(c,f,h){for(var d=0;d<c.length;d++){var p=c[d],v=p._private.data.id,x=f.hasElementWithId(v);x?a.merge(p):h.push(p)}};return l(s,o,r),l(o,s,i),{left:r,right:i,both:a}},add:function(t){var n=this._private.cy;if(!t)return this;if(tt(t)){var r=t;t=n.mutableElements().filter(r)}for(var i=this.spawnSelf(),a=0;a<t.length;a++){var s=t[a],o=!this.has(s);o&&i.push(s)}return i},merge:function(t){var n=this._private,r=n.cy;if(!t)return this;if(t&&tt(t)){var i=t;t=r.mutableElements().filter(i)}for(var a=n.map,s=0;s<t.length;s++){var o=t[s],l=o._private.data.id,u=!a.has(l);if(u){var c=this.length++;this[c]=o,a.set(l,{ele:o,index:c})}}return this},unmergeAt:function(t){var n=this[t],r=n.id(),i=this._private,a=i.map;this[t]=void 0,a.delete(r);var s=t===this.length-1;if(this.length>1&&!s){var o=this.length-1,l=this[o],u=l._private.data.id;this[o]=void 0,this[t]=l,a.set(u,{ele:l,index:t})}return this.length--,this},unmergeOne:function(t){t=t[0];var n=this._private,r=t._private.data.id,i=n.map,a=i.get(r);if(!a)return this;var s=a.index;return this.unmergeAt(s),this},unmerge:function(t){var n=this._private.cy;if(!t)return this;if(t&&tt(t)){var r=t;t=n.mutableElements().filter(r)}for(var i=0;i<t.length;i++)this.unmergeOne(t[i]);return this},unmergeBy:function(t){for(var n=this.length-1;n>=0;n--){var r=this[n];t(r)&&this.unmergeAt(n)}return this},map:function(t,n){for(var r=[],i=this,a=0;a<i.length;a++){var s=i[a],o=n?t.apply(n,[s,a,i]):t(s,a,i);r.push(o)}return r},reduce:function(t,n){for(var r=n,i=this,a=0;a<i.length;a++)r=t(r,i[a],a,i);return r},max:function(t,n){for(var r=-1/0,i,a=this,s=0;s<a.length;s++){var o=a[s],l=n?t.apply(n,[o,s,a]):t(o,s,a);l>r&&(r=l,i=o)}return{value:r,ele:i}},min:function(t,n){for(var r=1/0,i,a=this,s=0;s<a.length;s++){var o=a[s],l=n?t.apply(n,[o,s,a]):t(o,s,a);l<r&&(r=l,i=o)}return{value:r,ele:i}}},Nt=rA;Nt.u=Nt["|"]=Nt["+"]=Nt.union=Nt.or=Nt.add;Nt["\\"]=Nt["!"]=Nt["-"]=Nt.difference=Nt.relativeComplement=Nt.subtract=Nt.not;Nt.n=Nt["&"]=Nt["."]=Nt.and=Nt.intersection=Nt.intersect;Nt["^"]=Nt["(+)"]=Nt["(-)"]=Nt.symmetricDifference=Nt.symdiff=Nt.xor;Nt.fnFilter=Nt.filterFn=Nt.stdFilter=Nt.filter;Nt.complement=Nt.abscomp=Nt.absoluteComplement;var _re={isNode:function(){return this.group()==="nodes"},isEdge:function(){return this.group()==="edges"},isLoop:function(){return this.isEdge()&&this.source()[0]===this.target()[0]},isSimple:function(){return this.isEdge()&&this.source()[0]!==this.target()[0]},group:function(){var t=this[0];if(t)return t._private.group}},iA=function(t,n){var r=t.cy(),i=r.hasCompoundNodes();function a(c){var f=c.pstyle("z-compound-depth");return f.value==="auto"?i?c.zDepth():0:f.value==="bottom"?-1:f.value==="top"?wb:0}var s=a(t)-a(n);if(s!==0)return s;function o(c){var f=c.pstyle("z-index-compare");return f.value==="auto"&&c.isNode()?1:0}var l=o(t)-o(n);if(l!==0)return l;var u=t.pstyle("z-index").value-n.pstyle("z-index").value;return u!==0?u:t.poolIndex()-n.poolIndex()},Tp={forEach:function(t,n){if(Mn(t))for(var r=this.length,i=0;i<r;i++){var a=this[i],s=n?t.apply(n,[a,i,this]):t(a,i,this);if(s===!1)break}return this},toArray:function(){for(var t=[],n=0;n<this.length;n++)t.push(this[n]);return t},slice:function(t,n){var r=[],i=this.length;n==null&&(n=i),t==null&&(t=0),t<0&&(t=i+t),n<0&&(n=i+n);for(var a=t;a>=0&&a<n&&a<i;a++)r.push(this[a]);return this.spawn(r)},size:function(){return this.length},eq:function(t){return this[t]||this.spawn()},first:function(){return this[0]||this.spawn()},last:function(){return this[this.length-1]||this.spawn()},empty:function(){return this.length===0},nonempty:function(){return!this.empty()},sort:function(t){if(!Mn(t))return this;var n=this.toArray().sort(t);return this.spawn(n)},sortByZIndex:function(){return this.sort(iA)},zDepth:function(){var t=this[0];if(t){var n=t._private,r=n.group;if(r==="nodes"){var i=n.data.parent?t.parents().size():0;return t.isParent()?i:wb-1}else{var a=n.source,s=n.target,o=a.zDepth(),l=s.zDepth();return Math.max(o,l,0)}}}};Tp.each=Tp.forEach;var Cre=function(){var t="undefined",n=(typeof Symbol>"u"?"undefined":ir(Symbol))!=t&&ir(Symbol.iterator)!=t;n&&(Tp[Symbol.iterator]=function(){var r=this,i={value:void 0,done:!1},a=0,s=this.length;return iM({next:function(){return a<s?i.value=r[a++]:(i.value=void 0,i.done=!0),i}},Symbol.iterator,function(){return this})})};Cre();var Tre=xr({nodeDimensionsIncludeLabels:!1}),vd={layoutDimensions:function(t){t=Tre(t);var n;if(!this.takesUpSpace())n={w:0,h:0};else if(t.nodeDimensionsIncludeLabels){var r=this.boundingBox();n={w:r.w,h:r.h}}else n={w:this.outerWidth(),h:this.outerHeight()};return(n.w===0||n.h===0)&&(n.w=n.h=1),n},layoutPositions:function(t,n,r){var i=this.nodes().filter(function(C){return!C.isParent()}),a=this.cy(),s=n.eles,o=function(T){return T.id()},l=Mu(r,o);t.emit({type:"layoutstart",layout:t}),t.animations=[];var u=function(T,E,A){var R={x:E.x1+E.w/2,y:E.y1+E.h/2},D={x:(A.x-R.x)*T,y:(A.y-R.y)*T};return{x:R.x+D.x,y:R.y+D.y}},c=n.spacingFactor&&n.spacingFactor!==1,f=function(){if(!c)return null;for(var T=Qr(),E=0;E<i.length;E++){var A=i[E],R=l(A,E);Hee(T,R.x,R.y)}return T},h=f(),d=Mu(function(C,T){var E=l(C,T);if(c){var A=Math.abs(n.spacingFactor);E=u(A,h,E)}return n.transform!=null&&(E=n.transform(C,E)),E},o);if(n.animate){for(var p=0;p<i.length;p++){var v=i[p],x=d(v,p),y=n.animateFilter==null||n.animateFilter(v,p);if(y){var w=v.animation({position:x,duration:n.animationDuration,easing:n.animationEasing});t.animations.push(w)}else v.position(x)}if(n.fit){var k=a.animation({fit:{boundingBox:s.boundingBoxAt(d),padding:n.padding},duration:n.animationDuration,easing:n.animationEasing});t.animations.push(k)}else if(n.zoom!==void 0&&n.pan!==void 0){var _=a.animation({zoom:n.zoom,pan:n.pan,duration:n.animationDuration,easing:n.animationEasing});t.animations.push(_)}t.animations.forEach(function(C){return C.play()}),t.one("layoutready",n.ready),t.emit({type:"layoutready",layout:t}),Hu.all(t.animations.map(function(C){return C.promise()})).then(function(){t.one("layoutstop",n.stop),t.emit({type:"layoutstop",layout:t})})}else i.positions(d),n.fit&&a.fit(n.eles,n.padding),n.zoom!=null&&a.zoom(n.zoom),n.pan&&a.pan(n.pan),t.one("layoutready",n.ready),t.emit({type:"layoutready",layout:t}),t.one("layoutstop",n.stop),t.emit({type:"layoutstop",layout:t});return this},layout:function(t){var n=this.cy();return n.makeLayout(ot({},t,{eles:this}))}};vd.createLayout=vd.makeLayout=vd.layout;function aA(e,t,n){var r=n._private,i=r.styleCache=r.styleCache||[],a;return(a=i[e])!=null||(a=i[e]=t(n)),a}function qg(e,t){return e=Yo(e),function(r){return aA(e,t,r)}}function Hg(e,t){e=Yo(e);var n=function(i){return t.call(i)};return function(){var i=this[0];if(i)return aA(e,n,i)}}var mr={recalculateRenderedStyle:function(t){var n=this.cy(),r=n.renderer(),i=n.styleEnabled();return r&&i&&r.recalculateRenderedStyle(this,t),this},dirtyStyleCache:function(){var t=this.cy(),n=function(a){return a._private.styleCache=null};if(t.hasCompoundNodes()){var r;r=this.spawnSelf().merge(this.descendants()).merge(this.parents()),r.merge(r.connectedEdges()),r.forEach(n)}else this.forEach(function(i){n(i),i.connectedEdges().forEach(n)});return this},updateStyle:function(t){var n=this._private.cy;if(!n.styleEnabled())return this;if(n.batching()){var r=n._private.batchStyleEles;return r.merge(this),this}var i=n.hasCompoundNodes(),a=this;t=!!(t||t===void 0),i&&(a=this.spawnSelf().merge(this.descendants()).merge(this.parents()));var s=a;return t?s.emitAndNotify("style"):s.emit("style"),a.forEach(function(o){return o._private.styleDirty=!0}),this},cleanStyle:function(){var t=this.cy();if(t.styleEnabled())for(var n=0;n<this.length;n++){var r=this[n];r._private.styleDirty&&(r._private.styleDirty=!1,t.style().apply(r))}},parsedStyle:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=this[0],i=r.cy();if(i.styleEnabled()&&r){r._private.styleDirty&&(r._private.styleDirty=!1,i.style().apply(r));var a=r._private.style[t];return a??(n?i.style().getDefaultProperty(t):null)}},numericStyle:function(t){var n=this[0];if(n.cy().styleEnabled()&&n){var r=n.pstyle(t);return r.pfValue!==void 0?r.pfValue:r.value}},numericStyleUnits:function(t){var n=this[0];if(n.cy().styleEnabled()&&n)return n.pstyle(t).units},renderedStyle:function(t){var n=this.cy();if(!n.styleEnabled())return this;var r=this[0];if(r)return n.style().getRenderedStyle(r,t)},style:function(t,n){var r=this.cy();if(!r.styleEnabled())return this;var i=!1,a=r.style();if(Ot(t)){var s=t;a.applyBypass(this,s,i),this.emitAndNotify("style")}else if(tt(t))if(n===void 0){var o=this[0];return o?a.getStylePropertyValue(o,t):void 0}else a.applyBypass(this,t,n,i),this.emitAndNotify("style");else if(t===void 0){var l=this[0];return l?a.getRawStyle(l):void 0}return this},removeStyle:function(t){var n=this.cy();if(!n.styleEnabled())return this;var r=!1,i=n.style(),a=this;if(t===void 0)for(var s=0;s<a.length;s++){var o=a[s];i.removeAllBypasses(o,r)}else{t=t.split(/\s+/);for(var l=0;l<a.length;l++){var u=a[l];i.removeBypasses(u,t,r)}}return this.emitAndNotify("style"),this},show:function(){return this.css("display","element"),this},hide:function(){return this.css("display","none"),this},effectiveOpacity:function(){var t=this.cy();if(!t.styleEnabled())return 1;var n=t.hasCompoundNodes(),r=this[0];if(r){var i=r._private,a=r.pstyle("opacity").value;if(!n)return a;var s=i.data.parent?r.parents():null;if(s)for(var o=0;o<s.length;o++){var l=s[o],u=l.pstyle("opacity").value;a=u*a}return a}},transparent:function(){var t=this.cy();if(!t.styleEnabled())return!1;var n=this[0],r=n.cy().hasCompoundNodes();if(n)return r?n.effectiveOpacity()===0:n.pstyle("opacity").value===0},backgrounding:function(){var t=this.cy();if(!t.styleEnabled())return!1;var n=this[0];return!!n._private.backgrounding}};function Q1(e,t){var n=e._private,r=n.data.parent?e.parents():null;if(r)for(var i=0;i<r.length;i++){var a=r[i];if(!t(a))return!1}return!0}function Lb(e){var t=e.ok,n=e.edgeOkViaNode||e.ok,r=e.parentOk||e.ok;return function(){var i=this.cy();if(!i.styleEnabled())return!0;var a=this[0],s=i.hasCompoundNodes();if(a){var o=a._private;if(!t(a))return!1;if(a.isNode())return!s||Q1(a,r);var l=o.source,u=o.target;return n(l)&&(!s||Q1(l,n))&&(l===u||n(u)&&(!s||Q1(u,n)))}}}var Vu=qg("eleTakesUpSpace",function(e){return e.pstyle("display").value==="element"&&e.width()!==0&&(e.isNode()?e.height()!==0:!0)});mr.takesUpSpace=Hg("takesUpSpace",Lb({ok:Vu}));var Ere=qg("eleInteractive",function(e){return e.pstyle("events").value==="yes"&&e.pstyle("visibility").value==="visible"&&Vu(e)}),Pre=qg("parentInteractive",function(e){return e.pstyle("visibility").value==="visible"&&Vu(e)});mr.interactive=Hg("interactive",Lb({ok:Ere,parentOk:Pre,edgeOkViaNode:Vu}));mr.noninteractive=function(){var e=this[0];if(e)return!e.interactive()};var Mre=qg("eleVisible",function(e){return e.pstyle("visibility").value==="visible"&&e.pstyle("opacity").pfValue!==0&&Vu(e)}),Are=Vu;mr.visible=Hg("visible",Lb({ok:Mre,edgeOkViaNode:Are}));mr.hidden=function(){var e=this[0];if(e)return!e.visible()};mr.isBundledBezier=Hg("isBundledBezier",function(){return this.cy().styleEnabled()?!this.removed()&&this.pstyle("curve-style").value==="bezier"&&this.takesUpSpace():!1});mr.bypass=mr.css=mr.style;mr.renderedCss=mr.renderedStyle;mr.removeBypass=mr.removeCss=mr.removeStyle;mr.pstyle=mr.parsedStyle;var Os={};function d9(e){return function(){var t=arguments,n=[];if(t.length===2){var r=t[0],i=t[1];this.on(e.event,r,i)}else if(t.length===1&&Mn(t[0])){var a=t[0];this.on(e.event,a)}else if(t.length===0||t.length===1&&en(t[0])){for(var s=t.length===1?t[0]:null,o=0;o<this.length;o++){var l=this[o],u=!e.ableField||l._private[e.ableField],c=l._private[e.field]!=e.value;if(e.overrideAble){var f=e.overrideAble(l);if(f!==void 0&&(u=f,!f))return this}u&&(l._private[e.field]=e.value,c&&n.push(l))}var h=this.spawn(n);h.updateStyle(),h.emit(e.event),s&&h.emit(s)}return this}}function Uu(e){Os[e.field]=function(){var t=this[0];if(t){if(e.overrideField){var n=e.overrideField(t);if(n!==void 0)return n}return t._private[e.field]}},Os[e.on]=d9({event:e.on,field:e.field,ableField:e.ableField,overrideAble:e.overrideAble,value:!0}),Os[e.off]=d9({event:e.off,field:e.field,ableField:e.ableField,overrideAble:e.overrideAble,value:!1})}Uu({field:"locked",overrideField:function(t){return t.cy().autolock()?!0:void 0},on:"lock",off:"unlock"});Uu({field:"grabbable",overrideField:function(t){return t.cy().autoungrabify()||t.pannable()?!1:void 0},on:"grabify",off:"ungrabify"});Uu({field:"selected",ableField:"selectable",overrideAble:function(t){return t.cy().autounselectify()?!1:void 0},on:"select",off:"unselect"});Uu({field:"selectable",overrideField:function(t){return t.cy().autounselectify()?!1:void 0},on:"selectify",off:"unselectify"});Os.deselect=Os.unselect;Os.grabbed=function(){var e=this[0];if(e)return e._private.grabbed};Uu({field:"active",on:"activate",off:"unactivate"});Uu({field:"pannable",on:"panify",off:"unpanify"});Os.inactive=function(){var e=this[0];if(e)return!e._private.active};var Tr={},p9=function(t){return function(r){for(var i=this,a=[],s=0;s<i.length;s++){var o=i[s];if(o.isNode()){for(var l=!1,u=o.connectedEdges(),c=0;c<u.length;c++){var f=u[c],h=f.source(),d=f.target();if(t.noIncomingEdges&&d===o&&h!==o||t.noOutgoingEdges&&h===o&&d!==o){l=!0;break}}l||a.push(o)}}return this.spawn(a,!0).filter(r)}},g9=function(t){return function(n){for(var r=this,i=[],a=0;a<r.length;a++){var s=r[a];if(s.isNode())for(var o=s.connectedEdges(),l=0;l<o.length;l++){var u=o[l],c=u.source(),f=u.target();t.outgoing&&c===s?(i.push(u),i.push(f)):t.incoming&&f===s&&(i.push(u),i.push(c))}}return this.spawn(i,!0).filter(n)}},m9=function(t){return function(n){for(var r=this,i=[],a={};;){var s=t.outgoing?r.outgoers():r.incomers();if(s.length===0)break;for(var o=!1,l=0;l<s.length;l++){var u=s[l],c=u.id();a[c]||(a[c]=!0,i.push(u),o=!0)}if(!o)break;r=s}return this.spawn(i,!0).filter(n)}};Tr.clearTraversalCache=function(){for(var e=0;e<this.length;e++)this[e]._private.traversalCache=null};ot(Tr,{roots:p9({noIncomingEdges:!0}),leaves:p9({noOutgoingEdges:!0}),outgoers:Ci(g9({outgoing:!0}),"outgoers"),successors:m9({outgoing:!0}),incomers:Ci(g9({incoming:!0}),"incomers"),predecessors:m9({})});ot(Tr,{neighborhood:Ci(function(e){for(var t=[],n=this.nodes(),r=0;r<n.length;r++)for(var i=n[r],a=i.connectedEdges(),s=0;s<a.length;s++){var o=a[s],l=o.source(),u=o.target(),c=i===l?u:l;c.length>0&&t.push(c[0]),t.push(o[0])}return this.spawn(t,!0).filter(e)},"neighborhood"),closedNeighborhood:function(t){return this.neighborhood().add(this).filter(t)},openNeighborhood:function(t){return this.neighborhood(t)}});Tr.neighbourhood=Tr.neighborhood;Tr.closedNeighbourhood=Tr.closedNeighborhood;Tr.openNeighbourhood=Tr.openNeighborhood;ot(Tr,{source:Ci(function(t){var n=this[0],r;return n&&(r=n._private.source||n.cy().collection()),r&&t?r.filter(t):r},"source"),target:Ci(function(t){var n=this[0],r;return n&&(r=n._private.target||n.cy().collection()),r&&t?r.filter(t):r},"target"),sources:v9({attr:"source"}),targets:v9({attr:"target"})});function v9(e){return function(n){for(var r=[],i=0;i<this.length;i++){var a=this[i],s=a._private[e.attr];s&&r.push(s)}return this.spawn(r,!0).filter(n)}}ot(Tr,{edgesWith:Ci(y9(),"edgesWith"),edgesTo:Ci(y9({thisIsSrc:!0}),"edgesTo")});function y9(e){return function(n){var r=[],i=this._private.cy,a=e||{};tt(n)&&(n=i.$(n));for(var s=0;s<n.length;s++)for(var o=n[s]._private.edges,l=0;l<o.length;l++){var u=o[l],c=u._private.data,f=this.hasElementWithId(c.source)&&n.hasElementWithId(c.target),h=n.hasElementWithId(c.source)&&this.hasElementWithId(c.target),d=f||h;d&&((a.thisIsSrc||a.thisIsTgt)&&(a.thisIsSrc&&!f||a.thisIsTgt&&!h)||r.push(u))}return this.spawn(r,!0)}}ot(Tr,{connectedEdges:Ci(function(e){for(var t=[],n=this,r=0;r<n.length;r++){var i=n[r];if(i.isNode())for(var a=i._private.edges,s=0;s<a.length;s++){var o=a[s];t.push(o)}}return this.spawn(t,!0).filter(e)},"connectedEdges"),connectedNodes:Ci(function(e){for(var t=[],n=this,r=0;r<n.length;r++){var i=n[r];i.isEdge()&&(t.push(i.source()[0]),t.push(i.target()[0]))}return this.spawn(t,!0).filter(e)},"connectedNodes"),parallelEdges:Ci(x9(),"parallelEdges"),codirectedEdges:Ci(x9({codirected:!0}),"codirectedEdges")});function x9(e){var t={codirected:!1};return e=ot({},t,e),function(r){for(var i=[],a=this.edges(),s=e,o=0;o<a.length;o++)for(var l=a[o],u=l._private,c=u.source,f=c._private.data.id,h=u.data.target,d=c._private.edges,p=0;p<d.length;p++){var v=d[p],x=v._private.data,y=x.target,w=x.source,k=y===h&&w===f,_=f===y&&h===w;(s.codirected&&k||!s.codirected&&(k||_))&&i.push(v)}return this.spawn(i,!0).filter(r)}}ot(Tr,{components:function(t){var n=this,r=n.cy(),i=r.collection(),a=t==null?n.nodes():t.nodes(),s=[];t!=null&&a.empty()&&(a=t.sources());var o=function(c,f){i.merge(c),a.unmerge(c),f.merge(c)};if(a.empty())return n.spawn();var l=function(){var c=r.collection();s.push(c);var f=a[0];o(f,c),n.bfs({directed:!1,roots:f,visit:function(d){return o(d,c)}}),c.forEach(function(h){h.connectedEdges().forEach(function(d){n.has(d)&&c.has(d.source())&&c.has(d.target())&&c.merge(d)})})};do l();while(a.length>0);return s},component:function(){var t=this[0];return t.cy().mutableElements().components(t)[0]}});Tr.componentsOf=Tr.components;var vr=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(t===void 0){Tn("A collection must have a reference to the core");return}var a=new Fa,s=!1;if(!n)n=[];else if(n.length>0&&Ot(n[0])&&!c0(n[0])){s=!0;for(var o=[],l=new qu,u=0,c=n.length;u<c;u++){var f=n[u];f.data==null&&(f.data={});var h=f.data;if(h.id==null)h.id=wM();else if(t.hasElementWithId(h.id)||l.has(h.id))continue;var d=new Lg(t,f,!1);o.push(d),l.add(h.id)}n=o}this.length=0;for(var p=0,v=n.length;p<v;p++){var x=n[p][0];if(x!=null){var y=x._private.data.id;(!r||!a.has(y))&&(r&&a.set(y,{index:this.length,ele:x}),this[this.length]=x,this.length++)}}this._private={eles:this,cy:t,get map(){return this.lazyMap==null&&this.rebuildMap(),this.lazyMap},set map(w){this.lazyMap=w},rebuildMap:function(){for(var k=this.lazyMap=new Fa,_=this.eles,C=0;C<_.length;C++){var T=_[C];k.set(T.id(),{index:C,ele:T})}}},r&&(this._private.map=a),s&&!i&&this.restore()},ln=Lg.prototype=vr.prototype=Object.create(Array.prototype);ln.instanceString=function(){return"collection"};ln.spawn=function(e,t){return new vr(this.cy(),e,t)};ln.spawnSelf=function(){return this.spawn(this)};ln.cy=function(){return this._private.cy};ln.renderer=function(){return this._private.cy.renderer()};ln.element=function(){return this[0]};ln.collection=function(){return oM(this)?this:new vr(this._private.cy,[this])};ln.unique=function(){return new vr(this._private.cy,this,!0)};ln.hasElementWithId=function(e){return e=""+e,this._private.map.has(e)};ln.getElementById=function(e){e=""+e;var t=this._private.cy,n=this._private.map.get(e);return n?n.ele:new vr(t)};ln.$id=ln.getElementById;ln.poolIndex=function(){var e=this._private.cy,t=e._private.elements,n=this[0]._private.data.id;return t._private.map.get(n).index};ln.indexOf=function(e){var t=e[0]._private.data.id;return this._private.map.get(t).index};ln.indexOfId=function(e){return e=""+e,this._private.map.get(e).index};ln.json=function(e){var t=this.element(),n=this.cy();if(t==null&&e)return this;if(t!=null){var r=t._private;if(Ot(e)){if(n.startBatch(),e.data){t.data(e.data);var i=r.data;if(t.isEdge()){var a=!1,s={},o=e.data.source,l=e.data.target;o!=null&&o!=i.source&&(s.source=""+o,a=!0),l!=null&&l!=i.target&&(s.target=""+l,a=!0),a&&(t=t.move(s))}else{var u="parent"in e.data,c=e.data.parent;u&&(c!=null||i.parent!=null)&&c!=i.parent&&(c===void 0&&(c=null),c!=null&&(c=""+c),t=t.move({parent:c}))}}e.position&&t.position(e.position);var f=function(v,x,y){var w=e[v];w!=null&&w!==r[v]&&(w?t[x]():t[y]())};return f("removed","remove","restore"),f("selected","select","unselect"),f("selectable","selectify","unselectify"),f("locked","lock","unlock"),f("grabbable","grabify","ungrabify"),f("pannable","panify","unpanify"),e.classes!=null&&t.classes(e.classes),n.endBatch(),this}else if(e===void 0){var h={data:ca(r.data),position:ca(r.position),group:r.group,removed:r.removed,selected:r.selected,selectable:r.selectable,locked:r.locked,grabbable:r.grabbable,pannable:r.pannable,classes:null};h.classes="";var d=0;return r.classes.forEach(function(p){return h.classes+=d++===0?p:" "+p}),h}}};ln.jsons=function(){for(var e=[],t=0;t<this.length;t++){var n=this[t],r=n.json();e.push(r)}return e};ln.clone=function(){for(var e=this.cy(),t=[],n=0;n<this.length;n++){var r=this[n],i=r.json(),a=new Lg(e,i,!1);t.push(a)}return new vr(e,t)};ln.copy=ln.clone;ln.restore=function(){for(var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n=this,r=n.cy(),i=r._private,a=[],s=[],o,l=0,u=n.length;l<u;l++){var c=n[l];t&&!c.removed()||(c.isNode()?a.push(c):s.push(c))}o=a.concat(s);var f,h=function(){o.splice(f,1),f--};for(f=0;f<o.length;f++){var d=o[f],p=d._private,v=p.data;if(d.clearTraversalCache(),!(!t&&!p.removed)){if(v.id===void 0)v.id=wM();else if(ze(v.id))v.id=""+v.id;else if($s(v.id)||!tt(v.id)){Tn("Can not create element with invalid string ID `"+v.id+"`"),h();continue}else if(r.hasElementWithId(v.id)){Tn("Can not create second element with ID `"+v.id+"`"),h();continue}}var x=v.id;if(d.isNode()){var y=p.position;y.x==null&&(y.x=0),y.y==null&&(y.y=0)}if(d.isEdge()){for(var w=d,k=["source","target"],_=k.length,C=!1,T=0;T<_;T++){var E=k[T],A=v[E];ze(A)&&(A=v[E]=""+v[E]),A==null||A===""?(Tn("Can not create edge `"+x+"` with unspecified "+E),C=!0):r.hasElementWithId(A)||(Tn("Can not create edge `"+x+"` with nonexistant "+E+" `"+A+"`"),C=!0)}if(C){h();continue}var R=r.getElementById(v.source),D=r.getElementById(v.target);R.same(D)?R._private.edges.push(w):(R._private.edges.push(w),D._private.edges.push(w)),w._private.source=R,w._private.target=D}p.map=new Fa,p.map.set(x,{ele:d,index:0}),p.removed=!1,t&&r.addToPool(d)}for(var N=0;N<a.length;N++){var z=a[N],j=z._private.data;ze(j.parent)&&(j.parent=""+j.parent);var V=j.parent,Y=V!=null;if(Y||z._private.parent){var Z=z._private.parent?r.collection().merge(z._private.parent):r.getElementById(V);if(Z.empty())j.parent=void 0;else if(Z[0].removed())Vt("Node added with missing parent, reference to parent removed"),j.parent=void 0,z._private.parent=null;else{for(var X=!1,G=Z;!G.empty();){if(z.same(G)){X=!0,j.parent=void 0;break}G=G.parent()}X||(Z[0]._private.children.push(z),z._private.parent=Z[0],i.hasCompoundNodes=!0)}}}if(o.length>0){for(var ee=o.length===n.length?n:new vr(r,o),B=0;B<ee.length;B++){var K=ee[B];K.isNode()||(K.parallelEdges().clearTraversalCache(),K.source().clearTraversalCache(),K.target().clearTraversalCache())}var J;i.hasCompoundNodes?J=r.collection().merge(ee).merge(ee.connectedNodes()).merge(ee.parent()):J=ee,J.dirtyCompoundBoundsCache().dirtyBoundingBoxCache().updateStyle(e),e?ee.emitAndNotify("add"):t&&ee.emit("add")}return n};ln.removed=function(){var e=this[0];return e&&e._private.removed};ln.inside=function(){var e=this[0];return e&&!e._private.removed};ln.remove=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n=this,r=[],i={},a=n._private.cy;function s(V){for(var Y=V._private.edges,Z=0;Z<Y.length;Z++)l(Y[Z])}function o(V){for(var Y=V._private.children,Z=0;Z<Y.length;Z++)l(Y[Z])}function l(V){var Y=i[V.id()];t&&V.removed()||Y||(i[V.id()]=!0,V.isNode()?(r.push(V),s(V),o(V)):r.unshift(V))}for(var u=0,c=n.length;u<c;u++){var f=n[u];l(f)}function h(V,Y){var Z=V._private.edges;js(Z,Y),V.clearTraversalCache()}function d(V){V.clearTraversalCache()}var p=[];p.ids={};function v(V,Y){Y=Y[0],V=V[0];var Z=V._private.children,X=V.id();js(Z,Y),Y._private.parent=null,p.ids[X]||(p.ids[X]=!0,p.push(V))}n.dirtyCompoundBoundsCache(),t&&a.removeFromPool(r);for(var x=0;x<r.length;x++){var y=r[x];if(y.isEdge()){var w=y.source()[0],k=y.target()[0];h(w,y),h(k,y);for(var _=y.parallelEdges(),C=0;C<_.length;C++){var T=_[C];d(T),T.isBundledBezier()&&T.dirtyBoundingBoxCache()}}else{var E=y.parent();E.length!==0&&v(E,y)}t&&(y._private.removed=!0)}var A=a._private.elements;a._private.hasCompoundNodes=!1;for(var R=0;R<A.length;R++){var D=A[R];if(D.isParent()){a._private.hasCompoundNodes=!0;break}}var N=new vr(this.cy(),r);N.size()>0&&(e?N.emitAndNotify("remove"):t&&N.emit("remove"));for(var z=0;z<p.length;z++){var j=p[z];(!t||!j.removed())&&j.updateStyle()}return N};ln.move=function(e){var t=this._private.cy,n=this,r=!1,i=!1,a=function(p){return p==null?p:""+p};if(e.source!==void 0||e.target!==void 0){var s=a(e.source),o=a(e.target),l=s!=null&&t.hasElementWithId(s),u=o!=null&&t.hasElementWithId(o);(l||u)&&(t.batch(function(){n.remove(r,i),n.emitAndNotify("moveout");for(var d=0;d<n.length;d++){var p=n[d],v=p._private.data;p.isEdge()&&(l&&(v.source=s),u&&(v.target=o))}n.restore(r,i)}),n.emitAndNotify("move"))}else if(e.parent!==void 0){var c=a(e.parent),f=c===null||t.hasElementWithId(c);if(f){var h=c===null?void 0:c;t.batch(function(){var d=n.remove(r,i);d.emitAndNotify("moveout");for(var p=0;p<n.length;p++){var v=n[p],x=v._private.data;v.isNode()&&(x.parent=h)}d.restore(r,i)}),n.emitAndNotify("move")}}return this};[IM,jne,md,Ls,Iu,rre,$g,xre,nA,rA,_re,Tp,vd,mr,Os,Tr].forEach(function(e){ot(ln,e)});var Dre={add:function(t){var n,r=this;if(ui(t)){var i=t;if(i._private.cy===r)n=i.restore();else{for(var a=[],s=0;s<i.length;s++){var o=i[s];a.push(o.json())}n=new vr(r,a)}}else if(en(t)){var l=t;n=new vr(r,l)}else if(Ot(t)&&(en(t.nodes)||en(t.edges))){for(var u=t,c=[],f=["nodes","edges"],h=0,d=f.length;h<d;h++){var p=f[h],v=u[p];if(en(v))for(var x=0,y=v.length;x<y;x++){var w=ot({group:p},v[x]);c.push(w)}}n=new vr(r,c)}else{var k=t;n=new Lg(r,k).collection()}return n},remove:function(t){if(!ui(t)){if(tt(t)){var n=t;t=this.$(n)}}return t.remove()}};/*! Bezier curve function generator. Copyright Gaetan Renaudeau. MIT License: http://en.wikipedia.org/wiki/MIT_License */function Ire(e,t,n,r){var i=4,a=.001,s=1e-7,o=10,l=11,u=1/(l-1),c=typeof Float32Array<"u";if(arguments.length!==4)return!1;for(var f=0;f<4;++f)if(typeof arguments[f]!="number"||isNaN(arguments[f])||!isFinite(arguments[f]))return!1;e=Math.min(e,1),n=Math.min(n,1),e=Math.max(e,0),n=Math.max(n,0);var h=c?new Float32Array(l):new Array(l);function d(D,N){return 1-3*N+3*D}function p(D,N){return 3*N-6*D}function v(D){return 3*D}function x(D,N,z){return((d(N,z)*D+p(N,z))*D+v(N))*D}function y(D,N,z){return 3*d(N,z)*D*D+2*p(N,z)*D+v(N)}function w(D,N){for(var z=0;z<i;++z){var j=y(N,e,n);if(j===0)return N;var V=x(N,e,n)-D;N-=V/j}return N}function k(){for(var D=0;D<l;++D)h[D]=x(D*u,e,n)}function _(D,N,z){var j,V,Y=0;do V=N+(z-N)/2,j=x(V,e,n)-D,j>0?z=V:N=V;while(Math.abs(j)>s&&++Y<o);return V}function C(D){for(var N=0,z=1,j=l-1;z!==j&&h[z]<=D;++z)N+=u;--z;var V=(D-h[z])/(h[z+1]-h[z]),Y=N+V*u,Z=y(Y,e,n);return Z>=a?w(D,Y):Z===0?Y:_(D,N,N+u)}var T=!1;function E(){T=!0,(e!==t||n!==r)&&k()}var A=function(N){return T||E(),e===t&&n===r?N:N===0?0:N===1?1:x(C(N),t,r)};A.getControlPoints=function(){return[{x:e,y:t},{x:n,y:r}]};var R="generateBezier("+[e,t,n,r]+")";return A.toString=function(){return R},A}/*! Runge-Kutta spring physics function generator. Adapted from Framer.js, copyright Koen Bok. MIT License: http://en.wikipedia.org/wiki/MIT_License */var Lre=function(){function e(r){return-r.tension*r.x-r.friction*r.v}function t(r,i,a){var s={x:r.x+a.dx*i,v:r.v+a.dv*i,tension:r.tension,friction:r.friction};return{dx:s.v,dv:e(s)}}function n(r,i){var a={dx:r.v,dv:e(r)},s=t(r,i*.5,a),o=t(r,i*.5,s),l=t(r,i,o),u=1/6*(a.dx+2*(s.dx+o.dx)+l.dx),c=1/6*(a.dv+2*(s.dv+o.dv)+l.dv);return r.x=r.x+u*i,r.v=r.v+c*i,r}return function r(i,a,s){var o={x:-1,v:0,tension:null,friction:null},l=[0],u=0,c=1/1e4,f=16/1e3,h,d,p;for(i=parseFloat(i)||500,a=parseFloat(a)||20,s=s||null,o.tension=i,o.friction=a,h=s!==null,h?(u=r(i,a),d=u/s*f):d=f;p=n(p||o,d),l.push(1+p.x),u+=16,Math.abs(p.x)>c&&Math.abs(p.v)>c;);return h?function(v){return l[v*(l.length-1)|0]}:u}}(),rn=function(t,n,r,i){var a=Ire(t,n,r,i);return function(s,o,l){return s+(o-s)*a(l)}},yd={linear:function(t,n,r){return t+(n-t)*r},ease:rn(.25,.1,.25,1),"ease-in":rn(.42,0,1,1),"ease-out":rn(0,0,.58,1),"ease-in-out":rn(.42,0,.58,1),"ease-in-sine":rn(.47,0,.745,.715),"ease-out-sine":rn(.39,.575,.565,1),"ease-in-out-sine":rn(.445,.05,.55,.95),"ease-in-quad":rn(.55,.085,.68,.53),"ease-out-quad":rn(.25,.46,.45,.94),"ease-in-out-quad":rn(.455,.03,.515,.955),"ease-in-cubic":rn(.55,.055,.675,.19),"ease-out-cubic":rn(.215,.61,.355,1),"ease-in-out-cubic":rn(.645,.045,.355,1),"ease-in-quart":rn(.895,.03,.685,.22),"ease-out-quart":rn(.165,.84,.44,1),"ease-in-out-quart":rn(.77,0,.175,1),"ease-in-quint":rn(.755,.05,.855,.06),"ease-out-quint":rn(.23,1,.32,1),"ease-in-out-quint":rn(.86,0,.07,1),"ease-in-expo":rn(.95,.05,.795,.035),"ease-out-expo":rn(.19,1,.22,1),"ease-in-out-expo":rn(1,0,0,1),"ease-in-circ":rn(.6,.04,.98,.335),"ease-out-circ":rn(.075,.82,.165,1),"ease-in-out-circ":rn(.785,.135,.15,.86),spring:function(t,n,r){if(r===0)return yd.linear;var i=Lre(t,n,r);return function(a,s,o){return a+(s-a)*i(o)}},"cubic-bezier":rn};function b9(e,t,n,r,i){if(r===1||t===n)return n;var a=i(t,n,r);return e==null||((e.roundValue||e.color)&&(a=Math.round(a)),e.min!==void 0&&(a=Math.max(a,e.min)),e.max!==void 0&&(a=Math.min(a,e.max))),a}function w9(e,t){return e.pfValue!=null||e.value!=null?e.pfValue!=null&&(t==null||t.type.units!=="%")?e.pfValue:e.value:e}function wl(e,t,n,r,i){var a=i!=null?i.type:null;n<0?n=0:n>1&&(n=1);var s=w9(e,i),o=w9(t,i);if(ze(s)&&ze(o))return b9(a,s,o,n,r);if(en(s)&&en(o)){for(var l=[],u=0;u<o.length;u++){var c=s[u],f=o[u];if(c!=null&&f!=null){var h=b9(a,c,f,n,r);l.push(h)}else l.push(f)}return l}}function Ore(e,t,n,r){var i=!r,a=e._private,s=t._private,o=s.easing,l=s.startTime,u=r?e:e.cy(),c=u.style();if(!s.easingImpl)if(o==null)s.easingImpl=yd.linear;else{var f;if(tt(o)){var h=c.parse("transition-timing-function",o);f=h.value}else f=o;var d,p;tt(f)?(d=f,p=[]):(d=f[1],p=f.slice(2).map(function(ee){return+ee})),p.length>0?(d==="spring"&&p.push(s.duration),s.easingImpl=yd[d].apply(null,p)):s.easingImpl=yd[d]}var v=s.easingImpl,x;if(s.duration===0?x=1:x=(n-l)/s.duration,s.applying&&(x=s.progress),x<0?x=0:x>1&&(x=1),s.delay==null){var y=s.startPosition,w=s.position;if(w&&i&&!e.locked()){var k={};wc(y.x,w.x)&&(k.x=wl(y.x,w.x,x,v)),wc(y.y,w.y)&&(k.y=wl(y.y,w.y,x,v)),e.position(k)}var _=s.startPan,C=s.pan,T=a.pan,E=C!=null&&r;E&&(wc(_.x,C.x)&&(T.x=wl(_.x,C.x,x,v)),wc(_.y,C.y)&&(T.y=wl(_.y,C.y,x,v)),e.emit("pan"));var A=s.startZoom,R=s.zoom,D=R!=null&&r;D&&(wc(A,R)&&(a.zoom=Ff(a.minZoom,wl(A,R,x,v),a.maxZoom)),e.emit("zoom")),(E||D)&&e.emit("viewport");var N=s.style;if(N&&N.length>0&&i){for(var z=0;z<N.length;z++){var j=N[z],V=j.name,Y=j,Z=s.startStyle[V],X=c.properties[Z.name],G=wl(Z,Y,x,v,X);c.overrideBypass(e,V,G)}e.emit("style")}}return s.progress=x,x}function wc(e,t){return e==null||t==null?!1:ze(e)&&ze(t)?!0:!!(e&&t)}function Rre(e,t,n,r){var i=t._private;i.started=!0,i.startTime=n-i.progress*i.duration}function k9(e,t){var n=t._private.aniEles,r=[];function i(c,f){var h=c._private,d=h.animation.current,p=h.animation.queue,v=!1;if(d.length===0){var x=p.shift();x&&d.push(x)}for(var y=function(T){for(var E=T.length-1;E>=0;E--){var A=T[E];A()}T.splice(0,T.length)},w=d.length-1;w>=0;w--){var k=d[w],_=k._private;if(_.stopped){d.splice(w,1),_.hooked=!1,_.playing=!1,_.started=!1,y(_.frames);continue}!_.playing&&!_.applying||(_.playing&&_.applying&&(_.applying=!1),_.started||Rre(c,k,e),Ore(c,k,e,f),_.applying&&(_.applying=!1),y(_.frames),_.step!=null&&_.step(e),k.completed()&&(d.splice(w,1),_.hooked=!1,_.playing=!1,_.started=!1,y(_.completes)),v=!0)}return!f&&d.length===0&&p.length===0&&r.push(c),v}for(var a=!1,s=0;s<n.length;s++){var o=n[s],l=i(o);a=a||l}var u=i(t,!0);(a||u)&&(n.length>0?t.notify("draw",n):t.notify("draw")),n.unmerge(r),t.emit("step")}var Nre={animate:Ht.animate(),animation:Ht.animation(),animated:Ht.animated(),clearQueue:Ht.clearQueue(),delay:Ht.delay(),delayAnimation:Ht.delayAnimation(),stop:Ht.stop(),addToAnimationPool:function(t){var n=this;n.styleEnabled()&&n._private.aniEles.merge(t)},stopAnimationLoop:function(){this._private.animationsRunning=!1},startAnimationLoop:function(){var t=this;if(t._private.animationsRunning=!0,!t.styleEnabled())return;function n(){t._private.animationsRunning&&wp(function(a){k9(a,t),n()})}var r=t.renderer();r&&r.beforeRender?r.beforeRender(function(a,s){k9(s,t)},r.beforeRenderPriorities.animations):n()}},zre={qualifierCompare:function(t,n){return t==null||n==null?t==null&&n==null:t.sameText(n)},eventMatches:function(t,n,r){var i=n.qualifier;return i!=null?t!==r.target&&c0(r.target)&&i.matches(r.target):!0},addEventFields:function(t,n){n.cy=t,n.target=t},callbackContext:function(t,n,r){return n.qualifier!=null?r.target:t}},zh=function(t){return tt(t)?new Hs(t):t},sA={createEmitter:function(){var t=this._private;return t.emitter||(t.emitter=new jg(zre,this)),this},emitter:function(){return this._private.emitter},on:function(t,n,r){return this.emitter().on(t,zh(n),r),this},removeListener:function(t,n,r){return this.emitter().removeListener(t,zh(n),r),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},one:function(t,n,r){return this.emitter().one(t,zh(n),r),this},once:function(t,n,r){return this.emitter().one(t,zh(n),r),this},emit:function(t,n){return this.emitter().emit(t,n),this},emitAndNotify:function(t,n){return this.emit(t),this.notify(t,n),this}};Ht.eventAliasesOn(sA);var l4={png:function(t){var n=this._private.renderer;return t=t||{},n.png(t)},jpg:function(t){var n=this._private.renderer;return t=t||{},t.bg=t.bg||"#fff",n.jpg(t)}};l4.jpeg=l4.jpg;var xd={layout:function(t){var n=this;if(t==null){Tn("Layout options must be specified to make a layout");return}if(t.name==null){Tn("A `name` must be specified to make a layout");return}var r=t.name,i=n.extension("layout",r);if(i==null){Tn("No such layout `"+r+"` found.  Did you forget to import it and `cytoscape.use()` it?");return}var a;tt(t.eles)?a=n.$(t.eles):a=t.eles!=null?t.eles:n.$();var s=new i(ot({},t,{cy:n,eles:a}));return s}};xd.createLayout=xd.makeLayout=xd.layout;var Bre={notify:function(t,n){var r=this._private;if(this.batching()){r.batchNotifications=r.batchNotifications||{};var i=r.batchNotifications[t]=r.batchNotifications[t]||this.collection();n!=null&&i.merge(n);return}if(r.notificationsEnabled){var a=this.renderer();this.destroyed()||!a||a.notify(t,n)}},notifications:function(t){var n=this._private;return t===void 0?n.notificationsEnabled:(n.notificationsEnabled=!!t,this)},noNotifications:function(t){this.notifications(!1),t(),this.notifications(!0)},batching:function(){return this._private.batchCount>0},startBatch:function(){var t=this._private;return t.batchCount==null&&(t.batchCount=0),t.batchCount===0&&(t.batchStyleEles=this.collection(),t.batchNotifications={}),t.batchCount++,this},endBatch:function(){var t=this._private;if(t.batchCount===0)return this;if(t.batchCount--,t.batchCount===0){t.batchStyleEles.updateStyle();var n=this.renderer();Object.keys(t.batchNotifications).forEach(function(r){var i=t.batchNotifications[r];i.empty()?n.notify(r):n.notify(r,i)})}return this},batch:function(t){return this.startBatch(),t(),this.endBatch(),this},batchData:function(t){var n=this;return this.batch(function(){for(var r=Object.keys(t),i=0;i<r.length;i++){var a=r[i],s=t[a],o=n.getElementById(a);o.data(s)}})}},Fre=xr({hideEdgesOnViewport:!1,textureOnViewport:!1,motionBlur:!1,motionBlurOpacity:.05,pixelRatio:void 0,desktopTapThreshold:4,touchTapThreshold:8,wheelSensitivity:1,debug:!1,showFps:!1,webgl:!1,webglDebug:!1,webglDebugShowAtlases:!1,webglTexSize:2048,webglTexRows:36,webglTexRowsNodes:18,webglBatchSize:2048,webglTexPerBatch:14,webglBgColor:[255,255,255]}),u4={renderTo:function(t,n,r,i){var a=this._private.renderer;return a.renderTo(t,n,r,i),this},renderer:function(){return this._private.renderer},forceRender:function(){return this.notify("draw"),this},resize:function(){return this.invalidateSize(),this.emitAndNotify("resize"),this},initRenderer:function(t){var n=this,r=n.extension("renderer",t.name);if(r==null){Tn("Can not initialise: No such renderer `".concat(t.name,"` found. Did you forget to import it and `cytoscape.use()` it?"));return}t.wheelSensitivity!==void 0&&Vt("You have set a custom wheel sensitivity.  This will make your app zoom unnaturally when using mainstream mice.  You should change this value from the default only if you can guarantee that all your users will use the same hardware and OS configuration as your current machine.");var i=Fre(t);i.cy=n,n._private.renderer=new r(i),this.notify("init")},destroyRenderer:function(){var t=this;t.notify("destroy");var n=t.container();if(n)for(n._cyreg=null;n.childNodes.length>0;)n.removeChild(n.childNodes[0]);t._private.renderer=null,t.mutableElements().forEach(function(r){var i=r._private;i.rscratch={},i.rstyle={},i.animation.current=[],i.animation.queue=[]})},onRender:function(t){return this.on("render",t)},offRender:function(t){return this.off("render",t)}};u4.invalidateDimensions=u4.resize;var bd={collection:function(t,n){return tt(t)?this.$(t):ui(t)?t.collection():en(t)?(n||(n={}),new vr(this,t,n.unique,n.removed)):new vr(this)},nodes:function(t){var n=this.$(function(r){return r.isNode()});return t?n.filter(t):n},edges:function(t){var n=this.$(function(r){return r.isEdge()});return t?n.filter(t):n},$:function(t){var n=this._private.elements;return t?n.filter(t):n.spawnSelf()},mutableElements:function(){return this._private.elements}};bd.elements=bd.filter=bd.$;var dr={},tf="t",$re="f";dr.apply=function(e){for(var t=this,n=t._private,r=n.cy,i=r.collection(),a=0;a<e.length;a++){var s=e[a],o=t.getContextMeta(s);if(!o.empty){var l=t.getContextStyle(o),u=t.applyContextStyle(o,l,s);s._private.appliedInitStyle?t.updateTransitions(s,u.diffProps):s._private.appliedInitStyle=!0;var c=t.updateStyleHints(s);c&&i.push(s)}}return i};dr.getPropertiesDiff=function(e,t){var n=this,r=n._private.propDiffs=n._private.propDiffs||{},i=e+"-"+t,a=r[i];if(a)return a;for(var s=[],o={},l=0;l<n.length;l++){var u=n[l],c=e[l]===tf,f=t[l]===tf,h=c!==f,d=u.mappedProperties.length>0;if(h||f&&d){var p=void 0;h&&d||h?p=u.properties:d&&(p=u.mappedProperties);for(var v=0;v<p.length;v++){for(var x=p[v],y=x.name,w=!1,k=l+1;k<n.length;k++){var _=n[k],C=t[k]===tf;if(C&&(w=_.properties[x.name]!=null,w))break}!o[y]&&!w&&(o[y]=!0,s.push(y))}}}return r[i]=s,s};dr.getContextMeta=function(e){for(var t=this,n="",r,i=e._private.styleCxtKey||"",a=0;a<t.length;a++){var s=t[a],o=s.selector&&s.selector.matches(e);o?n+=tf:n+=$re}return r=t.getPropertiesDiff(i,n),e._private.styleCxtKey=n,{key:n,diffPropNames:r,empty:r.length===0}};dr.getContextStyle=function(e){var t=e.key,n=this,r=this._private.contextStyles=this._private.contextStyles||{};if(r[t])return r[t];for(var i={_private:{key:t}},a=0;a<n.length;a++){var s=n[a],o=t[a]===tf;if(o)for(var l=0;l<s.properties.length;l++){var u=s.properties[l];i[u.name]=u}}return r[t]=i,i};dr.applyContextStyle=function(e,t,n){for(var r=this,i=e.diffPropNames,a={},s=r.types,o=0;o<i.length;o++){var l=i[o],u=t[l],c=n.pstyle(l);if(!u)if(c)c.bypass?u={name:l,deleteBypassed:!0}:u={name:l,delete:!0};else continue;if(c!==u){if(u.mapped===s.fn&&c!=null&&c.mapping!=null&&c.mapping.value===u.value){var f=c.mapping,h=f.fnValue=u.value(n);if(h===f.prevFnValue)continue}var d=a[l]={prev:c};r.applyParsedProperty(n,u),d.next=n.pstyle(l),d.next&&d.next.bypass&&(d.next=d.next.bypassed)}}return{diffProps:a}};dr.updateStyleHints=function(e){var t=e._private,n=this,r=n.propertyGroupNames,i=n.propertyGroupKeys,a=function(me,Ee,je){return n.getPropertiesHash(me,Ee,je)},s=t.styleKey;if(e.removed())return!1;var o=t.group==="nodes",l=e._private.style;r=Object.keys(l);for(var u=0;u<i.length;u++){var c=i[u];t.styleKeys[c]=[Co,Al]}for(var f=function(me,Ee){return t.styleKeys[Ee][0]=Nf(me,t.styleKeys[Ee][0])},h=function(me,Ee){return t.styleKeys[Ee][1]=zf(me,t.styleKeys[Ee][1])},d=function(me,Ee){f(me,Ee),h(me,Ee)},p=function(me,Ee){for(var je=0;je<me.length;je++){var ct=me.charCodeAt(je);f(ct,Ee),h(ct,Ee)}},v=2e9,x=function(me){return-128<me&&me<128&&Math.floor(me)!==me?v-(me*1024|0):me},y=0;y<r.length;y++){var w=r[y],k=l[w];if(k!=null){var _=this.properties[w],C=_.type,T=_.groupKey,E=void 0;_.hashOverride!=null?E=_.hashOverride(e,k):k.pfValue!=null&&(E=k.pfValue);var A=_.enums==null?k.value:null,R=E!=null,D=A!=null,N=R||D,z=k.units;if(C.number&&N&&!C.multiple){var j=R?E:A;d(x(j),T),!R&&z!=null&&p(z,T)}else p(k.strValue,T)}}for(var V=[Co,Al],Y=0;Y<i.length;Y++){var Z=i[Y],X=t.styleKeys[Z];V[0]=Nf(X[0],V[0]),V[1]=zf(X[1],V[1])}t.styleKey=aee(V[0],V[1]);var G=t.styleKeys;t.labelDimsKey=ls(G.labelDimensions);var ee=a(e,["label"],G.labelDimensions);if(t.labelKey=ls(ee),t.labelStyleKey=ls(Mh(G.commonLabel,ee)),!o){var B=a(e,["source-label"],G.labelDimensions);t.sourceLabelKey=ls(B),t.sourceLabelStyleKey=ls(Mh(G.commonLabel,B));var K=a(e,["target-label"],G.labelDimensions);t.targetLabelKey=ls(K),t.targetLabelStyleKey=ls(Mh(G.commonLabel,K))}if(o){var J=t.styleKeys,q=J.nodeBody,he=J.nodeBorder,de=J.nodeOutline,oe=J.backgroundImage,ke=J.compound,Ae=J.pie,Se=J.stripe,ce=[q,he,de,oe,ke,Ae,Se].filter(function(ge){return ge!=null}).reduce(Mh,[Co,Al]);t.nodeKey=ls(ce),t.hasPie=Ae!=null&&Ae[0]!==Co&&Ae[1]!==Al,t.hasStripe=Se!=null&&Se[0]!==Co&&Se[1]!==Al}return s!==t.styleKey};dr.clearStyleHints=function(e){var t=e._private;t.styleCxtKey="",t.styleKeys={},t.styleKey=null,t.labelKey=null,t.labelStyleKey=null,t.sourceLabelKey=null,t.sourceLabelStyleKey=null,t.targetLabelKey=null,t.targetLabelStyleKey=null,t.nodeKey=null,t.hasPie=null,t.hasStripe=null};dr.applyParsedProperty=function(e,t){var n=this,r=t,i=e._private.style,a,s=n.types,o=n.properties[r.name].type,l=r.bypass,u=i[r.name],c=u&&u.bypass,f=e._private,h="mapping",d=function(q){return q==null?null:q.pfValue!=null?q.pfValue:q.value},p=function(){var q=d(u),he=d(r);n.checkTriggers(e,r.name,q,he)};if(t.name==="curve-style"&&e.isEdge()&&(t.value!=="bezier"&&e.isLoop()||t.value==="haystack"&&(e.source().isParent()||e.target().isParent()))&&(r=t=this.parse(t.name,"bezier",l)),r.delete)return i[r.name]=void 0,p(),!0;if(r.deleteBypassed)return u?u.bypass?(u.bypassed=void 0,p(),!0):!1:(p(),!0);if(r.deleteBypass)return u?u.bypass?(i[r.name]=u.bypassed,p(),!0):!1:(p(),!0);var v=function(){Vt("Do not assign mappings to elements without corresponding data (i.e. ele `"+e.id()+"` has no mapping for property `"+r.name+"` with data field `"+r.field+"`); try a `["+r.field+"]` selector to limit scope to elements with `"+r.field+"` defined")};switch(r.mapped){case s.mapData:{for(var x=r.field.split("."),y=f.data,w=0;w<x.length&&y;w++){var k=x[w];y=y[k]}if(y==null)return v(),!1;var _;if(ze(y)){var C=r.fieldMax-r.fieldMin;C===0?_=0:_=(y-r.fieldMin)/C}else return Vt("Do not use continuous mappers without specifying numeric data (i.e. `"+r.field+": "+y+"` for `"+e.id()+"` is non-numeric)"),!1;if(_<0?_=0:_>1&&(_=1),o.color){var T=r.valueMin[0],E=r.valueMax[0],A=r.valueMin[1],R=r.valueMax[1],D=r.valueMin[2],N=r.valueMax[2],z=r.valueMin[3]==null?1:r.valueMin[3],j=r.valueMax[3]==null?1:r.valueMax[3],V=[Math.round(T+(E-T)*_),Math.round(A+(R-A)*_),Math.round(D+(N-D)*_),Math.round(z+(j-z)*_)];a={bypass:r.bypass,name:r.name,value:V,strValue:"rgb("+V[0]+", "+V[1]+", "+V[2]+")"}}else if(o.number){var Y=r.valueMin+(r.valueMax-r.valueMin)*_;a=this.parse(r.name,Y,r.bypass,h)}else return!1;if(!a)return v(),!1;a.mapping=r,r=a;break}case s.data:{for(var Z=r.field.split("."),X=f.data,G=0;G<Z.length&&X;G++){var ee=Z[G];X=X[ee]}if(X!=null&&(a=this.parse(r.name,X,r.bypass,h)),!a)return v(),!1;a.mapping=r,r=a;break}case s.fn:{var B=r.value,K=r.fnValue!=null?r.fnValue:B(e);if(r.prevFnValue=K,K==null)return Vt("Custom function mappers may not return null (i.e. `"+r.name+"` for ele `"+e.id()+"` is null)"),!1;if(a=this.parse(r.name,K,r.bypass,h),!a)return Vt("Custom function mappers may not return invalid values for the property type (i.e. `"+r.name+"` for ele `"+e.id()+"` is invalid)"),!1;a.mapping=ca(r),r=a;break}case void 0:break;default:return!1}return l?(c?r.bypassed=u.bypassed:r.bypassed=u,i[r.name]=r):c?u.bypassed=r:i[r.name]=r,p(),!0};dr.cleanElements=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(this.clearStyleHints(r),r.dirtyCompoundBoundsCache(),r.dirtyBoundingBoxCache(),!t)r._private.style={};else for(var i=r._private.style,a=Object.keys(i),s=0;s<a.length;s++){var o=a[s],l=i[o];l!=null&&(l.bypass?l.bypassed=null:i[o]=null)}}};dr.update=function(){var e=this._private.cy,t=e.mutableElements();t.updateStyle()};dr.updateTransitions=function(e,t){var n=this,r=e._private,i=e.pstyle("transition-property").value,a=e.pstyle("transition-duration").pfValue,s=e.pstyle("transition-delay").pfValue;if(i.length>0&&a>0){for(var o={},l=!1,u=0;u<i.length;u++){var c=i[u],f=e.pstyle(c),h=t[c];if(h){var d=h.prev,p=d,v=h.next!=null?h.next:f,x=!1,y=void 0,w=1e-6;p&&(ze(p.pfValue)&&ze(v.pfValue)?(x=v.pfValue-p.pfValue,y=p.pfValue+w*x):ze(p.value)&&ze(v.value)?(x=v.value-p.value,y=p.value+w*x):en(p.value)&&en(v.value)&&(x=p.value[0]!==v.value[0]||p.value[1]!==v.value[1]||p.value[2]!==v.value[2],y=p.strValue),x&&(o[c]=v.strValue,this.applyBypass(e,c,y),l=!0))}}if(!l)return;r.transitioning=!0,new Hu(function(k){s>0?e.delayAnimation(s).play().promise().then(k):k()}).then(function(){return e.animation({style:o,duration:a,easing:e.pstyle("transition-timing-function").value,queue:!1}).play().promise()}).then(function(){n.removeBypasses(e,i),e.emitAndNotify("style"),r.transitioning=!1})}else r.transitioning&&(this.removeBypasses(e,i),e.emitAndNotify("style"),r.transitioning=!1)};dr.checkTrigger=function(e,t,n,r,i,a){var s=this.properties[t],o=i(s);e.removed()||o!=null&&o(n,r,e)&&a(s)};dr.checkZOrderTrigger=function(e,t,n,r){var i=this;this.checkTrigger(e,t,n,r,function(a){return a.triggersZOrder},function(){i._private.cy.notify("zorder",e)})};dr.checkBoundsTrigger=function(e,t,n,r){this.checkTrigger(e,t,n,r,function(i){return i.triggersBounds},function(i){e.dirtyCompoundBoundsCache(),e.dirtyBoundingBoxCache()})};dr.checkConnectedEdgesBoundsTrigger=function(e,t,n,r){this.checkTrigger(e,t,n,r,function(i){return i.triggersBoundsOfConnectedEdges},function(i){e.connectedEdges().forEach(function(a){a.dirtyBoundingBoxCache()})})};dr.checkParallelEdgesBoundsTrigger=function(e,t,n,r){this.checkTrigger(e,t,n,r,function(i){return i.triggersBoundsOfParallelEdges},function(i){e.parallelEdges().forEach(function(a){a.dirtyBoundingBoxCache()})})};dr.checkTriggers=function(e,t,n,r){e.dirtyStyleCache(),this.checkZOrderTrigger(e,t,n,r),this.checkBoundsTrigger(e,t,n,r),this.checkConnectedEdgesBoundsTrigger(e,t,n,r),this.checkParallelEdgesBoundsTrigger(e,t,n,r)};var v0={};v0.applyBypass=function(e,t,n,r){var i=this,a=[],s=!0;if(t==="*"||t==="**"){if(n!==void 0)for(var o=0;o<i.properties.length;o++){var l=i.properties[o],u=l.name,c=this.parse(u,n,!0);c&&a.push(c)}}else if(tt(t)){var f=this.parse(t,n,!0);f&&a.push(f)}else if(Ot(t)){var h=t;r=n;for(var d=Object.keys(h),p=0;p<d.length;p++){var v=d[p],x=h[v];if(x===void 0&&(x=h[Dg(v)]),x!==void 0){var y=this.parse(v,x,!0);y&&a.push(y)}}}else return!1;if(a.length===0)return!1;for(var w=!1,k=0;k<e.length;k++){for(var _=e[k],C={},T=void 0,E=0;E<a.length;E++){var A=a[E];if(r){var R=_.pstyle(A.name);T=C[A.name]={prev:R}}w=this.applyParsedProperty(_,ca(A))||w,r&&(T.next=_.pstyle(A.name))}w&&this.updateStyleHints(_),r&&this.updateTransitions(_,C,s)}return w};v0.overrideBypass=function(e,t,n){t=xb(t);for(var r=0;r<e.length;r++){var i=e[r],a=i._private.style[t],s=this.properties[t].type,o=s.color,l=s.mutiple,u=a?a.pfValue!=null?a.pfValue:a.value:null;!a||!a.bypass?this.applyBypass(i,t,n):(a.value=n,a.pfValue!=null&&(a.pfValue=n),o?a.strValue="rgb("+n.join(",")+")":l?a.strValue=n.join(" "):a.strValue=""+n,this.updateStyleHints(i)),this.checkTriggers(i,t,u,n)}};v0.removeAllBypasses=function(e,t){return this.removeBypasses(e,this.propertyNames,t)};v0.removeBypasses=function(e,t,n){for(var r=!0,i=0;i<e.length;i++){for(var a=e[i],s={},o=0;o<t.length;o++){var l=t[o],u=this.properties[l],c=a.pstyle(u.name);if(!(!c||!c.bypass)){var f="",h=this.parse(l,f,!0),d=s[u.name]={prev:c};this.applyParsedProperty(a,h),d.next=a.pstyle(u.name)}}this.updateStyleHints(a),n&&this.updateTransitions(a,s,r)}};var Ob={};Ob.getEmSizeInPixels=function(){var e=this.containerCss("font-size");return e!=null?parseFloat(e):1};Ob.containerCss=function(e){var t=this._private.cy,n=t.container(),r=t.window();if(r&&n&&r.getComputedStyle)return r.getComputedStyle(n).getPropertyValue(e)};var ga={};ga.getRenderedStyle=function(e,t){return t?this.getStylePropertyValue(e,t,!0):this.getRawStyle(e,!0)};ga.getRawStyle=function(e,t){var n=this;if(e=e[0],e){for(var r={},i=0;i<n.properties.length;i++){var a=n.properties[i],s=n.getStylePropertyValue(e,a.name,t);s!=null&&(r[a.name]=s,r[Dg(a.name)]=s)}return r}};ga.getIndexedStyle=function(e,t,n,r){var i=e.pstyle(t)[n][r];return i??e.cy().style().getDefaultProperty(t)[n][0]};ga.getStylePropertyValue=function(e,t,n){var r=this;if(e=e[0],e){var i=r.properties[t];i.alias&&(i=i.pointsTo);var a=i.type,s=e.pstyle(i.name);if(s){var o=s.value,l=s.units,u=s.strValue;if(n&&a.number&&o!=null&&ze(o)){var c=e.cy().zoom(),f=function(x){return x*c},h=function(x,y){return f(x)+y},d=en(o),p=d?l.every(function(v){return v!=null}):l!=null;return p?d?o.map(function(v,x){return h(v,l[x])}).join(" "):h(o,l):d?o.map(function(v){return tt(v)?v:""+f(v)}).join(" "):""+f(o)}else if(u!=null)return u}return null}};ga.getAnimationStartStyle=function(e,t){for(var n={},r=0;r<t.length;r++){var i=t[r],a=i.name,s=e.pstyle(a);s!==void 0&&(Ot(s)?s=this.parse(a,s.strValue):s=this.parse(a,s)),s&&(n[a]=s)}return n};ga.getPropsList=function(e){var t=this,n=[],r=e,i=t.properties;if(r)for(var a=Object.keys(r),s=0;s<a.length;s++){var o=a[s],l=r[o],u=i[o]||i[xb(o)],c=this.parse(u.name,l);c&&n.push(c)}return n};ga.getNonDefaultPropertiesHash=function(e,t,n){var r=n.slice(),i,a,s,o,l,u;for(l=0;l<t.length;l++)if(i=t[l],a=e.pstyle(i,!1),a!=null)if(a.pfValue!=null)r[0]=Nf(o,r[0]),r[1]=zf(o,r[1]);else for(s=a.strValue,u=0;u<s.length;u++)o=s.charCodeAt(u),r[0]=Nf(o,r[0]),r[1]=zf(o,r[1]);return r};ga.getPropertiesHash=ga.getNonDefaultPropertiesHash;var Vg={};Vg.appendFromJson=function(e){for(var t=this,n=0;n<e.length;n++){var r=e[n],i=r.selector,a=r.style||r.css,s=Object.keys(a);t.selector(i);for(var o=0;o<s.length;o++){var l=s[o],u=a[l];t.css(l,u)}}return t};Vg.fromJson=function(e){var t=this;return t.resetToDefault(),t.appendFromJson(e),t};Vg.json=function(){for(var e=[],t=this.defaultLength;t<this.length;t++){for(var n=this[t],r=n.selector,i=n.properties,a={},s=0;s<i.length;s++){var o=i[s];a[o.name]=o.strValue}e.push({selector:r?r.toString():"core",style:a})}return e};var Rb={};Rb.appendFromString=function(e){var t=this,n=this,r=""+e,i,a,s;r=r.replace(/[/][*](\s|.)+?[*][/]/g,"");function o(){r.length>i.length?r=r.substr(i.length):r=""}function l(){a.length>s.length?a=a.substr(s.length):a=""}for(;;){var u=r.match(/^\s*$/);if(u)break;var c=r.match(/^\s*((?:.|\s)+?)\s*\{((?:.|\s)+?)\}/);if(!c){Vt("Halting stylesheet parsing: String stylesheet contains more to parse but no selector and block found in: "+r);break}i=c[0];var f=c[1];if(f!=="core"){var h=new Hs(f);if(h.invalid){Vt("Skipping parsing of block: Invalid selector found in string stylesheet: "+f),o();continue}}var d=c[2],p=!1;a=d;for(var v=[];;){var x=a.match(/^\s*$/);if(x)break;var y=a.match(/^\s*(.+?)\s*:\s*(.+?)(?:\s*;|\s*$)/);if(!y){Vt("Skipping parsing of block: Invalid formatting of style property and value definitions found in:"+d),p=!0;break}s=y[0];var w=y[1],k=y[2],_=t.properties[w];if(!_){Vt("Skipping property: Invalid property name in: "+s),l();continue}var C=n.parse(w,k);if(!C){Vt("Skipping property: Invalid property definition in: "+s),l();continue}v.push({name:w,val:k}),l()}if(p){o();break}n.selector(f);for(var T=0;T<v.length;T++){var E=v[T];n.css(E.name,E.val)}o()}return n};Rb.fromString=function(e){var t=this;return t.resetToDefault(),t.appendFromString(e),t};var Wn={};(function(){var e=rr,t=zJ,n=FJ,r=$J,i=jJ,a=function(ge){return"^"+ge+"\\s*\\(\\s*([\\w\\.]+)\\s*\\)$"},s=function(ge){var me=e+"|\\w+|"+t+"|"+n+"|"+r+"|"+i;return"^"+ge+"\\s*\\(([\\w\\.]+)\\s*\\,\\s*("+e+")\\s*\\,\\s*("+e+")\\s*,\\s*("+me+")\\s*\\,\\s*("+me+")\\)$"},o=[`^url\\s*\\(\\s*['"]?(.+?)['"]?\\s*\\)$`,"^(none)$","^(.+)$"];Wn.types={time:{number:!0,min:0,units:"s|ms",implicitUnits:"ms"},percent:{number:!0,min:0,max:100,units:"%",implicitUnits:"%"},percentages:{number:!0,min:0,max:100,units:"%",implicitUnits:"%",multiple:!0},zeroOneNumber:{number:!0,min:0,max:1,unitless:!0},zeroOneNumbers:{number:!0,min:0,max:1,unitless:!0,multiple:!0},nOneOneNumber:{number:!0,min:-1,max:1,unitless:!0},nonNegativeInt:{number:!0,min:0,integer:!0,unitless:!0},nonNegativeNumber:{number:!0,min:0,unitless:!0},position:{enums:["parent","origin"]},nodeSize:{number:!0,min:0,enums:["label"]},number:{number:!0,unitless:!0},numbers:{number:!0,unitless:!0,multiple:!0},positiveNumber:{number:!0,unitless:!0,min:0,strictMin:!0},size:{number:!0,min:0},bidirectionalSize:{number:!0},bidirectionalSizeMaybePercent:{number:!0,allowPercent:!0},bidirectionalSizes:{number:!0,multiple:!0},sizeMaybePercent:{number:!0,min:0,allowPercent:!0},axisDirection:{enums:["horizontal","leftward","rightward","vertical","upward","downward","auto"]},axisDirectionExplicit:{enums:["leftward","rightward","upward","downward"]},axisDirectionPrimary:{enums:["horizontal","vertical"]},paddingRelativeTo:{enums:["width","height","average","min","max"]},bgWH:{number:!0,min:0,allowPercent:!0,enums:["auto"],multiple:!0},bgPos:{number:!0,allowPercent:!0,multiple:!0},bgRelativeTo:{enums:["inner","include-padding"],multiple:!0},bgRepeat:{enums:["repeat","repeat-x","repeat-y","no-repeat"],multiple:!0},bgFit:{enums:["none","contain","cover"],multiple:!0},bgCrossOrigin:{enums:["anonymous","use-credentials","null"],multiple:!0},bgClip:{enums:["none","node"],multiple:!0},bgContainment:{enums:["inside","over"],multiple:!0},color:{color:!0},colors:{color:!0,multiple:!0},fill:{enums:["solid","linear-gradient","radial-gradient"]},bool:{enums:["yes","no"]},bools:{enums:["yes","no"],multiple:!0},lineStyle:{enums:["solid","dotted","dashed"]},lineCap:{enums:["butt","round","square"]},linePosition:{enums:["center","inside","outside"]},lineJoin:{enums:["round","bevel","miter"]},borderStyle:{enums:["solid","dotted","dashed","double"]},curveStyle:{enums:["bezier","unbundled-bezier","haystack","segments","straight","straight-triangle","taxi","round-segments","round-taxi"]},radiusType:{enums:["arc-radius","influence-radius"],multiple:!0},fontFamily:{regex:'^([\\w- \\"]+(?:\\s*,\\s*[\\w- \\"]+)*)$'},fontStyle:{enums:["italic","normal","oblique"]},fontWeight:{enums:["normal","bold","bolder","lighter","100","200","300","400","500","600","800","900",100,200,300,400,500,600,700,800,900]},textDecoration:{enums:["none","underline","overline","line-through"]},textTransform:{enums:["none","uppercase","lowercase"]},textWrap:{enums:["none","wrap","ellipsis"]},textOverflowWrap:{enums:["whitespace","anywhere"]},textBackgroundShape:{enums:["rectangle","roundrectangle","round-rectangle"]},nodeShape:{enums:["rectangle","roundrectangle","round-rectangle","cutrectangle","cut-rectangle","bottomroundrectangle","bottom-round-rectangle","barrel","ellipse","triangle","round-triangle","square","pentagon","round-pentagon","hexagon","round-hexagon","concavehexagon","concave-hexagon","heptagon","round-heptagon","octagon","round-octagon","tag","round-tag","star","diamond","round-diamond","vee","rhomboid","right-rhomboid","polygon"]},overlayShape:{enums:["roundrectangle","round-rectangle","ellipse"]},cornerRadius:{number:!0,min:0,units:"px|em",implicitUnits:"px",enums:["auto"]},compoundIncludeLabels:{enums:["include","exclude"]},arrowShape:{enums:["tee","triangle","triangle-tee","circle-triangle","triangle-cross","triangle-backcurve","vee","square","circle","diamond","chevron","none"]},arrowFill:{enums:["filled","hollow"]},arrowWidth:{number:!0,units:"%|px|em",implicitUnits:"px",enums:["match-line"]},display:{enums:["element","none"]},visibility:{enums:["hidden","visible"]},zCompoundDepth:{enums:["bottom","orphan","auto","top"]},zIndexCompare:{enums:["auto","manual"]},valign:{enums:["top","center","bottom"]},halign:{enums:["left","center","right"]},justification:{enums:["left","center","right","auto"]},text:{string:!0},data:{mapping:!0,regex:a("data")},layoutData:{mapping:!0,regex:a("layoutData")},scratch:{mapping:!0,regex:a("scratch")},mapData:{mapping:!0,regex:s("mapData")},mapLayoutData:{mapping:!0,regex:s("mapLayoutData")},mapScratch:{mapping:!0,regex:s("mapScratch")},fn:{mapping:!0,fn:!0},url:{regexes:o,singleRegexMatchValue:!0},urls:{regexes:o,singleRegexMatchValue:!0,multiple:!0},propList:{propList:!0},angle:{number:!0,units:"deg|rad",implicitUnits:"rad"},textRotation:{number:!0,units:"deg|rad",implicitUnits:"rad",enums:["none","autorotate"]},polygonPointList:{number:!0,multiple:!0,evenMultiple:!0,min:-1,max:1,unitless:!0},edgeDistances:{enums:["intersection","node-position","endpoints"]},edgeEndpoint:{number:!0,multiple:!0,units:"%|px|em|deg|rad",implicitUnits:"px",enums:["inside-to-node","outside-to-node","outside-to-node-or-label","outside-to-line","outside-to-line-or-label"],singleEnum:!0,validate:function(ge,me){switch(ge.length){case 2:return me[0]!=="deg"&&me[0]!=="rad"&&me[1]!=="deg"&&me[1]!=="rad";case 1:return tt(ge[0])||me[0]==="deg"||me[0]==="rad";default:return!1}}},easing:{regexes:["^(spring)\\s*\\(\\s*("+e+")\\s*,\\s*("+e+")\\s*\\)$","^(cubic-bezier)\\s*\\(\\s*("+e+")\\s*,\\s*("+e+")\\s*,\\s*("+e+")\\s*,\\s*("+e+")\\s*\\)$"],enums:["linear","ease","ease-in","ease-out","ease-in-out","ease-in-sine","ease-out-sine","ease-in-out-sine","ease-in-quad","ease-out-quad","ease-in-out-quad","ease-in-cubic","ease-out-cubic","ease-in-out-cubic","ease-in-quart","ease-out-quart","ease-in-out-quart","ease-in-quint","ease-out-quint","ease-in-out-quint","ease-in-expo","ease-out-expo","ease-in-out-expo","ease-in-circ","ease-out-circ","ease-in-out-circ"]},gradientDirection:{enums:["to-bottom","to-top","to-left","to-right","to-bottom-right","to-bottom-left","to-top-right","to-top-left","to-right-bottom","to-left-bottom","to-right-top","to-left-top"]},boundsExpansion:{number:!0,multiple:!0,min:0,validate:function(ge){var me=ge.length;return me===1||me===2||me===4}}};var l={zeroNonZero:function(ge,me){return(ge==null||me==null)&&ge!==me||ge==0&&me!=0?!0:ge!=0&&me==0},any:function(ge,me){return ge!=me},emptyNonEmpty:function(ge,me){var Ee=$s(ge),je=$s(me);return Ee&&!je||!Ee&&je}},u=Wn.types,c=[{name:"label",type:u.text,triggersBounds:l.any,triggersZOrder:l.emptyNonEmpty},{name:"text-rotation",type:u.textRotation,triggersBounds:l.any},{name:"text-margin-x",type:u.bidirectionalSize,triggersBounds:l.any},{name:"text-margin-y",type:u.bidirectionalSize,triggersBounds:l.any}],f=[{name:"source-label",type:u.text,triggersBounds:l.any},{name:"source-text-rotation",type:u.textRotation,triggersBounds:l.any},{name:"source-text-margin-x",type:u.bidirectionalSize,triggersBounds:l.any},{name:"source-text-margin-y",type:u.bidirectionalSize,triggersBounds:l.any},{name:"source-text-offset",type:u.size,triggersBounds:l.any}],h=[{name:"target-label",type:u.text,triggersBounds:l.any},{name:"target-text-rotation",type:u.textRotation,triggersBounds:l.any},{name:"target-text-margin-x",type:u.bidirectionalSize,triggersBounds:l.any},{name:"target-text-margin-y",type:u.bidirectionalSize,triggersBounds:l.any},{name:"target-text-offset",type:u.size,triggersBounds:l.any}],d=[{name:"font-family",type:u.fontFamily,triggersBounds:l.any},{name:"font-style",type:u.fontStyle,triggersBounds:l.any},{name:"font-weight",type:u.fontWeight,triggersBounds:l.any},{name:"font-size",type:u.size,triggersBounds:l.any},{name:"text-transform",type:u.textTransform,triggersBounds:l.any},{name:"text-wrap",type:u.textWrap,triggersBounds:l.any},{name:"text-overflow-wrap",type:u.textOverflowWrap,triggersBounds:l.any},{name:"text-max-width",type:u.size,triggersBounds:l.any},{name:"text-outline-width",type:u.size,triggersBounds:l.any},{name:"line-height",type:u.positiveNumber,triggersBounds:l.any}],p=[{name:"text-valign",type:u.valign,triggersBounds:l.any},{name:"text-halign",type:u.halign,triggersBounds:l.any},{name:"color",type:u.color},{name:"text-outline-color",type:u.color},{name:"text-outline-opacity",type:u.zeroOneNumber},{name:"text-background-color",type:u.color},{name:"text-background-opacity",type:u.zeroOneNumber},{name:"text-background-padding",type:u.size,triggersBounds:l.any},{name:"text-border-opacity",type:u.zeroOneNumber},{name:"text-border-color",type:u.color},{name:"text-border-width",type:u.size,triggersBounds:l.any},{name:"text-border-style",type:u.borderStyle,triggersBounds:l.any},{name:"text-background-shape",type:u.textBackgroundShape,triggersBounds:l.any},{name:"text-justification",type:u.justification},{name:"box-select-labels",type:u.bool,triggersBounds:l.any}],v=[{name:"events",type:u.bool,triggersZOrder:l.any},{name:"text-events",type:u.bool,triggersZOrder:l.any}],x=[{name:"display",type:u.display,triggersZOrder:l.any,triggersBounds:l.any,triggersBoundsOfConnectedEdges:l.any,triggersBoundsOfParallelEdges:function(ge,me,Ee){return ge===me?!1:Ee.pstyle("curve-style").value==="bezier"}},{name:"visibility",type:u.visibility,triggersZOrder:l.any},{name:"opacity",type:u.zeroOneNumber,triggersZOrder:l.zeroNonZero},{name:"text-opacity",type:u.zeroOneNumber},{name:"min-zoomed-font-size",type:u.size},{name:"z-compound-depth",type:u.zCompoundDepth,triggersZOrder:l.any},{name:"z-index-compare",type:u.zIndexCompare,triggersZOrder:l.any},{name:"z-index",type:u.number,triggersZOrder:l.any}],y=[{name:"overlay-padding",type:u.size,triggersBounds:l.any},{name:"overlay-color",type:u.color},{name:"overlay-opacity",type:u.zeroOneNumber,triggersBounds:l.zeroNonZero},{name:"overlay-shape",type:u.overlayShape,triggersBounds:l.any},{name:"overlay-corner-radius",type:u.cornerRadius}],w=[{name:"underlay-padding",type:u.size,triggersBounds:l.any},{name:"underlay-color",type:u.color},{name:"underlay-opacity",type:u.zeroOneNumber,triggersBounds:l.zeroNonZero},{name:"underlay-shape",type:u.overlayShape,triggersBounds:l.any},{name:"underlay-corner-radius",type:u.cornerRadius}],k=[{name:"transition-property",type:u.propList},{name:"transition-duration",type:u.time},{name:"transition-delay",type:u.time},{name:"transition-timing-function",type:u.easing}],_=function(ge,me){return me.value==="label"?-ge.poolIndex():me.pfValue},C=[{name:"height",type:u.nodeSize,triggersBounds:l.any,hashOverride:_},{name:"width",type:u.nodeSize,triggersBounds:l.any,hashOverride:_},{name:"shape",type:u.nodeShape,triggersBounds:l.any},{name:"shape-polygon-points",type:u.polygonPointList,triggersBounds:l.any},{name:"corner-radius",type:u.cornerRadius},{name:"background-color",type:u.color},{name:"background-fill",type:u.fill},{name:"background-opacity",type:u.zeroOneNumber},{name:"background-blacken",type:u.nOneOneNumber},{name:"background-gradient-stop-colors",type:u.colors},{name:"background-gradient-stop-positions",type:u.percentages},{name:"background-gradient-direction",type:u.gradientDirection},{name:"padding",type:u.sizeMaybePercent,triggersBounds:l.any},{name:"padding-relative-to",type:u.paddingRelativeTo,triggersBounds:l.any},{name:"bounds-expansion",type:u.boundsExpansion,triggersBounds:l.any}],T=[{name:"border-color",type:u.color},{name:"border-opacity",type:u.zeroOneNumber},{name:"border-width",type:u.size,triggersBounds:l.any},{name:"border-style",type:u.borderStyle},{name:"border-cap",type:u.lineCap},{name:"border-join",type:u.lineJoin},{name:"border-dash-pattern",type:u.numbers},{name:"border-dash-offset",type:u.number},{name:"border-position",type:u.linePosition}],E=[{name:"outline-color",type:u.color},{name:"outline-opacity",type:u.zeroOneNumber},{name:"outline-width",type:u.size,triggersBounds:l.any},{name:"outline-style",type:u.borderStyle},{name:"outline-offset",type:u.size,triggersBounds:l.any}],A=[{name:"background-image",type:u.urls},{name:"background-image-crossorigin",type:u.bgCrossOrigin},{name:"background-image-opacity",type:u.zeroOneNumbers},{name:"background-image-containment",type:u.bgContainment},{name:"background-image-smoothing",type:u.bools},{name:"background-position-x",type:u.bgPos},{name:"background-position-y",type:u.bgPos},{name:"background-width-relative-to",type:u.bgRelativeTo},{name:"background-height-relative-to",type:u.bgRelativeTo},{name:"background-repeat",type:u.bgRepeat},{name:"background-fit",type:u.bgFit},{name:"background-clip",type:u.bgClip},{name:"background-width",type:u.bgWH},{name:"background-height",type:u.bgWH},{name:"background-offset-x",type:u.bgPos},{name:"background-offset-y",type:u.bgPos}],R=[{name:"position",type:u.position,triggersBounds:l.any},{name:"compound-sizing-wrt-labels",type:u.compoundIncludeLabels,triggersBounds:l.any},{name:"min-width",type:u.size,triggersBounds:l.any},{name:"min-width-bias-left",type:u.sizeMaybePercent,triggersBounds:l.any},{name:"min-width-bias-right",type:u.sizeMaybePercent,triggersBounds:l.any},{name:"min-height",type:u.size,triggersBounds:l.any},{name:"min-height-bias-top",type:u.sizeMaybePercent,triggersBounds:l.any},{name:"min-height-bias-bottom",type:u.sizeMaybePercent,triggersBounds:l.any}],D=[{name:"line-style",type:u.lineStyle},{name:"line-color",type:u.color},{name:"line-fill",type:u.fill},{name:"line-cap",type:u.lineCap},{name:"line-opacity",type:u.zeroOneNumber},{name:"line-dash-pattern",type:u.numbers},{name:"line-dash-offset",type:u.number},{name:"line-outline-width",type:u.size},{name:"line-outline-color",type:u.color},{name:"line-gradient-stop-colors",type:u.colors},{name:"line-gradient-stop-positions",type:u.percentages},{name:"curve-style",type:u.curveStyle,triggersBounds:l.any,triggersBoundsOfParallelEdges:function(ge,me){return ge===me?!1:ge==="bezier"||me==="bezier"}},{name:"haystack-radius",type:u.zeroOneNumber,triggersBounds:l.any},{name:"source-endpoint",type:u.edgeEndpoint,triggersBounds:l.any},{name:"target-endpoint",type:u.edgeEndpoint,triggersBounds:l.any},{name:"control-point-step-size",type:u.size,triggersBounds:l.any},{name:"control-point-distances",type:u.bidirectionalSizes,triggersBounds:l.any},{name:"control-point-weights",type:u.numbers,triggersBounds:l.any},{name:"segment-distances",type:u.bidirectionalSizes,triggersBounds:l.any},{name:"segment-weights",type:u.numbers,triggersBounds:l.any},{name:"segment-radii",type:u.numbers,triggersBounds:l.any},{name:"radius-type",type:u.radiusType,triggersBounds:l.any},{name:"taxi-turn",type:u.bidirectionalSizeMaybePercent,triggersBounds:l.any},{name:"taxi-turn-min-distance",type:u.size,triggersBounds:l.any},{name:"taxi-direction",type:u.axisDirection,triggersBounds:l.any},{name:"taxi-radius",type:u.number,triggersBounds:l.any},{name:"edge-distances",type:u.edgeDistances,triggersBounds:l.any},{name:"arrow-scale",type:u.positiveNumber,triggersBounds:l.any},{name:"loop-direction",type:u.angle,triggersBounds:l.any},{name:"loop-sweep",type:u.angle,triggersBounds:l.any},{name:"source-distance-from-node",type:u.size,triggersBounds:l.any},{name:"target-distance-from-node",type:u.size,triggersBounds:l.any}],N=[{name:"ghost",type:u.bool,triggersBounds:l.any},{name:"ghost-offset-x",type:u.bidirectionalSize,triggersBounds:l.any},{name:"ghost-offset-y",type:u.bidirectionalSize,triggersBounds:l.any},{name:"ghost-opacity",type:u.zeroOneNumber}],z=[{name:"selection-box-color",type:u.color},{name:"selection-box-opacity",type:u.zeroOneNumber},{name:"selection-box-border-color",type:u.color},{name:"selection-box-border-width",type:u.size},{name:"active-bg-color",type:u.color},{name:"active-bg-opacity",type:u.zeroOneNumber},{name:"active-bg-size",type:u.size},{name:"outside-texture-bg-color",type:u.color},{name:"outside-texture-bg-opacity",type:u.zeroOneNumber}],j=[];Wn.pieBackgroundN=16,j.push({name:"pie-size",type:u.sizeMaybePercent}),j.push({name:"pie-hole",type:u.sizeMaybePercent}),j.push({name:"pie-start-angle",type:u.angle});for(var V=1;V<=Wn.pieBackgroundN;V++)j.push({name:"pie-"+V+"-background-color",type:u.color}),j.push({name:"pie-"+V+"-background-size",type:u.percent}),j.push({name:"pie-"+V+"-background-opacity",type:u.zeroOneNumber});var Y=[];Wn.stripeBackgroundN=16,Y.push({name:"stripe-size",type:u.sizeMaybePercent}),Y.push({name:"stripe-direction",type:u.axisDirectionPrimary});for(var Z=1;Z<=Wn.stripeBackgroundN;Z++)Y.push({name:"stripe-"+Z+"-background-color",type:u.color}),Y.push({name:"stripe-"+Z+"-background-size",type:u.percent}),Y.push({name:"stripe-"+Z+"-background-opacity",type:u.zeroOneNumber});var X=[],G=Wn.arrowPrefixes=["source","mid-source","target","mid-target"];[{name:"arrow-shape",type:u.arrowShape,triggersBounds:l.any},{name:"arrow-color",type:u.color},{name:"arrow-fill",type:u.arrowFill},{name:"arrow-width",type:u.arrowWidth}].forEach(function(ce){G.forEach(function(ge){var me=ge+"-"+ce.name,Ee=ce.type,je=ce.triggersBounds;X.push({name:me,type:Ee,triggersBounds:je})})},{});var ee=Wn.properties=[].concat(v,k,x,y,w,N,p,d,c,f,h,C,T,E,A,j,Y,R,D,X,z),B=Wn.propertyGroups={behavior:v,transition:k,visibility:x,overlay:y,underlay:w,ghost:N,commonLabel:p,labelDimensions:d,mainLabel:c,sourceLabel:f,targetLabel:h,nodeBody:C,nodeBorder:T,nodeOutline:E,backgroundImage:A,pie:j,stripe:Y,compound:R,edgeLine:D,edgeArrow:X,core:z},K=Wn.propertyGroupNames={},J=Wn.propertyGroupKeys=Object.keys(B);J.forEach(function(ce){K[ce]=B[ce].map(function(ge){return ge.name}),B[ce].forEach(function(ge){return ge.groupKey=ce})});var q=Wn.aliases=[{name:"content",pointsTo:"label"},{name:"control-point-distance",pointsTo:"control-point-distances"},{name:"control-point-weight",pointsTo:"control-point-weights"},{name:"segment-distance",pointsTo:"segment-distances"},{name:"segment-weight",pointsTo:"segment-weights"},{name:"segment-radius",pointsTo:"segment-radii"},{name:"edge-text-rotation",pointsTo:"text-rotation"},{name:"padding-left",pointsTo:"padding"},{name:"padding-right",pointsTo:"padding"},{name:"padding-top",pointsTo:"padding"},{name:"padding-bottom",pointsTo:"padding"}];Wn.propertyNames=ee.map(function(ce){return ce.name});for(var he=0;he<ee.length;he++){var de=ee[he];ee[de.name]=de}for(var oe=0;oe<q.length;oe++){var ke=q[oe],Ae=ee[ke.pointsTo],Se={name:ke.name,alias:!0,pointsTo:Ae};ee.push(Se),ee[ke.name]=Se}})();Wn.getDefaultProperty=function(e){return this.getDefaultProperties()[e]};Wn.getDefaultProperties=function(){var e=this._private;if(e.defaultProperties!=null)return e.defaultProperties;for(var t=ot({"selection-box-color":"#ddd","selection-box-opacity":.65,"selection-box-border-color":"#aaa","selection-box-border-width":1,"active-bg-color":"black","active-bg-opacity":.15,"active-bg-size":30,"outside-texture-bg-color":"#000","outside-texture-bg-opacity":.125,events:"yes","text-events":"no","text-valign":"top","text-halign":"center","text-justification":"auto","line-height":1,color:"#000","text-outline-color":"#000","text-outline-width":0,"text-outline-opacity":1,"text-opacity":1,"text-decoration":"none","text-transform":"none","text-wrap":"none","text-overflow-wrap":"whitespace","text-max-width":9999,"text-background-color":"#000","text-background-opacity":0,"text-background-shape":"rectangle","text-background-padding":0,"text-border-opacity":0,"text-border-width":0,"text-border-style":"solid","text-border-color":"#000","font-family":"Helvetica Neue, Helvetica, sans-serif","font-style":"normal","font-weight":"normal","font-size":16,"min-zoomed-font-size":0,"text-rotation":"none","source-text-rotation":"none","target-text-rotation":"none",visibility:"visible",display:"element",opacity:1,"z-compound-depth":"auto","z-index-compare":"auto","z-index":0,label:"","text-margin-x":0,"text-margin-y":0,"source-label":"","source-text-offset":0,"source-text-margin-x":0,"source-text-margin-y":0,"target-label":"","target-text-offset":0,"target-text-margin-x":0,"target-text-margin-y":0,"overlay-opacity":0,"overlay-color":"#000","overlay-padding":10,"overlay-shape":"round-rectangle","overlay-corner-radius":"auto","underlay-opacity":0,"underlay-color":"#000","underlay-padding":10,"underlay-shape":"round-rectangle","underlay-corner-radius":"auto","transition-property":"none","transition-duration":0,"transition-delay":0,"transition-timing-function":"linear","box-select-labels":"no","background-blacken":0,"background-color":"#999","background-fill":"solid","background-opacity":1,"background-image":"none","background-image-crossorigin":"anonymous","background-image-opacity":1,"background-image-containment":"inside","background-image-smoothing":"yes","background-position-x":"50%","background-position-y":"50%","background-offset-x":0,"background-offset-y":0,"background-width-relative-to":"include-padding","background-height-relative-to":"include-padding","background-repeat":"no-repeat","background-fit":"none","background-clip":"node","background-width":"auto","background-height":"auto","border-color":"#000","border-opacity":1,"border-width":0,"border-style":"solid","border-dash-pattern":[4,2],"border-dash-offset":0,"border-cap":"butt","border-join":"miter","border-position":"center","outline-color":"#999","outline-opacity":1,"outline-width":0,"outline-offset":0,"outline-style":"solid",height:30,width:30,shape:"ellipse","shape-polygon-points":"-1, -1,   1, -1,   1, 1,   -1, 1","corner-radius":"auto","bounds-expansion":0,"background-gradient-direction":"to-bottom","background-gradient-stop-colors":"#999","background-gradient-stop-positions":"0%",ghost:"no","ghost-offset-y":0,"ghost-offset-x":0,"ghost-opacity":0,padding:0,"padding-relative-to":"width",position:"origin","compound-sizing-wrt-labels":"include","min-width":0,"min-width-bias-left":0,"min-width-bias-right":0,"min-height":0,"min-height-bias-top":0,"min-height-bias-bottom":0},{"pie-size":"100%","pie-hole":0,"pie-start-angle":"0deg"},[{name:"pie-{{i}}-background-color",value:"black"},{name:"pie-{{i}}-background-size",value:"0%"},{name:"pie-{{i}}-background-opacity",value:1}].reduce(function(l,u){for(var c=1;c<=Wn.pieBackgroundN;c++){var f=u.name.replace("{{i}}",c),h=u.value;l[f]=h}return l},{}),{"stripe-size":"100%","stripe-direction":"horizontal"},[{name:"stripe-{{i}}-background-color",value:"black"},{name:"stripe-{{i}}-background-size",value:"0%"},{name:"stripe-{{i}}-background-opacity",value:1}].reduce(function(l,u){for(var c=1;c<=Wn.stripeBackgroundN;c++){var f=u.name.replace("{{i}}",c),h=u.value;l[f]=h}return l},{}),{"line-style":"solid","line-color":"#999","line-fill":"solid","line-cap":"butt","line-opacity":1,"line-outline-width":0,"line-outline-color":"#000","line-gradient-stop-colors":"#999","line-gradient-stop-positions":"0%","control-point-step-size":40,"control-point-weights":.5,"segment-weights":.5,"segment-distances":20,"segment-radii":15,"radius-type":"arc-radius","taxi-turn":"50%","taxi-radius":15,"taxi-turn-min-distance":10,"taxi-direction":"auto","edge-distances":"intersection","curve-style":"haystack","haystack-radius":0,"arrow-scale":1,"loop-direction":"-45deg","loop-sweep":"-90deg","source-distance-from-node":0,"target-distance-from-node":0,"source-endpoint":"outside-to-node","target-endpoint":"outside-to-node","line-dash-pattern":[6,3],"line-dash-offset":0},[{name:"arrow-shape",value:"none"},{name:"arrow-color",value:"#999"},{name:"arrow-fill",value:"filled"},{name:"arrow-width",value:1}].reduce(function(l,u){return Wn.arrowPrefixes.forEach(function(c){var f=c+"-"+u.name,h=u.value;l[f]=h}),l},{})),n={},r=0;r<this.properties.length;r++){var i=this.properties[r];if(!i.pointsTo){var a=i.name,s=t[a],o=this.parse(a,s);n[a]=o}}return e.defaultProperties=n,e.defaultProperties};Wn.addDefaultStylesheet=function(){this.selector(":parent").css({shape:"rectangle",padding:10,"background-color":"#eee","border-color":"#ccc","border-width":1}).selector("edge").css({width:3}).selector(":loop").css({"curve-style":"bezier"}).selector("edge:compound").css({"curve-style":"bezier","source-endpoint":"outside-to-line","target-endpoint":"outside-to-line"}).selector(":selected").css({"background-color":"#0169D9","line-color":"#0169D9","source-arrow-color":"#0169D9","target-arrow-color":"#0169D9","mid-source-arrow-color":"#0169D9","mid-target-arrow-color":"#0169D9"}).selector(":parent:selected").css({"background-color":"#CCE1F9","border-color":"#aec8e5"}).selector(":active").css({"overlay-color":"black","overlay-padding":10,"overlay-opacity":.25}),this.defaultLength=this.length};var Ug={};Ug.parse=function(e,t,n,r){var i=this;if(Mn(t))return i.parseImplWarn(e,t,n,r);var a=r==="mapping"||r===!0||r===!1||r==null?"dontcare":r,s=n?"t":"f",o=""+t,l=yM(e,o,s,a),u=i.propCache=i.propCache||[],c;return(c=u[l])||(c=u[l]=i.parseImplWarn(e,t,n,r)),(n||r==="mapping")&&(c=ca(c),c&&(c.value=ca(c.value))),c};Ug.parseImplWarn=function(e,t,n,r){var i=this.parseImpl(e,t,n,r);return!i&&t!=null&&Vt("The style property `".concat(e,": ").concat(t,"` is invalid")),i&&(i.name==="width"||i.name==="height")&&t==="label"&&Vt("The style value of `label` is deprecated for `"+i.name+"`"),i};Ug.parseImpl=function(e,t,n,r){var i=this;e=xb(e);var a=i.properties[e],s=t,o=i.types;if(!a||t===void 0)return null;a.alias&&(a=a.pointsTo,e=a.name);var l=tt(t);l&&(t=t.trim());var u=a.type;if(!u)return null;if(n&&(t===""||t===null))return{name:e,value:t,bypass:!0,deleteBypass:!0};if(Mn(t))return{name:e,value:t,strValue:"fn",mapped:o.fn,bypass:n};var c,f;if(!(!l||r||t.length<7||t[1]!=="a")){if(t.length>=7&&t[0]==="d"&&(c=new RegExp(o.data.regex).exec(t))){if(n)return!1;var h=o.data;return{name:e,value:c,strValue:""+t,mapped:h,field:c[1],bypass:n}}else if(t.length>=10&&t[0]==="m"&&(f=new RegExp(o.mapData.regex).exec(t))){if(n||u.multiple)return!1;var d=o.mapData;if(!(u.color||u.number))return!1;var p=this.parse(e,f[4]);if(!p||p.mapped)return!1;var v=this.parse(e,f[5]);if(!v||v.mapped)return!1;if(p.pfValue===v.pfValue||p.strValue===v.strValue)return Vt("`"+e+": "+t+"` is not a valid mapper because the output range is zero; converting to `"+e+": "+p.strValue+"`"),this.parse(e,p.strValue);if(u.color){var x=p.value,y=v.value,w=x[0]===y[0]&&x[1]===y[1]&&x[2]===y[2]&&(x[3]===y[3]||(x[3]==null||x[3]===1)&&(y[3]==null||y[3]===1));if(w)return!1}return{name:e,value:f,strValue:""+t,mapped:d,field:f[1],fieldMin:parseFloat(f[2]),fieldMax:parseFloat(f[3]),valueMin:p.value,valueMax:v.value,bypass:n}}}if(u.multiple&&r!=="multiple"){var k;if(l?k=t.split(/\s+/):en(t)?k=t:k=[t],u.evenMultiple&&k.length%2!==0)return null;for(var _=[],C=[],T=[],E="",A=!1,R=0;R<k.length;R++){var D=i.parse(e,k[R],n,"multiple");A=A||tt(D.value),_.push(D.value),T.push(D.pfValue!=null?D.pfValue:D.value),C.push(D.units),E+=(R>0?" ":"")+D.strValue}return u.validate&&!u.validate(_,C)?null:u.singleEnum&&A?_.length===1&&tt(_[0])?{name:e,value:_[0],strValue:_[0],bypass:n}:null:{name:e,value:_,pfValue:T,strValue:E,bypass:n,units:C}}var N=function(){for(var Se=0;Se<u.enums.length;Se++){var ce=u.enums[Se];if(ce===t)return{name:e,value:t,strValue:""+t,bypass:n}}return null};if(u.number){var z,j="px";if(u.units&&(z=u.units),u.implicitUnits&&(j=u.implicitUnits),!u.unitless)if(l){var V="px|em"+(u.allowPercent?"|\\%":"");z&&(V=z);var Y=t.match("^("+rr+")("+V+")?$");Y&&(t=Y[1],z=Y[2]||j)}else(!z||u.implicitUnits)&&(z=j);if(t=parseFloat(t),isNaN(t)&&u.enums===void 0)return null;if(isNaN(t)&&u.enums!==void 0)return t=s,N();if(u.integer&&!AJ(t)||u.min!==void 0&&(t<u.min||u.strictMin&&t===u.min)||u.max!==void 0&&(t>u.max||u.strictMax&&t===u.max))return null;var Z={name:e,value:t,strValue:""+t+(z||""),units:z,bypass:n};return u.unitless||z!=="px"&&z!=="em"?Z.pfValue=t:Z.pfValue=z==="px"||!z?t:this.getEmSizeInPixels()*t,(z==="ms"||z==="s")&&(Z.pfValue=z==="ms"?t:1e3*t),(z==="deg"||z==="rad")&&(Z.pfValue=z==="rad"?t:zee(t)),z==="%"&&(Z.pfValue=t/100),Z}else if(u.propList){var X=[],G=""+t;if(G!=="none"){for(var ee=G.split(/\s*,\s*|\s+/),B=0;B<ee.length;B++){var K=ee[B].trim();i.properties[K]?X.push(K):Vt("`"+K+"` is not a valid property name")}if(X.length===0)return null}return{name:e,value:X,strValue:X.length===0?"none":X.join(" "),bypass:n}}else if(u.color){var J=fM(t);return J?{name:e,value:J,pfValue:J,strValue:"rgb("+J[0]+","+J[1]+","+J[2]+")",bypass:n}:null}else if(u.regex||u.regexes){if(u.enums){var q=N();if(q)return q}for(var he=u.regexes?u.regexes:[u.regex],de=0;de<he.length;de++){var oe=new RegExp(he[de]),ke=oe.exec(t);if(ke)return{name:e,value:u.singleRegexMatchValue?ke[1]:ke,strValue:""+t,bypass:n}}return null}else return u.string?{name:e,value:""+t,strValue:""+t,bypass:n}:u.enums?N():null};var hr=function(t){if(!(this instanceof hr))return new hr(t);if(!yb(t)){Tn("A style must have a core reference");return}this._private={cy:t,coreStyle:{}},this.length=0,this.resetToDefault()},Er=hr.prototype;Er.instanceString=function(){return"style"};Er.clear=function(){for(var e=this._private,t=e.cy,n=t.elements(),r=0;r<this.length;r++)this[r]=void 0;return this.length=0,e.contextStyles={},e.propDiffs={},this.cleanElements(n,!0),n.forEach(function(i){var a=i[0]._private;a.styleDirty=!0,a.appliedInitStyle=!1}),this};Er.resetToDefault=function(){return this.clear(),this.addDefaultStylesheet(),this};Er.core=function(e){return this._private.coreStyle[e]||this.getDefaultProperty(e)};Er.selector=function(e){var t=e==="core"?null:new Hs(e),n=this.length++;return this[n]={selector:t,properties:[],mappedProperties:[],index:n},this};Er.css=function(){var e=this,t=arguments;if(t.length===1)for(var n=t[0],r=0;r<e.properties.length;r++){var i=e.properties[r],a=n[i.name];a===void 0&&(a=n[Dg(i.name)]),a!==void 0&&this.cssRule(i.name,a)}else t.length===2&&this.cssRule(t[0],t[1]);return this};Er.style=Er.css;Er.cssRule=function(e,t){var n=this.parse(e,t);if(n){var r=this.length-1;this[r].properties.push(n),this[r].properties[n.name]=n,n.name.match(/pie-(\d+)-background-size/)&&n.value&&(this._private.hasPie=!0),n.name.match(/stripe-(\d+)-background-size/)&&n.value&&(this._private.hasStripe=!0),n.mapped&&this[r].mappedProperties.push(n);var i=!this[r].selector;i&&(this._private.coreStyle[n.name]=n)}return this};Er.append=function(e){return lM(e)?e.appendToStyle(this):en(e)?this.appendFromJson(e):tt(e)&&this.appendFromString(e),this};hr.fromJson=function(e,t){var n=new hr(e);return n.fromJson(t),n};hr.fromString=function(e,t){return new hr(e).fromString(t)};[dr,v0,Ob,ga,Vg,Rb,Wn,Ug].forEach(function(e){ot(Er,e)});hr.types=Er.types;hr.properties=Er.properties;hr.propertyGroups=Er.propertyGroups;hr.propertyGroupNames=Er.propertyGroupNames;hr.propertyGroupKeys=Er.propertyGroupKeys;var jre={style:function(t){if(t){var n=this.setStyle(t);n.update()}return this._private.style},setStyle:function(t){var n=this._private;return lM(t)?n.style=t.generateStyle(this):en(t)?n.style=hr.fromJson(this,t):tt(t)?n.style=hr.fromString(this,t):n.style=hr(this),n.style},updateStyle:function(){this.mutableElements().updateStyle()}},qre="single",Qo={autolock:function(t){if(t!==void 0)this._private.autolock=!!t;else return this._private.autolock;return this},autoungrabify:function(t){if(t!==void 0)this._private.autoungrabify=!!t;else return this._private.autoungrabify;return this},autounselectify:function(t){if(t!==void 0)this._private.autounselectify=!!t;else return this._private.autounselectify;return this},selectionType:function(t){var n=this._private;if(n.selectionType==null&&(n.selectionType=qre),t!==void 0)(t==="additive"||t==="single")&&(n.selectionType=t);else return n.selectionType;return this},panningEnabled:function(t){if(t!==void 0)this._private.panningEnabled=!!t;else return this._private.panningEnabled;return this},userPanningEnabled:function(t){if(t!==void 0)this._private.userPanningEnabled=!!t;else return this._private.userPanningEnabled;return this},zoomingEnabled:function(t){if(t!==void 0)this._private.zoomingEnabled=!!t;else return this._private.zoomingEnabled;return this},userZoomingEnabled:function(t){if(t!==void 0)this._private.userZoomingEnabled=!!t;else return this._private.userZoomingEnabled;return this},boxSelectionEnabled:function(t){if(t!==void 0)this._private.boxSelectionEnabled=!!t;else return this._private.boxSelectionEnabled;return this},pan:function(){var t=arguments,n=this._private.pan,r,i,a,s,o;switch(t.length){case 0:return n;case 1:if(tt(t[0]))return r=t[0],n[r];if(Ot(t[0])){if(!this._private.panningEnabled)return this;a=t[0],s=a.x,o=a.y,ze(s)&&(n.x=s),ze(o)&&(n.y=o),this.emit("pan viewport")}break;case 2:if(!this._private.panningEnabled)return this;r=t[0],i=t[1],(r==="x"||r==="y")&&ze(i)&&(n[r]=i),this.emit("pan viewport");break}return this.notify("viewport"),this},panBy:function(t,n){var r=arguments,i=this._private.pan,a,s,o,l,u;if(!this._private.panningEnabled)return this;switch(r.length){case 1:Ot(t)&&(o=r[0],l=o.x,u=o.y,ze(l)&&(i.x+=l),ze(u)&&(i.y+=u),this.emit("pan viewport"));break;case 2:a=t,s=n,(a==="x"||a==="y")&&ze(s)&&(i[a]+=s),this.emit("pan viewport");break}return this.notify("viewport"),this},gc:function(){this.notify("gc")},fit:function(t,n){var r=this.getFitViewport(t,n);if(r){var i=this._private;i.zoom=r.zoom,i.pan=r.pan,this.emit("pan zoom viewport"),this.notify("viewport")}return this},getFitViewport:function(t,n){if(ze(t)&&n===void 0&&(n=t,t=void 0),!(!this._private.panningEnabled||!this._private.zoomingEnabled)){var r;if(tt(t)){var i=t;t=this.$(i)}else if(LJ(t)){var a=t;r={x1:a.x1,y1:a.y1,x2:a.x2,y2:a.y2},r.w=r.x2-r.x1,r.h=r.y2-r.y1}else ui(t)||(t=this.mutableElements());if(!(ui(t)&&t.empty())){r=r||t.boundingBox();var s=this.width(),o=this.height(),l;if(n=ze(n)?n:0,!isNaN(s)&&!isNaN(o)&&s>0&&o>0&&!isNaN(r.w)&&!isNaN(r.h)&&r.w>0&&r.h>0){l=Math.min((s-2*n)/r.w,(o-2*n)/r.h),l=l>this._private.maxZoom?this._private.maxZoom:l,l=l<this._private.minZoom?this._private.minZoom:l;var u={x:(s-l*(r.x1+r.x2))/2,y:(o-l*(r.y1+r.y2))/2};return{zoom:l,pan:u}}}}},zoomRange:function(t,n){var r=this._private;if(n==null){var i=t;t=i.min,n=i.max}return ze(t)&&ze(n)&&t<=n?(r.minZoom=t,r.maxZoom=n):ze(t)&&n===void 0&&t<=r.maxZoom?r.minZoom=t:ze(n)&&t===void 0&&n>=r.minZoom&&(r.maxZoom=n),this},minZoom:function(t){return t===void 0?this._private.minZoom:this.zoomRange({min:t})},maxZoom:function(t){return t===void 0?this._private.maxZoom:this.zoomRange({max:t})},getZoomedViewport:function(t){var n=this._private,r=n.pan,i=n.zoom,a,s,o=!1;if(n.zoomingEnabled||(o=!0),ze(t)?s=t:Ot(t)&&(s=t.level,t.position!=null?a=Og(t.position,i,r):t.renderedPosition!=null&&(a=t.renderedPosition),a!=null&&!n.panningEnabled&&(o=!0)),s=s>n.maxZoom?n.maxZoom:s,s=s<n.minZoom?n.minZoom:s,o||!ze(s)||s===i||a!=null&&(!ze(a.x)||!ze(a.y)))return null;if(a!=null){var l=r,u=i,c=s,f={x:-c/u*(a.x-l.x)+a.x,y:-c/u*(a.y-l.y)+a.y};return{zoomed:!0,panned:!0,zoom:c,pan:f}}else return{zoomed:!0,panned:!1,zoom:s,pan:r}},zoom:function(t){if(t===void 0)return this._private.zoom;var n=this.getZoomedViewport(t),r=this._private;return n==null||!n.zoomed?this:(r.zoom=n.zoom,n.panned&&(r.pan.x=n.pan.x,r.pan.y=n.pan.y),this.emit("zoom"+(n.panned?" pan":"")+" viewport"),this.notify("viewport"),this)},viewport:function(t){var n=this._private,r=!0,i=!0,a=[],s=!1,o=!1;if(!t)return this;if(ze(t.zoom)||(r=!1),Ot(t.pan)||(i=!1),!r&&!i)return this;if(r){var l=t.zoom;l<n.minZoom||l>n.maxZoom||!n.zoomingEnabled?s=!0:(n.zoom=l,a.push("zoom"))}if(i&&(!s||!t.cancelOnFailedZoom)&&n.panningEnabled){var u=t.pan;ze(u.x)&&(n.pan.x=u.x,o=!1),ze(u.y)&&(n.pan.y=u.y,o=!1),o||a.push("pan")}return a.length>0&&(a.push("viewport"),this.emit(a.join(" ")),this.notify("viewport")),this},center:function(t){var n=this.getCenterPan(t);return n&&(this._private.pan=n,this.emit("pan viewport"),this.notify("viewport")),this},getCenterPan:function(t,n){if(this._private.panningEnabled){if(tt(t)){var r=t;t=this.mutableElements().filter(r)}else ui(t)||(t=this.mutableElements());if(t.length!==0){var i=t.boundingBox(),a=this.width(),s=this.height();n=n===void 0?this._private.zoom:n;var o={x:(a-n*(i.x1+i.x2))/2,y:(s-n*(i.y1+i.y2))/2};return o}}},reset:function(){return!this._private.panningEnabled||!this._private.zoomingEnabled?this:(this.viewport({pan:{x:0,y:0},zoom:1}),this)},invalidateSize:function(){this._private.sizeCache=null},size:function(){var t=this._private,n=t.container,r=this;return t.sizeCache=t.sizeCache||(n?function(){var i=r.window().getComputedStyle(n),a=function(o){return parseFloat(i.getPropertyValue(o))};return{width:n.clientWidth-a("padding-left")-a("padding-right"),height:n.clientHeight-a("padding-top")-a("padding-bottom")}}():{width:1,height:1})},width:function(){return this.size().width},height:function(){return this.size().height},extent:function(){var t=this._private.pan,n=this._private.zoom,r=this.renderedExtent(),i={x1:(r.x1-t.x)/n,x2:(r.x2-t.x)/n,y1:(r.y1-t.y)/n,y2:(r.y2-t.y)/n};return i.w=i.x2-i.x1,i.h=i.y2-i.y1,i},renderedExtent:function(){var t=this.width(),n=this.height();return{x1:0,y1:0,x2:t,y2:n,w:t,h:n}},multiClickDebounceTime:function(t){if(t)this._private.multiClickDebounceTime=t;else return this._private.multiClickDebounceTime;return this}};Qo.centre=Qo.center;Qo.autolockNodes=Qo.autolock;Qo.autoungrabifyNodes=Qo.autoungrabify;var Hf={data:Ht.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeData:Ht.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),scratch:Ht.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:Ht.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0})};Hf.attr=Hf.data;Hf.removeAttr=Hf.removeData;var Vf=function(t){var n=this;t=ot({},t);var r=t.container;r&&!bp(r)&&bp(r[0])&&(r=r[0]);var i=r?r._cyreg:null;i=i||{},i&&i.cy&&(i.cy.destroy(),i={});var a=i.readies=i.readies||[];r&&(r._cyreg=i),i.cy=n;var s=Jn!==void 0&&r!==void 0&&!t.headless,o=t;o.layout=ot({name:s?"grid":"null"},o.layout),o.renderer=ot({name:s?"canvas":"null"},o.renderer);var l=function(p,v,x){return v!==void 0?v:x!==void 0?x:p},u=this._private={container:r,ready:!1,options:o,elements:new vr(this),listeners:[],aniEles:new vr(this),data:o.data||{},scratch:{},layout:null,renderer:null,destroyed:!1,notificationsEnabled:!0,minZoom:1e-50,maxZoom:1e50,zoomingEnabled:l(!0,o.zoomingEnabled),userZoomingEnabled:l(!0,o.userZoomingEnabled),panningEnabled:l(!0,o.panningEnabled),userPanningEnabled:l(!0,o.userPanningEnabled),boxSelectionEnabled:l(!0,o.boxSelectionEnabled),autolock:l(!1,o.autolock,o.autolockNodes),autoungrabify:l(!1,o.autoungrabify,o.autoungrabifyNodes),autounselectify:l(!1,o.autounselectify),styleEnabled:o.styleEnabled===void 0?s:o.styleEnabled,zoom:ze(o.zoom)?o.zoom:1,pan:{x:Ot(o.pan)&&ze(o.pan.x)?o.pan.x:0,y:Ot(o.pan)&&ze(o.pan.y)?o.pan.y:0},animation:{current:[],queue:[]},hasCompoundNodes:!1,multiClickDebounceTime:l(250,o.multiClickDebounceTime)};this.createEmitter(),this.selectionType(o.selectionType),this.zoomRange({min:o.minZoom,max:o.maxZoom});var c=function(p,v){var x=p.some(OJ);if(x)return Hu.all(p).then(v);v(p)};u.styleEnabled&&n.setStyle([]);var f=ot({},o,o.renderer);n.initRenderer(f);var h=function(p,v,x){n.notifications(!1);var y=n.mutableElements();y.length>0&&y.remove(),p!=null&&(Ot(p)||en(p))&&n.add(p),n.one("layoutready",function(k){n.notifications(!0),n.emit(k),n.one("load",v),n.emitAndNotify("load")}).one("layoutstop",function(){n.one("done",x),n.emit("done")});var w=ot({},n._private.options.layout);w.eles=n.elements(),n.layout(w).run()};c([o.style,o.elements],function(d){var p=d[0],v=d[1];u.styleEnabled&&n.style().append(p),h(v,function(){n.startAnimationLoop(),u.ready=!0,Mn(o.ready)&&n.on("ready",o.ready);for(var x=0;x<a.length;x++){var y=a[x];n.on("ready",y)}i&&(i.readies=[]),n.emit("ready")},o.done)})},Ep=Vf.prototype;ot(Ep,{instanceString:function(){return"core"},isReady:function(){return this._private.ready},destroyed:function(){return this._private.destroyed},ready:function(t){return this.isReady()?this.emitter().emit("ready",[],t):this.on("ready",t),this},destroy:function(){var t=this;if(!t.destroyed())return t.stopAnimationLoop(),t.destroyRenderer(),this.emit("destroy"),t._private.destroyed=!0,t},hasElementWithId:function(t){return this._private.elements.hasElementWithId(t)},getElementById:function(t){return this._private.elements.getElementById(t)},hasCompoundNodes:function(){return this._private.hasCompoundNodes},headless:function(){return this._private.renderer.isHeadless()},styleEnabled:function(){return this._private.styleEnabled},addToPool:function(t){return this._private.elements.merge(t),this},removeFromPool:function(t){return this._private.elements.unmerge(t),this},container:function(){return this._private.container||null},window:function(){var t=this._private.container;if(t==null)return Jn;var n=this._private.container.ownerDocument;return n===void 0||n==null?Jn:n.defaultView||Jn},mount:function(t){if(t!=null){var n=this,r=n._private,i=r.options;return!bp(t)&&bp(t[0])&&(t=t[0]),n.stopAnimationLoop(),n.destroyRenderer(),r.container=t,r.styleEnabled=!0,n.invalidateSize(),n.initRenderer(ot({},i,i.renderer,{name:i.renderer.name==="null"?"canvas":i.renderer.name})),n.startAnimationLoop(),n.style(i.style),n.emit("mount"),n}},unmount:function(){var t=this;return t.stopAnimationLoop(),t.destroyRenderer(),t.initRenderer({name:"null"}),t.emit("unmount"),t},options:function(){return ca(this._private.options)},json:function(t){var n=this,r=n._private,i=n.mutableElements(),a=function(_){return n.getElementById(_.id())};if(Ot(t)){if(n.startBatch(),t.elements){var s={},o=function(_,C){for(var T=[],E=[],A=0;A<_.length;A++){var R=_[A];if(!R.data.id){Vt("cy.json() cannot handle elements without an ID attribute");continue}var D=""+R.data.id,N=n.getElementById(D);s[D]=!0,N.length!==0?E.push({ele:N,json:R}):(C&&(R.group=C),T.push(R))}n.add(T);for(var z=0;z<E.length;z++){var j=E[z],V=j.ele,Y=j.json;V.json(Y)}};if(en(t.elements))o(t.elements);else for(var l=["nodes","edges"],u=0;u<l.length;u++){var c=l[u],f=t.elements[c];en(f)&&o(f,c)}var h=n.collection();i.filter(function(k){return!s[k.id()]}).forEach(function(k){k.isParent()?h.merge(k):k.remove()}),h.forEach(function(k){return k.children().move({parent:null})}),h.forEach(function(k){return a(k).remove()})}t.style&&n.style(t.style),t.zoom!=null&&t.zoom!==r.zoom&&n.zoom(t.zoom),t.pan&&(t.pan.x!==r.pan.x||t.pan.y!==r.pan.y)&&n.pan(t.pan),t.data&&n.data(t.data);for(var d=["minZoom","maxZoom","zoomingEnabled","userZoomingEnabled","panningEnabled","userPanningEnabled","boxSelectionEnabled","autolock","autoungrabify","autounselectify","multiClickDebounceTime"],p=0;p<d.length;p++){var v=d[p];t[v]!=null&&n[v](t[v])}return n.endBatch(),this}else{var x=!!t,y={};x?y.elements=this.elements().map(function(k){return k.json()}):(y.elements={},i.forEach(function(k){var _=k.group();y.elements[_]||(y.elements[_]=[]),y.elements[_].push(k.json())})),this._private.styleEnabled&&(y.style=n.style().json()),y.data=ca(n.data());var w=r.options;return y.zoomingEnabled=r.zoomingEnabled,y.userZoomingEnabled=r.userZoomingEnabled,y.zoom=r.zoom,y.minZoom=r.minZoom,y.maxZoom=r.maxZoom,y.panningEnabled=r.panningEnabled,y.userPanningEnabled=r.userPanningEnabled,y.pan=ca(r.pan),y.boxSelectionEnabled=r.boxSelectionEnabled,y.renderer=ca(w.renderer),y.hideEdgesOnViewport=w.hideEdgesOnViewport,y.textureOnViewport=w.textureOnViewport,y.wheelSensitivity=w.wheelSensitivity,y.motionBlur=w.motionBlur,y.multiClickDebounceTime=w.multiClickDebounceTime,y}}});Ep.$id=Ep.getElementById;[Dre,Nre,sA,l4,xd,Bre,u4,bd,jre,Qo,Hf].forEach(function(e){ot(Ep,e)});var Hre={fit:!0,directed:!1,padding:30,circle:!1,grid:!1,spacingFactor:1.75,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,roots:void 0,depthSort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(t,n){return!0},ready:void 0,stop:void 0,transform:function(t,n){return n}},Vre={maximal:!1,acyclic:!1},kl=function(t){return t.scratch("breadthfirst")},S9=function(t,n){return t.scratch("breadthfirst",n)};function oA(e){this.options=ot({},Hre,Vre,e)}oA.prototype.run=function(){var e=this.options,t=e.cy,n=e.eles,r=n.nodes().filter(function(He){return He.isChildless()}),i=n,a=e.directed,s=e.acyclic||e.maximal||e.maximalAdjustments>0,o=!!e.boundingBox,l=t.extent(),u=Qr(o?e.boundingBox:{x1:l.x1,y1:l.y1,w:l.w,h:l.h}),c;if(ui(e.roots))c=e.roots;else if(en(e.roots)){for(var f=[],h=0;h<e.roots.length;h++){var d=e.roots[h],p=t.getElementById(d);f.push(p)}c=t.collection(f)}else if(tt(e.roots))c=t.$(e.roots);else if(a)c=r.roots();else{var v=n.components();c=t.collection();for(var x=function(){var $e=v[y],Qe=$e.maxDegree(!1),nt=$e.filter(function(Je){return Je.degree(!1)===Qe});c=c.add(nt)},y=0;y<v.length;y++)x()}var w=[],k={},_=function($e,Qe){w[Qe]==null&&(w[Qe]=[]);var nt=w[Qe].length;w[Qe].push($e),S9($e,{index:nt,depth:Qe})},C=function($e,Qe){var nt=kl($e),Je=nt.depth,rt=nt.index;w[Je][rt]=null,$e.isChildless()&&_($e,Qe)};i.bfs({roots:c,directed:e.directed,visit:function($e,Qe,nt,Je,rt){var lt=$e[0],bt=lt.id();lt.isChildless()&&_(lt,rt),k[bt]=!0}});for(var T=[],E=0;E<r.length;E++){var A=r[E];k[A.id()]||T.push(A)}var R=function($e){for(var Qe=w[$e],nt=0;nt<Qe.length;nt++){var Je=Qe[nt];if(Je==null){Qe.splice(nt,1),nt--;continue}S9(Je,{depth:$e,index:nt})}},D=function($e,Qe){for(var nt=kl($e),Je=$e.incomers().filter(function(Be){return Be.isNode()&&n.has(Be)}),rt=-1,lt=$e.id(),bt=0;bt<Je.length;bt++){var Bt=Je[bt],be=kl(Bt);rt=Math.max(rt,be.depth)}if(nt.depth<=rt){if(!e.acyclic&&Qe[lt])return null;var Te=rt+1;return C($e,Te),Qe[lt]=Te,!0}return!1};if(a&&s){var N=[],z={},j=function($e){return N.push($e)},V=function(){return N.shift()};for(r.forEach(function(He){return N.push(He)});N.length>0;){var Y=V(),Z=D(Y,z);if(Z)Y.outgoers().filter(function(He){return He.isNode()&&n.has(He)}).forEach(j);else if(Z===null){Vt("Detected double maximal shift for node `"+Y.id()+"`.  Bailing maximal adjustment due to cycle.  Use `options.maximal: true` only on DAGs.");break}}}var X=0;if(e.avoidOverlap)for(var G=0;G<r.length;G++){var ee=r[G],B=ee.layoutDimensions(e),K=B.w,J=B.h;X=Math.max(X,K,J)}var q={},he=function($e){if(q[$e.id()])return q[$e.id()];for(var Qe=kl($e).depth,nt=$e.neighborhood(),Je=0,rt=0,lt=0;lt<nt.length;lt++){var bt=nt[lt];if(!(bt.isEdge()||bt.isParent()||!r.has(bt))){var Bt=kl(bt);if(Bt!=null){var be=Bt.index,Te=Bt.depth;if(!(be==null||Te==null)){var Be=w[Te].length;Te<Qe&&(Je+=be/Be,rt++)}}}}return rt=Math.max(1,rt),Je=Je/rt,rt===0&&(Je=0),q[$e.id()]=Je,Je},de=function($e,Qe){var nt=he($e),Je=he(Qe),rt=nt-Je;return rt===0?cM($e.id(),Qe.id()):rt};e.depthSort!==void 0&&(de=e.depthSort);for(var oe=w.length,ke=0;ke<oe;ke++)w[ke].sort(de),R(ke);for(var Ae=[],Se=0;Se<T.length;Se++)Ae.push(T[Se]);var ce=function(){for(var $e=0;$e<oe;$e++)R($e)};Ae.length&&(w.unshift(Ae),oe=w.length,ce());for(var ge=0,me=0;me<oe;me++)ge=Math.max(w[me].length,ge);var Ee={x:u.x1+u.w/2,y:u.y1+u.h/2},je=r.reduce(function(He,$e){return function(Qe){return{w:He.w===-1?Qe.w:(He.w+Qe.w)/2,h:He.h===-1?Qe.h:(He.h+Qe.h)/2}}($e.boundingBox({includeLabels:e.nodeDimensionsIncludeLabels}))},{w:-1,h:-1}),ct=Math.max(oe===1?0:o?(u.h-e.padding*2-je.h)/(oe-1):(u.h-e.padding*2-je.h)/(oe+1),X),zt=w.reduce(function(He,$e){return Math.max(He,$e.length)},0),Tt=function($e){var Qe=kl($e),nt=Qe.depth,Je=Qe.index;if(e.circle){var rt=Math.min(u.w/2/oe,u.h/2/oe);rt=Math.max(rt,X);var lt=rt*nt+rt-(oe>0&&w[0].length<=3?rt/2:0),bt=2*Math.PI/w[nt].length*Je;return nt===0&&w[0].length===1&&(lt=1),{x:Ee.x+lt*Math.cos(bt),y:Ee.y+lt*Math.sin(bt)}}else{var Bt=w[nt].length,be=Math.max(Bt===1?0:o?(u.w-e.padding*2-je.w)/((e.grid?zt:Bt)-1):(u.w-e.padding*2-je.w)/((e.grid?zt:Bt)+1),X),Te={x:Ee.x+(Je+1-(Bt+1)/2)*be,y:Ee.y+(nt+1-(oe+1)/2)*ct};return Te}};return n.nodes().layoutPositions(this,e,Tt),this};var Ure={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,radius:void 0,startAngle:3/2*Math.PI,sweep:void 0,clockwise:!0,sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(t,n){return!0},ready:void 0,stop:void 0,transform:function(t,n){return n}};function lA(e){this.options=ot({},Ure,e)}lA.prototype.run=function(){var e=this.options,t=e,n=e.cy,r=t.eles,i=t.counterclockwise!==void 0?!t.counterclockwise:t.clockwise,a=r.nodes().not(":parent");t.sort&&(a=a.sort(t.sort));for(var s=Qr(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:n.width(),h:n.height()}),o={x:s.x1+s.w/2,y:s.y1+s.h/2},l=t.sweep===void 0?2*Math.PI-2*Math.PI/a.length:t.sweep,u=l/Math.max(1,a.length-1),c,f=0,h=0;h<a.length;h++){var d=a[h],p=d.layoutDimensions(t),v=p.w,x=p.h;f=Math.max(f,v,x)}if(ze(t.radius)?c=t.radius:a.length<=1?c=0:c=Math.min(s.h,s.w)/2-f,a.length>1&&t.avoidOverlap){f*=1.75;var y=Math.cos(u)-Math.cos(0),w=Math.sin(u)-Math.sin(0),k=Math.sqrt(f*f/(y*y+w*w));c=Math.max(k,c)}var _=function(T,E){var A=t.startAngle+E*u*(i?1:-1),R=c*Math.cos(A),D=c*Math.sin(A),N={x:o.x+R,y:o.y+D};return N};return r.nodes().layoutPositions(this,t,_),this};var Wre={fit:!0,padding:30,startAngle:3/2*Math.PI,sweep:void 0,clockwise:!0,equidistant:!1,minNodeSpacing:10,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,height:void 0,width:void 0,spacingFactor:void 0,concentric:function(t){return t.degree()},levelWidth:function(t){return t.maxDegree()/4},animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(t,n){return!0},ready:void 0,stop:void 0,transform:function(t,n){return n}};function uA(e){this.options=ot({},Wre,e)}uA.prototype.run=function(){for(var e=this.options,t=e,n=t.counterclockwise!==void 0?!t.counterclockwise:t.clockwise,r=e.cy,i=t.eles,a=i.nodes().not(":parent"),s=Qr(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()}),o={x:s.x1+s.w/2,y:s.y1+s.h/2},l=[],u=0,c=0;c<a.length;c++){var f=a[c],h=void 0;h=t.concentric(f),l.push({value:h,node:f}),f._private.scratch.concentric=h}a.updateStyle();for(var d=0;d<a.length;d++){var p=a[d],v=p.layoutDimensions(t);u=Math.max(u,v.w,v.h)}l.sort(function(je,ct){return ct.value-je.value});for(var x=t.levelWidth(a),y=[[]],w=y[0],k=0;k<l.length;k++){var _=l[k];if(w.length>0){var C=Math.abs(w[0].value-_.value);C>=x&&(w=[],y.push(w))}w.push(_)}var T=u+t.minNodeSpacing;if(!t.avoidOverlap){var E=y.length>0&&y[0].length>1,A=Math.min(s.w,s.h)/2-T,R=A/(y.length+E?1:0);T=Math.min(T,R)}for(var D=0,N=0;N<y.length;N++){var z=y[N],j=t.sweep===void 0?2*Math.PI-2*Math.PI/z.length:t.sweep,V=z.dTheta=j/Math.max(1,z.length-1);if(z.length>1&&t.avoidOverlap){var Y=Math.cos(V)-Math.cos(0),Z=Math.sin(V)-Math.sin(0),X=Math.sqrt(T*T/(Y*Y+Z*Z));D=Math.max(X,D)}z.r=D,D+=T}if(t.equidistant){for(var G=0,ee=0,B=0;B<y.length;B++){var K=y[B],J=K.r-ee;G=Math.max(G,J)}ee=0;for(var q=0;q<y.length;q++){var he=y[q];q===0&&(ee=he.r),he.r=ee,ee+=G}}for(var de={},oe=0;oe<y.length;oe++)for(var ke=y[oe],Ae=ke.dTheta,Se=ke.r,ce=0;ce<ke.length;ce++){var ge=ke[ce],me=t.startAngle+(n?1:-1)*Ae*ce,Ee={x:o.x+Se*Math.cos(me),y:o.y+Se*Math.sin(me)};de[ge.node.id()]=Ee}return i.nodes().layoutPositions(this,t,function(je){var ct=je.id();return de[ct]}),this};var Z1,Gre={ready:function(){},stop:function(){},animate:!0,animationEasing:void 0,animationDuration:void 0,animateFilter:function(t,n){return!0},animationThreshold:250,refresh:20,fit:!0,padding:30,boundingBox:void 0,nodeDimensionsIncludeLabels:!1,randomize:!1,componentSpacing:40,nodeRepulsion:function(t){return 2048},nodeOverlap:4,idealEdgeLength:function(t){return 32},edgeElasticity:function(t){return 32},nestingFactor:1.2,gravity:1,numIter:1e3,initialTemp:1e3,coolingFactor:.99,minTemp:1};function Wg(e){this.options=ot({},Gre,e),this.options.layout=this;var t=this.options.eles.nodes(),n=this.options.eles.edges(),r=n.filter(function(i){var a=i.source().data("id"),s=i.target().data("id"),o=t.some(function(u){return u.data("id")===a}),l=t.some(function(u){return u.data("id")===s});return!o||!l});this.options.eles=this.options.eles.not(r)}Wg.prototype.run=function(){var e=this.options,t=e.cy,n=this;n.stopped=!1,(e.animate===!0||e.animate===!1)&&n.emit({type:"layoutstart",layout:n}),e.debug===!0?Z1=!0:Z1=!1;var r=Yre(t,n,e);Z1&&Kre(r),e.randomize&&Qre(r);var i=Xa(),a=function(){Zre(r,t,e),e.fit===!0&&t.fit(e.padding)},s=function(h){return!(n.stopped||h>=e.numIter||(Jre(r,e),r.temperature=r.temperature*e.coolingFactor,r.temperature<e.minTemp))},o=function(){if(e.animate===!0||e.animate===!1)a(),n.one("layoutstop",e.stop),n.emit({type:"layoutstop",layout:n});else{var h=e.eles.nodes(),d=fA(r,e,h);h.layoutPositions(n,e,d)}},l=0,u=!0;if(e.animate===!0){var c=function(){for(var h=0;u&&h<e.refresh;)u=s(l),l++,h++;if(!u)C9(r,e),o();else{var d=Xa();d-i>=e.animationThreshold&&a(),wp(c)}};c()}else{for(;u;)u=s(l),l++;C9(r,e),o()}return this};Wg.prototype.stop=function(){return this.stopped=!0,this.thread&&this.thread.stop(),this.emit("layoutstop"),this};Wg.prototype.destroy=function(){return this.thread&&this.thread.stop(),this};var Yre=function(t,n,r){for(var i=r.eles.edges(),a=r.eles.nodes(),s=Qr(r.boundingBox?r.boundingBox:{x1:0,y1:0,w:t.width(),h:t.height()}),o={isCompound:t.hasCompoundNodes(),layoutNodes:[],idToIndex:{},nodeSize:a.size(),graphSet:[],indexToGraph:[],layoutEdges:[],edgeSize:i.size(),temperature:r.initialTemp,clientWidth:s.w,clientHeight:s.h,boundingBox:s},l=r.eles.components(),u={},c=0;c<l.length;c++)for(var f=l[c],h=0;h<f.length;h++){var d=f[h];u[d.id()]=c}for(var c=0;c<o.nodeSize;c++){var p=a[c],v=p.layoutDimensions(r),x={};x.isLocked=p.locked(),x.id=p.data("id"),x.parentId=p.data("parent"),x.cmptId=u[p.id()],x.children=[],x.positionX=p.position("x"),x.positionY=p.position("y"),x.offsetX=0,x.offsetY=0,x.height=v.w,x.width=v.h,x.maxX=x.positionX+x.width/2,x.minX=x.positionX-x.width/2,x.maxY=x.positionY+x.height/2,x.minY=x.positionY-x.height/2,x.padLeft=parseFloat(p.style("padding")),x.padRight=parseFloat(p.style("padding")),x.padTop=parseFloat(p.style("padding")),x.padBottom=parseFloat(p.style("padding")),x.nodeRepulsion=Mn(r.nodeRepulsion)?r.nodeRepulsion(p):r.nodeRepulsion,o.layoutNodes.push(x),o.idToIndex[x.id]=c}for(var y=[],w=0,k=-1,_=[],c=0;c<o.nodeSize;c++){var p=o.layoutNodes[c],C=p.parentId;C!=null?o.layoutNodes[o.idToIndex[C]].children.push(p.id):(y[++k]=p.id,_.push(p.id))}for(o.graphSet.push(_);w<=k;){var T=y[w++],E=o.idToIndex[T],d=o.layoutNodes[E],A=d.children;if(A.length>0){o.graphSet.push(A);for(var c=0;c<A.length;c++)y[++k]=A[c]}}for(var c=0;c<o.graphSet.length;c++)for(var R=o.graphSet[c],h=0;h<R.length;h++){var D=o.idToIndex[R[h]];o.indexToGraph[D]=c}for(var c=0;c<o.edgeSize;c++){var N=i[c],z={};z.id=N.data("id"),z.sourceId=N.data("source"),z.targetId=N.data("target");var j=Mn(r.idealEdgeLength)?r.idealEdgeLength(N):r.idealEdgeLength,V=Mn(r.edgeElasticity)?r.edgeElasticity(N):r.edgeElasticity,Y=o.idToIndex[z.sourceId],Z=o.idToIndex[z.targetId],X=o.indexToGraph[Y],G=o.indexToGraph[Z];if(X!=G){for(var ee=Xre(z.sourceId,z.targetId,o),B=o.graphSet[ee],K=0,x=o.layoutNodes[Y];B.indexOf(x.id)===-1;)x=o.layoutNodes[o.idToIndex[x.parentId]],K++;for(x=o.layoutNodes[Z];B.indexOf(x.id)===-1;)x=o.layoutNodes[o.idToIndex[x.parentId]],K++;j*=K*r.nestingFactor}z.idealLength=j,z.elasticity=V,o.layoutEdges.push(z)}return o},Xre=function(t,n,r){var i=cA(t,n,0,r);return 2>i.count?0:i.graph},cA=function(t,n,r,i){var a=i.graphSet[r];if(-1<a.indexOf(t)&&-1<a.indexOf(n))return{count:2,graph:r};for(var s=0,o=0;o<a.length;o++){var l=a[o],u=i.idToIndex[l],c=i.layoutNodes[u].children;if(c.length!==0){var f=i.indexToGraph[i.idToIndex[c[0]]],h=cA(t,n,f,i);if(h.count!==0)if(h.count===1){if(s++,s===2)break}else return h}}return{count:s,graph:r}},Kre,Qre=function(t,n){for(var r=t.clientWidth,i=t.clientHeight,a=0;a<t.nodeSize;a++){var s=t.layoutNodes[a];s.children.length===0&&!s.isLocked&&(s.positionX=Math.random()*r,s.positionY=Math.random()*i)}},fA=function(t,n,r){var i=t.boundingBox,a={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0};return n.boundingBox&&(r.forEach(function(s){var o=t.layoutNodes[t.idToIndex[s.data("id")]];a.x1=Math.min(a.x1,o.positionX),a.x2=Math.max(a.x2,o.positionX),a.y1=Math.min(a.y1,o.positionY),a.y2=Math.max(a.y2,o.positionY)}),a.w=a.x2-a.x1,a.h=a.y2-a.y1),function(s,o){var l=t.layoutNodes[t.idToIndex[s.data("id")]];if(n.boundingBox){var u=(l.positionX-a.x1)/a.w,c=(l.positionY-a.y1)/a.h;return{x:i.x1+u*i.w,y:i.y1+c*i.h}}else return{x:l.positionX,y:l.positionY}}},Zre=function(t,n,r){var i=r.layout,a=r.eles.nodes(),s=fA(t,r,a);a.positions(s),t.ready!==!0&&(t.ready=!0,i.one("layoutready",r.ready),i.emit({type:"layoutready",layout:this}))},Jre=function(t,n,r){eie(t,n),rie(t),iie(t,n),aie(t),sie(t)},eie=function(t,n){for(var r=0;r<t.graphSet.length;r++)for(var i=t.graphSet[r],a=i.length,s=0;s<a;s++)for(var o=t.layoutNodes[t.idToIndex[i[s]]],l=s+1;l<a;l++){var u=t.layoutNodes[t.idToIndex[i[l]]];tie(o,u,t,n)}},_9=function(t){return-1+2*t*Math.random()},tie=function(t,n,r,i){var a=t.cmptId,s=n.cmptId;if(!(a!==s&&!r.isCompound)){var o=n.positionX-t.positionX,l=n.positionY-t.positionY,u=1;o===0&&l===0&&(o=_9(u),l=_9(u));var c=nie(t,n,o,l);if(c>0)var f=i.nodeOverlap*c,h=Math.sqrt(o*o+l*l),d=f*o/h,p=f*l/h;else var v=Pp(t,o,l),x=Pp(n,-1*o,-1*l),y=x.x-v.x,w=x.y-v.y,k=y*y+w*w,h=Math.sqrt(k),f=(t.nodeRepulsion+n.nodeRepulsion)/k,d=f*y/h,p=f*w/h;t.isLocked||(t.offsetX-=d,t.offsetY-=p),n.isLocked||(n.offsetX+=d,n.offsetY+=p)}},nie=function(t,n,r,i){if(r>0)var a=t.maxX-n.minX;else var a=n.maxX-t.minX;if(i>0)var s=t.maxY-n.minY;else var s=n.maxY-t.minY;return a>=0&&s>=0?Math.sqrt(a*a+s*s):0},Pp=function(t,n,r){var i=t.positionX,a=t.positionY,s=t.height||1,o=t.width||1,l=r/n,u=s/o,c={};return n===0&&0<r||n===0&&0>r?(c.x=i,c.y=a+s/2,c):0<n&&-1*u<=l&&l<=u?(c.x=i+o/2,c.y=a+o*r/2/n,c):0>n&&-1*u<=l&&l<=u?(c.x=i-o/2,c.y=a-o*r/2/n,c):0<r&&(l<=-1*u||l>=u)?(c.x=i+s*n/2/r,c.y=a+s/2,c):(0>r&&(l<=-1*u||l>=u)&&(c.x=i-s*n/2/r,c.y=a-s/2),c)},rie=function(t,n){for(var r=0;r<t.edgeSize;r++){var i=t.layoutEdges[r],a=t.idToIndex[i.sourceId],s=t.layoutNodes[a],o=t.idToIndex[i.targetId],l=t.layoutNodes[o],u=l.positionX-s.positionX,c=l.positionY-s.positionY;if(!(u===0&&c===0)){var f=Pp(s,u,c),h=Pp(l,-1*u,-1*c),d=h.x-f.x,p=h.y-f.y,v=Math.sqrt(d*d+p*p),x=Math.pow(i.idealLength-v,2)/i.elasticity;if(v!==0)var y=x*d/v,w=x*p/v;else var y=0,w=0;s.isLocked||(s.offsetX+=y,s.offsetY+=w),l.isLocked||(l.offsetX-=y,l.offsetY-=w)}}},iie=function(t,n){if(n.gravity!==0)for(var r=1,i=0;i<t.graphSet.length;i++){var a=t.graphSet[i],s=a.length;if(i===0)var o=t.clientHeight/2,l=t.clientWidth/2;else var u=t.layoutNodes[t.idToIndex[a[0]]],c=t.layoutNodes[t.idToIndex[u.parentId]],o=c.positionX,l=c.positionY;for(var f=0;f<s;f++){var h=t.layoutNodes[t.idToIndex[a[f]]];if(!h.isLocked){var d=o-h.positionX,p=l-h.positionY,v=Math.sqrt(d*d+p*p);if(v>r){var x=n.gravity*d/v,y=n.gravity*p/v;h.offsetX+=x,h.offsetY+=y}}}}},aie=function(t,n){var r=[],i=0,a=-1;for(r.push.apply(r,t.graphSet[0]),a+=t.graphSet[0].length;i<=a;){var s=r[i++],o=t.idToIndex[s],l=t.layoutNodes[o],u=l.children;if(0<u.length&&!l.isLocked){for(var c=l.offsetX,f=l.offsetY,h=0;h<u.length;h++){var d=t.layoutNodes[t.idToIndex[u[h]]];d.offsetX+=c,d.offsetY+=f,r[++a]=u[h]}l.offsetX=0,l.offsetY=0}}},sie=function(t,n){for(var r=0;r<t.nodeSize;r++){var i=t.layoutNodes[r];0<i.children.length&&(i.maxX=void 0,i.minX=void 0,i.maxY=void 0,i.minY=void 0)}for(var r=0;r<t.nodeSize;r++){var i=t.layoutNodes[r];if(!(0<i.children.length||i.isLocked)){var a=oie(i.offsetX,i.offsetY,t.temperature);i.positionX+=a.x,i.positionY+=a.y,i.offsetX=0,i.offsetY=0,i.minX=i.positionX-i.width,i.maxX=i.positionX+i.width,i.minY=i.positionY-i.height,i.maxY=i.positionY+i.height,hA(i,t)}}for(var r=0;r<t.nodeSize;r++){var i=t.layoutNodes[r];0<i.children.length&&!i.isLocked&&(i.positionX=(i.maxX+i.minX)/2,i.positionY=(i.maxY+i.minY)/2,i.width=i.maxX-i.minX,i.height=i.maxY-i.minY)}},oie=function(t,n,r){var i=Math.sqrt(t*t+n*n);if(i>r)var a={x:r*t/i,y:r*n/i};else var a={x:t,y:n};return a},hA=function(t,n){var r=t.parentId;if(r!=null){var i=n.layoutNodes[n.idToIndex[r]],a=!1;if((i.maxX==null||t.maxX+i.padRight>i.maxX)&&(i.maxX=t.maxX+i.padRight,a=!0),(i.minX==null||t.minX-i.padLeft<i.minX)&&(i.minX=t.minX-i.padLeft,a=!0),(i.maxY==null||t.maxY+i.padBottom>i.maxY)&&(i.maxY=t.maxY+i.padBottom,a=!0),(i.minY==null||t.minY-i.padTop<i.minY)&&(i.minY=t.minY-i.padTop,a=!0),a)return hA(i,n)}},C9=function(t,n){for(var r=t.layoutNodes,i=[],a=0;a<r.length;a++){var s=r[a],o=s.cmptId,l=i[o]=i[o]||[];l.push(s)}for(var u=0,a=0;a<i.length;a++){var c=i[a];if(c){c.x1=1/0,c.x2=-1/0,c.y1=1/0,c.y2=-1/0;for(var f=0;f<c.length;f++){var h=c[f];c.x1=Math.min(c.x1,h.positionX-h.width/2),c.x2=Math.max(c.x2,h.positionX+h.width/2),c.y1=Math.min(c.y1,h.positionY-h.height/2),c.y2=Math.max(c.y2,h.positionY+h.height/2)}c.w=c.x2-c.x1,c.h=c.y2-c.y1,u+=c.w*c.h}}i.sort(function(w,k){return k.w*k.h-w.w*w.h});for(var d=0,p=0,v=0,x=0,y=Math.sqrt(u)*t.clientWidth/t.clientHeight,a=0;a<i.length;a++){var c=i[a];if(c){for(var f=0;f<c.length;f++){var h=c[f];h.isLocked||(h.positionX+=d-c.x1,h.positionY+=p-c.y1)}d+=c.w+n.componentSpacing,v+=c.w+n.componentSpacing,x=Math.max(x,c.h),v>y&&(p+=x+n.componentSpacing,d=0,v=0,x=0)}}},lie={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,avoidOverlapPadding:10,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,condense:!1,rows:void 0,cols:void 0,position:function(t){},sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(t,n){return!0},ready:void 0,stop:void 0,transform:function(t,n){return n}};function dA(e){this.options=ot({},lie,e)}dA.prototype.run=function(){var e=this.options,t=e,n=e.cy,r=t.eles,i=r.nodes().not(":parent");t.sort&&(i=i.sort(t.sort));var a=Qr(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:n.width(),h:n.height()});if(a.h===0||a.w===0)r.nodes().layoutPositions(this,t,function(q){return{x:a.x1,y:a.y1}});else{var s=i.size(),o=Math.sqrt(s*a.h/a.w),l=Math.round(o),u=Math.round(a.w/a.h*o),c=function(he){if(he==null)return Math.min(l,u);var de=Math.min(l,u);de==l?l=he:u=he},f=function(he){if(he==null)return Math.max(l,u);var de=Math.max(l,u);de==l?l=he:u=he},h=t.rows,d=t.cols!=null?t.cols:t.columns;if(h!=null&&d!=null)l=h,u=d;else if(h!=null&&d==null)l=h,u=Math.ceil(s/l);else if(h==null&&d!=null)u=d,l=Math.ceil(s/u);else if(u*l>s){var p=c(),v=f();(p-1)*v>=s?c(p-1):(v-1)*p>=s&&f(v-1)}else for(;u*l<s;){var x=c(),y=f();(y+1)*x>=s?f(y+1):c(x+1)}var w=a.w/u,k=a.h/l;if(t.condense&&(w=0,k=0),t.avoidOverlap)for(var _=0;_<i.length;_++){var C=i[_],T=C._private.position;(T.x==null||T.y==null)&&(T.x=0,T.y=0);var E=C.layoutDimensions(t),A=t.avoidOverlapPadding,R=E.w+A,D=E.h+A;w=Math.max(w,R),k=Math.max(k,D)}for(var N={},z=function(he,de){return!!N["c-"+he+"-"+de]},j=function(he,de){N["c-"+he+"-"+de]=!0},V=0,Y=0,Z=function(){Y++,Y>=u&&(Y=0,V++)},X={},G=0;G<i.length;G++){var ee=i[G],B=t.position(ee);if(B&&(B.row!==void 0||B.col!==void 0)){var K={row:B.row,col:B.col};if(K.col===void 0)for(K.col=0;z(K.row,K.col);)K.col++;else if(K.row===void 0)for(K.row=0;z(K.row,K.col);)K.row++;X[ee.id()]=K,j(K.row,K.col)}}var J=function(he,de){var oe,ke;if(he.locked()||he.isParent())return!1;var Ae=X[he.id()];if(Ae)oe=Ae.col*w+w/2+a.x1,ke=Ae.row*k+k/2+a.y1;else{for(;z(V,Y);)Z();oe=Y*w+w/2+a.x1,ke=V*k+k/2+a.y1,j(V,Y),Z()}return{x:oe,y:ke}};i.layoutPositions(this,t,J)}return this};var uie={ready:function(){},stop:function(){}};function Nb(e){this.options=ot({},uie,e)}Nb.prototype.run=function(){var e=this.options,t=e.eles,n=this;return e.cy,n.emit("layoutstart"),t.nodes().positions(function(){return{x:0,y:0}}),n.one("layoutready",e.ready),n.emit("layoutready"),n.one("layoutstop",e.stop),n.emit("layoutstop"),this};Nb.prototype.stop=function(){return this};var cie={positions:void 0,zoom:void 0,pan:void 0,fit:!0,padding:30,spacingFactor:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(t,n){return!0},ready:void 0,stop:void 0,transform:function(t,n){return n}};function pA(e){this.options=ot({},cie,e)}pA.prototype.run=function(){var e=this.options,t=e.eles,n=t.nodes(),r=Mn(e.positions);function i(a){if(e.positions==null)return Iee(a.position());if(r)return e.positions(a);var s=e.positions[a._private.data.id];return s??null}return n.layoutPositions(this,e,function(a,s){var o=i(a);return a.locked()||o==null?!1:o}),this};var fie={fit:!0,padding:30,boundingBox:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(t,n){return!0},ready:void 0,stop:void 0,transform:function(t,n){return n}};function gA(e){this.options=ot({},fie,e)}gA.prototype.run=function(){var e=this.options,t=e.cy,n=e.eles,r=Qr(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:t.width(),h:t.height()}),i=function(s,o){return{x:r.x1+Math.round(Math.random()*r.w),y:r.y1+Math.round(Math.random()*r.h)}};return n.nodes().layoutPositions(this,e,i),this};var hie=[{name:"breadthfirst",impl:oA},{name:"circle",impl:lA},{name:"concentric",impl:uA},{name:"cose",impl:Wg},{name:"grid",impl:dA},{name:"null",impl:Nb},{name:"preset",impl:pA},{name:"random",impl:gA}];function mA(e){this.options=e,this.notifications=0}var T9=function(){},E9=function(){throw new Error("A headless instance can not render images")};mA.prototype={recalculateRenderedStyle:T9,notify:function(){this.notifications++},init:T9,isHeadless:function(){return!0},png:E9,jpg:E9};var zb={};zb.arrowShapeWidth=.3;zb.registerArrowShapes=function(){var e=this.arrowShapes={},t=this,n=function(u,c,f,h,d,p,v){var x=d.x-f/2-v,y=d.x+f/2+v,w=d.y-f/2-v,k=d.y+f/2+v,_=x<=u&&u<=y&&w<=c&&c<=k;return _},r=function(u,c,f,h,d){var p=u*Math.cos(h)-c*Math.sin(h),v=u*Math.sin(h)+c*Math.cos(h),x=p*f,y=v*f,w=x+d.x,k=y+d.y;return{x:w,y:k}},i=function(u,c,f,h){for(var d=[],p=0;p<u.length;p+=2){var v=u[p],x=u[p+1];d.push(r(v,x,c,f,h))}return d},a=function(u){for(var c=[],f=0;f<u.length;f++){var h=u[f];c.push(h.x,h.y)}return c},s=function(u){return u.pstyle("width").pfValue*u.pstyle("arrow-scale").pfValue*2},o=function(u,c){tt(c)&&(c=e[c]),e[u]=ot({name:u,points:[-.15,-.3,.15,-.3,.15,.3,-.15,.3],collide:function(h,d,p,v,x,y){var w=a(i(this.points,p+2*y,v,x)),k=Hr(h,d,w);return k},roughCollide:n,draw:function(h,d,p,v){var x=i(this.points,d,p,v);t.arrowShapeImpl("polygon")(h,x)},spacing:function(h){return 0},gap:s},c)};o("none",{collide:kp,roughCollide:kp,draw:kb,spacing:H8,gap:H8}),o("triangle",{points:[-.15,-.3,0,0,.15,-.3]}),o("arrow","triangle"),o("triangle-backcurve",{points:e.triangle.points,controlPoint:[0,-.15],roughCollide:n,draw:function(u,c,f,h,d){var p=i(this.points,c,f,h),v=this.controlPoint,x=r(v[0],v[1],c,f,h);t.arrowShapeImpl(this.name)(u,p,x)},gap:function(u){return s(u)*.8}}),o("triangle-tee",{points:[0,0,.15,-.3,-.15,-.3,0,0],pointsTee:[-.15,-.4,-.15,-.5,.15,-.5,.15,-.4],collide:function(u,c,f,h,d,p,v){var x=a(i(this.points,f+2*v,h,d)),y=a(i(this.pointsTee,f+2*v,h,d)),w=Hr(u,c,x)||Hr(u,c,y);return w},draw:function(u,c,f,h,d){var p=i(this.points,c,f,h),v=i(this.pointsTee,c,f,h);t.arrowShapeImpl(this.name)(u,p,v)}}),o("circle-triangle",{radius:.15,pointsTr:[0,-.15,.15,-.45,-.15,-.45,0,-.15],collide:function(u,c,f,h,d,p,v){var x=d,y=Math.pow(x.x-u,2)+Math.pow(x.y-c,2)<=Math.pow((f+2*v)*this.radius,2),w=a(i(this.points,f+2*v,h,d));return Hr(u,c,w)||y},draw:function(u,c,f,h,d){var p=i(this.pointsTr,c,f,h);t.arrowShapeImpl(this.name)(u,p,h.x,h.y,this.radius*c)},spacing:function(u){return t.getArrowWidth(u.pstyle("width").pfValue,u.pstyle("arrow-scale").value)*this.radius}}),o("triangle-cross",{points:[0,0,.15,-.3,-.15,-.3,0,0],baseCrossLinePts:[-.15,-.4,-.15,-.4,.15,-.4,.15,-.4],crossLinePts:function(u,c){var f=this.baseCrossLinePts.slice(),h=c/u,d=3,p=5;return f[d]=f[d]-h,f[p]=f[p]-h,f},collide:function(u,c,f,h,d,p,v){var x=a(i(this.points,f+2*v,h,d)),y=a(i(this.crossLinePts(f,p),f+2*v,h,d)),w=Hr(u,c,x)||Hr(u,c,y);return w},draw:function(u,c,f,h,d){var p=i(this.points,c,f,h),v=i(this.crossLinePts(c,d),c,f,h);t.arrowShapeImpl(this.name)(u,p,v)}}),o("vee",{points:[-.15,-.3,0,0,.15,-.3,0,-.15],gap:function(u){return s(u)*.525}}),o("circle",{radius:.15,collide:function(u,c,f,h,d,p,v){var x=d,y=Math.pow(x.x-u,2)+Math.pow(x.y-c,2)<=Math.pow((f+2*v)*this.radius,2);return y},draw:function(u,c,f,h,d){t.arrowShapeImpl(this.name)(u,h.x,h.y,this.radius*c)},spacing:function(u){return t.getArrowWidth(u.pstyle("width").pfValue,u.pstyle("arrow-scale").value)*this.radius}}),o("tee",{points:[-.15,0,-.15,-.1,.15,-.1,.15,0],spacing:function(u){return 1},gap:function(u){return 1}}),o("square",{points:[-.15,0,.15,0,.15,-.3,-.15,-.3]}),o("diamond",{points:[-.15,-.15,0,-.3,.15,-.15,0,0],gap:function(u){return u.pstyle("width").pfValue*u.pstyle("arrow-scale").value}}),o("chevron",{points:[0,0,-.15,-.15,-.1,-.2,0,-.1,.1,-.2,.15,-.15],gap:function(u){return .95*u.pstyle("width").pfValue*u.pstyle("arrow-scale").value}})};var ol={};ol.projectIntoViewport=function(e,t){var n=this.cy,r=this.findContainerClientCoords(),i=r[0],a=r[1],s=r[4],o=n.pan(),l=n.zoom(),u=((e-i)/s-o.x)/l,c=((t-a)/s-o.y)/l;return[u,c]};ol.findContainerClientCoords=function(){if(this.containerBB)return this.containerBB;var e=this.container,t=e.getBoundingClientRect(),n=this.cy.window().getComputedStyle(e),r=function(y){return parseFloat(n.getPropertyValue(y))},i={left:r("padding-left"),right:r("padding-right"),top:r("padding-top"),bottom:r("padding-bottom")},a={left:r("border-left-width"),right:r("border-right-width"),top:r("border-top-width"),bottom:r("border-bottom-width")},s=e.clientWidth,o=e.clientHeight,l=i.left+i.right,u=i.top+i.bottom,c=a.left+a.right,f=t.width/(s+c),h=s-l,d=o-u,p=t.left+i.left+a.left,v=t.top+i.top+a.top;return this.containerBB=[p,v,h,d,f]};ol.invalidateContainerClientCoordsCache=function(){this.containerBB=null};ol.findNearestElement=function(e,t,n,r){return this.findNearestElements(e,t,n,r)[0]};ol.findNearestElements=function(e,t,n,r){var i=this,a=this,s=a.getCachedZSortedEles(),o=[],l=a.cy.zoom(),u=a.cy.hasCompoundNodes(),c=(r?24:8)/l,f=(r?8:2)/l,h=(r?8:2)/l,d=1/0,p,v;n&&(s=s.interactive);function x(E,A){if(E.isNode()){if(v)return;v=E,o.push(E)}if(E.isEdge()&&(A==null||A<d))if(p){if(p.pstyle("z-compound-depth").value===E.pstyle("z-compound-depth").value&&p.pstyle("z-compound-depth").value===E.pstyle("z-compound-depth").value){for(var R=0;R<o.length;R++)if(o[R].isEdge()){o[R]=E,p=E,d=A??d;break}}}else o.push(E),p=E,d=A??d}function y(E){var A=E.outerWidth()+2*f,R=E.outerHeight()+2*f,D=A/2,N=R/2,z=E.position(),j=E.pstyle("corner-radius").value==="auto"?"auto":E.pstyle("corner-radius").pfValue,V=E._private.rscratch;if(z.x-D<=e&&e<=z.x+D&&z.y-N<=t&&t<=z.y+N){var Y=a.nodeShapes[i.getNodeShape(E)];if(Y.checkPoint(e,t,0,A,R,z.x,z.y,j,V))return x(E,0),!0}}function w(E){var A=E._private,R=A.rscratch,D=E.pstyle("width").pfValue,N=E.pstyle("arrow-scale").value,z=D/2+c,j=z*z,V=z*2,G=A.source,ee=A.target,Y;if(R.edgeType==="segments"||R.edgeType==="straight"||R.edgeType==="haystack"){for(var Z=R.allpts,X=0;X+3<Z.length;X+=2)if(Wee(e,t,Z[X],Z[X+1],Z[X+2],Z[X+3],V)&&j>(Y=Qee(e,t,Z[X],Z[X+1],Z[X+2],Z[X+3])))return x(E,Y),!0}else if(R.edgeType==="bezier"||R.edgeType==="multibezier"||R.edgeType==="self"||R.edgeType==="compound"){for(var Z=R.allpts,X=0;X+5<R.allpts.length;X+=4)if(Gee(e,t,Z[X],Z[X+1],Z[X+2],Z[X+3],Z[X+4],Z[X+5],V)&&j>(Y=Kee(e,t,Z[X],Z[X+1],Z[X+2],Z[X+3],Z[X+4],Z[X+5])))return x(E,Y),!0}for(var G=G||A.source,ee=ee||A.target,B=i.getArrowWidth(D,N),K=[{name:"source",x:R.arrowStartX,y:R.arrowStartY,angle:R.srcArrowAngle},{name:"target",x:R.arrowEndX,y:R.arrowEndY,angle:R.tgtArrowAngle},{name:"mid-source",x:R.midX,y:R.midY,angle:R.midsrcArrowAngle},{name:"mid-target",x:R.midX,y:R.midY,angle:R.midtgtArrowAngle}],X=0;X<K.length;X++){var J=K[X],q=a.arrowShapes[E.pstyle(J.name+"-arrow-shape").value],he=E.pstyle("width").pfValue;if(q.roughCollide(e,t,B,J.angle,{x:J.x,y:J.y},he,c)&&q.collide(e,t,B,J.angle,{x:J.x,y:J.y},he,c))return x(E),!0}u&&o.length>0&&(y(G),y(ee))}function k(E,A,R){return qr(E,A,R)}function _(E,A){var R=E._private,D=h,N;A?N=A+"-":N="",E.boundingBox();var z=R.labelBounds[A||"main"],j=E.pstyle(N+"label").value,V=E.pstyle("text-events").strValue==="yes";if(!(!V||!j)){var Y=k(R.rscratch,"labelX",A),Z=k(R.rscratch,"labelY",A),X=k(R.rscratch,"labelAngle",A),G=E.pstyle(N+"text-margin-x").pfValue,ee=E.pstyle(N+"text-margin-y").pfValue,B=z.x1-D-G,K=z.x2+D-G,J=z.y1-D-ee,q=z.y2+D-ee;if(X){var he=Math.cos(X),de=Math.sin(X),oe=function(Ee,je){return Ee=Ee-Y,je=je-Z,{x:Ee*he-je*de+Y,y:Ee*de+je*he+Z}},ke=oe(B,J),Ae=oe(B,q),Se=oe(K,J),ce=oe(K,q),ge=[ke.x+G,ke.y+ee,Se.x+G,Se.y+ee,ce.x+G,ce.y+ee,Ae.x+G,Ae.y+ee];if(Hr(e,t,ge))return x(E),!0}else if(Au(z,e,t))return x(E),!0}}for(var C=s.length-1;C>=0;C--){var T=s[C];T.isNode()?y(T)||_(T):w(T)||_(T)||_(T,"source")||_(T,"target")}return o};ol.getAllInBox=function(e,t,n,r){var i=this.getCachedZSortedEles().interactive,a=this.cy.zoom(),s=2/a,o=[],l=Math.min(e,n),u=Math.max(e,n),c=Math.min(t,r),f=Math.max(t,r);e=l,n=u,t=c,r=f;var h=Qr({x1:e,y1:t,x2:n,y2:r});function d(j,V,Y){return qr(j,V,Y)}function p(j,V){var Y=j._private,Z=s,X="";j.boundingBox();var G=Y.labelBounds.main,ee=d(Y.rscratch,"labelX",V),B=d(Y.rscratch,"labelY",V),K=d(Y.rscratch,"labelAngle",V),J=j.pstyle(X+"text-margin-x").pfValue,q=j.pstyle(X+"text-margin-y").pfValue,he=G.x1-Z-J,de=G.x2+Z-J,oe=G.y1-Z-q,ke=G.y2+Z-q;if(K){var Ae=Math.cos(K),Se=Math.sin(K),ce=function(me,Ee){return me=me-ee,Ee=Ee-B,{x:me*Ae-Ee*Se+ee,y:me*Se+Ee*Ae+B}};return[ce(he,oe),ce(de,oe),ce(de,ke),ce(he,ke)]}else return[{x:he,y:oe},{x:de,y:oe},{x:de,y:ke},{x:he,y:ke}]}for(var v=0;v<i.length;v++){var x=i[v];if(x.isNode()){var y=x,w=y.pstyle("text-events").strValue==="yes",k=y.pstyle("box-select-labels").strValue==="yes",_=y.boundingBox({includeNodes:!0,includeEdges:!1,includeLabels:k&&w});if(Tb(h,_)){var C=p(y),T=[{x:h.x1,y:h.y1},{x:h.x2,y:h.y1},{x:h.x2,y:h.y2},{x:h.x1,y:h.y2}];nte(C,T)&&o.push(y)}}else{var E=x,A=E._private,R=A.rscratch;if(R.startX!=null&&R.startY!=null&&!Au(h,R.startX,R.startY)||R.endX!=null&&R.endY!=null&&!Au(h,R.endX,R.endY))continue;if(R.edgeType==="bezier"||R.edgeType==="multibezier"||R.edgeType==="self"||R.edgeType==="compound"||R.edgeType==="segments"||R.edgeType==="haystack"){for(var D=A.rstyle.bezierPts||A.rstyle.linePts||A.rstyle.haystackPts,N=!0,z=0;z<D.length;z++)if(!Vee(h,D[z])){N=!1;break}N&&o.push(E)}else(R.edgeType==="haystack"||R.edgeType==="straight")&&o.push(E)}}return o};var Mp={};Mp.calculateArrowAngles=function(e){var t=e._private.rscratch,n=t.edgeType==="haystack",r=t.edgeType==="bezier",i=t.edgeType==="multibezier",a=t.edgeType==="segments",s=t.edgeType==="compound",o=t.edgeType==="self",l,u,c,f,h,d,y,w;if(n?(c=t.haystackPts[0],f=t.haystackPts[1],h=t.haystackPts[2],d=t.haystackPts[3]):(c=t.arrowStartX,f=t.arrowStartY,h=t.arrowEndX,d=t.arrowEndY),y=t.midX,w=t.midY,a)l=c-t.segpts[0],u=f-t.segpts[1];else if(i||s||o||r){var p=t.allpts,v=sr(p[0],p[2],p[4],.1),x=sr(p[1],p[3],p[5],.1);l=c-v,u=f-x}else l=c-y,u=f-w;t.srcArrowAngle=Ah(l,u);var y=t.midX,w=t.midY;if(n&&(y=(c+h)/2,w=(f+d)/2),l=h-c,u=d-f,a){var p=t.allpts;if(p.length/2%2===0){var k=p.length/2,_=k-2;l=p[k]-p[_],u=p[k+1]-p[_+1]}else if(t.isRound)l=t.midVector[1],u=-t.midVector[0];else{var k=p.length/2-1,_=k-2;l=p[k]-p[_],u=p[k+1]-p[_+1]}}else if(i||s||o){var p=t.allpts,C=t.ctrlpts,T,E,A,R;if(C.length/2%2===0){var D=p.length/2-1,N=D+2,z=N+2;T=sr(p[D],p[N],p[z],0),E=sr(p[D+1],p[N+1],p[z+1],0),A=sr(p[D],p[N],p[z],1e-4),R=sr(p[D+1],p[N+1],p[z+1],1e-4)}else{var N=p.length/2-1,D=N-2,z=N+2;T=sr(p[D],p[N],p[z],.4999),E=sr(p[D+1],p[N+1],p[z+1],.4999),A=sr(p[D],p[N],p[z],.5),R=sr(p[D+1],p[N+1],p[z+1],.5)}l=A-T,u=R-E}if(t.midtgtArrowAngle=Ah(l,u),t.midDispX=l,t.midDispY=u,l*=-1,u*=-1,a){var p=t.allpts;if(p.length/2%2!==0){if(!t.isRound){var k=p.length/2-1,j=k+2;l=-(p[j]-p[k]),u=-(p[j+1]-p[k+1])}}}if(t.midsrcArrowAngle=Ah(l,u),a)l=h-t.segpts[t.segpts.length-2],u=d-t.segpts[t.segpts.length-1];else if(i||s||o||r){var p=t.allpts,V=p.length,v=sr(p[V-6],p[V-4],p[V-2],.9),x=sr(p[V-5],p[V-3],p[V-1],.9);l=h-v,u=d-x}else l=h-y,u=d-w;t.tgtArrowAngle=Ah(l,u)};Mp.getArrowWidth=Mp.getArrowHeight=function(e,t){var n=this.arrowWidthCache=this.arrowWidthCache||{},r=n[e+", "+t];return r||(r=Math.max(Math.pow(e*13.37,.9),29)*t,n[e+", "+t]=r,r)};var c4,f4,Ji={},xi={},P9,M9,To,wd,Ca,po,ko,Ki,Sl,Bh,vA,yA,h4,d4,A9,D9=function(t,n,r){r.x=n.x-t.x,r.y=n.y-t.y,r.len=Math.sqrt(r.x*r.x+r.y*r.y),r.nx=r.x/r.len,r.ny=r.y/r.len,r.ang=Math.atan2(r.ny,r.nx)},die=function(t,n){n.x=t.x*-1,n.y=t.y*-1,n.nx=t.nx*-1,n.ny=t.ny*-1,n.ang=t.ang>0?-(Math.PI-t.ang):Math.PI+t.ang},pie=function(t,n,r,i,a){if(t!==A9?D9(n,t,Ji):die(xi,Ji),D9(n,r,xi),P9=Ji.nx*xi.ny-Ji.ny*xi.nx,M9=Ji.nx*xi.nx-Ji.ny*-xi.ny,Ca=Math.asin(Math.max(-1,Math.min(1,P9))),Math.abs(Ca)<1e-6){c4=n.x,f4=n.y,ko=Sl=0;return}To=1,wd=!1,M9<0?Ca<0?Ca=Math.PI+Ca:(Ca=Math.PI-Ca,To=-1,wd=!0):Ca>0&&(To=-1,wd=!0),n.radius!==void 0?Sl=n.radius:Sl=i,po=Ca/2,Bh=Math.min(Ji.len/2,xi.len/2),a?(Ki=Math.abs(Math.cos(po)*Sl/Math.sin(po)),Ki>Bh?(Ki=Bh,ko=Math.abs(Ki*Math.sin(po)/Math.cos(po))):ko=Sl):(Ki=Math.min(Bh,Sl),ko=Math.abs(Ki*Math.sin(po)/Math.cos(po))),h4=n.x+xi.nx*Ki,d4=n.y+xi.ny*Ki,c4=h4-xi.ny*ko*To,f4=d4+xi.nx*ko*To,vA=n.x+Ji.nx*Ki,yA=n.y+Ji.ny*Ki,A9=n};function xA(e,t){t.radius===0?e.lineTo(t.cx,t.cy):e.arc(t.cx,t.cy,t.radius,t.startAngle,t.endAngle,t.counterClockwise)}function Bb(e,t,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0;return r===0||t.radius===0?{cx:t.x,cy:t.y,radius:0,startX:t.x,startY:t.y,stopX:t.x,stopY:t.y,startAngle:void 0,endAngle:void 0,counterClockwise:void 0}:(pie(e,t,n,r,i),{cx:c4,cy:f4,radius:ko,startX:vA,startY:yA,stopX:h4,stopY:d4,startAngle:Ji.ang+Math.PI/2*To,endAngle:xi.ang-Math.PI/2*To,counterClockwise:wd})}var Uf=.01,gie=Math.sqrt(2*Uf),Mr={};Mr.findMidptPtsEtc=function(e,t){var n=t.posPts,r=t.intersectionPts,i=t.vectorNormInverse,a,s=e.pstyle("source-endpoint"),o=e.pstyle("target-endpoint"),l=s.units!=null&&o.units!=null,u=function(C,T,E,A){var R=A-T,D=E-C,N=Math.sqrt(D*D+R*R);return{x:-R/N,y:D/N}},c=e.pstyle("edge-distances").value;switch(c){case"node-position":a=n;break;case"intersection":a=r;break;case"endpoints":{if(l){var f=this.manualEndptToPx(e.source()[0],s),h=tr(f,2),d=h[0],p=h[1],v=this.manualEndptToPx(e.target()[0],o),x=tr(v,2),y=x[0],w=x[1],k={x1:d,y1:p,x2:y,y2:w};i=u(d,p,y,w),a=k}else Vt("Edge ".concat(e.id()," has edge-distances:endpoints specified without manual endpoints specified via source-endpoint and target-endpoint.  Falling back on edge-distances:intersection (default).")),a=r;break}}return{midptPts:a,vectorNormInverse:i}};Mr.findHaystackPoints=function(e){for(var t=0;t<e.length;t++){var n=e[t],r=n._private,i=r.rscratch;if(!i.haystack){var a=Math.random()*2*Math.PI;i.source={x:Math.cos(a),y:Math.sin(a)},a=Math.random()*2*Math.PI,i.target={x:Math.cos(a),y:Math.sin(a)}}var s=r.source,o=r.target,l=s.position(),u=o.position(),c=s.width(),f=o.width(),h=s.height(),d=o.height(),p=n.pstyle("haystack-radius").value,v=p/2;i.haystackPts=i.allpts=[i.source.x*c*v+l.x,i.source.y*h*v+l.y,i.target.x*f*v+u.x,i.target.y*d*v+u.y],i.midX=(i.allpts[0]+i.allpts[2])/2,i.midY=(i.allpts[1]+i.allpts[3])/2,i.edgeType="haystack",i.haystack=!0,this.storeEdgeProjections(n),this.calculateArrowAngles(n),this.recalculateEdgeLabelProjections(n),this.calculateLabelAngles(n)}};Mr.findSegmentsPoints=function(e,t){var n=e._private.rscratch,r=e.pstyle("segment-weights"),i=e.pstyle("segment-distances"),a=e.pstyle("segment-radii"),s=e.pstyle("radius-type"),o=Math.min(r.pfValue.length,i.pfValue.length),l=a.pfValue[a.pfValue.length-1],u=s.pfValue[s.pfValue.length-1];n.edgeType="segments",n.segpts=[],n.radii=[],n.isArcRadius=[];for(var c=0;c<o;c++){var f=r.pfValue[c],h=i.pfValue[c],d=1-f,p=f,v=this.findMidptPtsEtc(e,t),x=v.midptPts,y=v.vectorNormInverse,w={x:x.x1*d+x.x2*p,y:x.y1*d+x.y2*p};n.segpts.push(w.x+y.x*h,w.y+y.y*h),n.radii.push(a.pfValue[c]!==void 0?a.pfValue[c]:l),n.isArcRadius.push((s.pfValue[c]!==void 0?s.pfValue[c]:u)==="arc-radius")}};Mr.findLoopPoints=function(e,t,n,r){var i=e._private.rscratch,a=t.dirCounts,s=t.srcPos,o=e.pstyle("control-point-distances"),l=o?o.pfValue[0]:void 0,u=e.pstyle("loop-direction").pfValue,c=e.pstyle("loop-sweep").pfValue,f=e.pstyle("control-point-step-size").pfValue;i.edgeType="self";var h=n,d=f;r&&(h=0,d=l);var p=u-Math.PI/2,v=p-c/2,x=p+c/2,y=u+"_"+c;h=a[y]===void 0?a[y]=0:++a[y],i.ctrlpts=[s.x+Math.cos(v)*1.4*d*(h/3+1),s.y+Math.sin(v)*1.4*d*(h/3+1),s.x+Math.cos(x)*1.4*d*(h/3+1),s.y+Math.sin(x)*1.4*d*(h/3+1)]};Mr.findCompoundLoopPoints=function(e,t,n,r){var i=e._private.rscratch;i.edgeType="compound";var a=t.srcPos,s=t.tgtPos,o=t.srcW,l=t.srcH,u=t.tgtW,c=t.tgtH,f=e.pstyle("control-point-step-size").pfValue,h=e.pstyle("control-point-distances"),d=h?h.pfValue[0]:void 0,p=n,v=f;r&&(p=0,v=d);var x=50,y={x:a.x-o/2,y:a.y-l/2},w={x:s.x-u/2,y:s.y-c/2},k={x:Math.min(y.x,w.x),y:Math.min(y.y,w.y)},_=.5,C=Math.max(_,Math.log(o*Uf)),T=Math.max(_,Math.log(u*Uf));i.ctrlpts=[k.x,k.y-(1+Math.pow(x,1.12)/100)*v*(p/3+1)*C,k.x-(1+Math.pow(x,1.12)/100)*v*(p/3+1)*T,k.y]};Mr.findStraightEdgePoints=function(e){e._private.rscratch.edgeType="straight"};Mr.findBezierPoints=function(e,t,n,r,i){var a=e._private.rscratch,s=e.pstyle("control-point-step-size").pfValue,o=e.pstyle("control-point-distances"),l=e.pstyle("control-point-weights"),u=o&&l?Math.min(o.value.length,l.value.length):1,c=o?o.pfValue[0]:void 0,f=l.value[0],h=r;a.edgeType=h?"multibezier":"bezier",a.ctrlpts=[];for(var d=0;d<u;d++){var p=(.5-t.eles.length/2+n)*s*(i?-1:1),v=void 0,x=Cb(p);h&&(c=o?o.pfValue[d]:s,f=l.value[d]),r?v=c:v=c!==void 0?x*c:void 0;var y=v!==void 0?v:p,w=1-f,k=f,_=this.findMidptPtsEtc(e,t),C=_.midptPts,T=_.vectorNormInverse,E={x:C.x1*w+C.x2*k,y:C.y1*w+C.y2*k};a.ctrlpts.push(E.x+T.x*y,E.y+T.y*y)}};Mr.findTaxiPoints=function(e,t){var n=e._private.rscratch;n.edgeType="segments";var r="vertical",i="horizontal",a="leftward",s="rightward",o="downward",l="upward",u="auto",c=t.posPts,f=t.srcW,h=t.srcH,d=t.tgtW,p=t.tgtH,v=e.pstyle("edge-distances").value,x=v!=="node-position",y=e.pstyle("taxi-direction").value,w=y,k=e.pstyle("taxi-turn"),_=k.units==="%",C=k.pfValue,T=C<0,E=e.pstyle("taxi-turn-min-distance").pfValue,A=x?(f+d)/2:0,R=x?(h+p)/2:0,D=c.x2-c.x1,N=c.y2-c.y1,z=function(U,le){return U>0?Math.max(U-le,0):Math.min(U+le,0)},j=z(D,A),V=z(N,R),Y=!1;w===u?y=Math.abs(j)>Math.abs(V)?i:r:w===l||w===o?(y=r,Y=!0):(w===a||w===s)&&(y=i,Y=!0);var Z=y===r,X=Z?V:j,G=Z?N:D,ee=Cb(G),B=!1;!(Y&&(_||T))&&(w===o&&G<0||w===l&&G>0||w===a&&G>0||w===s&&G<0)&&(ee*=-1,X=ee*Math.abs(X),B=!0);var K;if(_){var J=C<0?1+C:C;K=J*X}else{var q=C<0?X:0;K=q+C*ee}var he=function(U){return Math.abs(U)<E||Math.abs(U)>=Math.abs(X)},de=he(K),oe=he(Math.abs(X)-Math.abs(K)),ke=de||oe;if(ke&&!B)if(Z){var Ae=Math.abs(G)<=h/2,Se=Math.abs(D)<=d/2;if(Ae){var ce=(c.x1+c.x2)/2,ge=c.y1,me=c.y2;n.segpts=[ce,ge,ce,me]}else if(Se){var Ee=(c.y1+c.y2)/2,je=c.x1,ct=c.x2;n.segpts=[je,Ee,ct,Ee]}else n.segpts=[c.x1,c.y2]}else{var zt=Math.abs(G)<=f/2,Tt=Math.abs(N)<=p/2;if(zt){var He=(c.y1+c.y2)/2,$e=c.x1,Qe=c.x2;n.segpts=[$e,He,Qe,He]}else if(Tt){var nt=(c.x1+c.x2)/2,Je=c.y1,rt=c.y2;n.segpts=[nt,Je,nt,rt]}else n.segpts=[c.x2,c.y1]}else if(Z){var lt=c.y1+K+(x?h/2*ee:0),bt=c.x1,Bt=c.x2;n.segpts=[bt,lt,Bt,lt]}else{var be=c.x1+K+(x?f/2*ee:0),Te=c.y1,Be=c.y2;n.segpts=[be,Te,be,Be]}if(n.isRound){var Xe=e.pstyle("taxi-radius").value,Oe=e.pstyle("radius-type").value[0]==="arc-radius";n.radii=new Array(n.segpts.length/2).fill(Xe),n.isArcRadius=new Array(n.segpts.length/2).fill(Oe)}};Mr.tryToCorrectInvalidPoints=function(e,t){var n=e._private.rscratch;if(n.edgeType==="bezier"){var r=t.srcPos,i=t.tgtPos,a=t.srcW,s=t.srcH,o=t.tgtW,l=t.tgtH,u=t.srcShape,c=t.tgtShape,f=t.srcCornerRadius,h=t.tgtCornerRadius,d=t.srcRs,p=t.tgtRs,v=!ze(n.startX)||!ze(n.startY),x=!ze(n.arrowStartX)||!ze(n.arrowStartY),y=!ze(n.endX)||!ze(n.endY),w=!ze(n.arrowEndX)||!ze(n.arrowEndY),k=3,_=this.getArrowWidth(e.pstyle("width").pfValue,e.pstyle("arrow-scale").value)*this.arrowShapeWidth,C=k*_,T=Xo({x:n.ctrlpts[0],y:n.ctrlpts[1]},{x:n.startX,y:n.startY}),E=T<C,A=Xo({x:n.ctrlpts[0],y:n.ctrlpts[1]},{x:n.endX,y:n.endY}),R=A<C,D=!1;if(v||x||E){D=!0;var N={x:n.ctrlpts[0]-r.x,y:n.ctrlpts[1]-r.y},z=Math.sqrt(N.x*N.x+N.y*N.y),j={x:N.x/z,y:N.y/z},V=Math.max(a,s),Y={x:n.ctrlpts[0]+j.x*2*V,y:n.ctrlpts[1]+j.y*2*V},Z=u.intersectLine(r.x,r.y,a,s,Y.x,Y.y,0,f,d);E?(n.ctrlpts[0]=n.ctrlpts[0]+j.x*(C-T),n.ctrlpts[1]=n.ctrlpts[1]+j.y*(C-T)):(n.ctrlpts[0]=Z[0]+j.x*C,n.ctrlpts[1]=Z[1]+j.y*C)}if(y||w||R){D=!0;var X={x:n.ctrlpts[0]-i.x,y:n.ctrlpts[1]-i.y},G=Math.sqrt(X.x*X.x+X.y*X.y),ee={x:X.x/G,y:X.y/G},B=Math.max(a,s),K={x:n.ctrlpts[0]+ee.x*2*B,y:n.ctrlpts[1]+ee.y*2*B},J=c.intersectLine(i.x,i.y,o,l,K.x,K.y,0,h,p);R?(n.ctrlpts[0]=n.ctrlpts[0]+ee.x*(C-A),n.ctrlpts[1]=n.ctrlpts[1]+ee.y*(C-A)):(n.ctrlpts[0]=J[0]+ee.x*C,n.ctrlpts[1]=J[1]+ee.y*C)}D&&this.findEndpoints(e)}};Mr.storeAllpts=function(e){var t=e._private.rscratch;if(t.edgeType==="multibezier"||t.edgeType==="bezier"||t.edgeType==="self"||t.edgeType==="compound"){t.allpts=[],t.allpts.push(t.startX,t.startY);for(var n=0;n+1<t.ctrlpts.length;n+=2)t.allpts.push(t.ctrlpts[n],t.ctrlpts[n+1]),n+3<t.ctrlpts.length&&t.allpts.push((t.ctrlpts[n]+t.ctrlpts[n+2])/2,(t.ctrlpts[n+1]+t.ctrlpts[n+3])/2);t.allpts.push(t.endX,t.endY);var r,i;t.ctrlpts.length/2%2===0?(r=t.allpts.length/2-1,t.midX=t.allpts[r],t.midY=t.allpts[r+1]):(r=t.allpts.length/2-3,i=.5,t.midX=sr(t.allpts[r],t.allpts[r+2],t.allpts[r+4],i),t.midY=sr(t.allpts[r+1],t.allpts[r+3],t.allpts[r+5],i))}else if(t.edgeType==="straight")t.allpts=[t.startX,t.startY,t.endX,t.endY],t.midX=(t.startX+t.endX+t.arrowStartX+t.arrowEndX)/4,t.midY=(t.startY+t.endY+t.arrowStartY+t.arrowEndY)/4;else if(t.edgeType==="segments"){if(t.allpts=[],t.allpts.push(t.startX,t.startY),t.allpts.push.apply(t.allpts,t.segpts),t.allpts.push(t.endX,t.endY),t.isRound){t.roundCorners=[];for(var a=2;a+3<t.allpts.length;a+=2){var s=t.radii[a/2-1],o=t.isArcRadius[a/2-1];t.roundCorners.push(Bb({x:t.allpts[a-2],y:t.allpts[a-1]},{x:t.allpts[a],y:t.allpts[a+1],radius:s},{x:t.allpts[a+2],y:t.allpts[a+3]},s,o))}}if(t.segpts.length%4===0){var l=t.segpts.length/2,u=l-2;t.midX=(t.segpts[u]+t.segpts[l])/2,t.midY=(t.segpts[u+1]+t.segpts[l+1])/2}else{var c=t.segpts.length/2-1;if(!t.isRound)t.midX=t.segpts[c],t.midY=t.segpts[c+1];else{var f={x:t.segpts[c],y:t.segpts[c+1]},h=t.roundCorners[c/2];if(h.radius===0){var d={x:t.segpts[c+2],y:t.segpts[c+3]};t.midX=f.x,t.midY=f.y,t.midVector=[f.y-d.y,d.x-f.x]}else{var p=[f.x-h.cx,f.y-h.cy],v=h.radius/Math.sqrt(Math.pow(p[0],2)+Math.pow(p[1],2));p=p.map(function(x){return x*v}),t.midX=h.cx+p[0],t.midY=h.cy+p[1],t.midVector=p}}}}};Mr.checkForInvalidEdgeWarning=function(e){var t=e[0]._private.rscratch;t.nodesOverlap||ze(t.startX)&&ze(t.startY)&&ze(t.endX)&&ze(t.endY)?t.loggedErr=!1:t.loggedErr||(t.loggedErr=!0,Vt("Edge `"+e.id()+"` has invalid endpoints and so it is impossible to draw.  Adjust your edge style (e.g. control points) accordingly or use an alternative edge type.  This is expected behaviour when the source node and the target node overlap."))};Mr.findEdgeControlPoints=function(e){var t=this;if(!(!e||e.length===0)){for(var n=this,r=n.cy,i=r.hasCompoundNodes(),a=new Fa,s=function(R,D){return[].concat(xp(R),[D?1:0]).join("-")},o=[],l=[],u=0;u<e.length;u++){var c=e[u],f=c._private,h=c.pstyle("curve-style").value;if(!(c.removed()||!c.takesUpSpace())){if(h==="haystack"){l.push(c);continue}var d=h==="unbundled-bezier"||h.endsWith("segments")||h==="straight"||h==="straight-triangle"||h.endsWith("taxi"),p=h==="unbundled-bezier"||h==="bezier",v=f.source,x=f.target,y=v.poolIndex(),w=x.poolIndex(),k=[y,w].sort(),_=s(k,d),C=a.get(_);C==null&&(C={eles:[]},o.push({pairId:k,edgeIsUnbundled:d}),a.set(_,C)),C.eles.push(c),d&&(C.hasUnbundled=!0),p&&(C.hasBezier=!0)}}for(var T=function(){var R=o[E],D=R.pairId,N=R.edgeIsUnbundled,z=s(D,N),j=a.get(z),V;if(!j.hasUnbundled){var Y=j.eles[0].parallelEdges().filter(function(Oe){return Oe.isBundledBezier()});Sb(j.eles),Y.forEach(function(Oe){return j.eles.push(Oe)}),j.eles.sort(function(Oe,_e){return Oe.poolIndex()-_e.poolIndex()})}var Z=j.eles[0],X=Z.source(),G=Z.target();if(X.poolIndex()>G.poolIndex()){var ee=X;X=G,G=ee}var B=j.srcPos=X.position(),K=j.tgtPos=G.position(),J=j.srcW=X.outerWidth(),q=j.srcH=X.outerHeight(),he=j.tgtW=G.outerWidth(),de=j.tgtH=G.outerHeight(),oe=j.srcShape=n.nodeShapes[t.getNodeShape(X)],ke=j.tgtShape=n.nodeShapes[t.getNodeShape(G)],Ae=j.srcCornerRadius=X.pstyle("corner-radius").value==="auto"?"auto":X.pstyle("corner-radius").pfValue,Se=j.tgtCornerRadius=G.pstyle("corner-radius").value==="auto"?"auto":G.pstyle("corner-radius").pfValue,ce=j.tgtRs=G._private.rscratch,ge=j.srcRs=X._private.rscratch;j.dirCounts={north:0,west:0,south:0,east:0,northwest:0,southwest:0,northeast:0,southeast:0};for(var me=0;me<j.eles.length;me++){var Ee=j.eles[me],je=Ee[0]._private.rscratch,ct=Ee.pstyle("curve-style").value,zt=ct==="unbundled-bezier"||ct.endsWith("segments")||ct.endsWith("taxi"),Tt=!X.same(Ee.source());if(!j.calculatedIntersection&&X!==G&&(j.hasBezier||j.hasUnbundled)){j.calculatedIntersection=!0;var He=oe.intersectLine(B.x,B.y,J,q,K.x,K.y,0,Ae,ge),$e=j.srcIntn=He,Qe=ke.intersectLine(K.x,K.y,he,de,B.x,B.y,0,Se,ce),nt=j.tgtIntn=Qe,Je=j.intersectionPts={x1:He[0],x2:Qe[0],y1:He[1],y2:Qe[1]},rt=j.posPts={x1:B.x,x2:K.x,y1:B.y,y2:K.y},lt=Qe[1]-He[1],bt=Qe[0]-He[0],Bt=Math.sqrt(bt*bt+lt*lt);ze(Bt)&&Bt>=gie||(Bt=Math.sqrt(Math.max(bt*bt,Uf)+Math.max(lt*lt,Uf)));var be=j.vector={x:bt,y:lt},Te=j.vectorNorm={x:be.x/Bt,y:be.y/Bt},Be={x:-Te.y,y:Te.x};j.nodesOverlap=!ze(Bt)||ke.checkPoint(He[0],He[1],0,he,de,K.x,K.y,Se,ce)||oe.checkPoint(Qe[0],Qe[1],0,J,q,B.x,B.y,Ae,ge),j.vectorNormInverse=Be,V={nodesOverlap:j.nodesOverlap,dirCounts:j.dirCounts,calculatedIntersection:!0,hasBezier:j.hasBezier,hasUnbundled:j.hasUnbundled,eles:j.eles,srcPos:K,srcRs:ce,tgtPos:B,tgtRs:ge,srcW:he,srcH:de,tgtW:J,tgtH:q,srcIntn:nt,tgtIntn:$e,srcShape:ke,tgtShape:oe,posPts:{x1:rt.x2,y1:rt.y2,x2:rt.x1,y2:rt.y1},intersectionPts:{x1:Je.x2,y1:Je.y2,x2:Je.x1,y2:Je.y1},vector:{x:-be.x,y:-be.y},vectorNorm:{x:-Te.x,y:-Te.y},vectorNormInverse:{x:-Be.x,y:-Be.y}}}var Xe=Tt?V:j;je.nodesOverlap=Xe.nodesOverlap,je.srcIntn=Xe.srcIntn,je.tgtIntn=Xe.tgtIntn,je.isRound=ct.startsWith("round"),i&&(X.isParent()||X.isChild()||G.isParent()||G.isChild())&&(X.parents().anySame(G)||G.parents().anySame(X)||X.same(G)&&X.isParent())?t.findCompoundLoopPoints(Ee,Xe,me,zt):X===G?t.findLoopPoints(Ee,Xe,me,zt):ct.endsWith("segments")?t.findSegmentsPoints(Ee,Xe):ct.endsWith("taxi")?t.findTaxiPoints(Ee,Xe):ct==="straight"||!zt&&j.eles.length%2===1&&me===Math.floor(j.eles.length/2)?t.findStraightEdgePoints(Ee):t.findBezierPoints(Ee,Xe,me,zt,Tt),t.findEndpoints(Ee),t.tryToCorrectInvalidPoints(Ee,Xe),t.checkForInvalidEdgeWarning(Ee),t.storeAllpts(Ee),t.storeEdgeProjections(Ee),t.calculateArrowAngles(Ee),t.recalculateEdgeLabelProjections(Ee),t.calculateLabelAngles(Ee)}},E=0;E<o.length;E++)T();this.findHaystackPoints(l)}};function bA(e){var t=[];if(e!=null){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];t.push({x:r,y:i})}return t}}Mr.getSegmentPoints=function(e){var t=e[0]._private.rscratch;this.recalculateRenderedStyle(e);var n=t.edgeType;if(n==="segments")return bA(t.segpts)};Mr.getControlPoints=function(e){var t=e[0]._private.rscratch;this.recalculateRenderedStyle(e);var n=t.edgeType;if(n==="bezier"||n==="multibezier"||n==="self"||n==="compound")return bA(t.ctrlpts)};Mr.getEdgeMidpoint=function(e){var t=e[0]._private.rscratch;return this.recalculateRenderedStyle(e),{x:t.midX,y:t.midY}};var y0={};y0.manualEndptToPx=function(e,t){var n=this,r=e.position(),i=e.outerWidth(),a=e.outerHeight(),s=e._private.rscratch;if(t.value.length===2){var o=[t.pfValue[0],t.pfValue[1]];return t.units[0]==="%"&&(o[0]=o[0]*i),t.units[1]==="%"&&(o[1]=o[1]*a),o[0]+=r.x,o[1]+=r.y,o}else{var l=t.pfValue[0];l=-Math.PI/2+l;var u=2*Math.max(i,a),c=[r.x+Math.cos(l)*u,r.y+Math.sin(l)*u];return n.nodeShapes[this.getNodeShape(e)].intersectLine(r.x,r.y,i,a,c[0],c[1],0,e.pstyle("corner-radius").value==="auto"?"auto":e.pstyle("corner-radius").pfValue,s)}};y0.findEndpoints=function(e){var t=this,n,r=e.source()[0],i=e.target()[0],a=r.position(),s=i.position(),o=e.pstyle("target-arrow-shape").value,l=e.pstyle("source-arrow-shape").value,u=e.pstyle("target-distance-from-node").pfValue,c=e.pstyle("source-distance-from-node").pfValue,f=r._private.rscratch,h=i._private.rscratch,d=e.pstyle("curve-style").value,p=e._private.rscratch,v=p.edgeType,x=d==="taxi",y=v==="self"||v==="compound",w=v==="bezier"||v==="multibezier"||y,k=v!=="bezier",_=v==="straight"||v==="segments",C=v==="segments",T=w||k||_,E=y||x,A=e.pstyle("source-endpoint"),R=E?"outside-to-node":A.value,D=r.pstyle("corner-radius").value==="auto"?"auto":r.pstyle("corner-radius").pfValue,N=e.pstyle("target-endpoint"),z=E?"outside-to-node":N.value,j=i.pstyle("corner-radius").value==="auto"?"auto":i.pstyle("corner-radius").pfValue;p.srcManEndpt=A,p.tgtManEndpt=N;var V,Y,Z,X;if(w){var G=[p.ctrlpts[0],p.ctrlpts[1]],ee=k?[p.ctrlpts[p.ctrlpts.length-2],p.ctrlpts[p.ctrlpts.length-1]]:G;V=ee,Y=G}else if(_){var B=C?p.segpts.slice(0,2):[s.x,s.y],K=C?p.segpts.slice(p.segpts.length-2):[a.x,a.y];V=K,Y=B}if(z==="inside-to-node")n=[s.x,s.y];else if(N.units)n=this.manualEndptToPx(i,N);else if(z==="outside-to-line")n=p.tgtIntn;else if(z==="outside-to-node"||z==="outside-to-node-or-label"?Z=V:(z==="outside-to-line"||z==="outside-to-line-or-label")&&(Z=[a.x,a.y]),n=t.nodeShapes[this.getNodeShape(i)].intersectLine(s.x,s.y,i.outerWidth(),i.outerHeight(),Z[0],Z[1],0,j,h),z==="outside-to-node-or-label"||z==="outside-to-line-or-label"){var J=i._private.rscratch,q=J.labelWidth,he=J.labelHeight,de=J.labelX,oe=J.labelY,ke=q/2,Ae=he/2,Se=i.pstyle("text-valign").value;Se==="top"?oe-=Ae:Se==="bottom"&&(oe+=Ae);var ce=i.pstyle("text-halign").value;ce==="left"?de-=ke:ce==="right"&&(de+=ke);var ge=$f(Z[0],Z[1],[de-ke,oe-Ae,de+ke,oe-Ae,de+ke,oe+Ae,de-ke,oe+Ae],s.x,s.y);if(ge.length>0){var me=a,Ee=bo(me,Wl(n)),je=bo(me,Wl(ge)),ct=Ee;if(je<Ee&&(n=ge,ct=je),ge.length>2){var zt=bo(me,{x:ge[2],y:ge[3]});zt<ct&&(n=[ge[2],ge[3]])}}}var Tt=Dh(n,V,t.arrowShapes[o].spacing(e)+u),He=Dh(n,V,t.arrowShapes[o].gap(e)+u);if(p.endX=He[0],p.endY=He[1],p.arrowEndX=Tt[0],p.arrowEndY=Tt[1],R==="inside-to-node")n=[a.x,a.y];else if(A.units)n=this.manualEndptToPx(r,A);else if(R==="outside-to-line")n=p.srcIntn;else if(R==="outside-to-node"||R==="outside-to-node-or-label"?X=Y:(R==="outside-to-line"||R==="outside-to-line-or-label")&&(X=[s.x,s.y]),n=t.nodeShapes[this.getNodeShape(r)].intersectLine(a.x,a.y,r.outerWidth(),r.outerHeight(),X[0],X[1],0,D,f),R==="outside-to-node-or-label"||R==="outside-to-line-or-label"){var $e=r._private.rscratch,Qe=$e.labelWidth,nt=$e.labelHeight,Je=$e.labelX,rt=$e.labelY,lt=Qe/2,bt=nt/2,Bt=r.pstyle("text-valign").value;Bt==="top"?rt-=bt:Bt==="bottom"&&(rt+=bt);var be=r.pstyle("text-halign").value;be==="left"?Je-=lt:be==="right"&&(Je+=lt);var Te=$f(X[0],X[1],[Je-lt,rt-bt,Je+lt,rt-bt,Je+lt,rt+bt,Je-lt,rt+bt],a.x,a.y);if(Te.length>0){var Be=s,Xe=bo(Be,Wl(n)),Oe=bo(Be,Wl(Te)),_e=Xe;if(Oe<Xe&&(n=[Te[0],Te[1]],_e=Oe),Te.length>2){var U=bo(Be,{x:Te[2],y:Te[3]});U<_e&&(n=[Te[2],Te[3]])}}}var le=Dh(n,Y,t.arrowShapes[l].spacing(e)+c),ie=Dh(n,Y,t.arrowShapes[l].gap(e)+c);p.startX=ie[0],p.startY=ie[1],p.arrowStartX=le[0],p.arrowStartY=le[1],T&&(!ze(p.startX)||!ze(p.startY)||!ze(p.endX)||!ze(p.endY)?p.badLine=!0:p.badLine=!1)};y0.getSourceEndpoint=function(e){var t=e[0]._private.rscratch;switch(this.recalculateRenderedStyle(e),t.edgeType){case"haystack":return{x:t.haystackPts[0],y:t.haystackPts[1]};default:return{x:t.arrowStartX,y:t.arrowStartY}}};y0.getTargetEndpoint=function(e){var t=e[0]._private.rscratch;switch(this.recalculateRenderedStyle(e),t.edgeType){case"haystack":return{x:t.haystackPts[2],y:t.haystackPts[3]};default:return{x:t.arrowEndX,y:t.arrowEndY}}};var Fb={};function mie(e,t,n){for(var r=function(u,c,f,h){return sr(u,c,f,h)},i=t._private,a=i.rstyle.bezierPts,s=0;s<e.bezierProjPcts.length;s++){var o=e.bezierProjPcts[s];a.push({x:r(n[0],n[2],n[4],o),y:r(n[1],n[3],n[5],o)})}}Fb.storeEdgeProjections=function(e){var t=e._private,n=t.rscratch,r=n.edgeType;if(t.rstyle.bezierPts=null,t.rstyle.linePts=null,t.rstyle.haystackPts=null,r==="multibezier"||r==="bezier"||r==="self"||r==="compound"){t.rstyle.bezierPts=[];for(var i=0;i+5<n.allpts.length;i+=4)mie(this,e,n.allpts.slice(i,i+6))}else if(r==="segments")for(var a=t.rstyle.linePts=[],i=0;i+1<n.allpts.length;i+=2)a.push({x:n.allpts[i],y:n.allpts[i+1]});else if(r==="haystack"){var s=n.haystackPts;t.rstyle.haystackPts=[{x:s[0],y:s[1]},{x:s[2],y:s[3]}]}t.rstyle.arrowWidth=this.getArrowWidth(e.pstyle("width").pfValue,e.pstyle("arrow-scale").value)*this.arrowShapeWidth};Fb.recalculateEdgeProjections=function(e){this.findEdgeControlPoints(e)};var ya={};ya.recalculateNodeLabelProjection=function(e){var t=e.pstyle("label").strValue;if(!$s(t)){var n,r,i=e._private,a=e.width(),s=e.height(),o=e.padding(),l=e.position(),u=e.pstyle("text-halign").strValue,c=e.pstyle("text-valign").strValue,f=i.rscratch,h=i.rstyle;switch(u){case"left":n=l.x-a/2-o;break;case"right":n=l.x+a/2+o;break;default:n=l.x}switch(c){case"top":r=l.y-s/2-o;break;case"bottom":r=l.y+s/2+o;break;default:r=l.y}f.labelX=n,f.labelY=r,h.labelX=n,h.labelY=r,this.calculateLabelAngles(e),this.applyLabelDimensions(e)}};var wA=function(t,n){var r=Math.atan(n/t);return t===0&&r<0&&(r=r*-1),r},kA=function(t,n){var r=n.x-t.x,i=n.y-t.y;return wA(r,i)},vie=function(t,n,r,i){var a=Ff(0,i-.001,1),s=Ff(0,i+.001,1),o=lu(t,n,r,a),l=lu(t,n,r,s);return kA(o,l)};ya.recalculateEdgeLabelProjections=function(e){var t,n=e._private,r=n.rscratch,i=this,a={mid:e.pstyle("label").strValue,source:e.pstyle("source-label").strValue,target:e.pstyle("target-label").strValue};if(a.mid||a.source||a.target){t={x:r.midX,y:r.midY};var s=function(f,h,d){Da(n.rscratch,f,h,d),Da(n.rstyle,f,h,d)};s("labelX",null,t.x),s("labelY",null,t.y);var o=wA(r.midDispX,r.midDispY);s("labelAutoAngle",null,o);var l=function(){if(l.cache)return l.cache;for(var f=[],h=0;h+5<r.allpts.length;h+=4){var d={x:r.allpts[h],y:r.allpts[h+1]},p={x:r.allpts[h+2],y:r.allpts[h+3]},v={x:r.allpts[h+4],y:r.allpts[h+5]};f.push({p0:d,p1:p,p2:v,startDist:0,length:0,segments:[]})}var x=n.rstyle.bezierPts,y=i.bezierProjPcts.length;function w(E,A,R,D,N){var z=Xo(A,R),j=E.segments[E.segments.length-1],V={p0:A,p1:R,t0:D,t1:N,startDist:j?j.startDist+j.length:0,length:z};E.segments.push(V),E.length+=z}for(var k=0;k<f.length;k++){var _=f[k],C=f[k-1];C&&(_.startDist=C.startDist+C.length),w(_,_.p0,x[k*y],0,i.bezierProjPcts[0]);for(var T=0;T<y-1;T++)w(_,x[k*y+T],x[k*y+T+1],i.bezierProjPcts[T],i.bezierProjPcts[T+1]);w(_,x[k*y+y-1],_.p2,i.bezierProjPcts[y-1],1)}return l.cache=f},u=function(f){var h,d=f==="source";if(a[f]){var p=e.pstyle(f+"-text-offset").pfValue;switch(r.edgeType){case"self":case"compound":case"bezier":case"multibezier":{for(var v=l(),x,y=0,w=0,k=0;k<v.length;k++){for(var _=v[d?k:v.length-1-k],C=0;C<_.segments.length;C++){var T=_.segments[d?C:_.segments.length-1-C],E=k===v.length-1&&C===_.segments.length-1;if(y=w,w+=T.length,w>=p||E){x={cp:_,segment:T};break}}if(x)break}var A=x.cp,R=x.segment,D=(p-y)/R.length,N=R.t1-R.t0,z=d?R.t0+N*D:R.t1-N*D;z=Ff(0,z,1),t=lu(A.p0,A.p1,A.p2,z),h=vie(A.p0,A.p1,A.p2,z);break}case"straight":case"segments":case"haystack":{for(var j=0,V,Y,Z,X,G=r.allpts.length,ee=0;ee+3<G&&(d?(Z={x:r.allpts[ee],y:r.allpts[ee+1]},X={x:r.allpts[ee+2],y:r.allpts[ee+3]}):(Z={x:r.allpts[G-2-ee],y:r.allpts[G-1-ee]},X={x:r.allpts[G-4-ee],y:r.allpts[G-3-ee]}),V=Xo(Z,X),Y=j,j+=V,!(j>=p));ee+=2);var B=p-Y,K=B/V;K=Ff(0,K,1),t=Fee(Z,X,K),h=kA(Z,X);break}}s("labelX",f,t.x),s("labelY",f,t.y),s("labelAutoAngle",f,h)}};u("source"),u("target"),this.applyLabelDimensions(e)}};ya.applyLabelDimensions=function(e){this.applyPrefixedLabelDimensions(e),e.isEdge()&&(this.applyPrefixedLabelDimensions(e,"source"),this.applyPrefixedLabelDimensions(e,"target"))};ya.applyPrefixedLabelDimensions=function(e,t){var n=e._private,r=this.getLabelText(e,t),i=Yo(r,e._private.labelDimsKey);if(qr(n.rscratch,"prefixedLabelDimsKey",t)!==i){Da(n.rscratch,"prefixedLabelDimsKey",t,i);var a=this.calculateLabelDimensions(e,r),s=e.pstyle("line-height").pfValue,o=e.pstyle("text-wrap").strValue,l=qr(n.rscratch,"labelWrapCachedLines",t)||[],u=o!=="wrap"?1:Math.max(l.length,1),c=a.height/u,f=c*s,h=a.width,d=a.height+(u-1)*(s-1)*c;Da(n.rstyle,"labelWidth",t,h),Da(n.rscratch,"labelWidth",t,h),Da(n.rstyle,"labelHeight",t,d),Da(n.rscratch,"labelHeight",t,d),Da(n.rscratch,"labelLineHeight",t,f)}};ya.getLabelText=function(e,t){var n=e._private,r=t?t+"-":"",i=e.pstyle(r+"label").strValue,a=e.pstyle("text-transform").value,s=function(q,he){return he?(Da(n.rscratch,q,t,he),he):qr(n.rscratch,q,t)};if(!i)return"";a=="none"||(a=="uppercase"?i=i.toUpperCase():a=="lowercase"&&(i=i.toLowerCase()));var o=e.pstyle("text-wrap").value;if(o==="wrap"){var l=s("labelKey");if(l!=null&&s("labelWrapKey")===l)return s("labelWrapCachedText");for(var u="​",c=i.split(`
`),f=e.pstyle("text-max-width").pfValue,h=e.pstyle("text-overflow-wrap").value,d=h==="anywhere",p=[],v=/[\s\u200b]+|$/g,x=0;x<c.length;x++){var y=c[x],w=this.calculateLabelDimensions(e,y),k=w.width;if(d){var _=y.split("").join(u);y=_}if(k>f){var C=y.matchAll(v),T="",E=0,A=Wr(C),R;try{for(A.s();!(R=A.n()).done;){var D=R.value,N=D[0],z=y.substring(E,D.index);E=D.index+N.length;var j=T.length===0?z:T+z+N,V=this.calculateLabelDimensions(e,j),Y=V.width;Y<=f?T+=z+N:(T&&p.push(T),T=z+N)}}catch(J){A.e(J)}finally{A.f()}T.match(/^[\s\u200b]+$/)||p.push(T)}else p.push(y)}s("labelWrapCachedLines",p),i=s("labelWrapCachedText",p.join(`
`)),s("labelWrapKey",l)}else if(o==="ellipsis"){var Z=e.pstyle("text-max-width").pfValue,X="",G="…",ee=!1;if(this.calculateLabelDimensions(e,i).width<Z)return i;for(var B=0;B<i.length;B++){var K=this.calculateLabelDimensions(e,X+i[B]+G).width;if(K>Z)break;X+=i[B],B===i.length-1&&(ee=!0)}return ee||(X+=G),X}return i};ya.getLabelJustification=function(e){var t=e.pstyle("text-justification").strValue,n=e.pstyle("text-halign").strValue;if(t==="auto")if(e.isNode())switch(n){case"left":return"right";case"right":return"left";default:return"center"}else return"center";else return t};ya.calculateLabelDimensions=function(e,t){var n=this,r=n.cy.window(),i=r.document,a=0,s=e.pstyle("font-style").strValue,o=e.pstyle("font-size").pfValue,l=e.pstyle("font-family").strValue,u=e.pstyle("font-weight").strValue,c=this.labelCalcCanvas,f=this.labelCalcCanvasContext;if(!c){c=this.labelCalcCanvas=i.createElement("canvas"),f=this.labelCalcCanvasContext=c.getContext("2d");var h=c.style;h.position="absolute",h.left="-9999px",h.top="-9999px",h.zIndex="-1",h.visibility="hidden",h.pointerEvents="none"}f.font="".concat(s," ").concat(u," ").concat(o,"px ").concat(l);for(var d=0,p=0,v=t.split(`
`),x=0;x<v.length;x++){var y=v[x],w=f.measureText(y),k=Math.ceil(w.width),_=o;d=Math.max(k,d),p+=_}return d+=a,p+=a,{width:d,height:p}};ya.calculateLabelAngle=function(e,t){var n=e._private,r=n.rscratch,i=e.isEdge(),a=t?t+"-":"",s=e.pstyle(a+"text-rotation"),o=s.strValue;return o==="none"?0:i&&o==="autorotate"?r.labelAutoAngle:o==="autorotate"?0:s.pfValue};ya.calculateLabelAngles=function(e){var t=this,n=e.isEdge(),r=e._private,i=r.rscratch;i.labelAngle=t.calculateLabelAngle(e),n&&(i.sourceLabelAngle=t.calculateLabelAngle(e,"source"),i.targetLabelAngle=t.calculateLabelAngle(e,"target"))};var SA={},I9=28,L9=!1;SA.getNodeShape=function(e){var t=this,n=e.pstyle("shape").value;if(n==="cutrectangle"&&(e.width()<I9||e.height()<I9))return L9||(Vt("The `cutrectangle` node shape can not be used at small sizes so `rectangle` is used instead"),L9=!0),"rectangle";if(e.isParent())return n==="rectangle"||n==="roundrectangle"||n==="round-rectangle"||n==="cutrectangle"||n==="cut-rectangle"||n==="barrel"?n:"rectangle";if(n==="polygon"){var r=e.pstyle("shape-polygon-points").value;return t.nodeShapes.makePolygon(r).name}return n};var Gg={};Gg.registerCalculationListeners=function(){var e=this.cy,t=e.collection(),n=this,r=function(s){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(t.merge(s),o)for(var l=0;l<s.length;l++){var u=s[l],c=u._private,f=c.rstyle;f.clean=!1,f.cleanConnected=!1}};n.binder(e).on("bounds.* dirty.*",function(s){var o=s.target;r(o)}).on("style.* background.*",function(s){var o=s.target;r(o,!1)});var i=function(s){if(s){var o=n.onUpdateEleCalcsFns;t.cleanStyle();for(var l=0;l<t.length;l++){var u=t[l],c=u._private.rstyle;u.isNode()&&!c.cleanConnected&&(r(u.connectedEdges()),c.cleanConnected=!0)}if(o)for(var f=0;f<o.length;f++){var h=o[f];h(s,t)}n.recalculateRenderedStyle(t),t=e.collection()}};n.flushRenderedStyleQueue=function(){i(!0)},n.beforeRender(i,n.beforeRenderPriorities.eleCalcs)};Gg.onUpdateEleCalcs=function(e){var t=this.onUpdateEleCalcsFns=this.onUpdateEleCalcsFns||[];t.push(e)};Gg.recalculateRenderedStyle=function(e,t){var n=function(_){return _._private.rstyle.cleanConnected};if(e.length!==0){var r=[],i=[];if(!this.destroyed){t===void 0&&(t=!0);for(var a=0;a<e.length;a++){var s=e[a],o=s._private,l=o.rstyle;s.isEdge()&&(!n(s.source())||!n(s.target()))&&(l.clean=!1),s.isEdge()&&s.isBundledBezier()&&s.parallelEdges().some(function(k){return!k._private.rstyle.clean&&k.isBundledBezier()})&&(l.clean=!1),!(t&&l.clean||s.removed())&&s.pstyle("display").value!=="none"&&(o.group==="nodes"?i.push(s):r.push(s),l.clean=!0)}for(var u=0;u<i.length;u++){var c=i[u],f=c._private,h=f.rstyle,d=c.position();this.recalculateNodeLabelProjection(c),h.nodeX=d.x,h.nodeY=d.y,h.nodeW=c.pstyle("width").pfValue,h.nodeH=c.pstyle("height").pfValue}this.recalculateEdgeProjections(r);for(var p=0;p<r.length;p++){var v=r[p],x=v._private,y=x.rstyle,w=x.rscratch;y.srcX=w.arrowStartX,y.srcY=w.arrowStartY,y.tgtX=w.arrowEndX,y.tgtY=w.arrowEndY,y.midX=w.midX,y.midY=w.midY,y.labelAngle=w.labelAngle,y.sourceLabelAngle=w.sourceLabelAngle,y.targetLabelAngle=w.targetLabelAngle}}}};var Yg={};Yg.updateCachedGrabbedEles=function(){var e=this.cachedZSortedEles;if(e){e.drag=[],e.nondrag=[];for(var t=[],n=0;n<e.length;n++){var r=e[n],i=r._private.rscratch;r.grabbed()&&!r.isParent()?t.push(r):i.inDragLayer?e.drag.push(r):e.nondrag.push(r)}for(var n=0;n<t.length;n++){var r=t[n];e.drag.push(r)}}};Yg.invalidateCachedZSortedEles=function(){this.cachedZSortedEles=null};Yg.getCachedZSortedEles=function(e){if(e||!this.cachedZSortedEles){var t=this.cy.mutableElements().toArray();t.sort(iA),t.interactive=t.filter(function(n){return n.interactive()}),this.cachedZSortedEles=t,this.updateCachedGrabbedEles()}else t=this.cachedZSortedEles;return t};var _A={};[ol,Mp,Mr,y0,Fb,ya,SA,Gg,Yg].forEach(function(e){ot(_A,e)});var CA={};CA.getCachedImage=function(e,t,n){var r=this,i=r.imageCache=r.imageCache||{},a=i[e];if(a)return a.image.complete||a.image.addEventListener("load",n),a.image;a=i[e]=i[e]||{};var s=a.image=new Image;s.addEventListener("load",n),s.addEventListener("error",function(){s.error=!0});var o="data:",l=e.substring(0,o.length).toLowerCase()===o;return l||(t=t==="null"?null:t,s.crossOrigin=t),s.src=e,s};var Wu={};Wu.registerBinding=function(e,t,n,r){var i=Array.prototype.slice.apply(arguments,[1]);if(Array.isArray(e)){for(var a=[],s=0;s<e.length;s++){var o=e[s];if(o!==void 0){var l=this.binder(o);a.push(l.on.apply(l,i))}}return a}var l=this.binder(e);return l.on.apply(l,i)};Wu.binder=function(e){var t=this,n=t.cy.window(),r=e===n||e===n.document||e===n.document.body||IJ(e);if(t.supportsPassiveEvents==null){var i=!1;try{var a=Object.defineProperty({},"passive",{get:function(){return i=!0,!0}});n.addEventListener("test",null,a)}catch{}t.supportsPassiveEvents=i}var s=function(l,u,c){var f=Array.prototype.slice.call(arguments);return r&&t.supportsPassiveEvents&&(f[2]={capture:c??!1,passive:!1,once:!1}),t.bindings.push({target:e,args:f}),(e.addEventListener||e.on).apply(e,f),this};return{on:s,addEventListener:s,addListener:s,bind:s}};Wu.nodeIsDraggable=function(e){return e&&e.isNode()&&!e.locked()&&e.grabbable()};Wu.nodeIsGrabbable=function(e){return this.nodeIsDraggable(e)&&e.interactive()};Wu.load=function(){var e=this,t=e.cy.window(),n=function(U){return U.selected()},r=function(U){var le=U.getRootNode();if(le&&le.nodeType===11&&le.host!==void 0)return le},i=function(U,le,ie,xe){U==null&&(U=e.cy);for(var ye=0;ye<le.length;ye++){var Ue=le[ye];U.emit({originalEvent:ie,type:Ue,position:xe})}},a=function(U){return U.shiftKey||U.metaKey||U.ctrlKey},s=function(U,le){var ie=!0;if(e.cy.hasCompoundNodes()&&U&&U.pannable())for(var xe=0;le&&xe<le.length;xe++){var U=le[xe];if(U.isNode()&&U.isParent()&&!U.pannable()){ie=!1;break}}else ie=!0;return ie},o=function(U){U[0]._private.grabbed=!0},l=function(U){U[0]._private.grabbed=!1},u=function(U){U[0]._private.rscratch.inDragLayer=!0},c=function(U){U[0]._private.rscratch.inDragLayer=!1},f=function(U){U[0]._private.rscratch.isGrabTarget=!0},h=function(U){U[0]._private.rscratch.isGrabTarget=!1},d=function(U,le){var ie=le.addToList,xe=ie.has(U);!xe&&U.grabbable()&&!U.locked()&&(ie.merge(U),o(U))},p=function(U,le){if(U.cy().hasCompoundNodes()&&!(le.inDragLayer==null&&le.addToList==null)){var ie=U.descendants();le.inDragLayer&&(ie.forEach(u),ie.connectedEdges().forEach(u)),le.addToList&&d(ie,le)}},v=function(U,le){le=le||{};var ie=U.cy().hasCompoundNodes();le.inDragLayer&&(U.forEach(u),U.neighborhood().stdFilter(function(xe){return!ie||xe.isEdge()}).forEach(u)),le.addToList&&U.forEach(function(xe){d(xe,le)}),p(U,le),w(U,{inDragLayer:le.inDragLayer}),e.updateCachedGrabbedEles()},x=v,y=function(U){U&&(e.getCachedZSortedEles().forEach(function(le){l(le),c(le),h(le)}),e.updateCachedGrabbedEles())},w=function(U,le){if(!(le.inDragLayer==null&&le.addToList==null)&&U.cy().hasCompoundNodes()){var ie=U.ancestors().orphans();if(!ie.same(U)){var xe=ie.descendants().spawnSelf().merge(ie).unmerge(U).unmerge(U.descendants()),ye=xe.connectedEdges();le.inDragLayer&&(ye.forEach(u),xe.forEach(u)),le.addToList&&xe.forEach(function(Ue){d(Ue,le)})}}},k=function(){document.activeElement!=null&&document.activeElement.blur!=null&&document.activeElement.blur()},_=typeof MutationObserver<"u",C=typeof ResizeObserver<"u";_?(e.removeObserver=new MutationObserver(function(_e){for(var U=0;U<_e.length;U++){var le=_e[U],ie=le.removedNodes;if(ie)for(var xe=0;xe<ie.length;xe++){var ye=ie[xe];if(ye===e.container){e.destroy();break}}}}),e.container.parentNode&&e.removeObserver.observe(e.container.parentNode,{childList:!0})):e.registerBinding(e.container,"DOMNodeRemoved",function(_e){e.destroy()});var T=p0(function(){e.cy.resize()},100);_&&(e.styleObserver=new MutationObserver(T),e.styleObserver.observe(e.container,{attributes:!0})),e.registerBinding(t,"resize",T),C&&(e.resizeObserver=new ResizeObserver(T),e.resizeObserver.observe(e.container));var E=function(U,le){for(;U!=null;)le(U),U=U.parentNode},A=function(){e.invalidateContainerClientCoordsCache()};E(e.container,function(_e){e.registerBinding(_e,"transitionend",A),e.registerBinding(_e,"animationend",A),e.registerBinding(_e,"scroll",A)}),e.registerBinding(e.container,"contextmenu",function(_e){_e.preventDefault()});var R=function(){return e.selection[4]!==0},D=function(U){for(var le=e.findContainerClientCoords(),ie=le[0],xe=le[1],ye=le[2],Ue=le[3],Ce=U.touches?U.touches:[U],Ke=!1,ht=0;ht<Ce.length;ht++){var kt=Ce[ht];if(ie<=kt.clientX&&kt.clientX<=ie+ye&&xe<=kt.clientY&&kt.clientY<=xe+Ue){Ke=!0;break}}if(!Ke)return!1;for(var ut=e.container,it=U.target,et=it.parentNode,at=!1;et;){if(et===ut){at=!0;break}et=et.parentNode}return!!at};e.registerBinding(e.container,"mousedown",function(U){if(D(U)&&!(e.hoverData.which===1&&U.which!==1)){U.preventDefault(),k(),e.hoverData.capture=!0,e.hoverData.which=U.which;var le=e.cy,ie=[U.clientX,U.clientY],xe=e.projectIntoViewport(ie[0],ie[1]),ye=e.selection,Ue=e.findNearestElements(xe[0],xe[1],!0,!1),Ce=Ue[0],Ke=e.dragData.possibleDragElements;e.hoverData.mdownPos=xe,e.hoverData.mdownGPos=ie;var ht=function(){e.hoverData.tapholdCancelled=!1,clearTimeout(e.hoverData.tapholdTimeout),e.hoverData.tapholdTimeout=setTimeout(function(){if(!e.hoverData.tapholdCancelled){var Rt=e.hoverData.down;Rt?Rt.emit({originalEvent:U,type:"taphold",position:{x:xe[0],y:xe[1]}}):le.emit({originalEvent:U,type:"taphold",position:{x:xe[0],y:xe[1]}})}},e.tapholdDuration)};if(U.which==3){e.hoverData.cxtStarted=!0;var kt={originalEvent:U,type:"cxttapstart",position:{x:xe[0],y:xe[1]}};Ce?(Ce.activate(),Ce.emit(kt),e.hoverData.down=Ce):le.emit(kt),e.hoverData.downTime=new Date().getTime(),e.hoverData.cxtDragged=!1}else if(U.which==1){Ce&&Ce.activate();{if(Ce!=null&&e.nodeIsGrabbable(Ce)){var ut=function(Rt){return{originalEvent:U,type:Rt,position:{x:xe[0],y:xe[1]}}},it=function(Rt){Rt.emit(ut("grab"))};if(f(Ce),!Ce.selected())Ke=e.dragData.possibleDragElements=le.collection(),x(Ce,{addToList:Ke}),Ce.emit(ut("grabon")).emit(ut("grab"));else{Ke=e.dragData.possibleDragElements=le.collection();var et=le.$(function(at){return at.isNode()&&at.selected()&&e.nodeIsGrabbable(at)});v(et,{addToList:Ke}),Ce.emit(ut("grabon")),et.forEach(it)}e.redrawHint("eles",!0),e.redrawHint("drag",!0)}e.hoverData.down=Ce,e.hoverData.downs=Ue,e.hoverData.downTime=new Date().getTime()}i(Ce,["mousedown","tapstart","vmousedown"],U,{x:xe[0],y:xe[1]}),Ce==null?(ye[4]=1,e.data.bgActivePosistion={x:xe[0],y:xe[1]},e.redrawHint("select",!0),e.redraw()):Ce.pannable()&&(ye[4]=1),ht()}ye[0]=ye[2]=xe[0],ye[1]=ye[3]=xe[1]}},!1);var N=r(e.container);e.registerBinding([t,N],"mousemove",function(U){var le=e.hoverData.capture;if(!(!le&&!D(U))){var ie=!1,xe=e.cy,ye=xe.zoom(),Ue=[U.clientX,U.clientY],Ce=e.projectIntoViewport(Ue[0],Ue[1]),Ke=e.hoverData.mdownPos,ht=e.hoverData.mdownGPos,kt=e.selection,ut=null;!e.hoverData.draggingEles&&!e.hoverData.dragging&&!e.hoverData.selecting&&(ut=e.findNearestElement(Ce[0],Ce[1],!0,!1));var it=e.hoverData.last,et=e.hoverData.down,at=[Ce[0]-kt[2],Ce[1]-kt[3]],Rt=e.dragData.possibleDragElements,xn;if(ht){var Kn=Ue[0]-ht[0],Vn=Kn*Kn,bn=Ue[1]-ht[1],Dn=bn*bn,mt=Vn+Dn;e.hoverData.isOverThresholdDrag=xn=mt>=e.desktopTapThreshold2}var M=a(U);xn&&(e.hoverData.tapholdCancelled=!0);var I=function(){var gn=e.hoverData.dragDelta=e.hoverData.dragDelta||[];gn.length===0?(gn.push(at[0]),gn.push(at[1])):(gn[0]+=at[0],gn[1]+=at[1])};ie=!0,i(ut,["mousemove","vmousemove","tapdrag"],U,{x:Ce[0],y:Ce[1]});var Me=function(){e.data.bgActivePosistion=void 0,e.hoverData.selecting||xe.emit({originalEvent:U,type:"boxstart",position:{x:Ce[0],y:Ce[1]}}),kt[4]=1,e.hoverData.selecting=!0,e.redrawHint("select",!0),e.redraw()};if(e.hoverData.which===3){if(xn){var $={originalEvent:U,type:"cxtdrag",position:{x:Ce[0],y:Ce[1]}};et?et.emit($):xe.emit($),e.hoverData.cxtDragged=!0,(!e.hoverData.cxtOver||ut!==e.hoverData.cxtOver)&&(e.hoverData.cxtOver&&e.hoverData.cxtOver.emit({originalEvent:U,type:"cxtdragout",position:{x:Ce[0],y:Ce[1]}}),e.hoverData.cxtOver=ut,ut&&ut.emit({originalEvent:U,type:"cxtdragover",position:{x:Ce[0],y:Ce[1]}}))}}else if(e.hoverData.dragging){if(ie=!0,xe.panningEnabled()&&xe.userPanningEnabled()){var ne;if(e.hoverData.justStartedPan){var Ut=e.hoverData.mdownPos;ne={x:(Ce[0]-Ut[0])*ye,y:(Ce[1]-Ut[1])*ye},e.hoverData.justStartedPan=!1}else ne={x:at[0]*ye,y:at[1]*ye};xe.panBy(ne),xe.emit("dragpan"),e.hoverData.dragged=!0}Ce=e.projectIntoViewport(U.clientX,U.clientY)}else if(kt[4]==1&&(et==null||et.pannable())){if(xn){if(!e.hoverData.dragging&&xe.boxSelectionEnabled()&&(M||!xe.panningEnabled()||!xe.userPanningEnabled()))Me();else if(!e.hoverData.selecting&&xe.panningEnabled()&&xe.userPanningEnabled()){var Fe=s(et,e.hoverData.downs);Fe&&(e.hoverData.dragging=!0,e.hoverData.justStartedPan=!0,kt[4]=0,e.data.bgActivePosistion=Wl(Ke),e.redrawHint("select",!0),e.redraw())}et&&et.pannable()&&et.active()&&et.unactivate()}}else{if(et&&et.pannable()&&et.active()&&et.unactivate(),(!et||!et.grabbed())&&ut!=it&&(it&&i(it,["mouseout","tapdragout"],U,{x:Ce[0],y:Ce[1]}),ut&&i(ut,["mouseover","tapdragover"],U,{x:Ce[0],y:Ce[1]}),e.hoverData.last=ut),et)if(xn){if(xe.boxSelectionEnabled()&&M)et&&et.grabbed()&&(y(Rt),et.emit("freeon"),Rt.emit("free"),e.dragData.didDrag&&(et.emit("dragfreeon"),Rt.emit("dragfree"))),Me();else if(et&&et.grabbed()&&e.nodeIsDraggable(et)){var jt=!e.dragData.didDrag;jt&&e.redrawHint("eles",!0),e.dragData.didDrag=!0,e.hoverData.draggingEles||v(Rt,{inDragLayer:!0});var wn={x:0,y:0};if(ze(at[0])&&ze(at[1])&&(wn.x+=at[0],wn.y+=at[1],jt)){var We=e.hoverData.dragDelta;We&&ze(We[0])&&ze(We[1])&&(wn.x+=We[0],wn.y+=We[1])}e.hoverData.draggingEles=!0,Rt.silentShift(wn).emit("position drag"),e.redrawHint("drag",!0),e.redraw()}}else I();ie=!0}if(kt[2]=Ce[0],kt[3]=Ce[1],ie)return U.stopPropagation&&U.stopPropagation(),U.preventDefault&&U.preventDefault(),!1}},!1);var z,j,V;e.registerBinding(t,"mouseup",function(U){if(!(e.hoverData.which===1&&U.which!==1&&e.hoverData.capture)){var le=e.hoverData.capture;if(le){e.hoverData.capture=!1;var ie=e.cy,xe=e.projectIntoViewport(U.clientX,U.clientY),ye=e.selection,Ue=e.findNearestElement(xe[0],xe[1],!0,!1),Ce=e.dragData.possibleDragElements,Ke=e.hoverData.down,ht=a(U);if(e.data.bgActivePosistion&&(e.redrawHint("select",!0),e.redraw()),e.hoverData.tapholdCancelled=!0,e.data.bgActivePosistion=void 0,Ke&&Ke.unactivate(),e.hoverData.which===3){var kt={originalEvent:U,type:"cxttapend",position:{x:xe[0],y:xe[1]}};if(Ke?Ke.emit(kt):ie.emit(kt),!e.hoverData.cxtDragged){var ut={originalEvent:U,type:"cxttap",position:{x:xe[0],y:xe[1]}};Ke?Ke.emit(ut):ie.emit(ut)}e.hoverData.cxtDragged=!1,e.hoverData.which=null}else if(e.hoverData.which===1){if(i(Ue,["mouseup","tapend","vmouseup"],U,{x:xe[0],y:xe[1]}),!e.dragData.didDrag&&!e.hoverData.dragged&&!e.hoverData.selecting&&!e.hoverData.isOverThresholdDrag&&(i(Ke,["click","tap","vclick"],U,{x:xe[0],y:xe[1]}),j=!1,U.timeStamp-V<=ie.multiClickDebounceTime()?(z&&clearTimeout(z),j=!0,V=null,i(Ke,["dblclick","dbltap","vdblclick"],U,{x:xe[0],y:xe[1]})):(z=setTimeout(function(){j||i(Ke,["oneclick","onetap","voneclick"],U,{x:xe[0],y:xe[1]})},ie.multiClickDebounceTime()),V=U.timeStamp)),Ke==null&&!e.dragData.didDrag&&!e.hoverData.selecting&&!e.hoverData.dragged&&!a(U)&&(ie.$(n).unselect(["tapunselect"]),Ce.length>0&&e.redrawHint("eles",!0),e.dragData.possibleDragElements=Ce=ie.collection()),Ue==Ke&&!e.dragData.didDrag&&!e.hoverData.selecting&&Ue!=null&&Ue._private.selectable&&(e.hoverData.dragging||(ie.selectionType()==="additive"||ht?Ue.selected()?Ue.unselect(["tapunselect"]):Ue.select(["tapselect"]):ht||(ie.$(n).unmerge(Ue).unselect(["tapunselect"]),Ue.select(["tapselect"]))),e.redrawHint("eles",!0)),e.hoverData.selecting){var it=ie.collection(e.getAllInBox(ye[0],ye[1],ye[2],ye[3]));e.redrawHint("select",!0),it.length>0&&e.redrawHint("eles",!0),ie.emit({type:"boxend",originalEvent:U,position:{x:xe[0],y:xe[1]}});var et=function(xn){return xn.selectable()&&!xn.selected()};ie.selectionType()==="additive"||ht||ie.$(n).unmerge(it).unselect(),it.emit("box").stdFilter(et).select().emit("boxselect"),e.redraw()}if(e.hoverData.dragging&&(e.hoverData.dragging=!1,e.redrawHint("select",!0),e.redrawHint("eles",!0),e.redraw()),!ye[4]){e.redrawHint("drag",!0),e.redrawHint("eles",!0);var at=Ke&&Ke.grabbed();y(Ce),at&&(Ke.emit("freeon"),Ce.emit("free"),e.dragData.didDrag&&(Ke.emit("dragfreeon"),Ce.emit("dragfree")))}}ye[4]=0,e.hoverData.down=null,e.hoverData.cxtStarted=!1,e.hoverData.draggingEles=!1,e.hoverData.selecting=!1,e.hoverData.isOverThresholdDrag=!1,e.dragData.didDrag=!1,e.hoverData.dragged=!1,e.hoverData.dragDelta=[],e.hoverData.mdownPos=null,e.hoverData.mdownGPos=null,e.hoverData.which=null}}},!1);var Y=[],Z=4,X,G=1e5,ee=function(U,le){for(var ie=0;ie<U.length;ie++)if(U[ie]%le!==0)return!1;return!0},B=function(U){for(var le=Math.abs(U[0]),ie=1;ie<U.length;ie++)if(Math.abs(U[ie])!==le)return!1;return!0},K=function(U){var le=!1,ie=U.deltaY;if(ie==null&&(U.wheelDeltaY!=null?ie=U.wheelDeltaY/4:U.wheelDelta!=null&&(ie=U.wheelDelta/4)),X==null)if(Y.length>=Z){var xe=Y;if(X=ee(xe,5),!X){var ye=Math.abs(xe[0]);X=B(xe)&&ye>5}if(X)for(var Ue=0;Ue<xe.length;Ue++)G=Math.min(Math.abs(xe[Ue]),G)}else Y.push(ie),le=!0;else X&&(G=Math.min(Math.abs(ie),G));if(!e.scrollingPage){var Ce=e.cy,Ke=Ce.zoom(),ht=Ce.pan(),kt=e.projectIntoViewport(U.clientX,U.clientY),ut=[kt[0]*Ke+ht.x,kt[1]*Ke+ht.y];if(e.hoverData.draggingEles||e.hoverData.dragging||e.hoverData.cxtStarted||R()){U.preventDefault();return}if(Ce.panningEnabled()&&Ce.userPanningEnabled()&&Ce.zoomingEnabled()&&Ce.userZoomingEnabled()){U.preventDefault(),e.data.wheelZooming=!0,clearTimeout(e.data.wheelTimeout),e.data.wheelTimeout=setTimeout(function(){e.data.wheelZooming=!1,e.redrawHint("eles",!0),e.redraw()},150);var it;le&&Math.abs(ie)>5&&(ie=Cb(ie)*5),it=ie/-250,X&&(it/=G,it*=3),it=it*e.wheelSensitivity;var et=U.deltaMode===1;et&&(it*=33);var at=Ce.zoom()*Math.pow(10,it);U.type==="gesturechange"&&(at=e.gestureStartZoom*U.scale),Ce.zoom({level:at,renderedPosition:{x:ut[0],y:ut[1]}}),Ce.emit(U.type==="gesturechange"?"pinchzoom":"scrollzoom")}}};e.registerBinding(e.container,"wheel",K,!0),e.registerBinding(t,"scroll",function(U){e.scrollingPage=!0,clearTimeout(e.scrollingPageTimeout),e.scrollingPageTimeout=setTimeout(function(){e.scrollingPage=!1},250)},!0),e.registerBinding(e.container,"gesturestart",function(U){e.gestureStartZoom=e.cy.zoom(),e.hasTouchStarted||U.preventDefault()},!0),e.registerBinding(e.container,"gesturechange",function(_e){e.hasTouchStarted||K(_e)},!0),e.registerBinding(e.container,"mouseout",function(U){var le=e.projectIntoViewport(U.clientX,U.clientY);e.cy.emit({originalEvent:U,type:"mouseout",position:{x:le[0],y:le[1]}})},!1),e.registerBinding(e.container,"mouseover",function(U){var le=e.projectIntoViewport(U.clientX,U.clientY);e.cy.emit({originalEvent:U,type:"mouseover",position:{x:le[0],y:le[1]}})},!1);var J,q,he,de,oe,ke,Ae,Se,ce,ge,me,Ee,je,ct=function(U,le,ie,xe){return Math.sqrt((ie-U)*(ie-U)+(xe-le)*(xe-le))},zt=function(U,le,ie,xe){return(ie-U)*(ie-U)+(xe-le)*(xe-le)},Tt;e.registerBinding(e.container,"touchstart",Tt=function(U){if(e.hasTouchStarted=!0,!!D(U)){k(),e.touchData.capture=!0,e.data.bgActivePosistion=void 0;var le=e.cy,ie=e.touchData.now,xe=e.touchData.earlier;if(U.touches[0]){var ye=e.projectIntoViewport(U.touches[0].clientX,U.touches[0].clientY);ie[0]=ye[0],ie[1]=ye[1]}if(U.touches[1]){var ye=e.projectIntoViewport(U.touches[1].clientX,U.touches[1].clientY);ie[2]=ye[0],ie[3]=ye[1]}if(U.touches[2]){var ye=e.projectIntoViewport(U.touches[2].clientX,U.touches[2].clientY);ie[4]=ye[0],ie[5]=ye[1]}if(U.touches[1]){e.touchData.singleTouchMoved=!0,y(e.dragData.touchDragEles);var Ue=e.findContainerClientCoords();ce=Ue[0],ge=Ue[1],me=Ue[2],Ee=Ue[3],J=U.touches[0].clientX-ce,q=U.touches[0].clientY-ge,he=U.touches[1].clientX-ce,de=U.touches[1].clientY-ge,je=0<=J&&J<=me&&0<=he&&he<=me&&0<=q&&q<=Ee&&0<=de&&de<=Ee;var Ce=le.pan(),Ke=le.zoom();oe=ct(J,q,he,de),ke=zt(J,q,he,de),Ae=[(J+he)/2,(q+de)/2],Se=[(Ae[0]-Ce.x)/Ke,(Ae[1]-Ce.y)/Ke];var ht=200,kt=ht*ht;if(ke<kt&&!U.touches[2]){var ut=e.findNearestElement(ie[0],ie[1],!0,!0),it=e.findNearestElement(ie[2],ie[3],!0,!0);ut&&ut.isNode()?(ut.activate().emit({originalEvent:U,type:"cxttapstart",position:{x:ie[0],y:ie[1]}}),e.touchData.start=ut):it&&it.isNode()?(it.activate().emit({originalEvent:U,type:"cxttapstart",position:{x:ie[0],y:ie[1]}}),e.touchData.start=it):le.emit({originalEvent:U,type:"cxttapstart",position:{x:ie[0],y:ie[1]}}),e.touchData.start&&(e.touchData.start._private.grabbed=!1),e.touchData.cxt=!0,e.touchData.cxtDragged=!1,e.data.bgActivePosistion=void 0,e.redraw();return}}if(U.touches[2])le.boxSelectionEnabled()&&U.preventDefault();else if(!U.touches[1]){if(U.touches[0]){var et=e.findNearestElements(ie[0],ie[1],!0,!0),at=et[0];if(at!=null&&(at.activate(),e.touchData.start=at,e.touchData.starts=et,e.nodeIsGrabbable(at))){var Rt=e.dragData.touchDragEles=le.collection(),xn=null;e.redrawHint("eles",!0),e.redrawHint("drag",!0),at.selected()?(xn=le.$(function(mt){return mt.selected()&&e.nodeIsGrabbable(mt)}),v(xn,{addToList:Rt})):x(at,{addToList:Rt}),f(at);var Kn=function(M){return{originalEvent:U,type:M,position:{x:ie[0],y:ie[1]}}};at.emit(Kn("grabon")),xn?xn.forEach(function(mt){mt.emit(Kn("grab"))}):at.emit(Kn("grab"))}i(at,["touchstart","tapstart","vmousedown"],U,{x:ie[0],y:ie[1]}),at==null&&(e.data.bgActivePosistion={x:ye[0],y:ye[1]},e.redrawHint("select",!0),e.redraw()),e.touchData.singleTouchMoved=!1,e.touchData.singleTouchStartTime=+new Date,clearTimeout(e.touchData.tapholdTimeout),e.touchData.tapholdTimeout=setTimeout(function(){e.touchData.singleTouchMoved===!1&&!e.pinching&&!e.touchData.selecting&&i(e.touchData.start,["taphold"],U,{x:ie[0],y:ie[1]})},e.tapholdDuration)}}if(U.touches.length>=1){for(var Vn=e.touchData.startPosition=[null,null,null,null,null,null],bn=0;bn<ie.length;bn++)Vn[bn]=xe[bn]=ie[bn];var Dn=U.touches[0];e.touchData.startGPosition=[Dn.clientX,Dn.clientY]}}},!1);var He;e.registerBinding(t,"touchmove",He=function(U){var le=e.touchData.capture;if(!(!le&&!D(U))){var ie=e.selection,xe=e.cy,ye=e.touchData.now,Ue=e.touchData.earlier,Ce=xe.zoom();if(U.touches[0]){var Ke=e.projectIntoViewport(U.touches[0].clientX,U.touches[0].clientY);ye[0]=Ke[0],ye[1]=Ke[1]}if(U.touches[1]){var Ke=e.projectIntoViewport(U.touches[1].clientX,U.touches[1].clientY);ye[2]=Ke[0],ye[3]=Ke[1]}if(U.touches[2]){var Ke=e.projectIntoViewport(U.touches[2].clientX,U.touches[2].clientY);ye[4]=Ke[0],ye[5]=Ke[1]}var ht=e.touchData.startGPosition,kt;if(le&&U.touches[0]&&ht){for(var ut=[],it=0;it<ye.length;it++)ut[it]=ye[it]-Ue[it];var et=U.touches[0].clientX-ht[0],at=et*et,Rt=U.touches[0].clientY-ht[1],xn=Rt*Rt,Kn=at+xn;kt=Kn>=e.touchTapThreshold2}if(le&&e.touchData.cxt){U.preventDefault();var Vn=U.touches[0].clientX-ce,bn=U.touches[0].clientY-ge,Dn=U.touches[1].clientX-ce,mt=U.touches[1].clientY-ge,M=zt(Vn,bn,Dn,mt),I=M/ke,Me=150,$=Me*Me,ne=1.5,Ut=ne*ne;if(I>=Ut||M>=$){e.touchData.cxt=!1,e.data.bgActivePosistion=void 0,e.redrawHint("select",!0);var Fe={originalEvent:U,type:"cxttapend",position:{x:ye[0],y:ye[1]}};e.touchData.start?(e.touchData.start.unactivate().emit(Fe),e.touchData.start=null):xe.emit(Fe)}}if(le&&e.touchData.cxt){var Fe={originalEvent:U,type:"cxtdrag",position:{x:ye[0],y:ye[1]}};e.data.bgActivePosistion=void 0,e.redrawHint("select",!0),e.touchData.start?e.touchData.start.emit(Fe):xe.emit(Fe),e.touchData.start&&(e.touchData.start._private.grabbed=!1),e.touchData.cxtDragged=!0;var jt=e.findNearestElement(ye[0],ye[1],!0,!0);(!e.touchData.cxtOver||jt!==e.touchData.cxtOver)&&(e.touchData.cxtOver&&e.touchData.cxtOver.emit({originalEvent:U,type:"cxtdragout",position:{x:ye[0],y:ye[1]}}),e.touchData.cxtOver=jt,jt&&jt.emit({originalEvent:U,type:"cxtdragover",position:{x:ye[0],y:ye[1]}}))}else if(le&&U.touches[2]&&xe.boxSelectionEnabled())U.preventDefault(),e.data.bgActivePosistion=void 0,this.lastThreeTouch=+new Date,e.touchData.selecting||xe.emit({originalEvent:U,type:"boxstart",position:{x:ye[0],y:ye[1]}}),e.touchData.selecting=!0,e.touchData.didSelect=!0,ie[4]=1,!ie||ie.length===0||ie[0]===void 0?(ie[0]=(ye[0]+ye[2]+ye[4])/3,ie[1]=(ye[1]+ye[3]+ye[5])/3,ie[2]=(ye[0]+ye[2]+ye[4])/3+1,ie[3]=(ye[1]+ye[3]+ye[5])/3+1):(ie[2]=(ye[0]+ye[2]+ye[4])/3,ie[3]=(ye[1]+ye[3]+ye[5])/3),e.redrawHint("select",!0),e.redraw();else if(le&&U.touches[1]&&!e.touchData.didSelect&&xe.zoomingEnabled()&&xe.panningEnabled()&&xe.userZoomingEnabled()&&xe.userPanningEnabled()){U.preventDefault(),e.data.bgActivePosistion=void 0,e.redrawHint("select",!0);var wn=e.dragData.touchDragEles;if(wn){e.redrawHint("drag",!0);for(var We=0;We<wn.length;We++){var un=wn[We]._private;un.grabbed=!1,un.rscratch.inDragLayer=!1}}var gn=e.touchData.start,Vn=U.touches[0].clientX-ce,bn=U.touches[0].clientY-ge,Dn=U.touches[1].clientX-ce,mt=U.touches[1].clientY-ge,ro=ct(Vn,bn,Dn,mt),re=ro/oe;if(je){var Li=Vn-J,se=bn-q,w0=Dn-he,k0=mt-de,S0=(Li+w0)/2,ul=(se+k0)/2,st=xe.zoom(),io=st*re,ba=xe.pan(),Yu=Se[0]*st+ba.x,_0=Se[1]*st+ba.y,cl={x:-io/st*(Yu-ba.x-S0)+Yu,y:-io/st*(_0-ba.y-ul)+_0};if(gn&&gn.active()){var wn=e.dragData.touchDragEles;y(wn),e.redrawHint("drag",!0),e.redrawHint("eles",!0),gn.unactivate().emit("freeon"),wn.emit("free"),e.dragData.didDrag&&(gn.emit("dragfreeon"),wn.emit("dragfree"))}xe.viewport({zoom:io,pan:cl,cancelOnFailedZoom:!0}),xe.emit("pinchzoom"),oe=ro,J=Vn,q=bn,he=Dn,de=mt,e.pinching=!0}if(U.touches[0]){var Ke=e.projectIntoViewport(U.touches[0].clientX,U.touches[0].clientY);ye[0]=Ke[0],ye[1]=Ke[1]}if(U.touches[1]){var Ke=e.projectIntoViewport(U.touches[1].clientX,U.touches[1].clientY);ye[2]=Ke[0],ye[3]=Ke[1]}if(U.touches[2]){var Ke=e.projectIntoViewport(U.touches[2].clientX,U.touches[2].clientY);ye[4]=Ke[0],ye[5]=Ke[1]}}else if(U.touches[0]&&!e.touchData.didSelect){var kn=e.touchData.start,Xu=e.touchData.last,jt;if(!e.hoverData.draggingEles&&!e.swipePanning&&(jt=e.findNearestElement(ye[0],ye[1],!0,!0)),le&&kn!=null&&U.preventDefault(),le&&kn!=null&&e.nodeIsDraggable(kn))if(kt){var wn=e.dragData.touchDragEles,C0=!e.dragData.didDrag;C0&&v(wn,{inDragLayer:!0}),e.dragData.didDrag=!0;var ao={x:0,y:0};if(ze(ut[0])&&ze(ut[1])&&(ao.x+=ut[0],ao.y+=ut[1],C0)){e.redrawHint("eles",!0);var Zr=e.touchData.dragDelta;Zr&&ze(Zr[0])&&ze(Zr[1])&&(ao.x+=Zr[0],ao.y+=Zr[1])}e.hoverData.draggingEles=!0,wn.silentShift(ao).emit("position drag"),e.redrawHint("drag",!0),e.touchData.startPosition[0]==Ue[0]&&e.touchData.startPosition[1]==Ue[1]&&e.redrawHint("eles",!0),e.redraw()}else{var Zr=e.touchData.dragDelta=e.touchData.dragDelta||[];Zr.length===0?(Zr.push(ut[0]),Zr.push(ut[1])):(Zr[0]+=ut[0],Zr[1]+=ut[1])}if(i(kn||jt,["touchmove","tapdrag","vmousemove"],U,{x:ye[0],y:ye[1]}),(!kn||!kn.grabbed())&&jt!=Xu&&(Xu&&Xu.emit({originalEvent:U,type:"tapdragout",position:{x:ye[0],y:ye[1]}}),jt&&jt.emit({originalEvent:U,type:"tapdragover",position:{x:ye[0],y:ye[1]}})),e.touchData.last=jt,le)for(var We=0;We<ye.length;We++)ye[We]&&e.touchData.startPosition[We]&&kt&&(e.touchData.singleTouchMoved=!0);if(le&&(kn==null||kn.pannable())&&xe.panningEnabled()&&xe.userPanningEnabled()){var Xg=s(kn,e.touchData.starts);Xg&&(U.preventDefault(),e.data.bgActivePosistion||(e.data.bgActivePosistion=Wl(e.touchData.startPosition)),e.swipePanning?(xe.panBy({x:ut[0]*Ce,y:ut[1]*Ce}),xe.emit("dragpan")):kt&&(e.swipePanning=!0,xe.panBy({x:et*Ce,y:Rt*Ce}),xe.emit("dragpan"),kn&&(kn.unactivate(),e.redrawHint("select",!0),e.touchData.start=null)));var Ke=e.projectIntoViewport(U.touches[0].clientX,U.touches[0].clientY);ye[0]=Ke[0],ye[1]=Ke[1]}}for(var it=0;it<ye.length;it++)Ue[it]=ye[it];le&&U.touches.length>0&&!e.hoverData.draggingEles&&!e.swipePanning&&e.data.bgActivePosistion!=null&&(e.data.bgActivePosistion=void 0,e.redrawHint("select",!0),e.redraw())}},!1);var $e;e.registerBinding(t,"touchcancel",$e=function(U){var le=e.touchData.start;e.touchData.capture=!1,le&&le.unactivate()});var Qe,nt,Je,rt;if(e.registerBinding(t,"touchend",Qe=function(U){var le=e.touchData.start,ie=e.touchData.capture;if(ie)U.touches.length===0&&(e.touchData.capture=!1),U.preventDefault();else return;var xe=e.selection;e.swipePanning=!1,e.hoverData.draggingEles=!1;var ye=e.cy,Ue=ye.zoom(),Ce=e.touchData.now,Ke=e.touchData.earlier;if(U.touches[0]){var ht=e.projectIntoViewport(U.touches[0].clientX,U.touches[0].clientY);Ce[0]=ht[0],Ce[1]=ht[1]}if(U.touches[1]){var ht=e.projectIntoViewport(U.touches[1].clientX,U.touches[1].clientY);Ce[2]=ht[0],Ce[3]=ht[1]}if(U.touches[2]){var ht=e.projectIntoViewport(U.touches[2].clientX,U.touches[2].clientY);Ce[4]=ht[0],Ce[5]=ht[1]}le&&le.unactivate();var kt;if(e.touchData.cxt){if(kt={originalEvent:U,type:"cxttapend",position:{x:Ce[0],y:Ce[1]}},le?le.emit(kt):ye.emit(kt),!e.touchData.cxtDragged){var ut={originalEvent:U,type:"cxttap",position:{x:Ce[0],y:Ce[1]}};le?le.emit(ut):ye.emit(ut)}e.touchData.start&&(e.touchData.start._private.grabbed=!1),e.touchData.cxt=!1,e.touchData.start=null,e.redraw();return}if(!U.touches[2]&&ye.boxSelectionEnabled()&&e.touchData.selecting){e.touchData.selecting=!1;var it=ye.collection(e.getAllInBox(xe[0],xe[1],xe[2],xe[3]));xe[0]=void 0,xe[1]=void 0,xe[2]=void 0,xe[3]=void 0,xe[4]=0,e.redrawHint("select",!0),ye.emit({type:"boxend",originalEvent:U,position:{x:Ce[0],y:Ce[1]}});var et=function($){return $.selectable()&&!$.selected()};it.emit("box").stdFilter(et).select().emit("boxselect"),it.nonempty()&&e.redrawHint("eles",!0),e.redraw()}if(le!=null&&le.unactivate(),U.touches[2])e.data.bgActivePosistion=void 0,e.redrawHint("select",!0);else if(!U.touches[1]){if(!U.touches[0]){if(!U.touches[0]){e.data.bgActivePosistion=void 0,e.redrawHint("select",!0);var at=e.dragData.touchDragEles;if(le!=null){var Rt=le._private.grabbed;y(at),e.redrawHint("drag",!0),e.redrawHint("eles",!0),Rt&&(le.emit("freeon"),at.emit("free"),e.dragData.didDrag&&(le.emit("dragfreeon"),at.emit("dragfree"))),i(le,["touchend","tapend","vmouseup","tapdragout"],U,{x:Ce[0],y:Ce[1]}),le.unactivate(),e.touchData.start=null}else{var xn=e.findNearestElement(Ce[0],Ce[1],!0,!0);i(xn,["touchend","tapend","vmouseup","tapdragout"],U,{x:Ce[0],y:Ce[1]})}var Kn=e.touchData.startPosition[0]-Ce[0],Vn=Kn*Kn,bn=e.touchData.startPosition[1]-Ce[1],Dn=bn*bn,mt=Vn+Dn,M=mt*Ue*Ue;e.touchData.singleTouchMoved||(le||ye.$(":selected").unselect(["tapunselect"]),i(le,["tap","vclick"],U,{x:Ce[0],y:Ce[1]}),nt=!1,U.timeStamp-rt<=ye.multiClickDebounceTime()?(Je&&clearTimeout(Je),nt=!0,rt=null,i(le,["dbltap","vdblclick"],U,{x:Ce[0],y:Ce[1]})):(Je=setTimeout(function(){nt||i(le,["onetap","voneclick"],U,{x:Ce[0],y:Ce[1]})},ye.multiClickDebounceTime()),rt=U.timeStamp)),le!=null&&!e.dragData.didDrag&&le._private.selectable&&M<e.touchTapThreshold2&&!e.pinching&&(ye.selectionType()==="single"?(ye.$(n).unmerge(le).unselect(["tapunselect"]),le.select(["tapselect"])):le.selected()?le.unselect(["tapunselect"]):le.select(["tapselect"]),e.redrawHint("eles",!0)),e.touchData.singleTouchMoved=!0}}}for(var I=0;I<Ce.length;I++)Ke[I]=Ce[I];e.dragData.didDrag=!1,U.touches.length===0&&(e.touchData.dragDelta=[],e.touchData.startPosition=[null,null,null,null,null,null],e.touchData.startGPosition=null,e.touchData.didSelect=!1),U.touches.length<2&&(U.touches.length===1&&(e.touchData.startGPosition=[U.touches[0].clientX,U.touches[0].clientY]),e.pinching=!1,e.redrawHint("eles",!0),e.redraw())},!1),typeof TouchEvent>"u"){var lt=[],bt=function(U){return{clientX:U.clientX,clientY:U.clientY,force:1,identifier:U.pointerId,pageX:U.pageX,pageY:U.pageY,radiusX:U.width/2,radiusY:U.height/2,screenX:U.screenX,screenY:U.screenY,target:U.target}},Bt=function(U){return{event:U,touch:bt(U)}},be=function(U){lt.push(Bt(U))},Te=function(U){for(var le=0;le<lt.length;le++){var ie=lt[le];if(ie.event.pointerId===U.pointerId){lt.splice(le,1);return}}},Be=function(U){var le=lt.filter(function(ie){return ie.event.pointerId===U.pointerId})[0];le.event=U,le.touch=bt(U)},Xe=function(U){U.touches=lt.map(function(le){return le.touch})},Oe=function(U){return U.pointerType==="mouse"||U.pointerType===4};e.registerBinding(e.container,"pointerdown",function(_e){Oe(_e)||(_e.preventDefault(),be(_e),Xe(_e),Tt(_e))}),e.registerBinding(e.container,"pointerup",function(_e){Oe(_e)||(Te(_e),Xe(_e),Qe(_e))}),e.registerBinding(e.container,"pointercancel",function(_e){Oe(_e)||(Te(_e),Xe(_e),$e(_e))}),e.registerBinding(e.container,"pointermove",function(_e){Oe(_e)||(_e.preventDefault(),Be(_e),Xe(_e),He(_e))})}};var ts={};ts.generatePolygon=function(e,t){return this.nodeShapes[e]={renderer:this,name:e,points:t,draw:function(r,i,a,s,o,l){this.renderer.nodeShapeImpl("polygon",r,i,a,s,o,this.points)},intersectLine:function(r,i,a,s,o,l,u,c){return $f(o,l,this.points,r,i,a/2,s/2,u)},checkPoint:function(r,i,a,s,o,l,u,c){return Ka(r,i,this.points,l,u,s,o,[0,-1],a)}}};ts.generateEllipse=function(){return this.nodeShapes.ellipse={renderer:this,name:"ellipse",draw:function(t,n,r,i,a,s){this.renderer.nodeShapeImpl(this.name,t,n,r,i,a)},intersectLine:function(t,n,r,i,a,s,o,l){return Jee(a,s,t,n,r/2+o,i/2+o)},checkPoint:function(t,n,r,i,a,s,o,l){return Lo(t,n,i,a,s,o,r)}}};ts.generateRoundPolygon=function(e,t){return this.nodeShapes[e]={renderer:this,name:e,points:t,getOrCreateCorners:function(r,i,a,s,o,l,u){if(l[u]!==void 0&&l[u+"-cx"]===r&&l[u+"-cy"]===i)return l[u];l[u]=new Array(t.length/2),l[u+"-cx"]=r,l[u+"-cy"]=i;var c=a/2,f=s/2;o=o==="auto"?EM(a,s):o;for(var h=new Array(t.length/2),d=0;d<t.length/2;d++)h[d]={x:r+c*t[d*2],y:i+f*t[d*2+1]};var p,v,x,y,w=h.length;for(v=h[w-1],p=0;p<w;p++)x=h[p%w],y=h[(p+1)%w],l[u][p]=Bb(v,x,y,o),v=x,x=y;return l[u]},draw:function(r,i,a,s,o,l,u){this.renderer.nodeShapeImpl("round-polygon",r,i,a,s,o,this.points,this.getOrCreateCorners(i,a,s,o,l,u,"drawCorners"))},intersectLine:function(r,i,a,s,o,l,u,c,f){return ete(o,l,this.points,r,i,a,s,u,this.getOrCreateCorners(r,i,a,s,c,f,"corners"))},checkPoint:function(r,i,a,s,o,l,u,c,f){return Zee(r,i,this.points,l,u,s,o,this.getOrCreateCorners(l,u,s,o,c,f,"corners"))}}};ts.generateRoundRectangle=function(){return this.nodeShapes["round-rectangle"]=this.nodeShapes.roundrectangle={renderer:this,name:"round-rectangle",points:Dr(4,0),draw:function(t,n,r,i,a,s){this.renderer.nodeShapeImpl(this.name,t,n,r,i,a,this.points,s)},intersectLine:function(t,n,r,i,a,s,o,l){return CM(a,s,t,n,r,i,o,l)},checkPoint:function(t,n,r,i,a,s,o,l){var u=i/2,c=a/2;l=l==="auto"?qs(i,a):l,l=Math.min(u,c,l);var f=l*2;return!!(Ka(t,n,this.points,s,o,i,a-f,[0,-1],r)||Ka(t,n,this.points,s,o,i-f,a,[0,-1],r)||Lo(t,n,f,f,s-u+l,o-c+l,r)||Lo(t,n,f,f,s+u-l,o-c+l,r)||Lo(t,n,f,f,s+u-l,o+c-l,r)||Lo(t,n,f,f,s-u+l,o+c-l,r))}}};ts.generateCutRectangle=function(){return this.nodeShapes["cut-rectangle"]=this.nodeShapes.cutrectangle={renderer:this,name:"cut-rectangle",cornerLength:Eb(),points:Dr(4,0),draw:function(t,n,r,i,a,s){this.renderer.nodeShapeImpl(this.name,t,n,r,i,a,null,s)},generateCutTrianglePts:function(t,n,r,i,a){var s=a==="auto"?this.cornerLength:a,o=n/2,l=t/2,u=r-l,c=r+l,f=i-o,h=i+o;return{topLeft:[u,f+s,u+s,f,u+s,f+s],topRight:[c-s,f,c,f+s,c-s,f+s],bottomRight:[c,h-s,c-s,h,c-s,h-s],bottomLeft:[u+s,h,u,h-s,u+s,h-s]}},intersectLine:function(t,n,r,i,a,s,o,l){var u=this.generateCutTrianglePts(r+2*o,i+2*o,t,n,l),c=[].concat.apply([],[u.topLeft.splice(0,4),u.topRight.splice(0,4),u.bottomRight.splice(0,4),u.bottomLeft.splice(0,4)]);return $f(a,s,c,t,n)},checkPoint:function(t,n,r,i,a,s,o,l){var u=l==="auto"?this.cornerLength:l;if(Ka(t,n,this.points,s,o,i,a-2*u,[0,-1],r)||Ka(t,n,this.points,s,o,i-2*u,a,[0,-1],r))return!0;var c=this.generateCutTrianglePts(i,a,s,o);return Hr(t,n,c.topLeft)||Hr(t,n,c.topRight)||Hr(t,n,c.bottomRight)||Hr(t,n,c.bottomLeft)}}};ts.generateBarrel=function(){return this.nodeShapes.barrel={renderer:this,name:"barrel",points:Dr(4,0),draw:function(t,n,r,i,a,s){this.renderer.nodeShapeImpl(this.name,t,n,r,i,a)},intersectLine:function(t,n,r,i,a,s,o,l){var u=.15,c=.5,f=.85,h=this.generateBarrelBezierPts(r+2*o,i+2*o,t,n),d=function(x){var y=lu({x:x[0],y:x[1]},{x:x[2],y:x[3]},{x:x[4],y:x[5]},u),w=lu({x:x[0],y:x[1]},{x:x[2],y:x[3]},{x:x[4],y:x[5]},c),k=lu({x:x[0],y:x[1]},{x:x[2],y:x[3]},{x:x[4],y:x[5]},f);return[x[0],x[1],y.x,y.y,w.x,w.y,k.x,k.y,x[4],x[5]]},p=[].concat(d(h.topLeft),d(h.topRight),d(h.bottomRight),d(h.bottomLeft));return $f(a,s,p,t,n)},generateBarrelBezierPts:function(t,n,r,i){var a=n/2,s=t/2,o=r-s,l=r+s,u=i-a,c=i+a,f=t4(t,n),h=f.heightOffset,d=f.widthOffset,p=f.ctrlPtOffsetPct*t,v={topLeft:[o,u+h,o+p,u,o+d,u],topRight:[l-d,u,l-p,u,l,u+h],bottomRight:[l,c-h,l-p,c,l-d,c],bottomLeft:[o+d,c,o+p,c,o,c-h]};return v.topLeft.isTop=!0,v.topRight.isTop=!0,v.bottomLeft.isBottom=!0,v.bottomRight.isBottom=!0,v},checkPoint:function(t,n,r,i,a,s,o,l){var u=t4(i,a),c=u.heightOffset,f=u.widthOffset;if(Ka(t,n,this.points,s,o,i,a-2*c,[0,-1],r)||Ka(t,n,this.points,s,o,i-2*f,a,[0,-1],r))return!0;for(var h=this.generateBarrelBezierPts(i,a,s,o),d=function(A,R,D){var N=D[4],z=D[2],j=D[0],V=D[5],Y=D[1],Z=Math.min(N,j),X=Math.max(N,j),G=Math.min(V,Y),ee=Math.max(V,Y);if(Z<=A&&A<=X&&G<=R&&R<=ee){var B=tte(N,z,j),K=Yee(B[0],B[1],B[2],A),J=K.filter(function(q){return 0<=q&&q<=1});if(J.length>0)return J[0]}return null},p=Object.keys(h),v=0;v<p.length;v++){var x=p[v],y=h[x],w=d(t,n,y);if(w!=null){var k=y[5],_=y[3],C=y[1],T=sr(k,_,C,w);if(y.isTop&&T<=n||y.isBottom&&n<=T)return!0}}return!1}}};ts.generateBottomRoundrectangle=function(){return this.nodeShapes["bottom-round-rectangle"]=this.nodeShapes.bottomroundrectangle={renderer:this,name:"bottom-round-rectangle",points:Dr(4,0),draw:function(t,n,r,i,a,s){this.renderer.nodeShapeImpl(this.name,t,n,r,i,a,this.points,s)},intersectLine:function(t,n,r,i,a,s,o,l){var u=t-(r/2+o),c=n-(i/2+o),f=c,h=t+(r/2+o),d=ws(a,s,t,n,u,c,h,f,!1);return d.length>0?d:CM(a,s,t,n,r,i,o,l)},checkPoint:function(t,n,r,i,a,s,o,l){l=l==="auto"?qs(i,a):l;var u=2*l;if(Ka(t,n,this.points,s,o,i,a-u,[0,-1],r)||Ka(t,n,this.points,s,o,i-u,a,[0,-1],r))return!0;var c=i/2+2*r,f=a/2+2*r,h=[s-c,o-f,s-c,o,s+c,o,s+c,o-f];return!!(Hr(t,n,h)||Lo(t,n,u,u,s+i/2-l,o+a/2-l,r)||Lo(t,n,u,u,s-i/2+l,o+a/2-l,r))}}};ts.registerNodeShapes=function(){var e=this.nodeShapes={},t=this;this.generateEllipse(),this.generatePolygon("triangle",Dr(3,0)),this.generateRoundPolygon("round-triangle",Dr(3,0)),this.generatePolygon("rectangle",Dr(4,0)),e.square=e.rectangle,this.generateRoundRectangle(),this.generateCutRectangle(),this.generateBarrel(),this.generateBottomRoundrectangle();{var n=[0,1,1,0,0,-1,-1,0];this.generatePolygon("diamond",n),this.generateRoundPolygon("round-diamond",n)}this.generatePolygon("pentagon",Dr(5,0)),this.generateRoundPolygon("round-pentagon",Dr(5,0)),this.generatePolygon("hexagon",Dr(6,0)),this.generateRoundPolygon("round-hexagon",Dr(6,0)),this.generatePolygon("heptagon",Dr(7,0)),this.generateRoundPolygon("round-heptagon",Dr(7,0)),this.generatePolygon("octagon",Dr(8,0)),this.generateRoundPolygon("round-octagon",Dr(8,0));var r=new Array(20);{var i=e4(5,0),a=e4(5,Math.PI/5),s=.5*(3-Math.sqrt(5));s*=1.57;for(var o=0;o<a.length/2;o++)a[o*2]*=s,a[o*2+1]*=s;for(var o=0;o<20/4;o++)r[o*4]=i[o*2],r[o*4+1]=i[o*2+1],r[o*4+2]=a[o*2],r[o*4+3]=a[o*2+1]}r=TM(r),this.generatePolygon("star",r),this.generatePolygon("vee",[-1,-1,0,-.333,1,-1,0,1]),this.generatePolygon("rhomboid",[-1,-1,.333,-1,1,1,-.333,1]),this.generatePolygon("right-rhomboid",[-.333,-1,1,-1,.333,1,-1,1]),this.nodeShapes.concavehexagon=this.generatePolygon("concave-hexagon",[-1,-.95,-.75,0,-1,.95,1,.95,.75,0,1,-.95]);{var l=[-1,-1,.25,-1,1,0,.25,1,-1,1];this.generatePolygon("tag",l),this.generateRoundPolygon("round-tag",l)}e.makePolygon=function(u){var c=u.join("$"),f="polygon-"+c,h;return(h=this[f])?h:t.generatePolygon(f,u)}};var x0={};x0.timeToRender=function(){return this.redrawTotalTime/this.redrawCount};x0.redraw=function(e){e=e||kM();var t=this;t.averageRedrawTime===void 0&&(t.averageRedrawTime=0),t.lastRedrawTime===void 0&&(t.lastRedrawTime=0),t.lastDrawTime===void 0&&(t.lastDrawTime=0),t.requestedFrame=!0,t.renderOptions=e};x0.beforeRender=function(e,t){if(!this.destroyed){t==null&&Tn("Priority is not optional for beforeRender");var n=this.beforeRenderCallbacks;n.push({fn:e,priority:t}),n.sort(function(r,i){return i.priority-r.priority})}};var O9=function(t,n,r){for(var i=t.beforeRenderCallbacks,a=0;a<i.length;a++)i[a].fn(n,r)};x0.startRenderLoop=function(){var e=this,t=e.cy;if(!e.renderLoopStarted){e.renderLoopStarted=!0;var n=function(i){if(!e.destroyed){if(!t.batching())if(e.requestedFrame&&!e.skipFrame){O9(e,!0,i);var a=Xa();e.render(e.renderOptions);var s=e.lastDrawTime=Xa();e.averageRedrawTime===void 0&&(e.averageRedrawTime=s-a),e.redrawCount===void 0&&(e.redrawCount=0),e.redrawCount++,e.redrawTotalTime===void 0&&(e.redrawTotalTime=0);var o=s-a;e.redrawTotalTime+=o,e.lastRedrawTime=o,e.averageRedrawTime=e.averageRedrawTime/2+o/2,e.requestedFrame=!1}else O9(e,!1,i);e.skipFrame=!1,wp(n)}};wp(n)}};var yie=function(t){this.init(t)},TA=yie,Gu=TA.prototype;Gu.clientFunctions=["redrawHint","render","renderTo","matchCanvasSize","nodeShapeImpl","arrowShapeImpl"];Gu.init=function(e){var t=this;t.options=e,t.cy=e.cy;var n=t.container=e.cy.container(),r=t.cy.window();if(r){var i=r.document,a=i.head,s="__________cytoscape_stylesheet",o="__________cytoscape_container",l=i.getElementById(s)!=null;if(n.className.indexOf(o)<0&&(n.className=(n.className||"")+" "+o),!l){var u=i.createElement("style");u.id=s,u.textContent="."+o+" { position: relative; }",a.insertBefore(u,a.children[0])}var c=r.getComputedStyle(n),f=c.getPropertyValue("position");f==="static"&&Vt("A Cytoscape container has style position:static and so can not use UI extensions properly")}t.selection=[void 0,void 0,void 0,void 0,0],t.bezierProjPcts=[.05,.225,.4,.5,.6,.775,.95],t.hoverData={down:null,last:null,downTime:null,triggerMode:null,dragging:!1,initialPan:[null,null],capture:!1},t.dragData={possibleDragElements:[]},t.touchData={start:null,capture:!1,startPosition:[null,null,null,null,null,null],singleTouchStartTime:null,singleTouchMoved:!0,now:[null,null,null,null,null,null],earlier:[null,null,null,null,null,null]},t.redraws=0,t.showFps=e.showFps,t.debug=e.debug,t.webgl=e.webgl,t.hideEdgesOnViewport=e.hideEdgesOnViewport,t.textureOnViewport=e.textureOnViewport,t.wheelSensitivity=e.wheelSensitivity,t.motionBlurEnabled=e.motionBlur,t.forcedPixelRatio=ze(e.pixelRatio)?e.pixelRatio:null,t.motionBlur=e.motionBlur,t.motionBlurOpacity=e.motionBlurOpacity,t.motionBlurTransparency=1-t.motionBlurOpacity,t.motionBlurPxRatio=1,t.mbPxRBlurry=1,t.minMbLowQualFrames=4,t.fullQualityMb=!1,t.clearedForMotionBlur=[],t.desktopTapThreshold=e.desktopTapThreshold,t.desktopTapThreshold2=e.desktopTapThreshold*e.desktopTapThreshold,t.touchTapThreshold=e.touchTapThreshold,t.touchTapThreshold2=e.touchTapThreshold*e.touchTapThreshold,t.tapholdDuration=500,t.bindings=[],t.beforeRenderCallbacks=[],t.beforeRenderPriorities={animations:400,eleCalcs:300,eleTxrDeq:200,lyrTxrDeq:150,lyrTxrSkip:100},t.registerNodeShapes(),t.registerArrowShapes(),t.registerCalculationListeners()};Gu.notify=function(e,t){var n=this,r=n.cy;if(!this.destroyed){if(e==="init"){n.load();return}if(e==="destroy"){n.destroy();return}(e==="add"||e==="remove"||e==="move"&&r.hasCompoundNodes()||e==="load"||e==="zorder"||e==="mount")&&n.invalidateCachedZSortedEles(),e==="viewport"&&n.redrawHint("select",!0),e==="gc"&&n.redrawHint("gc",!0),(e==="load"||e==="resize"||e==="mount")&&(n.invalidateContainerClientCoordsCache(),n.matchCanvasSize(n.container)),n.redrawHint("eles",!0),n.redrawHint("drag",!0),this.startRenderLoop(),this.redraw()}};Gu.destroy=function(){var e=this;e.destroyed=!0,e.cy.stopAnimationLoop();for(var t=0;t<e.bindings.length;t++){var n=e.bindings[t],r=n,i=r.target;(i.off||i.removeEventListener).apply(i,r.args)}if(e.bindings=[],e.beforeRenderCallbacks=[],e.onUpdateEleCalcsFns=[],e.removeObserver&&e.removeObserver.disconnect(),e.styleObserver&&e.styleObserver.disconnect(),e.resizeObserver&&e.resizeObserver.disconnect(),e.labelCalcDiv)try{document.body.removeChild(e.labelCalcDiv)}catch{}};Gu.isHeadless=function(){return!1};[zb,_A,CA,Wu,ts,x0].forEach(function(e){ot(Gu,e)});var J1=1e3/60,EA={setupDequeueing:function(t){return function(){var r=this,i=this.renderer;if(!r.dequeueingSetup){r.dequeueingSetup=!0;var a=p0(function(){i.redrawHint("eles",!0),i.redrawHint("drag",!0),i.redraw()},t.deqRedrawThreshold),s=function(u,c){var f=Xa(),h=i.averageRedrawTime,d=i.lastRedrawTime,p=[],v=i.cy.extent(),x=i.getPixelRatio();for(u||i.flushRenderedStyleQueue();;){var y=Xa(),w=y-f,k=y-c;if(d<J1){var _=J1-(u?h:0);if(k>=t.deqFastCost*_)break}else if(u){if(w>=t.deqCost*d||w>=t.deqAvgCost*h)break}else if(k>=t.deqNoDrawCost*J1)break;var C=t.deq(r,x,v);if(C.length>0)for(var T=0;T<C.length;T++)p.push(C[T]);else break}p.length>0&&(t.onDeqd(r,p),!u&&t.shouldRedraw(r,p,x,v)&&a())},o=t.priority||kb;i.beforeRender(s,o(r))}}}},xie=function(){function e(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:kp;Zs(this,e),this.idsByKey=new Fa,this.keyForId=new Fa,this.cachesByLvl=new Fa,this.lvls=[],this.getKey=t,this.doesEleInvalidateKey=n}return Js(e,[{key:"getIdsFor",value:function(n){n==null&&Tn("Can not get id list for null key");var r=this.idsByKey,i=this.idsByKey.get(n);return i||(i=new qu,r.set(n,i)),i}},{key:"addIdForKey",value:function(n,r){n!=null&&this.getIdsFor(n).add(r)}},{key:"deleteIdForKey",value:function(n,r){n!=null&&this.getIdsFor(n).delete(r)}},{key:"getNumberOfIdsForKey",value:function(n){return n==null?0:this.getIdsFor(n).size}},{key:"updateKeyMappingFor",value:function(n){var r=n.id(),i=this.keyForId.get(r),a=this.getKey(n);this.deleteIdForKey(i,r),this.addIdForKey(a,r),this.keyForId.set(r,a)}},{key:"deleteKeyMappingFor",value:function(n){var r=n.id(),i=this.keyForId.get(r);this.deleteIdForKey(i,r),this.keyForId.delete(r)}},{key:"keyHasChangedFor",value:function(n){var r=n.id(),i=this.keyForId.get(r),a=this.getKey(n);return i!==a}},{key:"isInvalid",value:function(n){return this.keyHasChangedFor(n)||this.doesEleInvalidateKey(n)}},{key:"getCachesAt",value:function(n){var r=this.cachesByLvl,i=this.lvls,a=r.get(n);return a||(a=new Fa,r.set(n,a),i.push(n)),a}},{key:"getCache",value:function(n,r){return this.getCachesAt(r).get(n)}},{key:"get",value:function(n,r){var i=this.getKey(n),a=this.getCache(i,r);return a!=null&&this.updateKeyMappingFor(n),a}},{key:"getForCachedKey",value:function(n,r){var i=this.keyForId.get(n.id()),a=this.getCache(i,r);return a}},{key:"hasCache",value:function(n,r){return this.getCachesAt(r).has(n)}},{key:"has",value:function(n,r){var i=this.getKey(n);return this.hasCache(i,r)}},{key:"setCache",value:function(n,r,i){i.key=n,this.getCachesAt(r).set(n,i)}},{key:"set",value:function(n,r,i){var a=this.getKey(n);this.setCache(a,r,i),this.updateKeyMappingFor(n)}},{key:"deleteCache",value:function(n,r){this.getCachesAt(r).delete(n)}},{key:"delete",value:function(n,r){var i=this.getKey(n);this.deleteCache(i,r)}},{key:"invalidateKey",value:function(n){var r=this;this.lvls.forEach(function(i){return r.deleteCache(n,i)})}},{key:"invalidate",value:function(n){var r=n.id(),i=this.keyForId.get(r);this.deleteKeyMappingFor(n);var a=this.doesEleInvalidateKey(n);return a&&this.invalidateKey(i),a||this.getNumberOfIdsForKey(i)===0}}])}(),R9=25,Fh=50,kd=-4,p4=3,PA=7.99,bie=8,wie=1024,kie=1024,Sie=1024,_ie=.2,Cie=.8,Tie=10,Eie=.15,Pie=.1,Mie=.9,Aie=.9,Die=100,Iie=1,Yl={dequeue:"dequeue",downscale:"downscale",highQuality:"highQuality"},Lie=xr({getKey:null,doesEleInvalidateKey:kp,drawElement:null,getBoundingBox:null,getRotationPoint:null,getRotationOffset:null,isVisible:xM,allowEdgeTxrCaching:!0,allowParentTxrCaching:!0}),Rc=function(t,n){var r=this;r.renderer=t,r.onDequeues=[];var i=Lie(n);ot(r,i),r.lookup=new xie(i.getKey,i.doesEleInvalidateKey),r.setupDequeueing()},ar=Rc.prototype;ar.reasons=Yl;ar.getTextureQueue=function(e){var t=this;return t.eleImgCaches=t.eleImgCaches||{},t.eleImgCaches[e]=t.eleImgCaches[e]||[]};ar.getRetiredTextureQueue=function(e){var t=this,n=t.eleImgCaches.retired=t.eleImgCaches.retired||{},r=n[e]=n[e]||[];return r};ar.getElementQueue=function(){var e=this,t=e.eleCacheQueue=e.eleCacheQueue||new g0(function(n,r){return r.reqs-n.reqs});return t};ar.getElementKeyToQueue=function(){var e=this,t=e.eleKeyToCacheQueue=e.eleKeyToCacheQueue||{};return t};ar.getElement=function(e,t,n,r,i){var a=this,s=this.renderer,o=s.cy.zoom(),l=this.lookup;if(!t||t.w===0||t.h===0||isNaN(t.w)||isNaN(t.h)||!e.visible()||e.removed()||!a.allowEdgeTxrCaching&&e.isEdge()||!a.allowParentTxrCaching&&e.isParent())return null;if(r==null&&(r=Math.ceil(_b(o*n))),r<kd)r=kd;else if(o>=PA||r>p4)return null;var u=Math.pow(2,r),c=t.h*u,f=t.w*u,h=s.eleTextBiggerThanMin(e,u);if(!this.isVisible(e,h))return null;var d=l.get(e,r);if(d&&d.invalidated&&(d.invalidated=!1,d.texture.invalidatedWidth-=d.width),d)return d;var p;if(c<=R9?p=R9:c<=Fh?p=Fh:p=Math.ceil(c/Fh)*Fh,c>Sie||f>kie)return null;var v=a.getTextureQueue(p),x=v[v.length-2],y=function(){return a.recycleTexture(p,f)||a.addTexture(p,f)};x||(x=v[v.length-1]),x||(x=y()),x.width-x.usedWidth<f&&(x=y());for(var w=function(Z){return Z&&Z.scaledLabelShown===h},k=i&&i===Yl.dequeue,_=i&&i===Yl.highQuality,C=i&&i===Yl.downscale,T,E=r+1;E<=p4;E++){var A=l.get(e,E);if(A){T=A;break}}var R=T&&T.level===r+1?T:null,D=function(){x.context.drawImage(R.texture.canvas,R.x,0,R.width,R.height,x.usedWidth,0,f,c)};if(x.context.setTransform(1,0,0,1,0,0),x.context.clearRect(x.usedWidth,0,f,p),w(R))D();else if(w(T))if(_){for(var N=T.level;N>r;N--)R=a.getElement(e,t,n,N,Yl.downscale);D()}else return a.queueElement(e,T.level-1),T;else{var z;if(!k&&!_&&!C)for(var j=r-1;j>=kd;j--){var V=l.get(e,j);if(V){z=V;break}}if(w(z))return a.queueElement(e,r),z;x.context.translate(x.usedWidth,0),x.context.scale(u,u),this.drawElement(x.context,e,t,h,!1),x.context.scale(1/u,1/u),x.context.translate(-x.usedWidth,0)}return d={x:x.usedWidth,texture:x,level:r,scale:u,width:f,height:c,scaledLabelShown:h},x.usedWidth+=Math.ceil(f+bie),x.eleCaches.push(d),l.set(e,r,d),a.checkTextureFullness(x),d};ar.invalidateElements=function(e){for(var t=0;t<e.length;t++)this.invalidateElement(e[t])};ar.invalidateElement=function(e){var t=this,n=t.lookup,r=[],i=n.isInvalid(e);if(i){for(var a=kd;a<=p4;a++){var s=n.getForCachedKey(e,a);s&&r.push(s)}var o=n.invalidate(e);if(o)for(var l=0;l<r.length;l++){var u=r[l],c=u.texture;c.invalidatedWidth+=u.width,u.invalidated=!0,t.checkTextureUtility(c)}t.removeFromQueue(e)}};ar.checkTextureUtility=function(e){e.invalidatedWidth>=_ie*e.width&&this.retireTexture(e)};ar.checkTextureFullness=function(e){var t=this,n=t.getTextureQueue(e.height);e.usedWidth/e.width>Cie&&e.fullnessChecks>=Tie?js(n,e):e.fullnessChecks++};ar.retireTexture=function(e){var t=this,n=e.height,r=t.getTextureQueue(n),i=this.lookup;js(r,e),e.retired=!0;for(var a=e.eleCaches,s=0;s<a.length;s++){var o=a[s];i.deleteCache(o.key,o.level)}Sb(a);var l=t.getRetiredTextureQueue(n);l.push(e)};ar.addTexture=function(e,t){var n=this,r=n.getTextureQueue(e),i={};return r.push(i),i.eleCaches=[],i.height=e,i.width=Math.max(wie,t),i.usedWidth=0,i.invalidatedWidth=0,i.fullnessChecks=0,i.canvas=n.renderer.makeOffscreenCanvas(i.width,i.height),i.context=i.canvas.getContext("2d"),i};ar.recycleTexture=function(e,t){for(var n=this,r=n.getTextureQueue(e),i=n.getRetiredTextureQueue(e),a=0;a<i.length;a++){var s=i[a];if(s.width>=t)return s.retired=!1,s.usedWidth=0,s.invalidatedWidth=0,s.fullnessChecks=0,Sb(s.eleCaches),s.context.setTransform(1,0,0,1,0,0),s.context.clearRect(0,0,s.width,s.height),js(i,s),r.push(s),s}};ar.queueElement=function(e,t){var n=this,r=n.getElementQueue(),i=n.getElementKeyToQueue(),a=this.getKey(e),s=i[a];if(s)s.level=Math.max(s.level,t),s.eles.merge(e),s.reqs++,r.updateItem(s);else{var o={eles:e.spawn().merge(e),level:t,reqs:1,key:a};r.push(o),i[a]=o}};ar.dequeue=function(e){for(var t=this,n=t.getElementQueue(),r=t.getElementKeyToQueue(),i=[],a=t.lookup,s=0;s<Iie&&n.size()>0;s++){var o=n.pop(),l=o.key,u=o.eles[0],c=a.hasCache(u,o.level);if(r[l]=null,c)continue;i.push(o);var f=t.getBoundingBox(u);t.getElement(u,f,e,o.level,Yl.dequeue)}return i};ar.removeFromQueue=function(e){var t=this,n=t.getElementQueue(),r=t.getElementKeyToQueue(),i=this.getKey(e),a=r[i];a!=null&&(a.eles.length===1?(a.reqs=wb,n.updateItem(a),n.pop(),r[i]=null):a.eles.unmerge(e))};ar.onDequeue=function(e){this.onDequeues.push(e)};ar.offDequeue=function(e){js(this.onDequeues,e)};ar.setupDequeueing=EA.setupDequeueing({deqRedrawThreshold:Die,deqCost:Eie,deqAvgCost:Pie,deqNoDrawCost:Mie,deqFastCost:Aie,deq:function(t,n,r){return t.dequeue(n,r)},onDeqd:function(t,n){for(var r=0;r<t.onDequeues.length;r++){var i=t.onDequeues[r];i(n)}},shouldRedraw:function(t,n,r,i){for(var a=0;a<n.length;a++)for(var s=n[a].eles,o=0;o<s.length;o++){var l=s[o].boundingBox();if(Tb(l,i))return!0}return!1},priority:function(t){return t.renderer.beforeRenderPriorities.eleTxrDeq}});var Oie=1,nf=-4,Ap=2,Rie=3.99,Nie=50,zie=50,Bie=.15,Fie=.1,$ie=.9,jie=.9,qie=1,N9=250,Hie=4e3*4e3,z9=32767,Vie=!0,MA=function(t){var n=this,r=n.renderer=t,i=r.cy;n.layersByLevel={},n.firstGet=!0,n.lastInvalidationTime=Xa()-2*N9,n.skipping=!1,n.eleTxrDeqs=i.collection(),n.scheduleElementRefinement=p0(function(){n.refineElementTextures(n.eleTxrDeqs),n.eleTxrDeqs.unmerge(n.eleTxrDeqs)},zie),r.beforeRender(function(s,o){o-n.lastInvalidationTime<=N9?n.skipping=!0:n.skipping=!1},r.beforeRenderPriorities.lyrTxrSkip);var a=function(o,l){return l.reqs-o.reqs};n.layersQueue=new g0(a),n.setupDequeueing()},br=MA.prototype,B9=0,Uie=Math.pow(2,53)-1;br.makeLayer=function(e,t){var n=Math.pow(2,t),r=Math.ceil(e.w*n),i=Math.ceil(e.h*n),a=this.renderer.makeOffscreenCanvas(r,i),s={id:B9=++B9%Uie,bb:e,level:t,width:r,height:i,canvas:a,context:a.getContext("2d"),eles:[],elesQueue:[],reqs:0},o=s.context,l=-s.bb.x1,u=-s.bb.y1;return o.scale(n,n),o.translate(l,u),s};br.getLayers=function(e,t,n){var r=this,i=r.renderer,a=i.cy,s=a.zoom(),o=r.firstGet;if(r.firstGet=!1,n==null){if(n=Math.ceil(_b(s*t)),n<nf)n=nf;else if(s>=Rie||n>Ap)return null}r.validateLayersElesOrdering(n,e);var l=r.layersByLevel,u=Math.pow(2,n),c=l[n]=l[n]||[],f,h=r.levelIsComplete(n,e),d,p=function(){var D=function(Y){if(r.validateLayersElesOrdering(Y,e),r.levelIsComplete(Y,e))return d=l[Y],!0},N=function(Y){if(!d)for(var Z=n+Y;nf<=Z&&Z<=Ap&&!D(Z);Z+=Y);};N(1),N(-1);for(var z=c.length-1;z>=0;z--){var j=c[z];j.invalid&&js(c,j)}};if(!h)p();else return c;var v=function(){if(!f){f=Qr();for(var D=0;D<e.length;D++)_M(f,e[D].boundingBox())}return f},x=function(D){D=D||{};var N=D.after;v();var z=Math.ceil(f.w*u),j=Math.ceil(f.h*u);if(z>z9||j>z9)return null;var V=z*j;if(V>Hie)return null;var Y=r.makeLayer(f,n);if(N!=null){var Z=c.indexOf(N)+1;c.splice(Z,0,Y)}else(D.insert===void 0||D.insert)&&c.unshift(Y);return Y};if(r.skipping&&!o)return null;for(var y=null,w=e.length/Oie,k=!o,_=0;_<e.length;_++){var C=e[_],T=C._private.rscratch,E=T.imgLayerCaches=T.imgLayerCaches||{},A=E[n];if(A){y=A;continue}if((!y||y.eles.length>=w||!Uee(y.bb,C.boundingBox()))&&(y=x({insert:!0,after:y}),!y))return null;d||k?r.queueLayer(y,C):r.drawEleInLayer(y,C,n,t),y.eles.push(C),E[n]=y}return d||(k?null:c)};br.getEleLevelForLayerLevel=function(e,t){return e};br.drawEleInLayer=function(e,t,n,r){var i=this,a=this.renderer,s=e.context,o=t.boundingBox();o.w===0||o.h===0||!t.visible()||(n=i.getEleLevelForLayerLevel(n,r),a.setImgSmoothing(s,!1),a.drawCachedElement(s,t,null,null,n,Vie),a.setImgSmoothing(s,!0))};br.levelIsComplete=function(e,t){var n=this,r=n.layersByLevel[e];if(!r||r.length===0)return!1;for(var i=0,a=0;a<r.length;a++){var s=r[a];if(s.reqs>0||s.invalid)return!1;i+=s.eles.length}return i===t.length};br.validateLayersElesOrdering=function(e,t){var n=this.layersByLevel[e];if(n)for(var r=0;r<n.length;r++){for(var i=n[r],a=-1,s=0;s<t.length;s++)if(i.eles[0]===t[s]){a=s;break}if(a<0){this.invalidateLayer(i);continue}for(var o=a,s=0;s<i.eles.length;s++)if(i.eles[s]!==t[o+s]){this.invalidateLayer(i);break}}};br.updateElementsInLayers=function(e,t){for(var n=this,r=c0(e[0]),i=0;i<e.length;i++)for(var a=r?null:e[i],s=r?e[i]:e[i].ele,o=s._private.rscratch,l=o.imgLayerCaches=o.imgLayerCaches||{},u=nf;u<=Ap;u++){var c=l[u];c&&(a&&n.getEleLevelForLayerLevel(c.level)!==a.level||t(c,s,a))}};br.haveLayers=function(){for(var e=this,t=!1,n=nf;n<=Ap;n++){var r=e.layersByLevel[n];if(r&&r.length>0){t=!0;break}}return t};br.invalidateElements=function(e){var t=this;e.length!==0&&(t.lastInvalidationTime=Xa(),!(e.length===0||!t.haveLayers())&&t.updateElementsInLayers(e,function(r,i,a){t.invalidateLayer(r)}))};br.invalidateLayer=function(e){if(this.lastInvalidationTime=Xa(),!e.invalid){var t=e.level,n=e.eles,r=this.layersByLevel[t];js(r,e),e.elesQueue=[],e.invalid=!0,e.replacement&&(e.replacement.invalid=!0);for(var i=0;i<n.length;i++){var a=n[i]._private.rscratch.imgLayerCaches;a&&(a[t]=null)}}};br.refineElementTextures=function(e){var t=this;t.updateElementsInLayers(e,function(r,i,a){var s=r.replacement;if(s||(s=r.replacement=t.makeLayer(r.bb,r.level),s.replaces=r,s.eles=r.eles),!s.reqs)for(var o=0;o<s.eles.length;o++)t.queueLayer(s,s.eles[o])})};br.enqueueElementRefinement=function(e){this.eleTxrDeqs.merge(e),this.scheduleElementRefinement()};br.queueLayer=function(e,t){var n=this,r=n.layersQueue,i=e.elesQueue,a=i.hasId=i.hasId||{};if(!e.replacement){if(t){if(a[t.id()])return;i.push(t),a[t.id()]=!0}e.reqs?(e.reqs++,r.updateItem(e)):(e.reqs=1,r.push(e))}};br.dequeue=function(e){for(var t=this,n=t.layersQueue,r=[],i=0;i<qie&&n.size()!==0;){var a=n.peek();if(a.replacement){n.pop();continue}if(a.replaces&&a!==a.replaces.replacement){n.pop();continue}if(a.invalid){n.pop();continue}var s=a.elesQueue.shift();s&&(t.drawEleInLayer(a,s,a.level,e),i++),r.length===0&&r.push(!0),a.elesQueue.length===0&&(n.pop(),a.reqs=0,a.replaces&&t.applyLayerReplacement(a),t.requestRedraw())}return r};br.applyLayerReplacement=function(e){var t=this,n=t.layersByLevel[e.level],r=e.replaces,i=n.indexOf(r);if(!(i<0||r.invalid)){n[i]=e;for(var a=0;a<e.eles.length;a++){var s=e.eles[a]._private,o=s.imgLayerCaches=s.imgLayerCaches||{};o&&(o[e.level]=e)}t.requestRedraw()}};br.requestRedraw=p0(function(){var e=this.renderer;e.redrawHint("eles",!0),e.redrawHint("drag",!0),e.redraw()},100);br.setupDequeueing=EA.setupDequeueing({deqRedrawThreshold:Nie,deqCost:Bie,deqAvgCost:Fie,deqNoDrawCost:$ie,deqFastCost:jie,deq:function(t,n){return t.dequeue(n)},onDeqd:kb,shouldRedraw:xM,priority:function(t){return t.renderer.beforeRenderPriorities.lyrTxrDeq}});var AA={},F9;function Wie(e,t){for(var n=0;n<t.length;n++){var r=t[n];e.lineTo(r.x,r.y)}}function Gie(e,t,n){for(var r,i=0;i<t.length;i++){var a=t[i];i===0&&(r=a),e.lineTo(a.x,a.y)}e.quadraticCurveTo(n.x,n.y,r.x,r.y)}function $9(e,t,n){e.beginPath&&e.beginPath();for(var r=t,i=0;i<r.length;i++){var a=r[i];e.lineTo(a.x,a.y)}var s=n,o=n[0];e.moveTo(o.x,o.y);for(var i=1;i<s.length;i++){var a=s[i];e.lineTo(a.x,a.y)}e.closePath&&e.closePath()}function Yie(e,t,n,r,i){e.beginPath&&e.beginPath(),e.arc(n,r,i,0,Math.PI*2,!1);var a=t,s=a[0];e.moveTo(s.x,s.y);for(var o=0;o<a.length;o++){var l=a[o];e.lineTo(l.x,l.y)}e.closePath&&e.closePath()}function Xie(e,t,n,r){e.arc(t,n,r,0,Math.PI*2,!1)}AA.arrowShapeImpl=function(e){return(F9||(F9={polygon:Wie,"triangle-backcurve":Gie,"triangle-tee":$9,"circle-triangle":Yie,"triangle-cross":$9,circle:Xie}))[e]};var xa={};xa.drawElement=function(e,t,n,r,i,a){var s=this;t.isNode()?s.drawNode(e,t,n,r,i,a):s.drawEdge(e,t,n,r,i,a)};xa.drawElementOverlay=function(e,t){var n=this;t.isNode()?n.drawNodeOverlay(e,t):n.drawEdgeOverlay(e,t)};xa.drawElementUnderlay=function(e,t){var n=this;t.isNode()?n.drawNodeUnderlay(e,t):n.drawEdgeUnderlay(e,t)};xa.drawCachedElementPortion=function(e,t,n,r,i,a,s,o){var l=this,u=n.getBoundingBox(t);if(!(u.w===0||u.h===0)){var c=n.getElement(t,u,r,i,a);if(c!=null){var f=o(l,t);if(f===0)return;var h=s(l,t),d=u.x1,p=u.y1,v=u.w,x=u.h,y,w,k,_,C;if(h!==0){var T=n.getRotationPoint(t);k=T.x,_=T.y,e.translate(k,_),e.rotate(h),C=l.getImgSmoothing(e),C||l.setImgSmoothing(e,!0);var E=n.getRotationOffset(t);y=E.x,w=E.y}else y=d,w=p;var A;f!==1&&(A=e.globalAlpha,e.globalAlpha=A*f),e.drawImage(c.texture.canvas,c.x,0,c.width,c.height,y,w,v,x),f!==1&&(e.globalAlpha=A),h!==0&&(e.rotate(-h),e.translate(-k,-_),C||l.setImgSmoothing(e,!1))}else n.drawElement(e,t)}};var Kie=function(){return 0},Qie=function(t,n){return t.getTextAngle(n,null)},Zie=function(t,n){return t.getTextAngle(n,"source")},Jie=function(t,n){return t.getTextAngle(n,"target")},eae=function(t,n){return n.effectiveOpacity()},ey=function(t,n){return n.pstyle("text-opacity").pfValue*n.effectiveOpacity()};xa.drawCachedElement=function(e,t,n,r,i,a){var s=this,o=s.data,l=o.eleTxrCache,u=o.lblTxrCache,c=o.slbTxrCache,f=o.tlbTxrCache,h=t.boundingBox(),d=a===!0?l.reasons.highQuality:null;if(!(h.w===0||h.h===0||!t.visible())&&(!r||Tb(h,r))){var p=t.isEdge(),v=t.element()._private.rscratch.badLine;s.drawElementUnderlay(e,t),s.drawCachedElementPortion(e,t,l,n,i,d,Kie,eae),(!p||!v)&&s.drawCachedElementPortion(e,t,u,n,i,d,Qie,ey),p&&!v&&(s.drawCachedElementPortion(e,t,c,n,i,d,Zie,ey),s.drawCachedElementPortion(e,t,f,n,i,d,Jie,ey)),s.drawElementOverlay(e,t)}};xa.drawElements=function(e,t){for(var n=this,r=0;r<t.length;r++){var i=t[r];n.drawElement(e,i)}};xa.drawCachedElements=function(e,t,n,r){for(var i=this,a=0;a<t.length;a++){var s=t[a];i.drawCachedElement(e,s,n,r)}};xa.drawCachedNodes=function(e,t,n,r){for(var i=this,a=0;a<t.length;a++){var s=t[a];s.isNode()&&i.drawCachedElement(e,s,n,r)}};xa.drawLayeredElements=function(e,t,n,r){var i=this,a=i.data.lyrTxrCache.getLayers(t,n);if(a)for(var s=0;s<a.length;s++){var o=a[s],l=o.bb;l.w===0||l.h===0||e.drawImage(o.canvas,l.x1,l.y1,l.w,l.h)}else i.drawCachedElements(e,t,n,r)};var ns={};ns.drawEdge=function(e,t,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,s=this,o=t._private.rscratch;if(!(a&&!t.visible())&&!(o.badLine||o.allpts==null||isNaN(o.allpts[0]))){var l;n&&(l=n,e.translate(-l.x1,-l.y1));var u=a?t.pstyle("opacity").value:1,c=a?t.pstyle("line-opacity").value:1,f=t.pstyle("curve-style").value,h=t.pstyle("line-style").value,d=t.pstyle("width").pfValue,p=t.pstyle("line-cap").value,v=t.pstyle("line-outline-width").value,x=t.pstyle("line-outline-color").value,y=u*c,w=u*c,k=function(){var Y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:y;f==="straight-triangle"?(s.eleStrokeStyle(e,t,Y),s.drawEdgeTrianglePath(t,e,o.allpts)):(e.lineWidth=d,e.lineCap=p,s.eleStrokeStyle(e,t,Y),s.drawEdgePath(t,e,o.allpts,h),e.lineCap="butt")},_=function(){var Y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:y;if(e.lineWidth=d+v,e.lineCap=p,v>0)s.colorStrokeStyle(e,x[0],x[1],x[2],Y);else{e.lineCap="butt";return}f==="straight-triangle"?s.drawEdgeTrianglePath(t,e,o.allpts):(s.drawEdgePath(t,e,o.allpts,h),e.lineCap="butt")},C=function(){i&&s.drawEdgeOverlay(e,t)},T=function(){i&&s.drawEdgeUnderlay(e,t)},E=function(){var Y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:w;s.drawArrowheads(e,t,Y)},A=function(){s.drawElementText(e,t,null,r)};e.lineJoin="round";var R=t.pstyle("ghost").value==="yes";if(R){var D=t.pstyle("ghost-offset-x").pfValue,N=t.pstyle("ghost-offset-y").pfValue,z=t.pstyle("ghost-opacity").value,j=y*z;e.translate(D,N),k(j),E(j),e.translate(-D,-N)}else _();T(),k(),E(),C(),A(),n&&e.translate(l.x1,l.y1)}};var DA=function(t){if(!["overlay","underlay"].includes(t))throw new Error("Invalid state");return function(n,r){if(r.visible()){var i=r.pstyle("".concat(t,"-opacity")).value;if(i!==0){var a=this,s=a.usePaths(),o=r._private.rscratch,l=r.pstyle("".concat(t,"-padding")).pfValue,u=2*l,c=r.pstyle("".concat(t,"-color")).value;n.lineWidth=u,o.edgeType==="self"&&!s?n.lineCap="butt":n.lineCap="round",a.colorStrokeStyle(n,c[0],c[1],c[2],i),a.drawEdgePath(r,n,o.allpts,"solid")}}}};ns.drawEdgeOverlay=DA("overlay");ns.drawEdgeUnderlay=DA("underlay");ns.drawEdgePath=function(e,t,n,r){var i=e._private.rscratch,a=t,s,o=!1,l=this.usePaths(),u=e.pstyle("line-dash-pattern").pfValue,c=e.pstyle("line-dash-offset").pfValue;if(l){var f=n.join("$"),h=i.pathCacheKey&&i.pathCacheKey===f;h?(s=t=i.pathCache,o=!0):(s=t=new Path2D,i.pathCacheKey=f,i.pathCache=s)}if(a.setLineDash)switch(r){case"dotted":a.setLineDash([1,1]);break;case"dashed":a.setLineDash(u),a.lineDashOffset=c;break;case"solid":a.setLineDash([]);break}if(!o&&!i.badLine)switch(t.beginPath&&t.beginPath(),t.moveTo(n[0],n[1]),i.edgeType){case"bezier":case"self":case"compound":case"multibezier":for(var d=2;d+3<n.length;d+=4)t.quadraticCurveTo(n[d],n[d+1],n[d+2],n[d+3]);break;case"straight":case"haystack":for(var p=2;p+1<n.length;p+=2)t.lineTo(n[p],n[p+1]);break;case"segments":if(i.isRound){var v=Wr(i.roundCorners),x;try{for(v.s();!(x=v.n()).done;){var y=x.value;xA(t,y)}}catch(k){v.e(k)}finally{v.f()}t.lineTo(n[n.length-2],n[n.length-1])}else for(var w=2;w+1<n.length;w+=2)t.lineTo(n[w],n[w+1]);break}t=a,l?t.stroke(s):t.stroke(),t.setLineDash&&t.setLineDash([])};ns.drawEdgeTrianglePath=function(e,t,n){t.fillStyle=t.strokeStyle;for(var r=e.pstyle("width").pfValue,i=0;i+1<n.length;i+=2){var a=[n[i+2]-n[i],n[i+3]-n[i+1]],s=Math.sqrt(a[0]*a[0]+a[1]*a[1]),o=[a[1]/s,-a[0]/s],l=[o[0]*r/2,o[1]*r/2];t.beginPath(),t.moveTo(n[i]-l[0],n[i+1]-l[1]),t.lineTo(n[i]+l[0],n[i+1]+l[1]),t.lineTo(n[i+2],n[i+3]),t.closePath(),t.fill()}};ns.drawArrowheads=function(e,t,n){var r=t._private.rscratch,i=r.edgeType==="haystack";i||this.drawArrowhead(e,t,"source",r.arrowStartX,r.arrowStartY,r.srcArrowAngle,n),this.drawArrowhead(e,t,"mid-target",r.midX,r.midY,r.midtgtArrowAngle,n),this.drawArrowhead(e,t,"mid-source",r.midX,r.midY,r.midsrcArrowAngle,n),i||this.drawArrowhead(e,t,"target",r.arrowEndX,r.arrowEndY,r.tgtArrowAngle,n)};ns.drawArrowhead=function(e,t,n,r,i,a,s){if(!(isNaN(r)||r==null||isNaN(i)||i==null||isNaN(a)||a==null)){var o=this,l=t.pstyle(n+"-arrow-shape").value;if(l!=="none"){var u=t.pstyle(n+"-arrow-fill").value==="hollow"?"both":"filled",c=t.pstyle(n+"-arrow-fill").value,f=t.pstyle("width").pfValue,h=t.pstyle(n+"-arrow-width"),d=h.value==="match-line"?f:h.pfValue;h.units==="%"&&(d*=f);var p=t.pstyle("opacity").value;s===void 0&&(s=p);var v=e.globalCompositeOperation;(s!==1||c==="hollow")&&(e.globalCompositeOperation="destination-out",o.colorFillStyle(e,255,255,255,1),o.colorStrokeStyle(e,255,255,255,1),o.drawArrowShape(t,e,u,f,l,d,r,i,a),e.globalCompositeOperation=v);var x=t.pstyle(n+"-arrow-color").value;o.colorFillStyle(e,x[0],x[1],x[2],s),o.colorStrokeStyle(e,x[0],x[1],x[2],s),o.drawArrowShape(t,e,c,f,l,d,r,i,a)}}};ns.drawArrowShape=function(e,t,n,r,i,a,s,o,l){var u=this,c=this.usePaths()&&i!=="triangle-cross",f=!1,h,d=t,p={x:s,y:o},v=e.pstyle("arrow-scale").value,x=this.getArrowWidth(r,v),y=u.arrowShapes[i];if(c){var w=u.arrowPathCache=u.arrowPathCache||[],k=Yo(i),_=w[k];_!=null?(h=t=_,f=!0):(h=t=new Path2D,w[k]=h)}f||(t.beginPath&&t.beginPath(),c?y.draw(t,1,0,{x:0,y:0},1):y.draw(t,x,l,p,r),t.closePath&&t.closePath()),t=d,c&&(t.translate(s,o),t.rotate(l),t.scale(x,x)),(n==="filled"||n==="both")&&(c?t.fill(h):t.fill()),(n==="hollow"||n==="both")&&(t.lineWidth=a/(c?x:1),t.lineJoin="miter",c?t.stroke(h):t.stroke()),c&&(t.scale(1/x,1/x),t.rotate(-l),t.translate(-s,-o))};var $b={};$b.safeDrawImage=function(e,t,n,r,i,a,s,o,l,u){if(!(i<=0||a<=0||l<=0||u<=0))try{e.drawImage(t,n,r,i,a,s,o,l,u)}catch(c){Vt(c)}};$b.drawInscribedImage=function(e,t,n,r,i){var a=this,s=n.position(),o=s.x,l=s.y,u=n.cy().style(),c=u.getIndexedStyle.bind(u),f=c(n,"background-fit","value",r),h=c(n,"background-repeat","value",r),d=n.width(),p=n.height(),v=n.padding()*2,x=d+(c(n,"background-width-relative-to","value",r)==="inner"?0:v),y=p+(c(n,"background-height-relative-to","value",r)==="inner"?0:v),w=n._private.rscratch,k=c(n,"background-clip","value",r),_=k==="node",C=c(n,"background-image-opacity","value",r)*i,T=c(n,"background-image-smoothing","value",r),E=n.pstyle("corner-radius").value;E!=="auto"&&(E=n.pstyle("corner-radius").pfValue);var A=t.width||t.cachedW,R=t.height||t.cachedH;(A==null||R==null)&&(document.body.appendChild(t),A=t.cachedW=t.width||t.offsetWidth,R=t.cachedH=t.height||t.offsetHeight,document.body.removeChild(t));var D=A,N=R;if(c(n,"background-width","value",r)!=="auto"&&(c(n,"background-width","units",r)==="%"?D=c(n,"background-width","pfValue",r)*x:D=c(n,"background-width","pfValue",r)),c(n,"background-height","value",r)!=="auto"&&(c(n,"background-height","units",r)==="%"?N=c(n,"background-height","pfValue",r)*y:N=c(n,"background-height","pfValue",r)),!(D===0||N===0)){if(f==="contain"){var z=Math.min(x/D,y/N);D*=z,N*=z}else if(f==="cover"){var z=Math.max(x/D,y/N);D*=z,N*=z}var j=o-x/2,V=c(n,"background-position-x","units",r),Y=c(n,"background-position-x","pfValue",r);V==="%"?j+=(x-D)*Y:j+=Y;var Z=c(n,"background-offset-x","units",r),X=c(n,"background-offset-x","pfValue",r);Z==="%"?j+=(x-D)*X:j+=X;var G=l-y/2,ee=c(n,"background-position-y","units",r),B=c(n,"background-position-y","pfValue",r);ee==="%"?G+=(y-N)*B:G+=B;var K=c(n,"background-offset-y","units",r),J=c(n,"background-offset-y","pfValue",r);K==="%"?G+=(y-N)*J:G+=J,w.pathCache&&(j-=o,G-=l,o=0,l=0);var q=e.globalAlpha;e.globalAlpha=C;var he=a.getImgSmoothing(e),de=!1;if(T==="no"&&he?(a.setImgSmoothing(e,!1),de=!0):T==="yes"&&!he&&(a.setImgSmoothing(e,!0),de=!0),h==="no-repeat")_&&(e.save(),w.pathCache?e.clip(w.pathCache):(a.nodeShapes[a.getNodeShape(n)].draw(e,o,l,x,y,E,w),e.clip())),a.safeDrawImage(e,t,0,0,A,R,j,G,D,N),_&&e.restore();else{var oe=e.createPattern(t,h);e.fillStyle=oe,a.nodeShapes[a.getNodeShape(n)].draw(e,o,l,x,y,E,w),e.translate(j,G),e.fill(),e.translate(-j,-G)}e.globalAlpha=q,de&&a.setImgSmoothing(e,he)}};var ll={};ll.eleTextBiggerThanMin=function(e,t){if(!t){var n=e.cy().zoom(),r=this.getPixelRatio(),i=Math.ceil(_b(n*r));t=Math.pow(2,i)}var a=e.pstyle("font-size").pfValue*t,s=e.pstyle("min-zoomed-font-size").pfValue;return!(a<s)};ll.drawElementText=function(e,t,n,r,i){var a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,s=this;if(r==null){if(a&&!s.eleTextBiggerThanMin(t))return}else if(r===!1)return;if(t.isNode()){var o=t.pstyle("label");if(!o||!o.value)return;var l=s.getLabelJustification(t);e.textAlign=l,e.textBaseline="bottom"}else{var u=t.element()._private.rscratch.badLine,c=t.pstyle("label"),f=t.pstyle("source-label"),h=t.pstyle("target-label");if(u||(!c||!c.value)&&(!f||!f.value)&&(!h||!h.value))return;e.textAlign="center",e.textBaseline="bottom"}var d=!n,p;n&&(p=n,e.translate(-p.x1,-p.y1)),i==null?(s.drawText(e,t,null,d,a),t.isEdge()&&(s.drawText(e,t,"source",d,a),s.drawText(e,t,"target",d,a))):s.drawText(e,t,i,d,a),n&&e.translate(p.x1,p.y1)};ll.getFontCache=function(e){var t;this.fontCaches=this.fontCaches||[];for(var n=0;n<this.fontCaches.length;n++)if(t=this.fontCaches[n],t.context===e)return t;return t={context:e},this.fontCaches.push(t),t};ll.setupTextStyle=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,r=t.pstyle("font-style").strValue,i=t.pstyle("font-size").pfValue+"px",a=t.pstyle("font-family").strValue,s=t.pstyle("font-weight").strValue,o=n?t.effectiveOpacity()*t.pstyle("text-opacity").value:1,l=t.pstyle("text-outline-opacity").value*o,u=t.pstyle("color").value,c=t.pstyle("text-outline-color").value;e.font=r+" "+s+" "+i+" "+a,e.lineJoin="round",this.colorFillStyle(e,u[0],u[1],u[2],o),this.colorStrokeStyle(e,c[0],c[1],c[2],l)};function ty(e,t,n,r,i){var a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:5,s=arguments.length>6?arguments[6]:void 0;e.beginPath(),e.moveTo(t+a,n),e.lineTo(t+r-a,n),e.quadraticCurveTo(t+r,n,t+r,n+a),e.lineTo(t+r,n+i-a),e.quadraticCurveTo(t+r,n+i,t+r-a,n+i),e.lineTo(t+a,n+i),e.quadraticCurveTo(t,n+i,t,n+i-a),e.lineTo(t,n+a),e.quadraticCurveTo(t,n,t+a,n),e.closePath(),s?e.stroke():e.fill()}ll.getTextAngle=function(e,t){var n,r=e._private,i=r.rscratch,a=t?t+"-":"",s=e.pstyle(a+"text-rotation");if(s.strValue==="autorotate"){var o=qr(i,"labelAngle",t);n=e.isEdge()?o:0}else s.strValue==="none"?n=0:n=s.pfValue;return n};ll.drawText=function(e,t,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,a=t._private,s=a.rscratch,o=i?t.effectiveOpacity():1;if(!(i&&(o===0||t.pstyle("text-opacity").value===0))){n==="main"&&(n=null);var l=qr(s,"labelX",n),u=qr(s,"labelY",n),c,f,h=this.getLabelText(t,n);if(h!=null&&h!==""&&!isNaN(l)&&!isNaN(u)){this.setupTextStyle(e,t,i);var d=n?n+"-":"",p=qr(s,"labelWidth",n),v=qr(s,"labelHeight",n),x=t.pstyle(d+"text-margin-x").pfValue,y=t.pstyle(d+"text-margin-y").pfValue,w=t.isEdge(),k=t.pstyle("text-halign").value,_=t.pstyle("text-valign").value;w&&(k="center",_="center"),l+=x,u+=y;var C;switch(r?C=this.getTextAngle(t,n):C=0,C!==0&&(c=l,f=u,e.translate(c,f),e.rotate(C),l=0,u=0),_){case"top":break;case"center":u+=v/2;break;case"bottom":u+=v;break}var T=t.pstyle("text-background-opacity").value,E=t.pstyle("text-border-opacity").value,A=t.pstyle("text-border-width").pfValue,R=t.pstyle("text-background-padding").pfValue,D=t.pstyle("text-background-shape").strValue,N=D.indexOf("round")===0,z=2;if(T>0||A>0&&E>0){var j=l-R;switch(k){case"left":j-=p;break;case"center":j-=p/2;break}var V=u-v-R,Y=p+2*R,Z=v+2*R;if(T>0){var X=e.fillStyle,G=t.pstyle("text-background-color").value;e.fillStyle="rgba("+G[0]+","+G[1]+","+G[2]+","+T*o+")",N?ty(e,j,V,Y,Z,z):e.fillRect(j,V,Y,Z),e.fillStyle=X}if(A>0&&E>0){var ee=e.strokeStyle,B=e.lineWidth,K=t.pstyle("text-border-color").value,J=t.pstyle("text-border-style").value;if(e.strokeStyle="rgba("+K[0]+","+K[1]+","+K[2]+","+E*o+")",e.lineWidth=A,e.setLineDash)switch(J){case"dotted":e.setLineDash([1,1]);break;case"dashed":e.setLineDash([4,2]);break;case"double":e.lineWidth=A/4,e.setLineDash([]);break;case"solid":e.setLineDash([]);break}if(N?ty(e,j,V,Y,Z,z,"stroke"):e.strokeRect(j,V,Y,Z),J==="double"){var q=A/2;N?ty(e,j+q,V+q,Y-q*2,Z-q*2,z,"stroke"):e.strokeRect(j+q,V+q,Y-q*2,Z-q*2)}e.setLineDash&&e.setLineDash([]),e.lineWidth=B,e.strokeStyle=ee}}var he=2*t.pstyle("text-outline-width").pfValue;if(he>0&&(e.lineWidth=he),t.pstyle("text-wrap").value==="wrap"){var de=qr(s,"labelWrapCachedLines",n),oe=qr(s,"labelLineHeight",n),ke=p/2,Ae=this.getLabelJustification(t);switch(Ae==="auto"||(k==="left"?Ae==="left"?l+=-p:Ae==="center"&&(l+=-ke):k==="center"?Ae==="left"?l+=-ke:Ae==="right"&&(l+=ke):k==="right"&&(Ae==="center"?l+=ke:Ae==="right"&&(l+=p))),_){case"top":u-=(de.length-1)*oe;break;case"center":case"bottom":u-=(de.length-1)*oe;break}for(var Se=0;Se<de.length;Se++)he>0&&e.strokeText(de[Se],l,u),e.fillText(de[Se],l,u),u+=oe}else he>0&&e.strokeText(h,l,u),e.fillText(h,l,u);C!==0&&(e.rotate(-C),e.translate(-c,-f))}}};var to={};to.drawNode=function(e,t,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,s=this,o,l,u=t._private,c=u.rscratch,f=t.position();if(!(!ze(f.x)||!ze(f.y))&&!(a&&!t.visible())){var h=a?t.effectiveOpacity():1,d=s.usePaths(),p,v=!1,x=t.padding();o=t.width()+2*x,l=t.height()+2*x;var y;n&&(y=n,e.translate(-y.x1,-y.y1));for(var w=t.pstyle("background-image"),k=w.value,_=new Array(k.length),C=new Array(k.length),T=0,E=0;E<k.length;E++){var A=k[E],R=_[E]=A!=null&&A!=="none";if(R){var D=t.cy().style().getIndexedStyle(t,"background-image-crossorigin","value",E);T++,C[E]=s.getCachedImage(A,D,function(){u.backgroundTimestamp=Date.now(),t.emitAndNotify("background")})}}var N=t.pstyle("background-blacken").value,z=t.pstyle("border-width").pfValue,j=t.pstyle("background-opacity").value*h,V=t.pstyle("border-color").value,Y=t.pstyle("border-style").value,Z=t.pstyle("border-join").value,X=t.pstyle("border-cap").value,G=t.pstyle("border-position").value,ee=t.pstyle("border-dash-pattern").pfValue,B=t.pstyle("border-dash-offset").pfValue,K=t.pstyle("border-opacity").value*h,J=t.pstyle("outline-width").pfValue,q=t.pstyle("outline-color").value,he=t.pstyle("outline-style").value,de=t.pstyle("outline-opacity").value*h,oe=t.pstyle("outline-offset").value,ke=t.pstyle("corner-radius").value;ke!=="auto"&&(ke=t.pstyle("corner-radius").pfValue);var Ae=function(){var Oe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:j;s.eleFillStyle(e,t,Oe)},Se=function(){var Oe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:K;s.colorStrokeStyle(e,V[0],V[1],V[2],Oe)},ce=function(){var Oe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:de;s.colorStrokeStyle(e,q[0],q[1],q[2],Oe)},ge=function(Oe,_e,U,le){var ie=s.nodePathCache=s.nodePathCache||[],xe=yM(U==="polygon"?U+","+le.join(","):U,""+_e,""+Oe,""+ke),ye=ie[xe],Ue,Ce=!1;return ye!=null?(Ue=ye,Ce=!0,c.pathCache=Ue):(Ue=new Path2D,ie[xe]=c.pathCache=Ue),{path:Ue,cacheHit:Ce}},me=t.pstyle("shape").strValue,Ee=t.pstyle("shape-polygon-points").pfValue;if(d){e.translate(f.x,f.y);var je=ge(o,l,me,Ee);p=je.path,v=je.cacheHit}var ct=function(){if(!v){var Oe=f;d&&(Oe={x:0,y:0}),s.nodeShapes[s.getNodeShape(t)].draw(p||e,Oe.x,Oe.y,o,l,ke,c)}d?e.fill(p):e.fill()},zt=function(){for(var Oe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:h,_e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,U=u.backgrounding,le=0,ie=0;ie<C.length;ie++){var xe=t.cy().style().getIndexedStyle(t,"background-image-containment","value",ie);if(_e&&xe==="over"||!_e&&xe==="inside"){le++;continue}_[ie]&&C[ie].complete&&!C[ie].error&&(le++,s.drawInscribedImage(e,C[ie],t,ie,Oe))}u.backgrounding=le!==T,U!==u.backgrounding&&t.updateStyle(!1)},Tt=function(){var Oe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,_e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:h;s.hasPie(t)&&(s.drawPie(e,t,_e),Oe&&(d||s.nodeShapes[s.getNodeShape(t)].draw(e,f.x,f.y,o,l,ke,c)))},He=function(){var Oe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,_e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:h;s.hasStripe(t)&&(e.save(),d?e.clip(c.pathCache):(s.nodeShapes[s.getNodeShape(t)].draw(e,f.x,f.y,o,l,ke,c),e.clip()),s.drawStripe(e,t,_e),e.restore(),Oe&&(d||s.nodeShapes[s.getNodeShape(t)].draw(e,f.x,f.y,o,l,ke,c)))},$e=function(){var Oe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:h,_e=(N>0?N:-N)*Oe,U=N>0?0:255;N!==0&&(s.colorFillStyle(e,U,U,U,_e),d?e.fill(p):e.fill())},Qe=function(){if(z>0){if(e.lineWidth=z,e.lineCap=X,e.lineJoin=Z,e.setLineDash)switch(Y){case"dotted":e.setLineDash([1,1]);break;case"dashed":e.setLineDash(ee),e.lineDashOffset=B;break;case"solid":case"double":e.setLineDash([]);break}if(G!=="center"){if(e.save(),e.lineWidth*=2,G==="inside")d?e.clip(p):e.clip();else{var Oe=new Path2D;Oe.rect(-o/2-z,-l/2-z,o+2*z,l+2*z),Oe.addPath(p),e.clip(Oe,"evenodd")}d?e.stroke(p):e.stroke(),e.restore()}else d?e.stroke(p):e.stroke();if(Y==="double"){e.lineWidth=z/3;var _e=e.globalCompositeOperation;e.globalCompositeOperation="destination-out",d?e.stroke(p):e.stroke(),e.globalCompositeOperation=_e}e.setLineDash&&e.setLineDash([])}},nt=function(){if(J>0){if(e.lineWidth=J,e.lineCap="butt",e.setLineDash)switch(he){case"dotted":e.setLineDash([1,1]);break;case"dashed":e.setLineDash([4,2]);break;case"solid":case"double":e.setLineDash([]);break}var Oe=f;d&&(Oe={x:0,y:0});var _e=s.getNodeShape(t),U=z;G==="inside"&&(U=0),G==="outside"&&(U*=2);var le=(o+U+(J+oe))/o,ie=(l+U+(J+oe))/l,xe=o*le,ye=l*ie,Ue=s.nodeShapes[_e].points,Ce;if(d){var Ke=ge(xe,ye,_e,Ue);Ce=Ke.path}if(_e==="ellipse")s.drawEllipsePath(Ce||e,Oe.x,Oe.y,xe,ye);else if(["round-diamond","round-heptagon","round-hexagon","round-octagon","round-pentagon","round-polygon","round-triangle","round-tag"].includes(_e)){var ht=0,kt=0,ut=0;_e==="round-diamond"?ht=(U+oe+J)*1.4:_e==="round-heptagon"?(ht=(U+oe+J)*1.075,ut=-(U/2+oe+J)/35):_e==="round-hexagon"?ht=(U+oe+J)*1.12:_e==="round-pentagon"?(ht=(U+oe+J)*1.13,ut=-(U/2+oe+J)/15):_e==="round-tag"?(ht=(U+oe+J)*1.12,kt=(U/2+J+oe)*.07):_e==="round-triangle"&&(ht=(U+oe+J)*(Math.PI/2),ut=-(U+oe/2+J)/Math.PI),ht!==0&&(le=(o+ht)/o,xe=o*le,["round-hexagon","round-tag"].includes(_e)||(ie=(l+ht)/l,ye=l*ie)),ke=ke==="auto"?EM(xe,ye):ke;for(var it=xe/2,et=ye/2,at=ke+(U+J+oe)/2,Rt=new Array(Ue.length/2),xn=new Array(Ue.length/2),Kn=0;Kn<Ue.length/2;Kn++)Rt[Kn]={x:Oe.x+kt+it*Ue[Kn*2],y:Oe.y+ut+et*Ue[Kn*2+1]};var Vn,bn,Dn,mt,M=Rt.length;for(bn=Rt[M-1],Vn=0;Vn<M;Vn++)Dn=Rt[Vn%M],mt=Rt[(Vn+1)%M],xn[Vn]=Bb(bn,Dn,mt,at),bn=Dn,Dn=mt;s.drawRoundPolygonPath(Ce||e,Oe.x+kt,Oe.y+ut,o*le,l*ie,Ue,xn)}else if(["roundrectangle","round-rectangle"].includes(_e))ke=ke==="auto"?qs(xe,ye):ke,s.drawRoundRectanglePath(Ce||e,Oe.x,Oe.y,xe,ye,ke+(U+J+oe)/2);else if(["cutrectangle","cut-rectangle"].includes(_e))ke=ke==="auto"?Eb():ke,s.drawCutRectanglePath(Ce||e,Oe.x,Oe.y,xe,ye,null,ke+(U+J+oe)/4);else if(["bottomroundrectangle","bottom-round-rectangle"].includes(_e))ke=ke==="auto"?qs(xe,ye):ke,s.drawBottomRoundRectanglePath(Ce||e,Oe.x,Oe.y,xe,ye,ke+(U+J+oe)/2);else if(_e==="barrel")s.drawBarrelPath(Ce||e,Oe.x,Oe.y,xe,ye);else if(_e.startsWith("polygon")||["rhomboid","right-rhomboid","round-tag","tag","vee"].includes(_e)){var I=(U+J+oe)/o;Ue=Sp(_p(Ue,I)),s.drawPolygonPath(Ce||e,Oe.x,Oe.y,o,l,Ue)}else{var Me=(U+J+oe)/o;Ue=Sp(_p(Ue,-Me)),s.drawPolygonPath(Ce||e,Oe.x,Oe.y,o,l,Ue)}if(d?e.stroke(Ce):e.stroke(),he==="double"){e.lineWidth=U/3;var $=e.globalCompositeOperation;e.globalCompositeOperation="destination-out",d?e.stroke(Ce):e.stroke(),e.globalCompositeOperation=$}e.setLineDash&&e.setLineDash([])}},Je=function(){i&&s.drawNodeOverlay(e,t,f,o,l)},rt=function(){i&&s.drawNodeUnderlay(e,t,f,o,l)},lt=function(){s.drawElementText(e,t,null,r)},bt=t.pstyle("ghost").value==="yes";if(bt){var Bt=t.pstyle("ghost-offset-x").pfValue,be=t.pstyle("ghost-offset-y").pfValue,Te=t.pstyle("ghost-opacity").value,Be=Te*h;e.translate(Bt,be),ce(),nt(),Ae(Te*j),ct(),zt(Be,!0),Se(Te*K),Qe(),Tt(N!==0||z!==0),He(N!==0||z!==0),zt(Be,!1),$e(Be),e.translate(-Bt,-be)}d&&e.translate(-f.x,-f.y),rt(),d&&e.translate(f.x,f.y),ce(),nt(),Ae(),ct(),zt(h,!0),Se(),Qe(),Tt(N!==0||z!==0),He(N!==0||z!==0),zt(h,!1),$e(),d&&e.translate(-f.x,-f.y),lt(),Je(),n&&e.translate(y.x1,y.y1)}};var IA=function(t){if(!["overlay","underlay"].includes(t))throw new Error("Invalid state");return function(n,r,i,a,s){var o=this;if(r.visible()){var l=r.pstyle("".concat(t,"-padding")).pfValue,u=r.pstyle("".concat(t,"-opacity")).value,c=r.pstyle("".concat(t,"-color")).value,f=r.pstyle("".concat(t,"-shape")).value,h=r.pstyle("".concat(t,"-corner-radius")).value;if(u>0){if(i=i||r.position(),a==null||s==null){var d=r.padding();a=r.width()+2*d,s=r.height()+2*d}o.colorFillStyle(n,c[0],c[1],c[2],u),o.nodeShapes[f].draw(n,i.x,i.y,a+l*2,s+l*2,h),n.fill()}}}};to.drawNodeOverlay=IA("overlay");to.drawNodeUnderlay=IA("underlay");to.hasPie=function(e){return e=e[0],e._private.hasPie};to.hasStripe=function(e){return e=e[0],e._private.hasStripe};to.drawPie=function(e,t,n,r){t=t[0],r=r||t.position();var i=t.cy().style(),a=t.pstyle("pie-size"),s=t.pstyle("pie-hole"),o=t.pstyle("pie-start-angle").pfValue,l=r.x,u=r.y,c=t.width(),f=t.height(),h=Math.min(c,f)/2,d,p=0,v=this.usePaths();if(v&&(l=0,u=0),a.units==="%"?h=h*a.pfValue:a.pfValue!==void 0&&(h=a.pfValue/2),s.units==="%"?d=h*s.pfValue:s.pfValue!==void 0&&(d=s.pfValue/2),!(d>=h))for(var x=1;x<=i.pieBackgroundN;x++){var y=t.pstyle("pie-"+x+"-background-size").value,w=t.pstyle("pie-"+x+"-background-color").value,k=t.pstyle("pie-"+x+"-background-opacity").value*n,_=y/100;_+p>1&&(_=1-p);var C=1.5*Math.PI+2*Math.PI*p;C+=o;var T=2*Math.PI*_,E=C+T;y===0||p>=1||p+_>1||(d===0?(e.beginPath(),e.moveTo(l,u),e.arc(l,u,h,C,E),e.closePath()):(e.beginPath(),e.arc(l,u,h,C,E),e.arc(l,u,d,E,C,!0),e.closePath()),this.colorFillStyle(e,w[0],w[1],w[2],k),e.fill(),p+=_)}};to.drawStripe=function(e,t,n,r){t=t[0],r=r||t.position();var i=t.cy().style(),a=r.x,s=r.y,o=t.width(),l=t.height(),u=0,c=this.usePaths();e.save();var f=t.pstyle("stripe-direction").value,h=t.pstyle("stripe-size");switch(f){case"vertical":break;case"righward":e.rotate(-Math.PI/2);break}var d=o,p=l;h.units==="%"?(d=d*h.pfValue,p=p*h.pfValue):h.pfValue!==void 0&&(d=h.pfValue,p=h.pfValue),c&&(a=0,s=0),s-=d/2,a-=p/2;for(var v=1;v<=i.stripeBackgroundN;v++){var x=t.pstyle("stripe-"+v+"-background-size").value,y=t.pstyle("stripe-"+v+"-background-color").value,w=t.pstyle("stripe-"+v+"-background-opacity").value*n,k=x/100;k+u>1&&(k=1-u),!(x===0||u>=1||u+k>1)&&(e.beginPath(),e.rect(a,s+p*u,d,p*k),e.closePath(),this.colorFillStyle(e,y[0],y[1],y[2],w),e.fill(),u+=k)}e.restore()};var zr={},tae=100;zr.getPixelRatio=function(){var e=this.data.contexts[0];if(this.forcedPixelRatio!=null)return this.forcedPixelRatio;var t=this.cy.window(),n=e.backingStorePixelRatio||e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return(t.devicePixelRatio||1)/n};zr.paintCache=function(e){for(var t=this.paintCaches=this.paintCaches||[],n=!0,r,i=0;i<t.length;i++)if(r=t[i],r.context===e){n=!1;break}return n&&(r={context:e},t.push(r)),r};zr.createGradientStyleFor=function(e,t,n,r,i){var a,s=this.usePaths(),o=n.pstyle(t+"-gradient-stop-colors").value,l=n.pstyle(t+"-gradient-stop-positions").pfValue;if(r==="radial-gradient")if(n.isEdge()){var u=n.sourceEndpoint(),c=n.targetEndpoint(),f=n.midpoint(),h=Xo(u,f),d=Xo(c,f);a=e.createRadialGradient(f.x,f.y,0,f.x,f.y,Math.max(h,d))}else{var p=s?{x:0,y:0}:n.position(),v=n.paddedWidth(),x=n.paddedHeight();a=e.createRadialGradient(p.x,p.y,0,p.x,p.y,Math.max(v,x))}else if(n.isEdge()){var y=n.sourceEndpoint(),w=n.targetEndpoint();a=e.createLinearGradient(y.x,y.y,w.x,w.y)}else{var k=s?{x:0,y:0}:n.position(),_=n.paddedWidth(),C=n.paddedHeight(),T=_/2,E=C/2,A=n.pstyle("background-gradient-direction").value;switch(A){case"to-bottom":a=e.createLinearGradient(k.x,k.y-E,k.x,k.y+E);break;case"to-top":a=e.createLinearGradient(k.x,k.y+E,k.x,k.y-E);break;case"to-left":a=e.createLinearGradient(k.x+T,k.y,k.x-T,k.y);break;case"to-right":a=e.createLinearGradient(k.x-T,k.y,k.x+T,k.y);break;case"to-bottom-right":case"to-right-bottom":a=e.createLinearGradient(k.x-T,k.y-E,k.x+T,k.y+E);break;case"to-top-right":case"to-right-top":a=e.createLinearGradient(k.x-T,k.y+E,k.x+T,k.y-E);break;case"to-bottom-left":case"to-left-bottom":a=e.createLinearGradient(k.x+T,k.y-E,k.x-T,k.y+E);break;case"to-top-left":case"to-left-top":a=e.createLinearGradient(k.x+T,k.y+E,k.x-T,k.y-E);break}}if(!a)return null;for(var R=l.length===o.length,D=o.length,N=0;N<D;N++)a.addColorStop(R?l[N]:N/(D-1),"rgba("+o[N][0]+","+o[N][1]+","+o[N][2]+","+i+")");return a};zr.gradientFillStyle=function(e,t,n,r){var i=this.createGradientStyleFor(e,"background",t,n,r);if(!i)return null;e.fillStyle=i};zr.colorFillStyle=function(e,t,n,r,i){e.fillStyle="rgba("+t+","+n+","+r+","+i+")"};zr.eleFillStyle=function(e,t,n){var r=t.pstyle("background-fill").value;if(r==="linear-gradient"||r==="radial-gradient")this.gradientFillStyle(e,t,r,n);else{var i=t.pstyle("background-color").value;this.colorFillStyle(e,i[0],i[1],i[2],n)}};zr.gradientStrokeStyle=function(e,t,n,r){var i=this.createGradientStyleFor(e,"line",t,n,r);if(!i)return null;e.strokeStyle=i};zr.colorStrokeStyle=function(e,t,n,r,i){e.strokeStyle="rgba("+t+","+n+","+r+","+i+")"};zr.eleStrokeStyle=function(e,t,n){var r=t.pstyle("line-fill").value;if(r==="linear-gradient"||r==="radial-gradient")this.gradientStrokeStyle(e,t,r,n);else{var i=t.pstyle("line-color").value;this.colorStrokeStyle(e,i[0],i[1],i[2],n)}};zr.matchCanvasSize=function(e){var t=this,n=t.data,r=t.findContainerClientCoords(),i=r[2],a=r[3],s=t.getPixelRatio(),o=t.motionBlurPxRatio;(e===t.data.bufferCanvases[t.MOTIONBLUR_BUFFER_NODE]||e===t.data.bufferCanvases[t.MOTIONBLUR_BUFFER_DRAG])&&(s=o);var l=i*s,u=a*s,c;if(!(l===t.canvasWidth&&u===t.canvasHeight)){t.fontCaches=null;var f=n.canvasContainer;f.style.width=i+"px",f.style.height=a+"px";for(var h=0;h<t.CANVAS_LAYERS;h++)c=n.canvases[h],c.width=l,c.height=u,c.style.width=i+"px",c.style.height=a+"px";for(var h=0;h<t.BUFFER_COUNT;h++)c=n.bufferCanvases[h],c.width=l,c.height=u,c.style.width=i+"px",c.style.height=a+"px";t.textureMult=1,s<=1&&(c=n.bufferCanvases[t.TEXTURE_BUFFER],t.textureMult=2,c.width=l*t.textureMult,c.height=u*t.textureMult),t.canvasWidth=l,t.canvasHeight=u,t.pixelRatio=s}};zr.renderTo=function(e,t,n,r){this.render({forcedContext:e,forcedZoom:t,forcedPan:n,drawAllLayers:!0,forcedPxRatio:r})};zr.clearCanvas=function(){var e=this,t=e.data;function n(r){r.clearRect(0,0,e.canvasWidth,e.canvasHeight)}n(t.contexts[e.NODE]),n(t.contexts[e.DRAG])};zr.render=function(e){var t=this;e=e||kM();var n=t.cy,r=e.forcedContext,i=e.drawAllLayers,a=e.drawOnlyNodeLayer,s=e.forcedZoom,o=e.forcedPan,l=e.forcedPxRatio===void 0?this.getPixelRatio():e.forcedPxRatio,u=t.data,c=u.canvasNeedsRedraw,f=t.textureOnViewport&&!r&&(t.pinching||t.hoverData.dragging||t.swipePanning||t.data.wheelZooming),h=e.motionBlur!==void 0?e.motionBlur:t.motionBlur,d=t.motionBlurPxRatio,p=n.hasCompoundNodes(),v=t.hoverData.draggingEles,x=!!(t.hoverData.selecting||t.touchData.selecting);h=h&&!r&&t.motionBlurEnabled&&!x;var y=h;r||(t.prevPxRatio!==l&&(t.invalidateContainerClientCoordsCache(),t.matchCanvasSize(t.container),t.redrawHint("eles",!0),t.redrawHint("drag",!0)),t.prevPxRatio=l),!r&&t.motionBlurTimeout&&clearTimeout(t.motionBlurTimeout),h&&(t.mbFrames==null&&(t.mbFrames=0),t.mbFrames++,t.mbFrames<3&&(y=!1),t.mbFrames>t.minMbLowQualFrames&&(t.motionBlurPxRatio=t.mbPxRBlurry)),t.clearingMotionBlur&&(t.motionBlurPxRatio=1),t.textureDrawLastFrame&&!f&&(c[t.NODE]=!0,c[t.SELECT_BOX]=!0);var w=n.style(),k=n.zoom(),_=s!==void 0?s:k,C=n.pan(),T={x:C.x,y:C.y},E={zoom:k,pan:{x:C.x,y:C.y}},A=t.prevViewport,R=A===void 0||E.zoom!==A.zoom||E.pan.x!==A.pan.x||E.pan.y!==A.pan.y;!R&&!(v&&!p)&&(t.motionBlurPxRatio=1),o&&(T=o),_*=l,T.x*=l,T.y*=l;var D=t.getCachedZSortedEles();function N(Se,ce,ge,me,Ee){var je=Se.globalCompositeOperation;Se.globalCompositeOperation="destination-out",t.colorFillStyle(Se,255,255,255,t.motionBlurTransparency),Se.fillRect(ce,ge,me,Ee),Se.globalCompositeOperation=je}function z(Se,ce){var ge,me,Ee,je;!t.clearingMotionBlur&&(Se===u.bufferContexts[t.MOTIONBLUR_BUFFER_NODE]||Se===u.bufferContexts[t.MOTIONBLUR_BUFFER_DRAG])?(ge={x:C.x*d,y:C.y*d},me=k*d,Ee=t.canvasWidth*d,je=t.canvasHeight*d):(ge=T,me=_,Ee=t.canvasWidth,je=t.canvasHeight),Se.setTransform(1,0,0,1,0,0),ce==="motionBlur"?N(Se,0,0,Ee,je):!r&&(ce===void 0||ce)&&Se.clearRect(0,0,Ee,je),i||(Se.translate(ge.x,ge.y),Se.scale(me,me)),o&&Se.translate(o.x,o.y),s&&Se.scale(s,s)}if(f||(t.textureDrawLastFrame=!1),f){if(t.textureDrawLastFrame=!0,!t.textureCache){t.textureCache={},t.textureCache.bb=n.mutableElements().boundingBox(),t.textureCache.texture=t.data.bufferCanvases[t.TEXTURE_BUFFER];var j=t.data.bufferContexts[t.TEXTURE_BUFFER];j.setTransform(1,0,0,1,0,0),j.clearRect(0,0,t.canvasWidth*t.textureMult,t.canvasHeight*t.textureMult),t.render({forcedContext:j,drawOnlyNodeLayer:!0,forcedPxRatio:l*t.textureMult});var E=t.textureCache.viewport={zoom:n.zoom(),pan:n.pan(),width:t.canvasWidth,height:t.canvasHeight};E.mpan={x:(0-E.pan.x)/E.zoom,y:(0-E.pan.y)/E.zoom}}c[t.DRAG]=!1,c[t.NODE]=!1;var V=u.contexts[t.NODE],Y=t.textureCache.texture,E=t.textureCache.viewport;V.setTransform(1,0,0,1,0,0),h?N(V,0,0,E.width,E.height):V.clearRect(0,0,E.width,E.height);var Z=w.core("outside-texture-bg-color").value,X=w.core("outside-texture-bg-opacity").value;t.colorFillStyle(V,Z[0],Z[1],Z[2],X),V.fillRect(0,0,E.width,E.height);var k=n.zoom();z(V,!1),V.clearRect(E.mpan.x,E.mpan.y,E.width/E.zoom/l,E.height/E.zoom/l),V.drawImage(Y,E.mpan.x,E.mpan.y,E.width/E.zoom/l,E.height/E.zoom/l)}else t.textureOnViewport&&!r&&(t.textureCache=null);var G=n.extent(),ee=t.pinching||t.hoverData.dragging||t.swipePanning||t.data.wheelZooming||t.hoverData.draggingEles||t.cy.animated(),B=t.hideEdgesOnViewport&&ee,K=[];if(K[t.NODE]=!c[t.NODE]&&h&&!t.clearedForMotionBlur[t.NODE]||t.clearingMotionBlur,K[t.NODE]&&(t.clearedForMotionBlur[t.NODE]=!0),K[t.DRAG]=!c[t.DRAG]&&h&&!t.clearedForMotionBlur[t.DRAG]||t.clearingMotionBlur,K[t.DRAG]&&(t.clearedForMotionBlur[t.DRAG]=!0),c[t.NODE]||i||a||K[t.NODE]){var J=h&&!K[t.NODE]&&d!==1,V=r||(J?t.data.bufferContexts[t.MOTIONBLUR_BUFFER_NODE]:u.contexts[t.NODE]),q=h&&!J?"motionBlur":void 0;z(V,q),B?t.drawCachedNodes(V,D.nondrag,l,G):t.drawLayeredElements(V,D.nondrag,l,G),t.debug&&t.drawDebugPoints(V,D.nondrag),!i&&!h&&(c[t.NODE]=!1)}if(!a&&(c[t.DRAG]||i||K[t.DRAG])){var J=h&&!K[t.DRAG]&&d!==1,V=r||(J?t.data.bufferContexts[t.MOTIONBLUR_BUFFER_DRAG]:u.contexts[t.DRAG]);z(V,h&&!J?"motionBlur":void 0),B?t.drawCachedNodes(V,D.drag,l,G):t.drawCachedElements(V,D.drag,l,G),t.debug&&t.drawDebugPoints(V,D.drag),!i&&!h&&(c[t.DRAG]=!1)}if(this.drawSelectionRectangle(e,z),h&&d!==1){var he=u.contexts[t.NODE],de=t.data.bufferCanvases[t.MOTIONBLUR_BUFFER_NODE],oe=u.contexts[t.DRAG],ke=t.data.bufferCanvases[t.MOTIONBLUR_BUFFER_DRAG],Ae=function(ce,ge,me){ce.setTransform(1,0,0,1,0,0),me||!y?ce.clearRect(0,0,t.canvasWidth,t.canvasHeight):N(ce,0,0,t.canvasWidth,t.canvasHeight);var Ee=d;ce.drawImage(ge,0,0,t.canvasWidth*Ee,t.canvasHeight*Ee,0,0,t.canvasWidth,t.canvasHeight)};(c[t.NODE]||K[t.NODE])&&(Ae(he,de,K[t.NODE]),c[t.NODE]=!1),(c[t.DRAG]||K[t.DRAG])&&(Ae(oe,ke,K[t.DRAG]),c[t.DRAG]=!1)}t.prevViewport=E,t.clearingMotionBlur&&(t.clearingMotionBlur=!1,t.motionBlurCleared=!0,t.motionBlur=!0),h&&(t.motionBlurTimeout=setTimeout(function(){t.motionBlurTimeout=null,t.clearedForMotionBlur[t.NODE]=!1,t.clearedForMotionBlur[t.DRAG]=!1,t.motionBlur=!1,t.clearingMotionBlur=!f,t.mbFrames=0,c[t.NODE]=!0,c[t.DRAG]=!0,t.redraw()},tae)),r||n.emit("render")};var kc;zr.drawSelectionRectangle=function(e,t){var n=this,r=n.cy,i=n.data,a=r.style(),s=e.drawOnlyNodeLayer,o=e.drawAllLayers,l=i.canvasNeedsRedraw,u=e.forcedContext;if(n.showFps||!s&&l[n.SELECT_BOX]&&!o){var c=u||i.contexts[n.SELECT_BOX];if(t(c),n.selection[4]==1&&(n.hoverData.selecting||n.touchData.selecting)){var f=n.cy.zoom(),h=a.core("selection-box-border-width").value/f;c.lineWidth=h,c.fillStyle="rgba("+a.core("selection-box-color").value[0]+","+a.core("selection-box-color").value[1]+","+a.core("selection-box-color").value[2]+","+a.core("selection-box-opacity").value+")",c.fillRect(n.selection[0],n.selection[1],n.selection[2]-n.selection[0],n.selection[3]-n.selection[1]),h>0&&(c.strokeStyle="rgba("+a.core("selection-box-border-color").value[0]+","+a.core("selection-box-border-color").value[1]+","+a.core("selection-box-border-color").value[2]+","+a.core("selection-box-opacity").value+")",c.strokeRect(n.selection[0],n.selection[1],n.selection[2]-n.selection[0],n.selection[3]-n.selection[1]))}if(i.bgActivePosistion&&!n.hoverData.selecting){var f=n.cy.zoom(),d=i.bgActivePosistion;c.fillStyle="rgba("+a.core("active-bg-color").value[0]+","+a.core("active-bg-color").value[1]+","+a.core("active-bg-color").value[2]+","+a.core("active-bg-opacity").value+")",c.beginPath(),c.arc(d.x,d.y,a.core("active-bg-size").pfValue/f,0,2*Math.PI),c.fill()}var p=n.lastRedrawTime;if(n.showFps&&p){p=Math.round(p);var v=Math.round(1e3/p),x="1 frame = "+p+" ms = "+v+" fps";if(c.setTransform(1,0,0,1,0,0),c.fillStyle="rgba(255, 0, 0, 0.75)",c.strokeStyle="rgba(255, 0, 0, 0.75)",c.font="30px Arial",!kc){var y=c.measureText(x);kc=y.actualBoundingBoxAscent}c.fillText(x,0,kc);var w=60;c.strokeRect(0,kc+10,250,20),c.fillRect(0,kc+10,250*Math.min(v/w,1),20)}o||(l[n.SELECT_BOX]=!1)}};function j9(e,t,n){var r=e.createShader(t);if(e.shaderSource(r,n),e.compileShader(r),!e.getShaderParameter(r,e.COMPILE_STATUS))throw new Error(e.getShaderInfoLog(r));return r}function nae(e,t,n){var r=j9(e,e.VERTEX_SHADER,t),i=j9(e,e.FRAGMENT_SHADER,n),a=e.createProgram();if(e.attachShader(a,r),e.attachShader(a,i),e.linkProgram(a),!e.getProgramParameter(a,e.LINK_STATUS))throw new Error("Could not initialize shaders");return a}function rae(e,t,n){n===void 0&&(n=t);var r=e.makeOffscreenCanvas(t,n),i=r.context=r.getContext("2d");return r.clear=function(){return i.clearRect(0,0,r.width,r.height)},r.clear(),r}function jb(e){var t=e.pixelRatio,n=e.cy.zoom(),r=e.cy.pan();return{zoom:n*t,pan:{x:r.x*t,y:r.y*t}}}function iae(e){var t=e.pixelRatio,n=e.cy.zoom();return n*t}function aae(e,t,n,r,i){var a=r*n+t.x,s=i*n+t.y;return s=Math.round(e.canvasHeight-s),[a,s]}function sae(e){return e.pstyle("background-fill").value!=="solid"||e.pstyle("background-image").strValue!=="none"?!1:e.pstyle("border-width").value===0||e.pstyle("border-opacity").value===0?!0:e.pstyle("border-style").value==="solid"}function oae(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function go(e,t,n){var r=e[0]/255,i=e[1]/255,a=e[2]/255,s=t,o=n||new Array(4);return o[0]=r*s,o[1]=i*s,o[2]=a*s,o[3]=s,o}function _l(e,t){var n=t||new Array(4);return n[0]=(e>>0&255)/255,n[1]=(e>>8&255)/255,n[2]=(e>>16&255)/255,n[3]=(e>>24&255)/255,n}function lae(e){return e[0]+(e[1]<<8)+(e[2]<<16)+(e[3]<<24)}function uae(e,t){var n=e.createTexture();return n.buffer=function(r){e.bindTexture(e.TEXTURE_2D,n),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR_MIPMAP_NEAREST),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,r),e.generateMipmap(e.TEXTURE_2D),e.bindTexture(e.TEXTURE_2D,null)},n.deleteTexture=function(){e.deleteTexture(n)},n}function LA(e,t){switch(t){case"float":return[1,e.FLOAT,4];case"vec2":return[2,e.FLOAT,4];case"vec3":return[3,e.FLOAT,4];case"vec4":return[4,e.FLOAT,4];case"int":return[1,e.INT,4];case"ivec2":return[2,e.INT,4]}}function OA(e,t,n){switch(t){case e.FLOAT:return new Float32Array(n);case e.INT:return new Int32Array(n)}}function cae(e,t,n,r,i,a){switch(t){case e.FLOAT:return new Float32Array(n.buffer,a*r,i);case e.INT:return new Int32Array(n.buffer,a*r,i)}}function fae(e,t,n,r){var i=LA(e,t),a=tr(i,2),s=a[0],o=a[1],l=OA(e,o,r),u=e.createBuffer();return e.bindBuffer(e.ARRAY_BUFFER,u),e.bufferData(e.ARRAY_BUFFER,l,e.STATIC_DRAW),o===e.FLOAT?e.vertexAttribPointer(n,s,o,!1,0,0):o===e.INT&&e.vertexAttribIPointer(n,s,o,0,0),e.enableVertexAttribArray(n),e.bindBuffer(e.ARRAY_BUFFER,null),u}function Qi(e,t,n,r){var i=LA(e,n),a=tr(i,3),s=a[0],o=a[1],l=a[2],u=OA(e,o,t*s),c=s*l,f=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,f),e.bufferData(e.ARRAY_BUFFER,t*c,e.DYNAMIC_DRAW),e.enableVertexAttribArray(r),o===e.FLOAT?e.vertexAttribPointer(r,s,o,!1,c,0):o===e.INT&&e.vertexAttribIPointer(r,s,o,c,0),e.vertexAttribDivisor(r,1),e.bindBuffer(e.ARRAY_BUFFER,null);for(var h=new Array(t),d=0;d<t;d++)h[d]=cae(e,o,u,c,s,d);return f.dataArray=u,f.stride=c,f.size=s,f.getView=function(p){return h[p]},f.setPoint=function(p,v,x){var y=h[p];y[0]=v,y[1]=x},f.bufferSubData=function(p){e.bindBuffer(e.ARRAY_BUFFER,f),p?e.bufferSubData(e.ARRAY_BUFFER,0,u,0,p*s):e.bufferSubData(e.ARRAY_BUFFER,0,u)},f}function hae(e,t,n){for(var r=9,i=new Float32Array(t*r),a=new Array(t),s=0;s<t;s++){var o=s*r*4;a[s]=new Float32Array(i.buffer,o,r)}var l=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,l),e.bufferData(e.ARRAY_BUFFER,i.byteLength,e.DYNAMIC_DRAW);for(var u=0;u<3;u++){var c=n+u;e.enableVertexAttribArray(c),e.vertexAttribPointer(c,3,e.FLOAT,!1,3*12,u*12),e.vertexAttribDivisor(c,1)}return e.bindBuffer(e.ARRAY_BUFFER,null),l.getMatrixView=function(f){return a[f]},l.setData=function(f,h){a[h].set(f,0)},l.bufferSubData=function(){e.bindBuffer(e.ARRAY_BUFFER,l),e.bufferSubData(e.ARRAY_BUFFER,0,i)},l}function dae(e){var t=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,t);var n=e.createTexture();return e.bindTexture(e.TEXTURE_2D,n),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,n,0),e.bindFramebuffer(e.FRAMEBUFFER,null),t.setFramebufferAttachmentSizes=function(r,i){e.bindTexture(e.TEXTURE_2D,n),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,r,i,0,e.RGBA,e.UNSIGNED_BYTE,null)},t}var q9=typeof Float32Array<"u"?Float32Array:Array;Math.hypot||(Math.hypot=function(){for(var e=0,t=arguments.length;t--;)e+=arguments[t]*arguments[t];return Math.sqrt(e)});function ny(){var e=new q9(9);return q9!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[5]=0,e[6]=0,e[7]=0),e[0]=1,e[4]=1,e[8]=1,e}function H9(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function pae(e,t,n){var r=t[0],i=t[1],a=t[2],s=t[3],o=t[4],l=t[5],u=t[6],c=t[7],f=t[8],h=n[0],d=n[1],p=n[2],v=n[3],x=n[4],y=n[5],w=n[6],k=n[7],_=n[8];return e[0]=h*r+d*s+p*u,e[1]=h*i+d*o+p*c,e[2]=h*a+d*l+p*f,e[3]=v*r+x*s+y*u,e[4]=v*i+x*o+y*c,e[5]=v*a+x*l+y*f,e[6]=w*r+k*s+_*u,e[7]=w*i+k*o+_*c,e[8]=w*a+k*l+_*f,e}function Sd(e,t,n){var r=t[0],i=t[1],a=t[2],s=t[3],o=t[4],l=t[5],u=t[6],c=t[7],f=t[8],h=n[0],d=n[1];return e[0]=r,e[1]=i,e[2]=a,e[3]=s,e[4]=o,e[5]=l,e[6]=h*r+d*s+u,e[7]=h*i+d*o+c,e[8]=h*a+d*l+f,e}function V9(e,t,n){var r=t[0],i=t[1],a=t[2],s=t[3],o=t[4],l=t[5],u=t[6],c=t[7],f=t[8],h=Math.sin(n),d=Math.cos(n);return e[0]=d*r+h*s,e[1]=d*i+h*o,e[2]=d*a+h*l,e[3]=d*s-h*r,e[4]=d*o-h*i,e[5]=d*l-h*a,e[6]=u,e[7]=c,e[8]=f,e}function g4(e,t,n){var r=n[0],i=n[1];return e[0]=r*t[0],e[1]=r*t[1],e[2]=r*t[2],e[3]=i*t[3],e[4]=i*t[4],e[5]=i*t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function gae(e,t,n){return e[0]=2/t,e[1]=0,e[2]=0,e[3]=0,e[4]=-2/n,e[5]=0,e[6]=-1,e[7]=1,e[8]=1,e}var mae=function(){function e(t,n,r,i){Zs(this,e),this.debugID=Math.floor(Math.random()*1e4),this.r=t,this.texSize=n,this.texRows=r,this.texHeight=Math.floor(n/r),this.enableWrapping=!0,this.locked=!1,this.texture=null,this.needsBuffer=!0,this.freePointer={x:0,row:0},this.keyToLocation=new Map,this.canvas=i(t,n,n),this.scratch=i(t,n,this.texHeight,"scratch")}return Js(e,[{key:"lock",value:function(){this.locked=!0}},{key:"getKeys",value:function(){return new Set(this.keyToLocation.keys())}},{key:"getScale",value:function(n){var r=n.w,i=n.h,a=this.texHeight,s=this.texSize,o=a/i,l=r*o,u=i*o;return l>s&&(o=s/r,l=r*o,u=i*o),{scale:o,texW:l,texH:u}}},{key:"draw",value:function(n,r,i){var a=this;if(this.locked)throw new Error("can't draw, atlas is locked");var s=this.texSize,o=this.texRows,l=this.texHeight,u=this.getScale(r),c=u.scale,f=u.texW,h=u.texH,d=function(k,_){if(i&&_){var C=_.context,T=k.x,E=k.row,A=T,R=l*E;C.save(),C.translate(A,R),C.scale(c,c),i(C,r),C.restore()}},p=[null,null],v=function(){d(a.freePointer,a.canvas),p[0]={x:a.freePointer.x,y:a.freePointer.row*l,w:f,h},p[1]={x:a.freePointer.x+f,y:a.freePointer.row*l,w:0,h},a.freePointer.x+=f,a.freePointer.x==s&&(a.freePointer.x=0,a.freePointer.row++)},x=function(){var k=a.scratch,_=a.canvas;k.clear(),d({x:0,row:0},k);var C=s-a.freePointer.x,T=f-C,E=l;{var A=a.freePointer.x,R=a.freePointer.row*l,D=C;_.context.drawImage(k,0,0,D,E,A,R,D,E),p[0]={x:A,y:R,w:D,h}}{var N=C,z=(a.freePointer.row+1)*l,j=T;_&&_.context.drawImage(k,N,0,j,E,0,z,j,E),p[1]={x:0,y:z,w:j,h}}a.freePointer.x=T,a.freePointer.row++},y=function(){a.freePointer.x=0,a.freePointer.row++};if(this.freePointer.x+f<=s)v();else{if(this.freePointer.row>=o-1)return!1;this.freePointer.x===s?(y(),v()):this.enableWrapping?x():(y(),v())}return this.keyToLocation.set(n,p),this.needsBuffer=!0,p}},{key:"getOffsets",value:function(n){return this.keyToLocation.get(n)}},{key:"isEmpty",value:function(){return this.freePointer.x===0&&this.freePointer.row===0}},{key:"canFit",value:function(n){if(this.locked)return!1;var r=this.texSize,i=this.texRows,a=this.getScale(n),s=a.texW;return this.freePointer.x+s>r?this.freePointer.row<i-1:!0}},{key:"bufferIfNeeded",value:function(n){this.texture||(this.texture=uae(n,this.debugID)),this.needsBuffer&&(this.texture.buffer(this.canvas),this.needsBuffer=!1,this.locked&&(this.canvas=null,this.scratch=null))}},{key:"dispose",value:function(){this.texture&&(this.texture.deleteTexture(),this.texture=null),this.canvas=null,this.scratch=null,this.locked=!0}}])}(),vae=function(){function e(t,n,r,i){Zs(this,e),this.r=t,this.texSize=n,this.texRows=r,this.createTextureCanvas=i,this.atlases=[],this.styleKeyToAtlas=new Map,this.markedKeys=new Set}return Js(e,[{key:"getKeys",value:function(){return new Set(this.styleKeyToAtlas.keys())}},{key:"_createAtlas",value:function(){var n=this.r,r=this.texSize,i=this.texRows,a=this.createTextureCanvas;return new mae(n,r,i,a)}},{key:"_getScratchCanvas",value:function(){if(!this.scratch){var n=this.r,r=this.texSize,i=this.texRows,a=this.createTextureCanvas,s=Math.floor(r/i);this.scratch=a(n,r,s,"scratch")}return this.scratch}},{key:"draw",value:function(n,r,i){var a=this.styleKeyToAtlas.get(n);return a||(a=this.atlases[this.atlases.length-1],(!a||!a.canFit(r))&&(a&&a.lock(),a=this._createAtlas(),this.atlases.push(a)),a.draw(n,r,i),this.styleKeyToAtlas.set(n,a)),a}},{key:"getAtlas",value:function(n){return this.styleKeyToAtlas.get(n)}},{key:"hasAtlas",value:function(n){return this.styleKeyToAtlas.has(n)}},{key:"markKeyForGC",value:function(n){this.markedKeys.add(n)}},{key:"gc",value:function(){var n=this,r=this.markedKeys;if(r.size===0){console.log("nothing to garbage collect");return}var i=[],a=new Map,s=null,o=Wr(this.atlases),l;try{var u=function(){var f=l.value,h=f.getKeys(),d=yae(r,h);if(d.size===0)return i.push(f),h.forEach(function(C){return a.set(C,f)}),1;s||(s=n._createAtlas(),i.push(s));var p=Wr(h),v;try{for(p.s();!(v=p.n()).done;){var x=v.value;if(!d.has(x)){var y=f.getOffsets(x),w=tr(y,2),k=w[0],_=w[1];s.canFit({w:k.w+_.w,h:k.h})||(s.lock(),s=n._createAtlas(),i.push(s)),f.canvas&&(n._copyTextureToNewAtlas(x,f,s),a.set(x,s))}}}catch(C){p.e(C)}finally{p.f()}f.dispose()};for(o.s();!(l=o.n()).done;)u()}catch(c){o.e(c)}finally{o.f()}this.atlases=i,this.styleKeyToAtlas=a,this.markedKeys=new Set}},{key:"_copyTextureToNewAtlas",value:function(n,r,i){var a=r.getOffsets(n),s=tr(a,2),o=s[0],l=s[1];if(l.w===0)i.draw(n,o,function(h){h.drawImage(r.canvas,o.x,o.y,o.w,o.h,0,0,o.w,o.h)});else{var u=this._getScratchCanvas();u.clear(),u.context.drawImage(r.canvas,o.x,o.y,o.w,o.h,0,0,o.w,o.h),u.context.drawImage(r.canvas,l.x,l.y,l.w,l.h,o.w,0,l.w,l.h);var c=o.w+l.w,f=o.h;i.draw(n,{w:c,h:f},function(h){h.drawImage(u,0,0,c,f,0,0,c,f)})}}},{key:"getCounts",value:function(){return{keyCount:this.styleKeyToAtlas.size,atlasCount:new Set(this.styleKeyToAtlas.values()).size}}}])}();function yae(e,t){return e.intersection?e.intersection(t):new Set(xp(e).filter(function(n){return t.has(n)}))}var xae=function(){function e(t,n){Zs(this,e),this.r=t,this.globalOptions=n,this.atlasSize=n.webglTexSize,this.maxAtlasesPerBatch=n.webglTexPerBatch,this.renderTypes=new Map,this.collections=new Map,this.typeAndIdToKey=new Map}return Js(e,[{key:"getAtlasSize",value:function(){return this.atlasSize}},{key:"addAtlasCollection",value:function(n,r){var i=this.globalOptions,a=i.webglTexSize,s=i.createTextureCanvas,o=r.texRows,l=this._cacheScratchCanvas(s),u=new vae(this.r,a,o,l);this.collections.set(n,u)}},{key:"addRenderType",value:function(n,r){var i=r.collection;if(!this.collections.has(i))throw new Error("invalid atlas collection name '".concat(i,"'"));var a=this.collections.get(i),s=ot({type:n,atlasCollection:a},r);this.renderTypes.set(n,s)}},{key:"getRenderTypeOpts",value:function(n){return this.renderTypes.get(n)}},{key:"getAtlasCollection",value:function(n){return this.collections.get(n)}},{key:"_cacheScratchCanvas",value:function(n){var r=-1,i=-1,a=null;return function(s,o,l,u){return u?((!a||o!=r||l!=i)&&(r=o,i=l,a=n(s,o,l)),a):n(s,o,l)}}},{key:"_key",value:function(n,r){return"".concat(n,"-").concat(r)}},{key:"invalidate",value:function(n){var r=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=i.forceRedraw,s=a===void 0?!1:a,o=i.filterEle,l=o===void 0?function(){return!0}:o,u=i.filterType,c=u===void 0?function(){return!0}:u,f=!1,h=!1,d=Wr(n),p;try{for(d.s();!(p=d.n()).done;){var v=p.value;if(l(v)){var x=Wr(this.renderTypes.values()),y;try{var w=function(){var _=y.value,C=_.type;if(c(C)){var T=r.collections.get(_.collection),E=_.getKey(v),A=Array.isArray(E)?E:[E];if(s)A.forEach(function(z){return T.markKeyForGC(z)}),h=!0;else{var R=_.getID?_.getID(v):v.id(),D=r._key(C,R),N=r.typeAndIdToKey.get(D);N!==void 0&&!oae(A,N)&&(f=!0,r.typeAndIdToKey.delete(D),N.forEach(function(z){return T.markKeyForGC(z)}))}}};for(x.s();!(y=x.n()).done;)w()}catch(k){x.e(k)}finally{x.f()}}}}catch(k){d.e(k)}finally{d.f()}return h&&(this.gc(),f=!1),f}},{key:"gc",value:function(){var n=Wr(this.collections.values()),r;try{for(n.s();!(r=n.n()).done;){var i=r.value;i.gc()}}catch(a){n.e(a)}finally{n.f()}}},{key:"getOrCreateAtlas",value:function(n,r,i,a){var s=this.renderTypes.get(r),o=this.collections.get(s.collection),l=!1,u=o.draw(a,i,function(h){s.drawClipped?(h.save(),h.beginPath(),h.rect(0,0,i.w,i.h),h.clip(),s.drawElement(h,n,i,!0,!0),h.restore()):s.drawElement(h,n,i,!0,!0),l=!0});if(l){var c=s.getID?s.getID(n):n.id(),f=this._key(r,c);this.typeAndIdToKey.has(f)?this.typeAndIdToKey.get(f).push(a):this.typeAndIdToKey.set(f,[a])}return u}},{key:"getAtlasInfo",value:function(n,r){var i=this,a=this.renderTypes.get(r),s=a.getKey(n),o=Array.isArray(s)?s:[s];return o.map(function(l){var u=a.getBoundingBox(n,l),c=i.getOrCreateAtlas(n,r,u,l),f=c.getOffsets(l),h=tr(f,2),d=h[0],p=h[1];return{atlas:c,tex:d,tex1:d,tex2:p,bb:u}})}},{key:"getDebugInfo",value:function(){var n=[],r=Wr(this.collections),i;try{for(r.s();!(i=r.n()).done;){var a=tr(i.value,2),s=a[0],o=a[1],l=o.getCounts(),u=l.keyCount,c=l.atlasCount;n.push({type:s,keyCount:u,atlasCount:c})}}catch(f){r.e(f)}finally{r.f()}return n}}])}(),bae=function(){function e(t){Zs(this,e),this.globalOptions=t,this.atlasSize=t.webglTexSize,this.maxAtlasesPerBatch=t.webglTexPerBatch,this.batchAtlases=[]}return Js(e,[{key:"getMaxAtlasesPerBatch",value:function(){return this.maxAtlasesPerBatch}},{key:"getAtlasSize",value:function(){return this.atlasSize}},{key:"getIndexArray",value:function(){return Array.from({length:this.maxAtlasesPerBatch},function(n,r){return r})}},{key:"startBatch",value:function(){this.batchAtlases=[]}},{key:"getAtlasCount",value:function(){return this.batchAtlases.length}},{key:"getAtlases",value:function(){return this.batchAtlases}},{key:"canAddToCurrentBatch",value:function(n){return this.batchAtlases.length===this.maxAtlasesPerBatch?this.batchAtlases.includes(n):!0}},{key:"getAtlasIndexForBatch",value:function(n){var r=this.batchAtlases.indexOf(n);if(r<0){if(this.batchAtlases.length===this.maxAtlasesPerBatch)throw new Error("cannot add more atlases to batch");this.batchAtlases.push(n),r=this.batchAtlases.length-1}return r}}])}(),wae=`
  float circleSD(vec2 p, float r) {
    return distance(vec2(0), p) - r; // signed distance
  }
`,kae=`
  float rectangleSD(vec2 p, vec2 b) {
    vec2 d = abs(p)-b;
    return distance(vec2(0),max(d,0.0)) + min(max(d.x,d.y),0.0);
  }
`,Sae=`
  float roundRectangleSD(vec2 p, vec2 b, vec4 cr) {
    cr.xy = (p.x > 0.0) ? cr.xy : cr.zw;
    cr.x  = (p.y > 0.0) ? cr.x  : cr.y;
    vec2 q = abs(p) - b + cr.x;
    return min(max(q.x, q.y), 0.0) + distance(vec2(0), max(q, 0.0)) - cr.x;
  }
`,_ae=`
  float ellipseSD(vec2 p, vec2 ab) {
    p = abs( p ); // symmetry

    // find root with Newton solver
    vec2 q = ab*(p-ab);
    float w = (q.x<q.y)? 1.570796327 : 0.0;
    for( int i=0; i<5; i++ ) {
      vec2 cs = vec2(cos(w),sin(w));
      vec2 u = ab*vec2( cs.x,cs.y);
      vec2 v = ab*vec2(-cs.y,cs.x);
      w = w + dot(p-u,v)/(dot(p-u,u)+dot(v,v));
    }
    
    // compute final point and distance
    float d = length(p-ab*vec2(cos(w),sin(w)));
    
    // return signed distance
    return (dot(p/ab,p/ab)>1.0) ? d : -d;
  }
`,rf={SCREEN:{name:"screen",screen:!0},PICKING:{name:"picking",picking:!0}},Dp={IGNORE:1,USE_BB:2},ry=0,U9=1,W9=2,iy=3,Cl=4,$h=5,Sc=6,_c=7,Cae=function(){function e(t,n,r){Zs(this,e),this.r=t,this.gl=n,this.maxInstances=r.webglBatchSize,this.atlasSize=r.webglTexSize,this.bgColor=r.bgColor,this.debug=r.webglDebug,this.batchDebugInfo=[],r.enableWrapping=!0,r.createTextureCanvas=rae,this.atlasManager=new xae(t,r),this.batchManager=new bae(r),this.simpleShapeOptions=new Map,this.program=this._createShaderProgram(rf.SCREEN),this.pickingProgram=this._createShaderProgram(rf.PICKING),this.vao=this._createVAO()}return Js(e,[{key:"addAtlasCollection",value:function(n,r){this.atlasManager.addAtlasCollection(n,r)}},{key:"addTextureAtlasRenderType",value:function(n,r){this.atlasManager.addRenderType(n,r)}},{key:"addSimpleShapeRenderType",value:function(n,r){this.simpleShapeOptions.set(n,r)}},{key:"invalidate",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.type,a=this.atlasManager;return i?a.invalidate(n,{filterType:function(o){return o===i},forceRedraw:!0}):a.invalidate(n)}},{key:"gc",value:function(){this.atlasManager.gc()}},{key:"_createShaderProgram",value:function(n){var r=this.gl,i=`#version 300 es
      precision highp float;

      uniform mat3 uPanZoomMatrix;
      uniform int  uAtlasSize;
      
      // instanced
      in vec2 aPosition; // a vertex from the unit square
      
      in mat3 aTransform; // used to transform verticies, eg into a bounding box
      in int aVertType; // the type of thing we are rendering

      // the z-index that is output when using picking mode
      in vec4 aIndex;
      
      // For textures
      in int aAtlasId; // which shader unit/atlas to use
      in vec4 aTex; // x/y/w/h of texture in atlas

      // for edges
      in vec4 aPointAPointB;
      in vec4 aPointCPointD;
      in vec2 aLineWidth; // also used for node border width

      // simple shapes
      in vec4 aCornerRadius; // for round-rectangle [top-right, bottom-right, top-left, bottom-left]
      in vec4 aColor; // also used for edges
      in vec4 aBorderColor; // aLineWidth is used for border width

      // output values passed to the fragment shader
      out vec2 vTexCoord;
      out vec4 vColor;
      out vec2 vPosition;
      // flat values are not interpolated
      flat out int vAtlasId; 
      flat out int vVertType;
      flat out vec2 vTopRight;
      flat out vec2 vBotLeft;
      flat out vec4 vCornerRadius;
      flat out vec4 vBorderColor;
      flat out vec2 vBorderWidth;
      flat out vec4 vIndex;
      
      void main(void) {
        int vid = gl_VertexID;
        vec2 position = aPosition; // TODO make this a vec3, simplifies some code below

        if(aVertType == `.concat(ry,`) {
          float texX = aTex.x; // texture coordinates
          float texY = aTex.y;
          float texW = aTex.z;
          float texH = aTex.w;

          if(vid == 1 || vid == 2 || vid == 4) {
            texX += texW;
          }
          if(vid == 2 || vid == 4 || vid == 5) {
            texY += texH;
          }

          float d = float(uAtlasSize);
          vTexCoord = vec2(texX / d, texY / d); // tex coords must be between 0 and 1

          gl_Position = vec4(uPanZoomMatrix * aTransform * vec3(position, 1.0), 1.0);
        }
        else if(aVertType == `).concat(Cl," || aVertType == ").concat(_c,` 
             || aVertType == `).concat($h," || aVertType == ").concat(Sc,`) { // simple shapes

          // the bounding box is needed by the fragment shader
          vBotLeft  = (aTransform * vec3(0, 0, 1)).xy; // flat
          vTopRight = (aTransform * vec3(1, 1, 1)).xy; // flat
          vPosition = (aTransform * vec3(position, 1)).xy; // will be interpolated

          // calculations are done in the fragment shader, just pass these along
          vColor = aColor;
          vCornerRadius = aCornerRadius;
          vBorderColor = aBorderColor;
          vBorderWidth = aLineWidth;

          gl_Position = vec4(uPanZoomMatrix * aTransform * vec3(position, 1.0), 1.0);
        }
        else if(aVertType == `).concat(U9,`) {
          vec2 source = aPointAPointB.xy;
          vec2 target = aPointAPointB.zw;

          // adjust the geometry so that the line is centered on the edge
          position.y = position.y - 0.5;

          // stretch the unit square into a long skinny rectangle
          vec2 xBasis = target - source;
          vec2 yBasis = normalize(vec2(-xBasis.y, xBasis.x));
          vec2 point = source + xBasis * position.x + yBasis * aLineWidth[0] * position.y;

          gl_Position = vec4(uPanZoomMatrix * vec3(point, 1.0), 1.0);
          vColor = aColor;
        } 
        else if(aVertType == `).concat(W9,`) {
          vec2 pointA = aPointAPointB.xy;
          vec2 pointB = aPointAPointB.zw;
          vec2 pointC = aPointCPointD.xy;
          vec2 pointD = aPointCPointD.zw;

          // adjust the geometry so that the line is centered on the edge
          position.y = position.y - 0.5;

          vec2 p0, p1, p2, pos;
          if(position.x == 0.0) { // The left side of the unit square
            p0 = pointA;
            p1 = pointB;
            p2 = pointC;
            pos = position;
          } else { // The right side of the unit square, use same approach but flip the geometry upside down
            p0 = pointD;
            p1 = pointC;
            p2 = pointB;
            pos = vec2(0.0, -position.y);
          }

          vec2 p01 = p1 - p0;
          vec2 p12 = p2 - p1;
          vec2 p21 = p1 - p2;

          // Find the normal vector.
          vec2 tangent = normalize(normalize(p12) + normalize(p01));
          vec2 normal = vec2(-tangent.y, tangent.x);

          // Find the vector perpendicular to p0 -> p1.
          vec2 p01Norm = normalize(vec2(-p01.y, p01.x));

          // Determine the bend direction.
          float sigma = sign(dot(p01 + p21, normal));
          float width = aLineWidth[0];

          if(sign(pos.y) == -sigma) {
            // This is an intersecting vertex. Adjust the position so that there's no overlap.
            vec2 point = 0.5 * width * normal * -sigma / dot(normal, p01Norm);
            gl_Position = vec4(uPanZoomMatrix * vec3(p1 + point, 1.0), 1.0);
          } else {
            // This is a non-intersecting vertex. Treat it like a mitre join.
            vec2 point = 0.5 * width * normal * sigma * dot(normal, p01Norm);
            gl_Position = vec4(uPanZoomMatrix * vec3(p1 + point, 1.0), 1.0);
          }

          vColor = aColor;
        } 
        else if(aVertType == `).concat(iy,` && vid < 3) {
          // massage the first triangle into an edge arrow
          if(vid == 0)
            position = vec2(-0.15, -0.3);
          if(vid == 1)
            position = vec2(  0.0,  0.0);
          if(vid == 2)
            position = vec2( 0.15, -0.3);

          gl_Position = vec4(uPanZoomMatrix * aTransform * vec3(position, 1.0), 1.0);
          vColor = aColor;
        }
        else {
          gl_Position = vec4(2.0, 0.0, 0.0, 1.0); // discard vertex by putting it outside webgl clip space
        }

        vAtlasId = aAtlasId;
        vVertType = aVertType;
        vIndex = aIndex;
      }
    `),a=this.batchManager.getIndexArray(),s=`#version 300 es
      precision highp float;

      // declare texture unit for each texture atlas in the batch
      `.concat(a.map(function(u){return"uniform sampler2D uTexture".concat(u,";")}).join(`
	`),`

      uniform vec4 uBGColor;
      uniform float uZoom;

      in vec2 vTexCoord;
      in vec4 vColor;
      in vec2 vPosition; // model coordinates

      flat in int vAtlasId;
      flat in vec4 vIndex;
      flat in int vVertType;
      flat in vec2 vTopRight;
      flat in vec2 vBotLeft;
      flat in vec4 vCornerRadius;
      flat in vec4 vBorderColor;
      flat in vec2 vBorderWidth;

      out vec4 outColor;

      `).concat(wae,`
      `).concat(kae,`
      `).concat(Sae,`
      `).concat(_ae,`

      vec4 blend(vec4 top, vec4 bot) { // blend colors with premultiplied alpha
        return vec4( 
          top.rgb + (bot.rgb * (1.0 - top.a)),
          top.a   + (bot.a   * (1.0 - top.a)) 
        );
      }

      vec4 distInterp(vec4 cA, vec4 cB, float d) { // interpolate color using Signed Distance
        // scale to the zoom level so that borders don't look blurry when zoomed in
        // note 1.5 is an aribitrary value chosen because it looks good
        return mix(cA, cB, 1.0 - smoothstep(0.0, 1.5 / uZoom, abs(d))); 
      }

      void main(void) {
        if(vVertType == `).concat(ry,`) {
          // look up the texel from the texture unit
          `).concat(a.map(function(u){return"if(vAtlasId == ".concat(u,") outColor = texture(uTexture").concat(u,", vTexCoord);")}).join(`
	else `),`
        } 
        else if(vVertType == `).concat(iy,`) {
          // mimics how canvas renderer uses context.globalCompositeOperation = 'destination-out';
          outColor = blend(vColor, uBGColor);
          outColor.a = 1.0; // make opaque, masks out line under arrow
        }
        else if(vVertType == `).concat(Cl,` && vBorderWidth == vec2(0.0)) { // simple rectangle with no border
          outColor = vColor; // unit square is already transformed to the rectangle, nothing else needs to be done
        }
        else if(vVertType == `).concat(Cl," || vVertType == ").concat(_c,` 
          || vVertType == `).concat($h," || vVertType == ").concat(Sc,`) { // use SDF

          float outerBorder = vBorderWidth[0];
          float innerBorder = vBorderWidth[1];
          float borderPadding = outerBorder * 2.0;
          float w = vTopRight.x - vBotLeft.x - borderPadding;
          float h = vTopRight.y - vBotLeft.y - borderPadding;
          vec2 b = vec2(w/2.0, h/2.0); // half width, half height
          vec2 p = vPosition - vec2(vTopRight.x - b[0] - outerBorder, vTopRight.y - b[1] - outerBorder); // translate to center

          float d; // signed distance
          if(vVertType == `).concat(Cl,`) {
            d = rectangleSD(p, b);
          } else if(vVertType == `).concat(_c,` && w == h) {
            d = circleSD(p, b.x); // faster than ellipse
          } else if(vVertType == `).concat(_c,`) {
            d = ellipseSD(p, b);
          } else {
            d = roundRectangleSD(p, b, vCornerRadius.wzyx);
          }

          // use the distance to interpolate a color to smooth the edges of the shape, doesn't need multisampling
          // we must smooth colors inwards, because we can't change pixels outside the shape's bounding box
          if(d > 0.0) {
            if(d > outerBorder) {
              discard;
            } else {
              outColor = distInterp(vBorderColor, vec4(0), d - outerBorder);
            }
          } else {
            if(d > innerBorder) {
              vec4 outerColor = outerBorder == 0.0 ? vec4(0) : vBorderColor;
              vec4 innerBorderColor = blend(vBorderColor, vColor);
              outColor = distInterp(innerBorderColor, outerColor, d);
            } 
            else {
              vec4 outerColor;
              if(innerBorder == 0.0 && outerBorder == 0.0) {
                outerColor = vec4(0);
              } else if(innerBorder == 0.0) {
                outerColor = vBorderColor;
              } else {
                outerColor = blend(vBorderColor, vColor);
              }
              outColor = distInterp(vColor, outerColor, d - innerBorder);
            }
          }
        }
        else {
          outColor = vColor;
        }

        `).concat(n.picking?`if(outColor.a == 0.0) discard;
             else outColor = vIndex;`:"",`
      }
    `),o=nae(r,i,s);o.aPosition=r.getAttribLocation(o,"aPosition"),o.aIndex=r.getAttribLocation(o,"aIndex"),o.aVertType=r.getAttribLocation(o,"aVertType"),o.aTransform=r.getAttribLocation(o,"aTransform"),o.aAtlasId=r.getAttribLocation(o,"aAtlasId"),o.aTex=r.getAttribLocation(o,"aTex"),o.aPointAPointB=r.getAttribLocation(o,"aPointAPointB"),o.aPointCPointD=r.getAttribLocation(o,"aPointCPointD"),o.aLineWidth=r.getAttribLocation(o,"aLineWidth"),o.aColor=r.getAttribLocation(o,"aColor"),o.aCornerRadius=r.getAttribLocation(o,"aCornerRadius"),o.aBorderColor=r.getAttribLocation(o,"aBorderColor"),o.uPanZoomMatrix=r.getUniformLocation(o,"uPanZoomMatrix"),o.uAtlasSize=r.getUniformLocation(o,"uAtlasSize"),o.uBGColor=r.getUniformLocation(o,"uBGColor"),o.uZoom=r.getUniformLocation(o,"uZoom"),o.uTextures=[];for(var l=0;l<this.batchManager.getMaxAtlasesPerBatch();l++)o.uTextures.push(r.getUniformLocation(o,"uTexture".concat(l)));return o}},{key:"_createVAO",value:function(){var n=[0,0,1,0,1,1,0,0,1,1,0,1];this.vertexCount=n.length/2;var r=this.maxInstances,i=this.gl,a=this.program,s=i.createVertexArray();return i.bindVertexArray(s),fae(i,"vec2",a.aPosition,n),this.transformBuffer=hae(i,r,a.aTransform),this.indexBuffer=Qi(i,r,"vec4",a.aIndex),this.vertTypeBuffer=Qi(i,r,"int",a.aVertType),this.atlasIdBuffer=Qi(i,r,"int",a.aAtlasId),this.texBuffer=Qi(i,r,"vec4",a.aTex),this.pointAPointBBuffer=Qi(i,r,"vec4",a.aPointAPointB),this.pointCPointDBuffer=Qi(i,r,"vec4",a.aPointCPointD),this.lineWidthBuffer=Qi(i,r,"vec2",a.aLineWidth),this.colorBuffer=Qi(i,r,"vec4",a.aColor),this.cornerRadiusBuffer=Qi(i,r,"vec4",a.aCornerRadius),this.borderColorBuffer=Qi(i,r,"vec4",a.aBorderColor),i.bindVertexArray(null),s}},{key:"buffers",get:function(){var n=this;return this._buffers||(this._buffers=Object.keys(this).filter(function(r){return r.endsWith("Buffer")}).map(function(r){return n[r]})),this._buffers}},{key:"startFrame",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:rf.SCREEN;this.panZoomMatrix=n,this.renderTarget=r,this.batchDebugInfo=[],this.wrappedCount=0,this.simpleCount=0,this.startBatch()}},{key:"startBatch",value:function(){this.instanceCount=0,this.batchManager.startBatch()}},{key:"endFrame",value:function(){this.endBatch()}},{key:"_isVisible",value:function(n,r){return n.visible()?r&&r.isVisible?r.isVisible(n):!0:!1}},{key:"drawTexture",value:function(n,r,i){var a=this.atlasManager,s=this.batchManager,o=a.getRenderTypeOpts(i);if(this._isVisible(n,o)){if(this.renderTarget.picking&&o.getTexPickingMode){var l=o.getTexPickingMode(n);if(l===Dp.IGNORE)return;if(l==Dp.USE_BB){this.drawPickingRectangle(n,r,i);return}}var u=a.getAtlasInfo(n,i),c=Wr(u),f;try{for(c.s();!(f=c.n()).done;){var h=f.value,d=h.atlas,p=h.tex1,v=h.tex2;s.canAddToCurrentBatch(d)||this.endBatch();for(var x=s.getAtlasIndexForBatch(d),y=0,w=[[p,!0],[v,!1]];y<w.length;y++){var k=tr(w[y],2),_=k[0],C=k[1];if(_.w!=0){var T=this.instanceCount;this.vertTypeBuffer.getView(T)[0]=ry;var E=this.indexBuffer.getView(T);_l(r,E);var A=this.atlasIdBuffer.getView(T);A[0]=x;var R=this.texBuffer.getView(T);R[0]=_.x,R[1]=_.y,R[2]=_.w,R[3]=_.h;var D=this.transformBuffer.getMatrixView(T);this.setTransformMatrix(n,D,o,h,C),this.instanceCount++,C||this.wrappedCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}}}catch(N){c.e(N)}finally{c.f()}}}},{key:"setTransformMatrix",value:function(n,r,i,a){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,o=0;if(i.shapeProps&&i.shapeProps.padding&&(o=n.pstyle(i.shapeProps.padding).pfValue),a){var l=a.bb,u=a.tex1,c=a.tex2,f=u.w/(u.w+c.w);s||(f=1-f);var h=this._getAdjustedBB(l,o,s,f);this._applyTransformMatrix(r,h,i,n)}else{var d=i.getBoundingBox(n),p=this._getAdjustedBB(d,o,!0,1);this._applyTransformMatrix(r,p,i,n)}}},{key:"_applyTransformMatrix",value:function(n,r,i,a){var s,o;H9(n);var l=i.getRotation?i.getRotation(a):0;if(l!==0){var u=i.getRotationPoint(a),c=u.x,f=u.y;Sd(n,n,[c,f]),V9(n,n,l);var h=i.getRotationOffset(a);s=h.x+(r.xOffset||0),o=h.y+(r.yOffset||0)}else s=r.x1,o=r.y1;Sd(n,n,[s,o]),g4(n,n,[r.w,r.h])}},{key:"_getAdjustedBB",value:function(n,r,i,a){var s=n.x1,o=n.y1,l=n.w,u=n.h,c=n.yOffset;r&&(s-=r,o-=r,l+=2*r,u+=2*r);var f=0,h=l*a;return i&&a<1?l=h:!i&&a<1&&(f=l-h,s+=f,l=h),{x1:s,y1:o,w:l,h:u,xOffset:f,yOffset:c}}},{key:"drawPickingRectangle",value:function(n,r,i){var a=this.atlasManager.getRenderTypeOpts(i),s=this.instanceCount;this.vertTypeBuffer.getView(s)[0]=Cl;var o=this.indexBuffer.getView(s);_l(r,o);var l=this.colorBuffer.getView(s);go([0,0,0],1,l);var u=this.transformBuffer.getMatrixView(s);this.setTransformMatrix(n,u,a),this.simpleCount++,this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}},{key:"drawNode",value:function(n,r,i){var a=this.simpleShapeOptions.get(i);if(this._isVisible(n,a)){var s=a.shapeProps,o=this._getVertTypeForShape(n,s.shape);if(o===void 0||a.isSimple&&!a.isSimple(n)){this.drawTexture(n,r,i);return}var l=this.instanceCount;if(this.vertTypeBuffer.getView(l)[0]=o,o===$h||o===Sc){var u=a.getBoundingBox(n),c=this._getCornerRadius(n,s.radius,u),f=this.cornerRadiusBuffer.getView(l);f[0]=c,f[1]=c,f[2]=c,f[3]=c,o===Sc&&(f[0]=0,f[2]=0)}var h=this.indexBuffer.getView(l);_l(r,h);var d=n.pstyle(s.color).value,p=n.pstyle(s.opacity).value,v=this.colorBuffer.getView(l);go(d,p,v);var x=this.lineWidthBuffer.getView(l);if(x[0]=0,x[1]=0,s.border){var y=n.pstyle("border-width").value;if(y>0){var w=n.pstyle("border-color").value,k=n.pstyle("border-opacity").value,_=this.borderColorBuffer.getView(l);go(w,k,_);var C=n.pstyle("border-position").value;if(C==="inside")x[0]=0,x[1]=-y;else if(C==="outside")x[0]=y,x[1]=0;else{var T=y/2;x[0]=T,x[1]=-T}}}var E=this.transformBuffer.getMatrixView(l);this.setTransformMatrix(n,E,a),this.simpleCount++,this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}},{key:"_getVertTypeForShape",value:function(n,r){var i=n.pstyle(r).value;switch(i){case"rectangle":return Cl;case"ellipse":return _c;case"roundrectangle":case"round-rectangle":return $h;case"bottom-round-rectangle":return Sc;default:return}}},{key:"_getCornerRadius",value:function(n,r,i){var a=i.w,s=i.h;if(n.pstyle(r).value==="auto")return qs(a,s);var o=n.pstyle(r).pfValue,l=a/2,u=s/2;return Math.min(o,u,l)}},{key:"drawEdgeArrow",value:function(n,r,i){if(n.visible()){var a=n._private.rscratch,s,o,l;if(i==="source"?(s=a.arrowStartX,o=a.arrowStartY,l=a.srcArrowAngle):(s=a.arrowEndX,o=a.arrowEndY,l=a.tgtArrowAngle),!(isNaN(s)||s==null||isNaN(o)||o==null||isNaN(l)||l==null)){var u=n.pstyle(i+"-arrow-shape").value;if(u!=="none"){var c=n.pstyle(i+"-arrow-color").value,f=n.pstyle("opacity").value,h=n.pstyle("line-opacity").value,d=f*h,p=n.pstyle("width").pfValue,v=n.pstyle("arrow-scale").value,x=this.r.getArrowWidth(p,v),y=this.instanceCount,w=this.transformBuffer.getMatrixView(y);H9(w),Sd(w,w,[s,o]),g4(w,w,[x,x]),V9(w,w,l),this.vertTypeBuffer.getView(y)[0]=iy;var k=this.indexBuffer.getView(y);_l(r,k);var _=this.colorBuffer.getView(y);go(c,d,_),this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}}}},{key:"drawEdgeLine",value:function(n,r){if(n.visible()){var i=this._getEdgePoints(n);if(i){var a=n.pstyle("opacity").value,s=n.pstyle("line-opacity").value,o=n.pstyle("width").pfValue,l=n.pstyle("line-color").value,u=a*s;if(i.length/2+this.instanceCount>this.maxInstances&&this.endBatch(),i.length==4){var c=this.instanceCount;this.vertTypeBuffer.getView(c)[0]=U9;var f=this.indexBuffer.getView(c);_l(r,f);var h=this.colorBuffer.getView(c);go(l,u,h);var d=this.lineWidthBuffer.getView(c);d[0]=o;var p=this.pointAPointBBuffer.getView(c);p[0]=i[0],p[1]=i[1],p[2]=i[2],p[3]=i[3],this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}else for(var v=0;v<i.length-2;v+=2){var x=this.instanceCount;this.vertTypeBuffer.getView(x)[0]=W9;var y=this.indexBuffer.getView(x);_l(r,y);var w=this.colorBuffer.getView(x);go(l,u,w);var k=this.lineWidthBuffer.getView(x);k[0]=o;var _=i[v-2],C=i[v-1],T=i[v],E=i[v+1],A=i[v+2],R=i[v+3],D=i[v+4],N=i[v+5];v==0&&(_=2*T-A+.001,C=2*E-R+.001),v==i.length-4&&(D=2*A-T+.001,N=2*R-E+.001);var z=this.pointAPointBBuffer.getView(x);z[0]=_,z[1]=C,z[2]=T,z[3]=E;var j=this.pointCPointDBuffer.getView(x);j[0]=A,j[1]=R,j[2]=D,j[3]=N,this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}}}},{key:"_getEdgePoints",value:function(n){var r=n._private.rscratch;if(!(r.badLine||r.allpts==null||isNaN(r.allpts[0]))){var i=r.allpts;if(i.length==4)return i;var a=this._getNumSegments(n);return this._getCurveSegmentPoints(i,a)}}},{key:"_getNumSegments",value:function(n){var r=15;return Math.min(Math.max(r,5),this.maxInstances)}},{key:"_getCurveSegmentPoints",value:function(n,r){if(n.length==4)return n;for(var i=Array((r+1)*2),a=0;a<=r;a++)if(a==0)i[0]=n[0],i[1]=n[1];else if(a==r)i[a*2]=n[n.length-2],i[a*2+1]=n[n.length-1];else{var s=a/r;this._setCurvePoint(n,s,i,a*2)}return i}},{key:"_setCurvePoint",value:function(n,r,i,a){if(n.length<=2)i[a]=n[0],i[a+1]=n[1];else{for(var s=Array(n.length-2),o=0;o<s.length;o+=2){var l=(1-r)*n[o]+r*n[o+2],u=(1-r)*n[o+1]+r*n[o+3];s[o]=l,s[o+1]=u}return this._setCurvePoint(s,r,i,a)}}},{key:"endBatch",value:function(){var n=this.gl,r=this.vao,i=this.vertexCount,a=this.instanceCount;if(a!==0){var s=this.renderTarget.picking?this.pickingProgram:this.program;n.useProgram(s),n.bindVertexArray(r);var o=Wr(this.buffers),l;try{for(o.s();!(l=o.n()).done;){var u=l.value;u.bufferSubData(a)}}catch(p){o.e(p)}finally{o.f()}for(var c=this.batchManager.getAtlases(),f=0;f<c.length;f++)c[f].bufferIfNeeded(n);for(var h=0;h<c.length;h++)n.activeTexture(n.TEXTURE0+h),n.bindTexture(n.TEXTURE_2D,c[h].texture),n.uniform1i(s.uTextures[h],h);n.uniform1f(s.uZoom,iae(this.r)),n.uniformMatrix3fv(s.uPanZoomMatrix,!1,this.panZoomMatrix),n.uniform1i(s.uAtlasSize,this.batchManager.getAtlasSize());var d=go(this.bgColor,1);n.uniform4fv(s.uBGColor,d),n.drawArraysInstanced(n.TRIANGLES,0,i,a),n.bindVertexArray(null),n.bindTexture(n.TEXTURE_2D,null),this.debug&&this.batchDebugInfo.push({count:a,atlasCount:c.length}),this.startBatch()}}},{key:"getDebugInfo",value:function(){var n=this.atlasManager.getDebugInfo(),r=n.reduce(function(s,o){return s+o.atlasCount},0),i=this.batchDebugInfo,a=i.reduce(function(s,o){return s+o.count},0);return{atlasInfo:n,totalAtlases:r,wrappedCount:this.wrappedCount,simpleCount:this.simpleCount,batchCount:i.length,batchInfo:i,totalInstances:a}}}])}(),RA={};RA.initWebgl=function(e,t){var n=this,r=n.data.contexts[n.WEBGL];e.bgColor=Tae(n),e.webglTexSize=Math.min(e.webglTexSize,r.getParameter(r.MAX_TEXTURE_SIZE)),e.webglTexRows=Math.min(e.webglTexRows,54),e.webglTexRowsNodes=Math.min(e.webglTexRowsNodes,54),e.webglBatchSize=Math.min(e.webglBatchSize,16384),e.webglTexPerBatch=Math.min(e.webglTexPerBatch,r.getParameter(r.MAX_TEXTURE_IMAGE_UNITS)),n.webglDebug=e.webglDebug,n.webglDebugShowAtlases=e.webglDebugShowAtlases,n.pickingFrameBuffer=dae(r),n.pickingFrameBuffer.needsDraw=!0,n.drawing=new Cae(n,r,e);var i=function(f){return function(h){return n.getTextAngle(h,f)}},a=function(f){return function(h){var d=h.pstyle(f);return d&&d.value}},s=function(f){return function(h){return h.pstyle("".concat(f,"-opacity")).value>0}},o=function(f){var h=f.pstyle("text-events").strValue==="yes";return h?Dp.USE_BB:Dp.IGNORE},l=function(f){var h=f.position(),d=h.x,p=h.y,v=f.outerWidth(),x=f.outerHeight();return{w:v,h:x,x1:d-v/2,y1:p-x/2}};n.drawing.addAtlasCollection("node",{texRows:e.webglTexRowsNodes}),n.drawing.addAtlasCollection("label",{texRows:e.webglTexRows}),n.drawing.addTextureAtlasRenderType("node-body",{collection:"node",getKey:t.getStyleKey,getBoundingBox:t.getElementBox,drawElement:t.drawElement}),n.drawing.addSimpleShapeRenderType("node-body",{getBoundingBox:l,isSimple:sae,shapeProps:{shape:"shape",color:"background-color",opacity:"background-opacity",radius:"corner-radius",border:!0}}),n.drawing.addSimpleShapeRenderType("node-overlay",{getBoundingBox:l,isVisible:s("overlay"),shapeProps:{shape:"overlay-shape",color:"overlay-color",opacity:"overlay-opacity",padding:"overlay-padding",radius:"overlay-corner-radius"}}),n.drawing.addSimpleShapeRenderType("node-underlay",{getBoundingBox:l,isVisible:s("underlay"),shapeProps:{shape:"underlay-shape",color:"underlay-color",opacity:"underlay-opacity",padding:"underlay-padding",radius:"underlay-corner-radius"}}),n.drawing.addTextureAtlasRenderType("label",{collection:"label",getTexPickingMode:o,getKey:ay(t.getLabelKey,null),getBoundingBox:sy(t.getLabelBox,null),drawClipped:!0,drawElement:t.drawLabel,getRotation:i(null),getRotationPoint:t.getLabelRotationPoint,getRotationOffset:t.getLabelRotationOffset,isVisible:a("label")}),n.drawing.addTextureAtlasRenderType("edge-source-label",{collection:"label",getTexPickingMode:o,getKey:ay(t.getSourceLabelKey,"source"),getBoundingBox:sy(t.getSourceLabelBox,"source"),drawClipped:!0,drawElement:t.drawSourceLabel,getRotation:i("source"),getRotationPoint:t.getSourceLabelRotationPoint,getRotationOffset:t.getSourceLabelRotationOffset,isVisible:a("source-label")}),n.drawing.addTextureAtlasRenderType("edge-target-label",{collection:"label",getTexPickingMode:o,getKey:ay(t.getTargetLabelKey,"target"),getBoundingBox:sy(t.getTargetLabelBox,"target"),drawClipped:!0,drawElement:t.drawTargetLabel,getRotation:i("target"),getRotationPoint:t.getTargetLabelRotationPoint,getRotationOffset:t.getTargetLabelRotationOffset,isVisible:a("target-label")});var u=p0(function(){console.log("garbage collect flag set"),n.data.gc=!0},1e4);n.onUpdateEleCalcs(function(c,f){var h=!1;f&&f.length>0&&(h|=n.drawing.invalidate(f)),h&&u()}),Eae(n)};function Tae(e){var t=e.cy.container(),n=t&&t.style&&t.style.backgroundColor||"white";return fM(n)}function NA(e,t){var n=e._private.rscratch;return qr(n,"labelWrapCachedLines",t)||[]}var ay=function(t,n){return function(r){var i=t(r),a=NA(r,n);return a.length>1?a.map(function(s,o){return"".concat(i,"_").concat(o)}):i}},sy=function(t,n){return function(r,i){var a=t(r);if(typeof i=="string"){var s=i.indexOf("_");if(s>0){var o=Number(i.substring(s+1)),l=NA(r,n),u=a.h/l.length,c=u*o,f=a.y1+c;return{x1:a.x1,w:a.w,y1:f,h:u,yOffset:c}}}return a}};function Eae(e){{var t=e.render;e.render=function(a){a=a||{};var s=e.cy;e.webgl&&(s.zoom()>PA?(Pae(e),t.call(e,a)):(Mae(e),BA(e,a,rf.SCREEN)))}}{var n=e.matchCanvasSize;e.matchCanvasSize=function(a){n.call(e,a),e.pickingFrameBuffer.setFramebufferAttachmentSizes(e.canvasWidth,e.canvasHeight),e.pickingFrameBuffer.needsDraw=!0}}e.findNearestElements=function(a,s,o,l){return Rae(e,a,s)};{var r=e.invalidateCachedZSortedEles;e.invalidateCachedZSortedEles=function(){r.call(e),e.pickingFrameBuffer.needsDraw=!0}}{var i=e.notify;e.notify=function(a,s){i.call(e,a,s),a==="viewport"||a==="bounds"?e.pickingFrameBuffer.needsDraw=!0:a==="background"&&e.drawing.invalidate(s,{type:"node-body"})}}}function Pae(e){var t=e.data.contexts[e.WEBGL];t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT)}function Mae(e){var t=function(r){r.save(),r.setTransform(1,0,0,1,0,0),r.clearRect(0,0,e.canvasWidth,e.canvasHeight),r.restore()};t(e.data.contexts[e.NODE]),t(e.data.contexts[e.DRAG])}function Aae(e){var t=e.canvasWidth,n=e.canvasHeight,r=jb(e),i=r.pan,a=r.zoom,s=ny();Sd(s,s,[i.x,i.y]),g4(s,s,[a,a]);var o=ny();gae(o,t,n);var l=ny();return pae(l,o,s),l}function zA(e,t){var n=e.canvasWidth,r=e.canvasHeight,i=jb(e),a=i.pan,s=i.zoom;t.setTransform(1,0,0,1,0,0),t.clearRect(0,0,n,r),t.translate(a.x,a.y),t.scale(s,s)}function Dae(e,t){e.drawSelectionRectangle(t,function(n){return zA(e,n)})}function Iae(e){var t=e.data.contexts[e.NODE];t.save(),zA(e,t),t.strokeStyle="rgba(0, 0, 0, 0.3)",t.beginPath(),t.moveTo(-1e3,0),t.lineTo(1e3,0),t.stroke(),t.beginPath(),t.moveTo(0,-1e3),t.lineTo(0,1e3),t.stroke(),t.restore()}function Lae(e){var t=function(i,a,s){for(var o=i.atlasManager.getAtlasCollection(a),l=e.data.contexts[e.NODE],u=o.atlases,c=0;c<u.length;c++){var f=u[c],h=f.canvas;if(h){var d=h.width,p=h.height,v=d*c,x=h.height*s,y=.4;l.save(),l.scale(y,y),l.drawImage(h,v,x),l.strokeStyle="black",l.rect(v,x,d,p),l.stroke(),l.restore()}}},n=0;t(e.drawing,"node",n++),t(e.drawing,"label",n++)}function Oae(e,t,n,r,i){var a,s,o,l,u=jb(e),c=u.pan,f=u.zoom;{var h=aae(e,c,f,t,n),d=tr(h,2),p=d[0],v=d[1],x=6;a=p-x/2,s=v-x/2,o=x,l=x}if(o===0||l===0)return[];var y=e.data.contexts[e.WEBGL];y.bindFramebuffer(y.FRAMEBUFFER,e.pickingFrameBuffer),e.pickingFrameBuffer.needsDraw&&(y.viewport(0,0,y.canvas.width,y.canvas.height),BA(e,null,rf.PICKING),e.pickingFrameBuffer.needsDraw=!1);var w=o*l,k=new Uint8Array(w*4);y.readPixels(a,s,o,l,y.RGBA,y.UNSIGNED_BYTE,k),y.bindFramebuffer(y.FRAMEBUFFER,null);for(var _=new Set,C=0;C<w;C++){var T=k.slice(C*4,C*4+4),E=lae(T)-1;E>=0&&_.add(E)}return _}function Rae(e,t,n){var r=Oae(e,t,n),i=e.getCachedZSortedEles(),a,s,o=Wr(r),l;try{for(o.s();!(l=o.n()).done;){var u=l.value,c=i[u];if(!a&&c.isNode()&&(a=c),!s&&c.isEdge()&&(s=c),a&&s)break}}catch(f){o.e(f)}finally{o.f()}return[a,s].filter(Boolean)}function oy(e,t,n){var r=e.drawing;t+=1,n.isNode()?(r.drawNode(n,t,"node-underlay"),r.drawNode(n,t,"node-body"),r.drawTexture(n,t,"label"),r.drawNode(n,t,"node-overlay")):(r.drawEdgeLine(n,t),r.drawEdgeArrow(n,t,"source"),r.drawEdgeArrow(n,t,"target"),r.drawTexture(n,t,"label"),r.drawTexture(n,t,"edge-source-label"),r.drawTexture(n,t,"edge-target-label"))}function BA(e,t,n){var r;e.webglDebug&&(r=performance.now());var i=e.drawing,a=0;if(n.screen&&e.data.canvasNeedsRedraw[e.SELECT_BOX]&&Dae(e,t),e.data.canvasNeedsRedraw[e.NODE]||n.picking){var s=e.data.contexts[e.WEBGL];n.screen?(s.clearColor(0,0,0,0),s.enable(s.BLEND),s.blendFunc(s.ONE,s.ONE_MINUS_SRC_ALPHA)):s.disable(s.BLEND),s.clear(s.COLOR_BUFFER_BIT|s.DEPTH_BUFFER_BIT),s.viewport(0,0,s.canvas.width,s.canvas.height);var o=Aae(e),l=e.getCachedZSortedEles();if(a=l.length,i.startFrame(o,n),n.screen){for(var u=0;u<l.nondrag.length;u++)oy(e,u,l.nondrag[u]);for(var c=0;c<l.drag.length;c++)oy(e,c,l.drag[c])}else if(n.picking)for(var f=0;f<l.length;f++)oy(e,f,l[f]);i.endFrame(),n.screen&&e.webglDebugShowAtlases&&(Iae(e),Lae(e)),e.data.canvasNeedsRedraw[e.NODE]=!1,e.data.canvasNeedsRedraw[e.DRAG]=!1}if(e.webglDebug){var h=performance.now(),d=!1,p=Math.ceil(h-r),v=i.getDebugInfo(),x=["".concat(a," elements"),"".concat(v.totalInstances," instances"),"".concat(v.batchCount," batches"),"".concat(v.totalAtlases," atlases"),"".concat(v.wrappedCount," wrapped textures"),"".concat(v.simpleCount," simple shapes")].join(", ");if(d)console.log("WebGL (".concat(n.name,") - time ").concat(p,"ms, ").concat(x));else{console.log("WebGL (".concat(n.name,") - frame time ").concat(p,"ms")),console.log("Totals:"),console.log("  ".concat(x)),console.log("Texture Atlases Used:");var y=v.atlasInfo,w=Wr(y),k;try{for(w.s();!(k=w.n()).done;){var _=k.value;console.log("  ".concat(_.type,": ").concat(_.keyCount," keys, ").concat(_.atlasCount," atlases"))}}catch(C){w.e(C)}finally{w.f()}console.log("")}}e.data.gc&&(console.log("Garbage Collect!"),e.data.gc=!1,i.gc())}var no={};no.drawPolygonPath=function(e,t,n,r,i,a){var s=r/2,o=i/2;e.beginPath&&e.beginPath(),e.moveTo(t+s*a[0],n+o*a[1]);for(var l=1;l<a.length/2;l++)e.lineTo(t+s*a[l*2],n+o*a[l*2+1]);e.closePath()};no.drawRoundPolygonPath=function(e,t,n,r,i,a,s){s.forEach(function(o){return xA(e,o)}),e.closePath()};no.drawRoundRectanglePath=function(e,t,n,r,i,a){var s=r/2,o=i/2,l=a==="auto"?qs(r,i):Math.min(a,o,s);e.beginPath&&e.beginPath(),e.moveTo(t,n-o),e.arcTo(t+s,n-o,t+s,n,l),e.arcTo(t+s,n+o,t,n+o,l),e.arcTo(t-s,n+o,t-s,n,l),e.arcTo(t-s,n-o,t,n-o,l),e.lineTo(t,n-o),e.closePath()};no.drawBottomRoundRectanglePath=function(e,t,n,r,i,a){var s=r/2,o=i/2,l=a==="auto"?qs(r,i):a;e.beginPath&&e.beginPath(),e.moveTo(t,n-o),e.lineTo(t+s,n-o),e.lineTo(t+s,n),e.arcTo(t+s,n+o,t,n+o,l),e.arcTo(t-s,n+o,t-s,n,l),e.lineTo(t-s,n-o),e.lineTo(t,n-o),e.closePath()};no.drawCutRectanglePath=function(e,t,n,r,i,a,s){var o=r/2,l=i/2,u=s==="auto"?Eb():s;e.beginPath&&e.beginPath(),e.moveTo(t-o+u,n-l),e.lineTo(t+o-u,n-l),e.lineTo(t+o,n-l+u),e.lineTo(t+o,n+l-u),e.lineTo(t+o-u,n+l),e.lineTo(t-o+u,n+l),e.lineTo(t-o,n+l-u),e.lineTo(t-o,n-l+u),e.closePath()};no.drawBarrelPath=function(e,t,n,r,i){var a=r/2,s=i/2,o=t-a,l=t+a,u=n-s,c=n+s,f=t4(r,i),h=f.widthOffset,d=f.heightOffset,p=f.ctrlPtOffsetPct*h;e.beginPath&&e.beginPath(),e.moveTo(o,u+d),e.lineTo(o,c-d),e.quadraticCurveTo(o+p,c,o+h,c),e.lineTo(l-h,c),e.quadraticCurveTo(l-p,c,l,c-d),e.lineTo(l,u+d),e.quadraticCurveTo(l-p,u,l-h,u),e.lineTo(o+h,u),e.quadraticCurveTo(o+p,u,o,u+d),e.closePath()};var G9=Math.sin(0),Y9=Math.cos(0),m4={},v4={},FA=Math.PI/40;for(var Tl=0*Math.PI;Tl<2*Math.PI;Tl+=FA)m4[Tl]=Math.sin(Tl),v4[Tl]=Math.cos(Tl);no.drawEllipsePath=function(e,t,n,r,i){if(e.beginPath&&e.beginPath(),e.ellipse)e.ellipse(t,n,r/2,i/2,0,0,2*Math.PI);else for(var a,s,o=r/2,l=i/2,u=0*Math.PI;u<2*Math.PI;u+=FA)a=t-o*m4[u]*G9+o*v4[u]*Y9,s=n+l*v4[u]*G9+l*m4[u]*Y9,u===0?e.moveTo(a,s):e.lineTo(a,s);e.closePath()};var b0={};b0.createBuffer=function(e,t){var n=document.createElement("canvas");return n.width=e,n.height=t,[n,n.getContext("2d")]};b0.bufferCanvasImage=function(e){var t=this.cy,n=t.mutableElements(),r=n.boundingBox(),i=this.findContainerClientCoords(),a=e.full?Math.ceil(r.w):i[2],s=e.full?Math.ceil(r.h):i[3],o=ze(e.maxWidth)||ze(e.maxHeight),l=this.getPixelRatio(),u=1;if(e.scale!==void 0)a*=e.scale,s*=e.scale,u=e.scale;else if(o){var c=1/0,f=1/0;ze(e.maxWidth)&&(c=u*e.maxWidth/a),ze(e.maxHeight)&&(f=u*e.maxHeight/s),u=Math.min(c,f),a*=u,s*=u}o||(a*=l,s*=l,u*=l);var h=document.createElement("canvas");h.width=a,h.height=s,h.style.width=a+"px",h.style.height=s+"px";var d=h.getContext("2d");if(a>0&&s>0){d.clearRect(0,0,a,s),d.globalCompositeOperation="source-over";var p=this.getCachedZSortedEles();if(e.full)d.translate(-r.x1*u,-r.y1*u),d.scale(u,u),this.drawElements(d,p),d.scale(1/u,1/u),d.translate(r.x1*u,r.y1*u);else{var v=t.pan(),x={x:v.x*u,y:v.y*u};u*=t.zoom(),d.translate(x.x,x.y),d.scale(u,u),this.drawElements(d,p),d.scale(1/u,1/u),d.translate(-x.x,-x.y)}e.bg&&(d.globalCompositeOperation="destination-over",d.fillStyle=e.bg,d.rect(0,0,a,s),d.fill())}return h};function Nae(e,t){for(var n=atob(e),r=new ArrayBuffer(n.length),i=new Uint8Array(r),a=0;a<n.length;a++)i[a]=n.charCodeAt(a);return new Blob([r],{type:t})}function X9(e){var t=e.indexOf(",");return e.substr(t+1)}function $A(e,t,n){var r=function(){return t.toDataURL(n,e.quality)};switch(e.output){case"blob-promise":return new Hu(function(i,a){try{t.toBlob(function(s){s!=null?i(s):a(new Error("`canvas.toBlob()` sent a null value in its callback"))},n,e.quality)}catch(s){a(s)}});case"blob":return Nae(X9(r()),n);case"base64":return X9(r());case"base64uri":default:return r()}}b0.png=function(e){return $A(e,this.bufferCanvasImage(e),"image/png")};b0.jpg=function(e){return $A(e,this.bufferCanvasImage(e),"image/jpeg")};var jA={};jA.nodeShapeImpl=function(e,t,n,r,i,a,s,o){switch(e){case"ellipse":return this.drawEllipsePath(t,n,r,i,a);case"polygon":return this.drawPolygonPath(t,n,r,i,a,s);case"round-polygon":return this.drawRoundPolygonPath(t,n,r,i,a,s,o);case"roundrectangle":case"round-rectangle":return this.drawRoundRectanglePath(t,n,r,i,a,o);case"cutrectangle":case"cut-rectangle":return this.drawCutRectanglePath(t,n,r,i,a,s,o);case"bottomroundrectangle":case"bottom-round-rectangle":return this.drawBottomRoundRectanglePath(t,n,r,i,a,o);case"barrel":return this.drawBarrelPath(t,n,r,i,a)}};var zae=qA,wt=qA.prototype;wt.CANVAS_LAYERS=3;wt.SELECT_BOX=0;wt.DRAG=1;wt.NODE=2;wt.WEBGL=3;wt.CANVAS_TYPES=["2d","2d","2d","webgl2"];wt.BUFFER_COUNT=3;wt.TEXTURE_BUFFER=0;wt.MOTIONBLUR_BUFFER_NODE=1;wt.MOTIONBLUR_BUFFER_DRAG=2;function qA(e){var t=this,n=t.cy.window(),r=n.document;e.webgl&&(wt.CANVAS_LAYERS=t.CANVAS_LAYERS=4,console.log("webgl rendering enabled")),t.data={canvases:new Array(wt.CANVAS_LAYERS),contexts:new Array(wt.CANVAS_LAYERS),canvasNeedsRedraw:new Array(wt.CANVAS_LAYERS),bufferCanvases:new Array(wt.BUFFER_COUNT),bufferContexts:new Array(wt.CANVAS_LAYERS)};var i="-webkit-tap-highlight-color",a="rgba(0,0,0,0)";t.data.canvasContainer=r.createElement("div");var s=t.data.canvasContainer.style;t.data.canvasContainer.style[i]=a,s.position="relative",s.zIndex="0",s.overflow="hidden";var o=e.cy.container();o.appendChild(t.data.canvasContainer),o.style[i]=a;var l={"-webkit-user-select":"none","-moz-user-select":"-moz-none","user-select":"none","-webkit-tap-highlight-color":"rgba(0,0,0,0)","outline-style":"none"};RJ()&&(l["-ms-touch-action"]="none",l["touch-action"]="none");for(var u=0;u<wt.CANVAS_LAYERS;u++){var c=t.data.canvases[u]=r.createElement("canvas"),f=wt.CANVAS_TYPES[u];t.data.contexts[u]=c.getContext(f),t.data.contexts[u]||Tn("Could not create canvas of type "+f),Object.keys(l).forEach(function(Se){c.style[Se]=l[Se]}),c.style.position="absolute",c.setAttribute("data-id","layer"+u),c.style.zIndex=String(wt.CANVAS_LAYERS-u),t.data.canvasContainer.appendChild(c),t.data.canvasNeedsRedraw[u]=!1}t.data.topCanvas=t.data.canvases[0],t.data.canvases[wt.NODE].setAttribute("data-id","layer"+wt.NODE+"-node"),t.data.canvases[wt.SELECT_BOX].setAttribute("data-id","layer"+wt.SELECT_BOX+"-selectbox"),t.data.canvases[wt.DRAG].setAttribute("data-id","layer"+wt.DRAG+"-drag"),t.data.canvases[wt.WEBGL]&&t.data.canvases[wt.WEBGL].setAttribute("data-id","layer"+wt.WEBGL+"-webgl");for(var u=0;u<wt.BUFFER_COUNT;u++)t.data.bufferCanvases[u]=r.createElement("canvas"),t.data.bufferContexts[u]=t.data.bufferCanvases[u].getContext("2d"),t.data.bufferCanvases[u].style.position="absolute",t.data.bufferCanvases[u].setAttribute("data-id","buffer"+u),t.data.bufferCanvases[u].style.zIndex=String(-u-1),t.data.bufferCanvases[u].style.visibility="hidden";t.pathsEnabled=!0;var h=Qr(),d=function(ce){return{x:(ce.x1+ce.x2)/2,y:(ce.y1+ce.y2)/2}},p=function(ce){return{x:-ce.w/2,y:-ce.h/2}},v=function(ce){var ge=ce[0]._private,me=ge.oldBackgroundTimestamp===ge.backgroundTimestamp;return!me},x=function(ce){return ce[0]._private.nodeKey},y=function(ce){return ce[0]._private.labelStyleKey},w=function(ce){return ce[0]._private.sourceLabelStyleKey},k=function(ce){return ce[0]._private.targetLabelStyleKey},_=function(ce,ge,me,Ee,je){return t.drawElement(ce,ge,me,!1,!1,je)},C=function(ce,ge,me,Ee,je){return t.drawElementText(ce,ge,me,Ee,"main",je)},T=function(ce,ge,me,Ee,je){return t.drawElementText(ce,ge,me,Ee,"source",je)},E=function(ce,ge,me,Ee,je){return t.drawElementText(ce,ge,me,Ee,"target",je)},A=function(ce){return ce.boundingBox(),ce[0]._private.bodyBounds},R=function(ce){return ce.boundingBox(),ce[0]._private.labelBounds.main||h},D=function(ce){return ce.boundingBox(),ce[0]._private.labelBounds.source||h},N=function(ce){return ce.boundingBox(),ce[0]._private.labelBounds.target||h},z=function(ce,ge){return ge},j=function(ce){return d(A(ce))},V=function(ce,ge,me){var Ee=ce?ce+"-":"";return{x:ge.x+me.pstyle(Ee+"text-margin-x").pfValue,y:ge.y+me.pstyle(Ee+"text-margin-y").pfValue}},Y=function(ce,ge,me){var Ee=ce[0]._private.rscratch;return{x:Ee[ge],y:Ee[me]}},Z=function(ce){return V("",Y(ce,"labelX","labelY"),ce)},X=function(ce){return V("source",Y(ce,"sourceLabelX","sourceLabelY"),ce)},G=function(ce){return V("target",Y(ce,"targetLabelX","targetLabelY"),ce)},ee=function(ce){return p(A(ce))},B=function(ce){return p(D(ce))},K=function(ce){return p(N(ce))},J=function(ce){var ge=R(ce),me=p(R(ce));if(ce.isNode()){switch(ce.pstyle("text-halign").value){case"left":me.x=-ge.w-(ge.leftPad||0);break;case"right":me.x=-(ge.rightPad||0);break}switch(ce.pstyle("text-valign").value){case"top":me.y=-ge.h-(ge.topPad||0);break;case"bottom":me.y=-(ge.botPad||0);break}}return me},q=t.data.eleTxrCache=new Rc(t,{getKey:x,doesEleInvalidateKey:v,drawElement:_,getBoundingBox:A,getRotationPoint:j,getRotationOffset:ee,allowEdgeTxrCaching:!1,allowParentTxrCaching:!1}),he=t.data.lblTxrCache=new Rc(t,{getKey:y,drawElement:C,getBoundingBox:R,getRotationPoint:Z,getRotationOffset:J,isVisible:z}),de=t.data.slbTxrCache=new Rc(t,{getKey:w,drawElement:T,getBoundingBox:D,getRotationPoint:X,getRotationOffset:B,isVisible:z}),oe=t.data.tlbTxrCache=new Rc(t,{getKey:k,drawElement:E,getBoundingBox:N,getRotationPoint:G,getRotationOffset:K,isVisible:z}),ke=t.data.lyrTxrCache=new MA(t);t.onUpdateEleCalcs(function(ce,ge){q.invalidateElements(ge),he.invalidateElements(ge),de.invalidateElements(ge),oe.invalidateElements(ge),ke.invalidateElements(ge);for(var me=0;me<ge.length;me++){var Ee=ge[me]._private;Ee.oldBackgroundTimestamp=Ee.backgroundTimestamp}});var Ae=function(ce){for(var ge=0;ge<ce.length;ge++)ke.enqueueElementRefinement(ce[ge].ele)};q.onDequeue(Ae),he.onDequeue(Ae),de.onDequeue(Ae),oe.onDequeue(Ae),e.webgl&&t.initWebgl(e,{getStyleKey:x,getLabelKey:y,getSourceLabelKey:w,getTargetLabelKey:k,drawElement:_,drawLabel:C,drawSourceLabel:T,drawTargetLabel:E,getElementBox:A,getLabelBox:R,getSourceLabelBox:D,getTargetLabelBox:N,getElementRotationPoint:j,getElementRotationOffset:ee,getLabelRotationPoint:Z,getSourceLabelRotationPoint:X,getTargetLabelRotationPoint:G,getLabelRotationOffset:J,getSourceLabelRotationOffset:B,getTargetLabelRotationOffset:K})}wt.redrawHint=function(e,t){var n=this;switch(e){case"eles":n.data.canvasNeedsRedraw[wt.NODE]=t;break;case"drag":n.data.canvasNeedsRedraw[wt.DRAG]=t;break;case"select":n.data.canvasNeedsRedraw[wt.SELECT_BOX]=t;break;case"gc":n.data.gc=!0;break}};var Bae=typeof Path2D<"u";wt.path2dEnabled=function(e){if(e===void 0)return this.pathsEnabled;this.pathsEnabled=!!e};wt.usePaths=function(){return Bae&&this.pathsEnabled};wt.setImgSmoothing=function(e,t){e.imageSmoothingEnabled!=null?e.imageSmoothingEnabled=t:(e.webkitImageSmoothingEnabled=t,e.mozImageSmoothingEnabled=t,e.msImageSmoothingEnabled=t)};wt.getImgSmoothing=function(e){return e.imageSmoothingEnabled!=null?e.imageSmoothingEnabled:e.webkitImageSmoothingEnabled||e.mozImageSmoothingEnabled||e.msImageSmoothingEnabled};wt.makeOffscreenCanvas=function(e,t){var n;if((typeof OffscreenCanvas>"u"?"undefined":ir(OffscreenCanvas))!=="undefined")n=new OffscreenCanvas(e,t);else{var r=this.cy.window(),i=r.document;n=i.createElement("canvas"),n.width=e,n.height=t}return n};[AA,xa,ns,$b,ll,to,zr,RA,no,b0,jA].forEach(function(e){ot(wt,e)});var Fae=[{name:"null",impl:mA},{name:"base",impl:TA},{name:"canvas",impl:zae}],$ae=[{type:"layout",extensions:hie},{type:"renderer",extensions:Fae}],HA={},VA={};function UA(e,t,n){var r=n,i=function(A){Vt("Can not register `"+t+"` for `"+e+"` since `"+A+"` already exists in the prototype and can not be overridden")};if(e==="core"){if(Vf.prototype[t])return i(t);Vf.prototype[t]=n}else if(e==="collection"){if(vr.prototype[t])return i(t);vr.prototype[t]=n}else if(e==="layout"){for(var a=function(A){this.options=A,n.call(this,A),Ot(this._private)||(this._private={}),this._private.cy=A.cy,this._private.listeners=[],this.createEmitter()},s=a.prototype=Object.create(n.prototype),o=[],l=0;l<o.length;l++){var u=o[l];s[u]=s[u]||function(){return this}}s.start&&!s.run?s.run=function(){return this.start(),this}:!s.start&&s.run&&(s.start=function(){return this.run(),this});var c=n.prototype.stop;s.stop=function(){var E=this.options;if(E&&E.animate){var A=this.animations;if(A)for(var R=0;R<A.length;R++)A[R].stop()}return c?c.call(this):this.emit("layoutstop"),this},s.destroy||(s.destroy=function(){return this}),s.cy=function(){return this._private.cy};var f=function(A){return A._private.cy},h={addEventFields:function(A,R){R.layout=A,R.cy=f(A),R.target=A},bubble:function(){return!0},parent:function(A){return f(A)}};ot(s,{createEmitter:function(){return this._private.emitter=new jg(h,this),this},emitter:function(){return this._private.emitter},on:function(A,R){return this.emitter().on(A,R),this},one:function(A,R){return this.emitter().one(A,R),this},once:function(A,R){return this.emitter().one(A,R),this},removeListener:function(A,R){return this.emitter().removeListener(A,R),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},emit:function(A,R){return this.emitter().emit(A,R),this}}),Ht.eventAliasesOn(s),r=a}else if(e==="renderer"&&t!=="null"&&t!=="base"){var d=WA("renderer","base"),p=d.prototype,v=n,x=n.prototype,y=function(){d.apply(this,arguments),v.apply(this,arguments)},w=y.prototype;for(var k in p){var _=p[k],C=x[k]!=null;if(C)return i(k);w[k]=_}for(var T in x)w[T]=x[T];p.clientFunctions.forEach(function(E){w[E]=w[E]||function(){Tn("Renderer does not implement `renderer."+E+"()` on its prototype")}}),r=y}else if(e==="__proto__"||e==="constructor"||e==="prototype")return Tn(e+" is an illegal type to be registered, possibly lead to prototype pollutions");return hM({map:HA,keys:[e,t],value:r})}function WA(e,t){return dM({map:HA,keys:[e,t]})}function jae(e,t,n,r,i){return hM({map:VA,keys:[e,t,n,r],value:i})}function qae(e,t,n,r){return dM({map:VA,keys:[e,t,n,r]})}var y4=function(){if(arguments.length===2)return WA.apply(null,arguments);if(arguments.length===3)return UA.apply(null,arguments);if(arguments.length===4)return qae.apply(null,arguments);if(arguments.length===5)return jae.apply(null,arguments);Tn("Invalid extension access syntax")};Vf.prototype.extension=y4;$ae.forEach(function(e){e.extensions.forEach(function(t){UA(e.type,t.name,t.impl)})});var Ip=function(){if(!(this instanceof Ip))return new Ip;this.length=0},Zo=Ip.prototype;Zo.instanceString=function(){return"stylesheet"};Zo.selector=function(e){var t=this.length++;return this[t]={selector:e,properties:[]},this};Zo.css=function(e,t){var n=this.length-1;if(tt(e))this[n].properties.push({name:e,value:t});else if(Ot(e))for(var r=e,i=Object.keys(r),a=0;a<i.length;a++){var s=i[a],o=r[s];if(o!=null){var l=hr.properties[s]||hr.properties[Dg(s)];if(l!=null){var u=l.name,c=o;this[n].properties.push({name:u,value:c})}}}return this};Zo.style=Zo.css;Zo.generateStyle=function(e){var t=new hr(e);return this.appendToStyle(t)};Zo.appendToStyle=function(e){for(var t=0;t<this.length;t++){var n=this[t],r=n.selector,i=n.properties;e.selector(r);for(var a=0;a<i.length;a++){var s=i[a];e.css(s.name,s.value)}}return e};var Hae="3.32.0",Ws=function(t){if(t===void 0&&(t={}),Ot(t))return new Vf(t);if(tt(t))return y4.apply(y4,arguments)};Ws.use=function(e){var t=Array.prototype.slice.call(arguments,1);return t.unshift(Ws),e.apply(null,t),this};Ws.warnings=function(e){return bM(e)};Ws.version=Hae;Ws.stylesheet=Ws.Stylesheet=Ip;var GA={exports:{}},ly={exports:{}},uy={exports:{}},K9;function Vae(){return K9||(K9=1,function(e,t){(function(r,i){e.exports=i()})(w4,function(){return function(n){var r={};function i(a){if(r[a])return r[a].exports;var s=r[a]={i:a,l:!1,exports:{}};return n[a].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=n,i.c=r,i.i=function(a){return a},i.d=function(a,s,o){i.o(a,s)||Object.defineProperty(a,s,{configurable:!1,enumerable:!0,get:o})},i.n=function(a){var s=a&&a.__esModule?function(){return a.default}:function(){return a};return i.d(s,"a",s),s},i.o=function(a,s){return Object.prototype.hasOwnProperty.call(a,s)},i.p="",i(i.s=26)}([function(n,r,i){function a(){}a.QUALITY=1,a.DEFAULT_CREATE_BENDS_AS_NEEDED=!1,a.DEFAULT_INCREMENTAL=!1,a.DEFAULT_ANIMATION_ON_LAYOUT=!0,a.DEFAULT_ANIMATION_DURING_LAYOUT=!1,a.DEFAULT_ANIMATION_PERIOD=50,a.DEFAULT_UNIFORM_LEAF_NODE_SIZES=!1,a.DEFAULT_GRAPH_MARGIN=15,a.NODE_DIMENSIONS_INCLUDE_LABELS=!1,a.SIMPLE_NODE_SIZE=40,a.SIMPLE_NODE_HALF_SIZE=a.SIMPLE_NODE_SIZE/2,a.EMPTY_COMPOUND_NODE_SIZE=40,a.MIN_EDGE_LENGTH=1,a.WORLD_BOUNDARY=1e6,a.INITIAL_WORLD_BOUNDARY=a.WORLD_BOUNDARY/1e3,a.WORLD_CENTER_X=1200,a.WORLD_CENTER_Y=900,n.exports=a},function(n,r,i){var a=i(2),s=i(8),o=i(9);function l(c,f,h){a.call(this,h),this.isOverlapingSourceAndTarget=!1,this.vGraphObject=h,this.bendpoints=[],this.source=c,this.target=f}l.prototype=Object.create(a.prototype);for(var u in a)l[u]=a[u];l.prototype.getSource=function(){return this.source},l.prototype.getTarget=function(){return this.target},l.prototype.isInterGraph=function(){return this.isInterGraph},l.prototype.getLength=function(){return this.length},l.prototype.isOverlapingSourceAndTarget=function(){return this.isOverlapingSourceAndTarget},l.prototype.getBendpoints=function(){return this.bendpoints},l.prototype.getLca=function(){return this.lca},l.prototype.getSourceInLca=function(){return this.sourceInLca},l.prototype.getTargetInLca=function(){return this.targetInLca},l.prototype.getOtherEnd=function(c){if(this.source===c)return this.target;if(this.target===c)return this.source;throw"Node is not incident with this edge"},l.prototype.getOtherEndInGraph=function(c,f){for(var h=this.getOtherEnd(c),d=f.getGraphManager().getRoot();;){if(h.getOwner()==f)return h;if(h.getOwner()==d)break;h=h.getOwner().getParent()}return null},l.prototype.updateLength=function(){var c=new Array(4);this.isOverlapingSourceAndTarget=s.getIntersection(this.target.getRect(),this.source.getRect(),c),this.isOverlapingSourceAndTarget||(this.lengthX=c[0]-c[2],this.lengthY=c[1]-c[3],Math.abs(this.lengthX)<1&&(this.lengthX=o.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=o.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY))},l.prototype.updateLengthSimple=function(){this.lengthX=this.target.getCenterX()-this.source.getCenterX(),this.lengthY=this.target.getCenterY()-this.source.getCenterY(),Math.abs(this.lengthX)<1&&(this.lengthX=o.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=o.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY)},n.exports=l},function(n,r,i){function a(s){this.vGraphObject=s}n.exports=a},function(n,r,i){var a=i(2),s=i(10),o=i(13),l=i(0),u=i(16),c=i(4);function f(d,p,v,x){v==null&&x==null&&(x=p),a.call(this,x),d.graphManager!=null&&(d=d.graphManager),this.estimatedSize=s.MIN_VALUE,this.inclusionTreeDepth=s.MAX_VALUE,this.vGraphObject=x,this.edges=[],this.graphManager=d,v!=null&&p!=null?this.rect=new o(p.x,p.y,v.width,v.height):this.rect=new o}f.prototype=Object.create(a.prototype);for(var h in a)f[h]=a[h];f.prototype.getEdges=function(){return this.edges},f.prototype.getChild=function(){return this.child},f.prototype.getOwner=function(){return this.owner},f.prototype.getWidth=function(){return this.rect.width},f.prototype.setWidth=function(d){this.rect.width=d},f.prototype.getHeight=function(){return this.rect.height},f.prototype.setHeight=function(d){this.rect.height=d},f.prototype.getCenterX=function(){return this.rect.x+this.rect.width/2},f.prototype.getCenterY=function(){return this.rect.y+this.rect.height/2},f.prototype.getCenter=function(){return new c(this.rect.x+this.rect.width/2,this.rect.y+this.rect.height/2)},f.prototype.getLocation=function(){return new c(this.rect.x,this.rect.y)},f.prototype.getRect=function(){return this.rect},f.prototype.getDiagonal=function(){return Math.sqrt(this.rect.width*this.rect.width+this.rect.height*this.rect.height)},f.prototype.getHalfTheDiagonal=function(){return Math.sqrt(this.rect.height*this.rect.height+this.rect.width*this.rect.width)/2},f.prototype.setRect=function(d,p){this.rect.x=d.x,this.rect.y=d.y,this.rect.width=p.width,this.rect.height=p.height},f.prototype.setCenter=function(d,p){this.rect.x=d-this.rect.width/2,this.rect.y=p-this.rect.height/2},f.prototype.setLocation=function(d,p){this.rect.x=d,this.rect.y=p},f.prototype.moveBy=function(d,p){this.rect.x+=d,this.rect.y+=p},f.prototype.getEdgeListToNode=function(d){var p=[],v=this;return v.edges.forEach(function(x){if(x.target==d){if(x.source!=v)throw"Incorrect edge source!";p.push(x)}}),p},f.prototype.getEdgesBetween=function(d){var p=[],v=this;return v.edges.forEach(function(x){if(!(x.source==v||x.target==v))throw"Incorrect edge source and/or target";(x.target==d||x.source==d)&&p.push(x)}),p},f.prototype.getNeighborsList=function(){var d=new Set,p=this;return p.edges.forEach(function(v){if(v.source==p)d.add(v.target);else{if(v.target!=p)throw"Incorrect incidency!";d.add(v.source)}}),d},f.prototype.withChildren=function(){var d=new Set,p,v;if(d.add(this),this.child!=null)for(var x=this.child.getNodes(),y=0;y<x.length;y++)p=x[y],v=p.withChildren(),v.forEach(function(w){d.add(w)});return d},f.prototype.getNoOfChildren=function(){var d=0,p;if(this.child==null)d=1;else for(var v=this.child.getNodes(),x=0;x<v.length;x++)p=v[x],d+=p.getNoOfChildren();return d==0&&(d=1),d},f.prototype.getEstimatedSize=function(){if(this.estimatedSize==s.MIN_VALUE)throw"assert failed";return this.estimatedSize},f.prototype.calcEstimatedSize=function(){return this.child==null?this.estimatedSize=(this.rect.width+this.rect.height)/2:(this.estimatedSize=this.child.calcEstimatedSize(),this.rect.width=this.estimatedSize,this.rect.height=this.estimatedSize,this.estimatedSize)},f.prototype.scatter=function(){var d,p,v=-l.INITIAL_WORLD_BOUNDARY,x=l.INITIAL_WORLD_BOUNDARY;d=l.WORLD_CENTER_X+u.nextDouble()*(x-v)+v;var y=-l.INITIAL_WORLD_BOUNDARY,w=l.INITIAL_WORLD_BOUNDARY;p=l.WORLD_CENTER_Y+u.nextDouble()*(w-y)+y,this.rect.x=d,this.rect.y=p},f.prototype.updateBounds=function(){if(this.getChild()==null)throw"assert failed";if(this.getChild().getNodes().length!=0){var d=this.getChild();if(d.updateBounds(!0),this.rect.x=d.getLeft(),this.rect.y=d.getTop(),this.setWidth(d.getRight()-d.getLeft()),this.setHeight(d.getBottom()-d.getTop()),l.NODE_DIMENSIONS_INCLUDE_LABELS){var p=d.getRight()-d.getLeft(),v=d.getBottom()-d.getTop();this.labelWidth>p&&(this.rect.x-=(this.labelWidth-p)/2,this.setWidth(this.labelWidth)),this.labelHeight>v&&(this.labelPos=="center"?this.rect.y-=(this.labelHeight-v)/2:this.labelPos=="top"&&(this.rect.y-=this.labelHeight-v),this.setHeight(this.labelHeight))}}},f.prototype.getInclusionTreeDepth=function(){if(this.inclusionTreeDepth==s.MAX_VALUE)throw"assert failed";return this.inclusionTreeDepth},f.prototype.transform=function(d){var p=this.rect.x;p>l.WORLD_BOUNDARY?p=l.WORLD_BOUNDARY:p<-l.WORLD_BOUNDARY&&(p=-l.WORLD_BOUNDARY);var v=this.rect.y;v>l.WORLD_BOUNDARY?v=l.WORLD_BOUNDARY:v<-l.WORLD_BOUNDARY&&(v=-l.WORLD_BOUNDARY);var x=new c(p,v),y=d.inverseTransformPoint(x);this.setLocation(y.x,y.y)},f.prototype.getLeft=function(){return this.rect.x},f.prototype.getRight=function(){return this.rect.x+this.rect.width},f.prototype.getTop=function(){return this.rect.y},f.prototype.getBottom=function(){return this.rect.y+this.rect.height},f.prototype.getParent=function(){return this.owner==null?null:this.owner.getParent()},n.exports=f},function(n,r,i){function a(s,o){s==null&&o==null?(this.x=0,this.y=0):(this.x=s,this.y=o)}a.prototype.getX=function(){return this.x},a.prototype.getY=function(){return this.y},a.prototype.setX=function(s){this.x=s},a.prototype.setY=function(s){this.y=s},a.prototype.getDifference=function(s){return new DimensionD(this.x-s.x,this.y-s.y)},a.prototype.getCopy=function(){return new a(this.x,this.y)},a.prototype.translate=function(s){return this.x+=s.width,this.y+=s.height,this},n.exports=a},function(n,r,i){var a=i(2),s=i(10),o=i(0),l=i(6),u=i(3),c=i(1),f=i(13),h=i(12),d=i(11);function p(x,y,w){a.call(this,w),this.estimatedSize=s.MIN_VALUE,this.margin=o.DEFAULT_GRAPH_MARGIN,this.edges=[],this.nodes=[],this.isConnected=!1,this.parent=x,y!=null&&y instanceof l?this.graphManager=y:y!=null&&y instanceof Layout&&(this.graphManager=y.graphManager)}p.prototype=Object.create(a.prototype);for(var v in a)p[v]=a[v];p.prototype.getNodes=function(){return this.nodes},p.prototype.getEdges=function(){return this.edges},p.prototype.getGraphManager=function(){return this.graphManager},p.prototype.getParent=function(){return this.parent},p.prototype.getLeft=function(){return this.left},p.prototype.getRight=function(){return this.right},p.prototype.getTop=function(){return this.top},p.prototype.getBottom=function(){return this.bottom},p.prototype.isConnected=function(){return this.isConnected},p.prototype.add=function(x,y,w){if(y==null&&w==null){var k=x;if(this.graphManager==null)throw"Graph has no graph mgr!";if(this.getNodes().indexOf(k)>-1)throw"Node already in graph!";return k.owner=this,this.getNodes().push(k),k}else{var _=x;if(!(this.getNodes().indexOf(y)>-1&&this.getNodes().indexOf(w)>-1))throw"Source or target not in graph!";if(!(y.owner==w.owner&&y.owner==this))throw"Both owners must be this graph!";return y.owner!=w.owner?null:(_.source=y,_.target=w,_.isInterGraph=!1,this.getEdges().push(_),y.edges.push(_),w!=y&&w.edges.push(_),_)}},p.prototype.remove=function(x){var y=x;if(x instanceof u){if(y==null)throw"Node is null!";if(!(y.owner!=null&&y.owner==this))throw"Owner graph is invalid!";if(this.graphManager==null)throw"Owner graph manager is invalid!";for(var w=y.edges.slice(),k,_=w.length,C=0;C<_;C++)k=w[C],k.isInterGraph?this.graphManager.remove(k):k.source.owner.remove(k);var T=this.nodes.indexOf(y);if(T==-1)throw"Node not in owner node list!";this.nodes.splice(T,1)}else if(x instanceof c){var k=x;if(k==null)throw"Edge is null!";if(!(k.source!=null&&k.target!=null))throw"Source and/or target is null!";if(!(k.source.owner!=null&&k.target.owner!=null&&k.source.owner==this&&k.target.owner==this))throw"Source and/or target owner is invalid!";var E=k.source.edges.indexOf(k),A=k.target.edges.indexOf(k);if(!(E>-1&&A>-1))throw"Source and/or target doesn't know this edge!";k.source.edges.splice(E,1),k.target!=k.source&&k.target.edges.splice(A,1);var T=k.source.owner.getEdges().indexOf(k);if(T==-1)throw"Not in owner's edge list!";k.source.owner.getEdges().splice(T,1)}},p.prototype.updateLeftTop=function(){for(var x=s.MAX_VALUE,y=s.MAX_VALUE,w,k,_,C=this.getNodes(),T=C.length,E=0;E<T;E++){var A=C[E];w=A.getTop(),k=A.getLeft(),x>w&&(x=w),y>k&&(y=k)}return x==s.MAX_VALUE?null:(C[0].getParent().paddingLeft!=null?_=C[0].getParent().paddingLeft:_=this.margin,this.left=y-_,this.top=x-_,new h(this.left,this.top))},p.prototype.updateBounds=function(x){for(var y=s.MAX_VALUE,w=-s.MAX_VALUE,k=s.MAX_VALUE,_=-s.MAX_VALUE,C,T,E,A,R,D=this.nodes,N=D.length,z=0;z<N;z++){var j=D[z];x&&j.child!=null&&j.updateBounds(),C=j.getLeft(),T=j.getRight(),E=j.getTop(),A=j.getBottom(),y>C&&(y=C),w<T&&(w=T),k>E&&(k=E),_<A&&(_=A)}var V=new f(y,k,w-y,_-k);y==s.MAX_VALUE&&(this.left=this.parent.getLeft(),this.right=this.parent.getRight(),this.top=this.parent.getTop(),this.bottom=this.parent.getBottom()),D[0].getParent().paddingLeft!=null?R=D[0].getParent().paddingLeft:R=this.margin,this.left=V.x-R,this.right=V.x+V.width+R,this.top=V.y-R,this.bottom=V.y+V.height+R},p.calculateBounds=function(x){for(var y=s.MAX_VALUE,w=-s.MAX_VALUE,k=s.MAX_VALUE,_=-s.MAX_VALUE,C,T,E,A,R=x.length,D=0;D<R;D++){var N=x[D];C=N.getLeft(),T=N.getRight(),E=N.getTop(),A=N.getBottom(),y>C&&(y=C),w<T&&(w=T),k>E&&(k=E),_<A&&(_=A)}var z=new f(y,k,w-y,_-k);return z},p.prototype.getInclusionTreeDepth=function(){return this==this.graphManager.getRoot()?1:this.parent.getInclusionTreeDepth()},p.prototype.getEstimatedSize=function(){if(this.estimatedSize==s.MIN_VALUE)throw"assert failed";return this.estimatedSize},p.prototype.calcEstimatedSize=function(){for(var x=0,y=this.nodes,w=y.length,k=0;k<w;k++){var _=y[k];x+=_.calcEstimatedSize()}return x==0?this.estimatedSize=o.EMPTY_COMPOUND_NODE_SIZE:this.estimatedSize=x/Math.sqrt(this.nodes.length),this.estimatedSize},p.prototype.updateConnected=function(){var x=this;if(this.nodes.length==0){this.isConnected=!0;return}var y=new d,w=new Set,k=this.nodes[0],_,C,T=k.withChildren();for(T.forEach(function(z){y.push(z),w.add(z)});y.length!==0;){k=y.shift(),_=k.getEdges();for(var E=_.length,A=0;A<E;A++){var R=_[A];if(C=R.getOtherEndInGraph(k,this),C!=null&&!w.has(C)){var D=C.withChildren();D.forEach(function(z){y.push(z),w.add(z)})}}}if(this.isConnected=!1,w.size>=this.nodes.length){var N=0;w.forEach(function(z){z.owner==x&&N++}),N==this.nodes.length&&(this.isConnected=!0)}},n.exports=p},function(n,r,i){var a,s=i(1);function o(l){a=i(5),this.layout=l,this.graphs=[],this.edges=[]}o.prototype.addRoot=function(){var l=this.layout.newGraph(),u=this.layout.newNode(null),c=this.add(l,u);return this.setRootGraph(c),this.rootGraph},o.prototype.add=function(l,u,c,f,h){if(c==null&&f==null&&h==null){if(l==null)throw"Graph is null!";if(u==null)throw"Parent node is null!";if(this.graphs.indexOf(l)>-1)throw"Graph already in this graph mgr!";if(this.graphs.push(l),l.parent!=null)throw"Already has a parent!";if(u.child!=null)throw"Already has a child!";return l.parent=u,u.child=l,l}else{h=c,f=u,c=l;var d=f.getOwner(),p=h.getOwner();if(!(d!=null&&d.getGraphManager()==this))throw"Source not in this graph mgr!";if(!(p!=null&&p.getGraphManager()==this))throw"Target not in this graph mgr!";if(d==p)return c.isInterGraph=!1,d.add(c,f,h);if(c.isInterGraph=!0,c.source=f,c.target=h,this.edges.indexOf(c)>-1)throw"Edge already in inter-graph edge list!";if(this.edges.push(c),!(c.source!=null&&c.target!=null))throw"Edge source and/or target is null!";if(!(c.source.edges.indexOf(c)==-1&&c.target.edges.indexOf(c)==-1))throw"Edge already in source and/or target incidency list!";return c.source.edges.push(c),c.target.edges.push(c),c}},o.prototype.remove=function(l){if(l instanceof a){var u=l;if(u.getGraphManager()!=this)throw"Graph not in this graph mgr";if(!(u==this.rootGraph||u.parent!=null&&u.parent.graphManager==this))throw"Invalid parent node!";var c=[];c=c.concat(u.getEdges());for(var f,h=c.length,d=0;d<h;d++)f=c[d],u.remove(f);var p=[];p=p.concat(u.getNodes());var v;h=p.length;for(var d=0;d<h;d++)v=p[d],u.remove(v);u==this.rootGraph&&this.setRootGraph(null);var x=this.graphs.indexOf(u);this.graphs.splice(x,1),u.parent=null}else if(l instanceof s){if(f=l,f==null)throw"Edge is null!";if(!f.isInterGraph)throw"Not an inter-graph edge!";if(!(f.source!=null&&f.target!=null))throw"Source and/or target is null!";if(!(f.source.edges.indexOf(f)!=-1&&f.target.edges.indexOf(f)!=-1))throw"Source and/or target doesn't know this edge!";var x=f.source.edges.indexOf(f);if(f.source.edges.splice(x,1),x=f.target.edges.indexOf(f),f.target.edges.splice(x,1),!(f.source.owner!=null&&f.source.owner.getGraphManager()!=null))throw"Edge owner graph or owner graph manager is null!";if(f.source.owner.getGraphManager().edges.indexOf(f)==-1)throw"Not in owner graph manager's edge list!";var x=f.source.owner.getGraphManager().edges.indexOf(f);f.source.owner.getGraphManager().edges.splice(x,1)}},o.prototype.updateBounds=function(){this.rootGraph.updateBounds(!0)},o.prototype.getGraphs=function(){return this.graphs},o.prototype.getAllNodes=function(){if(this.allNodes==null){for(var l=[],u=this.getGraphs(),c=u.length,f=0;f<c;f++)l=l.concat(u[f].getNodes());this.allNodes=l}return this.allNodes},o.prototype.resetAllNodes=function(){this.allNodes=null},o.prototype.resetAllEdges=function(){this.allEdges=null},o.prototype.resetAllNodesToApplyGravitation=function(){this.allNodesToApplyGravitation=null},o.prototype.getAllEdges=function(){if(this.allEdges==null){var l=[],u=this.getGraphs();u.length;for(var c=0;c<u.length;c++)l=l.concat(u[c].getEdges());l=l.concat(this.edges),this.allEdges=l}return this.allEdges},o.prototype.getAllNodesToApplyGravitation=function(){return this.allNodesToApplyGravitation},o.prototype.setAllNodesToApplyGravitation=function(l){if(this.allNodesToApplyGravitation!=null)throw"assert failed";this.allNodesToApplyGravitation=l},o.prototype.getRoot=function(){return this.rootGraph},o.prototype.setRootGraph=function(l){if(l.getGraphManager()!=this)throw"Root not in this graph mgr!";this.rootGraph=l,l.parent==null&&(l.parent=this.layout.newNode("Root node"))},o.prototype.getLayout=function(){return this.layout},o.prototype.isOneAncestorOfOther=function(l,u){if(!(l!=null&&u!=null))throw"assert failed";if(l==u)return!0;var c=l.getOwner(),f;do{if(f=c.getParent(),f==null)break;if(f==u)return!0;if(c=f.getOwner(),c==null)break}while(!0);c=u.getOwner();do{if(f=c.getParent(),f==null)break;if(f==l)return!0;if(c=f.getOwner(),c==null)break}while(!0);return!1},o.prototype.calcLowestCommonAncestors=function(){for(var l,u,c,f,h,d=this.getAllEdges(),p=d.length,v=0;v<p;v++){if(l=d[v],u=l.source,c=l.target,l.lca=null,l.sourceInLca=u,l.targetInLca=c,u==c){l.lca=u.getOwner();continue}for(f=u.getOwner();l.lca==null;){for(l.targetInLca=c,h=c.getOwner();l.lca==null;){if(h==f){l.lca=h;break}if(h==this.rootGraph)break;if(l.lca!=null)throw"assert failed";l.targetInLca=h.getParent(),h=l.targetInLca.getOwner()}if(f==this.rootGraph)break;l.lca==null&&(l.sourceInLca=f.getParent(),f=l.sourceInLca.getOwner())}if(l.lca==null)throw"assert failed"}},o.prototype.calcLowestCommonAncestor=function(l,u){if(l==u)return l.getOwner();var c=l.getOwner();do{if(c==null)break;var f=u.getOwner();do{if(f==null)break;if(f==c)return f;f=f.getParent().getOwner()}while(!0);c=c.getParent().getOwner()}while(!0);return c},o.prototype.calcInclusionTreeDepths=function(l,u){l==null&&u==null&&(l=this.rootGraph,u=1);for(var c,f=l.getNodes(),h=f.length,d=0;d<h;d++)c=f[d],c.inclusionTreeDepth=u,c.child!=null&&this.calcInclusionTreeDepths(c.child,u+1)},o.prototype.includesInvalidEdge=function(){for(var l,u=this.edges.length,c=0;c<u;c++)if(l=this.edges[c],this.isOneAncestorOfOther(l.source,l.target))return!0;return!1},n.exports=o},function(n,r,i){var a=i(0);function s(){}for(var o in a)s[o]=a[o];s.MAX_ITERATIONS=2500,s.DEFAULT_EDGE_LENGTH=50,s.DEFAULT_SPRING_STRENGTH=.45,s.DEFAULT_REPULSION_STRENGTH=4500,s.DEFAULT_GRAVITY_STRENGTH=.4,s.DEFAULT_COMPOUND_GRAVITY_STRENGTH=1,s.DEFAULT_GRAVITY_RANGE_FACTOR=3.8,s.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=1.5,s.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION=!0,s.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION=!0,s.DEFAULT_COOLING_FACTOR_INCREMENTAL=.3,s.COOLING_ADAPTATION_FACTOR=.33,s.ADAPTATION_LOWER_NODE_LIMIT=1e3,s.ADAPTATION_UPPER_NODE_LIMIT=5e3,s.MAX_NODE_DISPLACEMENT_INCREMENTAL=100,s.MAX_NODE_DISPLACEMENT=s.MAX_NODE_DISPLACEMENT_INCREMENTAL*3,s.MIN_REPULSION_DIST=s.DEFAULT_EDGE_LENGTH/10,s.CONVERGENCE_CHECK_PERIOD=100,s.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=.1,s.MIN_EDGE_LENGTH=1,s.GRID_CALCULATION_CHECK_PERIOD=10,n.exports=s},function(n,r,i){var a=i(12);function s(){}s.calcSeparationAmount=function(o,l,u,c){if(!o.intersects(l))throw"assert failed";var f=new Array(2);this.decideDirectionsForOverlappingNodes(o,l,f),u[0]=Math.min(o.getRight(),l.getRight())-Math.max(o.x,l.x),u[1]=Math.min(o.getBottom(),l.getBottom())-Math.max(o.y,l.y),o.getX()<=l.getX()&&o.getRight()>=l.getRight()?u[0]+=Math.min(l.getX()-o.getX(),o.getRight()-l.getRight()):l.getX()<=o.getX()&&l.getRight()>=o.getRight()&&(u[0]+=Math.min(o.getX()-l.getX(),l.getRight()-o.getRight())),o.getY()<=l.getY()&&o.getBottom()>=l.getBottom()?u[1]+=Math.min(l.getY()-o.getY(),o.getBottom()-l.getBottom()):l.getY()<=o.getY()&&l.getBottom()>=o.getBottom()&&(u[1]+=Math.min(o.getY()-l.getY(),l.getBottom()-o.getBottom()));var h=Math.abs((l.getCenterY()-o.getCenterY())/(l.getCenterX()-o.getCenterX()));l.getCenterY()===o.getCenterY()&&l.getCenterX()===o.getCenterX()&&(h=1);var d=h*u[0],p=u[1]/h;u[0]<p?p=u[0]:d=u[1],u[0]=-1*f[0]*(p/2+c),u[1]=-1*f[1]*(d/2+c)},s.decideDirectionsForOverlappingNodes=function(o,l,u){o.getCenterX()<l.getCenterX()?u[0]=-1:u[0]=1,o.getCenterY()<l.getCenterY()?u[1]=-1:u[1]=1},s.getIntersection2=function(o,l,u){var c=o.getCenterX(),f=o.getCenterY(),h=l.getCenterX(),d=l.getCenterY();if(o.intersects(l))return u[0]=c,u[1]=f,u[2]=h,u[3]=d,!0;var p=o.getX(),v=o.getY(),x=o.getRight(),y=o.getX(),w=o.getBottom(),k=o.getRight(),_=o.getWidthHalf(),C=o.getHeightHalf(),T=l.getX(),E=l.getY(),A=l.getRight(),R=l.getX(),D=l.getBottom(),N=l.getRight(),z=l.getWidthHalf(),j=l.getHeightHalf(),V=!1,Y=!1;if(c===h){if(f>d)return u[0]=c,u[1]=v,u[2]=h,u[3]=D,!1;if(f<d)return u[0]=c,u[1]=w,u[2]=h,u[3]=E,!1}else if(f===d){if(c>h)return u[0]=p,u[1]=f,u[2]=A,u[3]=d,!1;if(c<h)return u[0]=x,u[1]=f,u[2]=T,u[3]=d,!1}else{var Z=o.height/o.width,X=l.height/l.width,G=(d-f)/(h-c),ee=void 0,B=void 0,K=void 0,J=void 0,q=void 0,he=void 0;if(-Z===G?c>h?(u[0]=y,u[1]=w,V=!0):(u[0]=x,u[1]=v,V=!0):Z===G&&(c>h?(u[0]=p,u[1]=v,V=!0):(u[0]=k,u[1]=w,V=!0)),-X===G?h>c?(u[2]=R,u[3]=D,Y=!0):(u[2]=A,u[3]=E,Y=!0):X===G&&(h>c?(u[2]=T,u[3]=E,Y=!0):(u[2]=N,u[3]=D,Y=!0)),V&&Y)return!1;if(c>h?f>d?(ee=this.getCardinalDirection(Z,G,4),B=this.getCardinalDirection(X,G,2)):(ee=this.getCardinalDirection(-Z,G,3),B=this.getCardinalDirection(-X,G,1)):f>d?(ee=this.getCardinalDirection(-Z,G,1),B=this.getCardinalDirection(-X,G,3)):(ee=this.getCardinalDirection(Z,G,2),B=this.getCardinalDirection(X,G,4)),!V)switch(ee){case 1:J=v,K=c+-C/G,u[0]=K,u[1]=J;break;case 2:K=k,J=f+_*G,u[0]=K,u[1]=J;break;case 3:J=w,K=c+C/G,u[0]=K,u[1]=J;break;case 4:K=y,J=f+-_*G,u[0]=K,u[1]=J;break}if(!Y)switch(B){case 1:he=E,q=h+-j/G,u[2]=q,u[3]=he;break;case 2:q=N,he=d+z*G,u[2]=q,u[3]=he;break;case 3:he=D,q=h+j/G,u[2]=q,u[3]=he;break;case 4:q=R,he=d+-z*G,u[2]=q,u[3]=he;break}}return!1},s.getCardinalDirection=function(o,l,u){return o>l?u:1+u%4},s.getIntersection=function(o,l,u,c){if(c==null)return this.getIntersection2(o,l,u);var f=o.x,h=o.y,d=l.x,p=l.y,v=u.x,x=u.y,y=c.x,w=c.y,k=void 0,_=void 0,C=void 0,T=void 0,E=void 0,A=void 0,R=void 0,D=void 0,N=void 0;return C=p-h,E=f-d,R=d*h-f*p,T=w-x,A=v-y,D=y*x-v*w,N=C*A-T*E,N===0?null:(k=(E*D-A*R)/N,_=(T*R-C*D)/N,new a(k,_))},s.angleOfVector=function(o,l,u,c){var f=void 0;return o!==u?(f=Math.atan((c-l)/(u-o)),u<o?f+=Math.PI:c<l&&(f+=this.TWO_PI)):c<l?f=this.ONE_AND_HALF_PI:f=this.HALF_PI,f},s.doIntersect=function(o,l,u,c){var f=o.x,h=o.y,d=l.x,p=l.y,v=u.x,x=u.y,y=c.x,w=c.y,k=(d-f)*(w-x)-(y-v)*(p-h);if(k===0)return!1;var _=((w-x)*(y-f)+(v-y)*(w-h))/k,C=((h-p)*(y-f)+(d-f)*(w-h))/k;return 0<_&&_<1&&0<C&&C<1},s.HALF_PI=.5*Math.PI,s.ONE_AND_HALF_PI=1.5*Math.PI,s.TWO_PI=2*Math.PI,s.THREE_PI=3*Math.PI,n.exports=s},function(n,r,i){function a(){}a.sign=function(s){return s>0?1:s<0?-1:0},a.floor=function(s){return s<0?Math.ceil(s):Math.floor(s)},a.ceil=function(s){return s<0?Math.floor(s):Math.ceil(s)},n.exports=a},function(n,r,i){function a(){}a.MAX_VALUE=2147483647,a.MIN_VALUE=-2147483648,n.exports=a},function(n,r,i){var a=function(){function f(h,d){for(var p=0;p<d.length;p++){var v=d[p];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(h,v.key,v)}}return function(h,d,p){return d&&f(h.prototype,d),p&&f(h,p),h}}();function s(f,h){if(!(f instanceof h))throw new TypeError("Cannot call a class as a function")}var o=function(h){return{value:h,next:null,prev:null}},l=function(h,d,p,v){return h!==null?h.next=d:v.head=d,p!==null?p.prev=d:v.tail=d,d.prev=h,d.next=p,v.length++,d},u=function(h,d){var p=h.prev,v=h.next;return p!==null?p.next=v:d.head=v,v!==null?v.prev=p:d.tail=p,h.prev=h.next=null,d.length--,h},c=function(){function f(h){var d=this;s(this,f),this.length=0,this.head=null,this.tail=null,h!=null&&h.forEach(function(p){return d.push(p)})}return a(f,[{key:"size",value:function(){return this.length}},{key:"insertBefore",value:function(d,p){return l(p.prev,o(d),p,this)}},{key:"insertAfter",value:function(d,p){return l(p,o(d),p.next,this)}},{key:"insertNodeBefore",value:function(d,p){return l(p.prev,d,p,this)}},{key:"insertNodeAfter",value:function(d,p){return l(p,d,p.next,this)}},{key:"push",value:function(d){return l(this.tail,o(d),null,this)}},{key:"unshift",value:function(d){return l(null,o(d),this.head,this)}},{key:"remove",value:function(d){return u(d,this)}},{key:"pop",value:function(){return u(this.tail,this).value}},{key:"popNode",value:function(){return u(this.tail,this)}},{key:"shift",value:function(){return u(this.head,this).value}},{key:"shiftNode",value:function(){return u(this.head,this)}},{key:"get_object_at",value:function(d){if(d<=this.length()){for(var p=1,v=this.head;p<d;)v=v.next,p++;return v.value}}},{key:"set_object_at",value:function(d,p){if(d<=this.length()){for(var v=1,x=this.head;v<d;)x=x.next,v++;x.value=p}}}]),f}();n.exports=c},function(n,r,i){function a(s,o,l){this.x=null,this.y=null,s==null&&o==null&&l==null?(this.x=0,this.y=0):typeof s=="number"&&typeof o=="number"&&l==null?(this.x=s,this.y=o):s.constructor.name=="Point"&&o==null&&l==null&&(l=s,this.x=l.x,this.y=l.y)}a.prototype.getX=function(){return this.x},a.prototype.getY=function(){return this.y},a.prototype.getLocation=function(){return new a(this.x,this.y)},a.prototype.setLocation=function(s,o,l){s.constructor.name=="Point"&&o==null&&l==null?(l=s,this.setLocation(l.x,l.y)):typeof s=="number"&&typeof o=="number"&&l==null&&(parseInt(s)==s&&parseInt(o)==o?this.move(s,o):(this.x=Math.floor(s+.5),this.y=Math.floor(o+.5)))},a.prototype.move=function(s,o){this.x=s,this.y=o},a.prototype.translate=function(s,o){this.x+=s,this.y+=o},a.prototype.equals=function(s){if(s.constructor.name=="Point"){var o=s;return this.x==o.x&&this.y==o.y}return this==s},a.prototype.toString=function(){return new a().constructor.name+"[x="+this.x+",y="+this.y+"]"},n.exports=a},function(n,r,i){function a(s,o,l,u){this.x=0,this.y=0,this.width=0,this.height=0,s!=null&&o!=null&&l!=null&&u!=null&&(this.x=s,this.y=o,this.width=l,this.height=u)}a.prototype.getX=function(){return this.x},a.prototype.setX=function(s){this.x=s},a.prototype.getY=function(){return this.y},a.prototype.setY=function(s){this.y=s},a.prototype.getWidth=function(){return this.width},a.prototype.setWidth=function(s){this.width=s},a.prototype.getHeight=function(){return this.height},a.prototype.setHeight=function(s){this.height=s},a.prototype.getRight=function(){return this.x+this.width},a.prototype.getBottom=function(){return this.y+this.height},a.prototype.intersects=function(s){return!(this.getRight()<s.x||this.getBottom()<s.y||s.getRight()<this.x||s.getBottom()<this.y)},a.prototype.getCenterX=function(){return this.x+this.width/2},a.prototype.getMinX=function(){return this.getX()},a.prototype.getMaxX=function(){return this.getX()+this.width},a.prototype.getCenterY=function(){return this.y+this.height/2},a.prototype.getMinY=function(){return this.getY()},a.prototype.getMaxY=function(){return this.getY()+this.height},a.prototype.getWidthHalf=function(){return this.width/2},a.prototype.getHeightHalf=function(){return this.height/2},n.exports=a},function(n,r,i){var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o};function s(){}s.lastID=0,s.createID=function(o){return s.isPrimitive(o)?o:(o.uniqueID!=null||(o.uniqueID=s.getString(),s.lastID++),o.uniqueID)},s.getString=function(o){return o==null&&(o=s.lastID),"Object#"+o},s.isPrimitive=function(o){var l=typeof o>"u"?"undefined":a(o);return o==null||l!="object"&&l!="function"},n.exports=s},function(n,r,i){function a(v){if(Array.isArray(v)){for(var x=0,y=Array(v.length);x<v.length;x++)y[x]=v[x];return y}else return Array.from(v)}var s=i(0),o=i(6),l=i(3),u=i(1),c=i(5),f=i(4),h=i(17),d=i(27);function p(v){d.call(this),this.layoutQuality=s.QUALITY,this.createBendsAsNeeded=s.DEFAULT_CREATE_BENDS_AS_NEEDED,this.incremental=s.DEFAULT_INCREMENTAL,this.animationOnLayout=s.DEFAULT_ANIMATION_ON_LAYOUT,this.animationDuringLayout=s.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=s.DEFAULT_ANIMATION_PERIOD,this.uniformLeafNodeSizes=s.DEFAULT_UNIFORM_LEAF_NODE_SIZES,this.edgeToDummyNodes=new Map,this.graphManager=new o(this),this.isLayoutFinished=!1,this.isSubLayout=!1,this.isRemoteUse=!1,v!=null&&(this.isRemoteUse=v)}p.RANDOM_SEED=1,p.prototype=Object.create(d.prototype),p.prototype.getGraphManager=function(){return this.graphManager},p.prototype.getAllNodes=function(){return this.graphManager.getAllNodes()},p.prototype.getAllEdges=function(){return this.graphManager.getAllEdges()},p.prototype.getAllNodesToApplyGravitation=function(){return this.graphManager.getAllNodesToApplyGravitation()},p.prototype.newGraphManager=function(){var v=new o(this);return this.graphManager=v,v},p.prototype.newGraph=function(v){return new c(null,this.graphManager,v)},p.prototype.newNode=function(v){return new l(this.graphManager,v)},p.prototype.newEdge=function(v){return new u(null,null,v)},p.prototype.checkLayoutSuccess=function(){return this.graphManager.getRoot()==null||this.graphManager.getRoot().getNodes().length==0||this.graphManager.includesInvalidEdge()},p.prototype.runLayout=function(){this.isLayoutFinished=!1,this.tilingPreLayout&&this.tilingPreLayout(),this.initParameters();var v;return this.checkLayoutSuccess()?v=!1:v=this.layout(),s.ANIMATE==="during"?!1:(v&&(this.isSubLayout||this.doPostLayout()),this.tilingPostLayout&&this.tilingPostLayout(),this.isLayoutFinished=!0,v)},p.prototype.doPostLayout=function(){this.incremental||this.transform(),this.update()},p.prototype.update2=function(){if(this.createBendsAsNeeded&&(this.createBendpointsFromDummyNodes(),this.graphManager.resetAllEdges()),!this.isRemoteUse){for(var v=this.graphManager.getAllEdges(),x=0;x<v.length;x++)v[x];for(var y=this.graphManager.getRoot().getNodes(),x=0;x<y.length;x++)y[x];this.update(this.graphManager.getRoot())}},p.prototype.update=function(v){if(v==null)this.update2();else if(v instanceof l){var x=v;if(x.getChild()!=null)for(var y=x.getChild().getNodes(),w=0;w<y.length;w++)update(y[w]);if(x.vGraphObject!=null){var k=x.vGraphObject;k.update(x)}}else if(v instanceof u){var _=v;if(_.vGraphObject!=null){var C=_.vGraphObject;C.update(_)}}else if(v instanceof c){var T=v;if(T.vGraphObject!=null){var E=T.vGraphObject;E.update(T)}}},p.prototype.initParameters=function(){this.isSubLayout||(this.layoutQuality=s.QUALITY,this.animationDuringLayout=s.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=s.DEFAULT_ANIMATION_PERIOD,this.animationOnLayout=s.DEFAULT_ANIMATION_ON_LAYOUT,this.incremental=s.DEFAULT_INCREMENTAL,this.createBendsAsNeeded=s.DEFAULT_CREATE_BENDS_AS_NEEDED,this.uniformLeafNodeSizes=s.DEFAULT_UNIFORM_LEAF_NODE_SIZES),this.animationDuringLayout&&(this.animationOnLayout=!1)},p.prototype.transform=function(v){if(v==null)this.transform(new f(0,0));else{var x=new h,y=this.graphManager.getRoot().updateLeftTop();if(y!=null){x.setWorldOrgX(v.x),x.setWorldOrgY(v.y),x.setDeviceOrgX(y.x),x.setDeviceOrgY(y.y);for(var w=this.getAllNodes(),k,_=0;_<w.length;_++)k=w[_],k.transform(x)}}},p.prototype.positionNodesRandomly=function(v){if(v==null)this.positionNodesRandomly(this.getGraphManager().getRoot()),this.getGraphManager().getRoot().updateBounds(!0);else for(var x,y,w=v.getNodes(),k=0;k<w.length;k++)x=w[k],y=x.getChild(),y==null||y.getNodes().length==0?x.scatter():(this.positionNodesRandomly(y),x.updateBounds())},p.prototype.getFlatForest=function(){for(var v=[],x=!0,y=this.graphManager.getRoot().getNodes(),w=!0,k=0;k<y.length;k++)y[k].getChild()!=null&&(w=!1);if(!w)return v;var _=new Set,C=[],T=new Map,E=[];for(E=E.concat(y);E.length>0&&x;){for(C.push(E[0]);C.length>0&&x;){var A=C[0];C.splice(0,1),_.add(A);for(var R=A.getEdges(),k=0;k<R.length;k++){var D=R[k].getOtherEnd(A);if(T.get(A)!=D)if(!_.has(D))C.push(D),T.set(D,A);else{x=!1;break}}}if(!x)v=[];else{var N=[].concat(a(_));v.push(N);for(var k=0;k<N.length;k++){var z=N[k],j=E.indexOf(z);j>-1&&E.splice(j,1)}_=new Set,T=new Map}}return v},p.prototype.createDummyNodesForBendpoints=function(v){for(var x=[],y=v.source,w=this.graphManager.calcLowestCommonAncestor(v.source,v.target),k=0;k<v.bendpoints.length;k++){var _=this.newNode(null);_.setRect(new Point(0,0),new Dimension(1,1)),w.add(_);var C=this.newEdge(null);this.graphManager.add(C,y,_),x.add(_),y=_}var C=this.newEdge(null);return this.graphManager.add(C,y,v.target),this.edgeToDummyNodes.set(v,x),v.isInterGraph()?this.graphManager.remove(v):w.remove(v),x},p.prototype.createBendpointsFromDummyNodes=function(){var v=[];v=v.concat(this.graphManager.getAllEdges()),v=[].concat(a(this.edgeToDummyNodes.keys())).concat(v);for(var x=0;x<v.length;x++){var y=v[x];if(y.bendpoints.length>0){for(var w=this.edgeToDummyNodes.get(y),k=0;k<w.length;k++){var _=w[k],C=new f(_.getCenterX(),_.getCenterY()),T=y.bendpoints.get(k);T.x=C.x,T.y=C.y,_.getOwner().remove(_)}this.graphManager.add(y,y.source,y.target)}}},p.transform=function(v,x,y,w){if(y!=null&&w!=null){var k=x;if(v<=50){var _=x/y;k-=(x-_)/50*(50-v)}else{var C=x*w;k+=(C-x)/50*(v-50)}return k}else{var T,E;return v<=50?(T=9*x/500,E=x/10):(T=9*x/50,E=-8*x),T*v+E}},p.findCenterOfTree=function(v){var x=[];x=x.concat(v);var y=[],w=new Map,k=!1,_=null;(x.length==1||x.length==2)&&(k=!0,_=x[0]);for(var C=0;C<x.length;C++){var T=x[C],E=T.getNeighborsList().size;w.set(T,T.getNeighborsList().size),E==1&&y.push(T)}var A=[];for(A=A.concat(y);!k;){var R=[];R=R.concat(A),A=[];for(var C=0;C<x.length;C++){var T=x[C],D=x.indexOf(T);D>=0&&x.splice(D,1);var N=T.getNeighborsList();N.forEach(function(V){if(y.indexOf(V)<0){var Y=w.get(V),Z=Y-1;Z==1&&A.push(V),w.set(V,Z)}})}y=y.concat(A),(x.length==1||x.length==2)&&(k=!0,_=x[0])}return _},p.prototype.setGraphManager=function(v){this.graphManager=v},n.exports=p},function(n,r,i){function a(){}a.seed=1,a.x=0,a.nextDouble=function(){return a.x=Math.sin(a.seed++)*1e4,a.x-Math.floor(a.x)},n.exports=a},function(n,r,i){var a=i(4);function s(o,l){this.lworldOrgX=0,this.lworldOrgY=0,this.ldeviceOrgX=0,this.ldeviceOrgY=0,this.lworldExtX=1,this.lworldExtY=1,this.ldeviceExtX=1,this.ldeviceExtY=1}s.prototype.getWorldOrgX=function(){return this.lworldOrgX},s.prototype.setWorldOrgX=function(o){this.lworldOrgX=o},s.prototype.getWorldOrgY=function(){return this.lworldOrgY},s.prototype.setWorldOrgY=function(o){this.lworldOrgY=o},s.prototype.getWorldExtX=function(){return this.lworldExtX},s.prototype.setWorldExtX=function(o){this.lworldExtX=o},s.prototype.getWorldExtY=function(){return this.lworldExtY},s.prototype.setWorldExtY=function(o){this.lworldExtY=o},s.prototype.getDeviceOrgX=function(){return this.ldeviceOrgX},s.prototype.setDeviceOrgX=function(o){this.ldeviceOrgX=o},s.prototype.getDeviceOrgY=function(){return this.ldeviceOrgY},s.prototype.setDeviceOrgY=function(o){this.ldeviceOrgY=o},s.prototype.getDeviceExtX=function(){return this.ldeviceExtX},s.prototype.setDeviceExtX=function(o){this.ldeviceExtX=o},s.prototype.getDeviceExtY=function(){return this.ldeviceExtY},s.prototype.setDeviceExtY=function(o){this.ldeviceExtY=o},s.prototype.transformX=function(o){var l=0,u=this.lworldExtX;return u!=0&&(l=this.ldeviceOrgX+(o-this.lworldOrgX)*this.ldeviceExtX/u),l},s.prototype.transformY=function(o){var l=0,u=this.lworldExtY;return u!=0&&(l=this.ldeviceOrgY+(o-this.lworldOrgY)*this.ldeviceExtY/u),l},s.prototype.inverseTransformX=function(o){var l=0,u=this.ldeviceExtX;return u!=0&&(l=this.lworldOrgX+(o-this.ldeviceOrgX)*this.lworldExtX/u),l},s.prototype.inverseTransformY=function(o){var l=0,u=this.ldeviceExtY;return u!=0&&(l=this.lworldOrgY+(o-this.ldeviceOrgY)*this.lworldExtY/u),l},s.prototype.inverseTransformPoint=function(o){var l=new a(this.inverseTransformX(o.x),this.inverseTransformY(o.y));return l},n.exports=s},function(n,r,i){function a(d){if(Array.isArray(d)){for(var p=0,v=Array(d.length);p<d.length;p++)v[p]=d[p];return v}else return Array.from(d)}var s=i(15),o=i(7),l=i(0),u=i(8),c=i(9);function f(){s.call(this),this.useSmartIdealEdgeLengthCalculation=o.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.idealEdgeLength=o.DEFAULT_EDGE_LENGTH,this.springConstant=o.DEFAULT_SPRING_STRENGTH,this.repulsionConstant=o.DEFAULT_REPULSION_STRENGTH,this.gravityConstant=o.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=o.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=o.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=o.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.displacementThresholdPerNode=3*o.DEFAULT_EDGE_LENGTH/100,this.coolingFactor=o.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.initialCoolingFactor=o.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.totalDisplacement=0,this.oldTotalDisplacement=0,this.maxIterations=o.MAX_ITERATIONS}f.prototype=Object.create(s.prototype);for(var h in s)f[h]=s[h];f.prototype.initParameters=function(){s.prototype.initParameters.call(this,arguments),this.totalIterations=0,this.notAnimatedIterations=0,this.useFRGridVariant=o.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION,this.grid=[]},f.prototype.calcIdealEdgeLengths=function(){for(var d,p,v,x,y,w,k=this.getGraphManager().getAllEdges(),_=0;_<k.length;_++)d=k[_],d.idealLength=this.idealEdgeLength,d.isInterGraph&&(v=d.getSource(),x=d.getTarget(),y=d.getSourceInLca().getEstimatedSize(),w=d.getTargetInLca().getEstimatedSize(),this.useSmartIdealEdgeLengthCalculation&&(d.idealLength+=y+w-2*l.SIMPLE_NODE_SIZE),p=d.getLca().getInclusionTreeDepth(),d.idealLength+=o.DEFAULT_EDGE_LENGTH*o.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR*(v.getInclusionTreeDepth()+x.getInclusionTreeDepth()-2*p))},f.prototype.initSpringEmbedder=function(){var d=this.getAllNodes().length;this.incremental?(d>o.ADAPTATION_LOWER_NODE_LIMIT&&(this.coolingFactor=Math.max(this.coolingFactor*o.COOLING_ADAPTATION_FACTOR,this.coolingFactor-(d-o.ADAPTATION_LOWER_NODE_LIMIT)/(o.ADAPTATION_UPPER_NODE_LIMIT-o.ADAPTATION_LOWER_NODE_LIMIT)*this.coolingFactor*(1-o.COOLING_ADAPTATION_FACTOR))),this.maxNodeDisplacement=o.MAX_NODE_DISPLACEMENT_INCREMENTAL):(d>o.ADAPTATION_LOWER_NODE_LIMIT?this.coolingFactor=Math.max(o.COOLING_ADAPTATION_FACTOR,1-(d-o.ADAPTATION_LOWER_NODE_LIMIT)/(o.ADAPTATION_UPPER_NODE_LIMIT-o.ADAPTATION_LOWER_NODE_LIMIT)*(1-o.COOLING_ADAPTATION_FACTOR)):this.coolingFactor=1,this.initialCoolingFactor=this.coolingFactor,this.maxNodeDisplacement=o.MAX_NODE_DISPLACEMENT),this.maxIterations=Math.max(this.getAllNodes().length*5,this.maxIterations),this.totalDisplacementThreshold=this.displacementThresholdPerNode*this.getAllNodes().length,this.repulsionRange=this.calcRepulsionRange()},f.prototype.calcSpringForces=function(){for(var d=this.getAllEdges(),p,v=0;v<d.length;v++)p=d[v],this.calcSpringForce(p,p.idealLength)},f.prototype.calcRepulsionForces=function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,v,x,y,w,k=this.getAllNodes(),_;if(this.useFRGridVariant)for(this.totalIterations%o.GRID_CALCULATION_CHECK_PERIOD==1&&d&&this.updateGrid(),_=new Set,v=0;v<k.length;v++)y=k[v],this.calculateRepulsionForceOfANode(y,_,d,p),_.add(y);else for(v=0;v<k.length;v++)for(y=k[v],x=v+1;x<k.length;x++)w=k[x],y.getOwner()==w.getOwner()&&this.calcRepulsionForce(y,w)},f.prototype.calcGravitationalForces=function(){for(var d,p=this.getAllNodesToApplyGravitation(),v=0;v<p.length;v++)d=p[v],this.calcGravitationalForce(d)},f.prototype.moveNodes=function(){for(var d=this.getAllNodes(),p,v=0;v<d.length;v++)p=d[v],p.move()},f.prototype.calcSpringForce=function(d,p){var v=d.getSource(),x=d.getTarget(),y,w,k,_;if(this.uniformLeafNodeSizes&&v.getChild()==null&&x.getChild()==null)d.updateLengthSimple();else if(d.updateLength(),d.isOverlapingSourceAndTarget)return;y=d.getLength(),y!=0&&(w=this.springConstant*(y-p),k=w*(d.lengthX/y),_=w*(d.lengthY/y),v.springForceX+=k,v.springForceY+=_,x.springForceX-=k,x.springForceY-=_)},f.prototype.calcRepulsionForce=function(d,p){var v=d.getRect(),x=p.getRect(),y=new Array(2),w=new Array(4),k,_,C,T,E,A,R;if(v.intersects(x)){u.calcSeparationAmount(v,x,y,o.DEFAULT_EDGE_LENGTH/2),A=2*y[0],R=2*y[1];var D=d.noOfChildren*p.noOfChildren/(d.noOfChildren+p.noOfChildren);d.repulsionForceX-=D*A,d.repulsionForceY-=D*R,p.repulsionForceX+=D*A,p.repulsionForceY+=D*R}else this.uniformLeafNodeSizes&&d.getChild()==null&&p.getChild()==null?(k=x.getCenterX()-v.getCenterX(),_=x.getCenterY()-v.getCenterY()):(u.getIntersection(v,x,w),k=w[2]-w[0],_=w[3]-w[1]),Math.abs(k)<o.MIN_REPULSION_DIST&&(k=c.sign(k)*o.MIN_REPULSION_DIST),Math.abs(_)<o.MIN_REPULSION_DIST&&(_=c.sign(_)*o.MIN_REPULSION_DIST),C=k*k+_*_,T=Math.sqrt(C),E=this.repulsionConstant*d.noOfChildren*p.noOfChildren/C,A=E*k/T,R=E*_/T,d.repulsionForceX-=A,d.repulsionForceY-=R,p.repulsionForceX+=A,p.repulsionForceY+=R},f.prototype.calcGravitationalForce=function(d){var p,v,x,y,w,k,_,C;p=d.getOwner(),v=(p.getRight()+p.getLeft())/2,x=(p.getTop()+p.getBottom())/2,y=d.getCenterX()-v,w=d.getCenterY()-x,k=Math.abs(y)+d.getWidth()/2,_=Math.abs(w)+d.getHeight()/2,d.getOwner()==this.graphManager.getRoot()?(C=p.getEstimatedSize()*this.gravityRangeFactor,(k>C||_>C)&&(d.gravitationForceX=-this.gravityConstant*y,d.gravitationForceY=-this.gravityConstant*w)):(C=p.getEstimatedSize()*this.compoundGravityRangeFactor,(k>C||_>C)&&(d.gravitationForceX=-this.gravityConstant*y*this.compoundGravityConstant,d.gravitationForceY=-this.gravityConstant*w*this.compoundGravityConstant))},f.prototype.isConverged=function(){var d,p=!1;return this.totalIterations>this.maxIterations/3&&(p=Math.abs(this.totalDisplacement-this.oldTotalDisplacement)<2),d=this.totalDisplacement<this.totalDisplacementThreshold,this.oldTotalDisplacement=this.totalDisplacement,d||p},f.prototype.animate=function(){this.animationDuringLayout&&!this.isSubLayout&&(this.notAnimatedIterations==this.animationPeriod?(this.update(),this.notAnimatedIterations=0):this.notAnimatedIterations++)},f.prototype.calcNoOfChildrenForAllNodes=function(){for(var d,p=this.graphManager.getAllNodes(),v=0;v<p.length;v++)d=p[v],d.noOfChildren=d.getNoOfChildren()},f.prototype.calcGrid=function(d){var p=0,v=0;p=parseInt(Math.ceil((d.getRight()-d.getLeft())/this.repulsionRange)),v=parseInt(Math.ceil((d.getBottom()-d.getTop())/this.repulsionRange));for(var x=new Array(p),y=0;y<p;y++)x[y]=new Array(v);for(var y=0;y<p;y++)for(var w=0;w<v;w++)x[y][w]=new Array;return x},f.prototype.addNodeToGrid=function(d,p,v){var x=0,y=0,w=0,k=0;x=parseInt(Math.floor((d.getRect().x-p)/this.repulsionRange)),y=parseInt(Math.floor((d.getRect().width+d.getRect().x-p)/this.repulsionRange)),w=parseInt(Math.floor((d.getRect().y-v)/this.repulsionRange)),k=parseInt(Math.floor((d.getRect().height+d.getRect().y-v)/this.repulsionRange));for(var _=x;_<=y;_++)for(var C=w;C<=k;C++)this.grid[_][C].push(d),d.setGridCoordinates(x,y,w,k)},f.prototype.updateGrid=function(){var d,p,v=this.getAllNodes();for(this.grid=this.calcGrid(this.graphManager.getRoot()),d=0;d<v.length;d++)p=v[d],this.addNodeToGrid(p,this.graphManager.getRoot().getLeft(),this.graphManager.getRoot().getTop())},f.prototype.calculateRepulsionForceOfANode=function(d,p,v,x){if(this.totalIterations%o.GRID_CALCULATION_CHECK_PERIOD==1&&v||x){var y=new Set;d.surrounding=new Array;for(var w,k=this.grid,_=d.startX-1;_<d.finishX+2;_++)for(var C=d.startY-1;C<d.finishY+2;C++)if(!(_<0||C<0||_>=k.length||C>=k[0].length)){for(var T=0;T<k[_][C].length;T++)if(w=k[_][C][T],!(d.getOwner()!=w.getOwner()||d==w)&&!p.has(w)&&!y.has(w)){var E=Math.abs(d.getCenterX()-w.getCenterX())-(d.getWidth()/2+w.getWidth()/2),A=Math.abs(d.getCenterY()-w.getCenterY())-(d.getHeight()/2+w.getHeight()/2);E<=this.repulsionRange&&A<=this.repulsionRange&&y.add(w)}}d.surrounding=[].concat(a(y))}for(_=0;_<d.surrounding.length;_++)this.calcRepulsionForce(d,d.surrounding[_])},f.prototype.calcRepulsionRange=function(){return 0},n.exports=f},function(n,r,i){var a=i(1),s=i(7);function o(u,c,f){a.call(this,u,c,f),this.idealLength=s.DEFAULT_EDGE_LENGTH}o.prototype=Object.create(a.prototype);for(var l in a)o[l]=a[l];n.exports=o},function(n,r,i){var a=i(3);function s(l,u,c,f){a.call(this,l,u,c,f),this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0,this.startX=0,this.finishX=0,this.startY=0,this.finishY=0,this.surrounding=[]}s.prototype=Object.create(a.prototype);for(var o in a)s[o]=a[o];s.prototype.setGridCoordinates=function(l,u,c,f){this.startX=l,this.finishX=u,this.startY=c,this.finishY=f},n.exports=s},function(n,r,i){function a(s,o){this.width=0,this.height=0,s!==null&&o!==null&&(this.height=o,this.width=s)}a.prototype.getWidth=function(){return this.width},a.prototype.setWidth=function(s){this.width=s},a.prototype.getHeight=function(){return this.height},a.prototype.setHeight=function(s){this.height=s},n.exports=a},function(n,r,i){var a=i(14);function s(){this.map={},this.keys=[]}s.prototype.put=function(o,l){var u=a.createID(o);this.contains(u)||(this.map[u]=l,this.keys.push(o))},s.prototype.contains=function(o){return a.createID(o),this.map[o]!=null},s.prototype.get=function(o){var l=a.createID(o);return this.map[l]},s.prototype.keySet=function(){return this.keys},n.exports=s},function(n,r,i){var a=i(14);function s(){this.set={}}s.prototype.add=function(o){var l=a.createID(o);this.contains(l)||(this.set[l]=o)},s.prototype.remove=function(o){delete this.set[a.createID(o)]},s.prototype.clear=function(){this.set={}},s.prototype.contains=function(o){return this.set[a.createID(o)]==o},s.prototype.isEmpty=function(){return this.size()===0},s.prototype.size=function(){return Object.keys(this.set).length},s.prototype.addAllTo=function(o){for(var l=Object.keys(this.set),u=l.length,c=0;c<u;c++)o.push(this.set[l[c]])},s.prototype.size=function(){return Object.keys(this.set).length},s.prototype.addAll=function(o){for(var l=o.length,u=0;u<l;u++){var c=o[u];this.add(c)}},n.exports=s},function(n,r,i){var a=function(){function u(c,f){for(var h=0;h<f.length;h++){var d=f[h];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(c,d.key,d)}}return function(c,f,h){return f&&u(c.prototype,f),h&&u(c,h),c}}();function s(u,c){if(!(u instanceof c))throw new TypeError("Cannot call a class as a function")}var o=i(11),l=function(){function u(c,f){s(this,u),(f!==null||f!==void 0)&&(this.compareFunction=this._defaultCompareFunction);var h=void 0;c instanceof o?h=c.size():h=c.length,this._quicksort(c,0,h-1)}return a(u,[{key:"_quicksort",value:function(f,h,d){if(h<d){var p=this._partition(f,h,d);this._quicksort(f,h,p),this._quicksort(f,p+1,d)}}},{key:"_partition",value:function(f,h,d){for(var p=this._get(f,h),v=h,x=d;;){for(;this.compareFunction(p,this._get(f,x));)x--;for(;this.compareFunction(this._get(f,v),p);)v++;if(v<x)this._swap(f,v,x),v++,x--;else return x}}},{key:"_get",value:function(f,h){return f instanceof o?f.get_object_at(h):f[h]}},{key:"_set",value:function(f,h,d){f instanceof o?f.set_object_at(h,d):f[h]=d}},{key:"_swap",value:function(f,h,d){var p=this._get(f,h);this._set(f,h,this._get(f,d)),this._set(f,d,p)}},{key:"_defaultCompareFunction",value:function(f,h){return h>f}}]),u}();n.exports=l},function(n,r,i){var a=function(){function l(u,c){for(var f=0;f<c.length;f++){var h=c[f];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(u,h.key,h)}}return function(u,c,f){return c&&l(u.prototype,c),f&&l(u,f),u}}();function s(l,u){if(!(l instanceof u))throw new TypeError("Cannot call a class as a function")}var o=function(){function l(u,c){var f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,h=arguments.length>3&&arguments[3]!==void 0?arguments[3]:-1,d=arguments.length>4&&arguments[4]!==void 0?arguments[4]:-1;s(this,l),this.sequence1=u,this.sequence2=c,this.match_score=f,this.mismatch_penalty=h,this.gap_penalty=d,this.iMax=u.length+1,this.jMax=c.length+1,this.grid=new Array(this.iMax);for(var p=0;p<this.iMax;p++){this.grid[p]=new Array(this.jMax);for(var v=0;v<this.jMax;v++)this.grid[p][v]=0}this.tracebackGrid=new Array(this.iMax);for(var x=0;x<this.iMax;x++){this.tracebackGrid[x]=new Array(this.jMax);for(var y=0;y<this.jMax;y++)this.tracebackGrid[x][y]=[null,null,null]}this.alignments=[],this.score=-1,this.computeGrids()}return a(l,[{key:"getScore",value:function(){return this.score}},{key:"getAlignments",value:function(){return this.alignments}},{key:"computeGrids",value:function(){for(var c=1;c<this.jMax;c++)this.grid[0][c]=this.grid[0][c-1]+this.gap_penalty,this.tracebackGrid[0][c]=[!1,!1,!0];for(var f=1;f<this.iMax;f++)this.grid[f][0]=this.grid[f-1][0]+this.gap_penalty,this.tracebackGrid[f][0]=[!1,!0,!1];for(var h=1;h<this.iMax;h++)for(var d=1;d<this.jMax;d++){var p=void 0;this.sequence1[h-1]===this.sequence2[d-1]?p=this.grid[h-1][d-1]+this.match_score:p=this.grid[h-1][d-1]+this.mismatch_penalty;var v=this.grid[h-1][d]+this.gap_penalty,x=this.grid[h][d-1]+this.gap_penalty,y=[p,v,x],w=this.arrayAllMaxIndexes(y);this.grid[h][d]=y[w[0]],this.tracebackGrid[h][d]=[w.includes(0),w.includes(1),w.includes(2)]}this.score=this.grid[this.iMax-1][this.jMax-1]}},{key:"alignmentTraceback",value:function(){var c=[];for(c.push({pos:[this.sequence1.length,this.sequence2.length],seq1:"",seq2:""});c[0];){var f=c[0],h=this.tracebackGrid[f.pos[0]][f.pos[1]];h[0]&&c.push({pos:[f.pos[0]-1,f.pos[1]-1],seq1:this.sequence1[f.pos[0]-1]+f.seq1,seq2:this.sequence2[f.pos[1]-1]+f.seq2}),h[1]&&c.push({pos:[f.pos[0]-1,f.pos[1]],seq1:this.sequence1[f.pos[0]-1]+f.seq1,seq2:"-"+f.seq2}),h[2]&&c.push({pos:[f.pos[0],f.pos[1]-1],seq1:"-"+f.seq1,seq2:this.sequence2[f.pos[1]-1]+f.seq2}),f.pos[0]===0&&f.pos[1]===0&&this.alignments.push({sequence1:f.seq1,sequence2:f.seq2}),c.shift()}return this.alignments}},{key:"getAllIndexes",value:function(c,f){for(var h=[],d=-1;(d=c.indexOf(f,d+1))!==-1;)h.push(d);return h}},{key:"arrayAllMaxIndexes",value:function(c){return this.getAllIndexes(c,Math.max.apply(null,c))}}]),l}();n.exports=o},function(n,r,i){var a=function(){};a.FDLayout=i(18),a.FDLayoutConstants=i(7),a.FDLayoutEdge=i(19),a.FDLayoutNode=i(20),a.DimensionD=i(21),a.HashMap=i(22),a.HashSet=i(23),a.IGeometry=i(8),a.IMath=i(9),a.Integer=i(10),a.Point=i(12),a.PointD=i(4),a.RandomSeed=i(16),a.RectangleD=i(13),a.Transform=i(17),a.UniqueIDGeneretor=i(14),a.Quicksort=i(24),a.LinkedList=i(11),a.LGraphObject=i(2),a.LGraph=i(5),a.LEdge=i(1),a.LGraphManager=i(6),a.LNode=i(3),a.Layout=i(15),a.LayoutConstants=i(0),a.NeedlemanWunsch=i(25),n.exports=a},function(n,r,i){function a(){this.listeners=[]}var s=a.prototype;s.addListener=function(o,l){this.listeners.push({event:o,callback:l})},s.removeListener=function(o,l){for(var u=this.listeners.length;u>=0;u--){var c=this.listeners[u];c.event===o&&c.callback===l&&this.listeners.splice(u,1)}},s.emit=function(o,l){for(var u=0;u<this.listeners.length;u++){var c=this.listeners[u];o===c.event&&c.callback(l)}},n.exports=a}])})}(uy)),uy.exports}var Q9;function Uae(){return Q9||(Q9=1,function(e,t){(function(r,i){e.exports=i(Vae())})(w4,function(n){return function(r){var i={};function a(s){if(i[s])return i[s].exports;var o=i[s]={i:s,l:!1,exports:{}};return r[s].call(o.exports,o,o.exports,a),o.l=!0,o.exports}return a.m=r,a.c=i,a.i=function(s){return s},a.d=function(s,o,l){a.o(s,o)||Object.defineProperty(s,o,{configurable:!1,enumerable:!0,get:l})},a.n=function(s){var o=s&&s.__esModule?function(){return s.default}:function(){return s};return a.d(o,"a",o),o},a.o=function(s,o){return Object.prototype.hasOwnProperty.call(s,o)},a.p="",a(a.s=6)}([function(r,i){r.exports=n},function(r,i,a){var s=a(0).LGraph;function o(u,c,f){s.call(this,u,c,f),this.inOrder=void 0,this.currentIndex=0,this.nodeSeparation=void 0,this.stack=[],this.perimeter=0,this.centerX=0,this.centerY=0,this.radius=0}o.prototype=Object.create(s.prototype);for(var l in s)o[l]=s[l];o.prototype.initOrdering=function(){this.inOrder=[]},o.prototype.getOrder=function(){return this.inOrder},o.prototype.getCenterX=function(){return this.centerX},o.prototype.getCenterY=function(){return this.centerY},o.prototype.getRadius=function(){return this.radius},o.prototype.getSize=function(){return this.getNodes().length},o.prototype.getTotalCrossingOfCircle=function(){var u=this,c=0;for(var f in u.inOrder){var h=f.getTotalCrossingOfEdges();if(h===-1)return-1;c+=h}return c/4},o.prototype.hasFinishedOrdering=function(){return this.currentIndex===this.getNodes().length},o.prototype.getNodeSeparation=function(){return this.nodeSeparation},o.prototype.setNodeSeparation=function(u){this.nodeSeparation=u},o.prototype.correctAngles=function(){var u=this;u.currentIndex=0,u.inOrder.forEach(function(c){return u.putInOrder(c)})},o.prototype.putInOrder=function(u){for(var c=this,f=c.getNodes(),h=!1,d=0;d<f.length;d++)if(f[d].id==u.id){h=!0;break}if(!h)throw"The node must be a member of LGraph";c.inOrder[c.currentIndex]=u,u.setIndex(c.currentIndex),c.currentIndex===0?u.setAngle(0):u.setAngle(c.inOrder[c.currentIndex-1].getAngle()+2*Math.PI*(u.getDiagonal()/2+c.nodeSeparation+c.inOrder[c.currentIndex-1].getDiagonal()/2)/c.perimeter),c.currentIndex++},o.prototype.findNodeToPlace=function(){var u=this,c=void 0;if(u.stack.length===0)c=u.findUnorderedSmallestDegreeNode();else{for(var f=!1;!f&&u.stack.length!==0;)c=u.stack.pop(),f=!c.isOrdered();f||(c=void 0)}if(c===void 0&&(c=u.findUnorderedSmallestDegreeNode()),c!==void 0)for(var h=c.getNeighborsSortedByDegree(),d=h.length-1;d>=0;d--){var p=h[d];p.isOrdered()||u.stack.push(p)}return c},o.prototype.calculateRadius=function(){var u=this,c=0;u.getNodes().forEach(function(h){return c+=Math.sqrt(h.getWidth()*h.getWidth()+h.getHeight()*h.getHeight())}),u.perimeter=c+u.getNodes().length*u.nodeSeparation;var f=u.perimeter/(2*Math.PI);u.getParent().setWidth(2*f),u.getParent().setHeight(2*f),u.getParent().setCenter(u.getParent().getWidth(),u.getParent().getHeight()),u.centerX=u.getParent().getCenterX(),u.centerY=u.getParent().getCenterY(),u.radius=u.getParent().getHeight()/2},o.prototype.calculateEdgeCrossingsOfNodes=function(){this.getNodes().forEach(function(u){return u.calculateTotalCrossing()})},o.prototype.loadOldIndicesOfNodes=function(){for(var u=this,c=0;c<this.inOrder.length;c++)u.inOrder[c].setIndex(c)},o.prototype.reOrderVertices=function(){var u=this;this.getNodes().forEach(function(c){return u.inOrder[c.getIndex()]=c})},o.prototype.findUnorderedSmallestDegreeNode=function(){var u=Number.MAX_SAFE_INTEGER,c=void 0;return this.getNodes().forEach(function(f){f.getDegree()<u&&!f.isOrdered()&&(u=f.getDegree(),c=f)}),c},r.exports=o},function(r,i,a){var s=a(0).LayoutConstants;function o(){}for(var l in s)o[l]=s[l];o.DEFAULT_NODE_SEPARATION=60,r.exports=o},function(r,i,a){var s=a(0).LEdge;function o(u,c,f){s.call(this,u,c,f)}o.prototype=Object.create(s.prototype);for(var l in s)o[l]=s[l];o.prototype.getOtherEnd=function(u){return s.prototype.getOtherEnd(u)},o.prototype.crossesWithEdge=function(u){var c=this,f=c.getSource().getIndex(),h=c.getTarget().getIndex(),d=u.getSource().getIndex(),p=u.getTarget().getIndex();if(f===-1||h===-1||d===-1||p===-1)return!1;var v=u.getSource().getCircDistWithTheNode(c.getSource()),x=u.getTarget().getCircDistWithTheNode(c.getSource()),y=c.getTarget().getCircDistWithTheNode(c.getSource());return y<Math.max(v,x)&&y>Math.min(v,x)&&x!==0&&v!==0},o.prototype.crossingWithEdge=function(u){var c=this,f=c.crossesWithEdge(u);return f?1:0},o.prototype.calculateTotalCrossingWithList=function(u){var c=this,f=0;return u.forEach(function(h){return f+=c.crossingWithEdge(h)}),f},r.exports=o},function(r,i,a){var s=a(0).LNode;a(0).Quicksort;function o(u,c,f,h){f!==void 0&&h!==void 0?s.call(this,u,c,f,h):s.call(this,u,c),this.angle=0,this.circleIndex=-1,this.totalCrossingOfEdges=-1,this.isCrossingNumberValid=!1}o.prototype=Object.create(s.prototype);for(var l in s)o[l]=s[l];o.prototype.getCircle=function(){return this.getOwner()},o.prototype.setIndex=function(u){this.circleIndex=u,this.isCrossingNumberValid=!1},o.prototype.getIndex=function(){return this.circleIndex},o.prototype.getNeighborsSortedByDegree=function(){var u=this,c=Array.from(u.getNeighborsList());return c=c.filter(function(f){return f.getIndex()===-1}),c.sort(function(f,h){return f.getDegree()-h.getDegree()}),c},o.prototype.getDegree=function(){return this.getEdges().length},o.prototype.isOrdered=function(){return this.getIndex()>-1},o.prototype.setAngle=function(u){this.angle=u},o.prototype.getAngle=function(){return this.angle},o.prototype.getCircDistWithTheNode=function(u){var c=this,f=u.getIndex();if(f===-1||c.getIndex()===-1)return-1;var h=c.getIndex()-f;return h<0&&(h+=c.getCircle().getSize()),h},o.prototype.getCrossingNumberWithNode=function(u){var c=this,f=0;return c.getEdges().forEach(function(h){u.getEdges().forEach(function(d){f+=h.crossingWithEdge(d)})}),f},o.prototype.getTotalCrossingOfEdges=function(){var u=this;return u.isCrossingNumberValid||(u.calculateTotalCrossing(),u.isCrossingNumberValid=!0),u.totalCrossingOfEdges},o.prototype.calculateTotalCrossing=function(){var u=this,c=0,f=[];f.push.apply(f,u.getCircle().getEdges()),f=f.filter(function(h){return u.getEdges().indexOf(h)<0}),u.getEdges().forEach(function(h){return c+=h.calculateTotalCrossingWithList(f)}),u.totalCrossingOfEdges=c},r.exports=o},function(r,i,a){var s=a(0).Layout,o=a(2),l=a(1),u=a(4),c=a(3);function f(){s.call(this),this.nodeSeparation=o.DEFAULT_NODE_SEPARATION}f.prototype=Object.create(s.prototype);for(var h in s)f[h]=s[h];f.prototype.newGraph=function(d){return this.avsdfCircle=new l(null,this.graphManager,d),this.avsdfCircle},f.prototype.newNode=function(d){return new u(this.graphManager,d)},f.prototype.newEdge=function(d){return new c(null,null,d)},f.prototype.getPositionsData=function(){for(var d=this.graphManager.getAllNodes(),p={},v=0;v<d.length;v++){var x=d[v].rect,y=d[v].id;p[y]={id:y,x:x.getCenterX(),y:x.getCenterY(),w:x.width,h:x.height}}return p},f.prototype.layout=function(){var d=this;if(d.graphManager.getGraphs().length>1)return!1;var p=this.avsdfCircle;for(p.setNodeSeparation(this.nodeSeparation),p.calculateRadius(),p.initOrdering();!p.hasFinishedOrdering();){var v=p.findNodeToPlace();p.putInOrder(v)}return!0},f.prototype.updateNodeAngles=function(){this.graphManager.getRoot().correctAngles()},f.prototype.updateNodeCoordinates=function(){var d=this.graphManager.getRoot();d.getNodes().forEach(function(p){p.setCenter(d.getCenterX()+d.getRadius()*Math.cos(p.getAngle()),d.getCenterY()+d.getRadius()*Math.sin(p.getAngle()))})},f.prototype.initPostProcess=function(){this.avsdfCircle.calculateEdgeCrossingsOfNodes();var d=this.avsdfCircle.getNodes();return d.sort(function(p,v){return v.getTotalCrossingOfEdges()-p.getTotalCrossingOfEdges()}),d},f.prototype.oneStepPostProcess=function(d){for(var p=this,v=d.getTotalCrossingOfEdges(),x=void 0,y=Array.from(d.getNeighborsList()),w=0;w<y.length;w++){var k=y[w],_=d.getIndex(),C=(k.getIndex()+1)%p.avsdfCircle.getSize();if(_!==C){d.setIndex(C),_<d.getIndex()&&(_+=p.avsdfCircle.getSize());for(var T=d.getIndex();T<_;){var E=p.avsdfCircle.getOrder()[T%p.avsdfCircle.getSize()];E.setIndex((E.getIndex()+1)%p.avsdfCircle.getSize()),T+=1}d.calculateTotalCrossing(),x=d.getTotalCrossingOfEdges(),x>=v?p.avsdfCircle.loadOldIndicesOfNodes():(p.avsdfCircle.reOrderVertices(),v=x)}}},r.exports=f},function(r,i,a){var s={};s.layoutBase=a(0),s.AVSDFConstants=a(2),s.AVSDFEdge=a(3),s.AVSDFCircle=a(1),s.AVSDFLayout=a(5),s.AVSDFNode=a(4),r.exports=s}])})}(ly)),ly.exports}(function(e,t){(function(r,i){e.exports=i(Uae())})(w4,function(n){return function(r){var i={};function a(s){if(i[s])return i[s].exports;var o=i[s]={i:s,l:!1,exports:{}};return r[s].call(o.exports,o,o.exports,a),o.l=!0,o.exports}return a.m=r,a.c=i,a.i=function(s){return s},a.d=function(s,o,l){a.o(s,o)||Object.defineProperty(s,o,{configurable:!1,enumerable:!0,get:l})},a.n=function(s){var o=s&&s.__esModule?function(){return s.default}:function(){return s};return a.d(o,"a",o),o},a.o=function(s,o){return Object.prototype.hasOwnProperty.call(s,o)},a.p="",a(a.s=3)}([function(r,i){r.exports=n},function(r,i,a){r.exports=Object.assign!=null?Object.assign.bind(Object):function(s){for(var o=arguments.length,l=Array(o>1?o-1:0),u=1;u<o;u++)l[u-1]=arguments[u];return l.forEach(function(c){Object.keys(c).forEach(function(f){return s[f]=c[f]})}),s}},function(r,i,a){r.exports=a(4)},function(r,i,a){var s=a(2),o=function(u){u&&u("layout","avsdf",s)};typeof cytoscape<"u"&&o(cytoscape),r.exports=o},function(r,i,a){var s=function(){function _(C,T){for(var E=0;E<T.length;E++){var A=T[E];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(C,A.key,A)}}return function(C,T,E){return T&&_(C.prototype,T),E&&_(C,E),C}}(),o=function _(C,T,E){C===null&&(C=Function.prototype);var A=Object.getOwnPropertyDescriptor(C,T);if(A===void 0){var R=Object.getPrototypeOf(C);return R===null?void 0:_(R,T,E)}else{if("value"in A)return A.value;var D=A.get;return D===void 0?void 0:D.call(E)}};function l(_,C){if(!(_ instanceof C))throw new TypeError("Cannot call a class as a function")}function u(_,C){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C&&(typeof C=="object"||typeof C=="function")?C:_}function c(_,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof C);_.prototype=Object.create(C&&C.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(_,C):_.__proto__=C)}var f=a(0).AVSDFLayout,h=a(0).AVSDFNode,d=a(0).AVSDFConstants,p=a(0).layoutBase.PointD,v=a(0).layoutBase.DimensionD,x=a(1),y=a(6),w={ready:function(){},stop:function(){},refresh:30,fit:!0,padding:10,randomize:!1,animate:"end",animationDuration:500,nodeSeparation:60},k=function(_){c(C,_);function C(T){l(this,C);var E=u(this,(C.__proto__||Object.getPrototypeOf(C)).call(this,x({},w,T)));return T.nodeSeparation!=null?d.DEFAULT_NODE_SEPARATION=T.nodeSeparation:d.DEFAULT_NODE_SEPARATION=w.nodeSeparation,E}return s(C,[{key:"prerun",value:function(){var E=this.state,A=this.avsdfLayout=new f,R=this.graphManager=A.newGraphManager(),D=this.root=R.addRoot(),N=E.nodes,z=E.edges;this.idToLNode={},this.processChildrenList(D,N,A);for(var j=0;j<z.length;j++){var V=z[j],Y=this.idToLNode[V.data("source")],Z=this.idToLNode[V.data("target")];if(Y!==Z&&Y.getEdgesBetween(Z).length===0){var X=R.add(A.newEdge(),Y,Z);X.id=V.id()}}A.layout(),A.updateNodeCoordinates(),this.sortedByDegreeList=A.initPostProcess()}},{key:"tick",value:function(){var E=this,A=this.state,R=this.avsdfLayout.getPositionsData();if(A.nodes.forEach(function(D){var N=E.getScratch(D);N.x=R[D.data("id")].x,N.y=R[D.data("id")].y}),A.tickIndex>=A.nodes.size())return!0;this.avsdfLayout.oneStepPostProcess(this.sortedByDegreeList[A.tickIndex]),this.avsdfLayout.updateNodeAngles(),this.avsdfLayout.updateNodeCoordinates()}},{key:"postrun",value:function(){}},{key:"destroy",value:function(){return o(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"destroy",this).call(this),this}},{key:"processChildrenList",value:function(E,A,R){for(var D=A.length,N=0;N<D;N++){var z=A[N],j=void 0,V=z.layoutDimensions({nodeDimensionsIncludeLabels:!1});z.outerWidth()!=null&&z.outerHeight()!=null?j=E.add(new h(R.graphManager,null,new p(z.position("x")-V.w/2,z.position("y")-V.h/2),new v(parseFloat(V.w),parseFloat(V.h)))):j=E.add(new h(this.graphManager)),j.id=z.data("id"),j.paddingLeft=parseInt(z.css("padding")),j.paddingTop=parseInt(z.css("padding")),j.paddingRight=parseInt(z.css("padding")),j.paddingBottom=parseInt(z.css("padding")),this.idToLNode[z.data("id")]=j,isNaN(j.rect.x)&&(j.rect.x=0),isNaN(j.rect.y)&&(j.rect.y=0)}}}]),C}(y);r.exports=k},function(r,i,a){r.exports=Object.freeze({animate:!0,refresh:10,maxIterations:1e3,ungrabifyWhileSimulating:!1,fit:!0,padding:30,boundingBox:void 0,ready:function(){},stop:function(){},randomize:!1,infinite:!1})},function(r,i,a){var s=function(){function w(k,_){for(var C=0;C<_.length;C++){var T=_[C];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(k,T.key,T)}}return function(k,_,C){return _&&w(k.prototype,_),C&&w(k,C),k}}();function o(w,k){if(!(w instanceof k))throw new TypeError("Cannot call a class as a function")}var l=a(1),u=a(5),c=a(7),f=a(8),h=f.setInitialPositionState,d=f.refreshPositions,p=f.getNodePositionData,v=a(9),x=v.multitick,y=function(){function w(k){o(this,w);var _=this.options=l({},u,k),C=this.state=l({},_,{layout:this,nodes:_.eles.nodes(),edges:_.eles.edges(),tickIndex:0,firstUpdate:!0});C.animateEnd=_.animate&&_.animate==="end",C.animateContinuously=_.animate&&!C.animateEnd}return s(w,[{key:"getScratch",value:function(_){var C=this.state.name,T=_.scratch(C);return T||(T={},_.scratch(C,T)),T}},{key:"run",value:function(){var _=this,C=this.state;if(C.tickIndex=0,C.firstUpdate=!0,C.startTime=Date.now(),C.running=!0,C.currentBoundingBox=c(C.boundingBox,C.cy),C.ready&&_.one("ready",C.ready),C.stop&&_.one("stop",C.stop),C.nodes.forEach(function(K){return h(K,C)}),_.prerun(C),C.animateContinuously){var T=function(J){if(C.ungrabifyWhileSimulating){var q=p(J,C).grabbable=J.grabbable();q&&J.ungrabify()}},E=function(J){if(C.ungrabifyWhileSimulating){var q=p(J,C).grabbable;q&&J.grabify()}},A=function(J){return p(J,C).grabbed=J.grabbed()},R=function(J){var q=J.target;A(q)},D=R,N=function(J){var q=J.target,he=p(q,C),de=q.position();he.x=de.x,he.y=de.y},z=function(J){J.on("grab",R),J.on("free",D),J.on("drag",N)},j=function(J){J.removeListener("grab",R),J.removeListener("free",D),J.removeListener("drag",N)},V=function(){C.fit&&C.animateContinuously&&C.cy.fit(C.padding)},Y=function(){d(C.nodes,C),V(),requestAnimationFrame(Z)},Z=function(){x(C,Y,X)},X=function(){d(C.nodes,C),V(),C.nodes.forEach(function(J){E(J),j(J)}),C.running=!1,_.emit("layoutstop")};_.emit("layoutstart"),C.nodes.forEach(function(K){T(K),z(K)}),Z()}else{for(var G=!1,ee=function(){},B=function(){return G=!0};!G;)x(C,ee,B);C.eles.layoutPositions(this,C,function(K){var J=p(K,C);return{x:J.x,y:J.y}})}return _.postrun(C),this}},{key:"prerun",value:function(){}},{key:"postrun",value:function(){}},{key:"tick",value:function(){}},{key:"stop",value:function(){return this.state.running=!1,this}},{key:"destroy",value:function(){return this}}]),w}();r.exports=y},function(r,i,a){r.exports=function(s,o){return s==null?s={x1:0,y1:0,w:o.width(),h:o.height()}:s={x1:s.x1,x2:s.x2,y1:s.y1,y2:s.y2,w:s.w,h:s.h},s.x2==null&&(s.x2=s.x1+s.w),s.w==null&&(s.w=s.x2-s.x1),s.y2==null&&(s.y2=s.y1+s.h),s.h==null&&(s.h=s.y2-s.y1),s}},function(r,i,a){var s=a(1),o=function(f,h){var d=f.position(),p=h.currentBoundingBox,v=f.scratch(h.name);v==null&&(v={},f.scratch(h.name,v)),s(v,h.randomize?{x:p.x1+Math.round(Math.random()*p.w),y:p.y1+Math.round(Math.random()*p.h)}:{x:d.x,y:d.y}),v.locked=f.locked()},l=function(f,h){return f.scratch(h.name)},u=function(f,h){f.positions(function(d){var p=d.scratch(h.name);return{x:p.x,y:p.y}})};r.exports={setInitialPositionState:o,getNodePositionData:l,refreshPositions:u}},function(r,i,a){var s=function(){},o=function(c){var f=c,h=c.layout,d=h.tick(f);return f.firstUpdate&&(f.animateContinuously&&f.layout.emit("layoutready"),f.firstUpdate=!1),f.tickIndex++,Date.now()-f.startTime,!f.infinite&&d},l=function(c){for(var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:s,h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:s,d=!1,p=c,v=0;v<p.refresh&&(d=!p.running||o(p),!d);v++);d?h():f()};r.exports={tick:o,multitick:l}}])})})(GA);var Wae=GA.exports;const Gae=el(Wae),Yae=({qTable:e,rewardsTable:t,currentStateIx:n,currentActionIx:r,actionStatus:i,markovChainMode:a,epsilon:s})=>{const o=wx(),l=te.useRef(null),u=te.useMemo(()=>a==="rewards"?t:a==="qTable"?e:e.map((p,v)=>{const x=Math.max(...p.filter(w=>w!=null)),y=p.findIndex(w=>w===x);return p.map((w,k)=>{if(v!==k)return k==y?1-2*s/3:s/3})}),[a,e,t,s]);Ws.use(Gae);const c=te.useMemo(()=>{const p=u.length,v=[];for(let x=0;x<p;x++)v.push({data:{id:`n${x}`,label:`State ${x}`,type:"ellipse",bgImage:`crawler/state_${x}.png`,active:x===n?"true":"false"},grabbable:!1});for(let x=0;x<p;x++)for(let y=0;y<p;y++){const w=u[x][y];console.log(w),w!==void 0&&(console.log("added"),v.push({data:{id:`e${x}-${y}`,source:`n${x}`,target:`n${y}`,weight:w!==null?w:x===n&&y===r?0:"?",label:a==="epsilon"?"":w!==null?w>0?`+${w}`:`${w}`:"?",active:x===n&&y===r?"true":"false"}}))}return v},[r,n,u,a]),f=[{selector:"node",style:{height:20,width:20,"background-color":"#fafafa","background-image":"data(bgImage)","background-fit":"cover","font-size":8,"border-width":.2,"border-color":"#080808","overlay-opacity":0}},{selector:'node[active = "true"]',style:{height:22,width:22,"background-color":"#ddd","transition-property":"width","transition-duration":.2}},{selector:"edge",style:{"curve-style":"bezier","control-point-step-size":10,"line-color":"#ddd",width:.5,"target-arrow-shape":"triangle","target-arrow-color":"#ddd","arrow-scale":.3,label:"data(label)","font-size":3,"font-weight":700,"font-family":"Lato",color:"#ddd","text-outline-width":.5,"text-outline-color":"#fff","overlay-opacity":0}},{selector:"edge[weight > 0]",style:{"line-color":o.green,"target-arrow-color":o.green,color:o.green}},{selector:"edge[weight < 0]",style:{"line-color":o.red,"target-arrow-color":o.red,color:o.red}},{selector:"edge[weight = 0]",style:{"line-color":o.darkGray,"target-arrow-color":o.darkGray,color:o.darkGray}},{selector:'edge[active = "true"]',style:{"line-style":"dashed","line-dash-pattern":[2,1],"line-dash-offset":0,width:.75,"arrow-scale":.5,"font-size":4,"text-outline-width":.75}},{selector:'edge[active = "true"][weight="?"]',style:{"line-color":o.black,"target-arrow-color":o.black,color:o.black}},{selector:'edge[active = "true"][weight=0]',style:{"line-color":o.black,"target-arrow-color":o.black,color:o.black}},{selector:'edge[active = "true"][weight>0]',style:{"line-color":o.darkGreen,"target-arrow-color":o.darkGreen,color:o.darkGreen}},{selector:'edge[active = "true"][weight<0]',style:{"line-color":o.darkRed,"target-arrow-color":o.darkRed,color:o.darkRed}}],h=te.useRef(null),d=te.useRef(null);return te.useEffect(()=>{if(l.current)return h.current=Ws({container:l.current,elements:c,style:f,layout:{name:"avsdf"},userZoomingEnabled:!1,userPanningEnabled:!1,zoom:1}),()=>{var p;(p=h.current)==null||p.destroy()}},[]),te.useEffect(()=>{if(!h.current)return;const p=h.current;if(p.elements('[active="true"]').removeClass("active").data("active","false"),p.getElementById(`n${n}`).addClass("active").data("active","true"),r!==null){const v=p.getElementById(`e${n}-${r}`);if(v.addClass("active").data("active","true"),i==="started"){let x=0;d.current&&clearInterval(d.current),d.current=setInterval(()=>{x-=.3,v.style("line-dash-offset",x)},50)}}return()=>{d.current&&clearInterval(d.current)}},[n,r,i]),te.useEffect(()=>{if(!h.current)return;const p=h.current;u.forEach((v,x)=>{v.forEach((y,w)=>{const k=p.getElementById(`e${x}-${w}`);k&&k.data({weight:y??"?",label:y!=null?y>0?`+${y}`:`${y}`:"?"})})})},[u]),O.jsx("div",{ref:l,style:{width:"100%",aspectRatio:"1/1"}})},Xae=({waitBeforeNextMove:e,handleWaitBeforeNextMoveChange:t,explorationModes:n,currentExplorationMode:r,handleExplorationModeChange:i,handleContinue:a,handlePause:s,handleReset:o,actionType:l,thinkFuture:u,handleThinkFutureChange:c})=>{const{t:f}=tn();return O.jsxs(Qae,{children:[O.jsx(fe.Text,{children:f("Crawler.controls")}),O.jsxs(Kae,{children:[O.jsx(Ba,{onClick:a,icon:O.jsx(Sx,{})}),O.jsx(Ba,{onClick:s,icon:O.jsx(uN,{})}),O.jsx(Ba,{onClick:o,icon:O.jsx(sN,{})})]}),O.jsx(Of,{text:f("Crawler.modeLabel"),value:e,handleChange:t}),O.jsx(Of,{text:f("Crawler.thinkFutureLabel"),value:u,handleChange:c}),O.jsx(db,{segments:n,currentId:r,handleSelectOption:i,label:f("Crawler.explorationLabel")}),O.jsx(fe.Text,{children:f("Crawler.actionTypeLabel")}),O.jsxs(Zae,{children:[O.jsxs(Z9,{$active:l==="exploitation",children:[O.jsx(fe.Text,{children:f("Crawler.actionType.exploitation")}),O.jsx(J9,{style:{backgroundImage:"url(crawler/exploitation.png)"}})]}),O.jsxs(Z9,{$active:l==="exploration",children:[O.jsx(fe.Text,{children:f("Crawler.actionType.exploration")}),O.jsx(J9,{style:{backgroundImage:"url(crawler/exploration.png)"}})]})]})]})},Kae=Pe.div.withConfig({displayName:"CrawlerControls__ButtonRow",componentId:"sc-c4uqox-0"})(["display:grid;grid-template-columns:1fr 1fr 1fr;gap:10px;width:100%;"]),Qae=Pe.div.withConfig({displayName:"CrawlerControls__Wrapper",componentId:"sc-c4uqox-1"})(["width:100%;padding:0 5px 30px 0;display:flex;flex-direction:column;justify-content:flex-start;align-items:flex-start;& > p{font-weight:600;}grid-area:c;"]),Zae=Pe.div.withConfig({displayName:"CrawlerControls__ActionTypesWrapper",componentId:"sc-c4uqox-2"})(["display:flex;justify-content:center;gap:50px;width:100%;padding:10px 0;"]),Z9=Pe.div.withConfig({displayName:"CrawlerControls__ActionTypeBlock",componentId:"sc-c4uqox-3"})(["display:flex;flex-direction:column;& > p{font-weight:700;text-align:center;font-size:16px;}transition:all 0.3s ease-in;& div{filter:",";}padding:0 10px 5px;border-radius:5px;",";"],({$active:e})=>e?"none":"grayscale(100%)",({$active:e})=>e?`
transform: scale(1.1);
border: 2px solid black;
  `:`
transform: scale(0.9);
border: 0px solid black;
  `),J9=Pe.div.withConfig({displayName:"CrawlerControls__ActionImageWrapper",componentId:"sc-c4uqox-4"})(["height:100px;width:100%;align-self:center;background-size:contain;background-position:center;background-repeat:no-repeat;"]),Jae=({active:e,handleClose:t,crawlerSettings:n,setCrawlerSettings:r})=>{const{t:i}=tn();return O.jsx(pb,{$active:e,handleClose:t,children:O.jsxs(O.Fragment,{children:[O.jsx(fe.H3,{children:i("Settings.title")}),O.jsxs(Cc,{children:[O.jsx(fe.Text,{children:i("Settings.distanceSensorPort")}),O.jsx(da,{options:Is.map(a=>({id:a,text:a})),currentOptionId:n.distanceSensorPort,handleOptionSelect:a=>r(s=>({...s,distanceSensorPort:a})),width:"100px"})]}),O.jsxs(Cc,{children:[O.jsx(fe.Text,{children:i("Settings.bigMotorPort")}),O.jsx(da,{options:Is.map(a=>({id:a,text:a})),currentOptionId:n.bigMotorPort,handleOptionSelect:a=>r(s=>({...s,bigMotorPort:a})),width:"100px"})]}),O.jsxs(Cc,{children:[O.jsx(fe.Text,{children:i("Settings.smallMotorPort")}),O.jsx(da,{options:Is.map(a=>({id:a,text:a})),currentOptionId:n.smallMotorPort,handleOptionSelect:a=>r(s=>({...s,smallMotorPort:a})),width:"100px"})]}),O.jsx(Cc,{children:O.jsx(ou,{value:n.bigMotorSpeed,label:i("Settings.bigMotorSpeed"),minValue:5,maxValue:20,onChange:a=>r(s=>({...s,bigMotorSpeed:a})),writeValue:!0})}),O.jsx(Cc,{children:O.jsx(ou,{value:n.smallMotorSpeed,label:i("Settings.smallMotorSpeed"),minValue:5,maxValue:20,onChange:a=>r(s=>({...s,smallMotorSpeed:a})),writeValue:!0})})]})})},Cc=Pe.div.withConfig({displayName:"CrawlerSettingsPopup__Row",componentId:"sc-m3jj5e-0"})(["display:flex;column-gap:15px;align-items:center;margin:10px;"]),ese=()=>{const{t:e}=tn();return O.jsxs(tse,{children:[O.jsx(fe.Text,{children:e("CrawlerInstructions.intro")}),O.jsxs(fe.Text,{children:[e("CrawlerInstructions.followVideo"),O.jsx(vn,{to:"https://www.youtube.com/watch/tuYZL71suyY",children:e("video")}),e("CrawlerInstructions.followVideoPart2")]}),O.jsx(fe.H3,{children:e("CrawlerInstructions.assemblyTitle")}),O.jsxs(fe.Text,{children:[e("CrawlerInstructions.assemblyText1Part1"),O.jsx(vn,{to:`/ml-with-bricks/materials/${zn.language}/assembly/crawler.pdf`,children:e("these instructions")}),e("CrawlerInstructions.assemblyText1Part2")]}),O.jsxs(fe.Text,{children:[e("CrawlerInstructions.assemblyText2Part1"),O.jsx(vn,{to:`/ml-with-bricks/materials/${zn.language}/connection.pdf`,children:e("pdf")}),e("CrawlerInstructions.assemblyText2Part2"),O.jsx(vn,{to:"https://youtu.be/ZsviP40PnuA",children:e("video")}),e("CrawlerInstructions.assemblyText2Part3")]}),O.jsx(fe.H3,{children:e("CrawlerInstructions.algorithmTitle")}),O.jsx(fe.Text,{children:e("CrawlerInstructions.algorithmText1")}),O.jsx(fe.Text,{children:e("CrawlerInstructions.algorithmText2")}),O.jsx(fe.Text,{children:e("CrawlerInstructions.algorithmText3")}),O.jsx(fe.Text,{children:e("CrawlerInstructions.algorithmText4")}),O.jsx(fe.Text,{children:e("CrawlerInstructions.algorithmText5")}),O.jsx(Y2,{children:e("CrawlerInstructions.warning1")}),O.jsx(Y2,{children:e("CrawlerInstructions.warning2")}),O.jsx(fe.H3,{children:e("CrawlerInstructions.thingsToTryTitle")}),O.jsx(fe.Text,{children:e("CrawlerInstructions.thingsToTryText")})]})},tse=Pe.div.withConfig({displayName:"CrawlerInstructions__Wrapper",componentId:"sc-17kd59g-0"})([""]),nse={distanceSensorPort:"C",bigMotorPort:"D",smallMotorPort:"B",bigMotorSpeed:5,smallMotorSpeed:15},rse=()=>{var he;const{t:e}=tn(),{sendTunnelData:t,subscribe:n}=_g(),r=4,i=[{id:"high",text:e("Crawler.explorations.high"),epsilon:.7},{id:"low",text:e("Crawler.explorations.low"),epsilon:.3},{id:"no",text:e("Crawler.explorations.no"),epsilon:0}],a=Array.from({length:r},(de,oe)=>Array.from({length:r},(ke,Ae)=>oe===Ae?void 0:0)),s=Array.from({length:r},(de,oe)=>Array.from({length:r},(ke,Ae)=>oe===Ae?void 0:null)),o="no",[l,u]=te.useState(()=>$n("crawler_epsilonMode",o)),[c,f]=te.useState(()=>$n("crawler_thinkFuture",!1)),[h,d]=te.useState(()=>$n("crawler_waitBeforeNextMove",!0)),[p,v]=te.useState(()=>$n("crawler_rewardsTable",s)),[x,y]=te.useState(()=>$n("crawler_currentStateIx",0)),[w,k]=te.useState(null),[_,C]=te.useState(!1),T="rewards",[E,A]=te.useState("unpicked"),[R,D]=te.useState(null),[N,z]=te.useState(nse),[j,V]=te.useState(()=>$n("crawler_qTable",a)),Y=()=>{const de=h;d(oe=>!oe),t({action:"wait_before_next_move_update",payload:{wait_before_next_move:!de}}).then(()=>{})},Z=()=>{const de=c;f(oe=>!oe),t({action:"think_future_update",payload:{think_future:!de}}).then(()=>{})},X=de=>{var oe;u(de),t({action:"epsilon_update",payload:{epsilon:((oe=i.find(ke=>ke.id===de))==null?void 0:oe.epsilon)||0}}).then(()=>{})},G=async()=>{var de;n(J),t({action:"code_start",payload:{epsilon:((de=i.find(oe=>oe.id===l))==null?void 0:de.epsilon)||0,wait_before_next_move:h,current_state:x,q_table:j,think_future:c}}).then(()=>It.success(e("Crawler.toasts.codeStarted"),{position:"bottom-left"}))},ee=()=>{t({action:"continue",payload:{}}).then(()=>{})},B=()=>{t({action:"pause",payload:{}}).then(()=>{})},K=()=>{V(a),v(s),A("unpicked"),D(null),k(null),y(0),d(!1),u(o),f(!1),t({action:"reset",payload:{}}).then(()=>{})},J=de=>{const oe=de.payload;switch(de.action){case"action_update":k(oe.action!==void 0?oe.action:null),oe.type&&D(oe.type),A(oe.status);break;case"state_update":y(oe.state);break;case"too_close":It.warning(e("Crawler.toasts.tooClose"),{position:"bottom-left"});break;case"too_far":It.warning(e("Crawler.toasts.tooFar"),{position:"bottom-left"});break;case"tables_update":const{action:ke,state:Ae,reward:Se,q:ce}=oe;v(ge=>{const me=[...ge];return me[Ae]&&me[Ae][ke]!==void 0&&(me[Ae][ke]=Se),me}),V(ge=>{const me=[...ge];return me[Ae]&&me[Ae][ke]!==void 0&&(me[Ae][ke]=ce),me});break;default:return}},q=te.useMemo(()=>mb.crawler(N),[N]);return te.useEffect(()=>{localStorage.setItem("crawler_epsilonMode",JSON.stringify(l))},[l]),te.useEffect(()=>{localStorage.setItem("crawler_waitBeforeNextMove",JSON.stringify(h))},[h]),te.useEffect(()=>{localStorage.setItem("crawler_rewardsTable",JSON.stringify(p.map(de=>de.map(oe=>oe===void 0?"__undefined__":oe))))},[p]),te.useEffect(()=>{localStorage.setItem("crawler_currentStateIx",JSON.stringify(x))},[x]),te.useEffect(()=>{localStorage.setItem("crawler_thinkFuture",JSON.stringify(c))},[c]),te.useEffect(()=>{localStorage.setItem("crawler_qTable",JSON.stringify(j.map(de=>de.map(oe=>oe===void 0?"__undefined__":oe))))},[j]),O.jsxs(ise,{children:[O.jsx(fe.H1,{children:e("Crawler.title")}),O.jsx(ese,{}),O.jsx(gb,{code:q,onStart:G}),O.jsxs(ase,{children:[O.jsxs(eS,{children:[O.jsx(fe.Text,{children:e("Crawler.actionQualityTable")}),O.jsx(gJ,{table:j,currentStateIx:x,currentActionIx:w})]}),O.jsxs(eS,{children:[O.jsx(fe.Text,{children:e("Crawler.rewardDiagram")}),O.jsx(Yae,{rewardsTable:p,qTable:j,currentStateIx:x,currentActionIx:w,actionStatus:E,markovChainMode:T,epsilon:((he=i.find(de=>de.id===l))==null?void 0:he.epsilon)||0})]}),O.jsx(Xae,{waitBeforeNextMove:h,handleWaitBeforeNextMoveChange:Y,explorationModes:i,currentExplorationMode:l,handleExplorationModeChange:X,handleContinue:ee,handlePause:B,handleReset:K,actionType:R,thinkFuture:c,handleThinkFutureChange:Z})]}),O.jsx(Jae,{active:_,handleClose:()=>C(!1),crawlerSettings:N,setCrawlerSettings:z})]})},ise=Pe.div.withConfig({displayName:"crawler__Wrapper",componentId:"sc-rfjkgp-0"})([""]),ase=Pe.div.withConfig({displayName:"crawler__DiagramRow",componentId:"sc-rfjkgp-1"})(['display:grid;grid-template-columns:1fr 1fr 1fr;column-gap:20px;align-items:start;grid-template-areas:"a b c";@media (max-width:900px){grid-template-columns:1fr 1fr;grid-template-areas:"a b" "c c";}@media (max-width:768px){grid-template-columns:1fr;grid-template-areas:"a" "b" "c";}']),eS=Pe.div.withConfig({displayName:"crawler__Box",componentId:"sc-rfjkgp-2"})(["width:100%;& > p{font-weight:600;}"]),YA=({expId:e})=>{const{t}=tn();return O.jsx(t0,{to:`/experiments/${e}`,children:O.jsxs(sse,{children:[O.jsx(ose,{$expId:e}),O.jsxs(lse,{children:[O.jsx(fe.H3,{children:t(`Experiments.Cards.${e}.title`)}),O.jsx(fe.Text,{children:t(`Experiments.Cards.${e}.description`)})]})]})})},sse=Pe.div.withConfig({displayName:"ExperimentCard__Wrapper",componentId:"sc-1akgw1w-0"})(["width:100%;border-radius:10px;position:relative;overflow:hidden;border:1px solid black;cursor:pointer;transition:all 0.15s ease;box-shadow:0 2px 3px rgba(0,0,0,0.1);&:hover{transform:translateY(-5px);}height:100%;"]),ose=Pe.div.withConfig({displayName:"ExperimentCard__ImageDiv",componentId:"sc-1akgw1w-1"})(["width:100%;aspect-ratio:4/3;background-image:",";background-size:cover;background-position:center;margin:0;border-bottom:1px solid ",";"],({$expId:e})=>`url(experiments/${e}.webp)`,({theme:e})=>e.black),lse=Pe.div.withConfig({displayName:"ExperimentCard__InfoWrap",componentId:"sc-1akgw1w-2"})(["padding:0 15px 10px;"]),use=["fruit-predictor","ping-ponger","crawler"],cse=()=>{const{t:e}=tn();return O.jsxs(fse,{children:[O.jsx(fe.H1,{children:e("Experiments.title")}),O.jsx(fe.Text,{children:e("Experiments.text")}),O.jsx(hse,{children:use.map(t=>O.jsx(YA,{expId:t},t))})]})},fse=Pe.div.withConfig({displayName:"experiments__Wrapper",componentId:"sc-118zeqn-0"})([""]),hse=Pe.div.withConfig({displayName:"experiments__CardGrid",componentId:"sc-118zeqn-1"})(["width:100%;display:grid;grid-template-columns:1fr 1fr 1fr;margin-top:30px;gap:20px;grid-auto-rows:1fr;@media (max-width:1024px){grid-template-columns:1fr 1fr;}"]),XA=()=>{const{t:e}=tn();return O.jsx(dse,{href:"https://www.youtube.com/playlist?list=PLaA3pdUzmaV-oJ0QABOJssZ5MxFRIY_hu",target:"_blank",children:O.jsx(gse,{children:O.jsxs(pse,{children:[O.jsx(Sx,{}),O.jsx(fe.Text,{children:e("Home.watch")})]})})})},dse=Pe.a.withConfig({displayName:"PlaylistLink__Wrapper",componentId:"sc-1dgczaa-0"})(["aspect-ratio:16/9;width:100%;background-image:url(thumbnail.jpg);background-size:cover;position:relative;border-radius:10px;overflow:hidden;box-shadow:0 0 2px 0 #555;"]),pse=Pe.div.withConfig({displayName:"PlaylistLink__Row",componentId:"sc-1dgczaa-1"})(["display:flex;position:absolute;gap:10px;& p{font-size:24px;font-weight:700;line-height:1;}& > svg{height:30px;width:30px;position:relative;top:2px;}"]),gse=Pe.div.withConfig({displayName:"PlaylistLink__Vignette",componentId:"sc-1dgczaa-2"})(['position:absolute;top:0;left:0;width:100%;height:100%;background-color:rgba(0,0,0,0.8);display:flex;justify-content:center;align-items:center;color:white;font-weight:bold;& > div::after{content:"";position:absolute;bottom:-2px;left:0;width:0;height:2px;transition:all 0.15s ease;background-color:#fff;}&:hover > div::after{width:100%;background-color:#fff;}']),mse=["fruit-predictor","ping-ponger","crawler"],vse=()=>{const{t:e}=tn();return O.jsxs(yse,{children:[O.jsx(fe.H1,{children:e("Home.title")}),O.jsxs(fe.Text,{children:[e("Home.text.part1"),O.jsx(vn,{to:"https://www.lego.com/en-lu/product/lego-education-spike-prime-set-45678",children:e("Home.text.lego")}),e("Home.text.part2")]}),O.jsxs(fe.H3,{children:[e("Experiments.title")," 🧪"]}),O.jsx(xse,{children:mse.map(t=>O.jsx(YA,{expId:t},t))}),O.jsxs(fe.H3,{children:[e("Home.courseRecordingTitle")," 📹"]}),O.jsx(fe.Text,{children:e("Home.courseRecordingText")}),O.jsx(XA,{}),O.jsxs(fe.H3,{children:[e("Home.materialsTitle")," 📖"]}),O.jsxs(fe.Text,{children:[e("Home.materialsText.part1"),O.jsx(vn,{to:"./materials/de/presentation.pdf",children:e("Home.presentationsGerman")}),e("Home.materialsText.part2"),O.jsx(vn,{to:"./materials/en/presentation.pdf",children:e("Home.presentationsEnglish")}),"."]}),O.jsxs(fe.H3,{children:[e("Home.developers")," ⌨️"]}),O.jsxs(fe.Text,{children:[e("Home.developersText.part1"),O.jsx(vn,{to:"https://github.com/slavasg-lab/ml-with-bricks",children:e("Home.developersText.github")}),e("Home.developersText.part2"),O.jsx(vn,{to:"https://github.com/slavasg-lab/ml-with-bricks",children:e("Home.developersText.boilerplate")})," ",e("Home.developersText.part3")]}),O.jsxs(fe.H3,{children:[e("Home.troubleshooting")," 🚧"]}),O.jsxs(fe.Text,{children:[e("Home.troubleshootingText.part1"),O.jsx(vn,{to:"/ml-with-bricks/#/troubleshooting",children:e("Home.troubleshootingText.link")})," ",e("Home.troubleshootingText.part2"),O.jsx(vn,{to:"mailto:viacheslav.sydora@gmail.com",children:"viacheslav.sydora@gmail.com"}),"."]})]})},yse=Pe.div.withConfig({displayName:"home__Wrapper",componentId:"sc-on28uf-0"})(["display:flex;flex-direction:column;"]),xse=Pe.div.withConfig({displayName:"home__CardGrid",componentId:"sc-on28uf-1"})(["width:100%;display:grid;grid-template-columns:1fr 1fr 1fr;margin:20px 0;gap:20px;grid-auto-rows:1fr;@media (max-width:1024px){grid-template-columns:1fr 1fr;}@media (max-width:1600px){grid-template-columns:1fr;}"]),bse=()=>{const{t:e}=tn();return O.jsxs("div",{children:[O.jsx(fe.H1,{children:e("Imprint.title")}),O.jsxs(wse,{children:[O.jsx(fe.Text,{$markdown:!0,children:"Viacheslav Sydora"}),O.jsx(fe.Text,{$markdown:!0,children:"Max-Planck-Ring 4"}),O.jsx(fe.Text,{$markdown:!0,children:"72070 Tübingen"}),O.jsx(fe.Text,{$markdown:!0,children:e("PrivacyPolicy.section3.responsibleParty.country")})]}),O.jsx(fe.H2,{children:e("Imprint.contact.heading")}),O.jsx(fe.Text,{$markdown:!0,children:e("Imprint.contact.email")}),O.jsx(fe.Text,{$markdown:!0,children:e("Imprint.contact.phone")}),O.jsx(fe.H2,{children:e("Imprint.euDisputeResolution.heading")}),O.jsx(fe.Text,{$markdown:!0,children:e("Imprint.euDisputeResolution.paragraph1")}),O.jsx(fe.H2,{children:e("Imprint.consumerDisputeResolution.heading")}),O.jsx(fe.Text,{$markdown:!0,children:e("Imprint.consumerDisputeResolution.paragraph1")})]})},wse=Pe.div.withConfig({displayName:"imprint__ResponsiblePartyBlock",componentId:"sc-hth99a-0"})(["& > p{line-height:1;}"]),kse=()=>{const{t:e}=tn();return O.jsxs("div",{children:[O.jsx(fe.H1,{children:e("PrivacyPolicy.title")}),O.jsx(fe.Text,{children:e("PrivacyPolicy.effectiveDate")}),O.jsx(fe.H2,{children:e("PrivacyPolicy.section1.title")}),O.jsx(fe.H3,{children:e("PrivacyPolicy.section1.generalNotes.heading")}),O.jsx(fe.Text,{children:e("PrivacyPolicy.section1.generalNotes.paragraph1")}),O.jsx(fe.H3,{children:e("PrivacyPolicy.section1.generalNotes.dataCollectionOnThisWebsite")}),O.jsx(fe.Text,{$bold:!0,children:e("PrivacyPolicy.section1.generalNotes.whoResponsible")}),O.jsx(fe.Text,{children:e("PrivacyPolicy.section1.generalNotes.whoResponsibleAnswer")}),O.jsx(fe.Text,{$bold:!0,children:e("PrivacyPolicy.section1.generalNotes.howDoWeCollect")}),O.jsx(fe.Text,{children:e("PrivacyPolicy.section1.generalNotes.howDoWeCollectAnswer")}),O.jsx(fe.Text,{$bold:!0,children:e("PrivacyPolicy.section1.generalNotes.whatDoWeUseDataFor")}),O.jsx(fe.Text,{children:e("PrivacyPolicy.section1.generalNotes.whatDoWeUseDataForAnswer")}),O.jsx(fe.Text,{$bold:!0,children:e("PrivacyPolicy.section1.generalNotes.yourRights")}),O.jsx(fe.Text,{children:e("PrivacyPolicy.section1.generalNotes.yourRightsAnswer")}),O.jsx(fe.H2,{children:e("PrivacyPolicy.section2.title")}),O.jsx(fe.Text,{$markdown:!0,children:e("PrivacyPolicy.section2.paragraph1")}),O.jsx(fe.Text,{$markdown:!0,children:e("PrivacyPolicy.section2.paragraph2",{githubPagesDataCollection:O.jsx(vn,{to:"https://docs.github.com/en/pages/getting-started-with-github-pages/what-is-github-pages#data-collection",children:"GitHub"})})}),O.jsx(fe.Text,{$markdown:!0,children:e("PrivacyPolicy.section2.paragraph3")}),O.jsx(fe.Text,{$markdown:!0,children:e("PrivacyPolicy.section2.paragraph4")}),O.jsx(fe.Text,{$bold:!0,children:e("PrivacyPolicy.section2.dataTransfer.heading")}),O.jsx(fe.Text,{$markdown:!0,children:e("PrivacyPolicy.section2.dataTransfer.paragraph1")}),O.jsx(fe.H2,{children:e("PrivacyPolicy.section3.title")}),O.jsx(fe.Text,{$bold:!0,children:e("PrivacyPolicy.section3.dataProtection.heading")}),O.jsx(fe.Text,{children:e("PrivacyPolicy.section3.dataProtection.paragraph1")}),O.jsx(fe.Text,{$bold:!0,children:e("PrivacyPolicy.section3.responsibleParty.heading")}),O.jsx(fe.Text,{children:e("PrivacyPolicy.section3.responsibleParty.paragraph1")}),O.jsxs(tS,{children:[O.jsx(fe.Text,{$markdown:!0,children:"*Viacheslav Sydora*"}),O.jsx(fe.Text,{$markdown:!0,children:"*Max-Planck-Ring 4*"}),O.jsx(fe.Text,{$markdown:!0,children:"*72070 Tübingen*"}),O.jsx(fe.Text,{$markdown:!0,children:"*"+e("PrivacyPolicy.section3.responsibleParty.country")+"*"})]}),O.jsx(fe.Text,{$markdown:!0,children:e("PrivacyPolicy.section3.responsibleParty.email")}),O.jsx(fe.Text,{children:e("PrivacyPolicy.section3.responsibleParty.paragraph2")}),O.jsx(fe.Text,{$bold:!0,children:e("PrivacyPolicy.section3.dataRetention.heading")}),O.jsx(fe.Text,{children:e("PrivacyPolicy.section3.dataRetention.paragraph1")}),O.jsx(fe.Text,{$bold:!0,children:e("PrivacyPolicy.section3.legalBasis.heading")}),O.jsx(fe.Text,{$markdown:!0,children:e("PrivacyPolicy.section3.legalBasis.paragraph1")}),O.jsx(fe.Text,{$markdown:!0,children:e("PrivacyPolicy.section3.legalBasis.paragraph2")}),O.jsx(fe.Text,{$markdown:!0,children:e("PrivacyPolicy.section3.legalBasis.paragraph3")}),O.jsx(fe.Text,{$bold:!0,children:e("PrivacyPolicy.section3.sslEncryption.heading")}),O.jsx(fe.Text,{children:e("PrivacyPolicy.section3.sslEncryption.paragraph1")}),O.jsx(fe.H2,{children:e("PrivacyPolicy.section4.title")}),O.jsx(fe.Text,{$bold:!0,children:e("PrivacyPolicy.section4.cookiesLocalStorage.heading")}),O.jsx(fe.Text,{$markdown:!0,children:e("PrivacyPolicy.section4.cookiesLocalStorage.paragraph1")}),O.jsxs("ul",{children:[O.jsx(fe.Li,{$markdown:!0,children:e("PrivacyPolicy.section4.cookiesLocalStorage.listItem1")}),O.jsx(fe.Li,{$markdown:!0,children:e("PrivacyPolicy.section4.cookiesLocalStorage.listItem2")})]}),e("PrivacyPolicy.section4.cookiesLocalStorage.importantInfo"),O.jsxs("ul",{children:[O.jsx(fe.Li,{$markdown:!0,children:e("PrivacyPolicy.section4.cookiesLocalStorage.listItem3")}),O.jsx(fe.Li,{$markdown:!0,children:e("PrivacyPolicy.section4.cookiesLocalStorage.listItem4")}),O.jsx(fe.Li,{$markdown:!0,children:e("PrivacyPolicy.section4.cookiesLocalStorage.listItem5")})]}),O.jsx(fe.Text,{children:e("PrivacyPolicy.section4.cookiesLocalStorage.paragraph2")}),O.jsx(fe.H2,{children:e("PrivacyPolicy.section5.title")}),O.jsx(fe.Text,{children:e("PrivacyPolicy.section5.paragraph1")}),O.jsx(fe.Text,{$markdown:!0,children:e("PrivacyPolicy.section5.paragraph2")}),O.jsx(fe.H2,{children:e("PrivacyPolicy.section6.title")}),O.jsx(fe.Text,{children:e("PrivacyPolicy.section6.paragraph1")}),O.jsx(fe.Text,{$bold:!0,children:e("PrivacyPolicy.section6.rightToInformation.heading")}),O.jsx(fe.Text,{children:e("PrivacyPolicy.section6.rightToInformation.paragraph1")}),O.jsx(fe.Text,{$bold:!0,children:e("PrivacyPolicy.section6.rightToRectificationDeletion.heading")}),O.jsx(fe.Text,{children:e("PrivacyPolicy.section6.rightToRectificationDeletion.paragraph1")}),O.jsx(fe.Text,{$bold:!0,children:e("PrivacyPolicy.section6.rightToObject.heading")}),O.jsx(fe.Text,{children:e("PrivacyPolicy.section6.rightToObject.paragraph1")}),O.jsx(fe.Text,{$bold:!0,children:e("PrivacyPolicy.section6.rightToComplain.heading")}),O.jsx(fe.Text,{children:e("PrivacyPolicy.section6.rightToComplain.paragraph1")}),O.jsx(fe.Text,{children:e("PrivacyPolicy.section6.rightToComplain.competentAuthority")}),O.jsxs(tS,{children:[O.jsx(fe.Text,{$markdown:!0,children:"*"+e("PrivacyPolicy.section6.rightToComplain.authorityDetails.name")+"*"}),O.jsx(fe.Text,{$markdown:!0,children:"*"+e("PrivacyPolicy.section6.rightToComplain.authorityDetails.address")+"*"}),O.jsx(fe.Text,{$markdown:!0,children:"*"+e("PrivacyPolicy.section6.rightToComplain.authorityDetails.plzCity")+"*"}),O.jsx(fe.Text,{$markdown:!0,children:"*"+e("PrivacyPolicy.section6.rightToComplain.authorityDetails.country")+"*"})]}),O.jsx(fe.Text,{$markdown:!0,children:e("PrivacyPolicy.section6.rightToComplain.authorityDetails.email")}),O.jsx(fe.Text,{$markdown:!0,children:e("PrivacyPolicy.section6.paragraph2")}),O.jsx(fe.H2,{children:e("PrivacyPolicy.section7.title")}),O.jsx(fe.Text,{children:e("PrivacyPolicy.section7.paragraph1")})]})},tS=Pe.div.withConfig({displayName:"privacy-policy__ResponsiblePartyBlock",componentId:"sc-lw5f1s-0"})(["& > p{line-height:1;}"]),Sse=()=>{const{t:e}=tn();return O.jsxs(_se,{children:[O.jsx(fe.H1,{children:e("Materials.title")}),O.jsx(fe.Text,{children:e("Materials.text")}),O.jsxs(fe.Text,{$bold:!0,children:[e("Materials.Presentations"),": "]}),O.jsxs(Cse,{children:[O.jsx("li",{children:O.jsx(vn,{to:"./presentations/EN_Presentation.pdf",children:e("Materials.Presentations.english")})}),O.jsx("li",{children:O.jsx(vn,{to:"./presentations/DE_Presentation.pdf",children:e("Materials.Presentations.german")})})]}),O.jsxs(fe.Text,{$bold:!0,children:[e("Materials.CoursePlaylist"),": "]}),O.jsx(XA,{})]})},_se=Pe.div.withConfig({displayName:"materials__Wrapper",componentId:"sc-wusbkz-0"})(["flex:1;display:flex;flex-direction:column;"]),Cse=Pe.ul.withConfig({displayName:"materials__BulletList",componentId:"sc-wusbkz-1"})(["& > li{margin-left:15px;}"]),Tse=()=>{const{t:e}=tn();return O.jsxs("div",{children:[O.jsx(fe.H1,{children:e("Troubleshooting.title")}),O.jsx(fe.Text,{children:e("Troubleshooting.intro")}),O.jsx(fe.Text,{$bold:!0,children:e("Troubleshooting.bluetoothQuestion")}),O.jsx(fe.Text,{children:e("Troubleshooting.bluetoothAnswer")}),O.jsx(fe.Text,{$bold:!0,children:e("Troubleshooting.chromiumQuestion")}),O.jsx(fe.Text,{children:e("Troubleshooting.chromiumAnswer")})]})};function Ese(){return O.jsx(NR,{theme:mW,children:O.jsx(VW,{children:O.jsxs(O.Fragment,{children:[O.jsx(vW,{}),O.jsx(pW,{children:O.jsxs(_z,{children:[O.jsx(Zi,{path:"/experiments/fruit-predictor",element:O.jsx(PZ,{})}),O.jsx(Zi,{path:"/experiments/ping-ponger",element:O.jsx(lJ,{})}),O.jsx(Zi,{path:"/experiments/crawler",element:O.jsx(rse,{})}),O.jsx(Zi,{path:"/experiments",element:O.jsx(cse,{})}),O.jsx(Zi,{path:"/imprint",element:O.jsx(bse,{})}),O.jsx(Zi,{path:"/privacy-policy",element:O.jsx(kse,{})}),O.jsx(Zi,{path:"/materials",element:O.jsx(Sse,{})}),O.jsx(Zi,{path:"/troubleshooting",element:O.jsx(Tse,{})}),O.jsx(Zi,{path:"*",element:O.jsx(vse,{})})]})})]})})})}function x4(e){"@babel/helpers - typeof";return x4=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},x4(e)}function KA(){return typeof XMLHttpRequest=="function"||(typeof XMLHttpRequest>"u"?"undefined":x4(XMLHttpRequest))==="object"}function Pse(e){return!!e&&typeof e.then=="function"}function Mse(e){return Pse(e)?e:Promise.resolve(e)}function nS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function rS(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nS(Object(n),!0).forEach(function(r){Ase(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ase(e,t,n){return(t=Dse(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Dse(e){var t=Ise(e,"string");return Jo(t)=="symbol"?t:t+""}function Ise(e,t){if(Jo(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Jo(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Jo(e){"@babel/helpers - typeof";return Jo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jo(e)}var Gs=typeof fetch=="function"?fetch:void 0;typeof Gn<"u"&&Gn.fetch?Gs=Gn.fetch:typeof window<"u"&&window.fetch&&(Gs=window.fetch);var Wf;KA()&&(typeof Gn<"u"&&Gn.XMLHttpRequest?Wf=Gn.XMLHttpRequest:typeof window<"u"&&window.XMLHttpRequest&&(Wf=window.XMLHttpRequest));var Lp;typeof ActiveXObject=="function"&&(typeof Gn<"u"&&Gn.ActiveXObject?Lp=Gn.ActiveXObject:typeof window<"u"&&window.ActiveXObject&&(Lp=window.ActiveXObject));typeof Gs!="function"&&(Gs=void 0);if(!Gs&&!Wf&&!Lp)try{iT(()=>import("./browser-ponyfill-16eef7a6.js").then(e=>e.b),[]).then(function(e){Gs=e.default}).catch(function(){})}catch{}var b4=function(t,n){if(n&&Jo(n)==="object"){var r="";for(var i in n)r+="&"+encodeURIComponent(i)+"="+encodeURIComponent(n[i]);if(!r)return t;t=t+(t.indexOf("?")!==-1?"&":"?")+r.slice(1)}return t},iS=function(t,n,r,i){var a=function(l){if(!l.ok)return r(l.statusText||"Error",{status:l.status});l.text().then(function(u){r(null,{status:l.status,data:u})}).catch(r)};if(i){var s=i(t,n);if(s instanceof Promise){s.then(a).catch(r);return}}typeof fetch=="function"?fetch(t,n).then(a).catch(r):Gs(t,n).then(a).catch(r)},aS=!1,Lse=function(t,n,r,i){t.queryStringParams&&(n=b4(n,t.queryStringParams));var a=rS({},typeof t.customHeaders=="function"?t.customHeaders():t.customHeaders);typeof window>"u"&&typeof Gn<"u"&&typeof Gn.process<"u"&&Gn.process.versions&&Gn.process.versions.node&&(a["User-Agent"]="i18next-http-backend (node/".concat(Gn.process.version,"; ").concat(Gn.process.platform," ").concat(Gn.process.arch,")")),r&&(a["Content-Type"]="application/json");var s=typeof t.requestOptions=="function"?t.requestOptions(r):t.requestOptions,o=rS({method:r?"POST":"GET",body:r?t.stringify(r):void 0,headers:a},aS?{}:s),l=typeof t.alternateFetch=="function"&&t.alternateFetch.length>=1?t.alternateFetch:void 0;try{iS(n,o,i,l)}catch(u){if(!s||Object.keys(s).length===0||!u.message||u.message.indexOf("not implemented")<0)return i(u);try{Object.keys(s).forEach(function(c){delete o[c]}),iS(n,o,i,l),aS=!0}catch(c){i(c)}}},Ose=function(t,n,r,i){r&&Jo(r)==="object"&&(r=b4("",r).slice(1)),t.queryStringParams&&(n=b4(n,t.queryStringParams));try{var a=Wf?new Wf:new Lp("MSXML2.XMLHTTP.3.0");a.open(r?"POST":"GET",n,1),t.crossDomain||a.setRequestHeader("X-Requested-With","XMLHttpRequest"),a.withCredentials=!!t.withCredentials,r&&a.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),a.overrideMimeType&&a.overrideMimeType("application/json");var s=t.customHeaders;if(s=typeof s=="function"?s():s,s)for(var o in s)a.setRequestHeader(o,s[o]);a.onreadystatechange=function(){a.readyState>3&&i(a.status>=400?a.statusText:null,{status:a.status,data:a.responseText})},a.send(r)}catch(l){console&&console.log(l)}},Rse=function(t,n,r,i){if(typeof r=="function"&&(i=r,r=void 0),i=i||function(){},Gs&&n.indexOf("file:")!==0)return Lse(t,n,r,i);if(KA()||typeof ActiveXObject=="function")return Ose(t,n,r,i);i(new Error("No fetch and no xhr implementation found!"))};function Lu(e){"@babel/helpers - typeof";return Lu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lu(e)}function sS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function cy(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sS(Object(n),!0).forEach(function(r){QA(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Nse(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oS(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ZA(r.key),r)}}function zse(e,t,n){return t&&oS(e.prototype,t),n&&oS(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function QA(e,t,n){return(t=ZA(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ZA(e){var t=Bse(e,"string");return Lu(t)=="symbol"?t:t+""}function Bse(e,t){if(Lu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Lu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Fse=function(){return{loadPath:"/locales/{{lng}}/{{ns}}.json",addPath:"/locales/add/{{lng}}/{{ns}}",parse:function(n){return JSON.parse(n)},stringify:JSON.stringify,parsePayload:function(n,r,i){return QA({},r,i||"")},parseLoadPayload:function(n,r){},request:Rse,reloadInterval:typeof window<"u"?!1:60*60*1e3,customHeaders:{},queryStringParams:{},crossDomain:!1,withCredentials:!1,overrideMimeType:!1,requestOptions:{mode:"cors",credentials:"same-origin",cache:"default"}}},JA=function(){function e(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Nse(this,e),this.services=t,this.options=n,this.allOptions=r,this.type="backend",this.init(t,n,r)}return zse(e,[{key:"init",value:function(n){var r=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(this.services=n,this.options=cy(cy(cy({},Fse()),this.options||{}),i),this.allOptions=a,this.services&&this.options.reloadInterval){var s=setInterval(function(){return r.reload()},this.options.reloadInterval);Lu(s)==="object"&&typeof s.unref=="function"&&s.unref()}}},{key:"readMulti",value:function(n,r,i){this._readAny(n,n,r,r,i)}},{key:"read",value:function(n,r,i){this._readAny([n],n,[r],r,i)}},{key:"_readAny",value:function(n,r,i,a,s){var o=this,l=this.options.loadPath;typeof this.options.loadPath=="function"&&(l=this.options.loadPath(n,i)),l=Mse(l),l.then(function(u){if(!u)return s(null,{});var c=o.services.interpolator.interpolate(u,{lng:n.join("+"),ns:i.join("+")});o.loadUrl(c,s,r,a)})}},{key:"loadUrl",value:function(n,r,i,a){var s=this,o=typeof i=="string"?[i]:i,l=typeof a=="string"?[a]:a,u=this.options.parseLoadPayload(o,l);this.options.request(this.options,n,u,function(c,f){if(f&&(f.status>=500&&f.status<600||!f.status))return r("failed loading "+n+"; status code: "+f.status,!0);if(f&&f.status>=400&&f.status<500)return r("failed loading "+n+"; status code: "+f.status,!1);if(!f&&c&&c.message){var h=c.message.toLowerCase(),d=["failed","fetch","network","load"].find(function(x){return h.indexOf(x)>-1});if(d)return r("failed loading "+n+": "+c.message,!0)}if(c)return r(c,!1);var p,v;try{typeof f.data=="string"?p=s.options.parse(f.data,i,a):p=f.data}catch{v="failed parsing "+n+" to json"}if(v)return r(v,!1);r(null,p)})}},{key:"create",value:function(n,r,i,a,s){var o=this;if(this.options.addPath){typeof n=="string"&&(n=[n]);var l=this.options.parsePayload(r,i,a),u=0,c=[],f=[];n.forEach(function(h){var d=o.options.addPath;typeof o.options.addPath=="function"&&(d=o.options.addPath(h,r));var p=o.services.interpolator.interpolate(d,{lng:h,ns:r});o.options.request(o.options,p,l,function(v,x){u+=1,c.push(v),f.push(x),u===n.length&&typeof s=="function"&&s(c,f)})})}}},{key:"reload",value:function(){var n=this,r=this.services,i=r.backendConnector,a=r.languageUtils,s=r.logger,o=i.language;if(!(o&&o.toLowerCase()==="cimode")){var l=[],u=function(f){var h=a.toResolveHierarchy(f);h.forEach(function(d){l.indexOf(d)<0&&l.push(d)})};u(o),this.allOptions.preload&&this.allOptions.preload.forEach(function(c){return u(c)}),l.forEach(function(c){n.allOptions.ns.forEach(function(f){i.read(c,f,"read",null,null,function(h,d){h&&s.warn("loading namespace ".concat(f," for language ").concat(c," failed"),h),!h&&d&&s.log("loaded namespace ".concat(f," for language ").concat(c),d),i.loaded("".concat(c,"|").concat(f),h,d)})})})}}}])}();JA.type="backend";const{slice:$se,forEach:jse}=[];function qse(e){return jse.call($se.call(arguments,1),t=>{if(t)for(const n in t)e[n]===void 0&&(e[n]=t[n])}),e}function Hse(e){return typeof e!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(n=>n.test(e))}const lS=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,Vse=function(e,t){const r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},i=encodeURIComponent(t);let a=`${e}=${i}`;if(r.maxAge>0){const s=r.maxAge-0;if(Number.isNaN(s))throw new Error("maxAge should be a Number");a+=`; Max-Age=${Math.floor(s)}`}if(r.domain){if(!lS.test(r.domain))throw new TypeError("option domain is invalid");a+=`; Domain=${r.domain}`}if(r.path){if(!lS.test(r.path))throw new TypeError("option path is invalid");a+=`; Path=${r.path}`}if(r.expires){if(typeof r.expires.toUTCString!="function")throw new TypeError("option expires is invalid");a+=`; Expires=${r.expires.toUTCString()}`}if(r.httpOnly&&(a+="; HttpOnly"),r.secure&&(a+="; Secure"),r.sameSite)switch(typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite){case!0:a+="; SameSite=Strict";break;case"lax":a+="; SameSite=Lax";break;case"strict":a+="; SameSite=Strict";break;case"none":a+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return r.partitioned&&(a+="; Partitioned"),a},uS={create(e,t,n,r){let i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};n&&(i.expires=new Date,i.expires.setTime(i.expires.getTime()+n*60*1e3)),r&&(i.domain=r),document.cookie=Vse(e,encodeURIComponent(t),i)},read(e){const t=`${e}=`,n=document.cookie.split(";");for(let r=0;r<n.length;r++){let i=n[r];for(;i.charAt(0)===" ";)i=i.substring(1,i.length);if(i.indexOf(t)===0)return i.substring(t.length,i.length)}return null},remove(e){this.create(e,"",-1)}};var Use={name:"cookie",lookup(e){let{lookupCookie:t}=e;if(t&&typeof document<"u")return uS.read(t)||void 0},cacheUserLanguage(e,t){let{lookupCookie:n,cookieMinutes:r,cookieDomain:i,cookieOptions:a}=t;n&&typeof document<"u"&&uS.create(n,e,r,i,a)}},Wse={name:"querystring",lookup(e){var r;let{lookupQuerystring:t}=e,n;if(typeof window<"u"){let{search:i}=window.location;!window.location.search&&((r=window.location.hash)==null?void 0:r.indexOf("?"))>-1&&(i=window.location.hash.substring(window.location.hash.indexOf("?")));const s=i.substring(1).split("&");for(let o=0;o<s.length;o++){const l=s[o].indexOf("=");l>0&&s[o].substring(0,l)===t&&(n=s[o].substring(l+1))}}return n}};let El=null;const cS=()=>{if(El!==null)return El;try{if(El=typeof window<"u"&&window.localStorage!==null,!El)return!1;const e="i18next.translate.boo";window.localStorage.setItem(e,"foo"),window.localStorage.removeItem(e)}catch{El=!1}return El};var Gse={name:"localStorage",lookup(e){let{lookupLocalStorage:t}=e;if(t&&cS())return window.localStorage.getItem(t)||void 0},cacheUserLanguage(e,t){let{lookupLocalStorage:n}=t;n&&cS()&&window.localStorage.setItem(n,e)}};let Pl=null;const fS=()=>{if(Pl!==null)return Pl;try{if(Pl=typeof window<"u"&&window.sessionStorage!==null,!Pl)return!1;const e="i18next.translate.boo";window.sessionStorage.setItem(e,"foo"),window.sessionStorage.removeItem(e)}catch{Pl=!1}return Pl};var Yse={name:"sessionStorage",lookup(e){let{lookupSessionStorage:t}=e;if(t&&fS())return window.sessionStorage.getItem(t)||void 0},cacheUserLanguage(e,t){let{lookupSessionStorage:n}=t;n&&fS()&&window.sessionStorage.setItem(n,e)}},Xse={name:"navigator",lookup(e){const t=[];if(typeof navigator<"u"){const{languages:n,userLanguage:r,language:i}=navigator;if(n)for(let a=0;a<n.length;a++)t.push(n[a]);r&&t.push(r),i&&t.push(i)}return t.length>0?t:void 0}},Kse={name:"htmlTag",lookup(e){let{htmlTag:t}=e,n;const r=t||(typeof document<"u"?document.documentElement:null);return r&&typeof r.getAttribute=="function"&&(n=r.getAttribute("lang")),n}},Qse={name:"path",lookup(e){var i;let{lookupFromPathIndex:t}=e;if(typeof window>"u")return;const n=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(n)?(i=n[typeof t=="number"?t:0])==null?void 0:i.replace("/",""):void 0}},Zse={name:"subdomain",lookup(e){var i,a;let{lookupFromSubdomainIndex:t}=e;const n=typeof t=="number"?t+1:1,r=typeof window<"u"&&((a=(i=window.location)==null?void 0:i.hostname)==null?void 0:a.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i));if(r)return r[n]}};let eD=!1;try{document.cookie,eD=!0}catch{}const tD=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];eD||tD.splice(1,1);const Jse=()=>({order:tD,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:e=>e});class nD{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(t,n)}init(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=t,this.options=qse(n,this.options||{},Jse()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=i=>i.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=r,this.addDetector(Use),this.addDetector(Wse),this.addDetector(Gse),this.addDetector(Yse),this.addDetector(Xse),this.addDetector(Kse),this.addDetector(Qse),this.addDetector(Zse)}addDetector(t){return this.detectors[t.name]=t,this}detect(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,n=[];return t.forEach(r=>{if(this.detectors[r]){let i=this.detectors[r].lookup(this.options);i&&typeof i=="string"&&(i=[i]),i&&(n=n.concat(i))}}),n=n.filter(r=>r!=null&&!Hse(r)).map(r=>this.options.convertDetectedLanguage(r)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?n:n.length>0?n[0]:null}cacheUserLanguage(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;n&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(t)>-1||n.forEach(r=>{this.detectors[r]&&this.detectors[r].cacheUserLanguage(t,this.options)}))}}nD.type="languageDetector";const eoe={loadPath:"/ml-with-bricks/locales/{{lng}}.json"};zn.use(JA).use(nD).use(ZR).init({debug:!0,load:"languageOnly",fallbackLng:"en",backend:eoe,supportedLngs:["en","de"],nonExplicitSupportedLngs:!0,detection:{caches:["localStorage"]}});fy.createRoot(document.getElementById("root")).render(O.jsx(pt.StrictMode,{children:O.jsx(Xz,{children:O.jsx(Ese,{})})}));export{w4 as c,el as g};
